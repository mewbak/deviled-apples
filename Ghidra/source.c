typedef unsigned char undefined;

typedef unsigned char byte;
typedef long long longlong;
typedef unsigned int uint;
typedef unsigned long long ulonglong;
typedef unsigned char undefined1;
typedef unsigned short undefined2;
typedef unsigned int undefined4;
typedef unsigned long long undefined8;
typedef unsigned short ushort;

typedef struct tWAVEFORMATEX tWAVEFORMATEX, *PtWAVEFORMATEX;

struct tWAVEFORMATEX {
};

typedef struct _SECURITY_ATTRIBUTES _SECURITY_ATTRIBUTES, *P_SECURITY_ATTRIBUTES;

struct _SECURITY_ATTRIBUTES {
};

typedef struct _DSBUFFERDESC _DSBUFFERDESC, *P_DSBUFFERDESC;

struct _DSBUFFERDESC {
};

typedef struct IDirectSoundBuffer IDirectSoundBuffer, *PIDirectSoundBuffer;

struct IDirectSoundBuffer {
};

typedef struct IUnknown IUnknown, *PIUnknown;

struct IUnknown {
};

typedef struct _DSCAPS _DSCAPS, *P_DSCAPS;

struct _DSCAPS {
};

typedef struct HWND__ HWND__, *PHWND__;

struct HWND__ {
};

void FUN_10000000(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined uVar1;
	undefined4 in_stack_ffffffc8;

	FUN_1000e1f4();
	FUN_1000ed04();
	FUN_1000ef34();
	FUN_10010668();
	FUN_100138ec();
	FUN_10014bfc();
	FUN_10015190();
	FUN_10015ac4();
	FUN_10015b5c();
	uVar1 = FUN_10015c7c();
	FUN_100174ac(uVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	FUN_10018368();
	FUN_1001947c();
	FUN_1001b4a8();
	FUN_1001be38();
	FUN_100219fc();
	FUN_100233ec();
	FUN_1002396c();
	FUN_100239dc();
	FUN_10027570();
	FUN_100277ac();
	FUN_10031468();
	FUN_10035de0();
	uVar1 = FUN_1003b270();
	FUN_1003b650(uVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	FUN_1003c2d4();
	uVar1 = FUN_1003cdbc();
	FUN_1004016c(uVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	FUN_10040730();
	FUN_10041000();
	FUN_100431bc();
	FUN_10043c48();
	FUN_10044000();
	FUN_10044920();
	FUN_1004552c();
	FUN_1004b144();
	FUN_1004b150();
	FUN_100542b0();
	FUN_1005b774();
	FUN_1005bbe8();
	FUN_1005c1dc();
	FUN_1005c1e8();
	FUN_10068894();
	FUN_100688a0();
	FUN_10078c70();
	FUN_1007f560();
	uVar1 = FUN_100814f4();
	FUN_10081bec(uVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	FUN_10081c38();
	FUN_1008d1c8();
	FUN_1008dcb4();
	FUN_1008e74c();
	FUN_1008f344();
	FUN_100916c0();
	FUN_1009accc();
	FUN_1009b250();
	FUN_1009b954();
	FUN_100a2e08();
	FUN_100a34b4();
	FUN_100a43e0();
	FUN_100a5040();
	FUN_100a59e0();
	FUN_100ad128();
	FUN_100adbec();
	FUN_100adbf8();
	FUN_100b04d4();
	FUN_100b066c();
	FUN_100b363c();
	FUN_100b5bbc();
	FUN_100b5d6c();
	FUN_100b7c38();
	FUN_100b8540();
	FUN_100b938c();
	FUN_100bb83c();
	uVar1 = FUN_100be698();
	uVar1 = FUN_100bf110(uVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	FUN_100bf764(uVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	FUN_100c876c();
	FUN_100c9f80();
	FUN_100cafe4();
	FUN_100cd854();
	FUN_100cf66c();
	FUN_100cffe4();
	return;
}

longlong FUN_100001dc(ulonglong param_1, ulonglong param_2, longlong param_3, ulonglong param_4,
    undefined8 param_5, ulonglong param_6)

{
	ulonglong uVar1;
	ulonglong uVar2;
	longlong lVar3;
	uint uVar5;
	ulonglong uVar4;
	uint uVar7;
	ulonglong uVar6;
	ulonglong uVar8;
	ulonglong uVar9;
	ulonglong uVar10;
	longlong lVar11;
	ulonglong uVar12;
	longlong lVar13;
	bool bVar14;
	bool bVar15;

	uVar5 = (uint)param_1;
	lVar3 = countLeadingZeros(uVar5);
	uVar7 = (uint)param_2;
	lVar11 = countLeadingZeros(uVar7);
	if (uVar5 == 0) {
		lVar3 = lVar11 + 0x20;
	}
	lVar11 = countLeadingZeros((int)param_3);
	lVar13 = countLeadingZeros((int)param_4);
	if ((int)param_3 == 0) {
		lVar11 = lVar13 + 0x20;
	}
	if ((int)lVar3 <= (int)lVar11) {
		lVar13 = 0x40 - (lVar11 + 1);
		lVar11 = lVar3 + lVar13;
		lVar13 = (0x40 - lVar3) - lVar13;
		if ((int)lVar13 < 0x20) {
			uVar8 = 0x20U - lVar13 & 0xffffffff00000000;
			uVar9 = param_6 & 0xffffffff00000000 | (ulonglong)(uVar7 >> lVar13) | uVar8 | (ulonglong)(uVar5 << 0x20U - lVar13);
			uVar8 = uVar8 | (ulonglong)(uVar5 >> lVar13);
		} else {
			uVar9 = param_6 & 0xffffffff00000000 | (ulonglong)(uVar5 >> lVar13 + -0x20);
			uVar8 = 0;
		}
		if ((int)lVar11 < 0x20) {
			uVar4 = param_1 & 0xffffffff00000000 | (ulonglong)(uVar5 << lVar11) | 0x20U - lVar11 & 0xffffffff00000000 | (ulonglong)(uVar7 >> 0x20U - lVar11);
			uVar6 = param_2 & 0xffffffff00000000 | (ulonglong)(uVar7 << lVar11);
		} else {
			uVar4 = param_1 & 0xffffffff00000000 | (ulonglong)(uVar7 << lVar11 + -0x20);
			uVar6 = 0;
		}
		bVar14 = false;
		do {
			bVar15 = CARRY8(uVar6, (ulonglong)bVar14);
			uVar1 = uVar6 + (ulonglong)bVar14;
			bVar14 = CARRY8(uVar6, uVar1);
			uVar6 = uVar6 + uVar1;
			uVar1 = (ulonglong)(bVar15 || bVar14);
			bVar15 = CARRY8(uVar4, uVar1);
			uVar1 = uVar4 + uVar1;
			bVar14 = CARRY8(uVar4, uVar1);
			uVar4 = uVar4 + uVar1;
			uVar1 = (ulonglong)(bVar15 || bVar14);
			uVar2 = uVar9 + uVar1;
			uVar10 = uVar9 + uVar2;
			uVar1 = uVar8 * 2 + (ulonglong)(CARRY8(uVar9, uVar1) || CARRY8(uVar9, uVar2));
			uVar2 = (ulonglong)(uVar10 < param_4) + param_3;
			uVar12 = uVar1 - uVar2;
			uVar8 = uVar1;
			uVar9 = uVar10;
			if (-1 < (longlong)uVar12) {
				uVar8 = uVar12;
				uVar9 = uVar10 - param_4;
			}
			bVar14 = -1 < (longlong)uVar12 || uVar2 <= uVar1;
			lVar13 = lVar13 + -1;
		} while (lVar13 != 0);
		return uVar4 * 2 + (ulonglong)(CARRY8(uVar6, (ulonglong)bVar14) || CARRY8(uVar6, uVar6 + (ulonglong)bVar14));
	}
	return 0;
}

ulonglong SetCursorPos(ulonglong uParm1, uint uParm2, longlong lParm3)

{
	ulonglong in_r10;

	return uParm1 & 0xffffffff00000000 | (ulonglong)(uint)((int)uParm1 << lParm3) | in_r10 & 0xffffffff00000000 | (ulonglong)(uParm2 >> 0x20 - lParm3) | in_r10 & 0xffffffff00000000 | (ulonglong)(uParm2 << lParm3 + -0x20);
}

void entry(undefined param_1, undefined param_2, undefined param_3, undefined param_4, undefined param_5, undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined8 uVar1;
	undefined uVar2;
	undefined4 in_stack_ffffffc8;

	FUN_100003dc();
	uVar2 = 0xf8;
	uVar1 = FUN_10016be0(0, 0xf8, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	FUN_10000520((char)uVar1, uVar2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	FUN_100d9148(0, uVar2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

undefined8
FUN_10002634(int param_1, undefined param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined8 uVar1;
	undefined4 in_stack_fffffd98;
	byte abStack564[512];
	undefined auStack52[20];
	ushort local_20;

	strcpy((int)abStack564, param_1);
	uVar1 = FUN_100028c0(abStack564, (int)auStack52, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_fffffd98);
	if ((int)uVar1 == 0) {
		uVar1 = 0;
	} else {
		if (local_20 == 1) {
			uVar1 = 0;
		} else {
			if (local_20 < 4) {
				uVar1 = 1;
			} else {
				if (local_20 < 6) {
					uVar1 = 2;
				} else {
					if (local_20 < 8) {
						uVar1 = 3;
					} else {
						if (local_20 < 10) {
							uVar1 = 4;
						} else {
							if (local_20 < 0xd) {
								uVar1 = 5;
							} else {
								if (local_20 < 0x11) {
									uVar1 = 6;
								} else {
									if (local_20 < 0x14) {
										uVar1 = 7;
									} else {
										if (local_20 < 0x19) {
											uVar1 = 8;
										} else {
											if (local_20 < 0x1e) {
												uVar1 = 9;
											} else {
												if (local_20 < 0x23) {
													uVar1 = 10;
												} else {
													if (local_20 < 0x28) {
														uVar1 = 0xb;
													} else {
														if (local_20 < 0x30) {
															uVar1 = 0xc;
														} else {
															uVar1 = 0xd;
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	return uVar1;
}

undefined8
FUN_10002750(char *param_1, int param_2, char **param_3, char **param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined8 uVar1;
	undefined uVar3;
	char *pcVar2;
	undefined4 in_stack_ffffffb8;

	if (*param_1 == '\0') {
		uVar1 = 0;
	} else {
		uVar3 = atoi((int)param_1, (char)param_2, (char)param_3, (char)param_4, param_5, param_6,
		    param_7, param_8, in_stack_ffffffb8);
		*(undefined *)(param_2 + 4) = uVar3;
		if (*(byte *)(param_2 + 4) < 3) {
			pcVar2 = strchr((int)param_1, '\r');
			if (pcVar2 == (char *)0x0) {
				uVar1 = 1;
			} else {
				*pcVar2 = '\0';
				if (param_3 != (char **)0x0) {
					*param_3 = pcVar2 + 1;
				}
				pcVar2 = strchr((int)(pcVar2 + 1), '\r');
				if (pcVar2 == (char *)0x0) {
					uVar1 = 1;
				} else {
					*pcVar2 = '\0';
					if (param_4 != (char **)0x0) {
						*param_4 = pcVar2 + 1;
					}
					uVar1 = 1;
				}
			}
		} else {
			uVar1 = 0;
		}
	}
	return uVar1;
}

undefined8
FUN_100028c0(byte *param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined8 uVar1;
	int iVar2;
	ulonglong uVar3;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;
	int local_6c;
	undefined4 in_stack_ffffff9c;
	undefined4 in_stack_ffffffa0;
	undefined4 in_stack_ffffffa4;
	undefined4 in_stack_ffffffa8;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;
	int local_38;
	undefined4 local_34;
	int local_30;
	int local_2c;
	int local_28;
	int local_24;
	uint local_20;
	uint local_1c;
	uint local_18[6];

	uVar3 = (ulonglong)param_1[3] << 0x18 | (ulonglong)param_1[2] << 0x10 | (ulonglong)param_1[1] << 8
	    | (ulonglong)*param_1;
	memset((char)param_2, 0x2c, param_3, param_4, param_5, param_6, param_7, param_8,
	    (char)in_stack_ffffff88, in_stack_ffffff8f, local_6c);
	if ((*param_1 == 0) || ((((uVar3 - 0x44520000 & 0xffffffff) != 0x544c && ((uVar3 - 0x44530000 & 0xffffffff) != 0x4852)) && ((uVar3 - 0x44540000 & 0xffffffff) != 0x5354)))) {
		uVar1 = 0;
	} else {
		iVar2 = FUN_100d7c60((char *)(param_1 + 4), *(uint *)(local_6c + -0x6d94), local_18, &local_1c,
		    &local_20, &local_24, &local_28, &local_2c, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff9c, in_stack_ffffffa0, in_stack_ffffffa4, in_stack_ffffffa8,
		    in_stack_ffffffac, in_stack_ffffffb0, in_stack_ffffffb4);
		if (iVar2 == 9) {
			if (((uVar3 - 0x44520000 & 0xffffffff) == 0x544c) && (local_38 != 0)) {
				uVar1 = 0;
			} else {
				if (((uVar3 - 0x44530000 & 0xffffffff) == 0x4852) && (local_38 == 0)) {
					uVar1 = 0;
				} else {
					if (local_18[0] == 0) {
						uVar1 = 0;
					} else {
						if (local_18[0] < 100) {
							if (local_1c < 3) {
								if (local_20 < 4) {
									if (((local_24 < 0) || (local_28 < 0)) || ((local_2c < 0 || (local_30 < 0)))) {
										uVar1 = 0;
									} else {
										*(undefined2 *)(param_2 + 0x14) = (short)local_18[0];
										uVar1 = 1;
										*(undefined *)(param_2 + 0x16) = (char)local_1c;
										*(undefined *)(param_2 + 0x17) = (char)local_20;
										*(ushort *)(param_2 + 0x18) = (ushort)local_24 & 0xff;
										*(ushort *)(param_2 + 0x1a) = (ushort)local_28 & 0xff;
										*(ushort *)(param_2 + 0x1c) = (ushort)local_2c & 0xff;
										*(ushort *)(param_2 + 0x1e) = (ushort)local_30 & 0xff;
										*(undefined4 *)(param_2 + 0x20) = local_34;
										*(int *)(param_2 + 0x28) = local_38;
									}
								} else {
									uVar1 = 0;
								}
							} else {
								uVar1 = 0;
							}
						} else {
							uVar1 = 0;
						}
					}
				}
			}
		} else {
			uVar1 = 0;
		}
	}
	return uVar1;
}

void FUN_10002bac(int param_1, undefined8 param_2, int param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined **ppuVar1;
	undefined uVar2;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined **local_2c;

	ppuVar1 = &toc;
	uVar2 = param_4;
	if (param_1 != 0) {
		uVar2 = param_4;
		ppuVar1 = local_2c;
		SStrCopy((char)param_1, (char)_DAT_100f2234, (undefined)param_2, param_4, param_5, param_6,
		    param_7, param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
		local_2c = ppuVar1;
	}
	if (param_3 != 0) {
		SStrCopy((char)param_3, (char)ppuVar1[-0x1b62], param_4, uVar2, param_5, param_6, param_7,
		    param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	}
	return;
}

void FUN_10003dec(undefined4 param_1)

{
	_DAT_100f3cdc = param_1;
	return;
}

void FUN_10005a08(undefined4 param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	int iVar2;
	undefined4 uVar3;
	undefined4 uVar4;
	undefined4 uVar5;
	int iVar6;
	char cVar7;
	undefined **ppuVar8;
	ulonglong uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined uVar14;
	undefined uVar15;

	uVar9 = ZEXT48(register0x0000000c);
	ppuVar8 = &toc;
	iVar6 = (int)(uVar9 - 0x120);
	*(BADSPACEBASE **)iVar6 = register0x0000000c;
	uVar11 = 0;
	FUN_10002bac(iVar6 + 0x38, 0x80, 0, 0, param_5, param_6, param_7, param_8, *(undefined4 *)(iVar6 + 8));
	cVar7 = (char)(uVar9 - 0x120);
	uVar10 = 0x50;
	memcpy(cVar7 + -0x38, (char)ppuVar8[-0x14a9], 0x50, uVar11, param_5, param_6, param_7, param_8,
	    *(undefined *)(iVar6 + 0xb), *(undefined *)(iVar6 + 0xf), *(undefined4 *)(iVar6 + 0x14));
	*(undefined4 *)(iVar6 + 200) = 0x50;
	*(undefined4 *)(iVar6 + 0xd0) = param_1;
	memset(cVar7 + -0x48, 0x10, uVar10, uVar11, param_5, param_6, param_7, param_8,
	    *(undefined *)(iVar6 + 0xb), *(undefined *)(iVar6 + 0xf), *(undefined4 *)(iVar6 + 0x14));
	iVar1 = *(int *)(iVar6 + 0x14);
	iVar2 = *(int *)(iVar1 + -0x529c);
	*(undefined4 *)(iVar6 + 0xb8) = 0x10;
	uVar3 = *(undefined4 *)(iVar1 + -0x52a0);
	uVar10 = (undefined)uVar3;
	*(undefined4 *)(iVar6 + 0xbc) = 0x5343424c;
	uVar4 = *(undefined4 *)(iVar1 + -0x52a8);
	uVar12 = (undefined)uVar4;
	uVar5 = *(undefined4 *)(iVar1 + -0x52ac);
	uVar13 = (undefined)uVar5;
	uVar15 = (undefined)(uVar9 - 0xe8);
	*(undefined4 *)(iVar6 + 0xc0) = *(undefined4 *)(iVar2 + 0x18);
	uVar11 = (undefined)(uVar9 - 0x58);
	uVar14 = 0;
	*(undefined4 *)(iVar6 + 0xc4) = 0;
	uVar9 = FUN_10004614(iVar6 + 0xb8, iVar2, uVar3, uVar9 - 0x58, uVar4, uVar5, 0, (int)(uVar9 - 0xe8),
	    *(undefined4 *)(iVar6 + 8), *(undefined *)(iVar6 + 0xf),
	    *(undefined4 *)(iVar6 + 0x28));
	if ((int)uVar9 != 0) {
		FUN_100059a0(param_1, 1, uVar10, uVar11, uVar12, uVar13, uVar14, uVar15, *(undefined4 *)(iVar6 + 8));
	}
	return;
}

ulonglong FUN_10007b20(void)

{
	uint uVar1;

	uVar1 = 0;
	if ((_DAT_100f3d60 != 0) && (_DAT_100f3d64 < 6)) {
		uVar1 = 1;
	}
	return (ulonglong)uVar1;
}

void FUN_10007b48(undefined4 param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11)

{
	undefined **ppuVar1;
	ulonglong uVar2;

	ppuVar1 = &toc;
	uVar2 = FUN_10007b20();
	if ((int)uVar2 != 0) {
		ppuVar1[-0x149c] = (undefined *)0x0;
	}
	return;
}

void FUN_10007bf0(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	int local_2c;

	if (_DAT_100f3d60 == 0) {
		FUN_100da3e4(param_1, 0x10, 0x32, (char)_DAT_100f2484, param_5, param_6, param_7, param_8,
		    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
		*(undefined4 *)(local_2c + -0x5270) = 1;
	}
	return;
}

void FUN_10007c40(undefined *param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	if ((_DAT_100f3d70 != 0) && (param_1 != _DAT_100f3d74)) {
		if (_DAT_100f3d78 != 0) {
			ppuVar1 = &toc;
			FUN_10015b14((char)param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffc8);
		}
		ppuVar1[-0x1497] = param_1;
	}
	return;
}

ulonglong FUN_10007c94(void)

{
	if (_DAT_100f3d70 == 0) {
		return 0;
	}
	return (ulonglong)*_DAT_100f2498;
}

void FUN_10007cb4(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	int iVar2;
	char cVar3;
	int *piVar4;

	piVar4 = _DAT_100f2498;
	iVar2 = (int)(ZEXT48(register0x0000000c) - 0x50);
	*(BADSPACEBASE **)iVar2 = register0x0000000c;
	cVar3 = (char)(ZEXT48(register0x0000000c) - 0x50);
	GetClientRect(param_1, cVar3 + '8', param_3, param_4, param_5, param_6, param_7, param_8,
	    *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf),
	    *(undefined4 *)(iVar2 + 0x14));
	*(int *)(iVar2 + 0x44) = *(int *)(iVar2 + 0x44) + -1;
	*(int *)(iVar2 + 0x40) = *(int *)(iVar2 + 0x40) + -1;
	iVar1 = *piVar4;
	*(int *)(iVar2 + 0x38) = *(int *)(iVar2 + 0x40) - iVar1;
	InvalidateRect(param_1, cVar3 + '8', 0, (char)iVar1, param_5, param_6, param_7, param_8,
	    *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf),
	    *(undefined4 *)(iVar2 + 0x14));
	*(undefined4 *)(iVar2 + 0x38) = 0;
	iVar1 = *piVar4;
	*(int *)(iVar2 + 0x40) = iVar1 + -1;
	InvalidateRect(param_1, cVar3 + '8', 0, (char)iVar1, param_5, param_6, param_7, param_8,
	    *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf),
	    *(undefined4 *)(iVar2 + 0x14));
	return;
}

void FUN_10008128(void)

{
	_DAT_100f3d74 = 0;
	_DAT_100f3d78 = 0;
	return;
}

void FUN_10008254(undefined8 param_1, undefined8 param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 in_stack_ffffffc8;
	undefined uVar2;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	uVar2 = (undefined)in_stack_ffffffc8;
	ppuVar1 = &toc;
	FUN_10008138(param_2, (char)param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	FUN_100da3e4((undefined)param_1, 1, 0x37, (char)ppuVar1[-0x1ad1], param_5, param_6, param_7, param_8,
	    uVar2, in_stack_ffffffcf, local_2c);
	return;
}

longlong FUN_100082d4(int param_1)

{
	return ZEXT48(PTR_DAT_100f24c4) + (ulonglong)(uint)(param_1 << 2);
}

void FUN_100082e4(undefined *param_1)

{
	longlong lVar1;

	lVar1 = 0x10;
	do {
		*param_1 = 0;
		param_1[1] = 0;
		param_1[2] = 0;
		param_1[4] = 0;
		param_1[5] = 0;
		param_1[6] = 0;
		param_1[8] = 0;
		param_1[9] = 0;
		param_1[10] = 0;
		param_1[0xc] = 0;
		param_1[0xd] = 0;
		param_1[0xe] = 0;
		param_1[0x10] = 0;
		param_1[0x11] = 0;
		param_1[0x12] = 0;
		param_1[0x14] = 0;
		param_1[0x15] = 0;
		param_1[0x16] = 0;
		param_1[0x18] = 0;
		param_1[0x19] = 0;
		param_1[0x1a] = 0;
		param_1[0x1c] = 0;
		param_1[0x1d] = 0;
		param_1[0x1e] = 0;
		param_1[0x20] = 0;
		param_1[0x21] = 0;
		param_1[0x22] = 0;
		param_1[0x24] = 0;
		param_1[0x25] = 0;
		param_1[0x26] = 0;
		param_1[0x28] = 0;
		param_1[0x29] = 0;
		param_1[0x2a] = 0;
		param_1[0x2c] = 0;
		param_1[0x2d] = 0;
		param_1[0x2e] = 0;
		param_1[0x30] = 0;
		param_1[0x31] = 0;
		param_1[0x32] = 0;
		param_1[0x34] = 0;
		param_1[0x35] = 0;
		param_1[0x36] = 0;
		param_1[0x38] = 0;
		param_1[0x39] = 0;
		param_1[0x3a] = 0;
		param_1[0x3c] = 0;
		param_1[0x3d] = 0;
		param_1[0x3e] = 0;
		param_1 = param_1 + 0x40;
		lVar1 = lVar1 + -1;
	} while (lVar1 != 0);
	return;
}

void FUN_10008520(undefined8 param_1, undefined4 *param_2, undefined4 *param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	FUN_100083e4(param_1, param_2, param_3, 0, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_10008544(undefined8 param_1, undefined4 *param_2, undefined4 *param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	FUN_100083e4(param_1, param_2, param_3, 1, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_10008750(int *param_1, int param_2, int param_3)

{
	param_1[2] = param_1[2] - *param_1;
	param_1[2] = param_2 + param_1[2] + -1;
	*param_1 = param_2;
	param_1[3] = param_1[3] - param_1[1];
	param_1[3] = param_3 + param_1[3] + -1;
	param_1[1] = param_3;
	return;
}

void FUN_10008a5c(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	SetTextColor(param_1, 0xff, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffcb,
	    in_stack_ffffffcf, local_2c);
	return;
}

void FUN_1000908c(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	puVar1 = (undefined4 *)
	    SMemAlloc(0x10, (char)_DAT_100f24c0, 0xe, 0, param_5, param_6, param_7, param_8,
	        in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	if (puVar1 != (undefined4 *)0x0) {
		*puVar1 = 0;
		puVar1[1] = 0;
		puVar1[2] = 0;
		puVar1[3] = 0;
		*(undefined *)(puVar1 + 4) = 0;
	}
	return;
}

void FUN_100090e0(int *param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined uVar1;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	if (param_1 != (int *)0x0) {
		uVar1 = (undefined)_DAT_100f24c0;
		if (*param_1 != 0) {
			SMemFree((char)*param_1, uVar1, 0x20, 0, param_5, param_6, param_7, param_8, in_stack_ffffffcb,
			    in_stack_ffffffcf, local_2c);
		}
		SMemFree((char)param_1, uVar1, 0x21, 0, param_5, param_6, param_7, param_8, in_stack_ffffffcb,
		    in_stack_ffffffcf, local_2c);
	}
	return;
}

void FUN_10009150(int param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	if (param_1 != 0) {
		if (param_2 == 0) {
			*(undefined *)(param_1 + 0x10) = 0;
		} else {
			strncpy(param_1 + 0x10, param_2, 0xff);
			*(undefined *)(param_1 + 0x10f) = 0;
		}
	}
	return;
}

void FUN_100091a4(void)

{
	char cVar1;
	int *piVar2;
	char *pcVar3;
	undefined *puVar4;
	int iVar5;

	piVar2 = _DAT_100f24a4;
	if (_DAT_100f3d88 == (undefined *)0x0) {
		return;
	}
	if (_DAT_100f3d8c == (char *)0x0) {
		return;
	}
	iVar5 = 0;
	pcVar3 = _DAT_100f3d8c;
	puVar4 = _DAT_100f3d88;
	while (iVar5 < *piVar2 * piVar2[1]) {
		cVar1 = *pcVar3;
		pcVar3 = pcVar3 + 1;
		if (cVar1 == '\0') {
			*puVar4 = 0xff;
		} else {
			*puVar4 = 0;
		}
		puVar4 = puVar4 + 1;
		iVar5 = iVar5 + 1;
	}
	return;
}

void FUN_100094cc(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	FUN_100da3e4(param_1, 3, (char)_DAT_100f3d98 * -0x18, 0, param_5, param_6, param_7, param_8,
	    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	return;
}

ulonglong FUN_10009ab8(void)

{
	return (ulonglong)_DAT_100f3dcc;
}

longlong FUN_10009c4c(void)

{
	return ZEXT48(PTR_DAT_100f251c) + 4;
}

ulonglong FUN_1000a0a4(void)

{
	return (ulonglong)_DAT_100f3dac;
}

ulonglong FUN_1000a0ac(void)

{
	return (ulonglong)_DAT_100f3dc4;
}

undefined8
FUN_1000a0b4(byte *param_1, undefined param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	byte bVar1;
	undefined8 uVar2;
	undefined4 in_stack_ffffffc8;

	while ((bVar1 = *param_1, bVar1 != 0 && ((bVar1 < 0x30 || (0x39 < bVar1))))) {
		param_1 = param_1 + 1;
	}
	if (bVar1 == 0) {
		uVar2 = 0;
	} else {
		uVar2 = atoi((int)param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	}
	return uVar2;
}

void FUN_1000b94c(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined param_9, undefined param_10, undefined4 param_11, undefined4 param_12)

{
	_DAT_100f3df4 = 1;
	_DAT_100f3df8 = 2;
	return;
}

void FUN_1000b9e4(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined4 in_stack_ffffffc8;

	iVar1 = FUN_100dbf44(param_1, param_2);
	if (iVar1 < 100) {
		FUN_1000b4e8(param_1, (char)iVar1, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	} else {
		FUN_1000b968(param_1, (char)iVar1, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	}
	return;
}

void FUN_1000c868(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	SMemAlloc(0x10, (char)_DAT_100f261c, 0x80, 0, param_5, param_6, param_7, param_8, in_stack_ffffffcb,
	    in_stack_ffffffcf, local_2c);
	return;
}

void FUN_1000c89c(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	if (param_1 != 0) {
		SMemFree((char)param_1, (char)_DAT_100f261c, 0x86, 0, param_5, param_6, param_7, param_8,
		    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	}
	return;
}

void FUN_1000c8d4(undefined4 *param_1, char param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined4 *puVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	undefined4 in_stack_ffffffc8;

	lVar8 = (longlong)param_8;
	lVar7 = (longlong)param_7;
	lVar6 = (longlong)param_6;
	lVar5 = (longlong)param_5;
	lVar4 = (longlong)param_4;
	lVar3 = (longlong)param_3;
	lVar2 = (longlong)param_2;
	while (param_1 != (undefined4 *)0x0) {
		puVar1 = (undefined4 *)*param_1;
		FUN_1000c89c((int)param_1, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6,
		    (char)lVar7, (char)lVar8, in_stack_ffffffc8);
		param_1 = puVar1;
	}
	return;
}

undefined4 *FUN_1000c910(undefined4 param_1, undefined4 *param_2)

{
	*param_2 = param_1;
	return param_2;
}

void FUN_1000cde0(undefined8 param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	longlong lVar2;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	lVar2 = FUN_1000cd48((char)param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	FUN_1000bee8(param_1, 0x451, ppuVar1[-0x145f], (int)lVar2, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

undefined4 *FUN_1000d038(int param_1)

{
	undefined4 *puVar1;

	puVar1 = _DAT_100f3e58;
	while ((puVar1 != (undefined4 *)0x0 && (param_1 != 0))) {
		puVar1 = (undefined4 *)*puVar1;
		param_1 = param_1 + -1;
	}
	return puVar1;
}

void FUN_1000d938(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined uVar1;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	uVar1 = FUN_10007900(10, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	FUN_100093c8(uVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	uVar1 = 0;
	ShowWindow(param_1, 0, param_3, param_4, param_5, param_6, param_7, param_8, (char)in_stack_ffffffc8,
	    in_stack_ffffffcf, local_2c);
	FUN_100156dc(param_1, uVar1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	FUN_1000829c(param_1, uVar1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_1000d98c(undefined8 param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined uVar2;
	undefined uVar3;
	undefined uVar4;
	undefined uVar5;
	undefined4 in_stack_ffffffc8;
	undefined uVar6;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	ppuVar1 = &toc;
	FUN_10008254(param_1, (ulonglong)_DAT_100f25e8, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	uVar3 = SUB41(ppuVar1[-0x1a7b], 0);
	uVar2 = FUN_10015678((int)param_1, ZEXT48(ppuVar1[-0x1a7b]), param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	FUN_10009384(uVar2, uVar3, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	uVar6 = (undefined)in_stack_ffffffc8;
	FUN_10007b7c(param_1, 0, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	uVar4 = 0;
	uVar5 = 0;
	uVar2 = (undefined)param_1;
	PostMessage(uVar2, 0xe8, 0, 0, param_5, param_6, param_7, param_8, uVar6, in_stack_ffffffcf, local_2c);
	uVar3 = 5;
	ShowWindow(uVar2, 5, uVar4, uVar5, param_5, param_6, param_7, param_8, uVar6, in_stack_ffffffcf, local_2c);
	UpdateWindow(uVar2, uVar3, uVar4, uVar5, param_5, param_6, param_7, param_8, uVar6, in_stack_ffffffcf,
	    local_2c);
	return;
}

void FUN_1000dc58(undefined8 param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	longlong lVar1;
	ulonglong uVar2;
	int iVar3;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	int local_2c;

	lVar1 = FUN_1000da0c(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	if ((int)lVar1 == 0) {
		lVar1 = SErrGetLastError((char)lVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
		if ((lVar1 + 0x7af00000U & 0xffffffff) == 0x77) {
			*(undefined4 *)(local_2c + -0x5194) = 1;
			FUN_1000d8d8((int)param_1, 0, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
		} else {
			uVar2 = FUN_1000ed28();
			iVar3 = (int)uVar2;
			if (iVar3 == 0x4d4f444d) {
				uVar2 = SErrGetLastError((char)uVar2, 0, param_3, param_4, param_5, param_6, param_7, param_8,
				    (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
				if ((uVar2 & 0xffffffff) == 0x4c6) {
					FUN_1000dbe4(param_1, 0x2e, param_3, param_4, param_5, param_6, param_7, param_8,
					    in_stack_ffffffc8);
				} else {
					FUN_1000dbe4(param_1, 0x35, param_3, param_4, param_5, param_6, param_7, param_8,
					    in_stack_ffffffc8);
				}
			} else {
				if (iVar3 < 0x4d4f444d) {
					if (iVar3 != 0x4950584e) {
						if (0x4950584d < iVar3) {
							return;
						}
						if (iVar3 != 0x41544c4b) {
							return;
						}
					}
				} else {
					if (iVar3 != 0x5343424c) {
						return;
					}
				}
				FUN_1000dbe4(param_1, 0x2c, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
			}
		}
	} else {
		FUN_1000d8d8((int)param_1, 1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return;
}

void FUN_1000e1f4(void)

{
	_DAT_100f3e5c = _DAT_100f3e30;
	return;
}

void FUN_1000ed04(void)

{
	_DAT_100f3e68 = _DAT_100f3e60;
	return;
}

void FUN_1000ed10(undefined4 param_1)

{
	_DAT_100f3e70 = param_1;
	return;
}

ulonglong FUN_1000ed18(void)

{
	return (ulonglong)_DAT_100f3e70;
}

void FUN_1000ed20(undefined4 param_1)

{
	_DAT_100f3e74 = param_1;
	return;
}

ulonglong FUN_1000ed28(void)

{
	return (ulonglong)_DAT_100f3e74;
}

void FUN_1000ef34(void)

{
	_DAT_100f3e78 = _DAT_100f3e6c;
	return;
}

void FUN_1000ef50(undefined4 param_1)

{
	_DAT_100f3e80 = param_1;
	return;
}

ulonglong FUN_1000ef58(void)

{
	return ZEXT48(PTR_DAT_100f26a4);
}

void FUN_1000efcc(undefined4 *param_1, char param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined4 *puVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	undefined4 in_stack_ffffffc8;

	lVar8 = (longlong)param_8;
	lVar7 = (longlong)param_7;
	lVar6 = (longlong)param_6;
	lVar5 = (longlong)param_5;
	lVar4 = (longlong)param_4;
	lVar3 = (longlong)param_3;
	lVar2 = (longlong)param_2;
	while (param_1 != (undefined4 *)0x0) {
		puVar1 = (undefined4 *)*param_1;
		FUN_1000ef94((int)param_1, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6,
		    (char)lVar7, (char)lVar8, in_stack_ffffffc8);
		param_1 = puVar1;
	}
	return;
}

undefined4 *FUN_1000f008(undefined4 param_1, undefined4 *param_2)

{
	*param_2 = param_1;
	return param_2;
}

undefined4 *
FUN_1000f014(undefined4 *param_1, byte *param_2, char param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	undefined4 *puVar1;
	undefined4 *puVar2;
	ulonglong uVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	undefined4 *puVar11;
	undefined4 *puVar12;
	undefined4 *puVar13;
	undefined4 in_stack_ffffffb8;

	lVar10 = (longlong)param_8;
	lVar9 = (longlong)param_7;
	lVar8 = (longlong)param_6;
	lVar7 = (longlong)param_5;
	lVar6 = (longlong)param_4;
	lVar5 = (longlong)param_3;
	lVar4 = (longlong)(int)param_2;
	puVar1 = param_1;
	puVar2 = (undefined4 *)0x0;
	puVar12 = (undefined4 *)0;
	while ((puVar11 = puVar2, puVar13 = puVar1, puVar13 != (undefined4 *)0x0 && (puVar11 == (undefined4 *)0x0))) {
		lVar4 = (longlong)(int)param_2;
		uVar3 = strcmp((byte *)(puVar13 + 1), param_2);
		puVar1 = puVar13;
		puVar2 = puVar13;
		if ((int)uVar3 != 0) {
			puVar1 = (undefined4 *)*puVar13;
			puVar2 = puVar11;
			puVar12 = puVar13;
		}
	}
	if (puVar11 != (undefined4 *)0x0) {
		if (puVar12 == (undefined4 *)0x0) {
			param_1 = (undefined4 *)*puVar11;
		} else {
			*puVar12 = *puVar11;
		}
		FUN_1000ef94((int)puVar11, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8,
		    (char)lVar9, (char)lVar10, in_stack_ffffffb8);
	}
	return param_1;
}

undefined4 *
FUN_1000f0b0(undefined4 *param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	ulonglong uVar8;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	lVar7 = (longlong)param_8;
	lVar6 = (longlong)param_7;
	lVar5 = (longlong)param_6;
	lVar4 = (longlong)param_5;
	lVar3 = (longlong)param_4;
	lVar2 = (longlong)param_3;
	uVar8 = SEXT48((int)param_1);
	while (((uVar8 & 0xffffffff) != 0 && (iVar1 = _stricmp((char)uVar8 + '\x04', param_2, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7, in_stack_ffffffcb, in_stack_ffffffcf, local_2c), iVar1 != 0))) {
		uVar8 = (ulonglong) * (uint *)uVar8;
	}
	return (uint *)uVar8;
}

ulonglong FUN_1000f340(void)

{
	return (ulonglong)_DAT_100f3eb4;
}

void FUN_1000f6a8(char *param_1)

{
	while (true) {
		if (*param_1 == '\0')
			break;
		*param_1 = *param_1 + -1;
		param_1 = param_1 + 1;
	}
	return;
}

undefined8
FUN_1000f75c(byte *param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	byte bVar1;
	byte *pbVar3;
	undefined8 uVar2;

	pbVar3 = FUN_100d7da8((int)param_1, _DAT_100f267c);
	if (pbVar3 == (byte *)0x0) {
		pbVar3 = FUN_100d7da8((int)param_1, param_2);
		if (pbVar3 == (byte *)0x0) {
			while (bVar1 = *param_1, bVar1 != 0) {
				if (bVar1 < 0x20) {
					return 1;
				}
				if ((0x7e < bVar1) && (bVar1 < 0xc0)) {
					return 1;
				}
				param_1 = param_1 + 1;
			}
			uVar2 = 0;
		} else {
			uVar2 = 1;
		}
	} else {
		uVar2 = 1;
	}
	return uVar2;
}

ulonglong FUN_10010454(byte *param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	int iVar3;
	undefined8 uVar2;
	ulonglong uVar4;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	iVar3 = strlen((uint)param_1);
	uVar4 = (ulonglong)(iVar3 != 0);
	if ((ppuVar1[-0x1447] == (undefined *)0x1) && ((uVar2 = FUN_1000f6b8((int)param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8), (int)uVar2 != 0 || (uVar2 = FUN_1000f75c(param_1, (int)ppuVar1[-0x1a61], param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8), (int)uVar2 != 0)))) {
		uVar4 = 0;
	}
	return uVar4;
}

void FUN_10010668(void)

{
	_DAT_100f3ebc = _DAT_100f3e7c;
	return;
}

void FUN_100106e0(undefined4 *param_1, char param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined4 *puVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	undefined4 in_stack_ffffffc8;

	lVar8 = (longlong)param_8;
	lVar7 = (longlong)param_7;
	lVar6 = (longlong)param_6;
	lVar5 = (longlong)param_5;
	lVar4 = (longlong)param_4;
	lVar3 = (longlong)param_3;
	lVar2 = (longlong)param_2;
	while (param_1 != (undefined4 *)0x0) {
		puVar1 = (undefined4 *)*param_1;
		FUN_100106a8((int)param_1, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6,
		    (char)lVar7, (char)lVar8, in_stack_ffffffc8);
		param_1 = puVar1;
	}
	return;
}

undefined4 *FUN_1001071c(undefined4 *param_1, undefined4 *param_2)

{
	undefined4 *puVar1;
	undefined4 *puVar2;

	puVar2 = (undefined4 *)0x0;
	puVar1 = param_1;
	while (puVar1 != (undefined4 *)0x0) {
		puVar2 = puVar1;
		puVar1 = (undefined4 *)*puVar1;
	}
	*param_2 = 0;
	if (puVar2 != (undefined4 *)0x0) {
		*(undefined4 **)puVar2 = param_2;
		return param_1;
	}
	return param_2;
}

void FUN_10010768(undefined4 *param_1, int param_2)

{
	while (true) {
		if (param_1 == (undefined4 *)0x0) {
			return;
		}
		if (param_1[1] == param_2)
			break;
		param_1 = (undefined4 *)*param_1;
	}
	return;
}

undefined4 *
FUN_10010774(undefined4 *param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	ulonglong uVar8;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	lVar7 = (longlong)param_8;
	lVar6 = (longlong)param_7;
	lVar5 = (longlong)param_6;
	lVar4 = (longlong)param_5;
	lVar3 = (longlong)param_4;
	lVar2 = (longlong)param_3;
	uVar8 = SEXT48((int)param_1);
	while (((uVar8 & 0xffffffff) != 0 && (iVar1 = _stricmp((char)uVar8 + '\f', param_2, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7, in_stack_ffffffcb, in_stack_ffffffcf, local_2c), iVar1 != 0))) {
		uVar8 = (ulonglong) * (uint *)uVar8;
	}
	return (uint *)uVar8;
}

void FUN_100107d4(undefined4 *param_1)

{
	while (param_1 != (undefined4 *)0x0) {
		param_1[2] = 0;
		param_1 = (undefined4 *)*param_1;
	}
	return;
}

undefined4 *
FUN_100107f0(undefined4 *param_1, char param_2, char param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	undefined4 *puVar2;
	ulonglong uVar3;
	undefined4 *puVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	undefined4 *puVar12;
	undefined4 in_stack_ffffffc8;

	lVar11 = (longlong)param_8;
	lVar10 = (longlong)param_7;
	lVar9 = (longlong)param_6;
	lVar8 = (longlong)param_5;
	lVar7 = (longlong)param_4;
	lVar6 = (longlong)param_3;
	lVar5 = (longlong)param_2;
	uVar3 = ZEXT48(&toc);
	puVar2 = param_1;
	puVar12 = (undefined4 *)0x0;
	while (puVar4 = puVar2, puVar4 != (undefined4 *)0x0) {
		if ((puVar4[2] == 0) && (puVar4[1] != 0)) {
			if (puVar12 == (undefined4 *)0x0) {
				param_1 = (undefined4 *)*puVar4;
			} else {
				*puVar12 = *puVar4;
			}
			FUN_100106a8((int)puVar4, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9,
			    (char)lVar10, (char)lVar11, in_stack_ffffffc8);
			iVar1 = (int)uVar3;
			*(undefined4 *)(iVar1 + -0x50f8) = 1;
			*(int *)(iVar1 + -0x50f4) = *(int *)(iVar1 + -0x50f4) + -1;
			if (puVar12 == (undefined4 *)0x0) {
				puVar2 = (undefined4 *)*param_1;
			} else {
				puVar2 = (undefined4 *)*puVar12;
			}
		} else {
			puVar2 = (undefined4 *)*puVar4;
			puVar12 = puVar4;
		}
	}
	return param_1;
}


void FUN_10010d1c(undefined8 param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	longlong lVar2;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	lVar2 = FUN_10010c84((char)param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	FUN_1000bee8(param_1, 0x451, ppuVar1[-0x143d], (int)lVar2, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

undefined4 *FUN_10011108(int param_1)

{
	undefined4 *puVar1;

	puVar1 = _DAT_100f3ee0;
	while ((puVar1 != (undefined4 *)0x0 && (param_1 != 0))) {
		puVar1 = (undefined4 *)*puVar1;
		param_1 = param_1 + -1;
	}
	return puVar1;
}

void FUN_10011bac(undefined8 uParm1)

{
	undefined *puVar1;
	char cVar2;
	undefined *puVar3;
	ulonglong uVar4;
	undefined4 *puVar5;
	undefined uVar7;
	longlong lVar6;
	undefined uVar8;
	undefined4 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	longlong lVar9;

	puVar3 = PTR_s__s__d_100f26b0;
	uVar8 = 0;
	lVar9 = ZEXT48(register0x0000000c) - 0x150;
	puVar1 = (undefined *)lVar9;
	*(BADSPACEBASE **)puVar1 = register0x0000000c;
	FUN_10002bac((int)(puVar1 + 0xb8), 0x80, 0, 0, (char)in_r7, (char)in_r8, (char)in_r9, (char)in_r10,
	    *(undefined4 *)(puVar1 + 8));
	cVar2 = (char)lVar9;
	uVar7 = 0x80;
	ConvertText_WindowsToMac(cVar2 + -0x48, cVar2 + '8', 0x80, uVar8, (char)in_r7, (char)in_r8, (char)in_r9, (char)in_r10,
	    puVar1[0xb], puVar1[0xf], *(undefined4 *)(puVar1 + 0x14));
	uVar4 = (ulonglong) * (uint *)(puVar1 + 0x14);
	strcpy(puVar1 + 0xb8, puVar1 + 0x38, *puVar1);
	puVar5 = FUN_10010774(*(undefined4 **)((int)uVar4 + -0x50f0), cVar2 + -0x48, uVar7, uVar8, (char)in_r7, (char)in_r8, (char)in_r9, (char)in_r10, *(undefined4 *)(puVar1 + 8));
	if (puVar5 == (undefined4 *)0x0) {
		strcpy((int)uParm1, puVar1 + 0xb8, *puVar1);
	} else {
		lVar9 = 2;
		do {
			uVar8 = (undefined)lVar9;
			lVar6 = ZEXT48(register0x0000000c) - 0x98;
			uVar7 = (undefined)lVar6;
			sprintf((int)uParm1, puVar3, (int)lVar6, (int)lVar9, in_r7, in_r8, in_r9, in_r10,
			    *(undefined4 *)(puVar1 + 8), puVar1[0xf], *(undefined4 *)(puVar1 + 0x1c),
			    *(undefined4 *)(puVar1 + 0x20), *(undefined4 *)(puVar1 + 0x24),
			    *(undefined4 *)(puVar1 + 0x28), *(undefined4 *)(puVar1 + 0x2c),
			    *(undefined4 *)(puVar1 + 0x30), *(undefined4 *)(puVar1 + 0x34));
			puVar5 = FUN_10010774(*(undefined4 **)((int)uVar4 + -0x50f0), (char)uParm1, uVar7, uVar8,
			    (char)in_r7, (char)in_r8, (char)in_r9, (char)in_r10,
			    *(undefined4 *)(puVar1 + 8));
			lVar9 = lVar9 + 1;
		} while (puVar5 != (undefined4 *)0x0);
	}
	return;
}

void FUN_100138ec(void)

{
	_DAT_100f3efc = _DAT_100f3ef8;
	return;
}

void FUN_100138f8(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	SMemAlloc(8, (char)_DAT_100f2780, 0x52, 0, param_5, param_6, param_7, param_8, in_stack_ffffffcb,
	    in_stack_ffffffcf, local_2c);
	return;
}

void FUN_1001392c(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	if (param_1 != 0) {
		SMemFree((char)param_1, (char)_DAT_100f2780, 0x57, 0, param_5, param_6, param_7, param_8,
		    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	}
	return;
}

void FUN_10013964(undefined4 *param_1, char param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined4 *puVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	undefined4 in_stack_ffffffc8;

	lVar8 = (longlong)param_8;
	lVar7 = (longlong)param_7;
	lVar6 = (longlong)param_6;
	lVar5 = (longlong)param_5;
	lVar4 = (longlong)param_4;
	lVar3 = (longlong)param_3;
	lVar2 = (longlong)param_2;
	while (param_1 != (undefined4 *)0x0) {
		puVar1 = (undefined4 *)*param_1;
		FUN_1001392c((int)param_1, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6,
		    (char)lVar7, (char)lVar8, in_stack_ffffffc8);
		param_1 = puVar1;
	}
	return;
}

undefined4 *FUN_100139a0(undefined4 param_1, undefined4 *param_2)

{
	*param_2 = param_1;
	return param_2;
}

undefined4 *FUN_10013dc0(int param_1)

{
	undefined4 *puVar1;

	puVar1 = _DAT_100f3f1c;
	while ((puVar1 != (undefined4 *)0x0 && (param_1 != 0))) {
		puVar1 = (undefined4 *)*puVar1;
		param_1 = param_1 + -1;
	}
	return puVar1;
}

ulonglong FUN_10014a34(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	if (param_1 == 0x4d4f444d) {
		SErrSetLastError(0xc6, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffcb,
		    in_stack_ffffffcf, local_2c);
	}
	return (ulonglong)(param_1 != 0x4d4f444d);
}

ulonglong FUN_10014a74(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	int iVar2;
	undefined uVar3;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	ppuVar1 = &toc;
	uVar3 = (undefined) * (undefined4 *)(_DAT_100f3f1c + 4);
	iVar2 = FUN_100149bc((char)*(undefined4 *)(_DAT_100f3f08 + 8), uVar3, param_3, param_4, param_5,
	    param_6, param_7, param_8, in_stack_ffffffc8);
	if (iVar2 == 0) {
		SErrSetLastError(0x71, uVar3, param_3, param_4, param_5, param_6, param_7, param_8,
		    (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
	} else {
		FUN_10013964((undefined4 *)ppuVar1[-0x142d], uVar3, param_3, param_4, param_5, param_6, param_7,
		    param_8, in_stack_ffffffc8);
	}
	return (ulonglong)(iVar2 != 0);
}

void FUN_10014b78(int param_1, undefined4 param_2, undefined4 param_3, undefined4 param_4,
    undefined4 param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined uVar2;
	undefined uVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	int local_2c;

	uVar6 = (undefined)param_5;
	uVar5 = (undefined)param_4;
	uVar4 = (undefined)param_3;
	uVar3 = (undefined)param_2;
	_DAT_100f3f1c = 0;
	_DAT_100f3f18 = 0;
	_DAT_100f3f04 = param_5;
	_DAT_100f3f08 = param_4;
	_DAT_100f3f0c = param_3;
	_DAT_100f3f10 = param_2;
	uVar2 = SNetEnumDevices((char)_DAT_100f2730, uVar3, uVar4, uVar5, uVar6, param_6, param_7, param_8,
	    (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
	iVar1 = *(int *)(local_2c + -0x50b8);
	if (iVar1 == 1) {
		FUN_10014a74(uVar2, uVar3, uVar4, uVar5, uVar6, param_6, param_7, param_8, in_stack_ffffffc8);
	} else {
		if ((iVar1 < 1) && (-1 < iVar1)) {
			FUN_10014a34(param_1, uVar3, uVar4, uVar5, uVar6, param_6, param_7, param_8, in_stack_ffffffc8);
		} else {
			FUN_10014ad0(uVar2, uVar3, uVar4, uVar5, uVar6, param_6, param_7, param_8, in_stack_ffffffc8);
		}
	}
	return;
}

void FUN_10014bfc(void)

{
	_DAT_100f3f20 = _DAT_100f3f00;
	return;
}

void FUN_10015190(void)

{
	_DAT_100f3f3c = _DAT_100f3f24;
	return;
}

void FUN_10015678(undefined4 param_1, undefined8 param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined uVar2;
	undefined uVar3;
	undefined4 in_stack_ffffffc8;
	undefined uVar4;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;
	undefined4 in_stack_ffffffd8;

	uVar3 = (undefined)param_2;
	ppuVar1 = &toc;
	uVar2 = (undefined)param_1;
	FUN_10015448(uVar2, uVar3, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	FUN_10015554(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8,
	    in_stack_ffffffcf, in_stack_ffffffd8);
	uVar4 = (undefined)in_stack_ffffffc8;
	FUN_1001519c(uVar2, uVar3, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	FUN_100da3e4(uVar2, 2, 0x37, (char)ppuVar1[-0x1a02], param_5, param_6, param_7, param_8, uVar4,
	    in_stack_ffffffcf, local_2c);
	return;
}

void FUN_10015ac4(void)

{
	_DAT_100f3f48 = _DAT_100f3f40;
	return;
}

undefined FUN_10015ad0(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	if (_DAT_100f3f50 != 0) {
		param_1 = FUN_100dbf44(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8);
	}
	return param_1;
}

void FUN_10015b14(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	FUN_10015ad0((char)_DAT_100f27dc, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

void FUN_10015b38(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	FUN_10015ad0((char)_DAT_100f27d8, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

void FUN_10015b5c(void)

{
	_DAT_100f3f54 = _DAT_100f3f4c;
	return;
}

void FUN_10015c40(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	uVar1 = (ulonglong)_DAT_100f3f5c;
	_DAT_100f3f5c = (uint)(uVar1 - 1);
	if (uVar1 - 1 == 0) {
		WinCompatShutdown((char)*(undefined4 *)PTR_DAT_100f176c, param_2, param_3, param_4, param_5, param_6,
		    param_7, param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	}
	return;
}

void FUN_10015c7c(void)

{
	_DAT_100f3f68 = _DAT_100f3f58;
	return;
}

void FUN_10015f3c(undefined2 *param_1, uint param_2, char param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	*(uint *)(param_1 + 1) = (param_2 & 0xff) << 8;
	if (param_3 == '\0') {
		*param_1 = 4;
		FUN_10018224((char)param_1, (char)param_2, 0, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	} else {
		*param_1 = 3;
		FUN_10018200((char)param_1, (char)param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	}
	return;
}

// WARNING: Removing unreachable block (ram,0x10015fc0)

ulonglong FUN_10015f84(undefined8 param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	ulonglong uVar2;
	ushort *puVar3;
	undefined4 in_stack_ffffffb8;
	undefined *local_18;
	undefined2 local_14;
	undefined2 uStack18;
	undefined2 local_10;
	undefined2 uStack14;
	undefined2 local_c;
	ushort uStack10;

	ppuVar1 = &toc;
	uVar2 = FUN_10017e5c(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	if (((uVar2 & 0xff) == 0) && (puVar3 = (ushort *)param_1, *puVar3 < 9)) {
		if ((*(ushort *)((int)ppuVar1 + -0x5062) != puVar3[6]) || (*(ushort *)(ppuVar1 + -0x1419) != puVar3[5])) {
			FUN_10018028((int)puVar3, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffb8);
			ppuVar1[-0x1419] = *(undefined **)(puVar3 + 5);
		}
		if (*(ushort *)((int)ppuVar1 + -0x5052) != puVar3[7]) {
			local_18 = ppuVar1[-0xbcd];
			local_14 = (undefined2)((uint)ppuVar1[-0xbcc] >> 0x10);
			uStack18 = (undefined2)((uint) * (undefined4 *)(puVar3 + 3) >> 0x10);
			local_10 = (undefined2) * (undefined4 *)(puVar3 + 3);
			uStack14 = (undefined2)((uint) * (undefined4 *)(puVar3 + 5) >> 0x10);
			local_c = (undefined2) * (undefined4 *)(puVar3 + 5);
			uStack10 = puVar3[7];
			*(ushort *)((int)ppuVar1 + -0x5052) = *(ushort *)((int)ppuVar1 + -0x5052) ^ puVar3[7];
			if ((*(ushort *)((int)ppuVar1 + -0x5052) & 0x100) != 0) {
				FUN_10015f3c((undefined2 *)&local_18, 0x37, '\x01' - ((puVar3[7] & 0x100) == 0), param_4,
				    param_5, param_6, param_7, param_8, in_stack_ffffffb8);
			}
			if ((*(ushort *)((int)ppuVar1 + -0x5052) & 0x200) != 0) {
				FUN_10015f3c((undefined2 *)&local_18, 0x38, '\x01' - ((puVar3[7] & 0x200) == 0), param_4,
				    param_5, param_6, param_7, param_8, in_stack_ffffffb8);
			}
			if ((*(ushort *)((int)ppuVar1 + -0x5052) & 0x400) != 0) {
				FUN_10015f3c((undefined2 *)&local_18, 0x39, '\x01' - ((puVar3[7] & 0x400) == 0), param_4,
				    param_5, param_6, param_7, param_8, in_stack_ffffffb8);
			}
			if ((*(ushort *)((int)ppuVar1 + -0x5052) & 0x800) != 0) {
				FUN_10015f3c((undefined2 *)&local_18, 0x3a, '\x01' - ((puVar3[7] & 0x800) == 0), param_4,
				    param_5, param_6, param_7, param_8, in_stack_ffffffb8);
			}
			if ((*(ushort *)((int)ppuVar1 + -0x5052) & 0x1000) != 0) {
				FUN_10015f3c((undefined2 *)&local_18, 0x3b, '\x01' - ((puVar3[7] & 0x1000) == 0), param_4,
				    param_5, param_6, param_7, param_8, in_stack_ffffffb8);
			}
			*(ushort *)((int)ppuVar1 + -0x5052) = puVar3[7];
		}
	}
	return uVar2;
}

void FUN_10016150(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	FUN_10017e98(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_10016170(char param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 uVar1;
	undefined4 uVar2;
	undefined4 uVar3;
	int iVar4;
	char cVar5;
	int *piVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;

	iVar4 = (int)(ZEXT48(register0x0000000c) - 0x50);
	*(BADSPACEBASE **)iVar4 = register0x0000000c;
	piVar6 = (int *)GetGrayRgn(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    *(undefined *)(iVar4 + 0xb), *(undefined *)(iVar4 + 0xf),
	    *(undefined4 *)(iVar4 + 0x14));
	uVar1 = *(undefined4 *)(*(int *)(iVar4 + 0x14) + -0x5060);
	uVar8 = 0xf0;
	uVar2 = *(undefined4 *)(*piVar6 + 2);
	uVar9 = (undefined)uVar2;
	uVar3 = *(undefined4 *)(*piVar6 + 6);
	*(undefined4 *)(iVar4 + 0x40) = uVar2;
	*(undefined4 *)(iVar4 + 0x44) = uVar3;
	*(undefined4 *)(iVar4 + 0x38) = uVar1;
	uVar7 = (undefined) * (undefined4 *)((int)param_1 + 10);
	DragWindow(param_2, uVar7, 0xf0, uVar9, param_5, param_6, param_7, param_8, *(undefined *)(iVar4 + 0xb),
	    *(undefined *)(iVar4 + 0xf), *(undefined4 *)(iVar4 + 0x14));
	cVar5 = (char)(ZEXT48(register0x0000000c) - 0x50);
	GetPort(cVar5 + '<', uVar7, uVar8, uVar9, param_5, param_6, param_7, param_8, *(undefined *)(iVar4 + 0xb),
	    *(undefined *)(iVar4 + 0xf), *(undefined4 *)(iVar4 + 0x14));
	SetPort(param_2, uVar7, uVar8, uVar9, param_5, param_6, param_7, param_8, *(undefined *)(iVar4 + 0xb),
	    *(undefined *)(iVar4 + 0xf), *(undefined4 *)(iVar4 + 0x14));
	LocalToGlobal(cVar5 + '8', uVar7, uVar8, uVar9, param_5, param_6, param_7, param_8,
	    *(undefined *)(iVar4 + 0xb), *(undefined *)(iVar4 + 0xf),
	    *(undefined4 *)(iVar4 + 0x14));
	SetPort((char)*(undefined4 *)(iVar4 + 0x3c), uVar7, uVar8, uVar9, param_5, param_6, param_7, param_8,
	    *(undefined *)(iVar4 + 0xb), *(undefined *)(iVar4 + 0xf), *(undefined4 *)(iVar4 + 0x14));
	*(ushort *)(iVar4 + 0x3a) = *(short *)(iVar4 + 0x3a) + 3U & 0xfff8;
	MoveWindow(param_2, (char)*(undefined2 *)(iVar4 + 0x3a), (char)*(undefined2 *)(iVar4 + 0x38), 0,
	    param_5, param_6, param_7, param_8, *(undefined *)(iVar4 + 0xb), *(undefined *)(iVar4 + 0xf), *(undefined4 *)(iVar4 + 0x14));
	FUN_100dbf44();
	return;
}

void FUN_10016248(char param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	short sVar2;

	iVar1 = (int)(ZEXT48(register0x0000000c) - 0x50);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	sVar2 = FindWindow((char)*(undefined4 *)((int)param_1 + 10),
	    (char)(ZEXT48(register0x0000000c) - 0x50) + '8', param_3, param_4, param_5, param_6, param_7, param_8, *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
	    *(undefined4 *)(iVar1 + 0x14));
	if (((longlong)sVar2 & 0xffffffffU) < 9) {
		// WARNING: Could not recover jumptable at 0x1001628c. Too many branches
		// WARNING: Treating indirect jump as call
		(**(code **)(*(int *)(iVar1 + 0x14) + -0x2f24 + (int)sVar2 * 4))();
		return;
	}
	return;
}

void FUN_100162f8(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	FUN_10018108(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_10016318(short *param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int *piVar1;
	undefined uVar4;
	uint uVar3;
	undefined8 uVar2;
	char cVar5;
	char cVar6;
	int iVar7;
	undefined uVar8;
	uint uVar9;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	piVar1 = _DAT_100f17b4;
	uVar4 = SUB41(_DAT_100f17b4, 0);
	iVar7 = 0;
	uVar9 = 0;
	cVar5 = (char)*(undefined4 *)(param_1 + 1);
	if (((param_1[7] & 0x100U) != 0) && (cVar5 == '.')) {
		iVar7 = 1;
	}
	uVar8 = (undefined)iVar7;
	*_DAT_100f17b4 = iVar7;
	cVar6 = cVar5;
	if (*piVar1 != 0) {
		cVar6 = cVar5;
		uVar4 = Msg_CommandPeriod(uVar4, cVar5, uVar8, param_4, param_5, param_6, param_7, param_8,
		    (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
	}
	if ((param_1[7] & 0x100U) != 0) {
		if (*param_1 != 5) {
			FUN_10015c88(uVar4, cVar6, uVar8, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
			uVar3 = MenuKey(cVar5, cVar6, uVar8, param_4, param_5, param_6, param_7, param_8,
			    (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
			if ((uVar3 & 0xff) != 0) {
				uVar2 = FUN_10015ccc(uVar3, cVar6, uVar8, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffffb8);
				uVar9 = (uint)uVar2;
			}
		}
	}
	if ((uVar9 & 0xff) == 0) {
		FUN_10018200((char)param_1, cVar6, uVar8, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	return;
}

void FUN_100163e4(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	FUN_10018224(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_10016404(char param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined uVar2;

	iVar1 = (int)(ZEXT48(register0x0000000c) - 0x50);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	GetPort((char)(ZEXT48(register0x0000000c) - 0x50) + '8', param_2, param_3, param_4, param_5, param_6,
	    param_7, param_8, *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
	    *(undefined4 *)(iVar1 + 0x14));
	uVar2 = (undefined) * (undefined4 *)((int)param_1 + 2);
	SetPort(uVar2, param_2, param_3, param_4, param_5, param_6, param_7, param_8, *(undefined *)(iVar1 + 0xb),
	    *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14));
	BeginUpdate(uVar2, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14));
	FUN_10018314(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    *(undefined4 *)(iVar1 + 8));
	EndUpdate(uVar2, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14));
	SetPort((char)*(undefined4 *)(iVar1 + 0x38), param_2, param_3, param_4, param_5, param_6, param_7,
	    param_8, *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
	    *(undefined4 *)(iVar1 + 0x14));
	return;
}

void FUN_1001647c(void)

{
	return;
}

void FUN_10016480(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined uVar2;
	undefined uVar3;
	undefined uVar4;

	iVar1 = (int)(ZEXT48(register0x0000000c) - 0x50);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	if ((short)((uint) * (undefined4 *)(param_1 + 2) >> 0x10) != 0) {
		DILoad((char)param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14));
		uVar4 = 0x4b;
		SetPt((char)(ZEXT48(register0x0000000c) - 0x50) + '8', 100, 0x4b, param_4, param_5, param_6, param_7,
		    param_8, *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
		    *(undefined4 *)(iVar1 + 0x14));
		uVar3 = (undefined) * (undefined4 *)(param_1 + 2);
		uVar2 = DIBadMount((char)*(undefined4 *)(iVar1 + 0x38), uVar3, uVar4, param_4, param_5, param_6,
		    param_7, param_8, *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
		    *(undefined4 *)(iVar1 + 0x14));
		DIUnload(uVar2, uVar3, uVar4, param_4, param_5, param_6, param_7, param_8, *(undefined *)(iVar1 + 0xb),
		    *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14));
	}
	return;
}

void FUN_100164f0(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	AEProcessAppleEvent(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	return;
}

void FUN_10016514(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	FUN_10018248();
	return;
}

ulonglong FUN_10016534(void)

{
	return (ulonglong)(*(int *)(iRam00000b60 + 2) != 0);
}

ulonglong FUN_1001654c(short *param_1, undefined param_2, char param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	bool bVar1;
	short sVar2;
	int iVar3;
	undefined *puVar4;
	bool bVar5;
	bool bVar6;
	bool bVar7;
	bool bVar8;
	char *pcVar9;
	undefined8 uVar10;
	int iVar11;
	ulonglong uVar12;
	ulonglong uVar13;
	uint uVar14;
	undefined uVar15;
	undefined uVar16;
	undefined uVar17;

	pcVar9 = _DAT_100f17bc;
	uVar16 = SUB41(param_1, 0);
	bVar6 = false;
	bVar8 = false;
	bVar5 = false;
	puVar4 = (undefined *)(ZEXT48(register0x0000000c) - 0x70);
	*(BADSPACEBASE **)puVar4 = register0x0000000c;
	uVar17 = uVar16;
	uVar12 = OSEventAvail(0xff, uVar16, param_3, param_4, param_5, param_6, param_7, param_8, puVar4[0xb],
	    puVar4[0xf], *(undefined4 *)(puVar4 + 0x14));
	uVar13 = FUN_10016534(*puVar4);
	if ((uVar13 & 0xff) != 0) {
		NiceEventProcessingForDuration(0x3c, uVar17, param_3, param_4, param_5, param_6, param_7, param_8, puVar4[0xb], puVar4[0xf],
		    *(undefined4 *)(puVar4 + 0x14));
	}
	iVar3 = *(int *)(param_1 + 3);
	uVar14 = IsNiceEventProcessing((char)iVar3, uVar17, param_3, param_4, param_5, param_6, param_7, param_8, puVar4[0xb], puVar4[0xf], *(undefined4 *)(puVar4 + 0x14));
	uVar15 = (undefined)uVar14;
	iVar11 = *(int *)(puVar4 + 0x14);
	if (((uVar14 & 0xff) != 0) || ((param_1[7] & 0x1b00U) == 0x1b00)) {
		bVar5 = true;
		bVar6 = true;
	}
	bVar1 = false;
	if ((uVar12 & 0xff) != 0) {
		bVar1 = *pcVar9 == '\0';
		sVar2 = *param_1;
		uVar15 = (undefined)sVar2;
		bVar6 = (bool)(bVar6 | !bVar1);
		if (sVar2 == 3) {
			uVar17 = 0;
			param_3 = (char)*(undefined4 *)(param_1 + 1);
			uVar10 = countLeadingZeros(0x1100 - ((uint)(ushort)param_1[7] & 0x1100));
			uVar14 = (uint)uVar10 >> 5;
			uVar15 = (undefined)uVar14;
			if ((((param_1[7] & 0x300U) == 0x300) && ('/' < param_3)) && (param_3 < ':')) {
				bVar6 = true;
				uVar17 = 0;
				uVar15 = NiceEventProcessingForDuration(0x78, 0, param_3, param_4, param_5, param_6, param_7, param_8, puVar4[0xb],
				    puVar4[0xf], *(undefined4 *)(puVar4 + 0x14));
				iVar11 = *(int *)(puVar4 + 0x14);
				bVar8 = true;
			} else {
				if (((uVar14 & 0xff) != 0) && (param_3 == '/')) {
					bVar6 = true;
					uVar17 = 0;
					uVar15 = NiceEventProcessingForDuration(0x78, 0, 0x2f, param_4, param_5, param_6, param_7, param_8, puVar4[0xb],
					    puVar4[0xf], *(undefined4 *)(puVar4 + 0x14));
					iVar11 = *(int *)(puVar4 + 0x14);
				}
			}
		} else {
			if (sVar2 == 7) {
				bVar6 = true;
				uVar15 = NiceEventProcessingForDuration(0x78, uVar17, param_3, param_4, param_5, param_6, param_7, param_8, puVar4[0xb],
				    puVar4[0xf], *(undefined4 *)(puVar4 + 0x14));
				iVar11 = *(int *)(puVar4 + 0x14);
			}
		}
	}
	bVar7 = false;
	if (!bVar6) {
		uVar15 = (undefined) * (int *)(iVar11 + -0x5058);
		iVar11 = iVar3 - *(int *)(iVar11 + -0x5058);
		if (*pcVar9 == '\0') {
			if (0x78 < iVar11) {
				bVar7 = true;
				uVar14 = CheckUpdate((char)(ZEXT48(register0x0000000c) - 0x70) + '8', uVar17, param_3, param_4,
				    param_5, param_6, param_7, param_8, puVar4[0xb], puVar4[0xf],
				    *(undefined4 *)(puVar4 + 0x14));
				uVar15 = (undefined)uVar14;
				if ((uVar14 & 0xff) != 0) {
					bVar7 = true;
					bVar6 = true;
				}
			}
		} else {
			if (0xf < iVar11) {
				bVar6 = true;
			}
		}
	}
	if (bVar6) {
		bVar6 = true;
		if ((!bVar5) && (*pcVar9 == '\0')) {
			bVar6 = false;
		}
		if (bVar6) {
			uVar17 = 5;
		} else {
			uVar17 = 0;
		}
		uVar15 = 0;
		uVar12 = WaitNextEvent(0xff, uVar16, uVar17, 0, param_5, param_6, param_7, param_8, puVar4[0xb],
		    puVar4[0xf], *(undefined4 *)(puVar4 + 0x14));
		iVar11 = *(int *)(puVar4 + 0x14);
		*(int *)(iVar11 + -0x5058) = iVar3;
		LMSetSysEvtMask((char)*(undefined2 *)(iVar11 + -0x5054), uVar16, uVar17, uVar15, param_5, param_6,
		    param_7, param_8, puVar4[0xb], puVar4[0xf], *(undefined4 *)(puVar4 + 0x14));
	} else {
		if (bVar7) {
			SystemTask(uVar15, uVar17, param_3, param_4, param_5, param_6, param_7, param_8, puVar4[0xb],
			    puVar4[0xf], *(undefined4 *)(puVar4 + 0x14));
			*(int *)(*(int *)(puVar4 + 0x14) + -0x5058) = iVar3;
		}
		if (bVar1) {
			uVar12 = GetOSEvent(0xff, uVar16, param_3, param_4, param_5, param_6, param_7, param_8, puVar4[0xb],
			    puVar4[0xf], *(undefined4 *)(puVar4 + 0x14));
		}
	}
	if (bVar8) {
		FUN_100dbf44();
	}
	return uVar12;
}

undefined8
FUN_100167c0(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	ushort uVar1;
	undefined *puVar2;
	char cVar3;
	undefined **ppuVar4;
	ulonglong uVar5;
	ulonglong uVar6;
	undefined8 uVar7;
	uint uVar8;
	undefined8 unaff_r31;

	uVar6 = ZEXT48(register0x0000000c);
	ppuVar4 = &toc;
	puVar2 = (undefined *)(uVar6 - 0x60);
	*(BADSPACEBASE **)puVar2 = register0x0000000c;
	FUN_1001654c((short *)(puVar2 + 0x40), param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    *(undefined4 *)(puVar2 + 8));
	if (*(short *)(puVar2 + 0x40) == 7) {
		unaff_r31 = 1;
	}
	uVar5 = FUN_10015f84(uVar6 - 0x20, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    *(undefined4 *)(puVar2 + 8));
	cVar3 = (char)(uVar6 - 0x60);
	if ((uVar5 & 0xff) == 0) {
		uVar1 = *(ushort *)(puVar2 + 0x40);
		if (uVar1 == 0xf) {
			uVar5 = FUN_10015e94((undefined2 *)(puVar2 + 0x40), param_2, param_3, param_4, param_5, param_6,
			    param_7, param_8, *(undefined4 *)(puVar2 + 8));
			if ((uVar5 & 0xff) != 0) {
				uVar6 = FUN_10015f84(uVar6 - 0x20, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
				    *(undefined4 *)(puVar2 + 8));
				if ((uVar6 & 0xff) == 0) {
					FUN_1001647c(*puVar2);
				}
			}
		} else {
			if (uVar1 < 0x18) {
				// WARNING: Could not recover jumptable at 0x10016848. Too many branches
				// WARNING: Treating indirect jump as call
				uVar7 = (*(code *)ppuVar4[(uint)uVar1 - 0xbc0])();
				return uVar7;
			}
			FUN_10016514(cVar3 + '@', param_2, param_3, param_4, param_5, param_6, param_7, param_8,
			    *(undefined4 *)(puVar2 + 8));
		}
	}
	uVar8 = FUN_10016150(cVar3 + '@', param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    *(undefined4 *)(puVar2 + 8));
	if ((uVar8 & 0xff) != 0) {
		unaff_r31 = 1;
	}
	return unaff_r31;
}

undefined8
FUN_10016af4(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	char cVar2;
	undefined8 uVar3;

	iVar1 = (int)(ZEXT48(register0x0000000c) - 0x40);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	cVar2 = (char)(ZEXT48(register0x0000000c) - 0x40);
	uVar3 = AEGetAttributePtr(param_1, 0x73, 0x2a, cVar2 + '8', 0, 0, cVar2 + '<', param_8,
	    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
	    *(undefined4 *)(iVar1 + 0x14));
	if ((short)uVar3 == -0x6a5) {
		uVar3 = 0;
	} else {
		if ((short)uVar3 == 0) {
			uVar3 = 0xfffffffffffff954;
		}
	}
	return uVar3;
}

undefined8
FUN_10016be0(undefined param_1, char param_2, char param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	undefined **ppuVar1;
	undefined8 uVar2;
	ulonglong uVar3;
	undefined uVar4;
	longlong lVar5;
	undefined uVar6;
	longlong lVar7;
	undefined uVar8;
	longlong lVar9;
	undefined uVar10;
	longlong lVar11;
	undefined uVar12;
	longlong lVar13;
	undefined uVar14;
	longlong lVar15;
	undefined uVar16;
	longlong lVar17;
	undefined uVar18;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	lVar17 = (longlong)param_8;
	lVar15 = (longlong)param_7;
	lVar13 = (longlong)param_6;
	lVar11 = (longlong)param_5;
	lVar9 = (longlong)param_4;
	lVar7 = (longlong)param_3;
	lVar5 = (longlong)param_2;
	ppuVar1 = &toc;
	uVar2 = FUN_10016b58(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	uVar3 = FUN_10017d5c((char)uVar2, (char)lVar5, (char)lVar7, (char)lVar9, (char)lVar11, (char)lVar13,
	    (char)lVar15, (char)lVar17, in_stack_ffffffc8);
	uVar18 = (undefined)lVar17;
	uVar16 = (undefined)lVar15;
	uVar14 = (undefined)lVar13;
	uVar12 = (undefined)lVar11;
	uVar10 = (undefined)lVar9;
	uVar8 = (undefined)lVar7;
	uVar6 = (undefined)lVar5;
	uVar4 = (undefined)uVar3;
	if ((uVar3 & 0xff) != 0) {
		LMSetSysEvtMask((char)*(undefined2 *)(ppuVar1 + -0x1415), uVar6, uVar8, uVar10, uVar12, uVar14, uVar16, uVar18, (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
		while (true) {
			uVar3 = FUN_10017d34();
			uVar6 = (undefined)lVar5;
			uVar8 = (undefined)lVar7;
			uVar10 = (undefined)lVar9;
			uVar12 = (undefined)lVar11;
			uVar14 = (undefined)lVar13;
			uVar16 = (undefined)lVar15;
			uVar18 = (undefined)lVar17;
			if ((uVar3 & 0xff) == 0)
				break;
			FUN_100167c0((char)uVar3, uVar6, uVar8, uVar10, uVar12, uVar14, uVar16, uVar18, in_stack_ffffffc8);
		}
		uVar4 = FUN_10017e34((char)uVar3, uVar6, uVar8, uVar10, uVar12, uVar14, uVar16, uVar18,
		    in_stack_ffffffc8);
	}
	FUN_10016bbc(uVar4, uVar6, uVar8, uVar10, uVar12, uVar14, uVar16, uVar18, in_stack_ffffffc8);
	return 0;
}

void FUN_10016eac(void)

{
	return;
}

ulonglong FUN_10016eb0(void)

{
	return (ulonglong) * (uint *)PTR_DAT_100f17d0;
}

undefined8 FUN_10016ebc(void)

{
	return 0;
}

undefined8 FUN_10016ec4(void)

{
	return 1;
}

void ResetPal(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	SDrawRealizePalette(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	return;
}

void FUN_10016ef0(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	SDrawUpdatePalette(0, 0, param_1, 1, param_5, param_6, param_7, param_8, in_stack_ffffffcb,
	    in_stack_ffffffcf, local_2c);
	return;
}

undefined8
Lock(undefined param_1, char param_2, char param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	char cVar1;
	bool bVar2;
	uint uVar5;
	longlong lVar3;
	longlong lVar4;
	undefined uVar7;
	int iVar6;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	undefined uVar13;
	longlong lVar14;
	undefined uVar15;
	longlong lVar16;
	undefined uVar17;
	undefined8 uVar18;
	undefined in_stack_ffffffbb;
	undefined in_stack_ffffffbf;
	int local_3c;

	lVar16 = (longlong)param_8;
	lVar14 = (longlong)param_7;
	lVar12 = (longlong)param_6;
	lVar11 = (longlong)param_5;
	lVar10 = (longlong)param_4;
	lVar9 = (longlong)param_3;
	lVar8 = (longlong)param_2;
	uVar18 = 0;
	uVar5 = FUN_100dbf44();
	if ((uVar5 & 0xff) == 0) {
		uVar18 = 1;
	} else {
		lVar3 = GetTickCount((char)uVar5, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12,
		    (char)lVar14, (char)lVar16, in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
		bVar2 = false;
		do {
			uVar5 = FUN_100dbf44();
			uVar7 = (undefined)uVar5;
			if ((uVar5 & 0xff) == 0) {
				uVar5 = FUN_100dbf44();
				uVar17 = (undefined)lVar16;
				uVar15 = (undefined)lVar14;
				uVar13 = (undefined)lVar12;
				uVar7 = (undefined)uVar5;
				cVar1 = (char)local_3c;
				if ((uVar5 & 0xff) == 0)
					goto LAB_10016fc0;
			}
			lVar4 = GetTickCount(uVar7, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12,
			    (char)lVar14, (char)lVar16, in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
			uVar17 = (undefined)lVar16;
			uVar15 = (undefined)lVar14;
			uVar13 = (undefined)lVar12;
			cVar1 = (char)local_3c;
		} while ((lVar3 - lVar4 & 0xffffffffU) < 0x1389);
		bVar2 = true;
	LAB_10016fc0:
		if (!bVar2) {
			iVar6 = SDrawLockSurface(0, 0, cVar1 + -0x48, cVar1 + -0x4c, 0, uVar13, uVar15, uVar17,
			    in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
			if (iVar6 == 0) {
				*(undefined4 *)(local_3c + -0x5048) = 0;
				*(undefined4 *)(local_3c + -0x504c) = 0;
			} else {
				uVar18 = 1;
			}
		}
	}
	return uVar18;
}

undefined Unlock(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	int local_2c;

	if (_DAT_100f3f88 != 0) {
		param_1 = SDrawUnlockSurface(0, (char)_DAT_100f3f88, 0, 0, param_5, param_6, param_7, param_8,
		    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
		*(undefined4 *)(local_2c + -0x504c) = 0;
		*(undefined4 *)(local_2c + -0x5048) = 0;
	}
	return param_1;
}

// WARNING: Removing unreachable block (ram,0x100170c4)
// WARNING: Removing unreachable block (ram,0x10017110)

void FUN_10017074(undefined8 *param_1, undefined8 *param_2, int param_3, int param_4, int param_5,
    int param_6)

{
	undefined4 uVar1;
	uint uVar2;
	undefined8 *puVar3;
	uint uVar4;
	uint uVar5;
	ulonglong uVar6;
	uint uVar7;
	ulonglong uVar8;
	undefined8 uVar9;

	uVar4 = (uint)param_1 & 4;
	uVar7 = param_3 - uVar4;
	uVar2 = uVar7 >> 6;
	uVar5 = uVar7 >> 3 & 7;
	do {
		if (param_4 == 0) {
			return;
		}
		if (uVar4 != 0) {
			uVar1 = *(undefined4 *)param_2;
			param_2 = (undefined8 *)((int)param_2 + 4);
			*(undefined4 *)param_1 = uVar1;
			param_1 = (undefined8 *)((int)param_1 + 4);
		}
		uVar8 = (ulonglong)uVar5;
		if (uVar5 != 0) {
			do {
				uVar9 = *param_2;
				param_2 = param_2 + 1;
				*param_1 = uVar9;
				param_1 = param_1 + 1;
				uVar8 = uVar8 - 1;
			} while (uVar8 != 0);
		}
		if (uVar2 != 0) {
			uVar6 = (ulonglong)(uVar7 >> 8);
			uVar8 = (ulonglong)uVar2;
			if (uVar7 >> 8 != 0) {
				do {
					*param_1 = *param_2;
					param_1[1] = param_2[1];
					param_1[2] = param_2[2];
					param_1[3] = param_2[3];
					param_1[4] = param_2[4];
					param_1[5] = param_2[5];
					param_1[6] = param_2[6];
					param_1[7] = param_2[7];
					param_1[8] = param_2[8];
					param_1[9] = param_2[9];
					param_1[10] = param_2[10];
					param_1[0xb] = param_2[0xb];
					param_1[0xc] = param_2[0xc];
					param_1[0xd] = param_2[0xd];
					param_1[0xe] = param_2[0xe];
					param_1[0xf] = param_2[0xf];
					param_1[0x10] = param_2[0x10];
					param_1[0x11] = param_2[0x11];
					param_1[0x12] = param_2[0x12];
					param_1[0x13] = param_2[0x13];
					param_1[0x14] = param_2[0x14];
					param_1[0x15] = param_2[0x15];
					param_1[0x16] = param_2[0x16];
					param_1[0x17] = param_2[0x17];
					param_1[0x18] = param_2[0x18];
					param_1[0x19] = param_2[0x19];
					param_1[0x1a] = param_2[0x1a];
					param_1[0x1b] = param_2[0x1b];
					param_1[0x1c] = param_2[0x1c];
					param_1[0x1d] = param_2[0x1d];
					param_1[0x1e] = param_2[0x1e];
					puVar3 = param_2 + 0x1f;
					param_2 = param_2 + 0x20;
					param_1[0x1f] = *puVar3;
					param_1 = param_1 + 0x20;
					uVar6 = uVar6 - 1;
				} while (uVar6 != 0);
				uVar8 = (ulonglong)uVar2 & 3;
				if ((uVar2 & 3) == 0)
					goto LAB_100172ac;
			}
			do {
				*param_1 = *param_2;
				param_1[1] = param_2[1];
				param_1[2] = param_2[2];
				param_1[3] = param_2[3];
				param_1[4] = param_2[4];
				param_1[5] = param_2[5];
				param_1[6] = param_2[6];
				puVar3 = param_2 + 7;
				param_2 = param_2 + 8;
				param_1[7] = *puVar3;
				param_1 = param_1 + 8;
				uVar8 = uVar8 - 1;
			} while (uVar8 != 0);
		}
	LAB_100172ac:
		if ((uVar7 & 4) != 0) {
			uVar1 = *(undefined4 *)param_2;
			param_2 = (undefined8 *)((int)param_2 + 4);
			*(undefined4 *)param_1 = uVar1;
			param_1 = (undefined8 *)((int)param_1 + 4);
		}
		param_2 = (undefined8 *)((int)param_2 + param_6);
		param_1 = (undefined8 *)((int)param_1 + param_5);
		param_4 = param_4 + -1;
	} while (true);
}

void DoBlitScreen(longlong param_1, longlong param_2, ulonglong param_3, longlong param_4,
    longlong param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	bool bVar1;
	undefined **ppuVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	uint uVar6;
	undefined4 *puVar7;
	ulonglong uVar8;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	longlong lVar9;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	ulonglong uVar10;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	longlong lVar11;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined4 local_5c;
	int local_34;
	undefined4 local_30;
	int local_2c;
	undefined4 local_28;
	undefined4 local_1c;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	lVar11 = (longlong)param_8;
	lVar9 = (longlong)param_7;
	lVar3 = (longlong)param_6;
	ppuVar2 = &toc;
	local_1c = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	local_34 = (int)param_2;
	if (_DAT_100f3f88 == 0) {
		local_30 = (undefined4)param_1;
		local_2c = local_34 + (int)param_4;
		local_28 = (undefined4)(param_1 + param_3);
		lVar4 = GetTickCount((char)(param_1 + param_3), (char)param_2, (char)param_3, (char)param_4,
		    (char)param_5, (char)param_6, (char)param_7, (char)param_8,
		    (char)in_stack_ffffff98, in_stack_ffffff9f, local_5c);
		bVar1 = false;
		do {
			uVar6 = FUN_100dbf44();
			uVar6._3_1_ = (undefined)uVar6;
			if ((uVar6 & 0xff) == 0) {
				uVar6 = FUN_100dbf44();
				uVar6._3_1_ = (undefined)uVar6;
				if ((uVar6 & 0xff) == 0)
					goto LAB_10017430;
			}
			lVar5 = GetTickCount((undefined)uVar6, (char)param_2, (char)param_3, (char)param_4, (char)param_5,
			    (char)lVar3, (char)lVar9, (char)lVar11, (char)in_stack_ffffff98,
			    in_stack_ffffff9f, local_5c);
		} while ((lVar4 - lVar5 & 0xffffffffU) < 0x1389);
		bVar1 = true;
	LAB_10017430:
		if (!bVar1) {
			FUN_100dbf44(&local_34, 0x40, 0xa0);
		}
	} else {
		lVar11 = 0x300 - param_3;
		lVar11._4_4_ = (int)lVar11;
		lVar3 = (longlong)(int)_DAT_100f3f84;
		lVar9 = (ulonglong)_DAT_100f3f84 - param_3;
		lock_buf(6, (char)_DAT_100f3f84, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffff98);
		lVar3 = ZEXT48(ppuVar2[-0x1412]) + param_1 + (longlong)local_34 * lVar3;
		param_1 = param_1 + (param_2 + 0xa0) * 0x300 + 0x40 + (ulonglong) * (uint *)ppuVar2[-0x1e01];
		if (((uint)(undefined8 *)param_1 & 7) == ((uint)(undefined8 *)lVar3 & 7)) {
			param_6 = lVar11._4_4_;
			FUN_10017074((undefined8 *)lVar3, (undefined8 *)param_1, (uint)param_3, (int)param_4, (int)lVar9,
			    lVar11._4_4_);
			param_5 = lVar9;
		} else {
			uVar10 = (ulonglong)((uint)param_3 >> 2);
			uVar8 = uVar10;
			do {
				do {
					puVar7 = (undefined4 *)param_1;
					param_3 = uVar8 - 1;
					param_1 = param_1 + 4;
					*(undefined4 *)lVar3 = *puVar7;
					lVar3 = lVar3 + 4;
					uVar8 = param_3;
				} while (param_3 != 0);
				param_4 = param_4 + -1;
				param_1 = param_1 + lVar11;
				lVar3 = lVar3 + lVar9;
				uVar8 = uVar10;
			} while (param_4 != 0);
		}
		unlock_buf(6, param_1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff98);
	}
	return;
}

void FUN_100174ac(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined uVar1;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	int local_2c;

	_DAT_100f3f90 = _DAT_100f3f80;
	uVar1 = (undefined)_DAT_100f2808;
	InitializeCriticalSection(uVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, (char)in_stack_ffffffc8,
	    in_stack_ffffffcf, local_2c);
	FUN_1000058c(uVar1, (char)*(undefined4 *)(local_2c + -0x7810),
	    (char)*(undefined4 *)(local_2c + -0x67d8), param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

void FUN_10017554(void)

{
	DAT_100f3fa4 = 1;
	return;
}

ulonglong FUN_100175b0(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	bool bVar1;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	bVar1 = DAT_100f3fa4 != '\0';
	if (bVar1) {
		Msg_PostGameMessage(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	}
	return (ulonglong)bVar1;
}

ulonglong FUN_100175ec(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	bool bVar1;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	bVar1 = DAT_100f3fa4 != '\0';
	if (bVar1) {
		Msg_PostGameKeyMessage(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffcb,
		    in_stack_ffffffcf, local_2c);
	}
	return (ulonglong)bVar1;
}

ulonglong FUN_1001766c(short *param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	ulonglong uVar2;
	short sVar3;
	short sVar4;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	uVar2 = 0;
	if (DAT_100f3fa4 != '\0') {
		uVar2 = FUN_100cd794(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
		sVar3 = (short)*(undefined4 *)(*(int *)ppuVar1[-0x1e06] + 8) + -1;
		sVar4 = (short)*(undefined4 *)(*(int *)ppuVar1[-0x1e06] + 0xc) + -1;
		if ((uVar2 & 0xff) != 0) {
			if (param_1[1] < 0) {
				param_1[1] = 0;
			}
			if (sVar3 < param_1[1]) {
				param_1[1] = sVar3;
			}
			if (*param_1 < 0) {
				*param_1 = 0;
			}
			if (sVar4 < *param_1) {
				*param_1 = sVar4;
			}
		}
	}
	return uVar2;
}

ulonglong FUN_1001773c(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	ulonglong uVar2;
	undefined8 uVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined4 in_stack_ffffffb8;
	undefined uVar8;
	undefined in_stack_ffffffbf;
	int local_3c;
	int iVar9;
	undefined uStack21;

	uVar1 = FUN_100cde78();
	if ((uVar1 & 0xff) == 0) {
		HideCursor((char)uVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
		uVar6 = (undefined)(ZEXT48(register0x0000000c) - 0x18);
		uVar5 = 0;
		uVar7 = 0;
		iVar9 = local_3c;
		FUN_100bf8d4(0, 0, (undefined4 *)(ZEXT48(register0x0000000c) - 0x18), (undefined4 *)0x0, param_5,
		    param_6, param_7, param_8, in_stack_ffffffb8);
		uVar2 = FUN_100cdb24(uStack21, uVar5, uVar6, uVar7, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8);
		uVar8 = (undefined)in_stack_ffffffb8;
		uVar4 = (undefined)uVar2;
		if ((uVar2 & 0xff) != 0) {
			uVar3 = FUN_100d9118(*(undefined4 *)(local_3c + -0x67b4));
			uVar8 = (undefined)in_stack_ffffffb8;
			uVar4 = FUN_100cdf30((char)uVar3, uVar5, uVar6, uVar7, param_5, param_6, param_7, param_8,
			    in_stack_ffffffb8);
			uVar1 = 1;
		}
		ShowCursor(uVar4, uVar5, uVar6, uVar7, param_5, param_6, param_7, param_8, uVar8, in_stack_ffffffbf, iVar9);
	}
	return uVar1;
}

void FUN_100177b8(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined **ppuVar2;
	undefined uVar5;
	ulonglong uVar3;
	uint uVar4;
	undefined uVar6;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	uint uVar7;
	undefined8 unaff_r28;
	uint uVar8;
	undefined8 unaff_r29;
	byte bVar9;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffff98;
	undefined4 local_38;
	undefined4 local_34;
	undefined4 local_30;
	undefined4 local_2c;
	undefined4 local_1c;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	bVar9 = (byte)unaff_r29;
	uVar6 = (undefined)unaff_r30;
	uVar7 = (uint)unaff_r27;
	uVar8 = (uint)unaff_r28;
	ppuVar2 = &toc;
	local_1c = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	FUN_100cdfa8(&local_2c, &local_30, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff98);
	local_30._3_1_ = -(char)local_30;
	uVar5 = FUN_100ce298((undefined)local_2c, (char)local_30, param_3, param_4, param_5, param_6, param_7,
	    param_8, in_stack_ffffff98);
	uVar3 = FUN_100ce034(uVar5, (char)local_30, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffff98);
	uVar4 = (uint)uVar3;
	if ((uVar3 & 0xff) != 0) {
		FUN_100ce264(&local_38);
		local_34 = local_38;
		uVar3 = FUN_1001766c((short *)&local_34, (char)local_30, param_3, param_4, param_5, param_6, param_7,
		    param_8, in_stack_ffffff98);
		if ((uVar3 & 0xff) != 0) {
			uVar5 = 0;
			if (((uVar4 & 0xff) == 1) && ((*(ushort *)(param_1 + 0xe) & 0x100) != 0)) {
				uVar4 = 3;
				uVar5 = 1;
			} else {
				if (((uVar4 & 0xff) == 2) && (*(char *)((int)ppuVar2 + -0x502b) != '\0')) {
					uVar4 = 4;
				}
			}
			uVar1 = uVar4 & 0xff;
			if (uVar1 == 3) {
				uVar6 = 4;
				bVar9 = 2;
				uVar8 = 1;
				uVar7 = 1;
			} else {
				if (uVar1 < 3) {
					if (uVar1 == 1) {
						uVar6 = 1;
						bVar9 = 1;
						uVar8 = 1;
						uVar7 = 0;
					} else {
						if (uVar1 != 0) {
							uVar6 = 2;
							bVar9 = 1;
							uVar8 = 0;
							uVar7 = 0;
						}
					}
				} else {
					if (uVar1 < 5) {
						uVar6 = 5;
						bVar9 = 2;
						uVar8 = 0;
						uVar7 = 1;
					}
				}
			}
			if (((ulonglong) * (byte *)((int)ppuVar2 + -0x5029) != (ulonglong)(uVar8 & 0xff)) && (((uVar8 & 0xff) != 0 || ((*(byte *)((int)ppuVar2 + -0x5029) != 0 && ((ulonglong) * (byte *)((int)ppuVar2 + -0x502a) == (ulonglong)(uVar7 & 0xff))))))) {
				if ((*(ushort *)(param_1 + 0xe) & 0x200) != 0) {
					bVar9 = bVar9 | 4;
				}
				if ((*(ushort *)(param_1 + 0xe) & 0x1000) != 0) {
					bVar9 = bVar9 | 8;
				}
				uVar3 = FUN_100175b0(uVar6, bVar9, (char)local_34, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffff98);
				uVar6 = 0;
				if (((uVar8 & 0xff) != 0) && ((uVar3 & 0xff) != 0)) {
					uVar6 = 1;
				}
				*(undefined *)((int)ppuVar2 + -0x5029) = uVar6;
				uVar6 = 0;
				if (((uVar8 & 0xff) != 0) && ((uVar4 & 0xff) == 3)) {
					uVar6 = 1;
				}
				*(undefined *)((int)ppuVar2 + -0x502a) = uVar6;
				*(undefined *)((int)ppuVar2 + -0x502b) = uVar5;
			}
		}
	}
	return;
}

void FUN_10017990(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	bool bVar1;
	undefined8 uVar2;
	undefined **ppuVar3;
	ulonglong uVar4;
	undefined uVar5;
	bool bVar6;
	bool bVar7;
	uint uVar8;
	undefined4 in_stack_ffffffb8;

	ppuVar3 = &toc;
	uVar4 = FUN_100cde78();
	if ((uVar4 & 0xff) != 0) {
		uVar8 = 0;
		bVar1 = false;
		bVar6 = false;
		bVar7 = false;
		if ((*(char *)((int)ppuVar3 + -0x5035) != '\0') && (*(char *)((int)ppuVar3 + -0x5036) != '\0')) {
			bVar7 = true;
		}
		if ((bVar7) && (*(char *)(ppuVar3 + -0x140e) != '\0')) {
			bVar6 = true;
		}
		if ((bVar6) && (*(char *)((int)ppuVar3 + -0x5037) == '\0')) {
			bVar1 = true;
		}
		if ((bVar1) && (*(char *)(ppuVar3 + -0x140d) == '\0')) {
			uVar8 = 1;
		}
		uVar4 = FUN_100cdf10();
		uVar2 = countLeadingZeros((uint)uVar4 & 0xff);
		uVar5 = (undefined)uVar8;
		if (uVar8 != ((uint)uVar2 >> 5 & 0xff)) {
			if (*(char *)((int)ppuVar3 + -0x5029) != '\0') {
				if (*(char *)((int)ppuVar3 + -0x502a) == '\0') {
					uVar5 = 2;
				} else {
					uVar5 = 5;
				}
				bVar6 = false;
				bVar7 = false;
				uVar4 = FUN_100175b0(uVar5, 0, 0, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
				uVar5 = (undefined)uVar4;
				*(undefined *)((int)ppuVar3 + -0x5029) = 0;
				*(undefined *)((int)ppuVar3 + -0x502a) = 0;
			}
			if (uVar8 == 0) {
				FUN_100cdf30(uVar5, bVar6, bVar7, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
			} else {
				uVar5 = FUN_100cdf6c(uVar5, bVar6, bVar7, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffffb8);
				FUN_100ce2d8(uVar5, bVar6, bVar7, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
			}
		}
	}
	return;
}

ulonglong FUN_10017aa8(uint param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined8 uVar1;
	ulonglong uVar2;
	undefined4 in_stack_ffffffc8;

	uVar1 = countLeadingZeros(param_1 & 0xff);
	uVar2 = (ulonglong)DAT_100f3f9b;
	DAT_100f3f9b = (char)((uint)uVar1 >> 5);
	FUN_10017990((char)param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return uVar2;
}

ulonglong FUN_10017ae8(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	undefined4 in_stack_ffffffc8;

	uVar1 = (ulonglong)DAT_100f3f9a;
	DAT_100f3f9a = param_1;
	FUN_10017990(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return uVar1;
}

ulonglong FUN_10017b1c(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	undefined4 in_stack_ffffffc8;

	uVar1 = (ulonglong)DAT_100f3f98;
	DAT_100f3f98 = param_1;
	FUN_10017990(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return uVar1;
}

ulonglong FUN_10017b78(undefined8 param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	ulonglong uVar2;
	uint uVar3;
	undefined uVar4;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined **local_3c;
	byte local_18[24];

	ppuVar1 = &toc;
	uVar4 = 0;
	local_18[0] = 0;
	if (DAT_100f3f9c != '\0') {
		DAT_100f3f9c = '\0';
		uVar4 = 0;
		FUN_10017990((char)param_1, 0, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
		FUN_100dbf44();
		ppuVar1 = local_3c;
		NiceEventProcessingForDuration(0xb4, uVar4, param_3, param_4, param_5, param_6, param_7, param_8, (char)in_stack_ffffffb8,
		    in_stack_ffffffbf, local_3c);
	}
	uVar2 = FUN_100cde78();
	if (((uVar2 & 0xff) != 0) && (uVar2 = FUN_100cdf10(), (uVar2 & 0xff) == 0)) {
		FUN_100177b8((int)param_1, uVar4, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8);
	}
	if ((*(char *)(ppuVar1 + -0x140b) != '\0') && (uVar3 = FUN_100dbf44(param_1, local_18), (uVar3 & 0xff) == 0)) {
		local_18[0] = 0;
	}
	return (ulonglong)local_18[0];
}

undefined8
FUN_10017d5c(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined4 uVar2;
	int iVar3;
	undefined uVar7;
	undefined8 uVar4;
	uint uVar6;
	ulonglong uVar5;
	undefined uVar8;
	undefined uVar9;
	undefined8 uVar10;

	uVar2 = _DAT_100f2810;
	uVar5 = ZEXT48(register0x0000000c);
	uVar10 = 0;
	iVar1 = (int)(uVar5 - 0x60);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	uVar7 = InstallExitProcessCallback((char)uVar2, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
	    *(undefined4 *)(iVar1 + 0x14));
	iVar3 = *(int *)(iVar1 + 0x14);
	uVar4 = FUN_100ce2fc(uVar7, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    *(undefined4 *)(iVar1 + 8));
	uVar4 = countLeadingZeros((uint)uVar4 & 0xff);
	*(undefined *)(iVar3 + -0x5037) = (char)((uint)uVar4 >> 5);
	uVar6 = FUN_100caeac(uVar5 - 0x14, uVar5 - 0x10);
	if ((uVar6 & 0xff) != 0) {
		GetOSEvent(0, (char)(uVar5 - 0x60) + '8', param_3, param_4, param_5, param_6, param_7, param_8,
		    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14));
		iVar3 = *(int *)(iVar1 + 0x14);
		uVar6 = (uint)((*(ushort *)(iVar1 + 0x46) & 0x900) != 0);
		if ((*(ushort *)(iVar1 + 0x46) & 0x1000) != 0) {
			uVar6 = 0;
		}
		uVar9 = (undefined)uVar6;
		uVar4 = countLeadingZeros(uVar6);
		*(uint *)(iVar3 + -0x2448) = (uint)uVar4 >> 5 & 0xff;
		uVar7 = *(undefined *)(iVar1 + 0x50);
		uVar5 = FUN_100cb480(*(undefined4 *)(iVar1 + 0x4c), uVar7, uVar6, param_4, param_5, param_6, param_7,
		    param_8, *(undefined4 *)(iVar1 + 8));
		if ((uVar5 & 0xff) != 0) {
			uVar8 = SetInitCursorCallback((char)*(undefined4 *)(iVar3 + -0x67c4), uVar7, uVar9, param_4, param_5, param_6,
			    param_7, param_8, *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
			    *(undefined4 *)(iVar1 + 0x14));
			FUN_10017c94(uVar8, uVar7, uVar9, param_4, param_5, param_6, param_7, param_8,
			    *(undefined4 *)(iVar1 + 8));
			uVar10 = 1;
		}
	}
	return uVar10;
}

void FUN_10017e34(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined uVar1;
	undefined4 in_stack_ffffffc8;

	uVar1 = FUN_100cb428(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	FUN_10017cec(uVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	FUN_10017d30();
	return;
}

void FUN_10017e5c(undefined8 param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	char *pcVar1;
	undefined4 in_stack_ffffffc8;

	pcVar1 = _DAT_100f17d8;
	*_DAT_100f17d8 = '\x01' - ((*(ushort *)((int)param_1 + 0xe) & 0x400) == 0);
	FUN_10017b78(param_1, (char)pcVar1, 0, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

undefined8
FUN_10017e98(undefined param_1, char param_2, char param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined uVar4;
	ulonglong uVar2;
	ulonglong uVar3;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	undefined in_stack_ffffffbb;
	undefined in_stack_ffffffbf;
	int local_3c;

	puVar1 = PTR_DAT_100f17dc;
	lVar11 = (longlong)param_8;
	lVar10 = (longlong)param_7;
	lVar9 = (longlong)param_6;
	lVar8 = (longlong)param_5;
	lVar7 = (longlong)param_4;
	lVar6 = (longlong)param_3;
	lVar5 = (longlong)param_2;
	if (DAT_100f3f99 == '\0') {
		uVar4 = 0xdc;
	} else {
		uVar4 = 0xff;
	}
	uVar4 = DirectSoundTickle(uVar4, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
	uVar2 = TickCount(uVar4, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10,
	    (char)lVar11, in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
	do {
		lVar12 = 1;
		do {
			if (*(char *)(local_3c + -0x5033) != '\0') {
				return 0;
			}
			if (*puVar1 != '\0') {
				return 0;
			}
			uVar4 = YieldToThinThread(0, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9,
			    (char)lVar10, (char)lVar11, in_stack_ffffffbb, in_stack_ffffffbf,
			    local_3c);
			lVar12 = lVar12 + -1;
		} while (0 < lVar12);
		uVar3 = TickCount(uVar4, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11, in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
		if ((uVar2 & 0xffffffff) != (uVar3 & 0xffffffff)) {
			return 0;
		}
	} while (true);
}

ulonglong FUN_10017f48(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	ulonglong uVar2;
	undefined uVar3;
	byte bVar4;
	ulonglong uVar5;
	undefined4 in_stack_ffffffb8;
	undefined4 local_18[6];

	ppuVar1 = &toc;
	uVar5 = 0;
	if ((*(ushort *)(param_1 + 0xe) & 0x100) != 0) {
		DAT_100f3fa6 = 1;
	}
	local_18[0] = *(undefined4 *)(param_1 + 10);
	uVar2 = FUN_1001766c((short *)local_18, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	if ((uVar2 & 0xff) != 0) {
		if (*(char *)((int)ppuVar1 + -0x502a) == '\0') {
			uVar3 = 1;
		} else {
			uVar3 = 4;
		}
		if (*(char *)((int)ppuVar1 + -0x502a) == '\0') {
			bVar4 = 1;
		} else {
			bVar4 = 2;
		}
		if ((*(ushort *)(param_1 + 0xe) & 0x200) != 0) {
			bVar4 = bVar4 | 4;
		}
		if ((*(ushort *)(param_1 + 0xe) & 0x1000) != 0) {
			bVar4 = bVar4 | 8;
		}
		uVar5 = FUN_100175b0(uVar3, bVar4, (char)local_18[0], param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8);
		*(undefined *)((int)ppuVar1 + -0x5029) = (char)uVar5;
		if ((uVar5 & 0xff) == 0) {
			*(undefined *)((int)ppuVar1 + -0x502a) = 0;
		}
	}
	return uVar5;
}

ulonglong FUN_10018028(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	byte bVar1;
	undefined **ppuVar2;
	ulonglong uVar3;
	byte bVar4;
	ulonglong uVar5;
	undefined4 in_stack_ffffffb8;
	undefined4 local_18[6];

	ppuVar2 = &toc;
	uVar5 = 0;
	local_18[0] = *(undefined4 *)(param_1 + 10);
	uVar3 = FUN_1001766c((short *)local_18, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	if ((uVar3 & 0xff) != 0) {
		if (*(char *)((int)ppuVar2 + -0x5029) == '\0') {
			bVar4 = 0;
		} else {
			if (*(char *)((int)ppuVar2 + -0x502a) == '\0') {
				bVar4 = 1;
			} else {
				bVar4 = 2;
			}
		}
		if ((*(ushort *)(param_1 + 0xe) & 0x200) != 0) {
			bVar4 = bVar4 | 4;
		}
		if ((*(ushort *)(param_1 + 0xe) & 0x1000) != 0) {
			bVar4 = bVar4 | 8;
		}
		if (*(char *)((int)ppuVar2 + -0x5029) != '\0') {
			if (*(char *)((int)ppuVar2 + -0x502a) == '\0') {
				bVar1 = 1;
			} else {
				bVar1 = 2;
			}
			bVar4 = bVar4 | bVar1;
		}
		uVar5 = FUN_100175b0(0, bVar4, (char)local_18[0], param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8);
	}
	return uVar5;
}

ulonglong FUN_10018108(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined uVar1;
	undefined **ppuVar2;
	ulonglong uVar3;
	byte bVar4;
	ulonglong uVar5;
	undefined4 in_stack_ffffffb8;
	undefined4 local_18[6];

	ppuVar2 = &toc;
	uVar5 = 0;
	local_18[0] = *(undefined4 *)(param_1 + 10);
	uVar3 = FUN_1001766c((short *)local_18, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	if (((uVar3 & 0xff) != 0) && (*(char *)((int)ppuVar2 + -0x5029) != '\0')) {
		if (*(char *)((int)ppuVar2 + -0x502a) == '\0') {
			uVar1 = 2;
		} else {
			uVar1 = 5;
		}
		bVar4 = 0;
		if ((*(ushort *)(param_1 + 0xe) & 0x200) != 0) {
			bVar4 = 4;
		}
		if ((*(ushort *)(param_1 + 0xe) & 0x1000) != 0) {
			bVar4 = bVar4 | 8;
		}
		uVar5 = FUN_100175b0(uVar1, bVar4, (char)local_18[0], param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8);
	}
	*(undefined *)((int)ppuVar2 + -0x502a) = 0;
	*(undefined *)((int)ppuVar2 + -0x5029) = 0;
	return uVar5;
}

void FUN_100181c4(char param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	FUN_100175ec(param_2, (char)((uint) * (undefined4 *)((int)param_1 + 2) >> 8),
	    (char)*(undefined4 *)((int)param_1 + 2), (char)*(undefined2 *)((int)param_1 + 0xe),
	    param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_10018200(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	FUN_100181c4(param_1, 1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_10018224(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	FUN_100181c4(param_1, 0, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

undefined8 FUN_10018248(void)

{
	return 0;
}

ulonglong FUN_10018250(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	undefined uVar2;
	undefined uVar3;
	undefined4 in_stack_ffffffc8;
	undefined uVar4;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	DAT_100f3f99 = 1;
	FUN_10017990(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	uVar4 = (undefined)in_stack_ffffffc8;
	uVar2 = 0;
	uVar3 = 0;
	uVar1 = FUN_100175b0(0x1c, 0, 0, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	SwitchVideoMode(1, uVar2, uVar3, param_4, param_5, param_6, param_7, param_8, uVar4, in_stack_ffffffcf,
	    local_2c);
	FUN_100dbf44();
	return uVar1;
}

ulonglong FUN_100182b8(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	undefined4 in_stack_ffffffc8;

	DAT_100f3f99 = 0;
	FUN_10017990(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	uVar1 = FUN_100175b0(0x1c, 1, 0, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	FUN_100dbf44();
	return uVar1;
}

ulonglong FUN_10018314(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	bool bVar1;
	undefined4 in_stack_ffffffc8;

	bVar1 = DAT_100f3fa4 != '\0';
	if (bVar1) {
		FUN_100cd818(0, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return (ulonglong)bVar1;
}

void FUN_10018348(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	FUN_100cd378(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_10018368(void)

{
	_DAT_100f3fa8 = _DAT_100f3f94;
	return;
}

void TraceErrorDD(int param_1, int param_2, longlong param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	int iVar1;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 local_18;
	undefined4 local_14;
	undefined4 local_10;
	undefined4 local_c;
	undefined2 local_8;
	char local_6;

	iVar1 = _DAT_100f2920;
	if (param_1 != -0x7789fe98) {
		if (param_1 < -0x7789fe98) {
			iVar1 = _DAT_100f29a8;
			if (param_1 != -0x7789ff33) {
				if (param_1 < -0x7789ff33) {
					iVar1 = _DAT_100f29e0;
					if (param_1 != -0x7789ffa1) {
						if (param_1 < -0x7789ffa1) {
							iVar1 = _DAT_100f2a1c;
							if (param_1 != -0x7789fff6) {
								if (param_1 < -0x7789fff6) {
									iVar1 = _DAT_100f291c;
									if (param_1 != -0x7ff8fff2) {
										if (param_1 < -0x7ff8fff2) {
											iVar1 = _DAT_100f29f4;
											if ((param_1 != -0x7fffbffb) && ((-0x7fffbffc < param_1 || (iVar1 = _DAT_100f28d8, param_1 != -0x7fffbfff)))) {
											LAB_10018c34:
												local_18 = s_DDERR_unknown_0x_x_100f6134._0_4_;
												local_14 = s_DDERR_unknown_0x_x_100f6134._4_4_;
												local_10 = s_DDERR_unknown_0x_x_100f6134._8_4_;
												local_c = s_DDERR_unknown_0x_x_100f6134._12_4_;
												local_8 = s_DDERR_unknown_0x_x_100f6134._16_2_;
												local_6 = s_DDERR_unknown_0x_x_100f6134[18];
												sprintf(param_2, &local_18, param_1, s_DDERR_unknown_0x_x_100f6134._8_4_,
												    s_DDERR_unknown_0x_x_100f6134, param_6, param_7, param_8,
												    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc,
												    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
												    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
												return;
											}
										} else {
											iVar1 = _DAT_100f2a24;
											if ((param_1 != -0x7789fffb) && ((-0x7789fffc < param_1 || (iVar1 = _DAT_100f29c8, param_1 != -0x7ff8ffa9))))
												goto LAB_10018c34;
										}
									}
								} else {
									iVar1 = _DAT_100f29fc;
									if (param_1 != -0x7789ffc9) {
										if (param_1 < -0x7789ffc9) {
											iVar1 = _DAT_100f2a04;
											if ((param_1 != -0x7789ffd8) && ((-0x7789ffd9 < param_1 || (iVar1 = _DAT_100f2a18, param_1 != -0x7789ffec))))
												goto LAB_10018c34;
										} else {
											iVar1 = _DAT_100f29f0;
											if (param_1 != -0x7789ffa6)
												goto LAB_10018c34;
										}
									}
								}
							}
						} else {
							iVar1 = _DAT_100f29c4;
							if (param_1 != -0x7789ff6f) {
								if (param_1 < -0x7789ff6f) {
									iVar1 = _DAT_100f29d0;
									if (param_1 != -0x7789ff88) {
										if (param_1 < -0x7789ff88) {
											iVar1 = _DAT_100f29d8;
											if ((param_1 != -0x7789ff92) && ((-0x7789ff93 < param_1 || (iVar1 = _DAT_100f29dc, param_1 != -0x7789ff9c))))
												goto LAB_10018c34;
										} else {
											iVar1 = _DAT_100f29cc;
											if (param_1 != -0x7789ff7e)
												goto LAB_10018c34;
										}
									}
								} else {
									iVar1 = _DAT_100f29b4;
									if (param_1 != -0x7789ff56) {
										if (param_1 < -0x7789ff56) {
											iVar1 = _DAT_100f29b8;
											if ((param_1 != -0x7789ff60) && ((-0x7789ff61 < param_1 || (iVar1 = _DAT_100f29bc, param_1 != -0x7789ff6a))))
												goto LAB_10018c34;
										} else {
											iVar1 = _DAT_100f29b0;
											if (param_1 != -0x7789ff4c)
												goto LAB_10018c34;
										}
									}
								}
							}
						}
					}
				} else {
					iVar1 = _DAT_100f2968;
					if (param_1 != -0x7789fefc) {
						if (param_1 < -0x7789fefc) {
							iVar1 = _DAT_100f2980;
							if (param_1 != -0x7789ff1f) {
								if (param_1 < -0x7789ff1f) {
									iVar1 = _DAT_100f299c;
									if (param_1 != -0x7789ff29) {
										if (param_1 < -0x7789ff29) {
											if (param_1 == -0x7789ff2d)
												goto LAB_10018c34;
											if (param_1 < -0x7789ff2d) {
												iVar1 = _DAT_100f29a0;
												if (param_1 < -0x7789ff2e)
													goto LAB_10018c34;
											} else {
												iVar1 = _DAT_100f2994;
												if (-0x7789ff2c < param_1)
													goto LAB_10018c34;
											}
										} else {
											iVar1 = _DAT_100f2998;
											if (param_1 != -0x7789ff24)
												goto LAB_10018c34;
										}
									}
								} else {
									iVar1 = _DAT_100f2970;
									if (param_1 != -0x7789ff06) {
										if (param_1 < -0x7789ff06) {
											iVar1 = _DAT_100f2978;
											if ((param_1 != -0x7789ff10) && ((-0x7789ff11 < param_1 || (iVar1 = _DAT_100f297c, param_1 != -0x7789ff1a))))
												goto LAB_10018c34;
										} else {
											iVar1 = _DAT_100f2938;
											if (param_1 != -0x7789ff01)
												goto LAB_10018c34;
										}
									}
								}
							}
						} else {
							iVar1 = _DAT_100f2948;
							if (param_1 != -0x7789fec0) {
								if (param_1 < -0x7789fec0) {
									iVar1 = _DAT_100f2954;
									if (param_1 != -0x7789feca) {
										if (param_1 < -0x7789feca) {
											iVar1 = _DAT_100f2958;
											if ((param_1 != -0x7789fede) && ((-0x7789fedf < param_1 || (iVar1 = _DAT_100f295c, param_1 != -0x7789fee8))))
												goto LAB_10018c34;
										} else {
											iVar1 = _DAT_100f294c;
											if ((param_1 != -0x7789fec3) && ((-0x7789fec4 < param_1 || (iVar1 = _DAT_100f2950, param_1 < -0x7789fec4))))
												goto LAB_10018c34;
										}
									}
								} else {
									iVar1 = _DAT_100f2928;
									if (param_1 != -0x7789feac) {
										if (param_1 < -0x7789feac) {
											iVar1 = _DAT_100f292c;
											if ((param_1 != -0x7789feb1) && ((-0x7789feb2 < param_1 || (iVar1 = _DAT_100f2940, param_1 != -0x7789feb6))))
												goto LAB_10018c34;
										} else {
											iVar1 = _DAT_100f2924;
											if (param_1 != -0x7789fea2)
												goto LAB_10018c34;
										}
									}
								}
							}
						}
					}
				}
			}
		} else {
			iVar1 = _DAT_100f2a00;
			if (param_1 != -0x7789fdce) {
				if (param_1 < -0x7789fdce) {
					iVar1 = _DAT_100f28ec;
					if (param_1 != -0x7789fe3e) {
						if (param_1 < -0x7789fe3e) {
							iVar1 = _DAT_100f28fc;
							if (param_1 != -0x7789fe66) {
								if (param_1 < -0x7789fe66) {
									iVar1 = _DAT_100f2910;
									if (param_1 != -0x7789fe80) {
										if (param_1 < -0x7789fe80) {
											if (param_1 == -0x7789fe83)
												goto LAB_10018c34;
											if (param_1 < -0x7789fe83) {
												iVar1 = _DAT_100f2918;
												if (param_1 < -0x7789fe84)
													goto LAB_10018c34;
											} else {
												iVar1 = _DAT_100f2914;
												if (-0x7789fe82 < param_1)
													goto LAB_10018c34;
											}
										} else {
											iVar1 = _DAT_100f2a08;
											if ((param_1 != -0x7789fe70) && ((-0x7789fe71 < param_1 || (iVar1 = _DAT_100f2908, param_1 != -0x7789fe7d))))
												goto LAB_10018c34;
										}
									}
								} else {
									iVar1 = _DAT_100f28bc;
									if (param_1 != -0x7789fe4d) {
										if (param_1 < -0x7789fe4d) {
											iVar1 = _DAT_100f28f4;
											if ((param_1 != -0x7789fe52) && ((-0x7789fe53 < param_1 || (iVar1 = _DAT_100f28f8, param_1 != -0x7789fe5c))))
												goto LAB_10018c34;
										} else {
											iVar1 = _DAT_100f28f0;
											if (param_1 != -0x7789fe48)
												goto LAB_10018c34;
										}
									}
								}
							}
						} else {
							iVar1 = _DAT_100f28d4;
							if (param_1 != -0x7789fe02) {
								if (param_1 < -0x7789fe02) {
									iVar1 = _DAT_100f28e0;
									if (param_1 != -0x7789fe20) {
										if (param_1 < -0x7789fe20) {
											iVar1 = _DAT_100f28e4;
											if ((param_1 != -0x7789fe2a) && ((-0x7789fe2b < param_1 || (iVar1 = _DAT_100f28e8, param_1 != -0x7789fe34))))
												goto LAB_10018c34;
										} else {
											iVar1 = _DAT_100f28dc;
											if (param_1 != -0x7789fe16)
												goto LAB_10018c34;
										}
									}
								} else {
									iVar1 = _DAT_100f28c8;
									if (param_1 != -0x7789fde4) {
										if (param_1 < -0x7789fde4) {
											iVar1 = _DAT_100f28cc;
											if ((param_1 != -0x7789fde7) && ((-0x7789fde8 < param_1 || (iVar1 = _DAT_100f28d0, param_1 != -0x7789fdf8))))
												goto LAB_10018c34;
										} else {
											iVar1 = _DAT_100f28c0;
											if ((param_1 != -0x7789fdd0) && (iVar1 = _DAT_100f29d4, param_1 < -0x7789fdd0))
												goto LAB_10018c34;
										}
									}
								}
							}
						}
					}
				} else {
					iVar1 = _DAT_100f2a10;
					if (param_1 != -0x7789fdb9) {
						if (param_1 < -0x7789fdb9) {
							iVar1 = _DAT_100f2960;
							if (param_1 != -0x7789fdc3) {
								if (param_1 < -0x7789fdc3) {
									iVar1 = _DAT_100f29a4;
									if (param_1 != -0x7789fdc8) {
										if (param_1 < -0x7789fdc8) {
											iVar1 = _DAT_100f2984;
											if (param_1 != -0x7789fdcb) {
												if (param_1 < -0x7789fdcb) {
													iVar1 = _DAT_100f2904;
													if (param_1 < -0x7789fdcc) {
														iVar1 = _DAT_100f2988;
													}
												} else {
													iVar1 = _DAT_100f2a0c;
													if (param_1 < -0x7789fdc9) {
														iVar1 = _DAT_100f2900;
													}
												}
											}
										} else {
											iVar1 = _DAT_100f29ec;
											if (((param_1 != -0x7789fdc5) && (iVar1 = _DAT_100f2964, param_1 < -0x7789fdc5)) && (iVar1 = _DAT_100f29e8, param_1 < -0x7789fdc6)) {
												iVar1 = _DAT_100f2974;
											}
										}
									}
								} else {
									iVar1 = _DAT_100f296c;
									if (param_1 != -0x7789fdbe) {
										if (param_1 < -0x7789fdbe) {
											iVar1 = _DAT_100f298c;
											if (((param_1 != -0x7789fdc0) && (iVar1 = _DAT_100f290c, param_1 < -0x7789fdc0)) && (iVar1 = _DAT_100f29ac, param_1 < -0x7789fdc1)) {
												iVar1 = _DAT_100f2a20;
											}
										} else {
											iVar1 = _DAT_100f29f8;
											if (((param_1 != -0x7789fdbb) && (iVar1 = _DAT_100f293c, param_1 < -0x7789fdbb)) && (iVar1 = _DAT_100f2944, param_1 < -0x7789fdbc)) {
												iVar1 = _DAT_100f29c0;
											}
										}
									}
								}
							}
						} else {
							iVar1 = _DAT_100f28b0;
							if (param_1 != -0x7789fd94) {
								if (param_1 < -0x7789fd94) {
									iVar1 = _DAT_100f2930;
									if (param_1 != -0x7789fdb3) {
										if (param_1 < -0x7789fdb3) {
											iVar1 = _DAT_100f2990;
											if (param_1 != -0x7789fdb6) {
												if (param_1 < -0x7789fdb6) {
													iVar1 = _DAT_100f2a14;
													if (param_1 < -0x7789fdb7) {
														iVar1 = _DAT_100f2934;
													}
												} else {
													iVar1 = _DAT_100f29e4;
													if (param_1 < -0x7789fdb4) {
														iVar1 = _DAT_100f28c4;
													}
												}
											}
										} else {
											iVar1 = _DAT_100f28ac;
											if ((param_1 != -0x7789fdb0) && ((-0x7789fdb1 < param_1 || (iVar1 = _DAT_100f28a8, param_1 < -0x7789fdb1))))
												goto LAB_10018c34;
										}
									}
								} else {
									iVar1 = _DAT_100f28a4;
									if (param_1 != -0x7789fd58) {
										if (param_1 < -0x7789fd58) {
											iVar1 = _DAT_100f28b4;
											if ((param_1 != -0x7789fd6c) && ((-0x7789fd6d < param_1 || (iVar1 = _DAT_100f28b8, param_1 != -0x7789fd80))))
												goto LAB_10018c34;
										} else {
											iVar1 = _DAT_100f2a28;
											if (param_1 != 0)
												goto LAB_10018c34;
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	strncpy(param_2, iVar1, param_3);
	return;
}

void TraceErrorDS(int iParm1, int iParm2, longlong lParm3)

{
	int iVar1;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 local_18;
	undefined4 local_14;
	undefined4 local_10;
	undefined4 local_c;
	undefined2 local_8;
	char local_6;

	iVar1 = _DAT_100f2884;
	if (iParm1 != -0x7787ffce) {
		if (iParm1 < -0x7787ffce) {
			iVar1 = _DAT_100f2880;
			if (iParm1 != -0x7ff8ffa9) {
				if (iParm1 < -0x7ff8ffa9) {
					iVar1 = _DAT_100f287c;
					if (iParm1 != -0x7ffbfef0) {
						if (iParm1 < -0x7ffbfef0) {
							iVar1 = _DAT_100f286c;
							if (iParm1 != -0x7fffbffe) {
							LAB_10018dec:
								local_18 = s_DSERR_unknown_0x_x_100f6147._0_4_;
								local_14 = s_DSERR_unknown_0x_x_100f6147._4_4_;
								local_10 = s_DSERR_unknown_0x_x_100f6147._8_4_;
								local_c = s_DSERR_unknown_0x_x_100f6147._12_4_;
								local_8 = s_DSERR_unknown_0x_x_100f6147._16_2_;
								local_6 = s_DSERR_unknown_0x_x_100f6147[18];
								sprintf(iParm2, &local_18, iParm1, s_DSERR_unknown_0x_x_100f6147._8_4_,
								    s_DSERR_unknown_0x_x_100f6147, iParm1, in_r9, in_r10, in_stack_ffffffb8,
								    in_stack_ffffffbf, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0,
								    in_stack_ffffffe4);
								return;
							}
						} else {
							iVar1 = _DAT_100f2874;
							if (iParm1 != -0x7ff8fff2)
								goto LAB_10018dec;
						}
					}
				} else {
					iVar1 = _DAT_100f2888;
					if ((iParm1 != -0x7787ffe2) && ((-0x7787ffe3 < iParm1 || (iVar1 = _DAT_100f2898, iParm1 != -0x7787fff6))))
						goto LAB_10018dec;
				}
			}
		} else {
			iVar1 = _DAT_100f2894;
			if (iParm1 != -0x7787ff7e) {
				if (iParm1 < -0x7787ff7e) {
					iVar1 = _DAT_100f2890;
					if (iParm1 != -0x7787ff9c) {
						if (iParm1 < -0x7787ff9c) {
							iVar1 = _DAT_100f2870;
							if (iParm1 != -0x7787ffba)
								goto LAB_10018dec;
						} else {
							iVar1 = _DAT_100f2878;
							if (iParm1 != -0x7787ff88)
								goto LAB_10018dec;
						}
					}
				} else {
					iVar1 = _DAT_100f289c;
					if ((iParm1 != 0) && ((-1 < iParm1 || (iVar1 = _DAT_100f288c, iParm1 != -0x7787ff6a))))
						goto LAB_10018dec;
				}
			}
		}
	}
	strncpy(iParm2, iVar1, lParm3);
	return;
}

uint GetErrorStr(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint uVar1;
	uint uVar3;
	ulonglong uVar2;
	int iVar4;
	undefined uVar5;
	char *pcVar6;
	undefined4 uVar7;
	uint uVar8;
	undefined4 uVar9;
	undefined4 uVar10;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	int local_2c;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	uVar1 = _DAT_100f2864;
	uVar3 = (uint)param_1;
	uVar8 = uVar3 >> 0x10 & 0x1fff;
	if (uVar8 == 0x878) {
		TraceErrorDS(param_1, _DAT_100f2864, 0x100);
	} else {
		if (uVar8 == 0x876) {
			TraceErrorDD(uVar3, _DAT_100f2864, 0x100, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffc8);
		} else {
			uVar5 = (undefined)_DAT_100f2864;
			iVar4 = SErrGetErrorStr((char)param_1, uVar5, 0, (char)param_4, (char)param_5, (char)param_6,
			    (char)param_7, (char)param_8, (char)in_stack_ffffffc8, in_stack_ffffffcf,
			    local_2c);
			if (iVar4 == 0) {
				uVar7 = 0x400;
				uVar9 = 0x100;
				uVar10 = 0;
				uVar8 = uVar1;
				uVar2 = FormatMessage(0, 0, (char)param_1, 0, uVar5, 0, 0, (char)param_8, (char)in_stack_ffffffc8,
				    in_stack_ffffffcf, local_2c);
				if ((uVar2 & 0xffffffff) == 0) {
					sprintf(uVar1, *(undefined4 *)(local_2c + -0x6770), uVar3, uVar7, uVar8, uVar9, uVar10,
					    param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffdc,
					    in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8, in_stack_ffffffec,
					    in_stack_fffffff0, in_stack_fffffff4);
				}
			}
		}
	}
	iVar4 = strlen(uVar1);
	pcVar6 = (char *)(uVar1 + iVar4 + -1);
	if (0 < iVar4) {
		do {
			pcVar6 = pcVar6 + -1;
			if ((*pcVar6 != '\r') && (*pcVar6 != '\n')) {
				return uVar1;
			}
			*pcVar6 = '\0';
			iVar4 = iVar4 + -1;
		} while (iVar4 != 0);
	}
	return uVar1;
}

uint TraceLastError(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined8 uVar1;
	uint uVar2;
	undefined7 uVar3;
	undefined uVar4;
	undefined7 uVar5;
	undefined uVar6;
	undefined7 uVar7;
	undefined uVar8;
	undefined7 uVar9;
	undefined uVar10;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	uVar9 = (undefined7)((ulonglong)param_5 >> 8);
	uVar10 = (undefined)param_5;
	uVar7 = (undefined7)((ulonglong)param_4 >> 8);
	uVar8 = (undefined)param_4;
	uVar5 = (undefined7)((ulonglong)param_3 >> 8);
	uVar6 = (undefined)param_3;
	uVar3 = (undefined7)((ulonglong)param_2 >> 8);
	uVar4 = (undefined)param_2;
	uVar1 = SErrGetLastError((undefined)param_1, uVar4, uVar6, uVar8, uVar10, (char)param_6, (char)param_7,
	    (char)param_8, (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
	uVar2 = GetErrorStr(uVar1, CONCAT71(uVar3, uVar4), CONCAT71(uVar5, uVar6), CONCAT71(uVar7, uVar8),
	    CONCAT71(uVar9, uVar10), param_6, param_7, param_8, in_stack_ffffffc8);
	return uVar2;
}

ulonglong MsgBox(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	int iVar2;
	undefined uVar3;

	iVar2 = _DAT_100f285c;
	iVar1 = (int)(ZEXT48(register0x0000000c) - 0x50);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	*(undefined4 *)(iVar1 + 0x38) = 1;
	uVar3 = (undefined)iVar2;
	_vsnprintf(uVar3, 0, param_1, param_2, param_5, param_6, param_7, param_8, *(undefined *)(iVar1 + 0xb),
	    *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14));
	*(undefined *)(iVar2 + 0xff) = 0;
	MessageBox(uVar3, (char)(ZEXT48(register0x0000000c) - 0x50) + '8', param_1, param_2, param_5, param_6, param_7, param_8, *(undefined4 *)(iVar1 + 8));
	return (ulonglong) * (uint *)(iVar1 + 0x38);
}

undefined FreeDlg(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	ulonglong uVar2;
	undefined *puVar3;
	int iVar4;
	undefined uVar5;
	undefined4 in_stack_ffffffc8;
	undefined uVar6;
	undefined in_stack_ffffffcf;
	undefined **local_2c;

	ppuVar1 = &toc;
	if (DAT_100f3fc8 == '\0') {
		param_1 = 0;
		_DAT_100f3fcc = 0;
		DAT_100f3fc8 = '\x01';
	}
	if (_DAT_100f3fcc == 0) {
		_DAT_100f3fcc = 1;
		if (DAT_100f3fc0 == '\0') {
			DAT_100f3fc0 = '\x01';
			_DAT_100f3fc4 = 0;
		}
		uVar2._7_1_ = DAT_100f3fb8 != '\0';
		if (!uVar2._7_1_) {
			_DAT_100f3fbc = 0;
			DAT_100f3fb8 = '\x01';
		}
		if (_DAT_100f3fc4 != 0) {
			ppuVar1 = local_2c;
			uVar2 = GetCurrentThreadId(uVar2._7_1_, param_2, param_3, param_4, param_5, param_6, param_7, param_8, (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
			uVar2._7_1_ = SUB81(uVar2, 0);
			local_2c = ppuVar1;
			if (ZEXT48(ppuVar1[-0x1405]) != (uVar2 & 0xffffffff)) {
				uVar2._7_1_ = (bool)Sleep(0x20, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
				    (char)in_stack_ffffffc8, in_stack_ffffffcf, ppuVar1);
				local_2c = ppuVar1;
			}
		}
		ppuVar1[-0x1403] = (undefined *)0x1;
		puVar3 = (undefined *)
		    GetCurrentThreadId(uVar2._7_1_, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		        (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
		uVar6 = (undefined)in_stack_ffffffc8;
		local_2c[-0x1405] = puVar3;
		ppuVar1 = local_2c;
		dx_cleanup((char)puVar3, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
		uVar5 = SUB41(local_2c[-0x1dfc], 0);
		if (1 < (byte)*local_2c[-0x1dfc]) {
			iVar4 = SNetLeaveGame(3, param_2, param_3, param_4, param_5, param_6, param_7, param_8, uVar6,
			    in_stack_ffffffcf, ppuVar1);
			uVar5 = (undefined)iVar4;
			if (iVar4 != 0) {
				uVar5 = Sleep(0xd0, param_2, param_3, param_4, param_5, param_6, param_7, param_8, uVar6,
				    in_stack_ffffffcf, ppuVar1);
			}
		}
		SNetDestroy(uVar5, param_2, param_3, param_4, param_5, param_6, param_7, param_8, uVar6,
		    in_stack_ffffffcf, ppuVar1);
		param_1 = ShowCursor(1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, uVar6,
		    in_stack_ffffffcf, ppuVar1);
	}
	return param_1;
}

void app_fatal(int param_1, longlong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11, undefined4 param_12,
    undefined4 param_13, undefined4 param_14, undefined4 param_15, undefined4 param_16,
    undefined4 param_17, undefined4 param_18)

{
	undefined uVar1;
	undefined uVar2;
	undefined uVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined4 in_stack_ffffffc8;

	uVar1 = (char)param_1;
	if (DAT_100f3fb0 == '\0') {
		uVar1 = 0;
		_DAT_100f3fb4 = 0;
		DAT_100f3fb0 = '\x01';
	}
	if (_DAT_100f3fb4 == 0) {
		_DAT_100f3fb4 = 1;
		FreeDlg(uVar1, (char)param_2, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffffc8);
		FUN_10018374();
		if (param_1 != 0) {
			param_2 = ZEXT48(register0x0000000c) + 0x1c;
			MsgBox((char)param_1, (char)param_2, (char)param_3, (char)param_4, (char)param_5,
			    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffc8);
		}
		FUN_10017560();
		uVar7 = (undefined)param_8;
		uVar6 = (undefined)param_7;
		uVar5 = (undefined)param_6;
		uVar1 = (undefined)param_2;
		uVar4 = (undefined)param_5;
		uVar3 = (undefined)param_4;
		uVar2 = (undefined)param_3;
		init_cleanup(0, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
		exit(1, uVar1, uVar2, uVar3, uVar4, uVar5, uVar6, uVar7, in_stack_ffffffc8);
	}
	return;
}

void DrawDlg(undefined4 param_1, undefined4 param_2, undefined4 param_3, undefined4 param_4,
    undefined4 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11, undefined4 param_12,
    undefined4 param_13, undefined4 param_14, undefined4 param_15, undefined4 param_16,
    undefined4 param_17, undefined4 param_18)

{
	int iVar1;
	char cVar2;
	undefined **ppuVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;

	uVar8 = (undefined)param_8;
	uVar7 = (undefined)param_7;
	uVar6 = (undefined)param_6;
	uVar5 = (undefined)param_5;
	uVar4 = (undefined)param_4;
	ppuVar3 = &toc;
	iVar1 = (int)(ZEXT48(register0x0000000c) - 0x140);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	*(undefined4 *)(iVar1 + 0x15c) = param_2;
	*(undefined4 *)(iVar1 + 0x160) = param_3;
	cVar2 = (char)(ZEXT48(register0x0000000c) - 0x140);
	*(undefined4 *)(iVar1 + 0x164) = param_4;
	*(undefined4 *)(iVar1 + 0x168) = param_5;
	*(undefined4 *)(iVar1 + 0x16c) = param_6;
	*(undefined4 *)(iVar1 + 0x170) = param_7;
	*(undefined4 *)(iVar1 + 0x174) = param_8;
	*(undefined4 *)(iVar1 + 0x158) = param_1;
	wvsprintf(iVar1 + 0x38, (char)*(undefined4 *)(iVar1 + 0x158), cVar2 + '\\', uVar4, uVar5, uVar6,
	    uVar7, uVar8, *(undefined4 *)(iVar1 + 8));
	SDrawMessageBox(cVar2 + '8', (char)ppuVar3[-0x19de], 0x30, uVar4, uVar5, uVar6, uVar7, uVar8,
	    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
	    *(undefined4 *)(iVar1 + 0x14));
	return;
}

void DSErrMsg(undefined8 param_1, undefined8 param_2, longlong param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	uint uVar2;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	ppuVar1 = &toc;
	if ((int)param_1 != 0) {
		uVar2 = GetErrorStr(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
		app_fatal((int)ppuVar1[-0x19df], param_3, param_2, (longlong)(int)uVar2, param_5, param_6, param_7,
		    param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8, in_stack_ffffffec,
		    in_stack_fffffff0, in_stack_fffffff4);
	}
	return;
}

void ErrDlg(undefined4 param_1, undefined8 param_2, longlong param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11)

{
	undefined *puVar1;
	undefined **ppuVar2;
	char *pcVar3;
	uint uVar4;
	int iVar5;
	undefined8 uVar6;
	ulonglong uVar7;
	longlong lVar8;
	undefined8 uVar9;

	ppuVar2 = &toc;
	puVar1 = (undefined *)(ZEXT48(register0x0000000c) - 0x450);
	*(BADSPACEBASE **)puVar1 = register0x0000000c;
	*(undefined4 *)(puVar1 + 0x468) = param_1;
	lVar8 = param_3;
	uVar9 = param_4;
	FreeDlg((char)param_1, (char)param_2, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
	    (char)param_7, (char)param_8, *(undefined4 *)(puVar1 + 8));
	uVar6 = 0x5c;
	pcVar3 = strrchr((int)param_3, 0x5c, *puVar1);
	if (((longlong)(int)pcVar3 & 0xffffffffU) != 0) {
		param_3 = (longlong)(int)pcVar3 + 1;
	}
	uVar4 = GetErrorStr(param_2, uVar6, lVar8, uVar9, param_5, param_6, param_7, param_8,
	    *(undefined4 *)(puVar1 + 8));
	sprintf((int)(puVar1 + 0x238), ppuVar2[-0x19e0], uVar4, (int)param_3, (int)param_4, param_6,
	    param_7, param_8, *(undefined4 *)(puVar1 + 8), puVar1[0xf],
	    *(undefined4 *)(puVar1 + 0x1c), *(undefined4 *)(puVar1 + 0x20),
	    *(undefined4 *)(puVar1 + 0x24), *(undefined4 *)(puVar1 + 0x28),
	    *(undefined4 *)(puVar1 + 0x2c), *(undefined4 *)(puVar1 + 0x30),
	    *(undefined4 *)(puVar1 + 0x34));
	uVar9 = 0x20000010;
	sprintf((int)(puVar1 + 0x38), ppuVar2[-0x19e1], puVar1 + 0x238, (int)param_3, (int)param_4,
	    param_6, param_7, param_8, *(undefined4 *)(puVar1 + 8), puVar1[0xf],
	    *(undefined4 *)(puVar1 + 0x1c), *(undefined4 *)(puVar1 + 0x20),
	    *(undefined4 *)(puVar1 + 0x24), *(undefined4 *)(puVar1 + 0x28),
	    *(undefined4 *)(puVar1 + 0x2c), *(undefined4 *)(puVar1 + 0x30),
	    *(undefined4 *)(puVar1 + 0x34));
	uVar7 = ZEXT48(ppuVar2[-0x19e2]);
	iVar5 = SDrawMessageBox((char)(ZEXT48(register0x0000000c) - 0x450) + '8', (char)ppuVar2[-0x19e2],
	    0x10, (char)param_3, (char)param_4, (char)param_6, (char)param_7, (char)param_8, puVar1[0xb], puVar1[0xf], *(undefined4 *)(puVar1 + 0x14));
	if (iVar5 == -1) {
		app_fatal(*(int *)(*(int *)(puVar1 + 0x14) + -0x678c), uVar7, uVar9, param_3, param_4, param_6,
		    param_7, param_8, *(undefined4 *)(puVar1 + 8), puVar1[0xf],
		    *(undefined4 *)(puVar1 + 0x18), *(undefined4 *)(puVar1 + 0x1c),
		    *(undefined4 *)(puVar1 + 0x20), *(undefined4 *)(puVar1 + 0x24),
		    *(undefined4 *)(puVar1 + 0x28), *(undefined4 *)(puVar1 + 0x2c),
		    *(undefined4 *)(puVar1 + 0x30), *(undefined4 *)(puVar1 + 0x34));
	}
	app_fatal(0, uVar7, uVar9, param_3, param_4, param_6, param_7, param_8, *(undefined4 *)(puVar1 + 8),
	    puVar1[0xf], *(undefined4 *)(puVar1 + 0x18), *(undefined4 *)(puVar1 + 0x1c),
	    *(undefined4 *)(puVar1 + 0x20), *(undefined4 *)(puVar1 + 0x24),
	    *(undefined4 *)(puVar1 + 0x28), *(undefined4 *)(puVar1 + 0x2c),
	    *(undefined4 *)(puVar1 + 0x30), *(undefined4 *)(puVar1 + 0x34));
	return;
}

void FileErrDlg(undefined *param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined **ppuVar2;
	int iVar3;
	ulonglong uVar4;
	undefined8 uVar5;

	ppuVar2 = &toc;
	iVar1 = (int)(ZEXT48(register0x0000000c) - 0x240);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	FreeDlg((char)param_1, (undefined)param_2, (undefined)param_3, (char)param_4, (char)param_5,
	    (char)param_6, (char)param_7, (char)param_8, *(undefined4 *)(iVar1 + 8));
	if (param_1 == (undefined *)0x0) {
		param_1 = ppuVar2[-0x19e4];
	}
	uVar5 = 0x20000010;
	sprintf(iVar1 + 0x38, ppuVar2[-0x19e5], param_1, (int)param_4, (int)param_5, param_6, param_7,
	    param_8, *(undefined4 *)(iVar1 + 8), *(undefined *)(iVar1 + 0xf),
	    *(undefined4 *)(iVar1 + 0x1c), *(undefined4 *)(iVar1 + 0x20),
	    *(undefined4 *)(iVar1 + 0x24), *(undefined4 *)(iVar1 + 0x28),
	    *(undefined4 *)(iVar1 + 0x2c), *(undefined4 *)(iVar1 + 0x30),
	    *(undefined4 *)(iVar1 + 0x34));
	uVar4 = ZEXT48(ppuVar2[-0x19e6]);
	iVar3 = SDrawMessageBox((char)(ZEXT48(register0x0000000c) - 0x240) + '8', (char)ppuVar2[-0x19e6],
	    0x10, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
	    *(undefined4 *)(iVar1 + 0x14));
	if (iVar3 == -1) {
		app_fatal(*(int *)(*(int *)(iVar1 + 0x14) + -0x679c), uVar4, uVar5, param_4, param_5, param_6,
		    param_7, param_8, *(undefined4 *)(iVar1 + 8), *(undefined *)(iVar1 + 0xf),
		    *(undefined4 *)(iVar1 + 0x18), *(undefined4 *)(iVar1 + 0x1c),
		    *(undefined4 *)(iVar1 + 0x20), *(undefined4 *)(iVar1 + 0x24),
		    *(undefined4 *)(iVar1 + 0x28), *(undefined4 *)(iVar1 + 0x2c),
		    *(undefined4 *)(iVar1 + 0x30), *(undefined4 *)(iVar1 + 0x34));
	}
	app_fatal(0, uVar4, uVar5, param_4, param_5, param_6, param_7, param_8, *(undefined4 *)(iVar1 + 8),
	    *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x18),
	    *(undefined4 *)(iVar1 + 0x1c), *(undefined4 *)(iVar1 + 0x20),
	    *(undefined4 *)(iVar1 + 0x24), *(undefined4 *)(iVar1 + 0x28),
	    *(undefined4 *)(iVar1 + 0x2c), *(undefined4 *)(iVar1 + 0x30),
	    *(undefined4 *)(iVar1 + 0x34));
	return;
}

void DiskFreeDlg(undefined4 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined **ppuVar2;
	int iVar3;
	ulonglong uVar4;
	undefined8 uVar5;

	ppuVar2 = &toc;
	iVar1 = (int)(ZEXT48(register0x0000000c) - 0x240);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	FreeDlg((char)param_1, (undefined)param_2, (undefined)param_3, (char)param_4, (char)param_5,
	    (char)param_6, (char)param_7, (char)param_8, *(undefined4 *)(iVar1 + 8));
	uVar5 = 0x20000010;
	sprintf(iVar1 + 0x38, ppuVar2[-0x19e8], param_1, (int)param_4, (int)param_5, param_6, param_7,
	    param_8, *(undefined4 *)(iVar1 + 8), *(undefined *)(iVar1 + 0xf),
	    *(undefined4 *)(iVar1 + 0x1c), *(undefined4 *)(iVar1 + 0x20),
	    *(undefined4 *)(iVar1 + 0x24), *(undefined4 *)(iVar1 + 0x28),
	    *(undefined4 *)(iVar1 + 0x2c), *(undefined4 *)(iVar1 + 0x30),
	    *(undefined4 *)(iVar1 + 0x34));
	uVar4 = ZEXT48(ppuVar2[-0x19e9]);
	iVar3 = SDrawMessageBox((char)(ZEXT48(register0x0000000c) - 0x240) + '8', (char)ppuVar2[-0x19e9],
	    0x10, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
	    *(undefined4 *)(iVar1 + 0x14));
	if (iVar3 == -1) {
		app_fatal(*(int *)(*(int *)(iVar1 + 0x14) + -0x67a8), uVar4, uVar5, param_4, param_5, param_6,
		    param_7, param_8, *(undefined4 *)(iVar1 + 8), *(undefined *)(iVar1 + 0xf),
		    *(undefined4 *)(iVar1 + 0x18), *(undefined4 *)(iVar1 + 0x1c),
		    *(undefined4 *)(iVar1 + 0x20), *(undefined4 *)(iVar1 + 0x24),
		    *(undefined4 *)(iVar1 + 0x28), *(undefined4 *)(iVar1 + 0x2c),
		    *(undefined4 *)(iVar1 + 0x30), *(undefined4 *)(iVar1 + 0x34));
	}
	app_fatal(0, uVar4, uVar5, param_4, param_5, param_6, param_7, param_8, *(undefined4 *)(iVar1 + 8),
	    *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x18),
	    *(undefined4 *)(iVar1 + 0x1c), *(undefined4 *)(iVar1 + 0x20),
	    *(undefined4 *)(iVar1 + 0x24), *(undefined4 *)(iVar1 + 0x28),
	    *(undefined4 *)(iVar1 + 0x2c), *(undefined4 *)(iVar1 + 0x30),
	    *(undefined4 *)(iVar1 + 0x34));
	return;
}

ulonglong InsertCDDlg(undefined8 uParm1, undefined param_2, undefined param_3, undefined8 uParm4,
    undefined8 uParm5, undefined4 uParm6, undefined4 uParm7, undefined4 uParm8)

{
	undefined uVar2;
	int iVar1;
	ulonglong uVar3;
	undefined uVar4;
	undefined8 uVar5;
	undefined uVar6;
	undefined7 uVar7;
	undefined uVar8;
	undefined7 uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined4 in_stack_ffffffc8;
	undefined uVar14;
	undefined in_stack_ffffffcf;
	int local_2c;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	uVar10 = (undefined)uParm5;
	uVar9 = (undefined7)((ulonglong)uParm5 >> 8);
	uVar8 = (undefined)uParm4;
	uVar7 = (undefined7)((ulonglong)uParm4 >> 8);
	uVar2 = ShowCursor(1, param_2, param_3, uVar8, uVar10, (char)uParm6, (char)uParm7, (char)uParm8,
	    (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
	EnterNiceEventProcessing(uVar2, param_2, param_3, uVar8, uVar10, (char)uParm6, (char)uParm7, (char)uParm8,
	    (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
	uVar5 = 0x41;
	uVar3 = (ulonglong) * (uint *)(local_2c + -0x6798);
	iVar1 = SDrawMessageBox((char)*(undefined4 *)(local_2c + -0x67ac),
	    (char)*(uint *)(local_2c + -0x6798), 0x41, uVar8, uVar10, (char)uParm6,
	    (char)uParm7, (char)uParm8, (char)in_stack_ffffffc8, in_stack_ffffffcf,
	    local_2c);
	uVar14 = (undefined)in_stack_ffffffc8;
	uVar13 = (undefined)uParm8;
	uVar12 = (undefined)uParm7;
	uVar11 = (undefined)uParm6;
	uVar6 = (undefined)uVar5;
	uVar4 = (undefined)uVar3;
	uVar2 = (undefined)iVar1;
	if (iVar1 == -1) {
		uVar2 = app_fatal(*(int *)(local_2c + -0x67a8), uVar3, uVar5, CONCAT71(uVar7, uVar8),
		    CONCAT71(uVar9, uVar10), uParm6, uParm7, uParm8, in_stack_ffffffc8,
		    in_stack_ffffffcf, in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0,
		    in_stack_ffffffe4, in_stack_ffffffe8, in_stack_ffffffec, in_stack_fffffff0,
		    in_stack_fffffff4);
	}
	LeaveNiceEventProcessing(uVar2, uVar4, uVar6, uVar8, uVar10, uVar11, uVar12, uVar13, uVar14, in_stack_ffffffcf, local_2c);
	ShowCursor(0, uVar4, uVar6, uVar8, uVar10, uVar11, uVar12, uVar13, uVar14, in_stack_ffffffcf, local_2c);
	uVar5 = countLeadingZeros(1 - iVar1);
	return (ulonglong)((uint)uVar5 >> 5 & 0xff);
}

void FUN_1001947c(void)

{
	_DAT_100f3fd0 = _DAT_100f3fac;
	return;
}

void InitAutomapOnce(void)

{
	undefined *puVar1;
	undefined *puVar2;

	puVar2 = PTR_DAT_100f1854;
	*(undefined4 *)PTR_DAT_100f1858 = 0;
	puVar1 = PTR_DAT_100f1850;
	*(undefined4 *)puVar2 = 0x32;
	puVar2 = PTR_DAT_100f184c;
	*(undefined4 *)puVar1 = 0x20;
	puVar1 = PTR_DAT_100f1848;
	*(undefined4 *)puVar2 = 0x10;
	puVar2 = PTR_DAT_100f1844;
	*(undefined4 *)puVar1 = 8;
	puVar1 = PTR_DAT_100f1840;
	*(undefined4 *)puVar2 = 4;
	*(undefined4 *)puVar1 = 2;
	return;
}

void InitAutomap(void)

{
	uint uVar1;
	byte *pbVar2;
	undefined *puVar3;
	uint uVar4;
	int iVar6;
	ulonglong uVar5;
	ulonglong uVar7;
	int iVar8;
	longlong lVar9;
	byte bVar11;
	int iVar10;
	undefined8 uVar12;
	undefined uVar15;
	short *psVar13;
	undefined uVar16;
	int iVar14;
	longlong lVar17;
	undefined uVar18;
	ulonglong uVar19;
	char *pcVar20;
	undefined uVar21;
	longlong lVar22;
	undefined4 uVar23;
	undefined uVar24;
	undefined4 in_r9;
	undefined uVar25;
	undefined4 in_r10;
	undefined uVar26;
	ulonglong uVar27;
	longlong lVar28;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	int local_4c;
	int *local_14;
	uint local_10;

	uVar4 = _DAT_100f2a50;
	puVar3 = PTR_DAT_100f1834;
	uVar7 = ZEXT48(register0x0000000c);
	uVar27 = (ulonglong)_DAT_100f2a50;
	uVar12 = 0x51eb851f;
	lVar28 = 0x1f;
	lVar17 = 0xc80;
	uVar19 = (ulonglong)_DAT_100f2a54;
	lVar22 = 0x640;
	do {
		uVar1 = (int)lVar17 / 100 + ((int)lVar17 >> 0x1f);
		iVar6 = uVar1 + (uVar1 >> 0x1f);
		iVar10 = 0x140 / iVar6;
		lVar9 = 0x140 - (longlong)iVar10 * (longlong)iVar6;
		pcVar20 = (char *)uVar19;
		*pcVar20 = (char)(iVar10 << 1) + '\x01';
		if (lVar9 != 0) {
			*pcVar20 = *pcVar20 + '\x01';
		}
		uVar1 = (int)lVar22 / 100 + ((int)lVar22 >> 0x1f);
		if ((int)(uVar1 + (uVar1 >> 0x1f)) <= (int)lVar9) {
			*pcVar20 = *pcVar20 + '\x01';
		}
		lVar17 = lVar17 + 0x140;
		lVar22 = lVar22 + 0xa0;
		uVar23 = (undefined4)lVar22;
		uVar19 = uVar19 + 1;
		lVar28 = lVar28 + -1;
	} while (lVar28 != 0);
	memset((char)uVar4, 0, 0x1f, (char)lVar17, (char)uVar19, (char)lVar22, (char)in_r9, (char)in_r10,
	    (char)in_stack_ffffffa8, in_stack_ffffffaf, local_4c);
	bVar11 = **(byte **)(local_4c + -0x7794);
	if (bVar11 == 3) {
		lVar28 = uVar7 - 0x10;
		iVar10 = local_4c;
		lVar22 = LoadFileInMem((ulonglong) * (uint *)(local_4c + -0x658c), (undefined4 *)lVar28, uVar12,
		    lVar17, uVar19, uVar23, in_r9, in_r10, in_stack_ffffffa8);
		local_14 = (int *)lVar22;
		local_10 = local_10 >> 1;
	} else {
		if (bVar11 < 3) {
			if (bVar11 == 1) {
				lVar28 = uVar7 - 0x10;
				iVar10 = local_4c;
				lVar22 = LoadFileInMem((ulonglong) * (uint *)(local_4c + -0x6584), (undefined4 *)lVar28, uVar12,
				    lVar17, uVar19, uVar23, in_r9, in_r10, in_stack_ffffffa8);
				local_14 = (int *)lVar22;
				local_10 = local_10 >> 1;
			} else {
				if (bVar11 == 0) {
					return;
				}
				lVar28 = uVar7 - 0x10;
				iVar10 = local_4c;
				lVar22 = LoadFileInMem((ulonglong) * (uint *)(local_4c + -0x6588), (undefined4 *)lVar28, uVar12,
				    lVar17, uVar19, uVar23, in_r9, in_r10, in_stack_ffffffa8);
				local_14 = (int *)lVar22;
				local_10 = local_10 >> 1;
			}
		} else {
			if (4 < bVar11) {
				return;
			}
			lVar28 = uVar7 - 0x10;
			iVar10 = local_4c;
			lVar22 = LoadFileInMem((ulonglong) * (uint *)(local_4c + -26000), (undefined4 *)lVar28, uVar12,
			    lVar17, uVar19, uVar23, in_r9, in_r10, in_stack_ffffffa8);
			local_14 = (int *)lVar22;
			local_10 = local_10 >> 1;
		}
	}
	uVar18 = (undefined)lVar17;
	uVar26 = (undefined)in_r10;
	uVar25 = (undefined)in_r9;
	uVar24 = (undefined)uVar23;
	uVar21 = (undefined)uVar19;
	uVar7 = FUN_100b8f7c(ZEXT48(local_14), lVar28, uVar12, lVar17, uVar19, uVar23, in_r9, in_r10,
	    in_stack_ffffffa8);
	uVar15 = (undefined)local_10;
	uVar19 = 1;
	bVar11 = 1;
	uVar16 = uVar15;
	if (local_10 != 0) {
		if (8 < local_10) {
			uVar5 = (ulonglong)(local_10 - 1 >> 3);
			lVar17 = uVar27 + 2;
			if (local_10 != 8) {
				do {
					pbVar2 = (byte *)uVar7;
					uVar19 = uVar19 + 8;
					psVar13 = (short *)lVar17;
					*psVar13 = (ushort)*pbVar2 + (ushort)pbVar2[1] * 0x100;
					psVar13[1] = (ushort)pbVar2[2] + (ushort)pbVar2[3] * 0x100;
					psVar13[2] = (ushort)pbVar2[4] + (ushort)pbVar2[5] * 0x100;
					psVar13[3] = (ushort)pbVar2[6] + (ushort)pbVar2[7] * 0x100;
					psVar13[4] = (ushort)pbVar2[8] + (ushort)pbVar2[9] * 0x100;
					psVar13[5] = (ushort)pbVar2[10] + (ushort)pbVar2[0xb] * 0x100;
					psVar13[6] = (ushort)pbVar2[0xc] + (ushort)pbVar2[0xd] * 0x100;
					uVar7 = uVar7 + 0x10;
					psVar13[7] = (ushort)pbVar2[0xe] + (ushort)pbVar2[0xf] * 0x100;
					lVar17 = lVar17 + 0x10;
					uVar5 = uVar5 - 1;
				} while (uVar5 != 0);
			}
		}
		bVar11 = (byte)uVar19;
		lVar22 = uVar27 + (ulonglong)(uint)((int)uVar19 << 1);
		uVar16 = (undefined)lVar22;
		lVar17 = ((ulonglong)local_10 + 1) - uVar19;
		uVar18 = uVar15;
		if ((uVar19 & 0xffffffff) <= (ulonglong)local_10) {
			do {
				pbVar2 = (byte *)uVar7;
				bVar11 = *pbVar2;
				uVar7 = uVar7 + 2;
				*(short *)lVar22 = (ushort)bVar11 + (ushort)pbVar2[1] * 0x100;
				lVar22 = lVar22 + 2;
				uVar16 = (undefined)lVar22;
				lVar17 = lVar17 + -1;
				uVar18 = uVar15;
			} while (lVar17 != 0);
		}
	}
	FUN_100b9100((int)local_14, bVar11, uVar16, uVar18, uVar21, uVar24, uVar25, uVar26, in_stack_ffffffa8);
	uVar15 = (undefined)in_stack_ffffffa8;
	mem_free_dbg(&local_14, bVar11, uVar16, uVar18, uVar21, uVar24, uVar25, uVar26, in_stack_ffffffa8);
	memset((char)*(undefined4 *)(local_4c + -0x7798), 0x40, uVar16, uVar18, uVar21, uVar24, uVar25,
	    uVar26, uVar15, in_stack_ffffffaf, iVar10);
	iVar10 = 0;
	do {
		lVar17 = 7;
		iVar6 = 0;
		do {
			*(byte *)(iVar10 + *(int *)puVar3 + iVar6) = *(byte *)(iVar10 + *(int *)puVar3 + iVar6) & 0x7f;
			iVar8 = *(int *)puVar3 + iVar6 + 0x70;
			*(byte *)(iVar10 + iVar8) = *(byte *)(iVar10 + iVar8) & 0x7f;
			iVar8 = *(int *)puVar3 + iVar6 + 0xe0;
			*(byte *)(iVar10 + iVar8) = *(byte *)(iVar10 + iVar8) & 0x7f;
			iVar8 = *(int *)puVar3 + iVar6 + 0x150;
			*(byte *)(iVar10 + iVar8) = *(byte *)(iVar10 + iVar8) & 0x7f;
			iVar8 = *(int *)puVar3 + iVar6 + 0x1c0;
			*(byte *)(iVar10 + iVar8) = *(byte *)(iVar10 + iVar8) & 0x7f;
			iVar8 = *(int *)puVar3 + iVar6 + 0x230;
			*(byte *)(iVar10 + iVar8) = *(byte *)(iVar10 + iVar8) & 0x7f;
			iVar8 = *(int *)puVar3 + iVar6 + 0x2a0;
			*(byte *)(iVar10 + iVar8) = *(byte *)(iVar10 + iVar8) & 0x7f;
			iVar8 = iVar6 + 0x380;
			iVar14 = *(int *)puVar3 + iVar6 + 0x310;
			*(byte *)(iVar10 + iVar14) = *(byte *)(iVar10 + iVar14) & 0x7f;
			*(byte *)(iVar10 + *(int *)puVar3 + iVar8) = *(byte *)(iVar10 + *(int *)puVar3 + iVar8) & 0x7f;
			iVar14 = *(int *)puVar3 + iVar8 + 0x70;
			*(byte *)(iVar10 + iVar14) = *(byte *)(iVar10 + iVar14) & 0x7f;
			iVar14 = *(int *)puVar3 + iVar8 + 0xe0;
			*(byte *)(iVar10 + iVar14) = *(byte *)(iVar10 + iVar14) & 0x7f;
			iVar14 = *(int *)puVar3 + iVar8 + 0x150;
			*(byte *)(iVar10 + iVar14) = *(byte *)(iVar10 + iVar14) & 0x7f;
			iVar14 = *(int *)puVar3 + iVar8 + 0x1c0;
			*(byte *)(iVar10 + iVar14) = *(byte *)(iVar10 + iVar14) & 0x7f;
			iVar14 = *(int *)puVar3 + iVar8 + 0x230;
			*(byte *)(iVar10 + iVar14) = *(byte *)(iVar10 + iVar14) & 0x7f;
			iVar14 = *(int *)puVar3 + iVar8 + 0x2a0;
			*(byte *)(iVar10 + iVar14) = *(byte *)(iVar10 + iVar14) & 0x7f;
			iVar6 = iVar6 + 0x700;
			iVar8 = *(int *)puVar3 + iVar8 + 0x310;
			*(byte *)(iVar10 + iVar8) = *(byte *)(iVar10 + iVar8) & 0x7f;
			lVar17 = lVar17 + -1;
		} while (lVar17 != 0);
		iVar10 = iVar10 + 1;
	} while (iVar10 < 0x70);
	return;
}

void FUN_1001995c(void)

{
	undefined *puVar1;
	undefined *puVar2;

	puVar1 = PTR_DAT_100f182c;
	*(undefined4 *)PTR_DAT_100f1830 = 0;
	puVar2 = PTR_DAT_100f1858;
	*(undefined4 *)puVar1 = 0;
	*(undefined4 *)puVar2 = 1;
	return;
}

void AutomapUp(void)

{
	undefined *puVar1;

	puVar1 = PTR_DAT_100f182c;
	*(int *)PTR_DAT_100f1830 = *(int *)PTR_DAT_100f1830 + -1;
	*(int *)puVar1 = *(int *)puVar1 + -1;
	return;
}

void AutomapDown(void)

{
	undefined *puVar1;

	puVar1 = PTR_DAT_100f182c;
	*(int *)PTR_DAT_100f1830 = *(int *)PTR_DAT_100f1830 + 1;
	*(int *)puVar1 = *(int *)puVar1 + 1;
	return;
}

void AutomapLeft(void)

{
	undefined *puVar1;

	puVar1 = PTR_DAT_100f182c;
	*(int *)PTR_DAT_100f1830 = *(int *)PTR_DAT_100f1830 + -1;
	*(int *)puVar1 = *(int *)puVar1 + 1;
	return;
}

void AutomapRight(void)

{
	undefined *puVar1;

	puVar1 = PTR_DAT_100f182c;
	*(int *)PTR_DAT_100f1830 = *(int *)PTR_DAT_100f1830 + 1;
	*(int *)puVar1 = *(int *)puVar1 + -1;
	return;
}

void FUN_10019a10(void)

{
	uint uVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;

	puVar7 = PTR_DAT_100f1854;
	puVar6 = PTR_DAT_100f1850;
	puVar5 = PTR_DAT_100f184c;
	puVar4 = PTR_DAT_100f1848;
	puVar3 = PTR_DAT_100f1844;
	puVar2 = PTR_DAT_100f1840;
	if (199 < *(int *)PTR_DAT_100f1854) {
		return;
	}
	*(int *)PTR_DAT_100f1854 = *(int *)PTR_DAT_100f1854 + 5;
	uVar1 = (*(int *)puVar7 << 6) / 100 + ((*(int *)puVar7 << 6) >> 0x1f);
	*(uint *)puVar6 = uVar1 + (uVar1 >> 0x1f);
	*(int *)puVar5 = *(int *)puVar6 >> 1;
	*(int *)puVar4 = *(int *)puVar5 >> 1;
	*(int *)puVar3 = *(int *)puVar4 >> 1;
	*(int *)puVar2 = *(int *)puVar3 >> 1;
	return;
}

void FUN_10019a94(void)

{
	uint uVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;

	puVar7 = PTR_DAT_100f1854;
	puVar6 = PTR_DAT_100f1850;
	puVar5 = PTR_DAT_100f184c;
	puVar4 = PTR_DAT_100f1848;
	puVar3 = PTR_DAT_100f1844;
	puVar2 = PTR_DAT_100f1840;
	if (*(int *)PTR_DAT_100f1854 < 0x33) {
		return;
	}
	*(int *)PTR_DAT_100f1854 = *(int *)PTR_DAT_100f1854 + -5;
	uVar1 = (*(int *)puVar7 << 6) / 100 + ((*(int *)puVar7 << 6) >> 0x1f);
	*(uint *)puVar6 = uVar1 + (uVar1 >> 0x1f);
	*(int *)puVar5 = *(int *)puVar6 >> 1;
	*(int *)puVar4 = *(int *)puVar5 >> 1;
	*(int *)puVar3 = *(int *)puVar4 >> 1;
	*(int *)puVar2 = *(int *)puVar3 >> 1;
	return;
}

// WARNING: Removing unreachable block (ram,0x1001a1d4)
// WARNING: Removing unreachable block (ram,0x1001a298)
// WARNING: Removing unreachable block (ram,0x1001a1dc)
// WARNING: Removing unreachable block (ram,0x10019e80)
// WARNING: Removing unreachable block (ram,0x10019e88)
// WARNING: Removing unreachable block (ram,0x10019f40)
// WARNING: Removing unreachable block (ram,0x10019f48)
// WARNING: Removing unreachable block (ram,0x10019f70)
// WARNING: Removing unreachable block (ram,0x10019f7c)
// WARNING: Removing unreachable block (ram,0x10019ff8)
// WARNING: Removing unreachable block (ram,0x1001a000)
// WARNING: Removing unreachable block (ram,0x1001a028)
// WARNING: Removing unreachable block (ram,0x1001a034)
// WARNING: Removing unreachable block (ram,0x1001a0ec)
// WARNING: Removing unreachable block (ram,0x1001a0f4)
// WARNING: Removing unreachable block (ram,0x1001a11c)
// WARNING: Removing unreachable block (ram,0x1001a128)
// WARNING: Removing unreachable block (ram,0x1001a1a4)
// WARNING: Removing unreachable block (ram,0x1001a1ac)
// WARNING: Removing unreachable block (ram,0x1001a2c0)
// WARNING: Removing unreachable block (ram,0x1001a384)
// WARNING: Removing unreachable block (ram,0x1001a2c8)

void DrawAutomapType(ulonglong param_1, ulonglong param_2, uint param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	int iVar7;
	ulonglong uVar6;
	int iVar8;
	undefined4 in_stack_ffffff88;

	puVar4 = PTR_DAT_100f184c;
	puVar3 = PTR_DAT_100f1848;
	puVar2 = PTR_DAT_100f1844;
	puVar1 = PTR_DAT_100f1840;
	ppuVar5 = &toc;
	if ((param_3 >> 8 & 0x40) != 0) {
		iVar7 = (int)param_1;
		iVar8 = (int)param_2;
		ppuVar5 = &toc;
		ENG_set_pixel(iVar7, iVar8, 200);
		ENG_set_pixel(iVar7 - *(int *)puVar2, iVar8 - *(int *)puVar1, 200);
		ENG_set_pixel(iVar7 - *(int *)puVar2, iVar8 + *(int *)puVar1, 200);
		ENG_set_pixel(iVar7 + *(int *)puVar2, iVar8 - *(int *)puVar1, 200);
		ENG_set_pixel(iVar7 + *(int *)puVar2, iVar8 + *(int *)puVar1, 200);
		ENG_set_pixel(iVar7 - *(int *)puVar3, iVar8, 200);
		ENG_set_pixel(iVar7 + *(int *)puVar3, iVar8, 200);
		ENG_set_pixel(iVar7, iVar8 - *(int *)puVar2, 200);
		ENG_set_pixel(iVar7, iVar8 + *(int *)puVar2, 200);
		ENG_set_pixel(*(int *)puVar2 + (iVar7 - *(int *)puVar4), iVar8 + *(int *)puVar1, 200);
		ENG_set_pixel((iVar7 + *(int *)puVar4) - *(int *)puVar2, iVar8 + *(int *)puVar1, 200);
		ENG_set_pixel(iVar7 - *(int *)puVar3, iVar8 + *(int *)puVar2, 200);
		ENG_set_pixel(iVar7 + *(int *)puVar3, iVar8 + *(int *)puVar2, 200);
		ENG_set_pixel(iVar7 - *(int *)puVar2, (iVar8 + *(int *)puVar3) - *(int *)puVar1, 200);
		ENG_set_pixel(iVar7 + *(int *)puVar2, (iVar8 + *(int *)puVar3) - *(int *)puVar1, 200);
		ENG_set_pixel(iVar7, iVar8 + *(int *)puVar3, 200);
	}
	if ((param_3 >> 8 & 0x80) != 0) {
		uVar6 = (ulonglong) * (uint *)puVar2;
		DrawLine(param_1 - uVar6, (param_2 - uVar6) - (ulonglong) * (uint *)puVar1,
		    param_1 + (ulonglong) * (uint *)puVar3 + uVar6, param_2 + (ulonglong) * (uint *)puVar1,
		    0x90, param_6, param_7, param_8, in_stack_ffffff88);
		DrawLine(param_1 - (ulonglong) * (uint *)puVar3, param_2 - (ulonglong) * (uint *)puVar2,
		    param_1 + (ulonglong) * (uint *)puVar3, param_2 + (ulonglong) * (uint *)puVar2, 0x90,
		    param_6, param_7, param_8, in_stack_ffffff88);
		uVar6 = (ulonglong) * (uint *)puVar2;
		DrawLine((param_1 - (ulonglong) * (uint *)puVar3) - uVar6, param_2 - (ulonglong) * (uint *)puVar1, param_1 + uVar6, param_2 + uVar6 + (ulonglong) * (uint *)puVar1, 0x90, param_6, param_7,
		    param_8, in_stack_ffffff88);
		DrawLine(param_1 - (ulonglong) * (uint *)puVar4, param_2, param_1,
		    param_2 + (ulonglong) * (uint *)puVar3, 0x90, param_6, param_7, param_8, in_stack_ffffff88);
	}
	if (0xc < (param_3 & 0xf)) {
		return;
	}
	// WARNING: Could not recover jumptable at 0x10019da8. Too many branches
	// WARNING: Treating indirect jump as call
	(*(code *)ppuVar5[(param_3 & 0xf) - 0xb9d])();
	return;
}

void DrawAutomapPlr(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	uint uVar3;
	uint uVar4;
	int iVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	ulonglong uVar10;
	int iVar11;
	undefined uVar12;
	int iVar14;
	ulonglong uVar13;
	undefined uVar15;
	ulonglong uVar16;
	undefined uVar17;
	int iVar18;
	int iVar20;
	ulonglong uVar19;
	ulonglong uVar21;
	int iVar22;
	undefined4 in_stack_ffffffa8;

	puVar9 = PTR_DAT_100f1848;
	puVar8 = PTR_DAT_100f1844;
	puVar7 = PTR_DAT_100f1840;
	uVar12 = (undefined)((ulonglong) * (uint *)PTR_DAT_100f1824 * 0x55ec);
	iVar5 = (int)((ulonglong) * (uint *)PTR_DAT_100f1824 * 0x55ec);
	if (*(int *)(PTR_DAT_100f1828 + iVar5) == 3) {
		puVar6 = PTR_DAT_100f1828 + iVar5;
		iVar11 = *(int *)(puVar6 + 0x40);
		iVar22 = *(int *)(puVar6 + 0x44);
		if (*(int *)(puVar6 + 0x70) == 2) {
			iVar11 = iVar11 + 1;
		} else {
			iVar22 = iVar22 + 1;
		}
	} else {
		iVar11 = *(int *)(PTR_DAT_100f1828 + iVar5 + 0x38);
		iVar22 = *(int *)(PTR_DAT_100f1828 + iVar5 + 0x3c);
	}
	iVar18 = *(int *)PTR_DAT_100f1854;
	iVar14 = iVar18 * *(int *)(PTR_DAT_100f1828 + iVar5 + 0x60);
	iVar20 = iVar18 * *(int *)(PTR_DAT_100f1828 + iVar5 + 100);
	uVar1 = *(uint *)PTR_DAT_100f1848;
	uVar13 = (ulonglong)uVar1;
	uVar15 = (undefined)uVar1;
	uVar2 = *(uint *)PTR_DAT_100f1844;
	uVar16 = (ulonglong)uVar2;
	uVar17 = (undefined)uVar2;
	uVar3 = iVar14 / 100 + (iVar14 >> 0x1f);
	uVar21 = (ulonglong)uVar3 + (ulonglong)(uVar3 >> 0x1f);
	iVar14 = *(int *)(PTR_DAT_100f1818 + 4) * iVar18;
	uVar3 = iVar20 / 100 + (iVar20 >> 0x1f);
	uVar19 = ((longlong)(int)((ulonglong)((longlong)iVar20 * 0x51eb851f) >> 0x20) & 0xffffffff00000000U | (ulonglong)uVar3) + (ulonglong)(uVar3 >> 0x1f);
	uVar3 = (*(int *)PTR_DAT_100f1818 * iVar18) / 100 + (*(int *)PTR_DAT_100f1818 * iVar18 >> 0x1f);
	iVar18 = (iVar11 - *(int *)PTR_DAT_100f1820) + *(int *)PTR_DAT_100f1830 * -2;
	iVar11 = (iVar22 - *(int *)PTR_DAT_100f181c) + *(int *)PTR_DAT_100f182c * -2;
	uVar10 = (longlong)iVar11 * (longlong)(int)uVar1;
	uVar4 = iVar14 / 100 + (iVar14 >> 0x1f);
	uVar21 = (((longlong)iVar18 * (longlong)(int)uVar1 + 0x180) - uVar10) + (uVar21 & 0xffffffff00000000 | (ulonglong)(uint)((int)uVar21 >> 1)) + (uVar10 & 0xffffffff00000000 | (ulonglong)(uint)((int)(uVar3 + (uVar3 >> 0x1f)) >> 1));
	uVar10 = ((longlong)(int)((ulonglong)((longlong)iVar14 * 0x51eb851f) >> 0x20) & 0xffffffff00000000U | (ulonglong)uVar4) + (ulonglong)(uVar4 >> 0x1f);
	if ((*(int *)PTR_DAT_100f1814 != 0) || (*(int *)PTR_DAT_100f1810 != 0)) {
		uVar21 = uVar21 - 0xa0;
	}
	if ((*(int *)PTR_DAT_100f180c != 0) || (*(int *)PTR_DAT_100f1808 != 0)) {
		uVar21 = uVar21 + 0xa0;
	}
	uVar10 = ((longlong)iVar18 * (longlong)(int)uVar2 + (longlong)iVar11 * (longlong)(int)uVar2 + 0x150 + (uVar19 & 0xffffffff00000000 | (ulonglong)(uint)((int)uVar19 >> 1)) + (uVar10 & 0xffffffff00000000 | (ulonglong)(uint)((int)uVar10 >> 1))) - uVar16;
	switch (*(undefined4 *)(PTR_DAT_100f1828 + iVar5 + 0x70)) {
	case 0:
		DrawLine(uVar21, uVar10, uVar21, uVar10 + uVar13, 0x99, uVar12, uVar15, uVar17, in_stack_ffffffa8);
		DrawLine(uVar21, uVar10 + (ulonglong) * (uint *)puVar9, uVar21 + (ulonglong) * (uint *)puVar7,
		    uVar10 + (ulonglong) * (uint *)puVar8, 0x99, uVar12, uVar15, uVar17, in_stack_ffffffa8);
		DrawLine(uVar21, uVar10 + (ulonglong) * (uint *)puVar9, uVar21 - (ulonglong) * (uint *)puVar7,
		    uVar10 + (ulonglong) * (uint *)puVar8, 0x99, uVar12, uVar15, uVar17, in_stack_ffffffa8);
		break;
	case 1:
		DrawLine(uVar21, uVar10, uVar21 - uVar13, uVar10 + uVar16, 0x99, uVar12, uVar15, uVar17,
		    in_stack_ffffffa8);
		DrawLine(uVar21 - (ulonglong) * (uint *)puVar9, uVar10 + (ulonglong) * (uint *)puVar8,
		    (uVar21 - (ulonglong) * (uint *)puVar8) - (ulonglong) * (uint *)puVar7, uVar10, 0x99,
		    uVar12, uVar15, uVar17, in_stack_ffffffa8);
		uVar10 = uVar10 + (ulonglong) * (uint *)puVar8;
		DrawLine(uVar21 - (ulonglong) * (uint *)puVar9, uVar10, uVar21 - (ulonglong) * (uint *)puVar8,
		    uVar10, 0x99, uVar12, uVar15, uVar17, in_stack_ffffffa8);
		break;
	case 2:
		DrawLine(uVar21, uVar10, uVar21 - uVar13, uVar10, 0x99, uVar12, uVar15, uVar17, in_stack_ffffffa8);
		DrawLine(uVar21 - (ulonglong) * (uint *)puVar9, uVar10, uVar21 - (ulonglong) * (uint *)puVar8,
		    uVar10 - (ulonglong) * (uint *)puVar7, 0x99, uVar12, uVar15, uVar17, in_stack_ffffffa8);
		DrawLine(uVar21 - (ulonglong) * (uint *)puVar9, uVar10, uVar21 - (ulonglong) * (uint *)puVar8,
		    uVar10 + (ulonglong) * (uint *)puVar7, 0x99, uVar12, uVar15, uVar17, in_stack_ffffffa8);
		break;
	case 3:
		DrawLine(uVar21, uVar10, uVar21 - uVar13, uVar10 - uVar16, 0x99, uVar12, uVar15, uVar17,
		    in_stack_ffffffa8);
		uVar13 = uVar10 - (ulonglong) * (uint *)puVar8;
		DrawLine(uVar21 - (ulonglong) * (uint *)puVar9, uVar13, uVar21 - (ulonglong) * (uint *)puVar8,
		    uVar13, 0x99, uVar12, uVar15, uVar17, in_stack_ffffffa8);
		DrawLine(uVar21 - (ulonglong) * (uint *)puVar9, uVar10 - (ulonglong) * (uint *)puVar8,
		    (uVar21 - (ulonglong) * (uint *)puVar8) - (ulonglong) * (uint *)puVar7, uVar10, 0x99,
		    uVar12, uVar15, uVar17, in_stack_ffffffa8);
		break;
	case 4:
		DrawLine(uVar21, uVar10, uVar21, uVar10 - uVar13, 0x99, uVar12, uVar15, uVar17, in_stack_ffffffa8);
		DrawLine(uVar21, uVar10 - (ulonglong) * (uint *)puVar9, uVar21 - (ulonglong) * (uint *)puVar7,
		    uVar10 - (ulonglong) * (uint *)puVar8, 0x99, uVar12, uVar15, uVar17, in_stack_ffffffa8);
		DrawLine(uVar21, uVar10 - (ulonglong) * (uint *)puVar9, uVar21 + (ulonglong) * (uint *)puVar7,
		    uVar10 - (ulonglong) * (uint *)puVar8, 0x99, uVar12, uVar15, uVar17, in_stack_ffffffa8);
		break;
	case 5:
		DrawLine(uVar21, uVar10, uVar21 + uVar13, uVar10 - uVar16, 0x99, uVar12, uVar15, uVar17,
		    in_stack_ffffffa8);
		uVar13 = uVar10 - (ulonglong) * (uint *)puVar8;
		DrawLine(uVar21 + (ulonglong) * (uint *)puVar9, uVar13, uVar21 + (ulonglong) * (uint *)puVar8,
		    uVar13, 0x99, uVar12, uVar15, uVar17, in_stack_ffffffa8);
		DrawLine(uVar21 + (ulonglong) * (uint *)puVar9, uVar10 - (ulonglong) * (uint *)puVar8,
		    uVar21 + (ulonglong) * (uint *)puVar8 + (ulonglong) * (uint *)puVar7, uVar10, 0x99, uVar12, uVar15, uVar17, in_stack_ffffffa8);
		break;
	case 6:
		DrawLine(uVar21, uVar10, uVar21 + uVar13, uVar10, 0x99, uVar12, uVar15, uVar17, in_stack_ffffffa8);
		DrawLine(uVar21 + (ulonglong) * (uint *)puVar9, uVar10, uVar21 + (ulonglong) * (uint *)puVar8,
		    uVar10 - (ulonglong) * (uint *)puVar7, 0x99, uVar12, uVar15, uVar17, in_stack_ffffffa8);
		DrawLine(uVar21 + (ulonglong) * (uint *)puVar9, uVar10, uVar21 + (ulonglong) * (uint *)puVar8,
		    uVar10 + (ulonglong) * (uint *)puVar7, 0x99, uVar12, uVar15, uVar17, in_stack_ffffffa8);
		break;
	case 7:
		DrawLine(uVar21, uVar10, uVar21 + uVar13, uVar10 + uVar16, 0x99, uVar12, uVar15, uVar17,
		    in_stack_ffffffa8);
		DrawLine(uVar21 + (ulonglong) * (uint *)puVar9, uVar10 + (ulonglong) * (uint *)puVar8,
		    uVar21 + (ulonglong) * (uint *)puVar8 + (ulonglong) * (uint *)puVar7, uVar10, 0x99, uVar12, uVar15, uVar17, in_stack_ffffffa8);
		uVar10 = uVar10 + (ulonglong) * (uint *)puVar8;
		DrawLine(uVar21 + (ulonglong) * (uint *)puVar9, uVar10, uVar21 + (ulonglong) * (uint *)puVar8,
		    uVar10, 0x99, uVar12, uVar15, uVar17, in_stack_ffffffa8);
	}
	return;
}

ulonglong GetAutomapType(longlong param_1, int param_2, int param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	ushort uVar1;
	ulonglong uVar2;
	ulonglong uVar3;
	undefined param_4_00;
	int iVar4;
	undefined4 param_9_00;

	iVar4 = (int)param_1;
	param_4_00 = SUB41(PTR_DAT_100f1838, 0);
	if ((((param_3 == 0) || (iVar4 != -1)) || (param_2 < 0)) || ((0x27 < param_2 || (PTR_DAT_100f1838[param_2] == '\0')))) {
		if ((((param_3 == 0) || ((param_2 != -1 || (iVar4 < 0)))) || (0x27 < iVar4)) || (PTR_DAT_100f1838[iVar4 * 0x28] == '\0')) {
			if ((iVar4 < 0) || (0x27 < iVar4)) {
				uVar2 = 0;
			} else {
				if ((param_2 < 0) || (0x27 < param_2)) {
					uVar2 = 0;
				} else {
					if ((PTR_DAT_100f1838[iVar4 * 0x28 + param_2] == '\0') && (param_3 != 0)) {
						uVar2 = 0;
					} else {
						uVar1 = *(ushort *)(_DAT_100f2a50 + (uint)(byte)PTR_DAT_100f1804[iVar4 * 0x28 + param_2] * 2);
						uVar2 = (ulonglong)uVar1;
						if ((uVar1 == 7) && ((uVar3 = GetAutomapType(param_1 + -1, param_2, 0, param_4_00, param_5, param_6, param_7, param_8, param_9_00), ((uint)uVar3 >> 8 & 8) != 0 && (uVar3 = GetAutomapType(param_1, param_2 + -1, 0, param_4_00, param_5, param_6, param_7, param_8, param_9_00), ((uint)uVar3 >> 8 & 4) != 0)))) {
							uVar2 = 1;
						}
					}
				}
			}
		} else {
			uVar2 = GetAutomapType(param_1, 0, 0, param_4_00, param_5, param_6, param_7, param_8, param_9_00);
			if ((uVar2 & 0x4000) == 0) {
				uVar2 = 0x4000;
			} else {
				uVar2 = 0;
			}
		}
	} else {
		uVar2 = GetAutomapType(0, param_2, 0, param_4_00, param_5, param_6, param_7, param_8, param_9_00);
		if ((uVar2 & 0x4000) == 0) {
			uVar2 = 0x4000;
		} else {
			uVar2 = 0;
		}
	}
	return uVar2;
}

void DrawAutomapGame(void)

{
	undefined *puVar1;
	undefined **ppuVar2;
	int iVar3;
	undefined4 in_r6;
	undefined8 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_fffffec8;
	undefined in_stack_fffffecf;
	undefined4 in_stack_fffffedc;
	undefined4 in_stack_fffffee0;
	undefined4 in_stack_fffffee4;
	undefined4 in_stack_fffffee8;
	undefined4 in_stack_fffffeec;
	undefined4 in_stack_fffffef0;
	undefined4 in_stack_fffffef4;
	byte abStack264[264];

	puVar1 = PTR_DAT_100f17fc;
	ppuVar2 = &toc;
	iVar3 = 0x14;
	if (1 < (byte)*PTR_DAT_100f17e0) {
		ppuVar2 = &toc;
		iVar3 = strcpy((int)abStack264, (int)PTR_s_game__100f2a34);
		strcat(iVar3, (int)ppuVar2[-0x1df4]);
		in_r6 = 3;
		PrintGameStr(8, 0x14, abStack264, 3, in_r7, in_r8, in_r9, in_r10, in_stack_fffffec8);
		iVar3 = 0x23;
		if (*puVar1 != '\0') {
			iVar3 = strcpy((int)abStack264, (int)ppuVar2[-0x1968]);
			strcat(iVar3, (int)puVar1);
			in_r6 = 3;
			PrintGameStr(8, 0x23, abStack264, 3, in_r7, in_r8, in_r9, in_r10, in_stack_fffffec8);
			iVar3 = 0x32;
		}
	}
	if (*ppuVar2[-0x1df6] == '\0') {
		if (*ppuVar2[-0x1df9] != 0) {
			sprintf((int)abStack264, ppuVar2[-0x1969], (uint)(byte)*ppuVar2[-0x1df9], in_r6, (int)in_r7,
			    in_r8, in_r9, in_r10, in_stack_fffffec8, in_stack_fffffecf, in_stack_fffffedc,
			    in_stack_fffffee0, in_stack_fffffee4, in_stack_fffffee8, in_stack_fffffeec,
			    in_stack_fffffef0, in_stack_fffffef4);
			PrintGameStr(8, iVar3, abStack264, 3, in_r7, in_r8, in_r9, in_r10, in_stack_fffffec8);
		}
	} else {
		PrintGameStr(8, iVar3, *(byte **)(ppuVar2[-0x1df7] + (uint)(byte)*ppuVar2[-0x1df8] * 4), 3,
		    ZEXT48(ppuVar2[-0x1df7]), in_r8, in_r9, in_r10, in_stack_fffffec8);
	}
	return;
}

// WARNING: Removing unreachable block (ram,0x1001abf0)
// WARNING: Removing unreachable block (ram,0x1001abfc)
// WARNING: Removing unreachable block (ram,0x1001ac60)
// WARNING: Removing unreachable block (ram,0x1001ac68)
// WARNING: Removing unreachable block (ram,0x1001ac6c)
// WARNING: Removing unreachable block (ram,0x1001ad54)
// WARNING: Removing unreachable block (ram,0x1001ad60)
// WARNING: Removing unreachable block (ram,0x1001adc4)
// WARNING: Removing unreachable block (ram,0x1001adcc)
// WARNING: Removing unreachable block (ram,0x1001add0)

void DrawAutomap(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	uint uVar3;
	uint uVar4;
	uint uVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined *puVar12;
	undefined *puVar13;
	undefined *puVar14;
	undefined *puVar15;
	ulonglong uVar16;
	ulonglong uVar17;
	int iVar18;
	ulonglong uVar19;
	ulonglong uVar20;
	longlong lVar21;
	int iVar22;
	undefined8 uVar23;
	ulonglong uVar24;
	ulonglong uVar25;
	longlong lVar26;
	ulonglong uVar27;
	int iVar28;
	longlong lVar29;
	longlong lVar30;
	longlong lVar31;
	longlong lVar32;
	ulonglong uVar33;
	undefined4 in_stack_ffffff98;

	puVar15 = PTR_DAT_100f1850;
	puVar14 = PTR_DAT_100f184c;
	puVar13 = PTR_DAT_100f1848;
	puVar12 = PTR_DAT_100f1844;
	puVar11 = PTR_DAT_100f1830;
	puVar10 = PTR_DAT_100f182c;
	puVar9 = PTR_DAT_100f1820;
	puVar8 = PTR_DAT_100f1818;
	puVar7 = PTR_DAT_100f17e8;
	puVar6 = PTR_DAT_100f17e4;
	if (*PTR_DAT_100f183c == '\0') {
		DrawAutomapGame();
		return;
	}
	*(int *)PTR_DAT_100f17c8 = *(int *)PTR_DAT_100f17cc + 0x60000;
	uVar1 = *(uint *)puVar9;
	uVar24 = (ulonglong)uVar1;
	*(int *)puVar7 = (int)(uVar1 - 0x10) >> 1;
	uVar25 = ((ulonglong) * (uint *)puVar7 + (ulonglong) * (uint *)puVar11) - 0x27;
	if (0x27 < (int)((ulonglong) * (uint *)puVar7 + (ulonglong) * (uint *)puVar11)) {
		uVar3 = (uint)uVar25 >> 3;
		uVar16 = (ulonglong)uVar3;
		if (uVar3 != 0) {
			do {
				*(int *)puVar11 = *(int *)puVar11 + -1;
				*(int *)puVar11 = *(int *)puVar11 + -1;
				*(int *)puVar11 = *(int *)puVar11 + -1;
				*(int *)puVar11 = *(int *)puVar11 + -1;
				*(int *)puVar11 = *(int *)puVar11 + -1;
				*(int *)puVar11 = *(int *)puVar11 + -1;
				*(int *)puVar11 = *(int *)puVar11 + -1;
				*(int *)puVar11 = *(int *)puVar11 + -1;
				uVar16 = uVar16 - 1;
			} while (uVar16 != 0);
			uVar25 = uVar25 & 7;
			if (uVar25 == 0)
				goto LAB_1001ad1c;
		}
		do {
			*(int *)puVar11 = *(int *)puVar11 + -1;
			uVar25 = uVar25 - 1;
		} while (uVar25 != 0);
	}
LAB_1001ad1c:
	puVar9 = PTR_DAT_100f181c;
	*(int *)puVar7 = *(int *)puVar7 + *(int *)puVar11;
	uVar3 = *(uint *)puVar9;
	uVar25 = (ulonglong)uVar3;
	*(int *)puVar6 = (int)(uVar3 - 0x10) >> 1;
	uVar16 = ((ulonglong) * (uint *)puVar6 + (ulonglong) * (uint *)puVar10) - 0x27;
	if (0x27 < (int)((ulonglong) * (uint *)puVar6 + (ulonglong) * (uint *)puVar10)) {
		uVar4 = (uint)uVar16 >> 3;
		uVar17 = (ulonglong)uVar4;
		if (uVar4 != 0) {
			do {
				*(int *)puVar10 = *(int *)puVar10 + -1;
				*(int *)puVar10 = *(int *)puVar10 + -1;
				*(int *)puVar10 = *(int *)puVar10 + -1;
				*(int *)puVar10 = *(int *)puVar10 + -1;
				*(int *)puVar10 = *(int *)puVar10 + -1;
				*(int *)puVar10 = *(int *)puVar10 + -1;
				*(int *)puVar10 = *(int *)puVar10 + -1;
				*(int *)puVar10 = *(int *)puVar10 + -1;
				uVar17 = uVar17 - 1;
			} while (uVar17 != 0);
			uVar16 = uVar16 & 7;
			if (uVar16 == 0)
				goto LAB_1001ae80;
		}
		do {
			*(int *)puVar10 = *(int *)puVar10 + -1;
			uVar16 = uVar16 - 1;
		} while (uVar16 != 0);
	}
LAB_1001ae80:
	iVar28 = _DAT_100f2a54;
	puVar9 = PTR_DAT_100f1854;
	*(int *)puVar6 = *(int *)puVar6 + *(int *)puVar10;
	iVar18 = *(int *)puVar9;
	uVar4 = *(uint *)puVar8;
	uVar2 = *(uint *)(puVar8 + 4);
	uVar16 = (ulonglong)uVar2;
	uVar5 = (iVar18 + -0x32) / 5 + (iVar18 + -0x32 >> 0x1f);
	uVar17 = SEXT18(*(char *)(iVar28 + uVar5 + (uVar5 >> 0x1f)));
	if ((ulonglong)uVar4 + uVar16 != 0) {
		uVar17 = uVar17 + 1;
	}
	iVar28 = (int)uVar17;
	lVar30 = (ulonglong) * (uint *)puVar7 - uVar17;
	lVar29 = (ulonglong) * (uint *)puVar6 - 1;
	if ((uVar17 & 1) == 0) {
		lVar26 = 0x180 - (longlong) * (int *)puVar15 * (longlong)(iVar28 >> 1);
		lVar32 = (ulonglong) * (uint *)puVar14 + lVar26;
		lVar31 = (0x150 - (longlong)(int)*(uint *)puVar14 * (longlong)(iVar28 >> 1)) - (ulonglong) * (uint *)puVar13;
	} else {
		lVar26 = (longlong) * (int *)puVar15 * (longlong)(iVar28 + -1 >> 1);
		lVar32 = 0x180 - lVar26;
		lVar31 = 0x150 - (longlong) * (int *)puVar14 * (longlong)(iVar28 + 1 >> 1);
	}
	if ((uVar1 & 1) != 0) {
		lVar32 = lVar32 - (ulonglong) * (uint *)puVar13;
		lVar31 = lVar31 - (ulonglong) * (uint *)puVar12;
	}
	if ((uVar3 & 1) != 0) {
		lVar32 = lVar32 + (ulonglong) * (uint *)puVar13;
		lVar31 = lVar31 - (ulonglong) * (uint *)puVar12;
	}
	lVar21 = (longlong)(int)uVar4 * (longlong)iVar18;
	uVar23 = 0x51eb851f;
	iVar18 = uVar2 * iVar18;
	iVar22 = (int)lVar21;
	uVar1 = iVar22 / 100 + (iVar22 >> 0x1f);
	uVar17 = (ulonglong)(uVar1 >> 0x1f);
	uVar19 = ((longlong)(int)((ulonglong)((longlong)iVar22 * 0x51eb851f) >> 0x20) & 0xffffffff00000000U | (ulonglong)uVar1) + uVar17;
	uVar33 = lVar32 + (uVar19 & 0xffffffff00000000 | (ulonglong)(uint)((int)uVar19 >> 1));
	uVar1 = iVar18 / 100 + (iVar18 >> 0x1f);
	uVar19 = ((longlong)(int)((ulonglong)((longlong)iVar18 * 0x51eb851f) >> 0x20) & 0xffffffff00000000U | (ulonglong)uVar1) + (ulonglong)(uVar1 >> 0x1f);
	uVar19 = lVar31 + (uVar19 & 0xffffffff00000000 | (ulonglong)(uint)((int)uVar19 >> 1));
	if ((*(int *)PTR_DAT_100f1814 != 0) || (*(int *)PTR_DAT_100f1810 != 0)) {
		uVar33 = uVar33 - 0xa0;
	}
	uVar20 = ZEXT48(PTR_DAT_100f180c);
	if ((*(int *)PTR_DAT_100f180c != 0) || (uVar20 = ZEXT48(PTR_DAT_100f1808), *(int *)PTR_DAT_100f1808 != 0)) {
		uVar33 = uVar33 + 0xa0;
	}
	iVar18 = 0;
	while (iVar18 <= iVar28 + 1) {
		lVar31 = 0;
		uVar20 = uVar33;
		while ((int)lVar31 < iVar28) {
			uVar17 = lVar29 - lVar31;
			uVar16 = GetAutomapType(lVar30 + lVar31, (int)uVar17, 1, (char)lVar21, (char)uVar23, (char)uVar24,
			    (char)uVar25, (char)lVar26, in_stack_ffffff98);
			if ((uVar16 & 0xffff) != 0) {
				uVar17 = uVar19;
				DrawAutomapType(uVar20, uVar19, (uint)uVar16, (char)lVar21, (char)uVar23, (char)uVar24, (char)uVar25,
				    (char)lVar26, in_stack_ffffff98);
			}
			lVar31 = lVar31 + 1;
			uVar20 = uVar20 + (ulonglong) * (uint *)puVar15;
		}
		uVar20 = (ulonglong) * (uint *)puVar14;
		lVar31 = 0;
		uVar1 = *(uint *)puVar13;
		lVar29 = lVar29 + 1;
		uVar27 = uVar33 - uVar20;
		while ((int)lVar31 <= iVar28) {
			uVar17 = lVar29 - lVar31;
			uVar20 = GetAutomapType(lVar30 + lVar31, (int)uVar17, 1, (char)lVar21, (char)uVar23, (char)uVar24,
			    (char)uVar25, (char)lVar26, in_stack_ffffff98);
			uVar16 = uVar20;
			if ((uVar20 & 0xffff) != 0) {
				uVar17 = uVar19 + (ulonglong)uVar1;
				uVar16 = uVar20;
				uVar20 = DrawAutomapType(uVar27, uVar19 + (ulonglong)uVar1, (uint)uVar20, (char)lVar21,
				    (char)uVar23, (char)uVar24, (char)uVar25, (char)lVar26, in_stack_ffffff98);
			}
			lVar31 = lVar31 + 1;
			uVar27 = uVar27 + (ulonglong) * (uint *)puVar15;
		}
		lVar30 = lVar30 + 1;
		iVar18 = iVar18 + 1;
		uVar19 = uVar19 + (ulonglong) * (uint *)puVar14;
	}
	DrawAutomapPlr((char)uVar20, (char)uVar17, (char)uVar16, (char)lVar21, (char)uVar23, (char)uVar24,
	    (char)uVar25, (char)lVar26, in_stack_ffffff98);
	DrawAutomapGame();
	return;
}

void FUN_1001b0dc(longlong param_1, int param_2, undefined param_3, undefined param_4, undefined param_5, undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int iVar1;
	uint uVar2;
	int iVar3;
	undefined *puVar4;
	ulonglong uVar5;
	ulonglong uVar6;
	undefined4 in_stack_ffffffb8;

	puVar4 = PTR_DAT_100f1838;
	uVar2 = (int)(param_1 - 0x10U) >> 1;
	uVar5 = param_1 - 0x10U & 0xffffffff00000000 | (ulonglong)uVar2;
	iVar1 = param_2 + -0x10 >> 1;
	if ((((-1 < (longlong)uVar5) && ((int)uVar2 < 0x28)) && (-1 < iVar1)) && (iVar1 < 0x28)) {
		iVar3 = uVar2 * 0x28;
		PTR_DAT_100f1838[iVar3 + iVar1] = 1;
		uVar6 = GetAutomapType(uVar5, iVar1, 0, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
		uVar2 = (uint)uVar6 & 0xf;
		if (uVar2 == 4) {
			if ((uVar6 & 0x4000) == 0) {
				uVar6 = GetAutomapType(uVar5 - 1, iVar1, 0, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffffb8);
				if ((uVar6 & 0x4000) != 0) {
					puVar4[iVar1 + iVar3 + -0x28] = 1;
				}
				uVar6 = GetAutomapType(uVar5, iVar1 + -1, 0, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffffb8);
				if ((uVar6 & 0x4000) != 0) {
					puVar4[iVar1 + iVar3 + -1] = 1;
				}
				uVar5 = GetAutomapType(uVar5 - 1, iVar1 + -1, 0, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffffb8);
				if ((uVar5 & 0x4000) != 0) {
					puVar4[iVar1 + iVar3 + -0x29] = 1;
				}
			} else {
				uVar6 = GetAutomapType(uVar5, iVar1 + 1, 0, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffffb8);
				if (((uint)uVar6 & 0xffff) == 0x4007) {
					puVar4[iVar1 + iVar3 + 1] = 1;
				}
				uVar5 = GetAutomapType(uVar5 + 1, iVar1, 0, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffffb8);
				if (((uint)uVar5 & 0xffff) == 0x4007) {
					puVar4[iVar1 + iVar3 + 0x28] = 1;
				}
			}
		} else {
			if (uVar2 < 4) {
				if (uVar2 == 2) {
					if ((uVar6 & 0x4000) == 0) {
						uVar5 = GetAutomapType(uVar5 - 1, iVar1, 0, param_4, param_5, param_6, param_7, param_8,
						    in_stack_ffffffb8);
						if ((uVar5 & 0x4000) != 0) {
							puVar4[iVar1 + iVar3 + -0x28] = 1;
						}
					} else {
						uVar5 = GetAutomapType(uVar5, iVar1 + 1, 0, param_4, param_5, param_6, param_7, param_8,
						    in_stack_ffffffb8);
						if (((uint)uVar5 & 0xffff) == 0x4007) {
							puVar4[iVar1 + iVar3 + 1] = 1;
						}
					}
				} else {
					if (1 < uVar2) {
						if ((uVar6 & 0x4000) == 0) {
							uVar5 = GetAutomapType(uVar5, iVar1 + -1, 0, param_4, param_5, param_6, param_7, param_8,
							    in_stack_ffffffb8);
							if ((uVar5 & 0x4000) != 0) {
								puVar4[iVar1 + iVar3 + -1] = 1;
							}
						} else {
							uVar5 = GetAutomapType(uVar5 + 1, iVar1, 0, param_4, param_5, param_6, param_7, param_8,
							    in_stack_ffffffb8);
							if (((uint)uVar5 & 0xffff) == 0x4007) {
								puVar4[iVar1 + iVar3 + 0x28] = 1;
							}
						}
					}
				}
			} else {
				if (uVar2 == 6) {
					if ((uVar6 & 0x4000) == 0) {
						uVar5 = GetAutomapType(uVar5, iVar1 + -1, 0, param_4, param_5, param_6, param_7, param_8,
						    in_stack_ffffffb8);
						if ((uVar5 & 0x4000) != 0) {
							puVar4[iVar1 + iVar3 + -1] = 1;
						}
					} else {
						uVar6 = GetAutomapType(uVar5 - 1, iVar1, 0, param_4, param_5, param_6, param_7, param_8,
						    in_stack_ffffffb8);
						if ((uVar6 & 0x4000) != 0) {
							puVar4[iVar1 + iVar3 + -0x28] = 1;
						}
						uVar5 = GetAutomapType(uVar5 + 1, iVar1, 0, param_4, param_5, param_6, param_7, param_8,
						    in_stack_ffffffb8);
						if (((uint)uVar5 & 0xffff) == 0x4007) {
							puVar4[iVar1 + iVar3 + 0x28] = 1;
						}
					}
				} else {
					if (uVar2 < 6) {
						if ((uVar6 & 0x4000) == 0) {
							uVar5 = GetAutomapType(uVar5 - 1, iVar1, 0, param_4, param_5, param_6, param_7, param_8,
							    in_stack_ffffffb8);
							if ((uVar5 & 0x4000) != 0) {
								puVar4[iVar1 + iVar3 + -0x28] = 1;
							}
						} else {
							uVar6 = GetAutomapType(uVar5, iVar1 + -1, 0, param_4, param_5, param_6, param_7, param_8,
							    in_stack_ffffffb8);
							if ((uVar6 & 0x4000) != 0) {
								puVar4[iVar1 + iVar3 + -1] = 1;
							}
							uVar5 = GetAutomapType(uVar5, iVar1 + 1, 0, param_4, param_5, param_6, param_7, param_8,
							    in_stack_ffffffb8);
							if (((uint)uVar5 & 0xffff) == 0x4007) {
								puVar4[iVar1 + iVar3 + 1] = 1;
							}
						}
					}
				}
			}
		}
	}
	return;
}

void AutomapZoomReset(void)

{
	uint uVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;

	puVar8 = PTR_DAT_100f1850;
	puVar7 = PTR_DAT_100f184c;
	puVar6 = PTR_DAT_100f1848;
	puVar5 = PTR_DAT_100f1844;
	puVar4 = PTR_DAT_100f1840;
	puVar3 = PTR_DAT_100f1830;
	puVar2 = PTR_DAT_100f182c;
	uVar1 = (*(int *)PTR_DAT_100f1854 << 6) / 100 + ((*(int *)PTR_DAT_100f1854 << 6) >> 0x1f);
	*(uint *)PTR_DAT_100f1850 = uVar1 + (uVar1 >> 0x1f);
	*(int *)puVar7 = *(int *)puVar8 >> 1;
	*(int *)puVar6 = *(int *)puVar7 >> 1;
	*(int *)puVar5 = *(int *)puVar6 >> 1;
	*(int *)puVar4 = *(int *)puVar5 >> 1;
	*(undefined4 *)puVar3 = 0;
	*(undefined4 *)puVar2 = 0;
	return;
}

void FUN_1001b4a8(void)

{
	_DAT_100f3fd8 = _DAT_100f3fd4;
	return;
}

void FUN_1001b4b4(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	FUN_100a42a0(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_1001b4d4(undefined4 param_1, int param_2, char param_3, char param_4, char param_5, char param_6, char param_7, char param_8, undefined4 param_9, undefined param_10,
    undefined4 param_11)

{
	bool bVar1;
	byte bVar2;
	uint uVar3;
	uint uVar4;
	uint uVar5;
	int iVar6;
	ulonglong uVar7;
	undefined8 uVar8;
	longlong lVar9;
	undefined *puVar10;
	undefined uVar12;
	byte *pbVar11;
	longlong lVar13;
	longlong lVar14;
	undefined uVar15;
	char cVar16;
	undefined uVar17;
	undefined uVar19;
	longlong lVar18;
	undefined uVar21;
	ulonglong uVar20;
	undefined uVar22;
	longlong lVar23;
	undefined uVar25;
	ulonglong uVar24;
	longlong lVar26;
	undefined uVar31;
	int iVar27;
	int iVar28;
	int iVar29;
	int iVar30;
	longlong lVar32;
	longlong lVar33;
	byte local_f8[84];
	undefined local_a4;
	undefined uStack163;

	lVar26 = (longlong)param_8;
	lVar23 = (longlong)param_7;
	lVar18 = (longlong)param_6;
	lVar14 = (longlong)param_5;
	lVar33 = (longlong)param_4;
	lVar13 = (longlong)param_3;
	lVar9 = (longlong)param_2;
	uVar7 = ZEXT48(register0x0000000c);
	iVar6 = (int)(uVar7 - 0x130);
	*(BADSPACEBASE **)iVar6 = register0x0000000c;
	*(undefined4 *)(iVar6 + 0x148) = param_1;
	uVar8 = vc_srand(0x58, (char)param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    *(undefined *)(iVar6 + 0xb), *(undefined *)(iVar6 + 0xf),
	    *(undefined4 *)(iVar6 + 0x14));
	lVar32 = uVar7 - 0xa4;
	iVar27 = 0x87;
	do {
		uVar8 = vc_rand((char)uVar8, (char)lVar9, (char)lVar13, (char)lVar33, (char)lVar14, (char)lVar18,
		    (char)lVar23, (char)lVar26, *(undefined *)(iVar6 + 0xb),
		    *(undefined *)(iVar6 + 0xf), *(undefined4 *)(iVar6 + 0x14));
		uVar31 = (undefined)lVar26;
		uVar25 = (undefined)lVar23;
		uVar22 = (undefined)lVar18;
		uVar21 = (undefined)lVar14;
		uVar19 = (undefined)lVar33;
		bVar1 = iVar27 != 0;
		*(undefined *)lVar32 = (char)uVar8;
		lVar32 = lVar32 + 1;
		iVar27 = iVar27 + -1;
	} while (bVar1);
	*(undefined2 *)(iVar6 + 0x8c) = CONCAT11(uStack163, local_a4);
	lVar9 = uVar7 - 0xe4;
	lVar33 = 8;
	lVar13 = 0;
	cVar16 = '\0';
	do {
		if (*(char *)(param_2 + (int)lVar13) == '\0') {
			lVar13 = 0;
		}
		lVar14 = lVar13 + 1;
		puVar10 = (undefined *)lVar9;
		*puVar10 = *(undefined *)(param_2 + (int)lVar13);
		if (*(char *)(param_2 + (int)lVar14) == '\0') {
			lVar14 = 0;
		}
		lVar13 = lVar14 + 1;
		puVar10[1] = *(undefined *)(param_2 + (int)lVar14);
		if (*(char *)(param_2 + (int)lVar13) == '\0') {
			lVar13 = 0;
		}
		lVar14 = lVar13 + 1;
		puVar10[2] = *(undefined *)(param_2 + (int)lVar13);
		if (*(char *)(param_2 + (int)lVar14) == '\0') {
			lVar14 = 0;
		}
		lVar13 = lVar14 + 1;
		puVar10[3] = *(undefined *)(param_2 + (int)lVar14);
		if (*(char *)(param_2 + (int)lVar13) == '\0') {
			lVar13 = 0;
		}
		lVar14 = lVar13 + 1;
		puVar10[4] = *(undefined *)(param_2 + (int)lVar13);
		if (*(char *)(param_2 + (int)lVar14) == '\0') {
			lVar14 = 0;
		}
		lVar13 = lVar14 + 1;
		puVar10[5] = *(undefined *)(param_2 + (int)lVar14);
		if (*(char *)(param_2 + (int)lVar13) == '\0') {
			lVar13 = 0;
		}
		lVar14 = lVar13 + 1;
		puVar10[6] = *(undefined *)(param_2 + (int)lVar13);
		if (*(char *)(param_2 + (int)lVar14) == '\0') {
			lVar14 = 0;
		}
		lVar13 = lVar14 + 1;
		cVar16 = cVar16 + '\a';
		puVar10[7] = *(undefined *)(param_2 + (int)lVar14);
		lVar9 = lVar9 + 8;
		lVar33 = lVar33 + -1;
	} while (lVar33 != 0);
	FUN_100a43b4(0, (char)lVar13, cVar16, uVar19, uVar21, uVar22, uVar25, uVar31, *(undefined4 *)(iVar6 + 8));
	uVar15 = (undefined)(uVar7 - 0xe4);
	uVar17 = (undefined)(uVar7 - 0xf8);
	uVar12 = FUN_100a4358(0, uVar7 - 0xe4, (uint *)(uVar7 - 0xf8), uVar19, uVar21, uVar22, uVar25, uVar31,
	    *(undefined4 *)(iVar6 + 8));
	FUN_100a42a0(uVar12, uVar15, uVar17, uVar19, uVar21, uVar22, uVar25, uVar31, *(undefined4 *)(iVar6 + 8));
	lVar33 = 0x11;
	uVar8 = 0x66666667;
	lVar9 = uVar7 - 0xa4;
	lVar13 = 0;
	do {
		iVar30 = (int)lVar13;
		pbVar11 = (byte *)lVar9;
		uVar3 = iVar30 / 0x14 + (iVar30 >> 0x1f);
		iVar27 = iVar30 + 1;
		uVar4 = iVar27 / 0x14 + (iVar27 >> 0x1f);
		iVar28 = iVar30 + 2;
		uVar5 = iVar28 / 0x14 + (iVar28 >> 0x1f);
		*pbVar11 = *pbVar11 ^ local_f8[iVar30 + (uVar3 + (uVar3 >> 0x1f)) * -0x14];
		iVar29 = iVar30 + 3;
		uVar3 = iVar29 / 0x14 + (iVar29 >> 0x1f);
		pbVar11[1] = pbVar11[1] ^ local_f8[iVar27 + (uVar4 + (uVar4 >> 0x1f)) * -0x14];
		iVar27 = iVar30 + 4;
		uVar4 = iVar27 / 0x14 + (iVar27 >> 0x1f);
		pbVar11[2] = pbVar11[2] ^ local_f8[iVar28 + (uVar5 + (uVar5 >> 0x1f)) * -0x14];
		iVar28 = iVar30 + 5;
		uVar5 = iVar28 / 0x14 + (iVar28 >> 0x1f);
		pbVar11[3] = pbVar11[3] ^ local_f8[iVar29 + (uVar3 + (uVar3 >> 0x1f)) * -0x14];
		iVar30 = iVar30 + 6;
		uVar3 = iVar30 / 0x14 + (iVar30 >> 0x1f);
		pbVar11[4] = pbVar11[4] ^ local_f8[iVar27 + (uVar4 + (uVar4 >> 0x1f)) * -0x14];
		iVar27 = (int)(lVar13 + 7);
		pbVar11[5] = pbVar11[5] ^ local_f8[iVar28 + (uVar5 + (uVar5 >> 0x1f)) * -0x14];
		uVar4 = iVar27 / 0x14 + (iVar27 >> 0x1f);
		uVar20 = (ulonglong)(uVar4 >> 0x1f);
		lVar14 = ((ulonglong)uVar4 + uVar20) * 0x14;
		pbVar11[6] = pbVar11[6] ^ local_f8[iVar30 + (uVar3 + (uVar3 >> 0x1f)) * -0x14];
		lVar18 = lVar13 + 7 + ((ulonglong)uVar4 + uVar20) * -0x14;
		lVar13 = lVar13 + 8;
		bVar2 = pbVar11[7];
		uVar24 = (ulonglong)bVar2;
		pbVar11[7] = bVar2 ^ local_f8[(int)lVar18];
		lVar9 = lVar9 + 8;
		lVar33 = lVar33 + -1;
	} while (lVar33 != 0);
	*(undefined2 *)(iVar6 + 0x8c) = CONCAT11(uStack163, local_a4);
	cVar16 = (char)(uVar7 - 0x130);
	memset(cVar16 + 'L', 0x40, (char)lVar14, (char)lVar18, (byte)(uVar4 >> 0x1f), 0x67, bVar2,
	    (char)lVar13, *(undefined *)(iVar6 + 0xb), *(undefined *)(iVar6 + 0xf),
	    *(undefined4 *)(iVar6 + 0x14));
	lVar9 = 0x14;
	memset(cVar16 + '8', 0x14, (char)lVar14, (char)lVar18, (char)uVar20, (char)uVar8, (char)uVar24,
	    (char)lVar13, *(undefined *)(iVar6 + 0xb), *(undefined *)(iVar6 + 0xf),
	    *(undefined4 *)(iVar6 + 0x14));
	iVar27 = 0;
	do {
		FUN_100a43b4(iVar27, (char)lVar9, (char)lVar14, (char)lVar18, (char)uVar20, (char)uVar8, (char)uVar24,
		    (char)lVar13, *(undefined4 *)(iVar6 + 8));
		lVar14 = 0;
		lVar9 = uVar7 - 0x5c;
		FUN_100a4358(iVar27, uVar7 - 0x5c, (uint *)0x0, (char)lVar18, (char)uVar20, (char)uVar8, (char)uVar24,
		    (char)lVar13, *(undefined4 *)(iVar6 + 8));
		iVar27 = iVar27 + 1;
	} while (iVar27 < 3);
	memset(cVar16 + -0x74, 0x88, (char)lVar14, (char)lVar18, (char)uVar20, (char)uVar8, (char)uVar24,
	    (char)lVar13, *(undefined *)(iVar6 + 0xb), *(undefined *)(iVar6 + 0xf),
	    *(undefined4 *)(iVar6 + 0x14));
	return;
}

longlong FUN_1001b8b0(uint *param_1, ulonglong param_2, int param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	byte bVar1;
	byte bVar2;
	byte bVar3;
	uint uVar4;
	uint uVar5;
	undefined *puVar6;
	char cVar7;
	int *piVar8;
	ulonglong uVar9;
	longlong lVar10;
	byte *pbVar11;
	undefined uVar12;
	longlong lVar13;
	int iVar14;
	undefined uVar15;
	undefined uVar16;
	longlong lVar17;
	undefined uVar18;
	ulonglong uVar19;
	undefined uVar20;
	longlong lVar21;
	undefined uVar22;
	ulonglong uVar23;
	undefined uVar24;
	int iVar26;
	ulonglong uVar25;
	undefined uVar27;
	int iVar28;
	int iVar29;
	undefined8 unaff_r24;
	undefined8 unaff_r25;
	int iVar30;
	undefined8 unaff_r26;
	int iVar31;
	undefined8 unaff_r27;
	longlong lVar32;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	ulonglong uVar33;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	longlong lVar34;
	byte local_b4[148];
	undefined4 local_20;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	uVar25 = SEXT18(param_8);
	uVar23 = SEXT18(param_7);
	lVar21 = (longlong)param_6;
	uVar19 = SEXT18(param_5);
	lVar17 = (longlong)param_4;
	lVar10 = (longlong)param_3;
	lVar32 = (longlong)(int)param_1;
	uVar9 = ZEXT48(register0x0000000c);
	local_20 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	puVar6 = (undefined *)(uVar9 - 0x110);
	*(BADSPACEBASE **)puVar6 = register0x0000000c;
	FUN_1001b4d4(0, param_3, (char)param_3, param_4, param_5, param_6, param_7, param_8,
	    *(undefined4 *)(puVar6 + 8), puVar6[0xf], *(undefined4 *)(puVar6 + 0x18));
	if ((8 < (param_2 & 0xffffffff)) && (param_2 = param_2 - 8, (param_2 & 0x3f) == 0)) {
		uVar33 = param_2;
		while (true) {
			uVar16 = (undefined)lVar10;
			uVar18 = (undefined)lVar17;
			uVar20 = (undefined)uVar19;
			uVar22 = (undefined)lVar21;
			uVar24 = (undefined)uVar23;
			uVar27 = (undefined)uVar25;
			cVar7 = (char)(uVar9 - 0x110);
			if ((uVar33 & 0xffffffff) == 0)
				break;
			memcpy(cVar7 + 'p', (char)lVar32, 0x40, uVar18, uVar20, uVar22, uVar24, uVar27, puVar6[0xb],
			    puVar6[0xf], *(undefined4 *)(puVar6 + 0x14));
			FUN_100a42cc(0, puVar6 + 0x5c, *puVar6);
			lVar10 = uVar9 - 0xa0;
			lVar34 = 8;
			lVar13 = 0;
			do {
				iVar14 = (int)lVar13;
				iVar30 = iVar14 + 1;
				iVar31 = iVar14 + 2;
				pbVar11 = (byte *)lVar10;
				iVar29 = iVar14 + 3;
				uVar4 = iVar14 / 0x14 + (iVar14 >> 0x1f);
				iVar28 = iVar14 + 4;
				iVar26 = iVar14 + 5;
				lVar21 = lVar13 + 6;
				lVar17 = lVar13 + 7;
				lVar13 = lVar13 + 8;
				uVar5 = iVar30 / 0x14 + (iVar30 >> 0x1f);
				*pbVar11 = local_b4[iVar14 + (uVar4 + (uVar4 >> 0x1f)) * -0x14] ^ *pbVar11;
				uVar4 = iVar31 / 0x14 + (iVar31 >> 0x1f);
				pbVar11[1] = local_b4[iVar30 + (uVar5 + (uVar5 >> 0x1f)) * -0x14] ^ pbVar11[1];
				uVar5 = iVar29 / 0x14 + (iVar29 >> 0x1f);
				pbVar11[2] = local_b4[iVar31 + (uVar4 + (uVar4 >> 0x1f)) * -0x14] ^ pbVar11[2];
				uVar4 = iVar28 / 0x14 + (iVar28 >> 0x1f);
				pbVar11[3] = local_b4[iVar29 + (uVar5 + (uVar5 >> 0x1f)) * -0x14] ^ pbVar11[3];
				uVar5 = iVar26 / 0x14 + (iVar26 >> 0x1f);
				pbVar11[4] = local_b4[iVar28 + (uVar4 + (uVar4 >> 0x1f)) * -0x14] ^ pbVar11[4];
				iVar28 = (int)lVar21;
				bVar1 = pbVar11[5];
				uVar23 = (ulonglong)bVar1;
				uVar4 = iVar28 / 0x14 + (iVar28 >> 0x1f);
				iVar14 = (int)lVar17;
				bVar2 = local_b4[iVar26 + (uVar5 + (uVar5 >> 0x1f)) * -0x14];
				uVar25 = (ulonglong)bVar2;
				pbVar11[5] = bVar2 ^ bVar1;
				uVar5 = iVar14 / 0x14 + (iVar14 >> 0x1f);
				bVar3 = local_b4[iVar28 + (uVar4 + (uVar4 >> 0x1f)) * -0x14];
				uVar19 = (ulonglong)bVar3;
				pbVar11[6] = bVar3 ^ pbVar11[6];
				pbVar11[7] = local_b4[iVar14 + (uVar5 + (uVar5 >> 0x1f)) * -0x14] ^ pbVar11[7];
				lVar10 = lVar10 + 8;
				lVar34 = lVar34 + -1;
			} while (lVar34 != 0);
			uVar16 = 0;
			FUN_100a4358(0, uVar9 - 0xa0, (uint *)0x0, (char)lVar17, bVar3, (char)lVar21, bVar1, bVar2,
			    *(undefined4 *)(puVar6 + 8));
			memset(cVar7 + '\\', 0x14, uVar16, (char)lVar17, (char)uVar19, (char)lVar21, (char)uVar23,
			    (char)uVar25, puVar6[0xb], puVar6[0xf], *(undefined4 *)(puVar6 + 0x14));
			lVar10 = 0x40;
			memcpy((char)lVar32, cVar7 + 'p', 0x40, (char)lVar17, (char)uVar19, (char)lVar21, (char)uVar23,
			    (char)uVar25, puVar6[0xb], puVar6[0xf], *(undefined4 *)(puVar6 + 0x14));
			lVar32 = lVar32 + 0x40;
			uVar33 = uVar33 - 0x40;
		}
		uVar15 = 0x80;
		uVar12 = memset(cVar7 + 'p', 0x80, uVar16, uVar18, uVar20, uVar22, uVar24, uVar27, puVar6[0xb],
		    puVar6[0xf], *(undefined4 *)(puVar6 + 0x14));
		piVar8 = (int *)lVar32;
		if (*(char *)(piVar8 + 1) == '\0') {
			uVar12 = (undefined)(uVar9 - 200);
			FUN_100a42cc(0, (int)(uVar9 - 200), *puVar6);
			if (*piVar8 == *(int *)(puVar6 + 0x48)) {
				bVar1 = *(byte *)((int)piVar8 + 5);
				FUN_1001b4b4((char)*piVar8, uVar12, uVar16, uVar18, uVar20, uVar22, uVar24, uVar27,
				    *(undefined4 *)(puVar6 + 8));
				return param_2 - (0x40 - (ulonglong)bVar1);
			}
			uVar15 = 0x14;
			uVar12 = memset(cVar7 + 'H', 0x14, uVar16, uVar18, uVar20, uVar22, uVar24, uVar27, puVar6[0xb],
			    puVar6[0xf], *(undefined4 *)(puVar6 + 0x14));
		}
		FUN_1001b4b4(uVar12, uVar15, uVar16, uVar18, uVar20, uVar22, uVar24, uVar27, *(undefined4 *)(puVar6 + 8));
	}
	return 0;
}

longlong codec_get_encoded_len(ulonglong param_1)

{
	if ((param_1 & 0x3f) != 0) {
		param_1 = param_1 + (0x40 - (ulonglong)((uint)param_1 & 0x3f));
	}
	return param_1 + 8;
}

void codec_encode(uint *param_1, ulonglong param_2, ulonglong param_3, longlong param_4,
    ulonglong param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	byte bVar1;
	byte bVar2;
	byte bVar3;
	byte bVar4;
	undefined4 uVar5;
	uint uVar6;
	uint uVar7;
	undefined *puVar8;
	char cVar9;
	ulonglong uVar10;
	undefined **ppuVar11;
	ulonglong uVar12;
	longlong lVar13;
	byte *pbVar14;
	longlong lVar15;
	int iVar16;
	undefined uVar17;
	char cVar19;
	ulonglong uVar18;
	undefined uVar20;
	longlong lVar21;
	undefined uVar22;
	undefined uVar23;
	longlong lVar24;
	undefined uVar25;
	ulonglong uVar26;
	undefined uVar27;
	int iVar29;
	ulonglong uVar28;
	undefined uVar30;
	int iVar31;
	int iVar32;
	undefined8 unaff_r24;
	ulonglong uVar33;
	undefined8 unaff_r25;
	int iVar34;
	undefined8 unaff_r26;
	int iVar35;
	undefined8 unaff_r27;
	longlong lVar36;
	undefined4 *puVar37;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	longlong lVar38;
	byte local_b4[148];
	undefined4 local_20;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	uVar28 = SEXT48(param_8);
	uVar26 = SEXT48(param_7);
	lVar24 = (longlong)param_6;
	lVar36 = (longlong)(int)param_1;
	uVar10 = ZEXT48(register0x0000000c);
	ppuVar11 = &toc;
	local_20 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	puVar8 = (undefined *)(uVar10 - 0x110);
	*(BADSPACEBASE **)puVar8 = register0x0000000c;
	uVar33 = param_2;
	uVar18 = param_3;
	lVar21 = param_4;
	uVar12 = codec_get_encoded_len(param_2, *puVar8);
	if ((param_3 & 0xffffffff) != (uVar12 & 0xffffffff)) {
		app_fatal((int)ppuVar11[-0x195e], uVar33, uVar18, lVar21, param_5, (int)lVar24, (int)uVar26,
		    (int)uVar28, *(undefined4 *)(puVar8 + 8), puVar8[0xf], *(undefined4 *)(puVar8 + 0x18),
		    *(undefined4 *)(puVar8 + 0x1c), *(undefined4 *)(puVar8 + 0x20),
		    *(undefined4 *)(puVar8 + 0x24), *(undefined4 *)(puVar8 + 0x28),
		    *(undefined4 *)(puVar8 + 0x2c), *(undefined4 *)(puVar8 + 0x30),
		    *(undefined4 *)(puVar8 + 0x34));
	}
	FUN_1001b4d4(1, (int)param_4, (char)uVar18, (char)lVar21, (char)param_5, (char)lVar24, (char)uVar26,
	    (char)uVar28, *(undefined4 *)(puVar8 + 8), puVar8[0xf], *(undefined4 *)(puVar8 + 0x18));
	uVar33 = 0;
	while (true) {
		uVar20 = (undefined)uVar18;
		uVar22 = (undefined)lVar21;
		uVar23 = (undefined)param_5;
		uVar25 = (undefined)lVar24;
		uVar27 = (undefined)uVar26;
		uVar30 = (undefined)uVar28;
		cVar9 = (char)(uVar10 - 0x110);
		if ((param_2 & 0xffffffff) == 0)
			break;
		uVar33 = param_2;
		if (0x3f < (param_2 & 0xffffffff)) {
			uVar33 = 0x40;
		}
		cVar19 = (char)uVar33;
		cVar19 = cVar19;
		memcpy(cVar9 + 'p', (char)lVar36, cVar19, uVar22, uVar23, uVar25, uVar27, uVar30, puVar8[0xb],
		    puVar8[0xf], *(undefined4 *)(puVar8 + 0x14));
		if ((uVar33 & 0xffffffff) < 0x40) {
			memset(cVar9 + 'p' + cVar19, '@' - cVar19, cVar19, uVar22, uVar23, uVar25, uVar27, uVar30,
			    puVar8[0xb], puVar8[0xf], *(undefined4 *)(puVar8 + 0x14));
		}
		FUN_100a42cc(0, puVar8 + 0x5c, *puVar8);
		FUN_100a4358(0, uVar10 - 0xa0, (uint *)0x0, uVar22, uVar23, uVar25, uVar27, uVar30,
		    *(undefined4 *)(puVar8 + 8));
		lVar13 = uVar10 - 0xa0;
		lVar38 = 8;
		lVar15 = 0;
		do {
			iVar16 = (int)lVar15;
			iVar34 = iVar16 + 1;
			iVar35 = iVar16 + 2;
			pbVar14 = (byte *)lVar13;
			iVar32 = iVar16 + 3;
			uVar6 = iVar16 / 0x14 + (iVar16 >> 0x1f);
			iVar31 = iVar16 + 4;
			iVar29 = iVar16 + 5;
			lVar24 = lVar15 + 6;
			lVar21 = lVar15 + 7;
			lVar15 = lVar15 + 8;
			uVar7 = iVar34 / 0x14 + (iVar34 >> 0x1f);
			*pbVar14 = local_b4[iVar16 + (uVar6 + (uVar6 >> 0x1f)) * -0x14] ^ *pbVar14;
			uVar6 = iVar35 / 0x14 + (iVar35 >> 0x1f);
			pbVar14[1] = local_b4[iVar34 + (uVar7 + (uVar7 >> 0x1f)) * -0x14] ^ pbVar14[1];
			uVar7 = iVar32 / 0x14 + (iVar32 >> 0x1f);
			pbVar14[2] = local_b4[iVar35 + (uVar6 + (uVar6 >> 0x1f)) * -0x14] ^ pbVar14[2];
			uVar6 = iVar31 / 0x14 + (iVar31 >> 0x1f);
			pbVar14[3] = local_b4[iVar32 + (uVar7 + (uVar7 >> 0x1f)) * -0x14] ^ pbVar14[3];
			uVar7 = iVar29 / 0x14 + (iVar29 >> 0x1f);
			pbVar14[4] = local_b4[iVar31 + (uVar6 + (uVar6 >> 0x1f)) * -0x14] ^ pbVar14[4];
			iVar31 = (int)lVar24;
			bVar1 = pbVar14[5];
			uVar26 = (ulonglong)bVar1;
			uVar6 = iVar31 / 0x14 + (iVar31 >> 0x1f);
			iVar16 = (int)lVar21;
			bVar2 = local_b4[iVar29 + (uVar7 + (uVar7 >> 0x1f)) * -0x14];
			uVar28 = (ulonglong)bVar2;
			pbVar14[5] = bVar2 ^ bVar1;
			uVar7 = iVar16 / 0x14 + (iVar16 >> 0x1f);
			bVar3 = local_b4[iVar31 + (uVar6 + (uVar6 >> 0x1f)) * -0x14];
			param_5 = (ulonglong)bVar3;
			pbVar14[6] = bVar3 ^ pbVar14[6];
			bVar4 = local_b4[iVar16 + (uVar7 + (uVar7 >> 0x1f)) * -0x14];
			pbVar14[7] = bVar4 ^ pbVar14[7];
			lVar13 = lVar13 + 8;
			lVar38 = lVar38 + -1;
		} while (lVar38 != 0);
		memset(cVar9 + '\\', 0x14, bVar4, (char)lVar21, bVar3, (char)lVar24, bVar1, bVar2, puVar8[0xb],
		    puVar8[0xf], *(undefined4 *)(puVar8 + 0x14));
		uVar18 = 0x40;
		memcpy((char)lVar36, cVar9 + 'p', 0x40, (char)lVar21, (char)param_5, (char)lVar24, (char)uVar26,
		    (char)uVar28, puVar8[0xb], puVar8[0xf], *(undefined4 *)(puVar8 + 0x14));
		lVar36 = lVar36 + 0x40;
		param_2 = param_2 - uVar33;
	}
	memset(cVar9 + 'p', 0x80, uVar20, uVar22, uVar23, uVar25, uVar27, uVar30, puVar8[0xb], puVar8[0xf],
	    *(undefined4 *)(puVar8 + 0x14));
	uVar17 = (undefined)(uVar10 - 200);
	FUN_100a42cc(0, (int)(uVar10 - 200), *puVar8);
	uVar5 = *(undefined4 *)(puVar8 + 0x48);
	puVar37 = (undefined4 *)lVar36;
	*puVar37 = uVar5;
	*(undefined *)(puVar37 + 1) = 0;
	*(undefined *)((int)puVar37 + 5) = (char)uVar33;
	*(undefined2 *)((int)puVar37 + 6) = 0;
	FUN_1001b4b4((char)uVar5, uVar17, uVar20, uVar22, uVar23, uVar25, uVar27, uVar30,
	    *(undefined4 *)(puVar8 + 8));
	return;
}

void FUN_1001be38(void)

{
	_DAT_100f3fe0 = _DAT_100f3fdc;
	return;
}

void DrawSpellCel(int param_1, undefined8 param_2, longlong param_3, longlong param_4, longlong param_5,
    int param_6, int param_7, int param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined **ppuVar2;
	ulonglong uVar3;
	longlong lVar4;
	ulonglong uVar5;
	longlong lVar6;
	char cVar7;
	undefined uVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	char *pcVar12;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffffa8;
	int local_28;
	char *local_24;
	int local_20;
	undefined4 local_14;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	uVar8 = (undefined)param_5;
	lVar11 = (longlong)param_8;
	lVar10 = (longlong)param_7;
	lVar9 = (longlong)param_6;
	ppuVar2 = &toc;
	local_14 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar3 = FUN_100b8f7c(param_3, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	puVar1 = ppuVar2[-0x1da5];
	local_28 = *(int *)ppuVar2[-0x1e01] + *(int *)(ppuVar2[-0x1da6] + (int)param_2 * 4) + param_1;
	uVar5 = ZEXT48(register0x0000000c) - 0x20;
	lVar4 = FUN_1003cdf8(uVar3, (int)param_4, (int *)uVar5);
	local_24 = (char *)lVar4;
	pcVar12 = local_24 + local_20;
	lVar4 = param_5;
	do {
		cVar7 = *local_24;
		lVar6 = (longlong)cVar7;
		if (lVar6 < 0) {
			local_28 = local_28 - (int)cVar7;
			local_24 = local_24 + 1;
		} else {
			param_4 = ZEXT48(register0x0000000c) - 0x24;
			lVar6 = -lVar6;
			uVar5 = ZEXT48(puVar1);
			local_24 = local_24 + 1;
			FUN_100c996c(&local_28, (byte **)param_4, (int)puVar1, (int)cVar7);
		}
		lVar4 = lVar4 + lVar6;
	} while (((int)lVar4 != 0) || (local_28 = (local_28 + -0x300) - (int)param_5, lVar4 = param_5, local_24 != pcVar12));
	FUN_100b9100((int)param_3, (char)param_4, (char)uVar5, cVar7, uVar8, (char)lVar9, (char)lVar10,
	    (char)lVar11, in_stack_ffffffa8);
	return;
}

void SetSpellTrans(char param_1)

{
	char cVar1;
	undefined *puVar2;
	char cVar3;
	undefined *puVar4;
	char cVar5;
	char cVar6;
	char cVar7;
	char cVar8;
	char cVar9;
	char cVar10;
	char *pcVar11;
	char cVar12;
	longlong lVar13;

	puVar2 = PTR_DAT_100f193c;
	if (param_1 == '\0') {
		lVar13 = 4;
		cVar12 = '\0';
		pcVar11 = PTR_DAT_100f193c;
		do {
			*pcVar11 = cVar12;
			pcVar11[1] = cVar12 + '\x01';
			pcVar11[2] = cVar12 + '\x02';
			pcVar11[3] = cVar12 + '\x03';
			pcVar11[4] = cVar12 + '\x04';
			pcVar11[5] = cVar12 + '\x05';
			pcVar11[6] = cVar12 + '\x06';
			pcVar11[7] = cVar12 + '\a';
			pcVar11[8] = cVar12 + '\b';
			pcVar11[9] = cVar12 + '\t';
			pcVar11[10] = cVar12 + '\n';
			pcVar11[0xb] = cVar12 + '\v';
			pcVar11[0xc] = cVar12 + '\f';
			pcVar11[0xd] = cVar12 + '\r';
			pcVar11[0xe] = cVar12 + '\x0e';
			pcVar11[0xf] = cVar12 + '\x0f';
			cVar1 = cVar12 + '\x18';
			pcVar11[0x10] = cVar12 + '\x10';
			pcVar11[0x11] = cVar12 + '\x11';
			cVar10 = cVar12 + '\x19';
			pcVar11[0x12] = cVar12 + '\x12';
			cVar9 = cVar12 + '\x1a';
			pcVar11[0x13] = cVar12 + '\x13';
			cVar8 = cVar12 + '\x1b';
			pcVar11[0x14] = cVar12 + '\x14';
			cVar7 = cVar12 + '\x1c';
			pcVar11[0x15] = cVar12 + '\x15';
			cVar6 = cVar12 + '\x1d';
			pcVar11[0x16] = cVar12 + '\x16';
			cVar5 = cVar12 + '\x1e';
			pcVar11[0x17] = cVar12 + '\x17';
			cVar3 = cVar12 + '\x1f';
			cVar12 = cVar12 + ' ';
			pcVar11[0x18] = cVar1;
			pcVar11[0x19] = cVar10;
			pcVar11[0x1a] = cVar9;
			pcVar11[0x1b] = cVar8;
			pcVar11[0x1c] = cVar7;
			pcVar11[0x1d] = cVar6;
			pcVar11[0x1e] = cVar5;
			pcVar11[0x1f] = cVar3;
			pcVar11 = pcVar11 + 0x20;
			lVar13 = lVar13 + -1;
		} while (lVar13 != 0);
	}
	pcVar11 = puVar2 + 0x80;
	lVar13 = 4;
	cVar12 = -0x80;
	do {
		*pcVar11 = cVar12;
		pcVar11[1] = cVar12 + '\x01';
		pcVar11[2] = cVar12 + '\x02';
		pcVar11[3] = cVar12 + '\x03';
		pcVar11[4] = cVar12 + '\x04';
		pcVar11[5] = cVar12 + '\x05';
		pcVar11[6] = cVar12 + '\x06';
		pcVar11[7] = cVar12 + '\a';
		pcVar11[8] = cVar12 + '\b';
		pcVar11[9] = cVar12 + '\t';
		pcVar11[10] = cVar12 + '\n';
		pcVar11[0xb] = cVar12 + '\v';
		pcVar11[0xc] = cVar12 + '\f';
		pcVar11[0xd] = cVar12 + '\r';
		pcVar11[0xe] = cVar12 + '\x0e';
		pcVar11[0xf] = cVar12 + '\x0f';
		cVar1 = cVar12 + '\x18';
		pcVar11[0x10] = cVar12 + '\x10';
		pcVar11[0x11] = cVar12 + '\x11';
		cVar10 = cVar12 + '\x19';
		pcVar11[0x12] = cVar12 + '\x12';
		cVar9 = cVar12 + '\x1a';
		pcVar11[0x13] = cVar12 + '\x13';
		cVar8 = cVar12 + '\x1b';
		pcVar11[0x14] = cVar12 + '\x14';
		cVar7 = cVar12 + '\x1c';
		pcVar11[0x15] = cVar12 + '\x15';
		cVar6 = cVar12 + '\x1d';
		pcVar11[0x16] = cVar12 + '\x16';
		cVar5 = cVar12 + '\x1e';
		pcVar11[0x17] = cVar12 + '\x17';
		cVar3 = cVar12 + '\x1f';
		cVar12 = cVar12 + ' ';
		pcVar11[0x18] = cVar1;
		pcVar11[0x19] = cVar10;
		pcVar11[0x1a] = cVar9;
		pcVar11[0x1b] = cVar8;
		pcVar11[0x1c] = cVar7;
		pcVar11[0x1d] = cVar6;
		pcVar11[0x1e] = cVar5;
		pcVar11[0x1f] = cVar3;
		pcVar11 = pcVar11 + 0x20;
		lVar13 = lVar13 + -1;
	} while (lVar13 != 0);
	puVar2[0xff] = 0;
	if (param_1 == '\x03') {
		puVar2[0x90] = 0xd1;
		puVar2[0x91] = 0xd3;
		puVar2[0x92] = 0xd5;
		puVar2[0xa0] = 0xd0;
		puVar2[0xc0] = 0xd0;
		puVar2[0xa1] = 0xd1;
		puVar2[0xc1] = 0xd1;
		puVar2[0xa2] = 0xd2;
		puVar2[0xc2] = 0xd2;
		puVar2[0xa3] = 0xd3;
		puVar2[0xc3] = 0xd3;
		puVar2[0xa4] = 0xd4;
		puVar2[0xc4] = 0xd4;
		puVar2[0xa5] = 0xd5;
		puVar2[0xc5] = 0xd5;
		puVar2[0xa6] = 0xd6;
		puVar2[0xc6] = 0xd6;
		puVar2[0xa7] = 0xd7;
		puVar2[199] = 0xd7;
		puVar2[0xa8] = 0xd8;
		puVar2[200] = 0xd8;
		puVar2[0xa9] = 0xd9;
		puVar2[0xc9] = 0xd9;
		puVar2[0xaa] = 0xda;
		puVar2[0xca] = 0xda;
		puVar2[0xab] = 0xdb;
		puVar2[0xcb] = 0xdb;
		puVar2[0xac] = 0xdc;
		puVar2[0xcc] = 0xdc;
		puVar2[0xad] = 0xdd;
		puVar2[0xcd] = 0xdd;
		puVar2[0xae] = 0xde;
		puVar2[0xce] = 0xde;
		puVar2[0xaf] = 0xdf;
		puVar2[0xcf] = 0xdf;
	} else {
		if (param_1 < '\x03') {
			if (param_1 == '\x01') {
				puVar2[0x90] = 0xb1;
				puVar2[0x91] = 0xb3;
				puVar2[0x92] = 0xb5;
				puVar2[0xa0] = 0xb0;
				puVar2[0xc0] = 0xb0;
				puVar2[0xd0] = 0xb0;
				puVar2[0xa1] = 0xb1;
				puVar2[0xc1] = 0xb1;
				puVar2[0xd1] = 0xb1;
				puVar2[0xa2] = 0xb2;
				puVar2[0xc2] = 0xb2;
				puVar2[0xd2] = 0xb2;
				puVar2[0xa3] = 0xb3;
				puVar2[0xc3] = 0xb3;
				puVar2[0xd3] = 0xb3;
				puVar2[0xa4] = 0xb4;
				puVar2[0xc4] = 0xb4;
				puVar2[0xd4] = 0xb4;
				puVar2[0xa5] = 0xb5;
				puVar2[0xc5] = 0xb5;
				puVar2[0xd5] = 0xb5;
				puVar2[0xa6] = 0xb6;
				puVar2[0xc6] = 0xb6;
				puVar2[0xd6] = 0xb6;
				puVar2[0xa7] = 0xb7;
				puVar2[199] = 0xb7;
				puVar2[0xd7] = 0xb7;
				puVar2[0xa8] = 0xb8;
				puVar2[200] = 0xb8;
				puVar2[0xd8] = 0xb8;
				puVar2[0xa9] = 0xb9;
				puVar2[0xc9] = 0xb9;
				puVar2[0xd9] = 0xb9;
				puVar2[0xaa] = 0xba;
				puVar2[0xca] = 0xba;
				puVar2[0xda] = 0xba;
				puVar2[0xab] = 0xbb;
				puVar2[0xcb] = 0xbb;
				puVar2[0xdb] = 0xbb;
				puVar2[0xac] = 0xbc;
				puVar2[0xcc] = 0xbc;
				puVar2[0xdc] = 0xbc;
				puVar2[0xad] = 0xbd;
				puVar2[0xcd] = 0xbd;
				puVar2[0xdd] = 0xbd;
				puVar2[0xae] = 0xbe;
				puVar2[0xce] = 0xbe;
				puVar2[0xde] = 0xbe;
				puVar2[0xaf] = 0xbf;
				puVar2[0xcf] = 0xbf;
				puVar2[0xdf] = 0xbf;
			} else {
				if ('\0' < param_1) {
					puVar2[0x90] = 0xa1;
					puVar2[0x91] = 0xa3;
					puVar2[0x92] = 0xa5;
					puVar2[0xc0] = 0xa0;
					puVar2[0xd0] = 0xa0;
					puVar2[0xc1] = 0xa1;
					puVar2[0xd1] = 0xa1;
					puVar2[0xc2] = 0xa2;
					puVar2[0xd2] = 0xa2;
					puVar2[0xc3] = 0xa3;
					puVar2[0xd3] = 0xa3;
					puVar2[0xc4] = 0xa4;
					puVar2[0xd4] = 0xa4;
					puVar2[0xc5] = 0xa5;
					puVar2[0xd5] = 0xa5;
					puVar2[0xc6] = 0xa6;
					puVar2[0xd6] = 0xa6;
					puVar2[199] = 0xa7;
					puVar2[0xd7] = 0xa7;
					puVar2[200] = 0xa8;
					puVar2[0xd8] = 0xa8;
					puVar2[0xc9] = 0xa9;
					puVar2[0xd9] = 0xa9;
					puVar2[0xca] = 0xaa;
					puVar2[0xda] = 0xaa;
					puVar2[0xcb] = 0xab;
					puVar2[0xdb] = 0xab;
					puVar2[0xcc] = 0xac;
					puVar2[0xdc] = 0xac;
					puVar2[0xcd] = 0xad;
					puVar2[0xdd] = 0xad;
					puVar2[0xce] = 0xae;
					puVar2[0xde] = 0xae;
					puVar2[0xcf] = 0xaf;
					puVar2[0xdf] = 0xaf;
				}
			}
		} else {
			if (param_1 < '\x05') {
				puVar2[0x90] = 0xf1;
				puVar2[0x91] = 0xf3;
				puVar2[0x92] = 0xf5;
				puVar2[0xa0] = 0xf0;
				puVar2[0xc0] = 0xf0;
				puVar2[0xd0] = 0xf0;
				puVar2[0xa1] = 0xf1;
				puVar2[0xc1] = 0xf1;
				puVar2[0xd1] = 0xf1;
				puVar2[0xa2] = 0xf2;
				puVar2[0xc2] = 0xf2;
				puVar2[0xd2] = 0xf2;
				puVar2[0xa3] = 0xf3;
				puVar2[0xc3] = 0xf3;
				puVar2[0xd3] = 0xf3;
				puVar2[0xa4] = 0xf4;
				puVar2[0xc4] = 0xf4;
				puVar2[0xd4] = 0xf4;
				puVar2[0xa5] = 0xf5;
				puVar2[0xc5] = 0xf5;
				puVar2[0xd5] = 0xf5;
				puVar2[0xa6] = 0xf6;
				puVar2[0xc6] = 0xf6;
				puVar2[0xd6] = 0xf6;
				puVar2[0xa7] = 0xf7;
				puVar2[199] = 0xf7;
				puVar2[0xd7] = 0xf7;
				puVar4 = puVar2 + 0xf8;
				lVar13 = 7;
				cVar12 = -8;
				do {
					puVar4[-0x50] = cVar12;
					puVar4[-0x30] = cVar12;
					puVar4[-0x20] = cVar12;
					puVar4 = puVar4 + 1;
					lVar13 = lVar13 + -1;
					cVar12 = cVar12 + '\x01';
				} while (lVar13 != 0);
				puVar2[0xaf] = 0;
				puVar2[0xcf] = 0;
				puVar2[0xdf] = 0;
			}
		}
	}
	return;
}

void DrawSpell(void)

{
	char cVar1;
	char cVar2;
	undefined *puVar3;
	int iVar4;
	undefined **ppuVar5;
	undefined8 uVar6;
	char cVar7;
	undefined *puVar8;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	char cVar9;
	undefined *puVar10;
	undefined4 in_stack_ffffffb8;

	puVar3 = PTR_DAT_100f1824;
	ppuVar5 = &toc;
	puVar10 = PTR_DAT_100f1828 + 0xb4;
	iVar4 = *(int *)PTR_DAT_100f1824 * 0x55ec;
	puVar8 = PTR_DAT_100f1828 + iVar4;
	cVar9 = puVar8[0xb8];
	cVar7 = (char)*(undefined4 *)(puVar10 + iVar4);
	cVar1 = puVar8[0x5570];
	cVar2 = puVar8[(int)cVar7 + 0xc1];
	if ((cVar9 == '\x01') && ((int)cVar7 != -1)) {
		ppuVar5 = &toc;
		uVar6 = CheckSpell(*(int *)PTR_DAT_100f1824, (int)cVar7, '\x01', 1, 1, (char)in_r8, (char)in_r9,
		    (char)in_r10, in_stack_ffffffb8);
		if ((int)uVar6 == 0) {
			cVar9 = '\x04';
		}
		if ((int)cVar2 + (int)cVar1 < 1) {
			cVar9 = '\x04';
		}
	}
	if (((*ppuVar5[-0x1df9] == '\0') && (cVar9 != '\x04')) && (*(int *)(ppuVar5[-0x1da7] + (int)cVar7 * 0x38 + 0x18) == 0)) {
		cVar9 = '\x04';
	}
	if (*(int *)(puVar10 + *(int *)puVar3 * 0x55ec) < 0) {
		cVar9 = '\x04';
	}
	SetSpellTrans(cVar9);
	if (cVar7 == -1) {
		DrawSpellCel(0x275, 0x277, ZEXT48(ppuVar5[-0x13ec]), 0x1b, 0x38, in_r8, in_r9, in_r10, in_stack_ffffffb8);
	} else {
		DrawSpellCel(0x275, 0x277, ZEXT48(ppuVar5[-0x13ec]),
		    (longlong) * (char *)((int)ppuVar5 + (int)cVar7 + -0x2cf8), 0x38, in_r8, in_r9, in_r10,
		    in_stack_ffffffb8);
	}
	return;
}

void DrawSpellList(void)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined4 uVar8;
	char cVar9;
	ulonglong uVar10;
	undefined *puVar11;
	undefined *puVar12;
	undefined uVar13;
	uint uVar15;
	undefined uVar18;
	ulonglong uVar14;
	int iVar16;
	undefined4 uVar17;
	undefined uVar20;
	undefined4 uVar19;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	ulonglong in_r13;
	longlong lVar21;
	ulonglong uVar22;
	ulonglong uVar23;
	longlong unaff_r19;
	int iVar24;
	int iVar25;
	longlong lVar26;
	int iVar27;
	int iVar28;
	longlong lVar29;
	longlong lVar30;
	undefined4 in_stack_ffffff68;
	undefined in_stack_ffffff6f;
	undefined4 in_stack_ffffff7c;
	undefined4 in_stack_ffffff80;
	undefined4 in_stack_ffffff84;
	undefined4 in_stack_ffffff88;
	undefined4 in_stack_ffffff8c;
	undefined4 in_stack_ffffff90;
	undefined4 in_stack_ffffff94;
	uint local_68;
	uint local_60;
	undefined *local_58;

	uVar8 = _DAT_100f2b30;
	puVar7 = PTR_DAT_100f1934;
	puVar6 = PTR_DAT_100f1930;
	puVar5 = PTR_DAT_100f192c;
	puVar4 = PTR_DAT_100f1920;
	puVar3 = PTR_DAT_100f191c;
	puVar2 = PTR_DAT_100f1828;
	puVar1 = PTR_DAT_100f1824;
	uVar10 = ZEXT48(&toc);
	iVar27 = 0x27c;
	lVar26 = 0x1ef;
	*(undefined4 *)PTR_DAT_100f1930 = 0xffffffff;
	*puVar5 = 0;
	ClearPanel();
	iVar25 = 0;
	do {
		if (iVar25 == 2) {
			SetSpellTrans('\x02');
			local_68 = 0x2c;
			local_60 = *(uint *)(puVar2 + *(int *)puVar1 * 0x55ec + 0x114);
			in_r13 = (ulonglong) * (uint *)(puVar2 + *(int *)puVar1 * 0x55ec + 0x114 + 1);
		} else {
			if (iVar25 < 2) {
				if (iVar25 == 0) {
					SetSpellTrans('\0');
					local_68 = 0x2e;
					local_60 = *(uint *)(puVar2 + *(int *)puVar1 * 0x55ec + 0x10c);
					in_r13 = (ulonglong) * (uint *)(puVar2 + *(int *)puVar1 * 0x55ec + 0x10c + 1);
				} else {
					if (-1 < iVar25) {
						local_68 = 0x2f;
						local_60 = *(uint *)(puVar2 + *(int *)puVar1 * 0x55ec + 0x104);
						in_r13 = (ulonglong) * (uint *)(puVar2 + *(int *)puVar1 * 0x55ec + 0x104 + 1);
					}
				}
			} else {
				if (iVar25 < 4) {
					SetSpellTrans('\x03');
					local_68 = 0x2d;
					local_60 = *(uint *)(puVar2 + *(int *)puVar1 * 0x55ec + 0x5560);
					in_r13 = (ulonglong) * (uint *)(puVar2 + *(int *)puVar1 * 0x55ec + 0x5560 + 1);
				}
			}
		}
		local_58 = puVar7 + 0x38;
		uVar23 = 1;
		lVar21 = uVar10 - 0x2cf7;
		uVar22 = 0;
		iVar24 = 1;
		do {
			if ((in_r13 & uVar23 | (ulonglong)local_60 & uVar22) != 0) {
				if (iVar25 == 1) {
					unaff_r19 = (longlong)(char)(puVar2 + *(int *)puVar1 * 0x55ec)[iVar24 + 0xc1] + (longlong)(char)(puVar2 + *(int *)puVar1 * 0x55ec)[0x5570];
					if (unaff_r19 < 0) {
						unaff_r19 = 0;
					}
					if ((int)unaff_r19 < 1) {
						cVar9 = '\x04';
					} else {
						cVar9 = '\x01';
					}
					SetSpellTrans(cVar9);
				}
				if ((**(char **)((int)uVar10 + -0x77e4) == '\0') && (*(int *)(local_58 + 0x18) == 0)) {
					SetSpellTrans('\x04');
				}
				DrawSpellCel(iVar27, lVar26, (ulonglong) * (uint *)((int)uVar10 + -0x4fb0),
				    (longlong) * (char *)lVar21, 0x38, in_r8, in_r9, in_r10, in_stack_ffffff68);
				iVar28 = (int)uVar10;
				if ((((iVar27 + -0x40 <= **(int **)(iVar28 + -0x76a8)) && (**(int **)(iVar28 + -0x76a8) < iVar27 + -8)) && ((int)lVar26 + -0xd8 <= **(int **)(iVar28 + -0x76ac))) && (**(int **)(iVar28 + -0x76ac) < (int)lVar26 + -0xa0)) {
					*(int *)puVar6 = iVar24;
					*(int *)puVar4 = iVar25;
					uVar17 = 0x38;
					uVar15 = local_68;
					DrawSpellCel(iVar27, lVar26, (ulonglong) * (uint *)(iVar28 + -0x4fb0), (ulonglong)local_68, 0x38, in_r8, in_r9, in_r10, in_stack_ffffff68);
					iVar28 = (int)uVar10;
					if (iVar25 == 2) {
						sprintf((int)puVar5, *(undefined4 *)(iVar28 + -0x6488),
						    *(undefined4 *)(puVar7 + *(int *)puVar6 * 0x38 + 4), uVar15, uVar17, in_r8,
						    in_r9, in_r10, in_stack_ffffff68, in_stack_ffffff6f, in_stack_ffffff7c,
						    in_stack_ffffff80, in_stack_ffffff84, in_stack_ffffff88, in_stack_ffffff8c,
						    in_stack_ffffff90, in_stack_ffffff94);
						uVar13 = (undefined)uVar17;
						lVar29 = 0;
						iVar28 = *(int *)puVar6;
						puVar12 = puVar2 + *(int *)puVar1 * 0x55ec;
						uVar14 = (ulonglong) * (uint *)(puVar12 + 0x4828);
						puVar11 = puVar12;
						if (0 < (int)*(uint *)(puVar12 + 0x4828)) {
							do {
								if (((*(int *)(puVar11 + 0xeb0) != -1) && ((*(int *)(puVar11 + 0xf84) == 0x15 || (*(int *)(puVar11 + 0xf84) == 0x16)))) && (iVar28 == *(int *)(puVar11 + 0xf88))) {
									lVar29 = lVar29 + 1;
								}
								puVar11 = puVar11 + 0x170;
								uVar14 = uVar14 - 1;
							} while (uVar14 != 0);
						}
						lVar30 = 2;
						do {
							if (((*(int *)(puVar12 + 0x485c) != -1) && ((*(int *)(puVar12 + 0x4930) == 0x15 || (*(int *)(puVar12 + 0x4930) == 0x16)))) && (iVar28 == *(int *)(puVar12 + 0x4934))) {
								lVar29 = lVar29 + 1;
							}
							if ((*(int *)(puVar12 + 0x49cc) != -1) && (((*(int *)(puVar12 + 0x4aa0) == 0x15 || (*(int *)(puVar12 + 0x4aa0) == 0x16)) && (iVar28 == *(int *)(puVar12 + 0x4aa4))))) {
								lVar29 = lVar29 + 1;
							}
							if (((*(int *)(puVar12 + 0x4b3c) != -1) && ((*(int *)(puVar12 + 0x4c10) == 0x15 || (*(int *)(puVar12 + 0x4c10) == 0x16)))) && (iVar28 == *(int *)(puVar12 + 0x4c14))) {
								lVar29 = lVar29 + 1;
							}
							iVar16 = *(int *)(puVar12 + 0x4cac);
							if (((iVar16 != -1) && ((iVar16 = *(int *)(puVar12 + 0x4d80), iVar16 == 0x15 || (iVar16 == 0x16)))) && (iVar16 = *(int *)(puVar12 + 0x4d84), iVar28 == iVar16)) {
								lVar29 = lVar29 + 1;
							}
							uVar20 = (undefined)iVar16;
							uVar18 = (undefined)lVar29;
							puVar12 = puVar12 + 0x5c0;
							lVar30 = lVar30 + -1;
						} while (lVar30 != 0);
						if ((int)lVar29 == 1) {
							strcpy((int)puVar3, *(int *)((int)uVar10 + -0x648c));
						} else {
							sprintf((int)puVar3, *(undefined4 *)((int)uVar10 + -0x6490), (int)lVar29, iVar16,
							    uVar17, in_r8, in_r9, in_r10, in_stack_ffffff68, in_stack_ffffff6f,
							    in_stack_ffffff7c, in_stack_ffffff80, in_stack_ffffff84, in_stack_ffffff88,
							    in_stack_ffffff8c, in_stack_ffffff90, in_stack_ffffff94);
						}
						AddPanelString((int)puVar3, 1, uVar18, uVar20, uVar13, (char)in_r8, (char)in_r9, (char)in_r10,
						    in_stack_ffffff68);
					} else {
						if (iVar25 < 2) {
							if (iVar25 == 0) {
								sprintf((int)puVar5, *(undefined4 *)(iVar28 + -0x6474),
								    *(undefined4 *)(puVar7 + *(int *)puVar6 * 0x38 + 8), uVar15, uVar17, in_r8, in_r9, in_r10, in_stack_ffffff68, in_stack_ffffff6f, in_stack_ffffff7c,
								    in_stack_ffffff80, in_stack_ffffff84, in_stack_ffffff88, in_stack_ffffff8c, in_stack_ffffff90, in_stack_ffffff94);
							} else {
								if (-1 < iVar25) {
									uVar19 = *(undefined4 *)(puVar7 + *(int *)puVar6 * 0x38 + 4);
									sprintf((int)puVar5, *(undefined4 *)(iVar28 + -0x6478), uVar19, uVar15, uVar17,
									    in_r8, in_r9, in_r10, in_stack_ffffff68, in_stack_ffffff6f,
									    in_stack_ffffff7c, in_stack_ffffff80, in_stack_ffffff84,
									    in_stack_ffffff88, in_stack_ffffff8c, in_stack_ffffff90,
									    in_stack_ffffff94);
									if (*(int *)puVar6 == 0x1f) {
										sprintf((int)puVar3, *(undefined4 *)((int)uVar10 + -0x647c), uVar19, uVar15,
										    uVar17, in_r8, in_r9, in_r10, in_stack_ffffff68, in_stack_ffffff6f,
										    in_stack_ffffff7c, in_stack_ffffff80, in_stack_ffffff84,
										    in_stack_ffffff88, in_stack_ffffff8c, in_stack_ffffff90,
										    in_stack_ffffff94);
										AddPanelString((int)puVar3, 1, (char)uVar19, (char)uVar15, (char)uVar17, (char)in_r8,
										    (char)in_r9, (char)in_r10, in_stack_ffffff68);
									}
									uVar20 = (undefined)uVar17;
									uVar18 = (undefined)uVar15;
									uVar13 = (undefined)uVar19;
									if ((int)unaff_r19 == 0) {
										sprintf((int)puVar3, *(undefined4 *)((int)uVar10 + -0x6480), uVar19, uVar15,
										    uVar17, in_r8, in_r9, in_r10, in_stack_ffffff68, in_stack_ffffff6f,
										    in_stack_ffffff7c, in_stack_ffffff80, in_stack_ffffff84,
										    in_stack_ffffff88, in_stack_ffffff8c, in_stack_ffffff90,
										    in_stack_ffffff94);
									} else {
										uVar13 = (char)unaff_r19;
										sprintf((int)puVar3, *(undefined4 *)((int)uVar10 + -0x6484), (int)unaff_r19,
										    uVar15, uVar17, in_r8, in_r9, in_r10, in_stack_ffffff68,
										    in_stack_ffffff6f, in_stack_ffffff7c, in_stack_ffffff80,
										    in_stack_ffffff84, in_stack_ffffff88, in_stack_ffffff8c,
										    in_stack_ffffff90, in_stack_ffffff94);
									}
									AddPanelString((int)puVar3, 1, uVar13, uVar18, uVar20, (char)in_r8, (char)in_r9,
									    (char)in_r10, in_stack_ffffff68);
								}
							}
						} else {
							if (iVar25 < 4) {
								sprintf((int)puVar5, *(undefined4 *)(iVar28 + -0x6494),
								    *(undefined4 *)(puVar7 + *(int *)puVar6 * 0x38 + 4), uVar15, uVar17, in_r8, in_r9, in_r10, in_stack_ffffff68, in_stack_ffffff6f, in_stack_ffffff7c,
								    in_stack_ffffff80, in_stack_ffffff84, in_stack_ffffff88, in_stack_ffffff8c, in_stack_ffffff90, in_stack_ffffff94);
								uVar20 = (undefined)uVar17;
								uVar18 = (undefined)uVar15;
								iVar28 = *(int *)(puVar2 + *(int *)puVar1 * 0x55ec + 0xb3c);
								uVar13 = (undefined)iVar28;
								if (iVar28 == 1) {
									strcpy((int)puVar3, *(int *)((int)uVar10 + -0x6498));
								} else {
									sprintf((int)puVar3, *(undefined4 *)((int)uVar10 + -0x649c), iVar28, uVar15,
									    uVar17, in_r8, in_r9, in_r10, in_stack_ffffff68, in_stack_ffffff6f,
									    in_stack_ffffff7c, in_stack_ffffff80, in_stack_ffffff84,
									    in_stack_ffffff88, in_stack_ffffff8c, in_stack_ffffff90,
									    in_stack_ffffff94);
								}
								AddPanelString((int)puVar3, 1, uVar13, uVar18, uVar20, (char)in_r8, (char)in_r9, (char)in_r10, in_stack_ffffff68);
							}
						}
					}
					lVar29 = 0;
					iVar28 = 0;
					do {
						if ((*(int *)puVar6 == *(int *)(puVar2 + *(int *)puVar1 * 0x55ec + iVar28 + 0x120)) && (*(int *)puVar4 == (int)(char)(puVar2 + *(int *)puVar1 * 0x55ec)[(int)lVar29 + 0x130])) {
							uVar17 = (undefined4)(lVar29 + 0x30);
							uVar19 = 0x38;
							DrawSpellCel(iVar27, lVar26, (ulonglong) * (uint *)((int)uVar10 + -0x4fb0), lVar29 + 0x30,
							    0x38, in_r8, in_r9, in_r10, in_stack_ffffff68);
							uVar20 = (undefined)uVar19;
							uVar18 = (undefined)uVar17;
							uVar13 = (undefined)(lVar29 + 5);
							sprintf((int)puVar3, uVar8, (int)(lVar29 + 5), uVar17, uVar19, in_r8, in_r9, in_r10,
							    in_stack_ffffff68, in_stack_ffffff6f, in_stack_ffffff7c, in_stack_ffffff80,
							    in_stack_ffffff84, in_stack_ffffff88, in_stack_ffffff8c, in_stack_ffffff90,
							    in_stack_ffffff94);
							AddPanelString((int)puVar3, 1, uVar13, uVar18, uVar20, (char)in_r8, (char)in_r9, (char)in_r10,
							    in_stack_ffffff68);
						}
						lVar29 = lVar29 + 1;
						iVar28 = iVar28 + 4;
					} while ((int)lVar29 < 4);
				}
				iVar27 = iVar27 + -0x38;
				if (iVar27 == 0x14) {
					iVar27 = 0x27c;
					lVar26 = lVar26 + -0x38;
				}
			}
			uVar22 = SetCursorPos(uVar22, uVar23, 1);
			iVar24 = iVar24 + 1;
			local_58 = local_58 + 0x38;
			lVar21 = lVar21 + 1;
		} while (iVar24 < 0x25);
		if (((in_r13 | (ulonglong)local_60) != 0) && (iVar27 != 0x27c)) {
			iVar27 = iVar27 + -0x38;
		}
		if (iVar27 == 0x14) {
			iVar27 = 0x27c;
			lVar26 = lVar26 + -0x38;
		}
		iVar25 = iVar25 + 1;
	} while (iVar25 < 4);
	return;
}

void SetSpell(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined4 *puVar2;
	undefined4 *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined **ppuVar6;

	puVar5 = PTR_DAT_100f1930;
	puVar4 = PTR_DAT_100f1828;
	ppuVar6 = &toc;
	*(undefined4 *)PTR_DAT_100f1918 = 0;
	if (*(int *)puVar5 != -1) {
		ClearPanel();
		iVar1 = *(int *)ppuVar6[-0x1deb];
		puVar2 = (undefined4 *)ppuVar6[-0x1dac];
		puVar3 = (undefined4 *)ppuVar6[-0x1daf];
		*(undefined4 *)(puVar4 + iVar1 * 0x55ec + 0xb4) = *(undefined4 *)puVar5;
		(puVar4 + iVar1 * 0x55ec)[0xb8] = (char)*puVar2;
		*puVar3 = 0xff;
	}
	return;
}

void SetSpeedSpell(int param_1)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;

	puVar6 = PTR_DAT_100f1930;
	puVar5 = PTR_DAT_100f1920;
	puVar4 = PTR_DAT_100f1828;
	puVar3 = PTR_DAT_100f1824;
	iVar1 = *(int *)PTR_DAT_100f1930;
	if (iVar1 == -1) {
		return;
	}
	iVar2 = *(int *)PTR_DAT_100f1920;
	puVar7 = PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec;
	if ((iVar1 == *(int *)(puVar7 + 0x120)) && (iVar2 == (int)(char)puVar7[0x130])) {
		*(undefined4 *)(puVar7 + 0x120) = 0xffffffff;
	}
	if ((iVar1 == *(int *)(puVar7 + 0x124)) && (iVar2 == (int)(char)puVar7[0x131])) {
		*(undefined4 *)(puVar7 + 0x124) = 0xffffffff;
	}
	if ((iVar1 == *(int *)(puVar7 + 0x128)) && (iVar2 == (int)(char)puVar7[0x132])) {
		*(undefined4 *)(puVar7 + 0x128) = 0xffffffff;
	}
	if ((iVar1 == *(int *)(puVar7 + 300)) && (iVar2 == (int)(char)puVar7[0x133])) {
		*(undefined4 *)(puVar7 + 300) = 0xffffffff;
	}
	iVar1 = *(int *)puVar3;
	*(undefined4 *)(puVar4 + iVar1 * 0x55ec + param_1 * 4 + 0x120) = *(undefined4 *)puVar6;
	(puVar4 + iVar1 * 0x55ec)[param_1 + 0x130] = (char)*(undefined4 *)puVar5;
	return;
}

void ToggleSpell(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	char cVar1;
	int iVar2;
	uint uVar3;
	undefined4 *puVar4;
	undefined *puVar5;
	undefined **ppuVar6;
	ulonglong uVar7;
	ulonglong uVar8;
	undefined *puVar9;
	ulonglong unaff_r26;
	ulonglong unaff_r27;

	puVar5 = PTR_DAT_100f1828;
	ppuVar6 = &toc;
	iVar2 = *(int *)PTR_DAT_100f1824;
	puVar9 = PTR_DAT_100f1828 + iVar2 * 0x55ec;
	uVar3 = *(uint *)(puVar9 + param_1 * 4 + 0x120);
	if (uVar3 != 0xffffffff) {
		cVar1 = puVar9[param_1 + 0x130];
		if (cVar1 == '\x02') {
			unaff_r27 = (ulonglong) * (uint *)(puVar9 + 0x114);
			unaff_r26 = (ulonglong) * (uint *)(puVar9 + 0x118);
		} else {
			if (cVar1 < '\x02') {
				if (cVar1 == '\0') {
					unaff_r27 = (ulonglong) * (uint *)(puVar9 + 0x10c);
					unaff_r26 = (ulonglong) * (uint *)(puVar9 + 0x110);
				} else {
					if (-1 < cVar1) {
						unaff_r27 = (ulonglong) * (uint *)(puVar9 + 0x104);
						unaff_r26 = (ulonglong) * (uint *)(puVar9 + 0x108);
					}
				}
			} else {
				if (cVar1 < '\x04') {
					unaff_r27 = (ulonglong) * (uint *)(puVar9 + 0x5560);
					unaff_r26 = (ulonglong) * (uint *)(puVar9 + 0x5564);
				}
			}
		}
		uVar8 = 1;
		uVar7 = SetCursorPos(0, 1, (ulonglong)uVar3 - 1, param_4, param_5, param_6, param_7, param_8);
		if ((unaff_r26 & uVar8 | unaff_r27 & uVar7) != 0) {
			puVar4 = (undefined4 *)ppuVar6[-0x1daf];
			*(uint *)(puVar5 + iVar2 * 0x55ec + 0xb4) = uVar3;
			(puVar5 + iVar2 * 0x55ec)[0xb8] = puVar9[param_1 + 0x130];
			*puVar4 = 0xff;
		}
	}
	return;
}

void CPrintString(longlong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	byte bVar1;
	longlong lVar2;
	ulonglong uVar3;
	longlong lVar4;
	undefined **ppuVar5;
	ulonglong uVar6;
	ulonglong uVar7;
	undefined *puVar8;
	char *pcVar9;
	byte *pbVar10;
	longlong lVar11;
	undefined uVar12;
	ulonglong uVar13;
	undefined uVar14;
	ulonglong uVar15;
	undefined *puVar16;
	undefined uVar17;
	char cVar18;
	undefined uVar19;
	undefined uVar20;
	char cVar21;
	undefined4 in_stack_ffffffb8;
	uint local_18[6];

	uVar20 = (undefined)param_8;
	uVar19 = (undefined)param_7;
	cVar18 = (char)param_6;
	ppuVar5 = &toc;
	uVar6 = FUN_100b8f7c((ulonglong)_DAT_100f402c, param_2, param_3, param_4, param_5, param_6, param_7,
	    param_8, in_stack_ffffffb8);
	uVar7 = FUN_1003cdf8(uVar6, (int)param_2, (int *)local_18);
	cVar21 = (char)param_3;
	uVar13 = (ulonglong) * (uint *)ppuVar5[-0x1e01];
	uVar6 = (ulonglong)local_18[0];
	param_1 = uVar13 + param_1;
	uVar15 = uVar7 + uVar6;
	if (cVar21 == '\x01') {
		do {
			lVar11 = 0xd;
			do {
				pcVar9 = (char *)uVar7;
				uVar7 = uVar7 + 1;
				lVar4 = (longlong)*pcVar9;
				if (lVar4 < 0) {
					param_1 = param_1 - lVar4;
					lVar2 = lVar4;
				} else {
					lVar2 = -lVar4;
					do {
						bVar1 = *(byte *)uVar7;
						uVar13 = (ulonglong)bVar1;
						uVar7 = uVar7 + 1;
						if (bVar1 < 0xfe) {
							if (0xef < bVar1) {
								uVar13 = uVar13 - 0x3e;
							}
						} else {
							uVar13 = 0xbf;
						}
						lVar4 = lVar4 + -1;
						*(undefined *)param_1 = (char)uVar13;
						param_1 = param_1 + 1;
					} while (lVar4 != 0);
				}
				uVar14 = (undefined)uVar13;
				lVar11 = lVar11 + lVar2;
				uVar12 = (undefined)lVar11;
			} while ((int)lVar11 != 0);
			param_1 = param_1 + -0x30d;
			uVar17 = (undefined)param_1;
		} while ((uVar7 & 0xffffffff) != (uVar15 & 0xffffffff));
	} else {
		if (cVar21 < '\x01') {
			if (-1 < cVar21) {
				do {
					lVar11 = 0xd;
					uVar13 = uVar6;
					do {
						cVar18 = *(char *)uVar7;
						uVar7 = uVar7 + 1;
						uVar6 = SEXT18(cVar18);
						if ((longlong)uVar6 < 0) {
							param_1 = param_1 - uVar6;
							lVar11 = lVar11 + uVar6;
							uVar6 = uVar13;
						} else {
							lVar11 = lVar11 - uVar6;
							if (cVar18 != '\0') {
								uVar3 = (ulonglong)((uint)(int)cVar18 >> 3);
								uVar13 = uVar6;
								if ((uint)(int)cVar18 >> 3 != 0) {
									do {
										puVar8 = (undefined *)uVar7;
										puVar16 = (undefined *)param_1;
										*puVar16 = *puVar8;
										puVar16[1] = puVar8[1];
										puVar16[2] = puVar8[2];
										puVar16[3] = puVar8[3];
										puVar16[4] = puVar8[4];
										puVar16[5] = puVar8[5];
										puVar16[6] = puVar8[6];
										uVar7 = uVar7 + 8;
										puVar16[7] = puVar8[7];
										param_1 = param_1 + 8;
										uVar3 = uVar3 - 1;
									} while (uVar3 != 0);
									uVar6 = uVar6 & 7;
									uVar13 = uVar6;
									if (uVar6 == 0)
										goto LAB_1001d068;
								}
								do {
									puVar8 = (undefined *)uVar7;
									uVar7 = uVar7 + 1;
									*(undefined *)param_1 = *puVar8;
									param_1 = param_1 + 1;
									uVar13 = uVar13 - 1;
								} while (uVar13 != 0);
							}
						}
					LAB_1001d068:
						uVar14 = (undefined)lVar11;
						uVar12 = (undefined)uVar6;
						uVar13 = uVar6;
					} while ((int)lVar11 != 0);
					param_1 = param_1 + -0x30d;
					uVar17 = (undefined)param_1;
				} while ((uVar7 & 0xffffffff) != (uVar15 & 0xffffffff));
				goto LAB_1001d1bc;
			}
		} else {
			if (cVar21 < '\x03') {
				do {
					lVar11 = 0xd;
					do {
						pcVar9 = (char *)uVar7;
						uVar7 = uVar7 + 1;
						lVar4 = (longlong)*pcVar9;
						if (lVar4 < 0) {
							param_1 = param_1 - lVar4;
							lVar2 = lVar4;
						} else {
							lVar2 = -lVar4;
							do {
								pbVar10 = (byte *)uVar7;
								uVar13 = (ulonglong)*pbVar10;
								uVar7 = uVar7 + 1;
								if (0xef < *pbVar10) {
									uVar13 = uVar13 - 0x10;
								}
								lVar4 = lVar4 + -1;
								*(undefined *)param_1 = (char)uVar13;
								param_1 = param_1 + 1;
							} while (lVar4 != 0);
						}
						uVar14 = (undefined)uVar13;
						lVar11 = lVar11 + lVar2;
						uVar12 = (undefined)lVar11;
					} while ((int)lVar11 != 0);
					param_1 = param_1 + -0x30d;
					uVar17 = (undefined)param_1;
				} while ((uVar7 & 0xffffffff) != (uVar15 & 0xffffffff));
				goto LAB_1001d1bc;
			}
		}
		do {
			lVar11 = 0xd;
			do {
				pcVar9 = (char *)uVar7;
				uVar7 = uVar7 + 1;
				lVar4 = (longlong)*pcVar9;
				if (lVar4 < 0) {
					param_1 = param_1 - lVar4;
					lVar2 = lVar4;
				} else {
					lVar2 = -lVar4;
					do {
						bVar1 = *(byte *)uVar7;
						uVar13 = (ulonglong)bVar1;
						uVar7 = uVar7 + 1;
						if (0xef < bVar1) {
							if (bVar1 < 0xfe) {
								uVar13 = uVar13 - 0x2e;
							} else {
								uVar13 = 0xcf;
							}
						}
						lVar4 = lVar4 + -1;
						*(undefined *)param_1 = (char)uVar13;
						param_1 = param_1 + 1;
					} while (lVar4 != 0);
				}
				uVar14 = (undefined)uVar13;
				lVar11 = lVar11 + lVar2;
				uVar12 = (undefined)lVar11;
			} while ((int)lVar11 != 0);
			param_1 = param_1 + -0x30d;
			uVar17 = (undefined)param_1;
		} while ((uVar7 & 0xffffffff) != (uVar15 & 0xffffffff));
	}
LAB_1001d1bc:
	FUN_100b9100((int)ppuVar5[-0x13e9], uVar12, uVar14, (char)uVar15, uVar17, cVar18, uVar19, uVar20,
	    in_stack_ffffffb8);
	return;
}

void AddPanelString(int param_1, undefined4 param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined **ppuVar3;

	puVar2 = PTR_DAT_100f190c;
	ppuVar3 = &toc;
	strcpy((int)(PTR_DAT_100f1910 + *(int *)PTR_DAT_100f190c * 0x40), param_1);
	iVar1 = *(int *)puVar2;
	*(undefined4 *)(ppuVar3[-0x1db2] + iVar1 * 4) = param_2;
	if (iVar1 < 4) {
		*(int *)puVar2 = *(int *)puVar2 + 1;
	}
	return;
}

void ClearPanel(void)

{
	undefined *puVar1;

	puVar1 = PTR_DAT_100f1904;
	*(undefined4 *)PTR_DAT_100f190c = 0;
	*(undefined4 *)puVar1 = 0;
	return;
}

void DrawPanelBox(int param_1, int param_2, uint param_3, longlong param_4, int param_5, int param_6)

{
	undefined2 uVar1;
	undefined4 uVar2;
	undefined4 *puVar3;
	ulonglong uVar4;
	ulonglong uVar5;
	undefined4 *puVar6;
	undefined4 *puVar7;
	uint uVar8;
	undefined4 *local_c;
	undefined4 *local_8;

	local_8 = (undefined4 *)(_DAT_100f4018 + param_2 * 0x280 + param_1);
	local_c = (undefined4 *)(*(int *)PTR_DAT_100f17cc + param_6 * 0x300 + param_5);
	do {
		puVar6 = local_8;
		puVar7 = local_c;
		uVar8 = param_3;
		if ((param_3 & 1) != 0) {
			puVar6 = (undefined4 *)((int)local_8 + 1);
			uVar8 = param_3 - 1;
			*(undefined *)local_c = *(undefined *)local_8;
			puVar7 = (undefined4 *)((int)local_c + 1);
		}
		if ((uVar8 & 2) != 0) {
			uVar1 = *(undefined2 *)puVar6;
			puVar6 = (undefined4 *)((int)puVar6 + 2);
			uVar8 = uVar8 - 2;
			*(undefined2 *)puVar7 = uVar1;
			puVar7 = (undefined4 *)((int)puVar7 + 2);
		}
		uVar5 = (ulonglong)(uVar8 >> 2);
		if (3 < (int)uVar8) {
			uVar4 = (ulonglong)(uVar8 >> 5);
			if (uVar8 >> 5 != 0) {
				do {
					*puVar7 = *puVar6;
					puVar7[1] = puVar6[1];
					puVar7[2] = puVar6[2];
					puVar7[3] = puVar6[3];
					puVar7[4] = puVar6[4];
					puVar7[5] = puVar6[5];
					puVar7[6] = puVar6[6];
					puVar3 = puVar6 + 7;
					puVar6 = puVar6 + 8;
					puVar7[7] = *puVar3;
					puVar7 = puVar7 + 8;
					uVar4 = uVar4 - 1;
				} while (uVar4 != 0);
				uVar5 = uVar5 & 7;
				if ((uVar8 >> 2 & 7) == 0)
					goto LAB_1001d378;
			}
			do {
				uVar2 = *puVar6;
				puVar6 = puVar6 + 1;
				*puVar7 = uVar2;
				puVar7 = puVar7 + 1;
				uVar5 = uVar5 - 1;
			} while (uVar5 != 0);
		}
	LAB_1001d378:
		param_4 = param_4 + -1;
		local_8 = local_8 + 0xa0;
		local_c = local_c + 0xc0;
		if (param_4 == 0) {
			return;
		}
	} while (true);
}

void FUN_1001d39c(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	ClearPanel();
	return;
}

void SetFlaskHeight(int param_1, longlong param_2, longlong param_3, int param_4, int param_5)

{
	undefined4 *puVar1;
	undefined4 *puVar2;
	undefined4 *puVar3;
	longlong lVar4;
	undefined4 *local_10;
	undefined4 *local_c;

	local_10 = (undefined4 *)(*(int *)PTR_DAT_100f17cc + param_5 * 0x300 + param_4);
	param_3 = param_3 - param_2;
	local_c = (undefined4 *)(param_1 + (int)param_2 * 0x58);
	do {
		lVar4 = 0xb;
		puVar2 = local_c + 0x16;
		puVar3 = local_10;
		do {
			*puVar3 = *local_c;
			puVar1 = local_c + 1;
			local_c = local_c + 2;
			puVar3[1] = *puVar1;
			puVar3 = puVar3 + 2;
			lVar4 = lVar4 + -1;
		} while (lVar4 != 0);
		param_3 = param_3 + -1;
		local_10 = local_10 + 0xc0;
		local_c = puVar2;
	} while (param_3 != 0);
	return;
}

void DrawFlask(int param_1, int param_2, int param_3, int param_4, int param_5, longlong param_6,
    undefined param_7, undefined param_8, undefined4 param_9)

{
	byte *local_18;
	byte *local_14[5];

	local_14[0] = (byte *)(param_1 + param_3);
	local_18 = (byte *)(param_4 + param_5);
	do {
		FUN_100c9e9c(&local_18, local_14, 0x3b);
		param_6 = param_6 + -1;
		local_14[0] = local_14[0] + param_2 + -0x3b;
		local_18 = local_18 + 0x2c5;
	} while (param_6 != 0);
	return;
}

void DrawLifeFlask(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	ulonglong uVar2;
	undefined **ppuVar3;
	undefined *puVar4;
	longlong lVar5;
	int iVar6;
	undefined4 in_stack_ffffff98;

	puVar1 = PTR_DAT_100f17cc;
	ppuVar3 = &toc;
	puVar4 = PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec;
	*(int *)(puVar4 + 0x19c) = (int)(_DAT_100f4040 * (((double)CONCAT44(0x43300000, *(uint *)(puVar4 + 0x194) ^ 0x80000000) - _DAT_100f4038) / ((double)CONCAT44(0x43300000, *(uint *)(puVar4 + 0x198) ^ 0x80000000) - _DAT_100f4038)));
	uVar2 = (ulonglong) * (uint *)(puVar4 + 0x19c);
	if (0x50 < (int)*(uint *)(puVar4 + 0x19c)) {
		uVar2 = 0x50;
	}
	lVar5 = 0x50 - uVar2;
	if (0xb < (int)lVar5) {
		lVar5 = 0xb;
	}
	lVar5 = lVar5 + 2;
	DrawFlask(_DAT_100f4010, 0x58, 0x115, *(int *)puVar1, 0x5d9ad, lVar5, param_7, param_8,
	    in_stack_ffffff98);
	iVar6 = (int)lVar5;
	if (iVar6 != 0xd) {
		DrawFlask((int)ppuVar3[-0x13ee], 0x280, iVar6 * 0x280 + 0x7ed, *(int *)puVar1,
		    iVar6 * 0x300 + 0x5d9ad, 0xd - lVar5, param_7, param_8, in_stack_ffffff98);
	}
	return;
}

void UpdateLifeFlask(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	ulonglong uVar2;
	int iVar3;

	puVar1 = PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec;
	iVar3 = (int)(_DAT_100f4040 * (((double)CONCAT44(0x43300000, *(uint *)(puVar1 + 0x194) ^ 0x80000000) - _DAT_100f4038) / ((double)CONCAT44(0x43300000, *(uint *)(puVar1 + 0x198) ^ 0x80000000) - _DAT_100f4038)));
	uVar2 = (longlong)iVar3 & 0xffffffff;
	*(int *)(puVar1 + 0x19c) = iVar3;
	if (0x45 < iVar3) {
		uVar2 = 0x45;
	}
	iVar3 = (int)uVar2;
	if (iVar3 != 0x45) {
		SetFlaskHeight(_DAT_100f4010, 0x10, 0x55 - uVar2, 0xa0, 0x200);
	}
	if (iVar3 != 0) {
		DrawPanelBox(0x60, 0x55 - iVar3, 0x58, uVar2, 0xa0, 0x245 - iVar3);
	}
	return;
}

void DrawManaFlask(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	ulonglong uVar2;
	undefined **ppuVar3;
	longlong lVar4;
	int iVar5;
	undefined4 in_stack_ffffffc8;

	puVar1 = PTR_DAT_100f17cc;
	ppuVar3 = &toc;
	uVar2 = (ulonglong) * (uint *)(PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec + 0x1b0);
	if (0x50 < (int)*(uint *)(PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec + 0x1b0)) {
		uVar2 = 0x50;
	}
	lVar4 = 0x50 - uVar2;
	if (0xb < (int)lVar4) {
		lVar4 = 0xb;
	}
	lVar4 = lVar4 + 2;
	DrawFlask(_DAT_100f4014, 0x58, 0x115, *(int *)PTR_DAT_100f17cc, 0x5db1b, lVar4, param_7, param_8,
	    in_stack_ffffffc8);
	iVar5 = (int)lVar4;
	if (iVar5 != 0xd) {
		DrawFlask((int)ppuVar3[-0x13ee], 0x280, iVar5 * 0x280 + 0x95b, *(int *)puVar1,
		    iVar5 * 0x300 + 0x5db1b, 0xd - lVar4, param_7, param_8, in_stack_ffffffc8);
	}
	return;
}

void control_update_life_mana(void)

{
	uint uVar1;
	int iVar2;
	undefined *puVar3;
	uint uVar4;
	double local_18;
	double local_8;

	uVar4 = *(uint *)(PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec + 0x1ac);
	uVar1 = *(uint *)(PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec + 0x1a8);
	if ((int)uVar4 < 0) {
		uVar4 = 0;
	}
	if ((int)uVar1 < 0) {
		uVar1 = 0;
	}
	if (uVar4 == 0) {
		iVar2 = 0;
	} else {
		local_8 = (double)CONCAT44(0x43300000, uVar1 ^ 0x80000000);
		iVar2 = (int)(_DAT_100f4040 * ((local_8 - _DAT_100f4038) / ((double)CONCAT44(0x43300000, uVar4 ^ 0x80000000) - _DAT_100f4038)));
	}
	puVar3 = PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec;
	*(int *)(puVar3 + 0x1b0) = iVar2;
	local_18 = (double)CONCAT44(0x43300000, *(uint *)(puVar3 + 0x194) ^ 0x80000000);
	*(int *)(puVar3 + 0x19c) = (int)(_DAT_100f4040 * ((local_18 - _DAT_100f4038) / ((double)CONCAT44(0x43300000, *(uint *)(puVar3 + 0x198) ^ 0x80000000) - _DAT_100f4038)));
	return;
}

void UpdateManaFlask(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	ulonglong uVar3;
	int iVar4;

	uVar2 = *(uint *)(PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec + 0x1ac);
	uVar1 = *(uint *)(PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec + 0x1a8);
	if ((int)uVar2 < 0) {
		uVar2 = 0;
	}
	if ((int)uVar1 < 0) {
		uVar1 = 0;
	}
	if (uVar2 == 0) {
		uVar3 = 0;
	} else {
		uVar3 = (longlong)(int)(_DAT_100f4040 * (((double)CONCAT44(0x43300000, uVar1 ^ 0x80000000) - _DAT_100f4038) / ((double)CONCAT44(0x43300000, uVar2 ^ 0x80000000) - _DAT_100f4038))) & 0xffffffff;
	}
	*(int *)(PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec + 0x1b0) = (int)uVar3;
	if (0x45 < (int)uVar3) {
		uVar3 = 0x45;
	}
	iVar4 = (int)uVar3;
	if (iVar4 != 0x45) {
		SetFlaskHeight(_DAT_100f4014, 0x10, 0x55 - uVar3, 0x210, 0x200);
	}
	if (iVar4 != 0) {
		DrawPanelBox(0x1d0, 0x55 - iVar4, 0x58, uVar3, 0x210, 0x245 - iVar4);
	}
	DrawSpell();
	return;
}

void InitControlPan(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	char cVar1;
	undefined4 *puVar2;
	uint uVar3;
	undefined4 *puVar4;
	int *piVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined **ppuVar10;
	int iVar11;
	int iVar12;
	undefined *puVar15;
	undefined4 uVar16;
	longlong lVar13;
	ulonglong uVar14;
	undefined uVar17;
	undefined uVar18;
	undefined8 uVar19;
	ulonglong uVar20;
	undefined uVar21;
	undefined8 uVar22;
	undefined4 uVar23;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffff78;
	undefined in_stack_ffffff7f;
	int local_7c;
	int *local_38[2];
	int *local_30[5];
	undefined4 local_1c;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar2 = _DAT_100f2b08;
	puVar9 = PTR_DAT_100f18f4;
	puVar8 = PTR_DAT_100f18ec;
	puVar7 = PTR_DAT_100f18e8;
	puVar6 = PTR_DAT_100f17e0;
	ppuVar10 = &toc;
	local_1c = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	if (*PTR_DAT_100f17e0 == '\x01') {
		puVar15 = (undefined *)DiabloAllocPtr(0x16800);
		ppuVar10[-0x13ee] = puVar15;
		memset((char)ppuVar10[-0x13ee], 0, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
		    (char)param_7, (char)param_8, (char)in_stack_ffffff78, in_stack_ffffff7f, local_7c);
	} else {
		puVar15 = (undefined *)DiabloAllocPtr(0x2d000);
		ppuVar10[-0x13ee] = puVar15;
		memset((char)ppuVar10[-0x13ee], 0, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
		    (char)param_7, (char)param_8, (char)in_stack_ffffff78, in_stack_ffffff7f, local_7c);
	}
	iVar11 = local_7c;
	uVar16 = DiabloAllocPtr(0x1e40);
	*(undefined4 *)(local_7c + -0x4fbc) = uVar16;
	memset((char)*(undefined4 *)(local_7c + -0x4fbc), 0x40, (char)param_3, (char)param_4,
	    (char)param_5, (char)param_6, (char)param_7, (char)param_8, (char)in_stack_ffffff78,
	    in_stack_ffffff7f, iVar11);
	iVar12 = iVar11;
	uVar16 = DiabloAllocPtr(0x1e40);
	*(undefined4 *)(iVar11 + -0x4fc0) = uVar16;
	memset((char)*(undefined4 *)(iVar11 + -0x4fc0), 0x40, (char)param_3, (char)param_4, (char)param_5,
	    (char)param_6, (char)param_7, (char)param_8, (char)in_stack_ffffff78, in_stack_ffffff7f,
	    iVar12);
	lVar13 = LoadFileInMem((ulonglong) * (uint *)(iVar12 + -0x64a4), (undefined4 *)0x0, param_3, param_4,
	    param_5, param_6, param_7, param_8, in_stack_ffffff78);
	*(undefined4 *)(iVar12 + -0x4fa4) = (int)lVar13;
	lVar13 = LoadFileInMem((ulonglong) * (uint *)(iVar12 + -0x64a8), (undefined4 *)0x0, param_3, param_4,
	    param_5, param_6, param_7, param_8, in_stack_ffffff78);
	*(undefined4 *)(iVar12 + -0x4fa8) = (int)lVar13;
	lVar13 = LoadFileInMem((ulonglong) * (uint *)(iVar12 + -0x64ac), (undefined4 *)0x0, param_3, param_4,
	    param_5, param_6, param_7, param_8, in_stack_ffffff78);
	*(undefined4 *)(iVar12 + -0x4fb0) = (int)lVar13;
	SetSpellTrans('\0');
	uVar14 = LoadFileInMem((ulonglong) * (uint *)(iVar12 + -0x64b0), (undefined4 *)0x0, param_3, param_4,
	    param_5, param_6, param_7, param_8, in_stack_ffffff78);
	local_30[0] = (int *)uVar14;
	uVar17 = 0;
	uVar19 = 0x8f;
	uVar14 = uVar14 & 0xffffffff;
	uVar22 = 0x280;
	uVar16 = 1;
	uVar23 = 0x280;
	FUN_1003e2f8(*(int *)(iVar12 + -0x4fb8), 0, 0x8f, 0x280, uVar14, 1, 0x280, param_8, in_stack_ffffff78);
	mem_free_dbg(local_30, uVar17, (char)uVar19, (char)uVar22, (char)uVar14, (char)uVar16, (char)uVar23,
	    (char)param_8, in_stack_ffffff78);
	uVar14 = LoadFileInMem((ulonglong) * (uint *)(iVar12 + -0x64b4), (undefined4 *)0x0, uVar19, uVar22,
	    uVar14, uVar16, uVar23, param_8, in_stack_ffffff78);
	local_30[0] = (int *)uVar14;
	FUN_1003e2f8(*(int *)(iVar12 + -0x4fc0), 0, 0x57, 0x58, uVar14 & 0xffffffff, 1, 0x58, param_8,
	    in_stack_ffffff78);
	uVar17 = 0;
	uVar14 = ZEXT48(local_30[0]);
	uVar19 = 0x57;
	uVar22 = 0x58;
	uVar16 = 2;
	uVar23 = 0x58;
	FUN_1003e2f8(*(int *)(iVar12 + -0x4fbc), 0, 0x57, 0x58, uVar14, 2, 0x58, param_8, in_stack_ffffff78);
	mem_free_dbg(local_30, uVar17, (char)uVar19, (char)uVar22, (char)uVar14, (char)uVar16, (char)uVar23,
	    (char)param_8, in_stack_ffffff78);
	**(undefined4 **)(iVar12 + -0x76d0) = 0;
	if (*puVar6 != '\x01') {
		uVar14 = LoadFileInMem((ulonglong) * (uint *)(iVar12 + -0x64b8), (undefined4 *)0x0, uVar19, uVar22,
		    uVar14, uVar16, uVar23, param_8, in_stack_ffffff78);
		local_38[0] = (int *)uVar14;
		uVar17 = 0;
		uVar19 = 0x11f;
		uVar14 = uVar14 & 0xffffffff;
		uVar22 = 0x280;
		uVar16 = 1;
		uVar23 = 0x280;
		FUN_1003e2f8(*(int *)(iVar12 + -0x4fb8), 0, 0x11f, 0x280, uVar14, 1, 0x280, param_8, in_stack_ffffff78);
		mem_free_dbg(local_38, uVar17, (char)uVar19, (char)uVar22, (char)uVar14, (char)uVar16, (char)uVar23,
		    (char)param_8, in_stack_ffffff78);
		lVar13 = LoadFileInMem((ulonglong) * (uint *)(iVar12 + -0x64bc), (undefined4 *)0x0, uVar19, uVar22,
		    uVar14, uVar16, uVar23, param_8, in_stack_ffffff78);
		*(undefined4 *)(iVar12 + -0x4fe4) = (int)lVar13;
		lVar13 = LoadFileInMem((ulonglong) * (uint *)(iVar12 + -0x64c0), (undefined4 *)0x0, uVar19, uVar22,
		    uVar14, uVar16, uVar23, param_8, in_stack_ffffff78);
		*(undefined4 *)(iVar12 + -0x4fe8) = (int)lVar13;
		*(undefined4 *)(iVar12 + -0x4fd8) = 0;
		**(undefined **)(iVar12 + -0x64c4) = 0;
		*(undefined *)(iVar12 + -0x4fe0) = 1;
		*(undefined *)(iVar12 + -0x4fdf) = 1;
		*(undefined *)(iVar12 + -0x4fde) = 1;
		*(undefined *)(iVar12 + -0x4fdd) = 1;
		*puVar2 = 0;
		puVar2[1] = 0;
		puVar2[2] = 0;
	}
	puVar2 = *(undefined4 **)(iVar12 + -0x76d8);
	uVar20 = ZEXT48(puVar2);
	**(undefined4 **)(iVar12 + -0x76d4) = 0;
	uVar3 = *(uint *)(iVar12 + -0x64cc);
	*puVar2 = 0;
	lVar13 = LoadFileInMem((ulonglong)uVar3, (undefined4 *)0x0, uVar20, uVar22, uVar14, uVar16, uVar23,
	    param_8, in_stack_ffffff78);
	*(undefined4 *)(iVar12 + -0x4fa0) = (int)lVar13;
	puVar2 = *(undefined4 **)(iVar12 + -0x76e0);
	*(undefined4 *)puVar9 = 0;
	*(undefined4 *)(puVar9 + 4) = 0;
	*(undefined4 *)(puVar9 + 8) = 0;
	*(undefined4 *)(puVar9 + 0xc) = 0;
	*(undefined4 *)(puVar9 + 0x10) = 0;
	*(undefined4 *)(puVar9 + 0x14) = 0;
	*(undefined4 *)(puVar9 + 0x18) = 0;
	*(undefined4 *)(puVar9 + 0x1c) = 0;
	*puVar2 = 0;
	if (*puVar6 == '\x01') {
		*(undefined4 *)puVar8 = 6;
	} else {
		*(undefined4 *)puVar8 = 8;
	}
	lVar13 = LoadFileInMem((ulonglong) * (uint *)(iVar12 + -0x64d0), (undefined4 *)0x0, uVar20, uVar22,
	    uVar14, uVar16, uVar23, param_8, in_stack_ffffff78);
	*(undefined4 *)(iVar12 + -0x4fac) = (int)lVar13;
	puVar2 = *(undefined4 **)(iVar12 + -0x76ec);
	uVar21 = SUB41(puVar2, 0);
	*(undefined4 *)puVar7 = 0;
	uVar3 = *(uint *)(iVar12 + -0x64d4);
	*(undefined4 *)(puVar7 + 4) = 0;
	*(undefined4 *)(puVar7 + 8) = 0;
	*(undefined4 *)(puVar7 + 0xc) = 0;
	*puVar2 = 0;
	lVar13 = LoadFileInMem((ulonglong)uVar3, (undefined4 *)0x0, ZEXT48(puVar2), uVar22, uVar14, uVar16,
	    uVar23, param_8, in_stack_ffffff78);
	*(undefined4 *)(iVar12 + -0x4fc4) = (int)lVar13;
	uVar18 = (undefined) * (int *)(iVar12 + -0x64d8);
	uVar17 = strcpy(*(int *)(iVar12 + -0x76a4), *(int *)(iVar12 + -0x64d8));
	FUN_1001d39c(uVar17, uVar18, uVar21, (char)uVar22, (char)uVar14, (char)uVar16, (char)uVar23,
	    (char)param_8, in_stack_ffffff78);
	puVar2 = *(undefined4 **)(iVar12 + -0x76f4);
	**(undefined4 **)(iVar12 + -0x76f0) = 1;
	puVar4 = *(undefined4 **)(iVar12 + -0x77c4);
	*puVar2 = 1;
	puVar2 = *(undefined4 **)(iVar12 + -0x76b8);
	uVar20 = ZEXT48(puVar2);
	*puVar4 = 0;
	uVar3 = *(uint *)(iVar12 + -0x64dc);
	*puVar2 = 0;
	lVar13 = LoadFileInMem((ulonglong)uVar3, (undefined4 *)0x0, uVar20, uVar22, uVar14, uVar16, uVar23,
	    param_8, in_stack_ffffff78);
	*(undefined4 *)(iVar12 + -0x4fc8) = (int)lVar13;
	lVar13 = LoadFileInMem((ulonglong) * (uint *)(iVar12 + -0x64e0), (undefined4 *)0x0, uVar20, uVar22,
	    uVar14, uVar16, uVar23, param_8, in_stack_ffffff78);
	*(undefined4 *)(iVar12 + -0x4fcc) = (int)lVar13;
	lVar13 = LoadFileInMem((ulonglong) * (uint *)(iVar12 + -0x64e4), (undefined4 *)0x0, uVar20, uVar22,
	    uVar14, uVar16, uVar23, param_8, in_stack_ffffff78);
	*(undefined4 *)(iVar12 + -0x4fd0) = (int)lVar13;
	puVar2 = *(undefined4 **)(iVar12 + -0x77c0);
	**(undefined4 **)(iVar12 + -0x76f8) = 0;
	piVar5 = *(int **)(iVar12 + -0x77ac);
	*puVar2 = 0;
	cVar1 = *(char *)(*(int *)(iVar12 + -0x77a8) + *piVar5 * 0x55ec + 0x15c);
	if (cVar1 == '\0') {
		_DAT_100f6420 = 0x1a;
	} else {
		if (cVar1 == '\x01') {
			_DAT_100f6420 = 0x1c;
		} else {
			if (cVar1 == '\x02') {
				_DAT_100f6420 = 0x1b;
			}
		}
	}
	lVar13 = LoadFileInMem((ulonglong) * (uint *)(iVar12 + -0x64e8), (undefined4 *)0x0, uVar20, uVar22,
	    uVar14, uVar16, uVar23, param_8, in_stack_ffffff78);
	puVar2 = *(undefined4 **)(iVar12 + -0x7700);
	*puVar2 = (int)lVar13;
	lVar13 = LoadFileInMem((ulonglong) * (uint *)(iVar12 + -0x64ec), (undefined4 *)0x0, ZEXT48(puVar2),
	    uVar22, uVar14, uVar16, uVar23, param_8, in_stack_ffffff78);
	*(undefined4 *)(iVar12 + -0x4fb4) = (int)lVar13;
	puVar2 = *(undefined4 **)(iVar12 + -0x7708);
	**(undefined4 **)(iVar12 + -0x7704) = 0;
	puVar4 = *(undefined4 **)(iVar12 + -0x770c);
	*puVar2 = 0;
	puVar2 = *(undefined4 **)(iVar12 + -0x7710);
	*puVar4 = 0;
	puVar4 = *(undefined4 **)(iVar12 + -0x7714);
	*puVar2 = 0;
	*puVar4 = 1;
	return;
}

void ClearCtrlPan(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	DrawPanelBox(0, _DAT_100f3ff8 + 0x10, 0x280, 0x80, 0x40, 0x200);
	DrawInfoBox();
	return;
}

void DrawCtrlPan(void)

{
	undefined *puVar1;
	ulonglong uVar2;
	int iVar3;
	longlong in_r8;
	undefined4 uVar4;
	undefined4 in_r9;
	undefined4 in_r10;
	longlong lVar5;
	int *piVar6;
	int *piVar7;
	undefined4 in_stack_ffffffb8;

	puVar1 = PTR_DAT_100f18f4;
	uVar2 = ZEXT48(&toc);
	lVar5 = 0;
	piVar6 = (int *)&DAT_100f6300;
	piVar7 = (int *)PTR_DAT_100f18f4;
	do {
		if (*piVar7 == 0) {
			in_r8 = (ulonglong)(uint)piVar6[1] + 0xa0;
			DrawPanelBox(*piVar6, piVar6[1] - 0x150, 0x47, 0x14, *piVar6 + 0x40, (int)in_r8);
		} else {
			CelDecodeOnly(*piVar6 + 0x40, (ulonglong)(uint)piVar6[1] + 0xb2,
			    (ulonglong) * (uint *)((int)uVar2 + -0x4fa0), lVar5 + 1, 0x47, (int)in_r8, in_r9, in_r10, in_stack_ffffffb8);
		}
		uVar4 = (undefined4)in_r8;
		iVar3 = (int)uVar2;
		lVar5 = lVar5 + 1;
		piVar6 = piVar6 + 5;
		piVar7 = piVar7 + 1;
	} while ((int)lVar5 < 6);
	if (**(int **)(iVar3 + -0x76e4) == 8) {
		CelDecodeOnly(0x97, 0x27a, (ulonglong) * (uint *)(iVar3 + -0x4fe4),
		    (ulonglong) * (uint *)(puVar1 + 0x18) + 1, 0x21, uVar4, in_r9, in_r10, in_stack_ffffffb8);
		if (*(int *)(iVar3 + -0x2444) == 0) {
			CelDecodeOnly(0x24f, 0x27a, (ulonglong) * (uint *)(iVar3 + -0x4fe4),
			    (ulonglong) * (uint *)(puVar1 + 0x1c) + 5, 0x21, uVar4, in_r9, in_r10, in_stack_ffffffb8);
		} else {
			CelDecodeOnly(0x24f, 0x27a, (ulonglong) * (uint *)(iVar3 + -0x4fe4),
			    (ulonglong) * (uint *)(puVar1 + 0x1c) + 3, 0x21, uVar4, in_r9, in_r10, in_stack_ffffffb8);
		}
	}
	return;
}

void DoSpeedBook(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	uint uVar3;
	uint uVar4;
	uint uVar5;
	uint uVar6;
	uint uVar7;
	uint uVar8;
	undefined *puVar10;
	ulonglong uVar9;
	ulonglong uVar11;
	ulonglong unaff_r18;
	ulonglong uVar12;
	ulonglong unaff_r19;
	ulonglong uVar13;
	int iVar14;
	int iVar15;
	int iVar16;

	puVar10 = PTR_DAT_100f1824;
	iVar16 = 0x27c;
	*(undefined4 *)PTR_DAT_100f1918 = 1;
	puVar10 = PTR_DAT_100f1828 + *(int *)puVar10 * 0x55ec;
	if (*(int *)(puVar10 + 0xb4) != -1) {
		uVar1 = *(uint *)(puVar10 + 0x10c);
		iVar14 = 0;
		uVar2 = *(uint *)(puVar10 + 0x110);
		uVar3 = *(uint *)(puVar10 + 0x104);
		uVar4 = *(uint *)(puVar10 + 0x108);
		uVar5 = *(uint *)(puVar10 + 0x114);
		uVar6 = *(uint *)(puVar10 + 0x118);
		uVar7 = *(uint *)(puVar10 + 0x5560);
		uVar8 = *(uint *)(puVar10 + 0x5564);
		do {
			uVar12 = (ulonglong)uVar6;
			uVar13 = (ulonglong)uVar5;
			if (iVar14 != 2) {
				if (iVar14 < 2) {
					uVar12 = (ulonglong)uVar2;
					uVar13 = (ulonglong)uVar1;
					if ((iVar14 != 0) && (uVar12 = (ulonglong)uVar4, uVar13 = (ulonglong)uVar3, iVar14 < 0)) {
						uVar12 = unaff_r18;
						uVar13 = unaff_r19;
					}
				} else {
					uVar12 = unaff_r18;
					uVar13 = unaff_r19;
					if (iVar14 < 4) {
						uVar12 = (ulonglong)uVar8;
						uVar13 = (ulonglong)uVar7;
					}
				}
			}
			uVar11 = 1;
			uVar9 = 0;
			iVar15 = 1;
			do {
				if (((uVar12 & uVar11 | uVar13 & uVar9) != 0) && (iVar16 = iVar16 + -0x38, iVar16 == 0x14)) {
					iVar16 = 0x27c;
				}
				uVar9 = SetCursorPos();
				iVar15 = iVar15 + 1;
			} while (iVar15 < 0x25);
			if (((uVar12 | uVar13) != 0) && (iVar16 != 0x27c)) {
				iVar16 = iVar16 + -0x38;
			}
			if (iVar16 == 0x14) {
				iVar16 = 0x27c;
			}
			iVar14 = iVar14 + 1;
			unaff_r18 = uVar12;
			unaff_r19 = uVar13;
		} while (iVar14 < 4);
	}
	return;
}

void DoPanBtn(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	ulonglong uVar7;
	undefined uVar8;
	longlong lVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	uint *puVar15;
	ulonglong uVar14;
	undefined uVar16;
	ulonglong uVar17;
	undefined uVar18;
	undefined4 in_stack_ffffffc8;

	puVar6 = PTR_DAT_100f1928;
	puVar5 = PTR_DAT_100f1924;
	puVar4 = PTR_DAT_100f18f0;
	puVar3 = PTR_DAT_100f18b4;
	uVar11 = SUB41(PTR_DAT_100f1924, 0);
	uVar10 = SUB41(PTR_DAT_100f1928, 0);
	uVar13 = SUB41(PTR_DAT_100f18b4, 0);
	uVar7 = (ulonglong) * (uint *)PTR_DAT_100f18ec;
	uVar12 = SUB41(PTR_DAT_100f18f0, 0);
	uVar14 = ZEXT48(&DAT_100f6300);
	uVar16 = 0;
	uVar17 = ZEXT48(PTR_DAT_100f18f4);
	uVar18 = SUB41(PTR_DAT_100f18f4, 0);
	iVar1 = *(int *)PTR_DAT_100f1928;
	iVar2 = *(int *)PTR_DAT_100f1924;
	if (0 < (int)*(uint *)PTR_DAT_100f18ec) {
		do {
			puVar15 = (uint *)uVar14;
			lVar9 = (ulonglong)*puVar15 + (ulonglong)puVar15[2];
			param_2 = (undefined)lVar9;
			if (((((int)*puVar15 <= iVar1) && (iVar1 <= (int)lVar9)) && ((int)puVar15[1] <= iVar2)) && (iVar2 <= (int)(puVar15[1] + puVar15[3]))) {
				*(undefined4 *)uVar17 = 1;
				*(undefined4 *)puVar3 = 1;
				*(undefined4 *)puVar4 = 1;
			}
			uVar14 = uVar14 + 0x14;
			uVar16 = (undefined)uVar14;
			uVar17 = uVar17 + 4;
			uVar18 = (undefined)uVar17;
			uVar7 = uVar7 - 1;
		} while (uVar7 != 0);
	}
	if (((*(int *)PTR_DAT_100f1918 == 0) && (0x234 < *(int *)puVar6)) && ((*(int *)puVar6 < 0x26d && ((0x19f < *(int *)puVar5 && (*(int *)puVar5 < 0x1d8)))))) {
		uVar8 = DoSpeedBook((char)PTR_DAT_100f1918, param_2, uVar10, uVar11, uVar12, uVar13, uVar16, uVar18,
		    in_stack_ffffffc8);
		gamemenu_off(uVar8, param_2, uVar10, uVar11, uVar12, uVar13, uVar16, uVar18, in_stack_ffffffc8);
	}
	return;
}

void control_set_button_down(int param_1)

{
	undefined *puVar1;
	undefined *puVar2;

	puVar1 = PTR_DAT_100f18b4;
	*(undefined4 *)(PTR_DAT_100f18f4 + param_1 * 4) = 1;
	puVar2 = PTR_DAT_100f18f0;
	*(undefined4 *)puVar1 = 1;
	*(undefined4 *)puVar2 = 1;
	return;
}

void control_check_btn_press(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;

	puVar2 = PTR_DAT_100f1928;
	puVar1 = PTR_DAT_100f1924;
	if ((((iRam100f633c <= *(int *)PTR_DAT_100f1928) && (*(int *)PTR_DAT_100f1928 <= iRam100f633c + iRam100f6344)) && (iRam100f6340 <= *(int *)PTR_DAT_100f1924)) && (*(int *)PTR_DAT_100f1924 <= iRam100f6340 + iRam100f6348)) {
		control_set_button_down(3);
	}
	if (((iRam100f6378 <= *(int *)puVar2) && (*(int *)puVar2 <= iRam100f6378 + iRam100f6380)) && ((iRam100f637c <= *(int *)puVar1 && (*(int *)puVar1 <= iRam100f637c + iRam100f6384)))) {
		control_set_button_down(6);
	}
	return;
}

void DoAutoMap(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	if ((*PTR_DAT_100f17ec == '\0') && (*PTR_DAT_100f17e0 == '\x01')) {
		InitDiabloMsg('\x01');
	} else {
		if (*(int *)PTR_DAT_100f1858 == 0) {
			FUN_1001995c();
		} else {
			*(undefined4 *)PTR_DAT_100f1858 = 0;
		}
	}
	return;
}

void CheckPanelInfo(undefined8 uParm1, undefined8 uParm2, ulonglong uParm3, ulonglong uParm4,
    undefined4 uParm5, undefined4 uParm6, undefined4 uParm7, undefined4 uParm8)

{
	char cVar1;
	uint uVar2;
	uint uVar3;
	int iVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined *puVar12;
	undefined *puVar13;
	undefined *puVar14;
	undefined *puVar15;
	undefined *puVar16;
	undefined *puVar17;
	ulonglong uVar18;
	int iVar19;
	longlong lVar20;
	undefined uVar21;
	undefined uVar22;
	undefined4 uVar23;
	undefined uVar24;
	undefined uVar25;
	undefined uVar26;
	undefined uVar27;
	ulonglong uVar28;
	int iVar29;
	int iVar30;
	longlong lVar31;
	longlong lVar32;
	int *piVar33;
	undefined4 in_stack_ffffff78;
	undefined in_stack_ffffff7f;
	undefined4 in_stack_ffffff8c;
	undefined4 in_stack_ffffff90;
	undefined4 in_stack_ffffff94;
	undefined4 in_stack_ffffff98;
	undefined4 in_stack_ffffff9c;
	undefined4 in_stack_ffffffa0;
	undefined4 in_stack_ffffffa4;

	puVar17 = PTR_s_Player_friendly_100f2adc;
	puVar16 = PTR_s_Player_attack_100f2ad8;
	puVar15 = PTR_s_Hotkey____s_100f2ad4;
	puVar14 = PTR_DAT_100f1934;
	puVar13 = PTR_DAT_100f192c;
	puVar12 = PTR_DAT_100f1928;
	puVar11 = PTR_DAT_100f1924;
	puVar10 = PTR_DAT_100f191c;
	puVar9 = PTR_DAT_100f1904;
	puVar8 = PTR_DAT_100f18fc;
	puVar7 = PTR_DAT_100f18ec;
	puVar6 = PTR_DAT_100f18a8;
	puVar5 = PTR_DAT_100f1824;
	uVar18 = ZEXT48(&toc);
	uVar28 = ZEXT48(PTR_DAT_100f1828);
	*(undefined4 *)PTR_DAT_100f18fc = 0;
	ClearPanel();
	iVar30 = 0;
	lVar20 = uVar18 - 0x2c10;
	lVar32 = uVar18 - 0x2cd0;
	lVar31 = uVar18 - 0x2c30;
	while (true) {
		uVar23 = (undefined4)uParm4;
		iVar19 = (int)uVar18;
		uVar21 = (undefined)uParm3;
		if (*(int *)puVar7 <= iVar30)
			break;
		piVar33 = (int *)lVar32;
		uVar3 = *(uint *)puVar12;
		uParm3 = (ulonglong)uVar3;
		uVar2 = piVar33[1];
		uParm4 = (ulonglong)uVar2;
		if (((*piVar33 <= (int)uVar3) && ((int)uVar3 <= *piVar33 + piVar33[2])) && (((int)uVar2 <= *(int *)puVar11 && (*(int *)puVar11 <= (int)(uVar2 + piVar33[3]))))) {
			if (iVar30 == 7) {
				if (_DAT_100f6b8c == 0) {
					strcpy((int)puVar13, (int)puVar16);
				} else {
					strcpy((int)puVar13, (int)puVar17);
				}
			} else {
				strcpy((int)puVar13, *(int *)lVar20);
			}
			uVar3 = *(uint *)lVar31;
			uParm3 = (ulonglong)uVar3;
			if (uVar3 != 0) {
				sprintf((int)puVar10, puVar15, uVar3, (int)uParm4, uParm5, uParm6, uParm7, uParm8,
				    in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8c, in_stack_ffffff90,
				    in_stack_ffffff94, in_stack_ffffff98, in_stack_ffffff9c, in_stack_ffffffa0,
				    in_stack_ffffffa4);
				AddPanelString((int)puVar10, 1, (char)uParm3, (char)uParm4, (char)uParm5, (char)uParm6, (char)uParm7, (char)uParm8, in_stack_ffffff78);
			}
			*puVar6 = 0;
			*(undefined4 *)puVar8 = 1;
			*(undefined4 *)puVar9 = 1;
		}
		lVar32 = lVar32 + 0x14;
		lVar20 = lVar20 + 4;
		lVar31 = lVar31 + 4;
		iVar30 = iVar30 + 1;
	}
	if ((((**(int **)(iVar19 + -0x76b8) == 0) && (0x234 < *(int *)puVar12)) && (*(int *)puVar12 < 0x26d)) && ((0x19f < *(int *)puVar11 && (*(int *)puVar11 < 0x1d8)))) {
		strcpy((int)puVar13, *(int *)(iVar19 + -0x6500));
		iVar30 = *(int *)(iVar19 + -0x6504);
		*puVar6 = 0;
		*(undefined4 *)puVar8 = 1;
		*(undefined4 *)puVar9 = 1;
		strcpy((int)puVar10, iVar30);
		AddPanelString((int)puVar10, 1, uVar21, (char)uVar23, (char)uParm5, (char)uParm6, (char)uParm7,
		    (char)uParm8, in_stack_ffffff78);
		iVar29 = (int)uVar28;
		uVar27 = (undefined)uParm8;
		uVar26 = (undefined)uParm7;
		uVar25 = (undefined)uParm6;
		uVar24 = (undefined)uParm5;
		uVar21 = (undefined)uVar23;
		iVar4 = iVar29 + *(int *)puVar5 * 0x55ec;
		iVar30 = *(int *)(iVar4 + 0xb4);
		if (iVar30 != -1) {
			cVar1 = *(char *)(iVar4 + 0xb8);
			if (cVar1 == '\x02') {
				uVar21 = (undefined) * (undefined4 *)(puVar14 + iVar30 * 0x38 + 4);
				sprintf((int)puVar10, *(undefined4 *)(iVar19 + -0x6488),
				    *(undefined4 *)(puVar14 + iVar30 * 0x38 + 4), uVar23, uParm5, uParm6, uParm7, uParm8, in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8c, in_stack_ffffff90,
				    in_stack_ffffff94, in_stack_ffffff98, in_stack_ffffff9c, in_stack_ffffffa0,
				    in_stack_ffffffa4);
				AddPanelString((int)puVar10, 1, uVar21, (char)uVar23, (char)uParm5, (char)uParm6, (char)uParm7,
				    (char)uParm8, in_stack_ffffff78);
				uVar27 = (undefined)uParm8;
				uVar26 = (undefined)uParm7;
				uVar25 = (undefined)uParm6;
				uVar24 = (undefined)uParm5;
				uVar21 = (undefined)uVar23;
				lVar32 = 0;
				lVar31 = uVar28 + (ulonglong) * (uint *)puVar5 * 0x55ec;
				uVar3 = *(uint *)((int)lVar31 + 0x4828);
				uVar18 = (ulonglong)uVar3;
				lVar20 = lVar31;
				if (0 < (int)uVar3) {
					do {
						iVar4 = (int)lVar20;
						if (((*(int *)(iVar4 + 0xeb0) != -1) && ((*(int *)(iVar4 + 0xf84) == 0x15 || (*(int *)(iVar4 + 0xf84) == 0x16)))) && (iVar30 == *(int *)(iVar4 + 0xf88))) {
							lVar32 = lVar32 + 1;
						}
						lVar20 = lVar20 + 0x170;
						uVar18 = uVar18 - 1;
					} while (uVar18 != 0);
				}
				lVar20 = 2;
				do {
					iVar4 = (int)lVar31;
					if ((*(int *)(iVar4 + 0x485c) != -1) && (((*(int *)(iVar4 + 0x4930) == 0x15 || (*(int *)(iVar4 + 0x4930) == 0x16)) && (iVar30 == *(int *)(iVar4 + 0x4934))))) {
						lVar32 = lVar32 + 1;
					}
					if (((*(int *)(iVar4 + 0x49cc) != -1) && ((*(int *)(iVar4 + 0x4aa0) == 0x15 || (*(int *)(iVar4 + 0x4aa0) == 0x16)))) && (iVar30 == *(int *)(iVar4 + 0x4aa4))) {
						lVar32 = lVar32 + 1;
					}
					if (((*(int *)(iVar4 + 0x4b3c) != -1) && ((*(int *)(iVar4 + 0x4c10) == 0x15 || (*(int *)(iVar4 + 0x4c10) == 0x16)))) && (iVar30 == *(int *)(iVar4 + 0x4c14))) {
						lVar32 = lVar32 + 1;
					}
					if ((*(int *)(iVar4 + 0x4cac) != -1) && (((*(int *)(iVar4 + 0x4d80) == 0x15 || (*(int *)(iVar4 + 0x4d80) == 0x16)) && (iVar30 == *(int *)(iVar4 + 0x4d84))))) {
						lVar32 = lVar32 + 1;
					}
					uVar22 = (undefined)lVar32;
					lVar31 = lVar31 + 0x5c0;
					lVar20 = lVar20 + -1;
				} while (lVar20 != 0);
				if ((int)lVar32 == 1) {
					strcpy((int)puVar10, *(int *)(iVar19 + -0x648c));
				} else {
					sprintf((int)puVar10, *(undefined4 *)(iVar19 + -0x6490), (int)lVar32, uVar23, uParm5,
					    uParm6, uParm7, uParm8, in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8c,
					    in_stack_ffffff90, in_stack_ffffff94, in_stack_ffffff98, in_stack_ffffff9c,
					    in_stack_ffffffa0, in_stack_ffffffa4);
				}
				AddPanelString((int)puVar10, 1, uVar22, uVar21, uVar24, uVar25, uVar26, uVar27, in_stack_ffffff78);
			} else {
				if (cVar1 < '\x02') {
					if (cVar1 == '\0') {
						uVar22 = (undefined) * (undefined4 *)(puVar14 + iVar30 * 0x38 + 8);
						sprintf((int)puVar10, *(undefined4 *)(iVar19 + -0x6474),
						    *(undefined4 *)(puVar14 + iVar30 * 0x38 + 8), uVar23, uParm5, uParm6, uParm7,
						    uParm8, in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8c,
						    in_stack_ffffff90, in_stack_ffffff94, in_stack_ffffff98, in_stack_ffffff9c,
						    in_stack_ffffffa0, in_stack_ffffffa4);
						AddPanelString((int)puVar10, 1, uVar22, uVar21, uVar24, uVar25, uVar26, uVar27, in_stack_ffffff78);
					} else {
						if (-1 < cVar1) {
							uVar21 = (undefined) * (undefined4 *)(puVar14 + iVar30 * 0x38 + 4);
							sprintf((int)puVar10, *(undefined4 *)(iVar19 + -0x6478),
							    *(undefined4 *)(puVar14 + iVar30 * 0x38 + 4), uVar23, uParm5, uParm6, uParm7,
							    uParm8, in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8c,
							    in_stack_ffffff90, in_stack_ffffff94, in_stack_ffffff98, in_stack_ffffff9c,
							    in_stack_ffffffa0, in_stack_ffffffa4);
							AddPanelString((int)puVar10, 1, uVar21, (char)uVar23, (char)uParm5, (char)uParm6, (char)uParm7, (char)uParm8, in_stack_ffffff78);
							uVar27 = (undefined)uParm8;
							uVar26 = (undefined)uParm7;
							uVar25 = (undefined)uParm6;
							uVar24 = (undefined)uParm5;
							uVar21 = (undefined)uVar23;
							iVar29 = iVar29 + *(int *)puVar5 * 0x55ec;
							lVar20 = (longlong) * (char *)(iVar29 + iVar30 + 0xc1) + (longlong) * (char *)(iVar29 + 0x5570);
							iVar30 = (int)lVar20;
							if (lVar20 < 0) {
								iVar30 = 0;
							}
							uVar22 = (undefined)iVar30;
							if (iVar30 == 0) {
								sprintf((int)puVar10, *(undefined4 *)(iVar19 + -0x6480), 0, uVar23, uParm5, uParm6,
								    uParm7, uParm8, in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8c,
								    in_stack_ffffff90, in_stack_ffffff94, in_stack_ffffff98, in_stack_ffffff9c, in_stack_ffffffa0, in_stack_ffffffa4);
							} else {
								sprintf((int)puVar10, *(undefined4 *)(iVar19 + -0x6484), iVar30, uVar23, uParm5,
								    uParm6, uParm7, uParm8, in_stack_ffffff78, in_stack_ffffff7f,
								    in_stack_ffffff8c, in_stack_ffffff90, in_stack_ffffff94, in_stack_ffffff98, in_stack_ffffff9c, in_stack_ffffffa0, in_stack_ffffffa4);
							}
							AddPanelString((int)puVar10, 1, uVar22, uVar21, uVar24, uVar25, uVar26, uVar27,
							    in_stack_ffffff78);
						}
					}
				} else {
					if (cVar1 < '\x04') {
						uVar21 = (undefined) * (undefined4 *)(puVar14 + iVar30 * 0x38 + 4);
						sprintf((int)puVar10, *(undefined4 *)(iVar19 + -0x6494),
						    *(undefined4 *)(puVar14 + iVar30 * 0x38 + 4), uVar23, uParm5, uParm6, uParm7,
						    uParm8, in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8c,
						    in_stack_ffffff90, in_stack_ffffff94, in_stack_ffffff98, in_stack_ffffff9c,
						    in_stack_ffffffa0, in_stack_ffffffa4);
						AddPanelString((int)puVar10, 1, uVar21, (char)uVar23, (char)uParm5, (char)uParm6, (char)uParm7,
						    (char)uParm8, in_stack_ffffff78);
						uVar22 = (undefined)uParm8;
						uVar27 = (undefined)uParm7;
						uVar26 = (undefined)uParm6;
						uVar25 = (undefined)uParm5;
						uVar24 = (undefined)uVar23;
						iVar30 = *(int *)(iVar29 + *(int *)puVar5 * 0x55ec + 0xb3c);
						uVar21 = (undefined)iVar30;
						if (iVar30 == 1) {
							strcpy((int)puVar10, *(int *)(iVar19 + -0x6498));
						} else {
							sprintf((int)puVar10, *(undefined4 *)(iVar19 + -0x649c), iVar30, uVar23, uParm5,
							    uParm6, uParm7, uParm8, in_stack_ffffff78, in_stack_ffffff7f,
							    in_stack_ffffff8c, in_stack_ffffff90, in_stack_ffffff94, in_stack_ffffff98,
							    in_stack_ffffff9c, in_stack_ffffffa0, in_stack_ffffffa4);
						}
						AddPanelString((int)puVar10, 1, uVar21, uVar24, uVar25, uVar26, uVar27, uVar22, in_stack_ffffff78);
					}
				}
			}
		}
	}
	if (((0xbe < *(int *)puVar12) && (*(int *)puVar12 < 0x1b5)) && ((0x164 < *(int *)puVar11 && (*(int *)puVar11 < 0x181)))) {
		uVar21 = CheckInvHLight();
		**(undefined **)(iVar19 + -0x772c) = uVar21;
	}
	return;
}

void CheckBtnUp(undefined param_1, undefined param_2, char param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	ulonglong uVar6;
	ulonglong uVar7;
	ulonglong uVar8;
	uint uVar9;
	uint *puVar10;
	int *piVar11;
	int iVar12;
	undefined4 in_stack_ffffff88;

	puVar5 = PTR_DAT_100f1928;
	puVar4 = PTR_DAT_100f1924;
	piVar11 = (int *)PTR_DAT_100f18f4;
	puVar3 = PTR_DAT_100f18f0;
	uVar8 = SEXT18(param_3);
	uVar7 = ZEXT48(PTR_DAT_100f18b4);
	iVar12 = 0;
	uVar6 = ZEXT48(PTR_DAT_100f18f0);
	uVar9 = 0;
	puVar10 = (uint *)&DAT_100f6300;
	*(undefined4 *)PTR_DAT_100f18b4 = 1;
	*(undefined4 *)puVar3 = 0;
	do {
		if (*piVar11 != 0) {
			uVar7 = 0;
			*piVar11 = 0;
			uVar1 = *(uint *)puVar5;
			uVar8 = (ulonglong)uVar1;
			uVar2 = *puVar10;
			uVar6 = (ulonglong)uVar2;
			if (((int)uVar2 <= (int)uVar1) && ((int)uVar1 <= (int)(uVar2 + puVar10[2]))) {
				uVar1 = *(uint *)puVar4;
				uVar8 = (ulonglong)uVar1;
				uVar2 = puVar10[1];
				uVar6 = (ulonglong)uVar2;
				if (((int)uVar2 <= (int)uVar1) && (((int)uVar1 <= (int)(uVar2 + puVar10[3]) && (uVar9 < 8)))) {
					// WARNING: Could not recover jumptable at 0x1001e810. Too many branches
					// WARNING: Treating indirect jump as call
					(**(code **)((int)&PTR_LAB_100f64c8 + iVar12))();
					return;
				}
			}
		}
		uVar9 = uVar9 + 1;
		puVar10 = puVar10 + 5;
		iVar12 = iVar12 + 4;
		piVar11 = piVar11 + 1;
		if (7 < (int)uVar9) {
			gamemenu_off((char)uVar6, (char)uVar7, (char)uVar8, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffff88);
			return;
		}
	} while (true);
}

void FreeControlPan(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined **ppuVar2;
	ulonglong uVar3;
	undefined4 in_stack_ffffffc8;

	ppuVar2 = &toc;
	uVar3 = (ulonglong)_DAT_100f4018;
	_DAT_100f4018 = 0;
	mem_free_dbg(uVar3, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	puVar1 = ppuVar2[-0x13ef];
	ppuVar2[-0x13ef] = (undefined *)0x0;
	mem_free_dbg(ZEXT48(puVar1), param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	puVar1 = ppuVar2[-0x13f0];
	ppuVar2[-0x13f0] = (undefined *)0x0;
	mem_free_dbg(ZEXT48(puVar1), param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	mem_free_dbg((int **)(ppuVar2 + -0x13e9), param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	mem_free_dbg((int **)(ppuVar2 + -0x13ea), param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	mem_free_dbg((int **)(ppuVar2 + -0x13ec), param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	mem_free_dbg((int **)(ppuVar2 + -0x13e8), param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	mem_free_dbg((int **)(ppuVar2 + -0x13f9), param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	mem_free_dbg((int **)(ppuVar2 + -0x13fa), param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	mem_free_dbg((int **)(ppuVar2 + -0x13eb), param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	mem_free_dbg((int **)(ppuVar2 + -0x13f1), param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	mem_free_dbg((int **)ppuVar2[-0x1dc0], param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	mem_free_dbg((int **)(ppuVar2 + -0x13f2), param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	mem_free_dbg((int **)(ppuVar2 + -0x13f3), param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	mem_free_dbg((int **)(ppuVar2 + -0x13f4), param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	mem_free_dbg((int **)(ppuVar2 + -0x13ed), param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

undefined8 control_WriteStringToBuffer(byte *param_1)

{
	byte bVar1;
	longlong lVar2;

	lVar2 = 0;
	do {
		if (*param_1 == 0) {
			return 1;
		}
		bVar1 = *param_1;
		param_1 = param_1 + 1;
		lVar2 = lVar2 + (ulonglong)(byte)(&DAT_100f6230)[(uint)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)bVar1]]];
	} while ((int)lVar2 < 0x7d);
	return 0;
}

void control_print_info_str(int param_1, byte *param_2, int param_3, longlong param_4, undefined8 param_5,
    int param_6, int param_7, int param_8, undefined4 param_9)

{
	byte bVar1;
	undefined *puVar2;
	longlong lVar3;
	byte *pbVar4;
	ulonglong uVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	ulonglong uVar9;
	ulonglong uVar10;
	undefined4 in_stack_ffffffa8;

	puVar2 = PTR_DAT_100f18a8;
	lVar8 = (longlong)param_8;
	lVar7 = (longlong)param_7;
	lVar6 = (longlong)param_6;
	param_4 = param_4 * 0x14;
	uVar5 = ZEXT48(&DAT_100f6274);
	uVar9 = 0;
	uVar10 = (ulonglong) * (uint *)(&DAT_100f6274 + (int)param_4 + param_1 * 4);
	if (param_3 == 1) {
		lVar3 = 0;
		pbVar4 = param_2;
		while (true) {
			if (*pbVar4 == 0)
				break;
			bVar1 = *pbVar4;
			pbVar4 = pbVar4 + 1;
			lVar3 = (ulonglong)(byte)(&DAT_100f6230)
			            [(uint)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)bVar1]]]
			    + lVar3
			    + 2;
		}
		if ((int)lVar3 < 0x120) {
			uVar9 = (ulonglong)(uint)(0x120 - (int)lVar3 >> 1);
		}
		uVar10 = uVar10 + uVar9;
	}
	while (*param_2 != 0) {
		bVar1 = *param_2;
		param_2 = param_2 + 1;
		bVar1 = (&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)bVar1]];
		uVar9 = (ulonglong)(byte)(&DAT_100f6230)[(uint)bVar1] + uVar9 + 2;
		if (bVar1 != 0) {
			if ((int)uVar9 < 0x120) {
				CPrintString(uVar10, (ulonglong)bVar1, (ulonglong)(byte)*puVar2, param_4, uVar5, (int)lVar6,
				    (int)lVar7, (int)lVar8, in_stack_ffffffa8);
			}
		}
		uVar10 = (ulonglong)(byte)(&DAT_100f6230)[(uint)bVar1] + uVar10 + 2;
	}
	return;
}

void control_draw_info_str(void)

{
	bool bVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined8 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	int iVar4;
	byte *pbVar5;
	int *piVar6;
	undefined4 in_stack_ffffffb8;

	puVar2 = PTR_DAT_100f190c;
	ppuVar3 = &toc;
	if (*(int *)PTR_DAT_100f1900 == 0) {
		bVar1 = *PTR_DAT_100f192c == '\0';
		if (!bVar1) {
			ppuVar3 = &toc;
			control_print_info_str(0, PTR_DAT_100f192c, 1, (ulonglong) * (uint *)PTR_DAT_100f190c, in_r7, in_r8, in_r9,
			    in_r10, in_stack_ffffffb8);
		}
		iVar4 = 0;
		piVar6 = (int *)ppuVar3[-0x1db2];
		pbVar5 = ppuVar3[-0x1db0];
		while (iVar4 < (int)*(uint *)puVar2) {
			control_print_info_str(iVar4 + (uint)!bVar1, pbVar5, *piVar6, (ulonglong) * (uint *)puVar2 - (ulonglong)bVar1, in_r7, in_r8, in_r9, in_r10, in_stack_ffffffb8);
			piVar6 = piVar6 + 1;
			pbVar5 = pbVar5 + 0x40;
			iVar4 = iVar4 + 1;
		}
	}
	return;
}

void DrawInfoBox(void)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined **ppuVar11;
	undefined *puVar13;
	longlong lVar12;
	undefined8 uVar14;
	int iVar16;
	ulonglong uVar15;
	undefined8 uVar17;
	undefined uVar18;
	char cVar19;
	undefined uVar21;
	undefined4 uVar20;
	undefined uVar23;
	undefined4 uVar22;
	undefined uVar25;
	undefined4 uVar24;
	undefined4 in_r9;
	undefined uVar26;
	undefined4 in_r10;
	undefined uVar27;
	ulonglong uVar28;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar10 = PTR_DAT_100f192c;
	puVar9 = PTR_DAT_100f191c;
	puVar8 = PTR_DAT_100f1918;
	puVar7 = PTR_DAT_100f18a8;
	puVar6 = PTR_DAT_100f1890;
	puVar5 = PTR_DAT_100f1880;
	puVar4 = PTR_DAT_100f187c;
	puVar13 = PTR_DAT_100f1874;
	puVar3 = PTR_DAT_100f1828;
	puVar2 = PTR_DAT_100f1824;
	ppuVar11 = &toc;
	uVar28 = ZEXT48(PTR_DAT_100f187c);
	uVar14 = 0x3e;
	uVar17 = 0x120;
	uVar20 = 0x3c;
	uVar22 = 0xf1;
	uVar24 = 0x22e;
	DrawPanelBox(0xb1, 0x3e, 0x120, 0x3c, 0xf1, 0x22e);
	if ((((*(int *)ppuVar11[-0x1db5] == 0) && (*(int *)puVar6 == 0)) && (*ppuVar11[-0x1dcb] == -1)) && (*(int *)puVar8 == 0)) {
		*puVar10 = 0;
		*puVar7 = 0;
		ClearPanel();
	}
	uVar27 = (undefined)in_r10;
	uVar26 = (undefined)in_r9;
	uVar25 = (undefined)uVar24;
	uVar23 = (undefined)uVar22;
	uVar21 = (undefined)uVar20;
	uVar18 = (undefined)uVar17;
	if (*(int *)puVar8 == 0) {
		if (*(int *)puVar6 == 0) {
			if (*(int *)ppuVar11[-0x1dd1] < 0xc) {
				if (*ppuVar11[-0x1dd2] != -1) {
					GetItemStr();
				}
				if ((int)(char)*ppuVar11[-0x1dd3] != -1) {
					GetObjectStr((int)(char)*ppuVar11[-0x1dd3], uVar14, uVar17, uVar20, uVar22, uVar24, in_r9, in_r10, in_stack_ffffffa8);
				}
				iVar16 = *(int *)puVar5;
				if (iVar16 != -1) {
					if (*ppuVar11[-0x1de5] == '\0') {
						strcpy((int)puVar10, (int)(ppuVar11[-0x1dd6] + iVar16 * 0x10c + 0xa0));
					} else {
						*puVar7 = 0;
						uVar15 = (ulonglong) * (uint *)(puVar4 + iVar16 * 0xe8 + 0xdc);
						strcpy((int)puVar10, *(uint *)(puVar4 + iVar16 * 0xe8 + 0xdc));
						ClearPanel();
						lVar12 = uVar28 + (ulonglong) * (uint *)puVar5 * 0xe8;
						iVar16 = (int)lVar12;
						if (*(char *)(iVar16 + 0xc0) == '\0') {
							PrintMonstHistory((uint) * *(byte **)(iVar16 + 0xe0), uVar15, uVar17, uVar20, uVar22, uVar24, in_r9, in_r10, in_stack_ffffffa8);
						} else {
							*puVar7 = 3;
							PrintUniqueHistory((char)lVar12, (char)uVar15, (char)uVar17, (char)uVar20, (char)uVar22,
							    (char)uVar24, (char)in_r9, (char)in_r10, in_stack_ffffffa8);
						}
					}
				}
				cVar19 = *puVar13;
				if (cVar19 != -1) {
					*puVar7 = 3;
					strcpy((int)puVar10, (int)(puVar3 + (int)cVar19 * 0x55ec + 0x13c));
					ClearPanel();
					uVar18 = (undefined)uVar20;
					cVar19 = puVar3[(int)(char)*puVar13 * 0x55ec + 0x1b4];
					sprintf((int)puVar9, ppuVar11[-0x1946], (int)cVar19, uVar20, uVar22, uVar24, in_r9, in_r10,
					    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbc, in_stack_ffffffc0,
					    in_stack_ffffffc4, in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0,
					    in_stack_ffffffd4);
					AddPanelString((int)puVar9, 1, cVar19, uVar18, (char)uVar22, (char)uVar24, (char)in_r9,
					    (char)in_r10, in_stack_ffffffa8);
					uVar27 = (undefined)in_r10;
					uVar26 = (undefined)in_r9;
					uVar25 = (undefined)uVar24;
					uVar23 = (undefined)uVar22;
					iVar16 = *(int *)(puVar3 + (int)(char)*puVar13 * 0x55ec + 0x194) >> 6;
					uVar18 = (undefined)iVar16;
					iVar1 = *(int *)(puVar3 + (int)(char)*puVar13 * 0x55ec + 0x198) >> 6;
					uVar21 = (undefined)iVar1;
					sprintf((int)puVar9, ppuVar11[-0x1947], iVar16, iVar1, uVar22, uVar24, in_r9, in_r10,
					    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbc, in_stack_ffffffc0,
					    in_stack_ffffffc4, in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0,
					    in_stack_ffffffd4);
					AddPanelString((int)puVar9, 1, uVar18, uVar21, uVar23, uVar25, uVar26, uVar27, in_stack_ffffffa8);
				}
			} else {
				iVar16 = *(int *)puVar2 * 0x55ec;
				puVar13 = puVar3 + iVar16;
				if (*(int *)(puVar13 + 0x53dc) == 0xb) {
					iVar16 = *(int *)(puVar13 + 0x5498);
					uVar28 = get_pieces_str(iVar16);
					sprintf((int)puVar10, ppuVar11[-0x1944], iVar16, (int)uVar28, uVar22, uVar24, in_r9, in_r10,
					    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbc, in_stack_ffffffc0,
					    in_stack_ffffffc4, in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0,
					    in_stack_ffffffd4);
				} else {
					if (*(int *)(puVar13 + 0x5538) == 0) {
						ClearPanel();
						AddPanelString((int)ppuVar11[-0x1945], 1, uVar18, uVar21, uVar23, uVar25, uVar26, uVar27,
						    in_stack_ffffffa8);
						*(undefined4 *)ppuVar11[-0x1db3] = 1;
					} else {
						if (*(int *)(puVar13 + 0x540c) == 0) {
							strcpy((int)puVar10, (int)(puVar3 + iVar16 + 0x5411));
						} else {
							strcpy((int)puVar10, (int)(puVar3 + iVar16 + 0x5451));
						}
						cVar19 = puVar3[*(int *)puVar2 * 0x55ec + 0x5410];
						if (cVar19 == '\x01') {
							*puVar7 = 1;
						}
						if (cVar19 == '\x02') {
							*puVar7 = 3;
						}
					}
				}
			}
			goto LAB_1001eed0;
		}
	}
	*puVar7 = 0;
LAB_1001eed0:
	if ((*puVar10 != '\0') || (*(int *)ppuVar11[-0x1db1] != 0)) {
		control_draw_info_str();
	}
	return;
}

void ADD_PlrStringXY(longlong param_1, int param_2, int param_3, byte *param_4, undefined8 param_5,
    undefined8 param_6, int param_7, int param_8, undefined4 param_9)

{
	byte bVar1;
	longlong lVar2;
	byte *pbVar3;
	ulonglong uVar4;
	undefined8 uVar5;
	ulonglong uVar6;
	longlong lVar7;
	longlong lVar8;
	ulonglong uVar9;
	int iVar10;
	undefined4 in_stack_ffffffa8;

	lVar8 = (longlong)param_8;
	lVar7 = (longlong)param_7;
	uVar6 = ZEXT48(PTR_DAT_100f1938);
	uVar9 = 0;
	uVar4 = (ulonglong) * (uint *)(PTR_DAT_100f1938 + param_2 * 4 + 0x280);
	iVar10 = (param_3 - (int)param_1) + 1;
	lVar2 = 0;
	pbVar3 = param_4;
	while (true) {
		if (*pbVar3 == 0)
			break;
		bVar1 = *pbVar3;
		pbVar3 = pbVar3 + 1;
		lVar2 = (ulonglong)(byte)(&DAT_100f6230)
		            [(uint)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)bVar1]]]
		    + lVar2 + 1;
	}
	if ((int)lVar2 < iVar10) {
		uVar9 = (ulonglong)(uint)(iVar10 - (int)lVar2 >> 1);
	}
	lVar2 = param_1 + uVar4 + 0x40 + uVar9;
	uVar5 = param_5;
	while (*param_4 != 0) {
		bVar1 = *param_4;
		param_4 = param_4 + 1;
		bVar1 = (&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)bVar1]];
		uVar9 = (ulonglong)(byte)(&DAT_100f6230)[(uint)bVar1] + uVar9 + 1;
		if (bVar1 != 0) {
			if ((int)uVar9 < iVar10) {
				CPrintString(lVar2, (ulonglong)bVar1, param_5, uVar4, uVar5, (int)uVar6, (int)lVar7, (int)lVar8,
				    in_stack_ffffffa8);
			}
		}
		lVar2 = (ulonglong)(byte)(&DAT_100f6230)[(uint)bVar1] + lVar2 + 1;
	}
	return;
}

void PrintGameStr(longlong param_1, int param_2, byte *param_3, undefined8 param_4, undefined8 param_5,
    int param_6, int param_7, int param_8, undefined4 param_9)

{
	byte bVar1;
	undefined8 uVar2;
	ulonglong uVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	undefined4 in_stack_ffffffa8;

	lVar6 = (longlong)param_8;
	lVar5 = (longlong)param_7;
	lVar4 = (longlong)param_6;
	uVar3 = ZEXT48(PTR_DAT_100f1938);
	param_1 = param_1 + (ulonglong) * (uint *)(PTR_DAT_100f1938 + param_2 * 4 + 0x280) + 0x40;
	uVar2 = param_4;
	while (*param_3 != 0) {
		bVar1 = *param_3;
		param_3 = param_3 + 1;
		bVar1 = (&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)bVar1]];
		if (bVar1 != 0) {
			CPrintString(param_1, (ulonglong)bVar1, param_4, uVar2, uVar3, (int)lVar4, (int)lVar5, (int)lVar6,
			    in_stack_ffffffa8);
		}
		param_1 = (ulonglong)(byte)(&DAT_100f6230)[(uint)bVar1] + param_1 + 1;
	}
	return;
}

void MY_PlrStringXY(longlong param_1, int param_2, int param_3, byte *param_4, undefined8 param_5,
    longlong param_6, undefined8 param_7, int param_8, undefined4 param_9)

{
	byte bVar1;
	longlong lVar2;
	byte *pbVar3;
	ulonglong uVar4;
	undefined8 uVar5;
	undefined4 uVar6;
	ulonglong uVar7;
	longlong lVar8;
	ulonglong uVar9;
	int iVar10;
	undefined4 in_stack_ffffffa8;

	uVar6 = (undefined4)param_6;
	lVar8 = (longlong)param_8;
	uVar7 = ZEXT48(PTR_DAT_100f1938);
	uVar9 = 0;
	uVar4 = (ulonglong) * (uint *)(PTR_DAT_100f1938 + param_2 * 4 + 0x280);
	iVar10 = (param_3 - (int)param_1) + 1;
	lVar2 = 0;
	pbVar3 = param_4;
	while (true) {
		if (*pbVar3 == 0)
			break;
		bVar1 = *pbVar3;
		pbVar3 = pbVar3 + 1;
		lVar2 = (ulonglong)(byte)(&DAT_100f6230)
		            [(uint)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)bVar1]]]
		    + param_6 + lVar2;
	}
	if ((int)lVar2 < iVar10) {
		uVar9 = (ulonglong)(uint)(iVar10 - (int)lVar2 >> 1);
	}
	lVar2 = param_1 + uVar4 + 0x40 + uVar9;
	uVar5 = param_5;
	while (*param_4 != 0) {
		bVar1 = *param_4;
		param_4 = param_4 + 1;
		bVar1 = (&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)bVar1]];
		uVar9 = (ulonglong)(byte)(&DAT_100f6230)[(uint)bVar1] + param_6 + uVar9;
		if (bVar1 != 0) {
			if ((int)uVar9 < iVar10) {
				CPrintString(lVar2, (ulonglong)bVar1, param_5, uVar4, uVar5, uVar6, (int)uVar7, (int)lVar8,
				    in_stack_ffffffa8);
			}
		}
		lVar2 = (ulonglong)(byte)(&DAT_100f6230)[(uint)bVar1] + param_6 + lVar2;
	}
	return;
}

void DrawChr(void)

{
	char cVar1;
	int iVar2;
	uint uVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined4 uVar8;
	int iVar9;
	undefined **ppuVar10;
	longlong lVar11;
	byte *pbVar12;
	undefined *puVar13;
	undefined4 uVar15;
	undefined8 uVar14;
	undefined4 uVar16;
	undefined8 in_r8;
	undefined *puVar17;
	undefined4 in_r9;
	ulonglong uVar18;
	undefined4 in_r10;
	undefined8 unaff_r20;
	ulonglong uVar19;
	undefined4 uVar21;
	undefined8 uVar20;
	undefined4 uVar22;
	undefined8 unaff_r21;
	int iVar23;
	undefined *puVar24;
	uint uVar25;
	undefined8 unaff_r22;
	int iVar26;
	undefined *puVar27;
	undefined8 unaff_r23;
	undefined8 unaff_r24;
	undefined8 unaff_r25;
	undefined *puVar28;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	undefined *puVar29;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffff58;
	undefined in_stack_ffffff5f;
	undefined4 in_stack_ffffff6c;
	undefined4 in_stack_ffffff70;
	undefined4 in_stack_ffffff74;
	undefined4 in_stack_ffffff78;
	undefined4 in_stack_ffffff7c;
	undefined4 in_stack_ffffff80;
	undefined4 in_stack_ffffff84;
	byte abStack120[72];
	undefined4 local_30;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	uVar8 = _DAT_100f2aa4;
	uVar16 = _DAT_100f2aa0;
	uVar22 = _DAT_100f2a98;
	uVar21 = _DAT_100f2a90;
	puVar7 = PTR_DAT_100f18e8;
	puVar6 = PTR_DAT_100f1870;
	puVar5 = PTR_DAT_100f1828;
	puVar4 = PTR_DAT_100f1824;
	ppuVar10 = &toc;
	local_30 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	CelDecodeOnly(0x40, 0x1ff, (ulonglong)_DAT_100f4028, 1, 0x140, (int)in_r8, in_r9, in_r10, in_stack_ffffff58);
	pbVar12 = puVar5 + *(int *)puVar4 * 0x55ec + 0x13c;
	uVar15 = 0;
	ADD_PlrStringXY(0x14, 0x20, 0x97, pbVar12, 0, in_r8, in_r9, in_r10, in_stack_ffffff58);
	puVar29 = puVar5 + 0x15c;
	cVar1 = puVar29[*(int *)puVar4 * 0x55ec];
	if (cVar1 == '\0') {
		pbVar12 = ppuVar10[-0x1948];
		uVar15 = 0;
		ADD_PlrStringXY(0xa8, 0x20, 299, pbVar12, 0, in_r8, in_r9, in_r10, in_stack_ffffff58);
	} else {
		if (cVar1 == '\x01') {
			pbVar12 = ppuVar10[-0x1949];
			uVar15 = 0;
			ADD_PlrStringXY(0xa8, 0x20, 299, pbVar12, 0, in_r8, in_r9, in_r10, in_stack_ffffff58);
		} else {
			if (cVar1 == '\x02') {
				pbVar12 = ppuVar10[-0x194a];
				uVar15 = 0;
				ADD_PlrStringXY(0xa8, 0x20, 299, pbVar12, 0, in_r8, in_r9, in_r10, in_stack_ffffff58);
			}
		}
	}
	sprintf((int)abStack120, uVar8, (int)(char)(puVar5 + 0x1b4)[*(int *)puVar4 * 0x55ec], pbVar12,
	    uVar15, (int)in_r8, in_r9, in_r10, in_stack_ffffff58, in_stack_ffffff5f, in_stack_ffffff6c,
	    in_stack_ffffff70, in_stack_ffffff74, in_stack_ffffff78, in_stack_ffffff7c,
	    in_stack_ffffff80, in_stack_ffffff84);
	pbVar12 = abStack120;
	uVar15 = 0;
	ADD_PlrStringXY(0x42, 0x45, 0x6d, pbVar12, 0, in_r8, in_r9, in_r10, in_stack_ffffff58);
	sprintf((int)abStack120, uVar16, *(undefined4 *)(puVar5 + *(int *)puVar4 * 0x55ec + 0x1b8),
	    pbVar12, uVar15, (int)in_r8, in_r9, in_r10, in_stack_ffffff58, in_stack_ffffff5f,
	    in_stack_ffffff6c, in_stack_ffffff70, in_stack_ffffff74, in_stack_ffffff78,
	    in_stack_ffffff7c, in_stack_ffffff80, in_stack_ffffff84);
	pbVar12 = abStack120;
	uVar15 = 0;
	ADD_PlrStringXY(0xd8, 0x45, 300, pbVar12, 0, in_r8, in_r9, in_r10, in_stack_ffffff58);
	if ((puVar5 + 0x1b4)[*(int *)puVar4 * 0x55ec] == '2') {
		strcpy((int)abStack120, (int)ppuVar10[-0x194d]);
		uVar14 = 3;
	} else {
		sprintf((int)abStack120, uVar16, *(undefined4 *)(puVar5 + *(int *)puVar4 * 0x55ec + 0x1c0),
		    pbVar12, uVar15, (int)in_r8, in_r9, in_r10, in_stack_ffffff58, in_stack_ffffff5f,
		    in_stack_ffffff6c, in_stack_ffffff70, in_stack_ffffff74, in_stack_ffffff78,
		    in_stack_ffffff7c, in_stack_ffffff80, in_stack_ffffff84);
		uVar14 = 0;
	}
	uVar16 = (undefined4)uVar14;
	pbVar12 = abStack120;
	ADD_PlrStringXY(0xd8, 0x61, 300, pbVar12, uVar14, in_r8, in_r9, in_r10, in_stack_ffffff58);
	sprintf((int)abStack120, uVar8, *(undefined4 *)(puVar5 + *(int *)puVar4 * 0x55ec + 0x1c8),
	    pbVar12, uVar16, (int)in_r8, in_r9, in_r10, in_stack_ffffff58, in_stack_ffffff5f,
	    in_stack_ffffff6c, in_stack_ffffff70, in_stack_ffffff74, in_stack_ffffff78,
	    in_stack_ffffff7c, in_stack_ffffff80, in_stack_ffffff84);
	pbVar12 = abStack120;
	uVar16 = 0;
	ADD_PlrStringXY(0xd8, 0x92, 300, pbVar12, 0, in_r8, in_r9, in_r10, in_stack_ffffff58);
	iVar9 = *(int *)puVar4 * 0x55ec;
	iVar26 = *(int *)(puVar5 + iVar9 + 0x5558);
	uVar19 = (ulonglong)(0 < iVar26);
	if (iVar26 < 0) {
		uVar19 = 2;
	}
	uVar15 = (undefined4)uVar19;
	puVar28 = puVar5 + 0x170;
	uVar25 = *(int *)(puVar28 + iVar9) / 5 + (*(int *)(puVar28 + iVar9) >> 0x1f);
	sprintf((int)abStack120, uVar8,
	    *(int *)(puVar5 + iVar9 + 0x554c) + iVar26 + uVar25 + (uVar25 >> 0x1f), pbVar12, uVar16, (int)in_r8, in_r9, in_r10, in_stack_ffffff58, in_stack_ffffff5f, in_stack_ffffff6c,
	    in_stack_ffffff70, in_stack_ffffff74, in_stack_ffffff78, in_stack_ffffff7c,
	    in_stack_ffffff80, in_stack_ffffff84);
	pbVar12 = abStack120;
	ADD_PlrStringXY(0x102, 0xb7, 0x12d, pbVar12, uVar19, in_r8, in_r9, in_r10, in_stack_ffffff58);
	iVar26 = *(int *)(puVar5 + *(int *)puVar4 * 0x55ec + 0x5554);
	uVar19 = (ulonglong)(0 < iVar26);
	if (iVar26 < 0) {
		uVar19 = 2;
	}
	sprintf((int)abStack120, uVar22,
	    (*(int *)(puVar28 + *(int *)puVar4 * 0x55ec) >> 1) + iVar26 + 0x32, pbVar12, uVar15,
	    (int)in_r8, in_r9, in_r10, in_stack_ffffff58, in_stack_ffffff5f, in_stack_ffffff6c,
	    in_stack_ffffff70, in_stack_ffffff74, in_stack_ffffff78, in_stack_ffffff7c,
	    in_stack_ffffff80, in_stack_ffffff84);
	ADD_PlrStringXY(0x102, 0xd3, 0x12d, abStack120, uVar19, in_r8, in_r9, in_r10, in_stack_ffffff58);
	iVar9 = *(int *)puVar4 * 0x55ec;
	iVar26 = *(int *)(puVar5 + iVar9 + 0x5550);
	uVar19 = (ulonglong)(0 < iVar26);
	if (iVar26 < 0) {
		uVar19 = 2;
	}
	uVar16 = (undefined4)uVar19;
	puVar17 = puVar5 + iVar9;
	uVar25 = *(uint *)(puVar17 + 0x5544);
	uVar18 = (ulonglong)uVar25;
	uVar3 = (int)(uVar25 * iVar26) / 100 + ((int)(uVar25 * iVar26) >> 0x1f);
	iVar23 = uVar25 + uVar3 + (uVar3 >> 0x1f) + *(int *)(puVar17 + 0x555c);
	if (*(int *)(puVar17 + 0xa60) == 3) {
		if (puVar29[iVar9] == '\x01') {
			iVar23 = iVar23 + *(int *)(puVar17 + 0x184);
		} else {
			iVar23 = iVar23 + (*(int *)(puVar17 + 0x184) >> 1);
		}
	} else {
		iVar23 = iVar23 + *(int *)(puVar17 + 0x184);
	}
	puVar13 = puVar5 + iVar9;
	iVar2 = *(int *)(puVar13 + 0x5548);
	uVar3 = (iVar2 * iVar26) / 100 + (iVar2 * iVar26 >> 0x1f);
	iVar26 = iVar2 + uVar3 + (uVar3 >> 0x1f) + *(int *)(puVar17 + 0x555c);
	if (*(int *)(puVar17 + 0xa60) == 3) {
		if (puVar29[iVar9] == '\x01') {
			iVar26 = iVar26 + *(int *)(puVar13 + 0x184);
		} else {
			iVar26 = iVar26 + (*(int *)(puVar13 + 0x184) >> 1);
		}
	} else {
		iVar26 = iVar26 + *(int *)(puVar13 + 0x184);
	}
	sprintf((int)abStack120, ppuVar10[-0x194f], iVar23, iVar26, iVar2, puVar17, uVar25, in_r10,
	    in_stack_ffffff58, in_stack_ffffff5f, in_stack_ffffff6c, in_stack_ffffff70,
	    in_stack_ffffff74, in_stack_ffffff78, in_stack_ffffff7c, in_stack_ffffff80,
	    in_stack_ffffff84);
	uVar15 = (undefined4)uVar18;
	if ((iVar23 < 100) && (iVar26 < 100)) {
		pbVar12 = abStack120;
		uVar14 = 0;
		MY_PlrStringXY(0x102, 0xef, 0x12d, pbVar12, uVar19, 0, uVar18, in_r10, in_stack_ffffff58);
	} else {
		pbVar12 = abStack120;
		uVar14 = 0xffffffffffffffff;
		MY_PlrStringXY(0xfe, 0xef, 0x131, pbVar12, uVar19, -1, uVar18, in_r10, in_stack_ffffff58);
	}
	cVar1 = puVar5[*(int *)puVar4 * 0x55ec + 0x1c5];
	uVar19 = (ulonglong)(cVar1 != '\0');
	if ((int)cVar1 < 0x4b) {
		sprintf((int)abStack120, uVar22, (int)cVar1, pbVar12, uVar16, (int)uVar14, uVar15, in_r10,
		    in_stack_ffffff58, in_stack_ffffff5f, in_stack_ffffff6c, in_stack_ffffff70,
		    in_stack_ffffff74, in_stack_ffffff78, in_stack_ffffff7c, in_stack_ffffff80,
		    in_stack_ffffff84);
	} else {
		uVar19 = 3;
		sprintf((int)abStack120, uVar21, (int)cVar1, pbVar12, uVar16, (int)uVar14, uVar15, in_r10,
		    in_stack_ffffff58, in_stack_ffffff5f, in_stack_ffffff6c, in_stack_ffffff70,
		    in_stack_ffffff74, in_stack_ffffff78, in_stack_ffffff7c, in_stack_ffffff80,
		    in_stack_ffffff84);
	}
	uVar16 = (undefined4)uVar19;
	pbVar12 = abStack120;
	ADD_PlrStringXY(0x101, 0x114, 300, pbVar12, uVar19, uVar14, uVar15, in_r10, in_stack_ffffff58);
	cVar1 = puVar5[*(int *)puVar4 * 0x55ec + 0x1c6];
	uVar19 = (ulonglong)(cVar1 != '\0');
	if ((int)cVar1 < 0x4b) {
		sprintf((int)abStack120, uVar22, (int)cVar1, pbVar12, uVar16, (int)uVar14, uVar15, in_r10,
		    in_stack_ffffff58, in_stack_ffffff5f, in_stack_ffffff6c, in_stack_ffffff70,
		    in_stack_ffffff74, in_stack_ffffff78, in_stack_ffffff7c, in_stack_ffffff80,
		    in_stack_ffffff84);
	} else {
		uVar19 = 3;
		sprintf((int)abStack120, uVar21, (int)cVar1, pbVar12, uVar16, (int)uVar14, uVar15, in_r10,
		    in_stack_ffffff58, in_stack_ffffff5f, in_stack_ffffff6c, in_stack_ffffff70,
		    in_stack_ffffff74, in_stack_ffffff78, in_stack_ffffff7c, in_stack_ffffff80,
		    in_stack_ffffff84);
	}
	uVar16 = (undefined4)uVar19;
	pbVar12 = abStack120;
	ADD_PlrStringXY(0x101, 0x130, 300, pbVar12, uVar19, uVar14, uVar15, in_r10, in_stack_ffffff58);
	cVar1 = puVar5[*(int *)puVar4 * 0x55ec + 0x1c7];
	uVar19 = (ulonglong)(cVar1 != '\0');
	if ((int)cVar1 < 0x4b) {
		sprintf((int)abStack120, uVar22, (int)cVar1, pbVar12, uVar16, (int)uVar14, uVar15, in_r10,
		    in_stack_ffffff58, in_stack_ffffff5f, in_stack_ffffff6c, in_stack_ffffff70,
		    in_stack_ffffff74, in_stack_ffffff78, in_stack_ffffff7c, in_stack_ffffff80,
		    in_stack_ffffff84);
	} else {
		uVar19 = 3;
		sprintf((int)abStack120, uVar21, (int)cVar1, pbVar12, uVar16, (int)uVar14, uVar15, in_r10,
		    in_stack_ffffff58, in_stack_ffffff5f, in_stack_ffffff6c, in_stack_ffffff70,
		    in_stack_ffffff74, in_stack_ffffff78, in_stack_ffffff7c, in_stack_ffffff80,
		    in_stack_ffffff84);
	}
	uVar21 = (undefined4)uVar19;
	pbVar12 = abStack120;
	ADD_PlrStringXY(0x101, 0x14c, 300, pbVar12, uVar19, uVar14, uVar15, in_r10, in_stack_ffffff58);
	puVar17 = puVar5 + 0x164;
	uVar20 = 0;
	sprintf((int)abStack120, uVar8, *(undefined4 *)(puVar17 + *(int *)puVar4 * 0x55ec), pbVar12,
	    uVar21, (int)uVar14, uVar15, in_r10, in_stack_ffffff58, in_stack_ffffff5f,
	    in_stack_ffffff6c, in_stack_ffffff70, in_stack_ffffff74, in_stack_ffffff78,
	    in_stack_ffffff7c, in_stack_ffffff80, in_stack_ffffff84);
	if (*(int *)(puVar17 + *(int *)puVar4 * 0x55ec) == *(int *)(puVar6 + (int)(char)puVar29[*(int *)puVar4 * 0x55ec] * 0x10)) {
		uVar20 = 3;
	}
	uVar21 = (undefined4)uVar20;
	pbVar12 = abStack120;
	ADD_PlrStringXY(0x5f, 0x9b, 0x7e, pbVar12, uVar20, uVar14, uVar15, in_r10, in_stack_ffffff58);
	puVar13 = puVar5 + 0x16c;
	uVar20 = 0;
	sprintf((int)abStack120, uVar8, *(undefined4 *)(puVar13 + *(int *)puVar4 * 0x55ec), pbVar12,
	    uVar21, (int)uVar14, uVar15, in_r10, in_stack_ffffff58, in_stack_ffffff5f,
	    in_stack_ffffff6c, in_stack_ffffff70, in_stack_ffffff74, in_stack_ffffff78,
	    in_stack_ffffff7c, in_stack_ffffff80, in_stack_ffffff84);
	if (*(int *)(puVar13 + *(int *)puVar4 * 0x55ec) == *(int *)(puVar6 + (int)(char)puVar29[*(int *)puVar4 * 0x55ec] * 0x10 + 4)) {
		uVar20 = 3;
	}
	uVar21 = (undefined4)uVar20;
	pbVar12 = abStack120;
	ADD_PlrStringXY(0x5f, 0xb7, 0x7e, pbVar12, uVar20, uVar14, uVar15, in_r10, in_stack_ffffff58);
	puVar27 = puVar5 + 0x174;
	uVar20 = 0;
	sprintf((int)abStack120, uVar8, *(undefined4 *)(puVar27 + *(int *)puVar4 * 0x55ec), pbVar12,
	    uVar21, (int)uVar14, uVar15, in_r10, in_stack_ffffff58, in_stack_ffffff5f,
	    in_stack_ffffff6c, in_stack_ffffff70, in_stack_ffffff74, in_stack_ffffff78,
	    in_stack_ffffff7c, in_stack_ffffff80, in_stack_ffffff84);
	if (*(int *)(puVar27 + *(int *)puVar4 * 0x55ec) == *(int *)(puVar6 + (int)(char)puVar29[*(int *)puVar4 * 0x55ec] * 0x10 + 8)) {
		uVar20 = 3;
	}
	uVar21 = (undefined4)uVar20;
	pbVar12 = abStack120;
	ADD_PlrStringXY(0x5f, 0xd3, 0x7e, pbVar12, uVar20, uVar14, uVar15, in_r10, in_stack_ffffff58);
	puVar24 = puVar5 + 0x17c;
	uVar20 = 0;
	sprintf((int)abStack120, uVar8, *(undefined4 *)(puVar24 + *(int *)puVar4 * 0x55ec), pbVar12,
	    uVar21, (int)uVar14, uVar15, in_r10, in_stack_ffffff58, in_stack_ffffff5f,
	    in_stack_ffffff6c, in_stack_ffffff70, in_stack_ffffff74, in_stack_ffffff78,
	    in_stack_ffffff7c, in_stack_ffffff80, in_stack_ffffff84);
	if (*(int *)(puVar24 + *(int *)puVar4 * 0x55ec) == *(int *)(puVar6 + (int)(char)puVar29[*(int *)puVar4 * 0x55ec] * 0x10 + 0xc)) {
		uVar20 = 3;
	}
	uVar21 = (undefined4)uVar20;
	pbVar12 = abStack120;
	ADD_PlrStringXY(0x5f, 0xef, 0x7e, pbVar12, uVar20, uVar14, uVar15, in_r10, in_stack_ffffff58);
	iVar26 = *(int *)(puVar5 + *(int *)puVar4 * 0x55ec + 0x160);
	uVar19 = (ulonglong)(*(int *)(puVar17 + *(int *)puVar4 * 0x55ec) < iVar26);
	if (iVar26 < *(int *)(puVar17 + *(int *)puVar4 * 0x55ec)) {
		uVar19 = 2;
	}
	uVar22 = (undefined4)uVar19;
	sprintf((int)abStack120, uVar8, iVar26, pbVar12, uVar21, (int)uVar14, uVar15, in_r10,
	    in_stack_ffffff58, in_stack_ffffff5f, in_stack_ffffff6c, in_stack_ffffff70,
	    in_stack_ffffff74, in_stack_ffffff78, in_stack_ffffff7c, in_stack_ffffff80,
	    in_stack_ffffff84);
	pbVar12 = abStack120;
	ADD_PlrStringXY(0x8f, 0x9b, 0xad, pbVar12, uVar19, uVar14, uVar15, in_r10, in_stack_ffffff58);
	iVar26 = *(int *)(puVar5 + *(int *)puVar4 * 0x55ec + 0x168);
	uVar19 = (ulonglong)(*(int *)(puVar13 + *(int *)puVar4 * 0x55ec) < iVar26);
	if (iVar26 < *(int *)(puVar13 + *(int *)puVar4 * 0x55ec)) {
		uVar19 = 2;
	}
	uVar21 = (undefined4)uVar19;
	sprintf((int)abStack120, uVar8, iVar26, pbVar12, uVar22, (int)uVar14, uVar15, in_r10,
	    in_stack_ffffff58, in_stack_ffffff5f, in_stack_ffffff6c, in_stack_ffffff70,
	    in_stack_ffffff74, in_stack_ffffff78, in_stack_ffffff7c, in_stack_ffffff80,
	    in_stack_ffffff84);
	pbVar12 = abStack120;
	ADD_PlrStringXY(0x8f, 0xb7, 0xad, pbVar12, uVar19, uVar14, uVar15, in_r10, in_stack_ffffff58);
	iVar26 = *(int *)(puVar28 + *(int *)puVar4 * 0x55ec);
	uVar19 = (ulonglong)(*(int *)(puVar27 + *(int *)puVar4 * 0x55ec) < iVar26);
	if (iVar26 < *(int *)(puVar27 + *(int *)puVar4 * 0x55ec)) {
		uVar19 = 2;
	}
	uVar22 = (undefined4)uVar19;
	sprintf((int)abStack120, uVar8, iVar26, pbVar12, uVar21, (int)uVar14, uVar15, in_r10,
	    in_stack_ffffff58, in_stack_ffffff5f, in_stack_ffffff6c, in_stack_ffffff70,
	    in_stack_ffffff74, in_stack_ffffff78, in_stack_ffffff7c, in_stack_ffffff80,
	    in_stack_ffffff84);
	pbVar12 = abStack120;
	ADD_PlrStringXY(0x8f, 0xd3, 0xad, pbVar12, uVar19, uVar14, uVar15, in_r10, in_stack_ffffff58);
	iVar26 = *(int *)(puVar5 + *(int *)puVar4 * 0x55ec + 0x178);
	uVar19 = (ulonglong)(*(int *)(puVar24 + *(int *)puVar4 * 0x55ec) < iVar26);
	if (iVar26 < *(int *)(puVar24 + *(int *)puVar4 * 0x55ec)) {
		uVar19 = 2;
	}
	uVar21 = (undefined4)uVar19;
	sprintf((int)abStack120, uVar8, iVar26, pbVar12, uVar22, (int)uVar14, uVar15, in_r10,
	    in_stack_ffffff58, in_stack_ffffff5f, in_stack_ffffff6c, in_stack_ffffff70,
	    in_stack_ffffff74, in_stack_ffffff78, in_stack_ffffff7c, in_stack_ffffff80,
	    in_stack_ffffff84);
	pbVar12 = abStack120;
	ADD_PlrStringXY(0x8f, 0xef, 0xad, pbVar12, uVar19, uVar14, uVar15, in_r10, in_stack_ffffff58);
	puVar28 = puVar5 + 0x180;
	if (0 < *(int *)(puVar28 + *(int *)puVar4 * 0x55ec)) {
		lVar11 = CalcStatDiff(*(int *)puVar4);
		if ((int)lVar11 < *(int *)(puVar28 + *(int *)puVar4 * 0x55ec)) {
			lVar11 = CalcStatDiff(*(int *)puVar4);
			*(int *)(puVar28 + *(int *)puVar4 * 0x55ec) = (int)lVar11;
		}
	}
	if (0 < *(int *)(puVar28 + *(int *)puVar4 * 0x55ec)) {
		sprintf((int)abStack120, uVar8, *(int *)(puVar28 + *(int *)puVar4 * 0x55ec), pbVar12, uVar21,
		    (int)uVar14, uVar15, in_r10, in_stack_ffffff58, in_stack_ffffff5f, in_stack_ffffff6c,
		    in_stack_ffffff70, in_stack_ffffff74, in_stack_ffffff78, in_stack_ffffff7c,
		    in_stack_ffffff80, in_stack_ffffff84);
		pbVar12 = abStack120;
		uVar21 = 2;
		ADD_PlrStringXY(0x5f, 0x10a, 0x7e, pbVar12, 2, uVar14, uVar15, in_r10, in_stack_ffffff58);
		cVar1 = puVar29[*(int *)puVar4 * 0x55ec];
		if (*(int *)(puVar17 + *(int *)puVar4 * 0x55ec) < *(int *)(puVar6 + (int)cVar1 * 0x10)) {
			pbVar12 = (byte *)((ulonglong) * (uint *)puVar7 + 2);
			uVar21 = 0x29;
			CelDecodeOnly(0xc9, 0x13f, ZEXT48(ppuVar10[-0x13eb]), (ulonglong) * (uint *)puVar7 + 2, 0x29,
			    (int)uVar14, uVar15, in_r10, in_stack_ffffff58);
		}
		iVar26 = (int)cVar1 * 0x10;
		if (*(int *)(puVar13 + *(int *)puVar4 * 0x55ec) < *(int *)(puVar6 + iVar26 + 4)) {
			pbVar12 = (byte *)((ulonglong) * (uint *)(puVar7 + 4) + 4);
			uVar21 = 0x29;
			CelDecodeOnly(0xc9, 0x15b, ZEXT48(ppuVar10[-0x13eb]), (ulonglong) * (uint *)(puVar7 + 4) + 4, 0x29,
			    (int)uVar14, uVar15, in_r10, in_stack_ffffff58);
		}
		if (*(int *)(puVar27 + *(int *)puVar4 * 0x55ec) < *(int *)(puVar6 + iVar26 + 8)) {
			pbVar12 = (byte *)((ulonglong) * (uint *)(puVar7 + 8) + 6);
			uVar21 = 0x29;
			CelDecodeOnly(0xc9, 0x178, ZEXT48(ppuVar10[-0x13eb]), (ulonglong) * (uint *)(puVar7 + 8) + 6, 0x29,
			    (int)uVar14, uVar15, in_r10, in_stack_ffffff58);
		}
		if (*(int *)(puVar24 + *(int *)puVar4 * 0x55ec) < *(int *)(puVar6 + iVar26 + 0xc)) {
			pbVar12 = (byte *)((ulonglong) * (uint *)(puVar7 + 0xc) + 8);
			uVar21 = 0x29;
			CelDecodeOnly(0xc9, 0x194, ZEXT48(ppuVar10[-0x13eb]), (ulonglong) * (uint *)(puVar7 + 0xc) + 8, 0x29,
			    (int)uVar14, uVar15, in_r10, in_stack_ffffff58);
		}
	}
	iVar26 = *(int *)(puVar5 + 0x198 + *(int *)puVar4 * 0x55ec);
	uVar19 = (ulonglong)(*(int *)(puVar5 + *(int *)puVar4 * 0x55ec + 400) < iVar26);
	uVar25 = (uint)(*(int *)(puVar5 + *(int *)puVar4 * 0x55ec + 400) < iVar26);
	sprintf((int)abStack120, uVar8, iVar26 >> 6, pbVar12, uVar21, (int)uVar14, uVar15, in_r10,
	    in_stack_ffffff58, in_stack_ffffff5f, in_stack_ffffff6c, in_stack_ffffff70,
	    in_stack_ffffff74, in_stack_ffffff78, in_stack_ffffff7c, in_stack_ffffff80,
	    in_stack_ffffff84);
	pbVar12 = abStack120;
	ADD_PlrStringXY(0x5f, 0x130, 0x7e, pbVar12, uVar19, uVar14, uVar15, in_r10, in_stack_ffffff58);
	if (*(int *)(puVar5 + *(int *)puVar4 * 0x55ec + 0x194) != *(int *)(puVar5 + 0x198 + *(int *)puVar4 * 0x55ec)) {
		uVar19 = 2;
	}
	uVar21 = (undefined4)uVar19;
	sprintf((int)abStack120, uVar8, *(int *)(puVar5 + *(int *)puVar4 * 0x55ec + 0x194) >> 6, pbVar12, uVar25, (int)uVar14, uVar15, in_r10, in_stack_ffffff58, in_stack_ffffff5f,
	    in_stack_ffffff6c, in_stack_ffffff70, in_stack_ffffff74, in_stack_ffffff78,
	    in_stack_ffffff7c, in_stack_ffffff80, in_stack_ffffff84);
	pbVar12 = abStack120;
	ADD_PlrStringXY(0x8f, 0x130, 0xae, pbVar12, uVar19, uVar14, uVar15, in_r10, in_stack_ffffff58);
	iVar26 = *(int *)(puVar5 + 0x1ac + *(int *)puVar4 * 0x55ec);
	uVar19 = (ulonglong)(*(int *)(puVar5 + *(int *)puVar4 * 0x55ec + 0x1a4) < iVar26);
	uVar25 = (uint)(*(int *)(puVar5 + *(int *)puVar4 * 0x55ec + 0x1a4) < iVar26);
	sprintf((int)abStack120, uVar8, iVar26 >> 6, pbVar12, uVar21, (int)uVar14, uVar15, in_r10,
	    in_stack_ffffff58, in_stack_ffffff5f, in_stack_ffffff6c, in_stack_ffffff70,
	    in_stack_ffffff74, in_stack_ffffff78, in_stack_ffffff7c, in_stack_ffffff80,
	    in_stack_ffffff84);
	pbVar12 = abStack120;
	ADD_PlrStringXY(0x5f, 0x14c, 0x7e, pbVar12, uVar19, uVar14, uVar15, in_r10, in_stack_ffffff58);
	if (*(int *)(puVar5 + *(int *)puVar4 * 0x55ec + 0x1a8) != *(int *)(puVar5 + 0x1ac + *(int *)puVar4 * 0x55ec)) {
		uVar19 = 2;
	}
	sprintf((int)abStack120, uVar8, *(int *)(puVar5 + *(int *)puVar4 * 0x55ec + 0x1a8) >> 6, pbVar12, uVar25, (int)uVar14, uVar15, in_r10, in_stack_ffffff58, in_stack_ffffff5f,
	    in_stack_ffffff6c, in_stack_ffffff70, in_stack_ffffff74, in_stack_ffffff78,
	    in_stack_ffffff7c, in_stack_ffffff80, in_stack_ffffff84);
	ADD_PlrStringXY(0x8f, 0x14c, 0xae, abStack120, uVar19, uVar14, uVar15, in_r10, in_stack_ffffff58);
	return;
}

void CheckLvlBtn(void)

{
	if (*(int *)PTR_DAT_100f18f8 != 0) {
		return;
	}
	if (*(int *)PTR_DAT_100f1928 < 0x28) {
		return;
	}
	if (0x51 < *(int *)PTR_DAT_100f1928) {
		return;
	}
	if (*(int *)PTR_DAT_100f1924 < 0x139) {
		return;
	}
	if (0x14f < *(int *)PTR_DAT_100f1924) {
		return;
	}
	*(undefined4 *)PTR_DAT_100f18f8 = 1;
	return;
}

void ReleaseLvlBtn(void)

{
	if ((((0x27 < *(int *)PTR_DAT_100f1928) && (*(int *)PTR_DAT_100f1928 < 0x52)) && (0x138 < *(int *)PTR_DAT_100f1924)) && (*(int *)PTR_DAT_100f1924 < 0x150)) {
		*(undefined4 *)PTR_DAT_100f180c = 1;
	}
	*(undefined4 *)PTR_DAT_100f18f8 = 0;
	return;
}

void DrawLevelUpIcon(void)

{
	undefined **ppuVar1;
	undefined8 in_r8;
	undefined4 uVar2;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined8 uVar3;
	undefined4 in_stack_ffffffc8;

	uVar2 = (undefined4)in_r8;
	ppuVar1 = &toc;
	if (*PTR_DAT_100f186c == '\0') {
		if (*(int *)PTR_DAT_100f18f8 == 0) {
			uVar3 = 2;
		} else {
			uVar3 = 3;
		}
		ADD_PlrStringXY(0, 0x12f, 0x78, _DAT_100f2a8c, 0, in_r8, in_r9, in_r10, in_stack_ffffffc8);
		CelDecodeOnly(0x68, 0x1ef, ZEXT48(ppuVar1[-0x13eb]), uVar3, 0x29, uVar2, in_r9, in_r10, in_stack_ffffffc8);
	}
	return;
}

void CheckChrBtns(void)

{
	int iVar1;
	int iVar2;
	int iVar3;
	int iVar4;
	int iVar5;
	int iVar6;
	undefined *puVar7;
	int *piVar8;
	int *piVar9;
	undefined *puVar10;
	int *piVar11;
	undefined4 *puVar12;
	int iVar13;
	int iVar14;
	longlong lVar15;

	puVar7 = PTR_DAT_100f18e4;
	if ((*(int *)PTR_DAT_100f18e4 == 0) && (puVar10 = PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec, *(int *)(puVar10 + 0x180) != 0)) {
		lVar15 = 2;
		piVar11 = (int *)&DAT_100f63e0;
		piVar8 = (int *)(PTR_DAT_100f1870 + (int)(char)puVar10[0x15c] * 0x10);
		iVar1 = *(int *)(puVar10 + 0x164);
		iVar13 = 0;
		iVar2 = *(int *)(puVar10 + 0x16c);
		iVar3 = *(int *)(puVar10 + 0x174);
		iVar4 = *(int *)(puVar10 + 0x17c);
		iVar5 = *(int *)PTR_DAT_100f1928;
		iVar6 = *(int *)PTR_DAT_100f1924;
		puVar12 = (undefined4 *)PTR_DAT_100f18e8;
		do {
			if (iVar13 == 2) {
				if (iVar3 < *piVar8)
					goto LAB_1001fe80;
			} else {
				if (iVar13 < 2) {
					if (iVar13 == 0) {
						if (iVar1 < *piVar8)
							goto LAB_1001fe80;
					} else {
						if ((-1 < iVar13) && (iVar2 < *piVar8)) {
						LAB_1001fe80:
							if ((*piVar11 <= iVar5) && (((iVar5 <= *piVar11 + piVar11[2] && (piVar11[1] <= iVar6)) && (iVar6 <= piVar11[1] + piVar11[3])))) {
								*puVar12 = 1;
								*(undefined4 *)puVar7 = 1;
							}
						}
					}
				} else {
					if ((iVar13 < 4) && (iVar4 < *piVar8))
						goto LAB_1001fe80;
				}
			}
			iVar14 = iVar13 + 1;
			piVar9 = piVar8 + 1;
			if (iVar14 == 2) {
				if (iVar3 < *piVar9)
					goto LAB_1001ff38;
			} else {
				if (iVar14 < 2) {
					if (iVar13 == -1) {
						if (iVar1 < *piVar9)
							goto LAB_1001ff38;
					} else {
						if ((-1 < iVar14) && (iVar2 < *piVar9)) {
						LAB_1001ff38:
							if ((piVar11[4] <= iVar5) && (((iVar5 <= piVar11[4] + piVar11[6] && (piVar11[5] <= iVar6)) && (iVar6 <= piVar11[5] + piVar11[7])))) {
								puVar12[1] = 1;
								*(undefined4 *)puVar7 = 1;
							}
						}
					}
				} else {
					if ((iVar14 < 4) && (iVar4 < *piVar9))
						goto LAB_1001ff38;
				}
			}
			piVar8 = piVar8 + 2;
			piVar11 = piVar11 + 8;
			puVar12 = puVar12 + 2;
			iVar13 = iVar13 + 2;
			lVar15 = lVar15 + -1;
		} while (lVar15 != 0);
	}
	return;
}

void ReleaseChrBtns(void)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	int iVar5;
	undefined8 in_r6;
	undefined8 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	int iVar6;
	int *piVar7;
	int *piVar8;
	undefined4 in_stack_ffffffa8;

	puVar4 = PTR_DAT_100f1928;
	puVar3 = PTR_DAT_100f1924;
	piVar8 = (int *)PTR_DAT_100f18e8;
	puVar2 = PTR_DAT_100f1828;
	puVar1 = PTR_DAT_100f1824;
	iVar6 = 0;
	piVar7 = (int *)&DAT_100f63e0;
	*(undefined4 *)PTR_DAT_100f18e4 = 0;
	do {
		if (*piVar8 != 0) {
			*piVar8 = 0;
			if ((*piVar7 <= *(int *)puVar4) && (*(int *)puVar4 <= *piVar7 + piVar7[2])) {
				if ((piVar7[1] <= *(int *)puVar3) && (*(int *)puVar3 <= piVar7[1] + piVar7[3])) {
					if (iVar6 == 2) {
						NetSendCmdParam1(1, 5, 1, in_r6, in_r7, in_r8, in_r9, in_r10, in_stack_ffffffa8);
						iVar5 = *(int *)puVar1 * 0x55ec + 0x180;
						*(int *)(puVar2 + iVar5) = *(int *)(puVar2 + iVar5) + -1;
					} else {
						if (iVar6 < 2) {
							if (iVar6 == 0) {
								NetSendCmdParam1(1, 3, 1, in_r6, in_r7, in_r8, in_r9, in_r10, in_stack_ffffffa8);
								iVar5 = *(int *)puVar1 * 0x55ec + 0x180;
								*(int *)(puVar2 + iVar5) = *(int *)(puVar2 + iVar5) + -1;
							} else {
								if (-1 < iVar6) {
									NetSendCmdParam1(1, 4, 1, in_r6, in_r7, in_r8, in_r9, in_r10, in_stack_ffffffa8);
									iVar5 = *(int *)puVar1 * 0x55ec + 0x180;
									*(int *)(puVar2 + iVar5) = *(int *)(puVar2 + iVar5) + -1;
								}
							}
						} else {
							if (iVar6 < 4) {
								NetSendCmdParam1(1, 6, 1, in_r6, in_r7, in_r8, in_r9, in_r10, in_stack_ffffffa8);
								iVar5 = *(int *)puVar1 * 0x55ec + 0x180;
								*(int *)(puVar2 + iVar5) = *(int *)(puVar2 + iVar5) + -1;
							}
						}
					}
				}
			}
		}
		iVar6 = iVar6 + 1;
		piVar7 = piVar7 + 4;
		piVar8 = piVar8 + 1;
	} while (iVar6 < 4);
	return;
}

longlong DrawDurIcon4Item(int param_1, longlong param_2, longlong param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined4 in_stack_ffffffc8;

	iVar1 = *(int *)(param_1 + 8);
	if ((iVar1 != -1) && (*(int *)(param_1 + 0xec) < 6)) {
		if ((int)param_3 == 0) {
			if (*(char *)(param_1 + 0xbe) == '\x01') {
				if (iVar1 == 4) {
					param_3 = 5;
				} else {
					if (iVar1 < 4) {
						if (iVar1 == 2) {
							param_3 = 6;
						} else {
							if (iVar1 < 2) {
								if (0 < iVar1) {
									param_3 = 2;
								}
							} else {
								param_3 = 7;
							}
						}
					} else {
						if (iVar1 == 10) {
							param_3 = 8;
						}
					}
				}
			} else {
				param_3 = 1;
			}
		}
		if (2 < *(int *)(param_1 + 0xec)) {
			param_3 = param_3 + 8;
		}
		CelDecodeOnly((int)param_2, 0x1ef, (ulonglong)_DAT_100f400c, param_3, 0x20, param_6, param_7, param_8,
		    in_stack_ffffffc8);
		param_2 = param_2 + -0x28;
	}
	return param_2;
}

void DrawDurIcon(void)

{
	undefined *puVar1;
	longlong lVar2;
	ulonglong uVar3;
	undefined8 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffc8;

	if (((*(int *)PTR_DAT_100f180c == 0) && (*(int *)PTR_DAT_100f1808 == 0)) || ((*(int *)PTR_DAT_100f1814 == 0 && (*(int *)PTR_DAT_100f1810 == 0)))) {
		lVar2 = 0x290;
		if ((*(int *)PTR_DAT_100f1814 != 0) || (*(int *)PTR_DAT_100f1810 != 0)) {
			lVar2 = 0x150;
		}
		uVar3 = ZEXT48(PTR_DAT_100f1828);
		puVar1 = PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec;
		lVar2 = DrawDurIcon4Item((int)(puVar1 + 0x498), lVar2, 4, uVar3, in_r7, in_r8, in_r9, in_r10,
		    in_stack_ffffffc8);
		lVar2 = DrawDurIcon4Item((int)(puVar1 + 0xd38), lVar2, 3, uVar3, in_r7, in_r8, in_r9, in_r10,
		    in_stack_ffffffc8);
		lVar2 = DrawDurIcon4Item((int)(puVar1 + 0xa58), lVar2, 0, uVar3, in_r7, in_r8, in_r9, in_r10,
		    in_stack_ffffffc8);
		DrawDurIcon4Item((int)(puVar1 + 0xbc8), lVar2, 0, uVar3, in_r7, in_r8, in_r9, in_r10, in_stack_ffffffc8);
	}
	return;
}

void RedBack(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	byte *pbVar2;
	longlong lVar3;
	byte bVar4;
	longlong lVar5;
	byte *local_18;
	int local_14;
	byte *local_10[4];

	if (*(int *)PTR_DAT_100f1864 == 0) {
		local_14 = 0x1200;
	} else {
		local_14 = 0x600;
	}
	if (*PTR_DAT_100f183c == '\x04') {
		lVar5 = 0x160;
		local_10[0] = (byte *)(*(int *)PTR_DAT_100f17cc + 0x1e040);
		iVar1 = *(int *)PTR_DAT_100f1860;
		do {
			lVar3 = 0x280;
			pbVar2 = local_10[0];
			do {
				local_10[0] = pbVar2;
				bVar4 = *local_10[0];
				if (0x1f < bVar4) {
					bVar4 = *(byte *)(iVar1 + local_14 + (uint)bVar4);
				}
				lVar3 = lVar3 + -1;
				*local_10[0] = bVar4;
				pbVar2 = local_10[0] + 1;
			} while (lVar3 != 0);
			lVar5 = lVar5 + -1;
			local_10[0] = local_10[0] + 0x81;
		} while (lVar5 != 0);
	} else {
		lVar5 = 0x160;
		local_10[0] = (byte *)(*(int *)PTR_DAT_100f17cc + 0x1e040);
		local_14 = *(int *)PTR_DAT_100f1860 + local_14;
		do {
			local_18 = local_10[0];
			FUN_100c996c(local_10, &local_18, local_14, 0x280);
			lVar5 = lVar5 + -1;
			local_10[0] = local_10[0] + 0x80;
		} while (lVar5 != 0);
	}
	return;
}

void PrintSBookStr(longlong param_1, int param_2, int param_3, longlong param_4, undefined8 param_5,
    undefined8 param_6, int param_7, int param_8, undefined4 param_9)

{
	byte bVar1;
	longlong lVar2;
	byte *pbVar3;
	undefined8 uVar4;
	ulonglong uVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	ulonglong uVar9;
	undefined4 in_stack_ffffffa8;

	lVar7 = (longlong)param_8;
	lVar6 = (longlong)param_7;
	uVar5 = ZEXT48(PTR_DAT_100f1938);
	uVar9 = 0;
	param_1 = param_1 + (ulonglong) * (uint *)(PTR_DAT_100f1938 + param_2 * 4) + 0x1b8;
	uVar4 = param_5;
	lVar8 = param_4;
	if (param_3 != 0) {
		lVar2 = 0;
		lVar8 = param_4;
		while (true) {
			pbVar3 = (byte *)lVar8;
			if (*pbVar3 == 0)
				break;
			lVar8 = lVar8 + 1;
			lVar2 = (ulonglong)(byte)(&DAT_100f6230)
			            [(uint)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)*pbVar3]]]
			    + lVar2 + 1;
		}
		if ((int)lVar2 < 0xde) {
			uVar9 = (ulonglong)(uint)(0xde - (int)lVar2 >> 1);
		}
		param_1 = param_1 + uVar9;
		uVar4 = param_5;
		lVar8 = param_4;
	}
	while (true) {
		pbVar3 = (byte *)lVar8;
		if (*pbVar3 == 0)
			break;
		lVar8 = lVar8 + 1;
		bVar1 = (&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)*pbVar3]];
		uVar9 = (ulonglong)(byte)(&DAT_100f6230)[(uint)bVar1] + uVar9 + 1;
		if (bVar1 != 0) {
			if ((int)uVar9 < 0xdf) {
				CPrintString(param_1, (ulonglong)bVar1, param_5, param_4, uVar4, (int)uVar5, (int)lVar6, (int)lVar7, in_stack_ffffffa8);
			}
		}
		param_1 = (ulonglong)(byte)(&DAT_100f6230)[(uint)bVar1] + param_1 + 1;
	}
	return;
}

undefined8
GetSBookTrans(int param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	uint uVar3;
	int iVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined **ppuVar7;
	ulonglong uVar8;
	undefined8 uVar9;
	ulonglong uVar10;
	longlong lVar11;
	undefined8 uVar12;
	undefined4 in_stack_ffffffa8;

	puVar6 = PTR_DAT_100f1828;
	puVar5 = PTR_DAT_100f1824;
	ppuVar7 = &toc;
	uVar12 = 1;
	uVar10 = 1;
	uVar8 = SetCursorPos(0, 1, (longlong)param_1 + -1, param_4, param_5, param_6);
	uVar1 = *(uint *)puVar5;
	lVar11 = (ulonglong)uVar1 * 0x55ec;
	iVar4 = (int)lVar11;
	uVar2 = *(uint *)(puVar6 + iVar4 + 0x5564);
	if ((uVar10 & (ulonglong)uVar2 | uVar8 & (ulonglong) * (uint *)(puVar6 + iVar4 + 0x5560)) != 0) {
		uVar12 = 3;
	}
	uVar3 = 1 << (longlong)param_1 + -1;
	if ((uVar3 & *(uint *)(puVar6 + iVar4 + 0x110) | (int)uVar3 >> 0x1f & *(uint *)(puVar6 + iVar4 + 0x10c)) != 0) {
		uVar12 = 0;
	}
	if ((char)uVar12 == '\x01') {
		uVar9 = CheckSpell(uVar1, param_1, '\x01', 1, (char)uVar2, (char)lVar11, param_7, param_8,
		    in_stack_ffffffa8);
		if ((int)uVar9 == 0) {
			uVar12 = 4;
		}
		if ((char)((puVar6 + *(int *)puVar5 * 0x55ec)[param_1 + 0xc1] + (puVar6 + *(int *)puVar5 * 0x55ec)[0x5570]) < '\x01') {
			uVar12 = 4;
		}
	}
	if ((((param_2 != 0) && (*ppuVar7[-0x1df9] == '\0')) && ((char)uVar12 != '\x04')) && (*(int *)(ppuVar7[-0x1da7] + param_1 * 0x38 + 0x18) == 0)) {
		uVar12 = 4;
	}
	return uVar12;
}

void DrawSpellBook(void)

{
	uint uVar1;
	uint uVar2;
	uint uVar3;
	uint uVar4;
	uint uVar5;
	uint uVar6;
	uint uVar7;
	int iVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined *puVar12;
	undefined4 uVar13;
	undefined4 uVar14;
	undefined4 uVar15;
	undefined4 uVar16;
	int iVar17;
	undefined4 uVar18;
	ulonglong uVar19;
	ulonglong uVar20;
	ulonglong uVar21;
	undefined8 uVar22;
	longlong lVar23;
	ulonglong uVar24;
	char cVar26;
	undefined uVar27;
	int iVar25;
	uint uVar28;
	int iVar29;
	undefined *puVar30;
	ulonglong uVar31;
	undefined4 uVar32;
	undefined4 in_r8;
	longlong lVar33;
	undefined4 in_r9;
	undefined4 in_r10;
	ulonglong uVar34;
	int iVar35;
	int iVar36;
	longlong lVar37;
	ulonglong uVar38;
	undefined4 in_stack_ffffff78;
	undefined in_stack_ffffff7f;
	undefined4 in_stack_ffffff8c;
	undefined4 in_stack_ffffff90;
	undefined4 in_stack_ffffff94;
	undefined4 in_stack_ffffff98;
	undefined4 in_stack_ffffff9c;
	undefined4 in_stack_ffffffa0;
	undefined4 in_stack_ffffffa4;
	undefined4 local_58;
	int local_54;

	uVar18 = _DAT_100f2b4c;
	iVar17 = _DAT_100f2a88;
	uVar16 = _DAT_100f2a84;
	uVar15 = _DAT_100f2a80;
	uVar14 = _DAT_100f2a7c;
	uVar13 = _DAT_100f2a78;
	puVar12 = PTR_DAT_100f191c;
	puVar11 = PTR_DAT_100f18d8;
	puVar10 = PTR_DAT_100f1828;
	puVar9 = PTR_DAT_100f1824;
	uVar19 = ZEXT48(&toc);
	uVar34 = (ulonglong)_DAT_100f2b50;
	uVar38 = ZEXT48(PTR_DAT_100f191c);
	CelDecodeOnly(0x180, 0x1ff, (ulonglong)_DAT_100f4008, 1, 0x140, in_r8, in_r9, in_r10, in_stack_ffffff78);
	uVar20 = (ulonglong) * (uint *)puVar11;
	lVar33 = uVar20 * 0x4c;
	CelDecodeOnly((int)lVar33 + 0x187, 0x1fc, (ulonglong) * (uint *)((int)uVar19 + -0x4fcc), uVar20 + 1, 0x4c, (int)lVar33, in_r9, in_r10, in_stack_ffffff78);
	lVar37 = 0xd7;
	iVar36 = 1;
	puVar30 = puVar10 + *(int *)puVar9 * 0x55ec;
	uVar1 = *(uint *)(puVar30 + 0x5560);
	iVar35 = 4;
	uVar2 = *(uint *)(puVar30 + 0x104);
	uVar3 = *(uint *)(puVar30 + 0x5564);
	uVar20 = (ulonglong)uVar3;
	uVar4 = *(uint *)(puVar30 + 0x108);
	uVar31 = (ulonglong)uVar4;
	uVar5 = *(uint *)(puVar30 + 0x10c);
	uVar6 = *(uint *)(puVar30 + 0x110);
	do {
		uVar7 = *(uint *)(*(int *)puVar11 * 0x1c + iVar35 + 0x100f641c);
		if (uVar7 != 0xffffffff) {
			cVar26 = (char)uVar7 + -1;
			uVar24 = 1;
			uVar21 = SetCursorPos(0);
			if (((ulonglong)(uVar6 | uVar3 | uVar4) & uVar24 | (ulonglong)(uVar5 | uVar1 | uVar2) & uVar21) != 0) {
				uVar22 = GetSBookTrans(uVar7, 1, cVar26, (char)uVar20, (char)uVar31, (char)lVar33, (char)in_r9,
				    (char)in_r10, in_stack_ffffff78);
				SetSpellTrans((char)uVar22);
				DrawSpellCel(0x18b, lVar37, (ulonglong) * (uint *)((int)uVar19 + -0x4fd0),
				    (longlong) * (char *)((int)uVar19 + -0x2cf8 + uVar7), 0x25, (int)lVar33, in_r9,
				    in_r10, in_stack_ffffff78);
				if ((uVar7 == *(uint *)(puVar10 + *(int *)puVar9 * 0x55ec + 0xb4)) && ((char)uVar22 == (puVar10 + *(int *)puVar9 * 0x55ec)[0xb8])) {
					SetSpellTrans('\0');
					DrawSpellCel(0x18b, lVar37, (ulonglong) * (uint *)((int)uVar19 + -0x4fd0), 0x2b, 0x25,
					    (int)lVar33, in_r9, in_r10, in_stack_ffffff78);
				}
				iVar8 = (int)lVar37;
				uVar27 = 0;
				uVar28 = *(uint *)(*(int *)((int)uVar19 + -0x769c) + uVar7 * 0x38 + 4);
				uVar32 = 0;
				PrintSBookStr(10, iVar8 + -0x17, 0, (ulonglong)uVar28, 0, lVar33, in_r9, in_r10, in_stack_ffffff78);
				uVar22 = GetSBookTrans(uVar7, 0, uVar27, (char)uVar28, (char)uVar32, (char)lVar33, (char)in_r9,
				    (char)in_r10, in_stack_ffffff78);
				cVar26 = (char)uVar22;
				if (cVar26 == '\x03') {
					sprintf((int)puVar12, uVar16,
					    *(undefined4 *)(puVar10 + *(int *)puVar9 * 0x55ec + 0xb3c), uVar28, uVar32,
					    (int)lVar33, in_r9, in_r10, in_stack_ffffff78, in_stack_ffffff7f,
					    in_stack_ffffff8c, in_stack_ffffff90, in_stack_ffffff94, in_stack_ffffff98,
					    in_stack_ffffff9c, in_stack_ffffffa0, in_stack_ffffffa4);
				} else {
					if ((cVar26 < '\x03') && (cVar26 == '\0')) {
						strcpy((int)puVar12, iVar17);
					} else {
						lVar23 = GetManaAmount(*(int *)puVar9, uVar7);
						iVar25 = (int)lVar23 >> 6;
						GetDamageAmt(uVar7);
						if (local_54 == -1) {
							iVar29 = local_54;
							sprintf((int)puVar12, uVar14, iVar25, 0xffffffff, uVar32, (int)lVar33, in_r9, in_r10,
							    in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8c, in_stack_ffffff90,
							    in_stack_ffffff94, in_stack_ffffff98, in_stack_ffffff9c, in_stack_ffffffa0,
							    in_stack_ffffffa4);
						} else {
							iVar29 = local_54;
							uVar32 = local_58;
							sprintf((int)puVar12, uVar15, iVar25, local_54, local_58, (int)lVar33, in_r9, in_r10,
							    in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8c, in_stack_ffffff90,
							    in_stack_ffffff94, in_stack_ffffff98, in_stack_ffffff9c, in_stack_ffffffa0,
							    in_stack_ffffffa4);
						}
						if (uVar7 == 0x24) {
							sprintf((int)puVar12, uVar13, iVar25, iVar29, uVar32, (int)lVar33, in_r9, in_r10,
							    in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8c, in_stack_ffffff90,
							    in_stack_ffffff94, in_stack_ffffff98, in_stack_ffffff9c, in_stack_ffffffa0,
							    in_stack_ffffffa4);
						}
						uVar32 = 0;
						puVar30 = puVar12;
						PrintSBookStr(10, iVar8 + -1, 0, uVar38, 0, lVar33, in_r9, in_r10, in_stack_ffffff78);
						lVar23 = (longlong)(char)(puVar10 + *(int *)puVar9 * 0x55ec)[uVar7 + 0xc1] + (longlong)(char)(puVar10 + *(int *)puVar9 * 0x55ec)[0x5570];
						iVar25 = (int)lVar23;
						if (lVar23 < 0) {
							iVar25 = 0;
						}
						if (iVar25 == 0) {
							sprintf((int)puVar12, (int)uVar34, 0, puVar30, uVar32, (int)lVar33, in_r9, in_r10,
							    in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8c, in_stack_ffffff90,
							    in_stack_ffffff94, in_stack_ffffff98, in_stack_ffffff9c, in_stack_ffffffa0,
							    in_stack_ffffffa4);
						} else {
							sprintf((int)puVar12, uVar18, iVar25, puVar30, uVar32, (int)lVar33, in_r9, in_r10,
							    in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8c, in_stack_ffffff90,
							    in_stack_ffffff94, in_stack_ffffff98, in_stack_ffffff9c, in_stack_ffffffa0,
							    in_stack_ffffffa4);
						}
					}
				}
				uVar31 = 0;
				uVar20 = uVar38;
				PrintSBookStr(10, iVar8 + -0xc, 0, uVar38, 0, lVar33, in_r9, in_r10, in_stack_ffffff78);
			}
		}
		iVar36 = iVar36 + 1;
		iVar35 = iVar35 + 4;
		lVar37 = lVar37 + 0x2b;
	} while (iVar36 < 8);
	return;
}

void CheckSBook(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	int iVar2;
	int iVar3;
	uint uVar4;
	uint uVar5;
	uint uVar6;
	uint uVar7;
	uint uVar8;
	undefined4 *puVar9;
	uint uVar10;
	uint uVar11;
	undefined *puVar12;
	undefined *puVar13;
	undefined *puVar14;
	undefined **ppuVar15;
	ulonglong uVar16;
	undefined *puVar18;
	ulonglong uVar17;
	undefined uVar19;

	puVar14 = PTR_DAT_100f1924;
	puVar13 = PTR_DAT_100f18d8;
	puVar12 = PTR_DAT_100f1828;
	ppuVar15 = &toc;
	iVar1 = *(int *)PTR_DAT_100f1928;
	if ((((0x14a < iVar1) && (iVar1 < 0x170)) && (iVar2 = *(int *)PTR_DAT_100f1924, 0x11 < iVar2)) && (iVar2 < 0x13a)) {
		iVar3 = *(int *)PTR_DAT_100f1824;
		uVar11 = (iVar2 + -0x12) / 0x2b + (iVar2 + -0x12 >> 0x1f);
		puVar18 = PTR_DAT_100f1828 + iVar3 * 0x55ec;
		uVar4 = *(uint *)(puVar18 + 0x5560);
		uVar5 = *(uint *)(puVar18 + 0x104);
		uVar6 = *(uint *)(puVar18 + 0x5564);
		uVar7 = *(uint *)(puVar18 + 0x108);
		uVar10 = *(uint *)(&DAT_100f6420 + *(int *)PTR_DAT_100f18d8 * 0x1c + (uVar11 + (uVar11 >> 0x1f)) * 4);
		uVar11 = *(uint *)(puVar18 + 0x10c);
		uVar8 = *(uint *)(puVar18 + 0x110);
		if (uVar10 != 0xffffffff) {
			uVar17 = 1;
			uVar16 = SetCursorPos(0, 1, (ulonglong)uVar10 - 1, &DAT_100f6420, param_5, param_6, param_7, param_8);
			if (((ulonglong)(uVar8 | uVar6 | uVar7) & uVar17 | (ulonglong)(uVar11 | uVar4 | uVar5) & uVar16) != 0) {
				uVar19 = 1;
				if ((uVar17 & (ulonglong)uVar6 | uVar16 & (ulonglong)uVar4) != 0) {
					uVar19 = 3;
				}
				if ((uVar17 & (ulonglong)uVar8 | uVar16 & (ulonglong)uVar11) != 0) {
					uVar19 = 0;
				}
				puVar9 = (undefined4 *)ppuVar15[-0x1daf];
				*(uint *)(puVar12 + iVar3 * 0x55ec + 0xb4) = uVar10;
				(puVar12 + iVar3 * 0x55ec)[0xb8] = uVar19;
				*puVar9 = 0xff;
			}
		}
	}
	if (((0x146 < iVar1) && (iVar1 < 0x279)) && ((0x13f < *(int *)puVar14 && (*(int *)puVar14 < 0x15d)))) {
		uVar4 = (iVar1 + -0x147) / 0x4c + (iVar1 + -0x147 >> 0x1f);
		*(uint *)puVar13 = uVar4 + (uVar4 >> 0x1f);
	}
	return;
}

ulonglong get_pieces_str(int param_1)

{
	if (param_1 == 1) {
		return (ulonglong)_DAT_100f2a74;
	}
	return (ulonglong)_DAT_100f2a70;
}

void DrawGoldSplit(int iParm1)

{
	byte bVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	ulonglong uVar5;
	undefined4 uVar6;
	undefined *puVar7;
	byte *pbVar8;
	undefined4 uVar10;
	undefined8 uVar9;
	undefined4 uVar11;
	undefined8 in_r8;
	undefined4 uVar12;
	undefined4 in_r9;
	undefined4 in_r10;
	longlong lVar13;
	int iVar14;
	byte *pbVar15;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	pbVar15 = PTR_DAT_100f191c;
	puVar3 = PTR_DAT_100f18c4;
	puVar2 = PTR_DAT_100f18bc;
	uVar12 = (undefined4)in_r8;
	uVar11 = (undefined4)((ulonglong)in_r8 >> 0x20);
	ppuVar4 = &toc;
	lVar13 = 0;
	uVar6 = 1;
	uVar10 = 0x105;
	CelDecodeOnly(0x19f, 0x152, (ulonglong)_DAT_100f401c, 1, 0x105, uVar12, in_r9, in_r10, in_stack_ffffffa8);
	sprintf((int)pbVar15, ppuVar4[-0x1959], *(undefined4 *)puVar3, uVar6, uVar10, uVar12, in_r9, in_r10,
	    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbc, in_stack_ffffffc0,
	    in_stack_ffffffc4, in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0,
	    in_stack_ffffffd4);
	uVar6 = 3;
	puVar7 = pbVar15;
	ADD_PlrStringXY(0x16e, 0x57, 600, pbVar15, 3, CONCAT44(uVar11, uVar12), in_r9, in_r10, in_stack_ffffffa8);
	uVar5 = get_pieces_str(*(int *)puVar3);
	sprintf((int)pbVar15, ppuVar4[-0x195a], (int)uVar5, puVar7, uVar6, uVar12, in_r9, in_r10,
	    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbc, in_stack_ffffffc0,
	    in_stack_ffffffc4, in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0,
	    in_stack_ffffffd4);
	ADD_PlrStringXY(0x16e, 0x67, 600, pbVar15, 3, CONCAT44(uVar11, uVar12), in_r9, in_r10, in_stack_ffffffa8);
	pbVar8 = ppuVar4[-0x195b];
	uVar9 = 3;
	ADD_PlrStringXY(0x16e, 0x79, 600, pbVar8, 3, CONCAT44(uVar11, uVar12), in_r9, in_r10, in_stack_ffffffa8);
	if (iParm1 < 1) {
		iVar14 = 0x1c2;
	} else {
		sprintf((int)pbVar15, ppuVar4[-0x195c], iParm1, pbVar8, (int)uVar9, uVar12, in_r9, in_r10,
		    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbc, in_stack_ffffffc0,
		    in_stack_ffffffc4, in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0,
		    in_stack_ffffffd4);
		PrintGameStr(0x184, 0x8c, pbVar15, 0, uVar9, uVar12, in_r9, in_r10, in_stack_ffffffa8);
		iVar14 = 0;
		while (bVar1 = *pbVar15, iVar14 < (int)(char)bVar1) {
			pbVar15 = pbVar15 + 1;
			iVar14 = iVar14 + 1;
			lVar13 = (ulonglong)(byte)(&DAT_100f6230)
			             [(uint)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)bVar1]]]
			    + lVar13 + 1;
		}
		iVar14 = (int)lVar13 + 0x1c4;
	}
	CelDecodeOnly(iVar14, 300, (ulonglong) * (uint *)ppuVar4[-0x1ddd], (ulonglong) * (uint *)puVar2, 0xc, uVar12, in_r9, in_r10, in_stack_ffffffa8);
	*(uint *)puVar2 = (*(uint *)puVar2 & 7) + 1;
	return;
}

void control_drop_gold(char param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	char cVar5;
	int iVar6;
	undefined4 uVar7;
	uint uVar8;
	uint uVar9;
	undefined uVar11;
	longlong lVar10;
	undefined uVar12;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	int local_4c;
	char local_28[20];
	undefined4 local_14;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar4 = PTR_DAT_100f18cc;
	puVar3 = PTR_DAT_100f18c8;
	puVar2 = PTR_DAT_100f18c4;
	puVar1 = PTR_DAT_100f1824;
	local_14 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	if (*(int *)(PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec + 0x194) >> 6 == 0) {
		*(undefined4 *)PTR_DAT_100f18cc = 0;
		*(undefined4 *)puVar3 = 0;
	} else {
		memset(ZEXT48(register0x0000000c) - 0x28, 0, 6, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8);
		uVar11 = 0xd8;
		uVar12 = 10;
		_itoa((char)*(undefined4 *)puVar3, 0xd8, 10, param_4, param_5, param_6, param_7, param_8,
		    (char)in_stack_ffffffa8, in_stack_ffffffaf, local_4c);
		if (param_1 == '\r') {
			if (0 < *(int *)puVar3) {
				control_remove_gold((ulonglong) * (uint *)puVar1, (ulonglong) * *(uint **)(local_4c + -0x7710), uVar12,
				    param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
			}
			*(undefined4 *)puVar4 = 0;
		} else {
			if (param_1 == '\x1b') {
				*(undefined4 *)puVar4 = 0;
				*(undefined4 *)puVar3 = 0;
			} else {
				if (param_1 == '\b') {
					iVar6 = strlen((uint)local_28);
					lVar10 = ZEXT48(register0x0000000c) - 0x29;
					*(undefined *)((int)lVar10 + iVar6) = 0;
					uVar7 = atoi((int)local_28, (char)lVar10, uVar12, param_4, param_5, param_6, param_7,
					    param_8, in_stack_ffffffa8);
					*(undefined4 *)puVar3 = uVar7;
				} else {
					if ((-1 < (longlong)param_1 + -0x30) && ((int)((longlong)param_1 + -0x30) < 10)) {
						if ((*(int *)puVar3 != 0) || (iVar6 = atoi((int)local_28, uVar11, uVar12, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8), cVar5 = param_1, iVar6 <= *(int *)puVar2)) {
							iVar6 = strlen((uint)local_28);
							local_28[iVar6] = param_1;
							iVar6 = atoi((int)local_28, uVar11, uVar12, param_4, param_5, param_6, param_7,
							    param_8, in_stack_ffffffa8);
							if (*(int *)puVar2 < iVar6) {
								return;
							}
							uVar8 = strlen((uint)local_28);
							uVar9 = strlen((uint)local_28);
							cVar5 = local_28[0];
							if (uVar8 < uVar9) {
								return;
							}
						}
						local_28[0] = cVar5;
						uVar7 = atoi((int)local_28, uVar11, uVar12, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
						*(undefined4 *)puVar3 = uVar7;
					}
				}
			}
		}
	}
	return;
}

void control_remove_gold(longlong param_1, longlong param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	int iVar3;
	undefined *puVar4;
	int iVar5;
	int *piVar6;
	undefined uVar7;
	longlong lVar8;
	ulonglong uVar9;
	undefined4 in_stack_ffffffb8;

	puVar4 = PTR_DAT_100f18c8;
	puVar2 = PTR_DAT_100f1828;
	uVar9 = ZEXT48(PTR_DAT_100f1828);
	iVar5 = (int)param_1;
	if ((int)param_2 < 0x2f) {
		uVar7 = (undefined) * (int *)PTR_DAT_100f18c8;
		iVar3 = (int)(param_2 + -7);
		puVar1 = PTR_DAT_100f1828 + iVar3 * 0x170 + iVar5 * 0x55ec;
		*(int *)(puVar1 + 0xf6c) = *(int *)(puVar1 + 0xf6c) - *(int *)PTR_DAT_100f18c8;
		if (*(int *)(puVar1 + 0xf6c) < 1) {
			RemoveInvItem(param_1, param_2 + -7, uVar7, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffb8);
		} else {
			SetGoldCurs(iVar5, iVar3);
		}
	} else {
		iVar3 = (int)param_2 + -0x2f;
		uVar7 = (undefined) * (int *)PTR_DAT_100f18c8;
		puVar1 = PTR_DAT_100f1828 + iVar3 * 0x170 + iVar5 * 0x55ec;
		*(int *)(puVar1 + 0x4918) = *(int *)(puVar1 + 0x4918) - *(int *)PTR_DAT_100f18c8;
		if (*(int *)(puVar1 + 0x4918) < 1) {
			RemoveSpdBarItem(iVar5, iVar3, uVar7, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
		} else {
			SetSpdbarGoldCurs(iVar5, iVar3);
		}
	}
	lVar8 = uVar9 + param_1 * 0x55ec + 0x53d4;
	lVar8._7_1_ = (undefined)lVar8;
	piVar6 = (int *)lVar8;
	SetPlrHandItem((int)piVar6, 0, uVar7, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	GetGoldSeed(iVar5, piVar6, uVar7, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	puVar2 = puVar2 + (int)(param_1 * 0x55ec);
	*(undefined4 *)(puVar2 + 0x5498) = *(undefined4 *)puVar4;
	*(undefined4 *)(puVar2 + 0x5538) = 1;
	control_set_gold_curs(iVar5, (undefined)lVar8, uVar7, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	uVar9 = CalculateGold(iVar5);
	*(int *)(puVar2 + 0x1c8) = (int)uVar9;
	*(undefined4 *)puVar4 = 0;
	return;
}

void control_set_gold_curs(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	int iVar2;
	undefined *puVar3;
	undefined4 in_stack_ffffffc8;

	puVar3 = PTR_DAT_100f1828;
	iVar2 = (int)((longlong)param_1 * 0x55ec);
	puVar1 = PTR_DAT_100f1828 + iVar2;
	if (*(int *)(puVar1 + 0x5498) < 0x9c4) {
		if (*(int *)(puVar1 + 0x5498) < 0x3e9) {
			*(undefined4 *)(puVar1 + 0x5494) = 4;
		} else {
			*(undefined4 *)(puVar1 + 0x5494) = 5;
		}
	} else {
		*(undefined4 *)(puVar1 + 0x5494) = 6;
	}
	NewCursor(*(int *)(puVar3 + iVar2 + 0x5494) + 0xc, (char)puVar3,
	    (char)((longlong)param_1 * 0x55ec), param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

byte *control_print_talk_msg(byte *param_1, longlong param_2, int param_3, undefined8 param_4, undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	byte bVar1;
	uint *puVar2;
	undefined8 uVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	undefined4 in_stack_ffffffa8;

	lVar6 = (longlong)param_8;
	lVar5 = (longlong)param_7;
	lVar4 = (longlong)param_6;
	lVar7 = param_2 + 0x108;
	puVar2 = (uint *)param_4;
	*puVar2 = (int)param_2 + *(int *)(PTR_DAT_100f1938 + (param_3 + 0x216) * 4) + 0x108;
	uVar3 = param_5;
	while (true) {
		if (*param_1 == 0) {
			return (byte *)0x0;
		}
		bVar1 = (&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)*param_1]];
		lVar7 = (ulonglong)(byte)(&DAT_100f6230)[(uint)bVar1] + lVar7 + 1;
		if (0x202 < (int)lVar7)
			break;
		param_1 = param_1 + 1;
		if (bVar1 != 0) {
			CPrintString((ulonglong)*puVar2, (ulonglong)bVar1, (longlong)(char)param_5, param_4, uVar3,
			    (int)lVar4, (int)lVar5, (int)lVar6, in_stack_ffffffa8);
		}
		*puVar2 = (uint)(byte)(&DAT_100f6230)[(uint)bVar1] + *puVar2 + 1;
	}
	return param_1;
}

byte *DrawTalkPan(void)

{
	undefined *puVar1;
	ulonglong uVar2;
	byte *pbVar3;
	undefined8 uVar4;
	longlong lVar5;
	undefined8 uVar6;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined8 uVar7;
	int iVar8;
	int iVar9;
	longlong lVar10;
	int *piVar11;
	longlong lVar12;
	int iVar13;
	int iVar14;
	undefined4 in_stack_ffffff98;
	int local_38;

	puVar1 = PTR_DAT_100f1824;
	uVar2 = ZEXT48(&toc);
	pbVar3 = PTR_DAT_100f1900;
	if (*(int *)PTR_DAT_100f1900 != 0) {
		DrawPanelBox(0xaf, _DAT_100f3ff8 + 0x14, 0x126, 5, 0xef, 0x204);
		iVar8 = 0;
		do {
			DrawPanelBox((iVar8 >> 1) + 0xaf, iVar8 + *(int *)((int)uVar2 + -0x4fd8) + 0x19, 0x125 - iVar8, 1, (iVar8 >> 1) + 0xef, iVar8 + 0x209);
			iVar8 = iVar8 + 1;
		} while (iVar8 < 10);
		DrawPanelBox(0xb9, *(int *)((int)uVar2 + -0x4fd8) + 0x23, 0x112, 0x1e, 0xf9, 0x213);
		DrawPanelBox(0xb4, *(int *)((int)uVar2 + -0x4fd8) + 0x41, 0x11c, 5, 0xf4, 0x231);
		iVar8 = 0;
		do {
			DrawPanelBox(0xb4, iVar8 + *(int *)((int)uVar2 + -0x4fd8) + 0x46, iVar8 + 0x11c, 1, 0xf4,
			    iVar8 + 0x236);
			iVar8 = iVar8 + 1;
		} while (iVar8 < 10);
		uVar6 = 0x240;
		DrawPanelBox(0xaa, *(int *)((int)uVar2 + -0x4fd8) + 0x50, 0x136, 0x37, 0xea, 0x240);
		iVar8 = 0;
		pbVar3 = *(byte **)((int)uVar2 + -0x64c4);
		iVar13 = 0;
		do {
			pbVar3 = control_print_talk_msg(pbVar3, 0, iVar13, ZEXT48(register0x0000000c) - 0x38, 0, (int)uVar6, in_r9,
			    in_r10, in_stack_ffffff98);
			if (pbVar3 == (byte *)0x0)
				break;
			iVar8 = iVar8 + 1;
			iVar13 = iVar13 + 0xd;
		} while (iVar8 < 3);
		if (pbVar3 != (byte *)0x0) {
			*pbVar3 = 0;
		}
		iVar8 = (int)uVar2;
		CelDecDatOnly((undefined4 *)(**(uint **)(iVar8 + -0x7804) + local_38),
		    (ulonglong) * *(uint **)(iVar8 + -0x7774), (ulonglong) * (uint *)(iVar8 + -0x4fd4), 0xc,
		    (ulonglong) * *(uint **)(iVar8 + -0x7804), (int)uVar6, in_r9, in_r10, in_stack_ffffff98);
		iVar13 = (int)uVar2;
		iVar14 = 0;
		piVar11 = *(int **)(iVar13 + -0x64c8);
		iVar8 = *(int *)(iVar13 + -0x77a8);
		lVar12 = uVar2 - 0x4fe0;
		pbVar3 = (byte *)(*(uint *)(iVar13 + -0x4fd4) & 7);
		lVar10 = 0x254;
		*(byte **)(iVar13 + -0x4fd4) = pbVar3 + 1;
		iVar13 = 0;
		iVar9 = 0x3c;
		do {
			if (iVar13 != *(int *)puVar1) {
				if (*(char *)lVar12 == '\0') {
					uVar7 = 2;
					if (iVar14 == 0) {
						lVar5 = 1;
					} else {
						lVar5 = 2;
					}
					if (*piVar11 != 0) {
						lVar5 = lVar5 + 4;
					}
					pbVar3 = (byte *)CelDecodeOnly(0xec, lVar10, (ulonglong) * (uint *)((int)uVar2 + -0x4fe8), lVar5, 0x3d, (int)uVar6, in_r9, in_r10, in_stack_ffffff98);
				} else {
					uVar7 = 3;
					if (*piVar11 != 0) {
						if (iVar14 == 0) {
							uVar4 = 3;
						} else {
							uVar4 = 4;
						}
						pbVar3 = (byte *)CelDecodeOnly(0xec, lVar10, (ulonglong) * (uint *)((int)uVar2 + -0x4fe8),
						    uVar4, 0x3d, (int)uVar6, in_r9, in_r10, in_stack_ffffff98);
					}
				}
				if (*(char *)(iVar8 + 0x1d) != '\0') {
					pbVar3 = control_print_talk_msg((byte *)(iVar8 + 0x13c), 0x2e, iVar9, ZEXT48(register0x0000000c) - 0x38, uVar7, (int)uVar6, in_r9, in_r10, in_stack_ffffff98);
				}
				piVar11 = piVar11 + 1;
				lVar10 = lVar10 + 0x12;
				iVar9 = iVar9 + 0x12;
				iVar14 = iVar14 + 1;
			}
			iVar13 = iVar13 + 1;
			iVar8 = iVar8 + 0x55ec;
			lVar12 = lVar12 + 1;
		} while (iVar13 < 4);
	}
	return pbVar3;
}

undefined8 control_check_talk_btn(void)

{
	int iVar1;
	uint uVar2;
	undefined4 *puVar3;

	puVar3 = _DAT_100f2b08;
	if (*(int *)PTR_DAT_100f1900 == 0) {
		return 0;
	}
	if (*(int *)PTR_DAT_100f1928 < 0xac) {
		return 0;
	}
	iVar1 = *(int *)PTR_DAT_100f1924;
	if (iVar1 < 0x1a5) {
		return 0;
	}
	if (0xe9 < *(int *)PTR_DAT_100f1928) {
		return 0;
	}
	if (0x1db < iVar1) {
		return 0;
	}
	*_DAT_100f2b08 = 0;
	uVar2 = (iVar1 + -0x1a5) / 0x12 + (iVar1 + -0x1a5 >> 0x1f);
	puVar3[1] = 0;
	puVar3[2] = 0;
	puVar3[uVar2 + (uVar2 >> 0x1f)] = 1;
	return 1;
}

void control_release_talk_btn(void)

{
	uint uVar1;
	undefined *puVar2;
	undefined4 *puVar3;
	undefined8 uVar4;
	int iVar5;
	int iVar6;

	puVar3 = _DAT_100f2b08;
	puVar2 = PTR_DAT_100f1928;
	if (*(int *)PTR_DAT_100f1900 == 0) {
		return;
	}
	*_DAT_100f2b08 = 0;
	puVar3[1] = 0;
	puVar3[2] = 0;
	if (*(int *)puVar2 < 0xac) {
		return;
	}
	iVar5 = *(int *)PTR_DAT_100f1924;
	if (iVar5 < 0x1a5) {
		return;
	}
	if (0xe9 < *(int *)puVar2) {
		return;
	}
	if (0x1db < iVar5) {
		return;
	}
	uVar1 = (iVar5 + -0x1a5) / 0x12 + (iVar5 + -0x1a5 >> 0x1f);
	iVar6 = uVar1 + (uVar1 >> 0x1f);
	iVar5 = 0;
	while ((iVar5 < 4 && (iVar6 != -1))) {
		if (iVar5 != *(int *)PTR_DAT_100f1824) {
			iVar6 = iVar6 + -1;
		}
		iVar5 = iVar5 + 1;
	}
	if (4 < iVar5) {
		return;
	}
	uVar4 = countLeadingZeros((uint) * (byte *)(iVar5 + 0x100f3fef));
	*(undefined *)(iVar5 + 0x100f3fef) = (char)((uint)uVar4 >> 5);
	return;
}

void control_reset_talk_msg(undefined4 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11)

{
	undefined *puVar1;
	undefined8 uVar2;
	undefined8 uVar3;
	undefined7 uVar4;
	undefined uVar5;
	undefined7 uVar6;
	undefined uVar7;
	uint uVar8;
	undefined4 in_stack_ffffffc8;

	puVar1 = PTR_DAT_100f2b0c;
	uVar6 = (undefined7)((ulonglong)param_5 >> 8);
	uVar7 = (undefined)param_5;
	uVar4 = (undefined7)((ulonglong)param_4 >> 8);
	uVar5 = (undefined)param_4;
	uVar8 = (uint)(DAT_100f3ff0 != '\0');
	if (cRam100f3ff1 != '\0') {
		uVar8 = uVar8 | 2;
	}
	if (cRam100f3ff2 != '\0') {
		uVar8 = uVar8 | 4;
	}
	uVar3 = 3;
	if (cRam100f3ff3 != '\0') {
		uVar8 = uVar8 | 8;
	}
	uVar2 = msgcmd_add_server_cmd_W(PTR_DAT_100f2b0c, 0xf2, 3, uVar5, uVar7, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffc8);
	if ((int)uVar2 == 0) {
		NetSendCmdString(uVar8, (uint)puVar1, uVar3, CONCAT71(uVar4, uVar5), CONCAT71(uVar6, uVar7), param_6,
		    param_7, param_8, in_stack_ffffffc8);
	}
	return;
}

void control_type_message(void)

{
	undefined *puVar1;
	undefined4 *puVar2;
	undefined *puVar3;

	puVar3 = PTR_DAT_100f2b0c;
	puVar2 = _DAT_100f2b08;
	if (*PTR_DAT_100f17e0 == '\x01') {
		return;
	}
	*(undefined4 *)PTR_DAT_100f1900 = 1;
	puVar1 = PTR_DAT_100f1914;
	_DAT_100f3ff8 = 0x90;
	*puVar3 = 0;
	_DAT_100f3ffc = 1;
	*puVar2 = 0;
	puVar2[1] = 0;
	puVar2[2] = 0;
	*(undefined4 *)puVar1 = 0xff;
	DAT_100f3ff5 = DAT_100f3ff4;
	return;
}

void control_reset_talk(void)

{
	undefined *puVar1;

	puVar1 = PTR_DAT_100f1914;
	*(undefined4 *)PTR_DAT_100f1900 = 0;
	_DAT_100f3ff8 = 0;
	*(undefined4 *)puVar1 = 0xff;
	return;
}

void control_press_enter(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint uVar1;
	byte *pbVar2;
	undefined *puVar3;
	ulonglong uVar4;
	int iVar5;
	ulonglong uVar6;
	uint uVar7;
	byte *pbVar8;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;

	puVar3 = PTR_DAT_100f2b0c;
	pbVar2 = _DAT_100f2a5c;
	uVar4 = ZEXT48(&toc);
	if (*PTR_DAT_100f2b0c != '\0') {
		control_reset_talk_msg(PTR_DAT_100f2b0c, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8);
		uVar7 = 0;
		pbVar8 = pbVar2;
		do {
			uVar6 = strcmp(pbVar8, puVar3);
			iVar5 = (int)uVar4;
			if ((int)uVar6 == 0)
				break;
			uVar7 = uVar7 + 1;
			pbVar8 = pbVar8 + 0x50;
		} while ((int)uVar7 < 8);
		if ((int)uVar7 < 8) {
			uVar1 = (uint) * (byte *)(iVar5 + -0x4fdc) - 1 & 7;
			if (uVar7 != uVar1) {
				strcpy((int)(pbVar2 + uVar7 * 0x50), (int)(pbVar2 + uVar1 * 0x50));
				strcpy((int)(pbVar2 + uVar1 * 0x50), (int)puVar3);
			}
		} else {
			strcpy((int)(pbVar2 + (uint) * (byte *)(iVar5 + -0x4fdc) * 0x50), (int)puVar3);
			*(char *)(iVar5 + -0x4fdc) = *(char *)(iVar5 + -0x4fdc) + '\x01';
			*(byte *)(iVar5 + -0x4fdc) = *(byte *)(iVar5 + -0x4fdc) & 7;
		}
		*(undefined *)(iVar5 + -0x4fdb) = *(undefined *)(iVar5 + -0x4fdc);
		*puVar3 = 0;
	}
	control_reset_talk();
	return;
}

undefined8
control_talk_last_key(ulonglong param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined8 uVar2;
	int iVar3;

	puVar1 = PTR_DAT_100f2b0c;
	if (*PTR_DAT_100f17e0 == '\x01') {
		uVar2 = 0;
	} else {
		if (*(int *)PTR_DAT_100f1900 == 0) {
			uVar2 = 0;
		} else {
			if ((param_1 & 0xffffffff) < 0x20) {
				uVar2 = 0;
			} else {
				iVar3 = strlen((uint)PTR_DAT_100f2b0c);
				if (iVar3 < 0x4e) {
					puVar1[iVar3] = (char)param_1;
					puVar1[iVar3 + 1] = 0;
				}
				uVar2 = 1;
			}
		}
	}
	return uVar2;
}

void control_up_down(char param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	DAT_100f3ff5 = DAT_100f3ff5 + param_1 & 7;
	if (*(char *)(_DAT_100f2a5c + (uint)DAT_100f3ff5 * 0x50) == '\0') {
		DAT_100f3ff5 = DAT_100f3ff5 + param_1 & 7;
		if (*(char *)(_DAT_100f2a5c + (uint)DAT_100f3ff5 * 0x50) == '\0') {
			DAT_100f3ff5 = DAT_100f3ff5 + param_1 & 7;
			if (*(char *)(_DAT_100f2a5c + (uint)DAT_100f3ff5 * 0x50) == '\0') {
				DAT_100f3ff5 = DAT_100f3ff5 + param_1 & 7;
				if (*(char *)(_DAT_100f2a5c + (uint)DAT_100f3ff5 * 0x50) == '\0') {
					DAT_100f3ff5 = DAT_100f3ff5 + param_1 & 7;
					if (*(char *)(_DAT_100f2a5c + (uint)DAT_100f3ff5 * 0x50) == '\0') {
						DAT_100f3ff5 = DAT_100f3ff5 + param_1 & 7;
						if (*(char *)(_DAT_100f2a5c + (uint)DAT_100f3ff5 * 0x50) == '\0') {
							DAT_100f3ff5 = DAT_100f3ff5 + param_1 & 7;
							if (*(char *)(_DAT_100f2a5c + (uint)DAT_100f3ff5 * 0x50) == '\0') {
								DAT_100f3ff5 = DAT_100f3ff5 + param_1 & 7;
								if (*(char *)(_DAT_100f2a5c + (uint)DAT_100f3ff5 * 0x50) != '\0') {
									strcpy((int)PTR_DAT_100f2b0c, _DAT_100f2a5c + (uint)DAT_100f3ff5 * 0x50);
								}
							} else {
								strcpy((int)PTR_DAT_100f2b0c, _DAT_100f2a5c + (uint)DAT_100f3ff5 * 0x50);
							}
						} else {
							strcpy((int)PTR_DAT_100f2b0c, _DAT_100f2a5c + (uint)DAT_100f3ff5 * 0x50);
						}
					} else {
						strcpy((int)PTR_DAT_100f2b0c, _DAT_100f2a5c + (uint)DAT_100f3ff5 * 0x50);
					}
				} else {
					strcpy((int)PTR_DAT_100f2b0c, _DAT_100f2a5c + (uint)DAT_100f3ff5 * 0x50);
				}
			} else {
				strcpy((int)PTR_DAT_100f2b0c, _DAT_100f2a5c + (uint)DAT_100f3ff5 * 0x50);
			}
		} else {
			strcpy((int)PTR_DAT_100f2b0c, _DAT_100f2a5c + (uint)DAT_100f3ff5 * 0x50);
		}
	} else {
		strcpy((int)PTR_DAT_100f2b0c, _DAT_100f2a5c + (uint)DAT_100f3ff5 * 0x50);
	}
	return;
}

undefined8
control_presskeys(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined8 uVar2;
	int iVar3;
	undefined4 in_stack_ffffffc8;

	puVar1 = PTR_DAT_100f2b0c;
	if (*PTR_DAT_100f17e0 == '\x01') {
		uVar2 = 0;
	} else {
		if (*(int *)PTR_DAT_100f1900 == 0) {
			uVar2 = 0;
		} else {
			if ((param_1 & 0xffffffff) != 0x20) {
				if ((param_1 & 0xffffffff) == 0x1b) {
					control_reset_talk();
				} else {
					if ((param_1 & 0xffffffff) == 0xd) {
						control_press_enter(param_1, ZEXT48(PTR_DAT_100f1900), param_3, param_4, param_5, param_6, param_7,
						    param_8, in_stack_ffffffc8);
					} else {
						if ((param_1 & 0xffffffff) == 8) {
							iVar3 = strlen((uint)PTR_DAT_100f2b0c);
							if (0 < iVar3) {
								puVar1[iVar3 + -1] = 0;
							}
						} else {
							if ((param_1 & 0xffffffff) == 0x28) {
								control_up_down('\x01', (char)PTR_DAT_100f1900, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffc8);
							} else {
								if ((param_1 & 0xffffffff) != 0x26) {
									return 0;
								}
								control_up_down(-1, (char)PTR_DAT_100f1900, (char)param_3, (char)param_4, (char)param_5,
								    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffc8);
							}
						}
					}
				}
			}
			uVar2 = 1;
		}
	}
	return uVar2;
}

void FUN_100219fc(void)

{
	_DAT_100f4034 = _DAT_100f3fe4;
	return;
}

void InitCursor(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	longlong lVar2;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	lVar2 = LoadFileInMem(ZEXT48(PTR_s_Data_Inv_Objcurs_CEL_100f2b78), (undefined4 *)0x0, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	*(int *)ppuVar1[-0x1d8d] = (int)lVar2;
	ClearCursor();
	return;
}

void FreeCursor(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	mem_free_dbg((int **)PTR_DAT_100f199c, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	ClearCursor();
	return;
}

void SetICursor(int param_1)

{
	uint uVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;

	puVar5 = PTR_DAT_100f1998;
	*(undefined4 *)PTR_DAT_100f1998 = *(undefined4 *)(s__AAAAAAACEEEEIIIIDNOOOOOX0UUUUYb_100f65a7 + param_1 * 4 + 0x41);
	puVar4 = PTR_DAT_100f1990;
	puVar3 = PTR_DAT_100f1988;
	*(undefined4 *)PTR_DAT_100f1990 = *(undefined4 *)(&DAT_100f68b8 + param_1 * 4);
	puVar2 = PTR_DAT_100f1984;
	uVar1 = *(int *)puVar5 / 0x1c + (*(int *)puVar5 >> 0x1f);
	*(uint *)puVar3 = uVar1 + (uVar1 >> 0x1f);
	uVar1 = *(int *)puVar4 / 0x1c + (*(int *)puVar4 >> 0x1f);
	*(uint *)puVar2 = uVar1 + (uVar1 >> 0x1f);
	return;
}

void SetICursor(int param_1)

{
	uint uVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;

	puVar5 = PTR_DAT_100f1998;
	*(undefined4 *)PTR_DAT_100f1998 = *(undefined4 *)(s__AAAAAAACEEEEIIIIDNOOOOOX0UUUUYb_100f65a7 + param_1 * 4 + 0x41);
	puVar4 = PTR_DAT_100f1990;
	puVar3 = PTR_DAT_100f1988;
	*(undefined4 *)PTR_DAT_100f1990 = *(undefined4 *)(&DAT_100f68b8 + param_1 * 4);
	puVar2 = PTR_DAT_100f1984;
	uVar1 = *(int *)puVar5 / 0x1c + (*(int *)puVar5 >> 0x1f);
	*(uint *)puVar3 = uVar1 + (uVar1 >> 0x1f);
	uVar1 = *(int *)puVar4 / 0x1c + (*(int *)puVar4 >> 0x1f);
	*(uint *)puVar2 = uVar1 + (uVar1 >> 0x1f);
	return;
}

void SetCursor_(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	*(int *)PTR_DAT_100f188c = param_1;
	*(undefined4 *)PTR_DAT_100f1980 = *(undefined4 *)(s__AAAAAAACEEEEIIIIDNOOOOOX0UUUUYb_100f65a7 + param_1 * 4 + 0x41);
	*(undefined4 *)PTR_DAT_100f197c = *(undefined4 *)(&DAT_100f68b8 + param_1 * 4);
	SetICursor(param_1);
	return;
}

void NewCursor(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	SetCursor_(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void InitLevelCursor(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined4 *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined **ppuVar6;
	undefined4 in_stack_ffffffc8;

	ppuVar6 = &toc;
	SetCursor_(1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	puVar1 = (undefined4 *)ppuVar6[-0x1ded];
	*(undefined4 *)ppuVar6[-0x1d96] = *(undefined4 *)ppuVar6[-0x1dec];
	puVar2 = (undefined4 *)ppuVar6[-0x1dd4];
	*(undefined4 *)ppuVar6[-0x1d97] = *puVar1;
	puVar3 = ppuVar6[-0x1dd3];
	ppuVar6[-0x13e1] = (undefined *)0xffffffff;
	puVar4 = ppuVar6[-0x1dd2];
	*puVar2 = 0xffffffff;
	puVar5 = ppuVar6[-0x1dd7];
	*puVar3 = 0xff;
	*puVar4 = 0xff;
	*puVar5 = 0xff;
	ClearCursor();
	return;
}

void CheckTown(void)

{
	uint uVar1;
	uint uVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	uint uVar12;
	longlong lVar13;
	ulonglong in_r6;
	longlong in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	int iVar14;
	undefined *puVar15;
	int *piVar16;
	ulonglong uVar17;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;

	puVar11 = PTR_s_Town_Portal_100f2b74;
	puVar10 = PTR_s_from__s_100f2b70;
	puVar9 = PTR_DAT_100f1978;
	puVar8 = PTR_DAT_100f1974;
	puVar7 = PTR_DAT_100f196c;
	puVar6 = PTR_DAT_100f1968;
	puVar5 = PTR_DAT_100f192c;
	puVar4 = PTR_DAT_100f191c;
	puVar3 = PTR_DAT_100f1890;
	iVar14 = 0;
	uVar17 = ZEXT48(PTR_DAT_100f1828);
	piVar16 = (int *)PTR_DAT_100f1970;
	do {
		if (*(int *)puVar6 <= iVar14) {
			return;
		}
		if (*(int *)(puVar7 + *piVar16 * 0xb4) == 10) {
			puVar15 = puVar7 + *piVar16 * 0xb4;
			uVar1 = *(uint *)puVar9;
			uVar2 = *(uint *)(puVar15 + 4);
			uVar12 = uVar2 - 1;
			if ((((uVar1 != uVar12) || (in_r6 = (ulonglong) * (uint *)puVar8, *(uint *)puVar8 != *(uint *)(puVar15 + 8))) && ((uVar1 != uVar2 || (in_r6 = (ulonglong) * (uint *)puVar8, *(uint *)puVar8 != *(int *)(puVar15 + 8) - 1U)))) && ((uVar1 != uVar12 || (in_r6 = (ulonglong) * (uint *)puVar8, *(uint *)puVar8 != *(int *)(puVar15 + 8) - 1U)))) {
				in_r7 = (ulonglong)uVar2 - 2;
				if (((uVar1 != (uint)in_r7) || (in_r6 = (ulonglong) * (uint *)puVar8, *(uint *)puVar8 != *(int *)(puVar15 + 8) - 1U)) && ((((uVar1 != (uint)in_r7 || (in_r6 = (ulonglong) * (uint *)puVar8, *(uint *)puVar8 != *(int *)(puVar15 + 8) - 2U)) && ((uVar1 != uVar12 || (*(int *)puVar8 != *(int *)(puVar15 + 8) + -2)))) && ((uVar1 != uVar2 || (*(int *)puVar8 != *(int *)(puVar15 + 8)))))))
					goto LAB_10021d2c;
			}
			*(undefined4 *)puVar3 = 1;
			ClearPanel();
			strcpy((int)puVar5, (int)puVar11);
			lVar13 = uVar17 + (ulonglong) * (uint *)(puVar15 + 0x78) * 0x55ec + 0x13c;
			lVar13._7_1_ = (undefined)lVar13;
			sprintf((int)puVar4, puVar10, (int)lVar13, (int)in_r6, (int)in_r7, in_r8, in_r9, in_r10,
			    in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffac, in_stack_ffffffb0,
			    in_stack_ffffffb4, in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0,
			    in_stack_ffffffc4);
			AddPanelString((int)puVar4, 1, (undefined)lVar13, (char)in_r6, (char)in_r7, (char)in_r8, (char)in_r9,
			    (char)in_r10, in_stack_ffffff98);
			*(undefined4 *)puVar9 = *(undefined4 *)(puVar15 + 4);
			*(undefined4 *)puVar8 = *(undefined4 *)(puVar15 + 8);
		}
	LAB_10021d2c:
		piVar16 = piVar16 + 1;
		iVar14 = iVar14 + 1;
	} while (true);
}

ulonglong CheckRportal(char param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined *puVar12;
	undefined *puVar13;
	undefined *puVar14;
	ulonglong uVar15;
	uint uVar16;
	ulonglong uVar17;
	ulonglong uVar18;
	longlong lVar19;
	longlong lVar20;
	longlong lVar21;
	longlong lVar22;
	int iVar23;
	uint *puVar24;
	undefined4 in_stack_ffffff88;

	puVar14 = PTR_s_Portal_to_100f2b6c;
	puVar13 = PTR_s_The_Unholy_Altar_100f2b68;
	puVar12 = PTR_s_level_15_100f2b64;
	puVar11 = PTR_DAT_100f1978;
	puVar10 = PTR_DAT_100f1974;
	puVar9 = PTR_DAT_100f196c;
	puVar8 = PTR_DAT_100f1968;
	puVar7 = PTR_DAT_100f192c;
	puVar6 = PTR_DAT_100f191c;
	puVar5 = PTR_DAT_100f1890;
	puVar4 = PTR_DAT_100f17f8;
	lVar22 = (longlong)param_8;
	lVar21 = (longlong)param_7;
	lVar20 = (longlong)param_6;
	lVar19 = (longlong)param_5;
	uVar18 = SEXT18(param_4);
	uVar17 = SEXT18(param_3);
	uVar15 = SEXT18(param_1);
	iVar23 = 0;
	puVar24 = (uint *)PTR_DAT_100f1970;
	do {
		if (*(int *)puVar8 <= iVar23) {
			return uVar15;
		}
		uVar15 = (ulonglong)*puVar24 * 0xb4;
		if (*(int *)(puVar9 + (int)uVar15) == 0x41) {
			puVar3 = puVar9 + (int)uVar15;
			uVar1 = *(uint *)puVar11;
			uVar2 = *(uint *)(puVar3 + 4);
			uVar15 = (ulonglong)uVar2;
			uVar16 = uVar2 - 1;
			if (uVar1 == uVar16) {
				uVar18 = (ulonglong) * (uint *)puVar10;
				uVar17 = (ulonglong) * (uint *)(puVar3 + 8);
				if (*(uint *)puVar10 != *(uint *)(puVar3 + 8))
					goto LAB_10021ddc;
			} else {
			LAB_10021ddc:
				if (uVar1 == uVar2) {
					uVar18 = (ulonglong) * (uint *)puVar10;
					uVar17 = (ulonglong) * (uint *)(puVar3 + 8) - 1;
					if (*(uint *)puVar10 == (uint)uVar17)
						goto LAB_10021e84;
				}
				if (uVar1 == uVar16) {
					uVar18 = (ulonglong) * (uint *)puVar10;
					uVar17 = (ulonglong) * (uint *)(puVar3 + 8) - 1;
					if (*(uint *)puVar10 == (uint)uVar17)
						goto LAB_10021e84;
				}
				lVar19 = uVar15 - 2;
				if (uVar1 == (uint)lVar19) {
					uVar18 = (ulonglong) * (uint *)puVar10;
					uVar17 = (ulonglong) * (uint *)(puVar3 + 8) - 1;
					if (*(uint *)puVar10 == (uint)uVar17)
						goto LAB_10021e84;
				}
				if (uVar1 == (uint)lVar19) {
					uVar18 = (ulonglong) * (uint *)puVar10;
					uVar17 = (ulonglong) * (uint *)(puVar3 + 8) - 2;
					if (*(uint *)puVar10 == (uint)uVar17)
						goto LAB_10021e84;
				}
				if (((uVar1 != uVar16) || (uVar17 = (ulonglong) * (uint *)puVar10, *(uint *)puVar10 != *(int *)(puVar3 + 8) - 2U))
				    && ((uVar1 != uVar2 || (uVar15 = (ulonglong) * (uint *)puVar10, *(uint *)puVar10 != *(uint *)(puVar3 + 8)))))
					goto LAB_10021ee0;
			}
		LAB_10021e84:
			*(undefined4 *)puVar5 = 1;
			ClearPanel();
			strcpy((int)puVar7, (int)puVar14);
			if (*puVar4 == '\0') {
				strcpy((int)puVar6, (int)puVar13);
			} else {
				strcpy((int)puVar6, (int)puVar12);
			}
			uVar15 = AddPanelString((int)puVar6, 1, (char)uVar17, (char)uVar18, (char)lVar19, (char)lVar20,
			    (char)lVar21, (char)lVar22, in_stack_ffffff88);
			*(undefined4 *)puVar11 = *(undefined4 *)(puVar3 + 4);
			*(undefined4 *)puVar10 = *(undefined4 *)(puVar3 + 8);
		}
	LAB_10021ee0:
		puVar24 = puVar24 + 1;
		iVar23 = iVar23 + 1;
	} while (true);
}

void CheckCursMove(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	short sVar1;
	char *pcVar2;
	undefined4 *puVar3;
	undefined4 *puVar4;
	undefined4 *puVar5;
	int iVar6;
	int iVar7;
	bool bVar8;
	bool bVar9;
	bool bVar10;
	undefined *puVar11;
	undefined *puVar12;
	undefined *puVar13;
	undefined *puVar14;
	undefined *puVar15;
	undefined *puVar16;
	undefined *puVar17;
	undefined *puVar18;
	undefined *puVar19;
	undefined *puVar20;
	undefined *puVar21;
	undefined *puVar22;
	undefined *puVar23;
	undefined *puVar24;
	undefined *puVar25;
	int iVar26;
	int iVar27;
	char cVar28;
	char cVar29;
	char cVar30;
	undefined **ppuVar31;
	ulonglong uVar32;
	undefined *puVar33;
	undefined uVar34;
	char cVar35;
	undefined uVar36;
	ulonglong uVar37;
	longlong lVar38;
	uint uVar39;
	undefined uVar40;
	longlong lVar41;
	undefined uVar42;
	longlong lVar43;
	longlong lVar44;
	undefined uVar45;
	longlong lVar46;
	undefined uVar47;
	int *piVar48;
	ulonglong uVar49;
	int iVar50;
	uint uVar51;
	int iVar52;
	int iVar54;
	uint uVar55;
	longlong lVar53;
	int iVar56;
	ulonglong uVar57;
	bool bVar58;
	longlong lVar59;
	undefined4 in_stack_ffffff78;

	puVar24 = PTR_DAT_100f1978;
	puVar23 = PTR_DAT_100f1974;
	puVar22 = PTR_DAT_100f1954;
	puVar21 = PTR_DAT_100f1950;
	puVar20 = PTR_DAT_100f1948;
	puVar19 = PTR_DAT_100f1940;
	puVar18 = PTR_DAT_100f1928;
	puVar17 = PTR_DAT_100f1888;
	puVar16 = PTR_DAT_100f1884;
	puVar15 = PTR_DAT_100f1880;
	puVar14 = PTR_DAT_100f187c;
	puVar13 = PTR_DAT_100f1874;
	puVar12 = PTR_DAT_100f1834;
	puVar11 = PTR_DAT_100f1828;
	puVar25 = PTR_DAT_100f1818;
	ppuVar31 = &toc;
	uVar49 = ZEXT48(PTR_DAT_100f1940);
	uVar57 = ZEXT48(PTR_DAT_100f1828);
	iVar50 = *(int *)PTR_DAT_100f1928;
	iVar54 = *(int *)PTR_DAT_100f1924;
	if ((*(int *)PTR_DAT_100f180c == 0) && (*(int *)PTR_DAT_100f1808 == 0)) {
		if ((*(int *)PTR_DAT_100f1814 != 0) || (*(int *)PTR_DAT_100f1810 != 0)) {
			if (iVar50 < 0x141) {
				iVar50 = iVar50 + 0xa0;
			} else {
				iVar50 = 0;
			}
		}
	} else {
		if (iVar50 < 0xa0) {
			iVar50 = 0;
		} else {
			iVar50 = iVar50 + -0xa0;
		}
	}
	piVar48 = (int *)PTR_DAT_100f194c;
	if ((0x15f < iVar54) && (piVar48 = (int *)PTR_DAT_100f194c, ppuVar31 = &toc, uVar32 = track_isscrolling(), (int)uVar32 != 0)) {
		iVar54 = 0x15f;
	}
	if (*(int *)ppuVar31[-0x1d9b] == 0) {
		iVar50 = iVar50 >> 1;
		iVar54 = iVar54 >> 1;
	}
	uVar51 = iVar50 - *(int *)puVar25;
	puVar33 = puVar11 + *(uint *)ppuVar31[-0x1deb] * 0x55ec;
	uVar55 = iVar54 - *(int *)(puVar25 + 4);
	uVar37 = (ulonglong) * (uint *)(puVar33 + 0x1e8) + (ulonglong) * (uint *)(puVar33 + 0x6c);
	uVar32 = uVar37 & 0xffffffff00000000;
	uVar57 = (uVar57 + (ulonglong) * (uint *)ppuVar31[-0x1deb] * 0x55ec & 0xffffffff00000000 | (ulonglong)(uint)((int)*(uint *)(puVar33 + 0x1e8) >> 8)) - (uVar32 | (ulonglong)(uint)((int)uVar37 >> 8));
	if (*(int *)(puVar25 + 0x10) != 0) {
		uVar51 = uVar51 - ((*(int *)(puVar33 + 0x1e4) >> 8) - (*(int *)(puVar33 + 0x1e4) + *(int *)(puVar33 + 0x68) >> 8));
		uVar55 = uVar55 - (int)uVar57;
	}
	if ((int)uVar51 < 0) {
		uVar51 = 0;
	}
	if (0x27f < (int)uVar51) {
		uVar51 = 0x280;
	}
	if ((int)uVar55 < 0) {
		uVar55 = 0;
	}
	if (0x1df < (int)uVar55) {
		uVar55 = 0x1e0;
	}
	uVar32 = uVar32 | (ulonglong)(uint)((int)uVar55 >> 5);
	uVar39 = uVar51 & 0x3f;
	uVar34 = (undefined)uVar39;
	if (*(int *)ppuVar31[-0x1d9b] == 0) {
		lVar41 = 5;
	} else {
		lVar41 = 10;
	}
	uVar57 = uVar57 & 0xffffffff00000000 | (ulonglong)(uint)((int)uVar39 >> 1);
	bVar58 = (ulonglong)(uVar55 & 0x1f) < uVar57;
	lVar43 = (ulonglong)(uint)((int)uVar51 >> 6) + uVar32 + (ulonglong) * (uint *)ppuVar31[-0x1dec];
	uVar45 = (undefined)lVar43;
	lVar53 = (ulonglong) * (uint *)ppuVar31[-0x1ded] + (uVar32 - (ulonglong)(uint)((int)uVar51 >> 6));
	lVar43 = lVar43 - lVar41;
	if (bVar58) {
		lVar53 = lVar53 + -1;
	}
	uVar57 = 0x20 - uVar57;
	iVar50 = ((uint)uVar57 >> 0x1f) + (uint)(uVar57 <= (ulonglong)(uVar55 & 0x1f));
	if (iVar50 != 0) {
		lVar43 = lVar43 + 1;
	}
	if ((int)lVar43 < 0) {
		lVar43 = 0;
	}
	if (0x6f < (int)lVar43) {
		lVar43 = 0x6f;
	}
	if ((int)lVar53 < 0) {
		lVar53 = 0;
	}
	if (0x6f < (int)lVar53) {
		lVar53 = 0x6f;
	}
	bVar10 = true;
	bVar8 = false;
	if ((bVar58) && (iVar50 != 0)) {
		bVar8 = true;
	}
	if (!bVar8) {
		bVar9 = false;
		bVar8 = true;
		if ((!bVar58) && (iVar50 == 0)) {
			bVar8 = false;
		}
		if ((bVar8) && (uVar39 < 0x20)) {
			bVar9 = true;
		}
		if (!bVar9) {
			bVar10 = false;
		}
	}
	ppuVar31[-0x13e1] = *(undefined **)puVar15;
	pcVar2 = ppuVar31[-0x1dcb];
	*(undefined4 *)puVar15 = 0xffffffff;
	*puVar16 = 0xff;
	*puVar17 = 0xff;
	if (*pcVar2 != -1) {
		*(undefined4 *)ppuVar31[-0x1d9c] = 1;
	}
	puVar3 = (undefined4 *)ppuVar31[-0x1d9d];
	cVar29 = (char)puVar3;
	*ppuVar31[-0x1dcb] = 0xff;
	puVar4 = (undefined4 *)ppuVar31[-0x1db5];
	*puVar13 = 0xff;
	puVar5 = (undefined4 *)ppuVar31[-0x1dd0];
	*puVar3 = 0;
	*puVar4 = 0;
	*puVar5 = 0;
	iVar50 = *(int *)ppuVar31[-0x1deb];
	if (puVar11[iVar50 * 0x55ec + 0x139] == '\0') {
		iVar54 = *(int *)ppuVar31[-0x1dd1];
		uVar47 = (undefined)iVar54;
		iVar56 = (int)lVar53;
		iVar52 = (int)lVar43;
		if ((iVar54 < 0xc) && (*(int *)ppuVar31[-0x1dae] == 0)) {
			if (*(int *)ppuVar31[-0x1dab] < 0x161) {
				if (*(int *)ppuVar31[-0x1d9e] == 0) {
					if ((*(int *)ppuVar31[-0x1def] == 0) || (*(int *)puVar18 < 0x141)) {
						if (((*(int *)ppuVar31[-0x1df0] == 0) || (*(int *)puVar18 < 0x141)) && (((*(int *)ppuVar31[-0x1df1] == 0 && (*(int *)ppuVar31[-0x1df2] == 0)) || (0x13f < *(int *)puVar18)))) {
							if (*ppuVar31[-0x1de5] == '\0') {
								if ((!bVar10) && (sVar1 = *(short *)(*(int *)puVar22 + iVar52 * 0xe0 + iVar56 * 2 + 0xe0), 0 < sVar1)) {
									*(int *)puVar15 = (int)sVar1 + -1;
									*(int *)puVar24 = iVar52 + 1;
									*(int *)puVar23 = iVar56;
								}
								if ((bVar10) && (sVar1 = *(short *)(*(int *)puVar22 + iVar52 * 0xe0 + iVar56 * 2 + 2), 0 < sVar1)) {
									*(int *)puVar15 = (int)sVar1 + -1;
									*(int *)puVar24 = iVar52;
									*(int *)puVar23 = iVar56 + 1;
								}
								iVar26 = *(int *)puVar22;
								cVar29 = (char)iVar26;
								sVar1 = *(short *)(iVar26 + iVar52 * 0xe0 + iVar56 * 2);
								uVar57 = SEXT28(sVar1);
								if (0 < (longlong)uVar57) {
									*(int *)puVar15 = (int)sVar1 + -1;
									*(int *)puVar24 = iVar52;
									*(int *)puVar23 = iVar56;
								}
								sVar1 = *(short *)(iVar26 + iVar52 * 0xe0 + iVar56 * 2 + 0xe2);
								if (0 < sVar1) {
									*(int *)puVar15 = (int)sVar1 + -1;
									*(int *)puVar24 = iVar52 + 1;
									*(int *)puVar23 = iVar56 + 1;
								}
								if (*(int *)(ppuVar31[-0x1dd6] + *(int *)puVar15 * 0x10c + 0x54) == 0) {
									*(undefined4 *)puVar15 = 0xffffffff;
								}
							} else {
								if (ppuVar31[-0x13e1] != (undefined *)0xffffffff) {
									if (((!bVar10) && (sVar1 = *(short *)(*(int *)puVar22 + iVar52 * 0xe0 + iVar56 * 2 + 0x1c2), sVar1 != 0)) && (lVar41 = (ulonglong) * (uint *)puVar12 + lVar43 * 0x70 + lVar53, cVar29 = (char)lVar41, (*(byte *)((int)lVar41 + 0xe1) & 0x40) != 0)) {
										if (sVar1 < 1) {
											puVar25 = (undefined *)-((int)sVar1 + 1);
										} else {
											puVar25 = (undefined *)((int)sVar1 + -1);
										}
										if (puVar25 == ppuVar31[-0x13e1]) {
											iVar26 = *(int *)(puVar14 + (int)puVar25 * 0xe8 + 0x98) >> 6;
											cVar29 = (char)iVar26;
											if ((iVar26 != 0) && ((*(byte *)(*(int *)(puVar14 + (int)puVar25 * 0xe8 + 0xe4) + 0x7a) & 4) != 0)) {
												cVar29 = (char)(lVar53 + 2);
												*(int *)puVar24 = iVar52 + 1;
												*(int *)puVar23 = (int)(lVar53 + 2);
												*(undefined **)puVar15 = puVar25;
											}
										}
									}
									if (((bVar10) && (sVar1 = *(short *)(*(int *)puVar22 + iVar52 * 0xe0 + iVar56 * 2 + 0xe4), sVar1 != 0)) && (lVar41 = (ulonglong) * (uint *)puVar12 + lVar43 * 0x70 + lVar53, cVar29 = (char)lVar41, (*(byte *)((int)lVar41 + 0x72) & 0x40) != 0)) {
										if (sVar1 < 1) {
											puVar25 = (undefined *)-((int)sVar1 + 1);
										} else {
											puVar25 = (undefined *)((int)sVar1 + -1);
										}
										if (puVar25 == ppuVar31[-0x13e1]) {
											iVar26 = *(int *)(puVar14 + (int)puVar25 * 0xe8 + 0x98) >> 6;
											cVar29 = (char)iVar26;
											if ((iVar26 != 0) && ((*(byte *)(*(int *)(puVar14 + (int)puVar25 * 0xe8 + 0xe4) + 0x7a) & 4) != 0)) {
												cVar29 = (char)(lVar53 + 2);
												*(int *)puVar24 = iVar52 + 1;
												*(int *)puVar23 = (int)(lVar53 + 2);
												*(undefined **)puVar15 = puVar25;
											}
										}
									}
									iVar27 = iVar52 * 0xe0;
									iVar26 = *(int *)puVar22;
									iVar6 = iVar56 * 2;
									sVar1 = *(short *)(iVar26 + iVar27 + iVar6 + 0x1c4);
									if ((sVar1 != 0) && (lVar41 = (ulonglong) * (uint *)puVar12 + lVar43 * 0x70 + lVar53, cVar29 = (char)lVar41, (*(byte *)((int)lVar41 + 0xe2) & 0x40) != 0)) {
										if (sVar1 < 1) {
											puVar25 = (undefined *)-((int)sVar1 + 1);
										} else {
											puVar25 = (undefined *)((int)sVar1 + -1);
										}
										if (puVar25 == ppuVar31[-0x13e1]) {
											iVar7 = *(int *)(puVar14 + (int)puVar25 * 0xe8 + 0x98) >> 6;
											cVar29 = (char)iVar7;
											if ((iVar7 != 0) && ((*(byte *)(*(int *)(puVar14 + (int)puVar25 * 0xe8 + 0xe4) + 0x7a) & 4) != 0)) {
												cVar29 = (char)(lVar53 + 2);
												*(int *)puVar24 = iVar52 + 2;
												*(int *)puVar23 = (int)(lVar53 + 2);
												*(undefined **)puVar15 = puVar25;
											}
										}
									}
									if (((!bVar10) && (sVar1 = *(short *)(iVar26 + iVar27 + iVar6 + 0xe0), sVar1 != 0)) && (lVar41 = (ulonglong) * (uint *)puVar12 + lVar43 * 0x70 + lVar53, cVar29 = (char)lVar41, (*(byte *)((int)lVar41 + 0x70) & 0x40) != 0)) {
										if (sVar1 < 1) {
											puVar25 = (undefined *)-((int)sVar1 + 1);
										} else {
											puVar25 = (undefined *)((int)sVar1 + -1);
										}
										if (puVar25 == ppuVar31[-0x13e1]) {
											iVar7 = *(int *)(puVar14 + (int)puVar25 * 0xe8 + 0x98) >> 6;
											cVar29 = (char)iVar7;
											if ((iVar7 != 0) && ((*(byte *)(*(int *)(puVar14 + (int)puVar25 * 0xe8 + 0xe4) + 0x7a) & 2) != 0)) {
												*(int *)puVar24 = iVar52 + 1;
												*(int *)puVar23 = iVar56;
												*(undefined **)puVar15 = puVar25;
											}
										}
									}
									if (((bVar10) && (sVar1 = *(short *)(iVar26 + iVar27 + iVar6 + 2), sVar1 != 0)) && (lVar41 = (ulonglong) * (uint *)puVar12 + lVar43 * 0x70 + lVar53, cVar29 = (char)lVar41, (*(byte *)((int)lVar41 + 1) & 0x40) != 0)) {
										if (sVar1 < 1) {
											puVar25 = (undefined *)-((int)sVar1 + 1);
										} else {
											puVar25 = (undefined *)((int)sVar1 + -1);
										}
										if (puVar25 == ppuVar31[-0x13e1]) {
											iVar7 = *(int *)(puVar14 + (int)puVar25 * 0xe8 + 0x98) >> 6;
											cVar29 = (char)iVar7;
											if ((iVar7 != 0) && ((*(byte *)(*(int *)(puVar14 + (int)puVar25 * 0xe8 + 0xe4) + 0x7a) & 2) != 0)) {
												*(int *)puVar24 = iVar52;
												*(int *)puVar23 = iVar56 + 1;
												*(undefined **)puVar15 = puVar25;
											}
										}
									}
									sVar1 = *(short *)(iVar26 + iVar27 + iVar6);
									if ((sVar1 != 0) && (cVar29 = (char)*(int *)puVar12, (*(byte *)(*(int *)puVar12 + iVar52 * 0x70 + iVar56) & 0x40) != 0)) {
										if (sVar1 < 1) {
											puVar25 = (undefined *)-((int)sVar1 + 1);
										} else {
											puVar25 = (undefined *)((int)sVar1 + -1);
										}
										if (puVar25 == ppuVar31[-0x13e1]) {
											iVar7 = *(int *)(puVar14 + (int)puVar25 * 0xe8 + 0x98) >> 6;
											cVar29 = (char)iVar7;
											if ((iVar7 != 0) && ((*(byte *)(*(int *)(puVar14 + (int)puVar25 * 0xe8 + 0xe4) + 0x7a) & 1) != 0)) {
												*(int *)puVar24 = iVar52;
												*(int *)puVar23 = iVar56;
												*(undefined **)puVar15 = puVar25;
											}
										}
									}
									sVar1 = *(short *)(iVar26 + iVar27 + iVar6 + 0xe2);
									if ((sVar1 != 0) && (lVar41 = (ulonglong) * (uint *)puVar12 + lVar43 * 0x70 + lVar53, cVar29 = (char)lVar41, (*(byte *)((int)lVar41 + 0x71) & 0x40) != 0)) {
										if (sVar1 < 1) {
											puVar25 = (undefined *)-((int)sVar1 + 1);
										} else {
											puVar25 = (undefined *)((int)sVar1 + -1);
										}
										if (puVar25 == ppuVar31[-0x13e1]) {
											iVar26 = *(int *)(puVar14 + (int)puVar25 * 0xe8 + 0x98) >> 6;
											cVar29 = (char)iVar26;
											if ((iVar26 != 0) && ((*(byte *)(*(int *)(puVar14 + (int)puVar25 * 0xe8 + 0xe4) + 0x7a) & 2) != 0)) {
												cVar29 = (char)(lVar53 + 1);
												*(int *)puVar24 = iVar52 + 1;
												*(int *)puVar23 = (int)(lVar53 + 1);
												*(undefined **)puVar15 = puVar25;
											}
										}
									}
									if ((*(int *)puVar15 != -1) && ((*(uint *)(puVar14 + *(int *)puVar15 * 0xe8 + 0xa0) & 1) != 0)) {
										*(undefined4 *)puVar15 = 0xffffffff;
										*(int *)puVar24 = iVar52;
										*(int *)puVar23 = iVar56;
									}
									if ((*(int *)puVar15 != -1) && ((*(uint *)(puVar14 + *(int *)puVar15 * 0xe8 + 0xa0) & 0x20) != 0)) {
										*(undefined4 *)puVar15 = 0xffffffff;
									}
									if (*(int *)puVar15 != -1) {
										return;
									}
								}
								if (((!bVar10) && (sVar1 = *(short *)(*(int *)puVar22 + iVar52 * 0xe0 + iVar56 * 2 + 0x1c2), sVar1 != 0)) && (lVar41 = (ulonglong) * (uint *)puVar12 + lVar43 * 0x70 + lVar53, cVar29 = (char)lVar41, (*(byte *)((int)lVar41 + 0xe1) & 0x40) != 0)) {
									if (sVar1 < 1) {
										iVar26 = -((int)sVar1 + 1);
									} else {
										iVar26 = (int)sVar1 + -1;
									}
									iVar6 = *(int *)(puVar14 + iVar26 * 0xe8 + 0x98) >> 6;
									cVar29 = (char)iVar6;
									if ((iVar6 != 0) && ((*(byte *)(*(int *)(puVar14 + iVar26 * 0xe8 + 0xe4) + 0x7a) & 4) != 0)) {
										cVar29 = (char)(lVar53 + 1);
										*(int *)puVar24 = iVar52 + 2;
										*(int *)puVar23 = (int)(lVar53 + 1);
										*(int *)puVar15 = iVar26;
									}
								}
								if (((bVar10) && (sVar1 = *(short *)(*(int *)puVar22 + iVar52 * 0xe0 + iVar56 * 2 + 0xe4), sVar1 != 0)) && (lVar41 = (ulonglong) * (uint *)puVar12 + lVar43 * 0x70 + lVar53, cVar29 = (char)lVar41, (*(byte *)((int)lVar41 + 0x72) & 0x40) != 0)) {
									if (sVar1 < 1) {
										iVar26 = -((int)sVar1 + 1);
									} else {
										iVar26 = (int)sVar1 + -1;
									}
									iVar6 = *(int *)(puVar14 + iVar26 * 0xe8 + 0x98) >> 6;
									cVar29 = (char)iVar6;
									if ((iVar6 != 0) && ((*(byte *)(*(int *)(puVar14 + iVar26 * 0xe8 + 0xe4) + 0x7a) & 4) != 0)) {
										cVar29 = (char)(lVar53 + 2);
										*(int *)puVar24 = iVar52 + 1;
										*(int *)puVar23 = (int)(lVar53 + 2);
										*(int *)puVar15 = iVar26;
									}
								}
								iVar6 = iVar52 * 0xe0;
								iVar26 = *(int *)puVar22;
								uVar45 = (undefined)iVar26;
								uVar51 = iVar56 * 2;
								uVar57 = (ulonglong)uVar51;
								sVar1 = *(short *)(iVar26 + iVar6 + uVar51 + 0x1c4);
								if ((sVar1 != 0) && (lVar41 = (ulonglong) * (uint *)puVar12 + lVar43 * 0x70 + lVar53, cVar29 = (char)lVar41, (*(byte *)((int)lVar41 + 0xe2) & 0x40) != 0)) {
									if (sVar1 < 1) {
										iVar27 = -((int)sVar1 + 1);
									} else {
										iVar27 = (int)sVar1 + -1;
									}
									iVar7 = *(int *)(puVar14 + iVar27 * 0xe8 + 0x98) >> 6;
									cVar29 = (char)iVar7;
									if ((iVar7 != 0) && ((*(byte *)(*(int *)(puVar14 + iVar27 * 0xe8 + 0xe4) + 0x7a) & 4) != 0)) {
										cVar29 = (char)(lVar53 + 2);
										*(int *)puVar24 = iVar52 + 2;
										*(int *)puVar23 = (int)(lVar53 + 2);
										*(int *)puVar15 = iVar27;
									}
								}
								if (((!bVar10) && (sVar1 = *(short *)(iVar26 + iVar6 + uVar51 + 0xe0), sVar1 != 0))
								    && (lVar41 = (ulonglong) * (uint *)puVar12 + lVar43 * 0x70 + lVar53,
								        cVar29 = (char)lVar41, (*(byte *)((int)lVar41 + 0x70) & 0x40) != 0)) {
									if (sVar1 < 1) {
										iVar27 = -((int)sVar1 + 1);
									} else {
										iVar27 = (int)sVar1 + -1;
									}
									iVar7 = *(int *)(puVar14 + iVar27 * 0xe8 + 0x98) >> 6;
									cVar29 = (char)iVar7;
									if ((iVar7 != 0) && ((*(byte *)(*(int *)(puVar14 + iVar27 * 0xe8 + 0xe4) + 0x7a) & 2) != 0)) {
										*(int *)puVar24 = iVar52 + 1;
										*(int *)puVar23 = iVar56;
										*(int *)puVar15 = iVar27;
									}
								}
								if (((bVar10) && (sVar1 = *(short *)(iVar26 + iVar6 + uVar51 + 2), sVar1 != 0)) && (lVar41 = (ulonglong) * (uint *)puVar12 + lVar43 * 0x70 + lVar53, cVar29 = (char)lVar41, (*(byte *)((int)lVar41 + 1) & 0x40) != 0)) {
									if (sVar1 < 1) {
										iVar27 = -((int)sVar1 + 1);
									} else {
										iVar27 = (int)sVar1 + -1;
									}
									iVar7 = *(int *)(puVar14 + iVar27 * 0xe8 + 0x98) >> 6;
									cVar29 = (char)iVar7;
									if ((iVar7 != 0) && ((*(byte *)(*(int *)(puVar14 + iVar27 * 0xe8 + 0xe4) + 0x7a) & 2) != 0)) {
										*(int *)puVar24 = iVar52;
										*(int *)puVar23 = iVar56 + 1;
										*(int *)puVar15 = iVar27;
									}
								}
								sVar1 = *(short *)(iVar26 + iVar6 + uVar51);
								if ((sVar1 != 0) && (cVar29 = (char)*(int *)puVar12, (*(byte *)(*(int *)puVar12 + iVar52 * 0x70 + iVar56) & 0x40) != 0)) {
									if (sVar1 < 1) {
										iVar27 = -((int)sVar1 + 1);
									} else {
										iVar27 = (int)sVar1 + -1;
									}
									iVar7 = *(int *)(puVar14 + iVar27 * 0xe8 + 0x98) >> 6;
									cVar29 = (char)iVar7;
									if ((iVar7 != 0) && ((*(byte *)(*(int *)(puVar14 + iVar27 * 0xe8 + 0xe4) + 0x7a) & 1) != 0)) {
										*(int *)puVar24 = iVar52;
										*(int *)puVar23 = iVar56;
										*(int *)puVar15 = iVar27;
									}
								}
								sVar1 = *(short *)(iVar26 + iVar6 + uVar51 + 0xe2);
								if ((sVar1 != 0) && (lVar41 = (ulonglong) * (uint *)puVar12 + lVar43 * 0x70 + lVar53, cVar29 = (char)lVar41, (*(byte *)((int)lVar41 + 0x71) & 0x40) != 0)) {
									if (sVar1 < 1) {
										iVar26 = -((int)sVar1 + 1);
									} else {
										iVar26 = (int)sVar1 + -1;
									}
									iVar6 = *(int *)(puVar14 + iVar26 * 0xe8 + 0x98) >> 6;
									cVar29 = (char)iVar6;
									if ((iVar6 != 0) && ((*(byte *)(*(int *)(puVar14 + iVar26 * 0xe8 + 0xe4) + 0x7a) & 2) != 0)) {
										cVar29 = (char)(lVar53 + 1);
										*(int *)puVar24 = iVar52 + 1;
										*(int *)puVar23 = (int)(lVar53 + 1);
										*(int *)puVar15 = iVar26;
									}
								}
								if ((*(int *)puVar15 != -1) && ((*(uint *)(puVar14 + *(int *)puVar15 * 0xe8 + 0xa0) & 1) != 0)) {
									*(undefined4 *)puVar15 = 0xffffffff;
									*(int *)puVar24 = iVar52;
									*(int *)puVar23 = iVar56;
								}
								if ((*(int *)puVar15 != -1) && ((*(uint *)(puVar14 + *(int *)puVar15 * 0xe8 + 0xa0) & 0x20) != 0)) {
									*(undefined4 *)puVar15 = 0xffffffff;
								}
							}
							uVar42 = (undefined)uVar57;
							iVar26 = *(int *)puVar15;
							if (iVar26 == -1) {
								if ((!bVar10) && (cVar28 = *(char *)(*(int *)puVar21 + iVar52 * 0x70 + iVar56 + 0x70), cVar28 != '\0')) {
									if (cVar28 < '\x01') {
										cVar28 = -(cVar28 + '\x01');
									} else {
										cVar28 = cVar28 + -1;
									}
									if (((int)cVar28 != iVar50) && (*(int *)(puVar11 + (int)cVar28 * 0x55ec + 0x194) != 0)) {
										*(int *)puVar24 = iVar52 + 1;
										*(int *)puVar23 = iVar56;
										*puVar13 = cVar28;
									}
								}
								if ((bVar10) && (cVar28 = *(char *)(*(int *)puVar21 + iVar52 * 0x70 + iVar56 + 1), cVar28 != '\0')) {
									if (cVar28 < '\x01') {
										cVar28 = -(cVar28 + '\x01');
									} else {
										cVar28 = cVar28 + -1;
									}
									if (((int)cVar28 != iVar50) && (*(int *)(puVar11 + (int)cVar28 * 0x55ec + 0x194) != 0)) {
										*(int *)puVar24 = iVar52;
										*(int *)puVar23 = iVar56 + 1;
										*puVar13 = cVar28;
									}
								}
								iVar27 = iVar52 * 0x70;
								iVar6 = *(int *)puVar21;
								cVar28 = *(char *)(iVar6 + iVar27 + iVar56);
								if (cVar28 != '\0') {
									if (cVar28 < '\x01') {
										cVar28 = -(cVar28 + '\x01');
									} else {
										cVar28 = cVar28 + -1;
									}
									if ((int)cVar28 != iVar50) {
										*(int *)puVar24 = iVar52;
										*(int *)puVar23 = iVar56;
										*puVar13 = cVar28;
									}
								}
								uVar51 = *(uint *)puVar12;
								if ((*(byte *)(uVar51 + iVar27 + iVar56) & 4) != 0) {
									if (((iVar52 == *(int *)(puVar11 + 0x38)) && (iVar56 == *(int *)(puVar11 + 0x3c)))
									    && (iVar50 != 0)) {
										*(int *)puVar24 = iVar52;
										*(int *)puVar23 = iVar56;
										*puVar13 = 0;
									}
									if (((iVar52 == *(int *)(puVar11 + 0x5624)) && (iVar56 == *(int *)(puVar11 + 0x5628))) && (iVar50 != 1)) {
										*(int *)puVar24 = iVar52;
										*(int *)puVar23 = iVar56;
										*puVar13 = 1;
									}
									if (((iVar52 == *(int *)(puVar11 + 0xac10)) && (iVar56 == *(int *)(puVar11 + 0xac14))) && (iVar50 != 2)) {
										*(int *)puVar24 = iVar52;
										*(int *)puVar23 = iVar56;
										*puVar13 = 2;
									}
									cVar29 = (char)*(int *)(puVar11 + 0x101fc);
									if (((iVar52 == *(int *)(puVar11 + 0x101fc)) && (cVar29 = (char)*(int *)(puVar11 + 0x10200), iVar56 == *(int *)(puVar11 + 0x10200))) && (iVar50 != 3)) {
										*(int *)puVar24 = iVar52;
										*(int *)puVar23 = iVar56;
										*puVar13 = 3;
									}
								}
								if (iVar54 == 8) {
									lVar41 = -1;
									do {
										lVar38 = lVar43 + lVar41;
										cVar29 = (char)lVar38;
										lVar59 = 3;
										lVar44 = (ulonglong)uVar51 + lVar38 * 0x70 + lVar53 + -1;
										lVar46 = -1;
										do {
											if ((*(byte *)lVar44 & 4) != 0) {
												uVar55 = iVar56 + (int)lVar46;
												uVar39 = (uint)lVar38;
												if (((*(uint *)(puVar11 + 0x38) == uVar39) && (*(uint *)(puVar11 + 0x3c) == uVar55)) && (iVar50 != 0)) {
													*(uint *)puVar24 = uVar39;
													*(uint *)puVar23 = uVar55;
													*puVar13 = 0;
												}
												if (((*(uint *)(puVar11 + 0x5624) == uVar39) && (*(uint *)(puVar11 + 0x5628) == uVar55)) && (iVar50 != 1)) {
													*(uint *)puVar24 = uVar39;
													*(uint *)puVar23 = uVar55;
													*puVar13 = 1;
												}
												if (((*(uint *)(puVar11 + 0xac10) == uVar39) && (*(uint *)(puVar11 + 0xac14) == uVar55)) && (iVar50 != 2)) {
													*(uint *)puVar24 = uVar39;
													*(uint *)puVar23 = uVar55;
													*puVar13 = 2;
												}
												uVar57 = (ulonglong) * (uint *)(puVar11 + 0x101fc);
												if (((*(uint *)(puVar11 + 0x101fc) == uVar39) && (uVar57 = (ulonglong) * (uint *)(puVar11 + 0x10200), *(uint *)(puVar11 + 0x10200) == uVar55)) && (iVar50 != 3)) {
													*(uint *)puVar24 = uVar39;
													*(uint *)puVar23 = uVar55;
													*puVar13 = 3;
												}
											}
											uVar42 = (undefined)uVar57;
											lVar44 = lVar44 + 1;
											uVar45 = (undefined)lVar44;
											lVar46 = lVar46 + 1;
											uVar47 = (undefined)lVar46;
											lVar59 = lVar59 + -1;
										} while (lVar59 != 0);
										lVar41 = lVar41 + 1;
										uVar34 = (undefined)lVar41;
									} while ((int)lVar41 < 2);
								}
								cVar28 = *(char *)(iVar6 + iVar27 + iVar56 + 0x71);
								if (cVar28 != '\0') {
									if (cVar28 < '\x01') {
										cVar28 = -(cVar28 + '\x01');
									} else {
										cVar28 = cVar28 + -1;
									}
									if (((int)cVar28 != iVar50) && (*(int *)(puVar11 + (int)cVar28 * 0x55ec + 0x194) != 0)) {
										*(int *)puVar24 = iVar52 + 1;
										*(int *)puVar23 = iVar56 + 1;
										*puVar13 = cVar28;
									}
								}
							}
							if ((iVar26 == -1) && (*puVar13 == -1)) {
								if ((!bVar10) && (cVar29 = *(char *)(*piVar48 + iVar52 * 0x70 + iVar56 + 0x70), cVar29 != '\0')) {
									if (cVar29 < '\x01') {
										cVar29 = -(cVar29 + '\x01');
									} else {
										cVar29 = cVar29 + -1;
									}
									if ('\x01' < (char)puVar20[(int)cVar29 * 0x78 + 0x40]) {
										*(int *)puVar24 = iVar52 + 1;
										*(int *)puVar23 = iVar56;
										*puVar16 = cVar29;
									}
								}
								if ((bVar10) && (cVar29 = *(char *)(*piVar48 + iVar52 * 0x70 + iVar56 + 1), cVar29 != '\0')) {
									if (cVar29 < '\x01') {
										cVar29 = -(cVar29 + '\x01');
									} else {
										cVar29 = cVar29 + -1;
									}
									if ('\x01' < (char)puVar20[(int)cVar29 * 0x78 + 0x40]) {
										*(int *)puVar24 = iVar52;
										*(int *)puVar23 = iVar56 + 1;
										*puVar16 = cVar29;
									}
								}
								iVar50 = *piVar48;
								cVar29 = *(char *)(iVar50 + iVar52 * 0x70 + iVar56);
								if (cVar29 != '\0') {
									if (cVar29 < '\x01') {
										cVar29 = -(cVar29 + '\x01');
									} else {
										cVar29 = cVar29 + -1;
									}
									if ((puVar20[(int)cVar29 * 0x78 + 0x40] == '\x01') || (puVar20[(int)cVar29 * 0x78 + 0x40] == '\x03')) {
										*(int *)puVar24 = iVar52;
										*(int *)puVar23 = iVar56;
										*puVar16 = cVar29;
									}
								}
								cVar28 = *(char *)(iVar50 + iVar52 * 0x70 + iVar56 + 0x71);
								if (cVar28 != '\0') {
									if (cVar28 < '\x01') {
										cVar28 = -(cVar28 + '\x01');
									} else {
										cVar28 = cVar28 + -1;
									}
									if ('\x01' < (char)puVar20[(int)cVar28 * 0x78 + 0x40]) {
										*(int *)puVar24 = iVar52 + 1;
										*(int *)puVar23 = iVar56 + 1;
										*puVar16 = cVar28;
									}
								}
							}
							if (((*puVar13 == -1) && (*puVar16 == -1)) && (iVar26 == -1)) {
								if (((!bVar10) && (cVar28 = *(char *)(*(int *)ppuVar31[-0x1da3] + iVar52 * 0x70 + iVar56 + 0x70), '\0' < cVar28)) && (cVar28 = cVar28 + -1, '\x01' < (char)puVar19[(int)cVar28 * 0x170 + 0x30])) {
									*(int *)puVar24 = iVar52 + 1;
									*(int *)puVar23 = iVar56;
									*puVar17 = cVar28;
								}
								if (((bVar10) && (cVar28 = *(char *)(*(int *)ppuVar31[-0x1da3] + iVar52 * 0x70 + iVar56 + 1), '\0' < cVar28)) && (cVar28 = cVar28 + -1, '\x01' < (char)puVar19[(int)cVar28 * 0x170 + 0x30])) {
									*(int *)puVar24 = iVar52;
									*(int *)puVar23 = iVar56 + 1;
									*puVar17 = cVar28;
								}
								uVar40 = (undefined)(lVar43 * 0x70);
								iVar50 = *(int *)ppuVar31[-0x1da3];
								iVar54 = (int)(lVar43 * 0x70);
								cVar28 = *(char *)(iVar50 + iVar54 + iVar56);
								if ('\0' < cVar28) {
									cVar29 = (char)(uVar49 + 0x30);
									cVar28 = cVar28 + -1;
									cVar35 = *(char *)((int)(uVar49 + 0x30) + (int)cVar28 * 0x170);
									if ((cVar35 == '\x01') || (cVar35 == '\x03')) {
										*(int *)puVar24 = iVar52;
										*(int *)puVar23 = iVar56;
										*puVar17 = cVar28;
									}
								}
								cVar35 = *(char *)(iVar50 + iVar54 + iVar56 + 0x71);
								if ('\0' < cVar35) {
									cVar30 = cVar35 + -1;
									cVar35 = puVar19[(int)cVar30 * 0x170 + 0x30];
									if ('\x01' < cVar35) {
										cVar28 = (char)(lVar43 + 1);
										cVar35 = (char)(lVar53 + 1);
										*(int *)puVar24 = (int)(lVar43 + 1);
										*(int *)puVar23 = (int)(lVar53 + 1);
										*puVar17 = cVar30;
									}
								}
								if (*puVar17 == -1) {
									*(int *)puVar24 = iVar52;
									*(int *)puVar23 = iVar56;
									CheckTrigForce(cVar35, cVar28, cVar29, uVar40, uVar42, uVar45, uVar47, uVar34,
									    in_stack_ffffff78);
									uVar36 = CheckTown();
									CheckRportal(uVar36, cVar28, cVar29, uVar40, uVar42, uVar45, uVar47, uVar34,
									    in_stack_ffffff78);
								}
							}
							if (*(int *)ppuVar31[-0x1dd1] == 2) {
								*puVar16 = 0xff;
								*(undefined4 *)puVar15 = 0xffffffff;
								*puVar17 = 0xff;
								*(int *)puVar24 = iVar52;
								*(int *)puVar23 = iVar56;
							}
							if ((*(int *)puVar15 != -1) && ((*(uint *)(puVar14 + *(int *)puVar15 * 0xe8 + 0xa0) & 0x20) != 0)) {
								*(undefined4 *)puVar15 = 0xffffffff;
							}
						}
					} else {
						uVar34 = CheckInvHLight();
						*ppuVar31[-0x1dcb] = uVar34;
					}
				}
			} else {
				CheckPanelInfo();
			}
		} else {
			*(int *)puVar24 = iVar52;
			*(int *)puVar23 = iVar56;
		}
	}
	return;
}

void FUN_100233ec(void)

{
	_DAT_100f4050 = _DAT_100f4048;
	return;
}

void InitDead(void)

{
	undefined4 uVar1;
	undefined4 uVar2;
	char cVar3;
	int iVar4;
	int iVar5;
	int iVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	ulonglong uVar11;
	int *piVar12;
	byte *pbVar13;
	ulonglong uVar14;
	undefined *puVar15;
	undefined4 *puVar17;
	ulonglong uVar16;
	longlong lVar18;
	undefined4 *puVar19;
	longlong lVar20;
	int local_358[214];

	puVar10 = PTR_DAT_100f19bc;
	puVar15 = PTR_DAT_100f19b4;
	puVar7 = PTR_DAT_100f187c;
	lVar20 = 5;
	uVar14 = ZEXT48(PTR_DAT_100f19bc);
	piVar12 = local_358;
	do {
		*piVar12 = 0;
		piVar12[1] = 0;
		piVar12[2] = 0;
		piVar12[3] = 0;
		piVar12[4] = 0;
		piVar12[5] = 0;
		piVar12[6] = 0;
		piVar12[7] = 0;
		piVar12[8] = 0;
		piVar12[9] = 0;
		piVar12[10] = 0;
		piVar12[0xb] = 0;
		piVar12[0xc] = 0;
		piVar12[0xd] = 0;
		piVar12[0xe] = 0;
		piVar12[0xf] = 0;
		piVar12[0x10] = 0;
		piVar12[0x11] = 0;
		piVar12[0x12] = 0;
		piVar12[0x13] = 0;
		piVar12[0x14] = 0;
		piVar12[0x15] = 0;
		piVar12[0x16] = 0;
		piVar12[0x17] = 0;
		piVar12[0x18] = 0;
		piVar12[0x19] = 0;
		piVar12[0x1a] = 0;
		piVar12[0x1b] = 0;
		piVar12[0x1c] = 0;
		piVar12[0x1d] = 0;
		piVar12[0x1e] = 0;
		piVar12[0x1f] = 0;
		piVar12[0x20] = 0;
		piVar12[0x21] = 0;
		piVar12[0x22] = 0;
		piVar12[0x23] = 0;
		piVar12[0x24] = 0;
		piVar12[0x25] = 0;
		piVar12[0x26] = 0;
		piVar12[0x27] = 0;
		piVar12 = piVar12 + 0x28;
		lVar20 = lVar20 + -1;
	} while (lVar20 != 0);
	uVar11 = (ulonglong) * (uint *)PTR_DAT_100f19b8;
	lVar20 = 0;
	uVar16 = uVar14;
	pbVar13 = PTR_DAT_100f19c0;
	if (0 < (int)*(uint *)PTR_DAT_100f19b8) {
		do {
			if (local_358[(uint)*pbVar13] == 0) {
				lVar18 = lVar20 + 1;
				uVar1 = *(undefined4 *)(pbVar13 + 0x13c);
				lVar20 = lVar20 + 1;
				puVar17 = (undefined4 *)uVar16;
				*puVar17 = *(undefined4 *)(pbVar13 + 0x138);
				puVar17[1] = uVar1;
				uVar1 = *(undefined4 *)(pbVar13 + 0x144);
				puVar17[2] = *(undefined4 *)(pbVar13 + 0x140);
				puVar17[3] = uVar1;
				uVar1 = *(undefined4 *)(pbVar13 + 0x14c);
				puVar17[4] = *(undefined4 *)(pbVar13 + 0x148);
				puVar17[5] = uVar1;
				uVar1 = *(undefined4 *)(pbVar13 + 0x154);
				puVar17[6] = *(undefined4 *)(pbVar13 + 0x150);
				puVar17[7] = uVar1;
				uVar1 = *(undefined4 *)(pbVar13 + 0x15c);
				puVar17[8] = *(undefined4 *)(pbVar13 + 0x158);
				puVar17[9] = uVar1;
				uVar1 = *(undefined4 *)(pbVar13 + 0x164);
				puVar17[10] = *(undefined4 *)(pbVar13 + 0x160);
				puVar17[0xb] = uVar1;
				uVar1 = *(undefined4 *)(pbVar13 + 0x16c);
				puVar17[0xc] = *(undefined4 *)(pbVar13 + 0x168);
				puVar17[0xd] = uVar1;
				uVar1 = *(undefined4 *)(pbVar13 + 0x174);
				puVar17[0xe] = *(undefined4 *)(pbVar13 + 0x170);
				puVar17[0xf] = uVar1;
				puVar17[0x10] = *(undefined4 *)(pbVar13 + 0x178);
				puVar17[0x11] = *(undefined4 *)(pbVar13 + 0x1ec);
				puVar17[0x12] = *(undefined4 *)(pbVar13 + 0x1f0);
				*(undefined *)(puVar17 + 0x13) = 0;
				uVar16 = uVar16 + 0x50;
				pbVar13[0x1fd] = (byte)lVar18;
				local_358[(uint)*pbVar13] = (int)lVar18;
			}
			pbVar13 = pbVar13 + 0x208;
			uVar11 = uVar11 - 1;
		} while (uVar11 != 0);
	}
	uVar1 = *(undefined4 *)(puVar15 + 0x12cc);
	iVar6 = (int)lVar20;
	iVar4 = iVar6 * 0x50;
	uVar2 = *(undefined4 *)(puVar15 + 0x12d0);
	iVar5 = (iVar6 + 1) * 0x50;
	puVar17 = (undefined4 *)(puVar10 + iVar4);
	*puVar17 = uVar1;
	puVar9 = PTR_DAT_100f19b0;
	puVar17[1] = uVar2;
	puVar8 = PTR_DAT_100f19ac;
	puVar19 = (undefined4 *)(puVar10 + iVar5);
	puVar17[2] = uVar1;
	puVar17[3] = uVar2;
	puVar17[4] = uVar1;
	puVar17[5] = uVar2;
	puVar17[6] = uVar1;
	puVar17[7] = uVar2;
	puVar17[8] = uVar1;
	puVar17[9] = uVar2;
	puVar17[10] = uVar1;
	puVar17[0xb] = uVar2;
	puVar17[0xc] = uVar1;
	puVar17[0xd] = uVar2;
	puVar17[0xe] = uVar1;
	puVar17[0xf] = uVar2;
	*(undefined4 *)(puVar10 + 0x40 + iVar4) = 8;
	*(undefined4 *)(puVar10 + 0x44 + iVar4) = 0x80;
	*(undefined4 *)(puVar10 + 0x48 + iVar4) = 0x20;
	(puVar10 + 0x4c)[iVar4] = 0;
	*(int *)puVar9 = iVar6 + 1;
	uVar1 = *(undefined4 *)(puVar15 + 0x1524);
	uVar2 = *(undefined4 *)(puVar15 + 0x1528);
	*puVar19 = uVar1;
	puVar19[1] = uVar2;
	puVar19[2] = uVar1;
	puVar19[3] = uVar2;
	puVar19[4] = uVar1;
	puVar19[5] = uVar2;
	puVar19[6] = uVar1;
	puVar19[7] = uVar2;
	puVar19[8] = uVar1;
	puVar19[9] = uVar2;
	puVar19[10] = uVar1;
	puVar19[0xb] = uVar2;
	puVar19[0xc] = uVar1;
	puVar19[0xd] = uVar2;
	puVar19[0xe] = uVar1;
	puVar19[0xf] = uVar2;
	*(undefined4 *)(puVar10 + 0x40 + iVar5) = 0xc;
	*(undefined4 *)(puVar10 + 0x44 + iVar5) = 0x80;
	*(undefined4 *)(puVar10 + 0x48 + iVar5) = 0x20;
	(puVar10 + 0x4c)[iVar5] = 0;
	*(int *)puVar8 = iVar6 + 2;
	lVar20 = lVar20 + 2;
	uVar16 = (ulonglong) * (uint *)PTR_DAT_100f19a4;
	lVar18 = uVar14 + lVar20 * 0x50;
	piVar12 = (int *)PTR_DAT_100f19a8;
	if (0 < (int)*(uint *)PTR_DAT_100f19a4) {
		do {
			if (puVar7[*piVar12 * 0xe8 + 0xc0] != '\0') {
				puVar15 = puVar7 + *piVar12 * 0xe8;
				cVar3 = (char)lVar20;
				lVar20 = lVar20 + 1;
				uVar1 = *(undefined4 *)(*(int *)(puVar15 + 0xe0) + 0x13c);
				puVar17 = (undefined4 *)lVar18;
				*puVar17 = *(undefined4 *)(*(int *)(puVar15 + 0xe0) + 0x138);
				puVar17[1] = uVar1;
				uVar1 = *(undefined4 *)(*(int *)(puVar15 + 0xe0) + 0x144);
				puVar17[2] = *(undefined4 *)(*(int *)(puVar15 + 0xe0) + 0x140);
				puVar17[3] = uVar1;
				uVar1 = *(undefined4 *)(*(int *)(puVar15 + 0xe0) + 0x14c);
				puVar17[4] = *(undefined4 *)(*(int *)(puVar15 + 0xe0) + 0x148);
				puVar17[5] = uVar1;
				uVar1 = *(undefined4 *)(*(int *)(puVar15 + 0xe0) + 0x154);
				puVar17[6] = *(undefined4 *)(*(int *)(puVar15 + 0xe0) + 0x150);
				puVar17[7] = uVar1;
				uVar1 = *(undefined4 *)(*(int *)(puVar15 + 0xe0) + 0x15c);
				puVar17[8] = *(undefined4 *)(*(int *)(puVar15 + 0xe0) + 0x158);
				puVar17[9] = uVar1;
				uVar1 = *(undefined4 *)(*(int *)(puVar15 + 0xe0) + 0x164);
				puVar17[10] = *(undefined4 *)(*(int *)(puVar15 + 0xe0) + 0x160);
				puVar17[0xb] = uVar1;
				uVar1 = *(undefined4 *)(*(int *)(puVar15 + 0xe0) + 0x16c);
				puVar17[0xc] = *(undefined4 *)(*(int *)(puVar15 + 0xe0) + 0x168);
				puVar17[0xd] = uVar1;
				uVar1 = *(undefined4 *)(*(int *)(puVar15 + 0xe0) + 0x174);
				puVar17[0xe] = *(undefined4 *)(*(int *)(puVar15 + 0xe0) + 0x170);
				puVar17[0xf] = uVar1;
				puVar17[0x10] = *(undefined4 *)(*(int *)(puVar15 + 0xe0) + 0x178);
				puVar17[0x11] = *(undefined4 *)(*(int *)(puVar15 + 0xe0) + 0x1ec);
				puVar17[0x12] = *(undefined4 *)(*(int *)(puVar15 + 0xe0) + 0x1f0);
				*(char *)(puVar17 + 0x13) = puVar15[0xc1] + '\x04';
				lVar18 = lVar18 + 0x50;
				puVar15[0xc2] = cVar3 + '\x01';
			}
			piVar12 = piVar12 + 1;
			uVar16 = uVar16 - 1;
		} while (uVar16 != 0);
	}
	return;
}

void AddDead(int param_1, int param_2, undefined4 param_3, int param_4)

{
	*(char *)(*(int *)PTR_DAT_100f19a0 + param_1 * 0x70 + param_2) = ((byte)param_3 & 0x1f) + (char)(param_4 << 5);
	return;
}

ulonglong SetDead(char param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	ulonglong uVar6;
	int iVar7;
	int iVar8;
	uint *puVar9;
	int iVar10;
	int iVar11;

	puVar5 = PTR_DAT_100f19a4;
	puVar4 = PTR_DAT_100f19a0;
	puVar3 = PTR_DAT_100f187c;
	uVar6 = SEXT18(param_1);
	iVar11 = 0;
	puVar9 = (uint *)PTR_DAT_100f19a8;
	while (iVar11 < *(int *)puVar5) {
		uVar6 = (ulonglong)*puVar9 * 0xe8;
		if (puVar3[(int)uVar6 + 0xc0] != '\0') {
			puVar2 = puVar3 + (int)uVar6;
			iVar8 = 0;
			iVar10 = 0;
			do {
				iVar7 = 0;
				do {
					uVar1 = (uint) * (byte *)(iVar10 + *(int *)puVar4 + iVar7) & 0x1f;
					uVar6 = (ulonglong)uVar1;
					if (uVar1 == (int)(char)puVar2[0xc2]) {
						uVar6 = ChangeLightXY((uint)(byte)puVar2[0xdb], iVar8, iVar7);
					}
					iVar7 = iVar7 + 1;
				} while (iVar7 < 0x70);
				iVar8 = iVar8 + 1;
				iVar10 = iVar10 + 0x70;
			} while (iVar8 < 0x70);
		}
		puVar9 = puVar9 + 1;
		iVar11 = iVar11 + 1;
	}
	return uVar6;
}

void FUN_1002396c(void)

{
	_DAT_100f4058 = _DAT_100f4054;
	return;
}

void LoadDebugGFX(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	longlong lVar2;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	if (*(int *)PTR_DAT_100f19c8 != 0) {
		lVar2 = LoadFileInMem(ZEXT48(PTR_s_Data_Square_CEL_100f2b7c), (undefined4 *)0x0, param_3, param_4,
		    param_5, param_6, param_7, param_8, in_stack_ffffffc8);
		*(int *)ppuVar1[-0x1d83] = (int)lVar2;
	}
	return;
}

void FreeDebugGFX(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	mem_free_dbg((int **)PTR_DAT_100f19c4, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

void FUN_100239dc(void)

{
	_DAT_100f4060 = _DAT_100f405c;
	return;
}

void FUN_100239e8(uint param_1)

{
	_DAT_100f4078 = param_1 & 0xff;
	return;
}

void diablo_parse_flags(byte *param_1)

{
	while (true) {
		if (*param_1 == 0)
			break;
		while ((*(byte *)(_DAT_100f1a6c + (uint)*param_1) & 6) != 0) {
			param_1 = param_1 + 1;
		}
		param_1 = param_1 + 1;
	}
	return;
}

void FreeGameMem(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	undefined uVar5;
	undefined4 in_stack_ffffffc8;

	puVar3 = PTR_DAT_100f1a68;
	puVar2 = PTR_DAT_100f1a58;
	ppuVar4 = &toc;
	music_stop(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	FUN_100b9100(*(int *)puVar3, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	mem_free_dbg((int **)puVar3, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	mem_free_dbg((int **)ppuVar4[-0x1d5b], param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	mem_free_dbg((int **)ppuVar4[-0x1d5c], param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	mem_free_dbg((int **)ppuVar4[-0x1d5d], param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	uVar1 = *(uint *)puVar2;
	*(undefined4 *)puVar2 = 0;
	uVar5 = mem_free_dbg((ulonglong)uVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	uVar5 = FreeMissiles(uVar5, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	uVar5 = FreeMonsters(uVar5, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	uVar5 = FreeObjectGFX(uVar5, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	uVar5 = FreeEffects(uVar5, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	FreeTownerGFX(uVar5, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void start_game(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined8 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined *puVar12;
	undefined *puVar13;
	undefined *puVar14;
	undefined *puVar15;
	undefined4 uVar17;
	undefined uVar18;
	undefined8 uVar16;
	ulonglong uVar19;
	undefined uVar20;
	undefined7 uVar21;
	undefined uVar22;
	undefined7 uVar23;
	undefined uVar24;
	undefined7 uVar25;
	undefined uVar26;
	undefined uVar27;
	undefined uVar28;
	undefined uVar29;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;
	int local_6c;

	puVar15 = PTR_DAT_100f1a54;
	puVar14 = PTR_DAT_100f1a50;
	puVar13 = PTR_DAT_100f1a4c;
	puVar12 = PTR_DAT_100f1a48;
	puVar11 = PTR_DAT_100f1a44;
	puVar10 = PTR_DAT_100f1a40;
	puVar9 = PTR_DAT_100f1a3c;
	puVar8 = PTR_DAT_100f1a38;
	puVar7 = PTR_DAT_100f19a0;
	puVar6 = PTR_DAT_100f1954;
	puVar5 = PTR_DAT_100f1950;
	puVar4 = PTR_DAT_100f194c;
	puVar3 = PTR_DAT_100f1944;
	puVar2 = PTR_DAT_100f1834;
	uVar25 = (undefined7)((ulonglong)param_5 >> 8);
	uVar26 = (undefined)param_5;
	uVar23 = (undefined7)((ulonglong)param_4 >> 8);
	uVar24 = (undefined)param_4;
	uVar21 = (undefined7)((ulonglong)param_3 >> 8);
	uVar22 = (undefined)param_3;
	uVar17 = DiabloAllocPtr(0x6200);
	*(undefined4 *)puVar15 = uVar17;
	uVar17 = DiabloAllocPtr(0x62000);
	*(undefined4 *)puVar14 = uVar17;
	uVar17 = DiabloAllocPtr(0x62000);
	*(undefined4 *)puVar13 = uVar17;
	uVar17 = DiabloAllocPtr(0x3100);
	*(undefined4 *)puVar12 = uVar17;
	uVar17 = DiabloAllocPtr(0x3100);
	*(undefined4 *)puVar11 = uVar17;
	uVar17 = DiabloAllocPtr(0x3100);
	*(undefined4 *)puVar10 = uVar17;
	uVar17 = DiabloAllocPtr(0x3100);
	*(undefined4 *)puVar2 = uVar17;
	uVar17 = DiabloAllocPtr(0x3100);
	*(undefined4 *)puVar5 = uVar17;
	uVar17 = DiabloAllocPtr(0x6200);
	*(undefined4 *)puVar6 = uVar17;
	uVar17 = DiabloAllocPtr(0x3100);
	*(undefined4 *)puVar7 = uVar17;
	uVar17 = DiabloAllocPtr(0x3100);
	*(undefined4 *)puVar4 = uVar17;
	uVar17 = DiabloAllocPtr(0x3100);
	*(undefined4 *)puVar3 = uVar17;
	uVar17 = DiabloAllocPtr(0x3100);
	*(undefined4 *)puVar9 = uVar17;
	uVar17 = DiabloAllocPtr(0x3100);
	*(undefined4 *)puVar8 = uVar17;
	if (((((*(int *)puVar14 == 0) || (*(int *)puVar13 == 0)) || (*(int *)puVar15 == 0)) || ((((*(int *)puVar12 == 0 || (*(int *)puVar11 == 0)) || ((*(int *)puVar10 == 0 || ((*(int *)puVar2 == 0 || (*(int *)puVar5 == 0)))))) || (*(int *)puVar6 == 0)))) || ((((*(int *)puVar7 == 0 || (*(int *)puVar4 == 0)) || (*(int *)puVar3 == 0)) || ((*(int *)puVar9 == 0 || (*(int *)puVar8 == 0)))))) {
		ExitProcess(0, (undefined)param_2, uVar22, uVar24, uVar26, (char)param_6, (char)param_7, (char)param_8,
		    (char)in_stack_ffffff88, in_stack_ffffff8f, local_6c);
	}
	memset((char)*(undefined4 *)puVar15, 0, uVar22, uVar24, uVar26, (char)param_6, (char)param_7,
	    (char)param_8, (char)in_stack_ffffff88, in_stack_ffffff8f, local_6c);
	memset((char)*(undefined4 *)puVar14, 0, uVar22, uVar24, uVar26, (char)param_6, (char)param_7,
	    (char)param_8, (char)in_stack_ffffff88, in_stack_ffffff8f, local_6c);
	memset((char)*(undefined4 *)puVar13, 0, uVar22, uVar24, uVar26, (char)param_6, (char)param_7,
	    (char)param_8, (char)in_stack_ffffff88, in_stack_ffffff8f, local_6c);
	memset((char)*(undefined4 *)puVar12, 0, uVar22, uVar24, uVar26, (char)param_6, (char)param_7,
	    (char)param_8, (char)in_stack_ffffff88, in_stack_ffffff8f, local_6c);
	memset((char)*(undefined4 *)puVar11, 0, uVar22, uVar24, uVar26, (char)param_6, (char)param_7,
	    (char)param_8, (char)in_stack_ffffff88, in_stack_ffffff8f, local_6c);
	memset((char)*(undefined4 *)puVar10, 0, uVar22, uVar24, uVar26, (char)param_6, (char)param_7,
	    (char)param_8, (char)in_stack_ffffff88, in_stack_ffffff8f, local_6c);
	memset((char)*(undefined4 *)puVar2, 0, uVar22, uVar24, uVar26, (char)param_6, (char)param_7,
	    (char)param_8, (char)in_stack_ffffff88, in_stack_ffffff8f, local_6c);
	memset((char)*(undefined4 *)puVar5, 0, uVar22, uVar24, uVar26, (char)param_6, (char)param_7,
	    (char)param_8, (char)in_stack_ffffff88, in_stack_ffffff8f, local_6c);
	memset((char)*(undefined4 *)puVar6, 0, uVar22, uVar24, uVar26, (char)param_6, (char)param_7,
	    (char)param_8, (char)in_stack_ffffff88, in_stack_ffffff8f, local_6c);
	memset((char)*(undefined4 *)puVar7, 0, uVar22, uVar24, uVar26, (char)param_6, (char)param_7,
	    (char)param_8, (char)in_stack_ffffff88, in_stack_ffffff8f, local_6c);
	memset((char)*(undefined4 *)puVar4, 0, uVar22, uVar24, uVar26, (char)param_6, (char)param_7,
	    (char)param_8, (char)in_stack_ffffff88, in_stack_ffffff8f, local_6c);
	memset((char)*(undefined4 *)puVar3, 0, uVar22, uVar24, uVar26, (char)param_6, (char)param_7,
	    (char)param_8, (char)in_stack_ffffff88, in_stack_ffffff8f, local_6c);
	memset((char)*(undefined4 *)puVar9, 0, uVar22, uVar24, uVar26, (char)param_6, (char)param_7,
	    (char)param_8, (char)in_stack_ffffff88, in_stack_ffffff8f, local_6c);
	memset((char)*(undefined4 *)puVar8, 0, uVar22, uVar24, uVar26, (char)param_6, (char)param_7,
	    (char)param_8, (char)in_stack_ffffff88, in_stack_ffffff8f, local_6c);
	uVar19 = ZEXT48(*(undefined **)(local_6c + -0x759c));
	puVar1 = *(undefined4 **)(local_6c + -0x766c);
	**(undefined **)(local_6c + -0x759c) = 0;
	*puVar1 = 1;
	uVar18 = InitCursor(ZEXT48(puVar1), uVar19, CONCAT71(uVar21, uVar22), CONCAT71(uVar23, uVar24),
	    CONCAT71(uVar25, uVar26), param_6, (int)param_7, param_8, in_stack_ffffff88);
	uVar16 = InitLightTable(uVar18, (char)uVar19, uVar22, uVar24, uVar26, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffff88);
	uVar18 = LoadDebugGFX(uVar16, uVar19, CONCAT71(uVar21, uVar22), CONCAT71(uVar23, uVar24),
	    CONCAT71(uVar25, uVar26), param_6, (int)param_7, param_8, in_stack_ffffff88);
	music_stop(uVar18, (char)uVar19, uVar22, uVar24, uVar26, (char)param_6, (char)param_7, (char)param_8,
	    in_stack_ffffff88);
	uVar29 = (undefined)param_8;
	uVar27 = (undefined)param_6;
	uVar20 = (undefined)uVar19;
	uVar28 = (undefined)param_7;
	ShowProgress(param_1, uVar19, CONCAT71(uVar21, uVar22), CONCAT71(uVar23, uVar24),
	    CONCAT71(uVar25, uVar26), param_6, param_7, param_8, in_stack_ffffff88);
	uVar18 = gmenu_init_menu();
	InitLevelCursor(uVar18, uVar20, uVar22, uVar24, uVar26, uVar27, uVar28, uVar29, in_stack_ffffff88);
	*(undefined4 *)(local_6c + -0x4f54) = 0;
	**(undefined **)(local_6c + -0x7560) = 0;
	track_repeat_walk(0);
	return;
}

void free_game(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined *puVar12;
	undefined *puVar13;
	undefined *puVar14;
	undefined *puVar15;
	undefined uVar16;
	ulonglong uVar17;
	undefined uVar18;
	undefined7 uVar19;
	undefined uVar20;
	undefined7 uVar21;
	undefined uVar22;
	undefined7 uVar23;
	undefined uVar24;
	longlong lVar25;
	undefined uVar26;
	longlong lVar27;
	undefined uVar28;
	longlong lVar29;
	undefined uVar30;
	ulonglong uVar31;
	undefined4 in_stack_ffffff98;

	puVar15 = PTR_DAT_100f1a54;
	puVar14 = PTR_DAT_100f1a50;
	puVar13 = PTR_DAT_100f1a4c;
	puVar12 = PTR_DAT_100f1a48;
	puVar11 = PTR_DAT_100f1a44;
	puVar10 = PTR_DAT_100f1a40;
	puVar9 = PTR_DAT_100f1a3c;
	puVar8 = PTR_DAT_100f1a38;
	puVar7 = PTR_DAT_100f19a0;
	puVar6 = PTR_DAT_100f1954;
	puVar5 = PTR_DAT_100f1950;
	puVar4 = PTR_DAT_100f194c;
	puVar3 = PTR_DAT_100f1944;
	puVar2 = PTR_DAT_100f1834;
	uVar23 = (undefined7)((ulonglong)param_5 >> 8);
	uVar24 = (undefined)param_5;
	uVar21 = (undefined7)((ulonglong)param_4 >> 8);
	uVar22 = (undefined)param_4;
	uVar19 = (undefined7)((ulonglong)param_3 >> 8);
	uVar20 = (undefined)param_3;
	lVar29 = (longlong)param_8;
	lVar27 = (longlong)param_7;
	lVar25 = (longlong)param_6;
	uVar17 = ZEXT48(PTR_DAT_100f1a50);
	uVar1 = *(uint *)PTR_DAT_100f1a50;
	if (uVar1 != 0) {
		*(undefined4 *)PTR_DAT_100f1a50 = 0;
		mem_free_dbg((ulonglong)uVar1, (char)puVar14, uVar20, uVar22, uVar24, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffff98);
	}
	uVar1 = *(uint *)puVar13;
	*(undefined4 *)puVar13 = 0;
	mem_free_dbg((ulonglong)uVar1, (char)uVar17, uVar20, uVar22, uVar24, (char)lVar25, (char)lVar27,
	    (char)lVar29, in_stack_ffffff98);
	uVar1 = *(uint *)puVar15;
	*(undefined4 *)puVar15 = 0;
	mem_free_dbg((ulonglong)uVar1, (char)uVar17, uVar20, uVar22, uVar24, (char)lVar25, (char)lVar27,
	    (char)lVar29, in_stack_ffffff98);
	uVar1 = *(uint *)puVar12;
	*(undefined4 *)puVar12 = 0;
	mem_free_dbg((ulonglong)uVar1, (char)uVar17, uVar20, uVar22, uVar24, (char)lVar25, (char)lVar27,
	    (char)lVar29, in_stack_ffffff98);
	uVar1 = *(uint *)puVar11;
	*(undefined4 *)puVar11 = 0;
	mem_free_dbg((ulonglong)uVar1, (char)uVar17, uVar20, uVar22, uVar24, (char)lVar25, (char)lVar27,
	    (char)lVar29, in_stack_ffffff98);
	uVar1 = *(uint *)puVar10;
	*(undefined4 *)puVar10 = 0;
	mem_free_dbg((ulonglong)uVar1, (char)uVar17, uVar20, uVar22, uVar24, (char)lVar25, (char)lVar27,
	    (char)lVar29, in_stack_ffffff98);
	uVar1 = *(uint *)puVar2;
	*(undefined4 *)puVar2 = 0;
	mem_free_dbg((ulonglong)uVar1, (char)uVar17, uVar20, uVar22, uVar24, (char)lVar25, (char)lVar27,
	    (char)lVar29, in_stack_ffffff98);
	uVar1 = *(uint *)puVar5;
	*(undefined4 *)puVar5 = 0;
	mem_free_dbg((ulonglong)uVar1, (char)uVar17, uVar20, uVar22, uVar24, (char)lVar25, (char)lVar27,
	    (char)lVar29, in_stack_ffffff98);
	uVar1 = *(uint *)puVar6;
	*(undefined4 *)puVar6 = 0;
	mem_free_dbg((ulonglong)uVar1, (char)uVar17, uVar20, uVar22, uVar24, (char)lVar25, (char)lVar27,
	    (char)lVar29, in_stack_ffffff98);
	uVar1 = *(uint *)puVar7;
	*(undefined4 *)puVar7 = 0;
	mem_free_dbg((ulonglong)uVar1, (char)uVar17, uVar20, uVar22, uVar24, (char)lVar25, (char)lVar27,
	    (char)lVar29, in_stack_ffffff98);
	uVar1 = *(uint *)puVar4;
	*(undefined4 *)puVar4 = 0;
	mem_free_dbg((ulonglong)uVar1, (char)uVar17, uVar20, uVar22, uVar24, (char)lVar25, (char)lVar27,
	    (char)lVar29, in_stack_ffffff98);
	uVar1 = *(uint *)puVar3;
	*(undefined4 *)puVar3 = 0;
	mem_free_dbg((ulonglong)uVar1, (char)uVar17, uVar20, uVar22, uVar24, (char)lVar25, (char)lVar27,
	    (char)lVar29, in_stack_ffffff98);
	uVar1 = *(uint *)puVar9;
	*(undefined4 *)puVar9 = 0;
	mem_free_dbg((ulonglong)uVar1, (char)uVar17, uVar20, uVar22, uVar24, (char)lVar25, (char)lVar27,
	    (char)lVar29, in_stack_ffffff98);
	uVar1 = *(uint *)puVar8;
	*(undefined4 *)puVar8 = 0;
	uVar16 = mem_free_dbg((ulonglong)uVar1, (char)uVar17, uVar20, uVar22, uVar24, (char)lVar25, (char)lVar27, (char)lVar29, in_stack_ffffff98);
	uVar16 = FreeControlPan(uVar16, (char)uVar17, uVar20, uVar22, uVar24, (char)lVar25, (char)lVar27,
	    (char)lVar29, in_stack_ffffff98);
	uVar16 = FreeInvGFX(uVar16, (char)uVar17, uVar20, uVar22, uVar24, (char)lVar25, (char)lVar27,
	    (char)lVar29, in_stack_ffffff98);
	uVar16 = FreeGMenu(uVar16, (char)uVar17, uVar20, uVar22, uVar24, (char)lVar25, (char)lVar27,
	    (char)lVar29, in_stack_ffffff98);
	uVar16 = FreeQuestText(uVar16, (char)uVar17, uVar20, uVar22, uVar24, (char)lVar25, (char)lVar27,
	    (char)lVar29, in_stack_ffffff98);
	FreeStoreMem(uVar16, (char)uVar17, uVar20, uVar22, uVar24, (char)lVar25, (char)lVar27, (char)lVar29,
	    in_stack_ffffff98);
	uVar31 = 0;
	do {
		uVar16 = FreePlayerGFX(uVar31, uVar17, CONCAT71(uVar19, uVar20), CONCAT71(uVar21, uVar22),
		    CONCAT71(uVar23, uVar24), (int)lVar25, (int)lVar27, (int)lVar29,
		    in_stack_ffffff98);
		uVar30 = (undefined)lVar29;
		uVar28 = (undefined)lVar27;
		uVar26 = (undefined)lVar25;
		uVar18 = (undefined)uVar17;
		uVar31 = uVar31 + 1;
	} while ((int)uVar31 < 4);
	uVar16 = FreeItemGFX(uVar16, uVar18, uVar20, uVar22, uVar24, uVar26, uVar28, uVar30, in_stack_ffffff98);
	uVar16 = FreeCursor(uVar16, uVar18, uVar20, uVar22, uVar24, uVar26, uVar28, uVar30, in_stack_ffffff98);
	uVar16 = FreeLightTable(uVar16, uVar18, uVar20, uVar22, uVar24, uVar26, uVar28, uVar30, in_stack_ffffff98);
	uVar16 = FreeDebugGFX(uVar16, uVar18, uVar20, uVar22, uVar24, uVar26, uVar28, uVar30, in_stack_ffffff98);
	FreeGameMem(uVar16, uVar18, uVar20, uVar22, uVar24, uVar26, uVar28, uVar30, in_stack_ffffff98);
	return;
}

void run_game_loop(int param_1, longlong param_2, ulonglong param_3, ulonglong param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined *puVar2;
	char cVar3;
	bool bVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	ulonglong uVar10;
	undefined8 uVar11;
	ulonglong uVar12;
	int iVar14;
	undefined uVar15;
	ulonglong uVar13;
	undefined uVar16;
	undefined uVar17;
	undefined uVar18;
	undefined4 uVar19;
	undefined4 uVar20;
	undefined4 uVar21;

	puVar9 = PTR_DAT_100f1a34;
	puVar8 = PTR_DAT_100f1a2c;
	puVar7 = PTR_DAT_100f1a24;
	puVar6 = PTR_DAT_100f1a20;
	puVar5 = PTR_DAT_100f1914;
	uVar13 = ZEXT48(&toc);
	puVar2 = (undefined *)(ZEXT48(register0x0000000c) - 0x80);
	*(BADSPACEBASE **)puVar2 = register0x0000000c;
	nthread_ignore_mutex(1, (char)param_2, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, *(undefined4 *)(puVar2 + 8));
	start_game(param_1, param_2, param_3, param_4, param_5, (int)param_6, param_7, (int)param_8,
	    *(undefined4 *)(puVar2 + 8));
	uVar10 = SetWindowProc(*(undefined **)((int)uVar13 + -0x75a0), (char)param_2, (char)param_3,
	    (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8,
	    *(undefined4 *)(puVar2 + 8));
	uVar11 = control_update_life_mana(*puVar2);
	msg_process_net_packets(uVar11, param_2, param_3, param_4, param_5, (int)param_6, (int)param_7, (int)param_8,
	    *(undefined4 *)(puVar2 + 8));
	puVar1 = *(undefined4 **)((int)uVar13 + -0x75a8);
	*(undefined4 *)puVar8 = 1;
	*puVar1 = 1;
	*(undefined4 *)puVar7 = 1;
	*(undefined4 *)puVar5 = 0xff;
	DrawAndBlit(ZEXT48(puVar1), param_2, param_3, param_4, param_5, (int)param_6, param_7, (int)param_8,
	    *(undefined4 *)(puVar2 + 8));
	PaletteFadeIn(8, (char)param_2, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, *(undefined4 *)(puVar2 + 8));
	*(undefined4 *)puVar5 = 0xff;
	*(undefined4 *)puVar6 = 1;
	nthread_ignore_mutex(0, (char)param_2, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, *(undefined4 *)(puVar2 + 8));
	uVar12 = FUN_10017ae8(1, (char)param_2, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
	    (char)param_7, (char)param_8, *(undefined4 *)(puVar2 + 8));
LAB_10024060:
	do {
		iVar14 = (int)uVar13;
		uVar21 = (undefined4)param_8;
		uVar19 = (undefined4)param_6;
		if (*(int *)puVar8 == 0) {
			FUN_10017ae8(0, (char)param_2, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
			    (char)param_7, (char)param_8, *(undefined4 *)(puVar2 + 8));
			uVar13 = ZEXT48(*(byte **)(iVar14 + -0x77f0));
			if (1 < **(byte **)(iVar14 + -0x77f0)) {
				uVar13 = pfile_write_hero(uVar13, param_2, param_3, (int)param_4, (int)param_5, uVar19, (int)param_7,
				    uVar21, *(undefined4 *)(puVar2 + 8));
			}
			pfile_flush_W(uVar13, param_2, param_3, (int)param_4, (int)param_5, uVar19, (int)param_7, uVar21,
			    *(undefined4 *)(puVar2 + 8));
			PaletteFadeOut(8, (char)param_2, (char)param_3, (char)param_4, (char)param_5, (char)uVar19,
			    (char)param_7, (char)uVar21, *(undefined4 *)(puVar2 + 8));
			SetCursor_(0, (char)param_2, (char)param_3, (char)param_4, (char)param_5, (char)uVar19,
			    (char)param_7, (char)uVar21, *(undefined4 *)(puVar2 + 8));
			ClearScreenBuffer();
			uVar20 = (undefined4)param_7;
			*(undefined4 *)puVar5 = 0xff;
			scrollrt_draw_game_screen(1, param_2, param_3, param_4, param_5, uVar19, param_7, uVar21,
			    *(undefined4 *)(puVar2 + 8));
			uVar13 = SetWindowProc((undefined *)uVar10, (char)param_2, (char)param_3, (char)param_4,
			    (char)param_5, (char)uVar19, (char)uVar20, (char)uVar21,
			    *(undefined4 *)(puVar2 + 8));
			uVar11 = free_game(uVar13, param_2, param_3, param_4, param_5, uVar19, uVar20, uVar21,
			    *(undefined4 *)(puVar2 + 8));
			if (*puVar9 != '\0') {
				*puVar9 = 0;
				DoEnding(uVar11, param_2, param_3, param_4, param_5, uVar19, uVar20, uVar21,
				    *(undefined4 *)(puVar2 + 8));
			}
			return;
		}
		diablo_color_cyc_logic((char)uVar12, (char)param_2, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
		    (char)param_7, (char)param_8, *(undefined4 *)(puVar2 + 8));
		cVar3 = (char)(ZEXT48(register0x0000000c) - 0x80);
		param_2 = 0;
		param_3 = 0;
		param_4 = 0;
		param_5 = 0;
		iVar14 = PeekMessage(cVar3 + '<', 0, 0, 0, 0, (char)param_6, (char)param_7, (char)param_8, puVar2[0xb],
		    puVar2[0xf], *(undefined4 *)(puVar2 + 0x14));
		uVar13 = (ulonglong) * (uint *)(puVar2 + 0x14);
		if (iVar14 == 0)
			goto LAB_10024034;
		while (true) {
			param_2 = 0;
			param_3 = 0;
			param_4 = 0;
			param_5 = 1;
			uVar12 = PeekMessage(cVar3 + '<', 0, 0, 0, 1, (char)param_6, (char)param_7, (char)param_8, puVar2[0xb], puVar2[0xf], *(undefined4 *)(puVar2 + 0x14));
			uVar13 = (ulonglong) * (uint *)(puVar2 + 0x14);
			uVar15 = (undefined)param_2;
			uVar16 = (undefined)param_3;
			uVar17 = (undefined)param_4;
			uVar18 = (undefined)param_5;
			if ((int)uVar12 == 0)
				break;
			if (*(int *)(puVar2 + 0x40) == 0x12) {
				*(undefined4 *)puVar7 = 0;
				*(undefined4 *)puVar8 = 0;
				break;
			}
			TranslateMessage(cVar3 + '<', uVar15, uVar16, uVar17, uVar18, (char)param_6, (char)param_7,
			    (char)param_8, puVar2[0xb], puVar2[0xf], *(undefined4 *)(puVar2 + 0x14));
			DispatchMessage(cVar3 + '<', uVar15, uVar16, uVar17, uVar18, (char)param_6, (char)param_7,
			    (char)param_8, puVar2[0xb], puVar2[0xf], *(undefined4 *)(puVar2 + 0x14));
		}
		bVar4 = false;
		if ((*(int *)puVar8 != 0) && (uVar12 = nthread_has_500ms_passed(0, uVar15, uVar16, uVar17, uVar18, (char)param_6, (char)param_7, (char)param_8, *(undefined4 *)(puVar2 + 8), puVar2[0xf], *(undefined4 *)(puVar2 + 0x18)), (int)uVar12 != 0)) {
			bVar4 = true;
		}
	} while (!bVar4);
	goto LAB_10024044;
LAB_10024034:
	uVar12 = nthread_has_500ms_passed(0, (char)param_2, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
	    (char)param_7, (char)param_8, *(undefined4 *)(puVar2 + 8), puVar2[0xf],
	    *(undefined4 *)(puVar2 + 0x18));
	if ((int)uVar12 != 0) {
	LAB_10024044:
		multi_process_network_packets(uVar12, param_2, param_3, param_4, param_5, (int)param_6, (int)param_7, (int)param_8,
		    *(undefined4 *)(puVar2 + 8));
		uVar15 = game_loop((ulonglong) * (uint *)puVar6, param_2, param_3, param_4, param_5, param_6, param_7, param_8, *(undefined4 *)(puVar2 + 8));
		uVar11 = msgcmd_send_chat(uVar15, (char)param_2, (char)param_3, (char)param_4, (char)param_5,
		    (char)param_6, (char)param_7, (char)param_8, *(undefined4 *)(puVar2 + 8));
		*(undefined4 *)puVar6 = 0;
		uVar12 = DrawAndBlit(uVar11, param_2, param_3, param_4, param_5, (int)param_6, param_7, (int)param_8,
		    *(undefined4 *)(puVar2 + 8));
	}
	goto LAB_10024060;
}

ulonglong StartGame(int param_1, undefined8 param_2, ulonglong param_3, ulonglong param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined8 uVar6;
	int iVar7;
	undefined uVar8;
	undefined8 extraout_r3;
	longlong lVar9;
	undefined uVar10;
	undefined7 uVar11;
	undefined uVar12;
	undefined7 uVar13;
	undefined uVar14;
	undefined7 uVar15;
	undefined uVar16;
	undefined uVar17;
	undefined uVar18;
	undefined uVar19;
	undefined4 in_stack_ffffffa8;
	undefined uVar20;
	undefined in_stack_ffffffaf;
	undefined4 local_4c;

	puVar5 = PTR_DAT_100f1a24;
	puVar4 = PTR_DAT_100f1a1c;
	puVar3 = PTR_DAT_100f1a18;
	puVar2 = PTR_DAT_100f1a14;
	puVar1 = PTR_DAT_100f1824;
	uVar15 = (undefined7)((ulonglong)param_5 >> 8);
	uVar16 = (undefined)param_5;
	uVar13 = (undefined7)(param_4 >> 8);
	uVar14 = (undefined)param_4;
	uVar11 = (undefined7)(param_3 >> 8);
	uVar12 = (undefined)param_3;
	*PTR_DAT_100f1a1c = 1;
	do {
		lVar9 = ZEXT48(register0x0000000c) - 0x28;
		*(undefined4 *)puVar3 = 0;
		iVar7 = NetInit(param_2);
		uVar20 = (undefined)in_stack_ffffffa8;
		uVar10 = (undefined)lVar9;
		uVar8 = (undefined)iVar7;
		uVar19 = (undefined)param_8;
		uVar18 = (undefined)param_7;
		uVar17 = (undefined)param_6;
		if (iVar7 == 0) {
			uVar6 = countLeadingZeros(0);
			*(uint *)puVar5 = (uint)uVar6 >> 5 & 0xff;
			break;
		}
		*puVar4 = 0;
		if ((param_1 != 0) || (*(int *)puVar2 == 0)) {
			uVar8 = InitLevels();
			uVar8 = InitQuests(uVar8, (char)lVar9, uVar12, uVar14, uVar16, (char)param_6, (char)param_7,
			    (char)param_8, in_stack_ffffffa8);
			InitPortals(uVar8, (char)lVar9, uVar12, uVar14, uVar16, (char)param_6, (char)param_7, (char)param_8,
			    in_stack_ffffffa8);
			InitDungMsgs((ulonglong) * (uint *)puVar1, lVar9, CONCAT71(uVar11, uVar12), CONCAT71(uVar13, uVar14),
			    CONCAT71(uVar15, uVar16), (int)param_6, (int)param_7, (int)param_8, in_stack_ffffffa8);
		}
		if ((*(int *)puVar2 == 0) || (*(int *)puVar3 == 0)) {
			iVar7 = 0x40a;
		} else {
			iVar7 = 0x40b;
		}
		run_game_loop(iVar7, lVar9, CONCAT71(uVar11, uVar12), CONCAT71(uVar13, uVar14), CONCAT71(uVar15, uVar16), param_6, param_7, param_8, in_stack_ffffffa8);
		NetClose(extraout_r3, lVar9, CONCAT71(uVar11, uVar12), CONCAT71(uVar13, uVar14),
		    CONCAT71(uVar15, uVar16), (int)param_6, (int)param_7, (int)param_8, in_stack_ffffffa8);
		uVar10 = 0;
		uVar6 = pfile_create_player_description(0, 0, CONCAT71(uVar11, uVar12), CONCAT71(uVar13, uVar14), CONCAT71(uVar15, uVar16), param_6, param_7, param_8, in_stack_ffffffa8);
		uVar20 = (undefined)in_stack_ffffffa8;
		uVar8 = (undefined)uVar6;
		uVar19 = (undefined)param_8;
		uVar18 = (undefined)param_7;
		uVar17 = (undefined)param_6;
	} while (*(int *)puVar5 != 0);
	SNetDestroy(uVar8, uVar10, uVar12, uVar14, uVar16, uVar17, uVar18, uVar19, uVar20, in_stack_ffffffaf,
	    local_4c);
	return (ulonglong) * (uint *)puVar5;
}

void FUN_100241e0(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined *puVar2;
	int iVar3;
	int iVar4;
	int iVar5;
	int iVar6;
	int iVar7;
	int iVar8;
	int iVar9;
	int iVar10;
	undefined *puVar11;
	int iVar12;
	int *piVar13;
	int iVar14;
	longlong lVar15;

	puVar11 = PTR_DAT_100f1818;
	puVar2 = (undefined *)(ZEXT48(register0x0000000c) - 0x50);
	*(BADSPACEBASE **)puVar2 = register0x0000000c;
	GetCursorPos((char)(ZEXT48(register0x0000000c) - 0x50) + '@', param_2, param_3, param_4, param_5,
	    param_6, param_7, param_8, puVar2[0xb], puVar2[0xf], *(undefined4 *)(puVar2 + 0x14));
	iVar14 = *(int *)(puVar2 + 0x14);
	lVar15 = 0x20;
	puVar1 = *(undefined4 **)(iVar14 + -0x76ac);
	**(undefined4 **)(iVar14 + -0x76a8) = *(undefined4 *)(puVar2 + 0x40);
	iVar12 = 0;
	piVar13 = *(int **)(iVar14 + -0x7698);
	iVar14 = 0;
	*puVar1 = *(undefined4 *)(puVar2 + 0x44);
	*(undefined4 *)(puVar11 + 8) = 0;
	*(undefined4 *)(puVar11 + 0xc) = 0;
	*(undefined4 *)puVar11 = 0;
	*(undefined4 *)(puVar11 + 4) = 0;
	*(undefined4 *)(puVar11 + 0x10) = 0;
	do {
		*piVar13 = iVar12;
		piVar13[1] = (iVar14 + 1) * 0x300;
		piVar13[2] = (iVar14 + 2) * 0x300;
		piVar13[3] = (iVar14 + 3) * 0x300;
		piVar13[4] = (iVar14 + 4) * 0x300;
		piVar13[5] = (iVar14 + 5) * 0x300;
		piVar13[6] = (iVar14 + 6) * 0x300;
		piVar13[7] = (iVar14 + 7) * 0x300;
		piVar13[8] = iVar12 + 0x1800;
		piVar13[9] = (iVar14 + 9) * 0x300;
		piVar13[10] = (iVar14 + 10) * 0x300;
		piVar13[0xb] = (iVar14 + 0xb) * 0x300;
		piVar13[0xc] = (iVar14 + 0xc) * 0x300;
		piVar13[0xd] = (iVar14 + 0xd) * 0x300;
		piVar13[0xe] = (iVar14 + 0xe) * 0x300;
		iVar3 = iVar14 + 0x17;
		piVar13[0xf] = (iVar14 + 0xf) * 0x300;
		iVar4 = iVar14 + 0x19;
		piVar13[0x10] = iVar12 + 0x3000;
		piVar13[0x11] = (iVar14 + 0x11) * 0x300;
		iVar5 = iVar14 + 0x1a;
		piVar13[0x12] = (iVar14 + 0x12) * 0x300;
		iVar6 = iVar14 + 0x1b;
		piVar13[0x13] = (iVar14 + 0x13) * 0x300;
		iVar7 = iVar14 + 0x1c;
		piVar13[0x14] = (iVar14 + 0x14) * 0x300;
		iVar8 = iVar14 + 0x1d;
		piVar13[0x15] = (iVar14 + 0x15) * 0x300;
		iVar9 = iVar14 + 0x1e;
		piVar13[0x16] = (iVar14 + 0x16) * 0x300;
		iVar10 = iVar14 + 0x1f;
		iVar14 = iVar14 + 0x20;
		piVar13[0x17] = iVar3 * 0x300;
		piVar13[0x18] = iVar12 + 0x4800;
		iVar12 = iVar12 + 0x6000;
		piVar13[0x19] = iVar4 * 0x300;
		piVar13[0x1a] = iVar5 * 0x300;
		piVar13[0x1b] = iVar6 * 0x300;
		piVar13[0x1c] = iVar7 * 0x300;
		piVar13[0x1d] = iVar8 * 0x300;
		piVar13[0x1e] = iVar9 * 0x300;
		piVar13[0x1f] = iVar10 * 0x300;
		piVar13 = piVar13 + 0x20;
		lVar15 = lVar15 + -1;
	} while (lVar15 != 0);
	FUN_10040228(*puVar2);
	return;
}

undefined8
WinMain(undefined4 param_1, undefined4 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11)

{
	undefined4 *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined uVar9;
	byte *pbVar6;
	undefined8 uVar4;
	uint uVar7;
	int iVar8;
	ulonglong uVar5;
	ulonglong uVar10;
	undefined uVar11;
	undefined8 uVar12;
	ulonglong uVar13;
	undefined uVar14;
	longlong lVar15;
	undefined uVar16;
	undefined uVar17;
	undefined uVar18;
	undefined uVar19;
	undefined uVar20;
	undefined4 in_stack_ffffffa8;
	undefined uVar21;
	undefined in_stack_ffffffaf;
	int local_4c;
	int iVar22;

	puVar3 = PTR_s_Diablo_100f1a08;
	puVar2 = PTR_DAT_100f17c4;
	uVar9 = SUB41(PTR_PTR_LAB_100f1a10, 0);
	uVar12 = param_4;
	SwapOutMemFuncFPLib(uVar9, (undefined)param_2, (char)param_3, (char)param_4, (char)param_5,
	    (char)param_6, (char)param_7, (char)param_8, (char)in_stack_ffffffa8,
	    in_stack_ffffffaf, local_4c);
	SwapOutMemFuncWin32(uVar9, (undefined)param_2, (char)param_3, (char)uVar12, (char)param_5,
	    (char)param_6, (char)param_7, (char)param_8, (char)in_stack_ffffffa8,
	    in_stack_ffffffaf, local_4c);
	puVar1 = *(undefined4 **)(local_4c + -0x75c4);
	uVar10 = ZEXT48(puVar1);
	*puVar1 = param_1;
	uVar9 = ShowCursor(0, (char)puVar1, (char)param_3, (char)uVar12, (char)param_5, (char)param_6,
	    (char)param_7, (char)param_8, (char)in_stack_ffffffa8, in_stack_ffffffaf,
	    local_4c);
	uVar9 = GetTickCount(uVar9, (char)uVar10, (char)param_3, (char)uVar12, (char)param_5, (char)param_6,
	    (char)param_7, (char)param_8, (char)in_stack_ffffffa8, in_stack_ffffffaf,
	    local_4c);
	vc_srand(uVar9, (char)uVar10, (char)param_3, (char)uVar12, (char)param_5, (char)param_6, (char)param_7,
	    (char)param_8, (char)in_stack_ffffffa8, in_stack_ffffffaf, local_4c);
	uVar9 = InitHash();
	pbVar6 = (byte *)GetCommandLine(uVar9, (char)uVar10, (char)param_3, (char)uVar12, (char)param_5,
	    (char)param_6, (char)param_7, (char)param_8, (char)in_stack_ffffffa8,
	    in_stack_ffffffaf, local_4c);
	diablo_parse_flags(pbVar6);
	uVar9 = init_create_window(param_4, uVar10, param_3, uVar12, param_5, (int)param_6, (int)param_7, (int)param_8,
	    in_stack_ffffffa8);
	uVar4 = FUN_100241e0(uVar9, (char)uVar10, (char)param_3, (char)uVar12, (char)param_5, (char)param_6,
	    (char)param_7, (char)param_8, in_stack_ffffffa8);
	uVar11 = (undefined)uVar10;
	uVar9 = sound_init(uVar4, uVar10, param_3, uVar12, param_5, (int)param_6, (int)param_7, (int)param_8,
	    in_stack_ffffffa8);
	UiInitialize(uVar9, uVar11, (char)param_3, (char)uVar12, (char)param_5, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffffa8);
	uVar7 = GetAsyncKeyState(0x11, uVar11, (char)param_3, (char)uVar12, (char)param_5, (char)param_6,
	    (char)param_7, (char)param_8, (char)in_stack_ffffffa8, in_stack_ffffffaf,
	    local_4c);
	iVar22 = local_4c;
	if ((uVar7 & 0x8000) == 0) {
		iVar22 = local_4c;
		play_movie((ulonglong) * (uint *)(local_4c + -0x63e0), 1, param_3, uVar12, param_5, (int)param_6,
		    (int)param_7, (int)param_8, in_stack_ffffffa8);
	}
	uVar9 = 0xdc;
	lVar15 = ZEXT48(register0x0000000c) - 0x28;
	uVar12 = 0;
	uVar10 = (ulonglong) * (ushort *)(local_4c + -0x22fc);
	iVar8 = SRegLoadValue((char)puVar3, 0xdc, 0, (char)lVar15, (char)*(ushort *)(local_4c + -0x22fc),
	    (char)param_6, (char)param_7, (char)param_8, (char)in_stack_ffffffa8,
	    in_stack_ffffffaf, iVar22);
	uVar7 = GetAsyncKeyState(0x11, uVar9, (char)uVar12, (char)lVar15, (char)uVar10, (char)param_6,
	    (char)param_7, (char)param_8, (char)in_stack_ffffffa8, in_stack_ffffffaf,
	    iVar22);
	if (((uVar7 & 0x8000) == 0) && (iVar8 == 0)) {
		play_movie((ulonglong) * (uint *)(iVar22 + -0x63e8), 1, uVar12, lVar15, uVar10, (int)param_6,
		    (int)param_7, (int)param_8, in_stack_ffffffa8);
	}
	lVar15 = ZEXT48(register0x0000000c) - 0x24;
	uVar13 = 0;
	uVar12 = 0;
	SRegSaveValue((char)puVar3, (char)lVar15, 0, 0, (char)uVar10, (char)param_6, (char)param_7, (char)param_8, (char)in_stack_ffffffa8, in_stack_ffffffaf, iVar22);
	uVar5 = GetAsyncKeyState(0x11, (char)lVar15, (char)uVar13, (char)uVar12, (char)uVar10, (char)param_6,
	    (char)param_7, (char)param_8, (char)in_stack_ffffffa8, in_stack_ffffffaf,
	    iVar22);
	if ((uVar5 & 0x8000) == 0) {
		uVar4 = UiTitleDialog(7, (char)lVar15, (char)uVar13, (char)uVar12, (char)uVar10, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffffa8);
		uVar5 = BlackPalette((char)uVar4, (char)lVar15, (char)uVar13, (char)uVar12, (char)uVar10,
		    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffa8);
	}
	uVar17 = (undefined)uVar10;
	uVar16 = (undefined)uVar12;
	uVar14 = (undefined)uVar13;
	uVar11 = (undefined)lVar15;
	uVar20 = (undefined)param_8;
	uVar19 = (undefined)param_7;
	uVar18 = (undefined)param_6;
	uVar9 = mainmenu_loop(uVar5, lVar15, uVar13, uVar12, uVar10, param_6, param_7, param_8, in_stack_ffffffa8);
	uVar9 = UiDestroy(uVar9, uVar11, uVar14, uVar16, uVar17, uVar18, uVar19, uVar20, in_stack_ffffffa8);
	uVar21 = (undefined)in_stack_ffffffa8;
	SaveGamma(uVar9, uVar11, uVar14, uVar16, uVar17, uVar18, uVar19, uVar20, in_stack_ffffffa8);
	if (*(int *)puVar2 != 0) {
		Sleep(0x2c, uVar11, uVar14, uVar16, uVar17, uVar18, uVar19, uVar20, uVar21, in_stack_ffffffaf, iVar22);
		DestroyWindow((char)*(undefined4 *)puVar2, uVar11, uVar14, uVar16, uVar17, uVar18, uVar19, uVar20,
		    uVar21, in_stack_ffffffaf, iVar22);
	}
	return 0;
}

undefined8
LeftMouseCmd(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	byte bVar1;
	bool bVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined *puVar12;
	undefined **ppuVar13;
	longlong lVar14;
	undefined8 uVar15;
	ulonglong uVar16;
	undefined4 in_stack_ffffff98;

	puVar12 = PTR_DAT_100f1978;
	puVar11 = PTR_DAT_100f1974;
	puVar10 = PTR_DAT_100f188c;
	puVar9 = PTR_DAT_100f1888;
	puVar8 = PTR_DAT_100f1884;
	puVar7 = PTR_DAT_100f1880;
	puVar6 = PTR_DAT_100f1874;
	puVar5 = PTR_DAT_100f1828;
	puVar4 = PTR_DAT_100f1824;
	puVar3 = PTR_DAT_100f1814;
	ppuVar13 = &toc;
	if (*PTR_DAT_100f183c == '\0') {
		if ((*PTR_DAT_100f1888 != -1) && (*(int *)PTR_DAT_100f188c == 1)) {
			if (*(int *)PTR_DAT_100f1814 == 0) {
				uVar15 = 0x2a;
			} else {
				uVar15 = 0x29;
			}
			NetSendCmdLocParam1(1, uVar15, (ulonglong)(*(uint *)PTR_DAT_100f1978 & 0xff),
			    (ulonglong)(*(uint *)PTR_DAT_100f1974 & 0xff), (longlong)(char)*PTR_DAT_100f1888,
			    param_6, param_7, param_8, in_stack_ffffff98);
		}
		if (*(uint *)puVar7 != 0xffffffff) {
			NetSendCmdLocParam1(1, 0x1d, (ulonglong)(*(uint *)puVar12 & 0xff), (ulonglong)(*(uint *)puVar11 & 0xff),
			    (ulonglong)(*(uint *)puVar7 & 0xffff), param_6, param_7, param_8, in_stack_ffffff98);
		}
		if (((*puVar9 == -1) && (*(int *)puVar7 == -1)) && (*puVar6 == -1)) {
			return 1;
		}
	} else {
		bVar2 = false;
		uVar16 = (ulonglong) * (uint *)PTR_DAT_100f1978;
		lVar14 = abs((ulonglong)
		        * (uint *)(PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec + 0x38)
		    - uVar16);
		if ((int)lVar14 < 2) {
			uVar16 = (ulonglong) * (uint *)puVar11;
			lVar14 = abs((ulonglong) * (uint *)(puVar5 + *(int *)puVar4 * 0x55ec + 0x3c) - uVar16);
			if ((int)lVar14 < 2) {
				bVar2 = true;
			}
		}
		if (((*puVar9 == -1) || (*(int *)puVar10 != 1)) || (param_1 != 0)) {
			bVar1 = *puVar8;
			if ((bVar1 == 0xff) || ((param_1 != 0 && ((!bVar2 || (ppuVar13[-0x1da2][(int)(char)bVar1 * 0x78 + 0x34] != '\x01')))))) {
				if (*(int *)(puVar5 + *(int *)puVar4 * 0x55ec + 0x134) == 1) {
					if (param_1 == 0) {
						if (*(uint *)puVar7 == 0xffffffff) {
							if ((*puVar6 != -1) && (_DAT_100f6b8c == 0)) {
								NetSendCmdParam1(1, 0x15, (longlong)(char)*puVar6, param_4, param_5, param_6, param_7, param_8,
								    in_stack_ffffff98);
							}
						} else {
							uVar15 = CanTalkToMonst((ulonglong) * (uint *)puVar7, uVar16, (ulonglong)bVar1, param_4,
							    param_5, param_6, param_7, param_8, in_stack_ffffff98);
							if ((int)uVar15 == 0) {
								NetSendCmdParam1(1, 0x14, (ulonglong)(*(uint *)puVar7 & 0xffff), param_4, param_5, param_6,
								    param_7, param_8, in_stack_ffffff98);
							} else {
								NetSendCmdParam1(1, 0x12, (ulonglong)(*(uint *)puVar7 & 0xffff), param_4, param_5, param_6,
								    param_7, param_8, in_stack_ffffff98);
							}
						}
					} else {
						NetSendCmdLoc(1, 0xd, (ulonglong)(*(uint *)puVar12 & 0xff),
						    (ulonglong)(*(uint *)puVar11 & 0xff), param_5, param_6, param_7, param_8,
						    in_stack_ffffff98);
					}
				} else {
					if (param_1 == 0) {
						if (*(uint *)puVar7 == 0xffffffff) {
							if ((*puVar6 != -1) && (_DAT_100f6b8c == 0)) {
								NetSendCmdParam1(1, 0x13, (longlong)(char)*puVar6, param_4, param_5, param_6, param_7, param_8,
								    in_stack_ffffff98);
							}
						} else {
							NetSendCmdParam1(1, 0x12, (ulonglong)(*(uint *)puVar7 & 0xffff), param_4, param_5, param_6,
							    param_7, param_8, in_stack_ffffff98);
						}
					} else {
						if (*(uint *)puVar7 == 0xffffffff) {
							NetSendCmdLoc(1, 0x37, (ulonglong)(*(uint *)puVar12 & 0xff),
							    (ulonglong)(*(uint *)puVar11 & 0xff), param_5, param_6, param_7, param_8,
							    in_stack_ffffff98);
						} else {
							uVar15 = CanTalkToMonst((ulonglong) * (uint *)puVar7, uVar16, (ulonglong)bVar1, param_4,
							    param_5, param_6, param_7, param_8, in_stack_ffffff98);
							if ((int)uVar15 == 0) {
								NetSendCmdLoc(1, 0x37, (ulonglong)(*(uint *)puVar12 & 0xff),
								    (ulonglong)(*(uint *)puVar11 & 0xff), param_5, param_6, param_7, param_8,
								    in_stack_ffffff98);
							} else {
								NetSendCmdParam1(1, 0x12, (ulonglong)(*(uint *)puVar7 & 0xffff), param_4, param_5, param_6,
								    param_7, param_8, in_stack_ffffff98);
							}
						}
					}
				}
			} else {
				if (*(int *)puVar10 == 5) {
					uVar15 = 0x11;
				} else {
					uVar15 = 0x10;
				}
				NetSendCmdLocParam1(1, uVar15, (ulonglong)(*(uint *)puVar12 & 0xff),
				    (ulonglong)(*(uint *)puVar11 & 0xff), (longlong)(char)bVar1, param_6, param_7,
				    param_8, in_stack_ffffff98);
			}
		} else {
			if (*(int *)puVar3 == 0) {
				uVar15 = 0x2a;
			} else {
				uVar15 = 0x29;
			}
			NetSendCmdLocParam1(1, uVar15, (ulonglong)(*(uint *)puVar12 & 0xff),
			    (ulonglong)(*(uint *)puVar11 & 0xff), (longlong)(char)*puVar9, param_6, param_7,
			    param_8, in_stack_ffffff98);
		}
		if ((((param_1 == 0) && (*puVar9 == -1)) && (*puVar8 == -1)) && ((*(int *)puVar7 == -1 && (*puVar6 == -1)))) {
			return 1;
		}
	}
	return 0;
}

undefined8 TryIconCurs(void)

{
	int iVar1;
	uint uVar2;
	uint uVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	undefined8 uVar6;
	longlong lVar7;
	ulonglong uVar8;
	undefined uVar9;
	char cVar10;
	ulonglong in_r6;
	undefined uVar11;
	ulonglong in_r7;
	undefined uVar12;
	ulonglong in_r8;
	undefined uVar13;
	ulonglong in_r9;
	undefined uVar15;
	undefined4 uVar14;
	ulonglong in_r10;
	undefined uVar17;
	undefined4 uVar16;
	undefined *puVar18;
	undefined *puVar19;
	undefined4 in_stack_ffffffb8;

	puVar19 = PTR_DAT_100f1880;
	puVar18 = PTR_DAT_100f1874;
	puVar4 = PTR_DAT_100f1824;
	uVar16 = (undefined4)in_r10;
	uVar14 = (undefined4)in_r9;
	ppuVar5 = &toc;
	uVar8 = ZEXT48(PTR_DAT_100f18a4);
	iVar1 = *(int *)PTR_DAT_100f188c;
	if (iVar1 == 8) {
		NetSendCmdParam1(1, 0x1a, (longlong)(char)*PTR_DAT_100f1874, in_r6, in_r7, (int)in_r8, uVar14, uVar16,
		    in_stack_ffffffb8);
		uVar6 = 1;
	} else {
		if (iVar1 == 10) {
			NetSendCmdParam1(1, 0x4d, (longlong)(char)*PTR_DAT_100f1874, in_r6, in_r7, (int)in_r8, uVar14, uVar16,
			    in_stack_ffffffb8);
			uVar6 = 1;
		} else {
			if (iVar1 == 7) {
				DoTelekinesis();
				uVar6 = 1;
			} else {
				uVar13 = (undefined)in_r8;
				uVar9 = SUB41(PTR_DAT_100f18a4, 0);
				uVar11 = (undefined)in_r6;
				uVar12 = (undefined)in_r7;
				uVar15 = (undefined)in_r9;
				uVar17 = (undefined)in_r10;
				if (iVar1 == 2) {
					cVar10 = *PTR_DAT_100f18a4;
					if ((int)cVar10 == -1) {
						NewCursor(1, cVar10, uVar9, uVar11, uVar12, uVar13, uVar15, uVar17, in_stack_ffffffb8);
					} else {
						CheckIdentify((ulonglong) * (uint *)PTR_DAT_100f1824, (int)cVar10, uVar8, in_r6, in_r7, in_r8,
						    in_r9, in_r10, in_stack_ffffffb8);
					}
					uVar6 = 1;
				} else {
					if (iVar1 == 3) {
						cVar10 = *PTR_DAT_100f18a4;
						if ((int)cVar10 == -1) {
							NewCursor(1, cVar10, uVar9, uVar11, uVar12, uVar13, uVar15, uVar17, in_stack_ffffffb8);
						} else {
							DoRepair((ulonglong) * (uint *)PTR_DAT_100f1824, (int)cVar10, uVar8, in_r6, in_r7, in_r8,
							    in_r9, in_r10, in_stack_ffffffb8);
						}
						uVar6 = 1;
					} else {
						if (iVar1 == 4) {
							cVar10 = *PTR_DAT_100f18a4;
							if ((int)cVar10 == -1) {
								NewCursor(1, cVar10, uVar9, uVar11, uVar12, uVar13, uVar15, uVar17, in_stack_ffffffb8);
							} else {
								DoRecharge((ulonglong) * (uint *)PTR_DAT_100f1824, (int)cVar10, uVar8, in_r6, in_r7,
								    in_r8, in_r9, in_r10, in_stack_ffffffb8);
							}
							uVar6 = 1;
						} else {
							if (iVar1 == 9) {
								if (*(int *)PTR_DAT_100f1880 == -1) {
									if (*PTR_DAT_100f1874 == -1) {
										puVar18 = PTR_DAT_100f1828 + 0xac;
										lVar7 = GetSpellLevel(*(int *)PTR_DAT_100f1824,
										    *(int *)(puVar18 + *(int *)PTR_DAT_100f1824 * 0x55ec));
										uVar17 = (undefined)uVar16;
										uVar15 = (undefined)uVar14;
										uVar2 = (uint)lVar7 & 0xffff;
										uVar13 = (undefined)uVar2;
										uVar11 = (undefined)(*(uint *)ppuVar5[-0x1d97] & 0xff);
										cVar10 = (char)(*(uint *)ppuVar5[-0x1d96] & 0xff);
										uVar3 = *(uint *)(puVar18 + *(int *)puVar4 * 0x55ec) & 0xffff;
										uVar12 = (undefined)uVar3;
										uVar9 = 0xf;
										NetSendCmdLocParam2(1, 0xf, (ulonglong)(*(uint *)ppuVar5[-0x1d96] & 0xff),
										    (ulonglong)(*(uint *)ppuVar5[-0x1d97] & 0xff), (ulonglong)uVar3,
										    uVar2, uVar14, uVar16, in_stack_ffffffb8);
									} else {
										puVar19 = PTR_DAT_100f1828 + 0xac;
										lVar7 = GetSpellLevel(*(int *)PTR_DAT_100f1824,
										    *(int *)(puVar19 + *(int *)PTR_DAT_100f1824 * 0x55ec));
										uVar17 = (undefined)uVar16;
										uVar15 = (undefined)uVar14;
										uVar13 = (undefined)in_r8;
										uVar2 = (uint)lVar7 & 0xffff;
										uVar12 = (undefined)uVar2;
										cVar10 = *puVar18;
										uVar9 = 0x19;
										uVar3 = *(uint *)(puVar19 + *(int *)puVar4 * 0x55ec) & 0xffff;
										uVar11 = (undefined)uVar3;
										NetSendCmdParam3(1, 0x19, (longlong)cVar10, (ulonglong)uVar3, (ulonglong)uVar2, in_r8,
										    uVar14, uVar16, in_stack_ffffffb8);
									}
								} else {
									puVar18 = PTR_DAT_100f1828 + 0xac;
									lVar7 = GetSpellLevel(*(int *)PTR_DAT_100f1824,
									    *(int *)(puVar18 + *(int *)PTR_DAT_100f1824 * 0x55ec));
									uVar17 = (undefined)uVar16;
									uVar15 = (undefined)uVar14;
									uVar13 = (undefined)in_r8;
									uVar2 = (uint)lVar7 & 0xffff;
									uVar12 = (undefined)uVar2;
									uVar9 = 0x18;
									cVar10 = (char)(*(uint *)puVar19 & 0xffff);
									uVar3 = *(uint *)(puVar18 + *(int *)puVar4 * 0x55ec) & 0xffff;
									uVar11 = (undefined)uVar3;
									NetSendCmdParam3(1, 0x18, (ulonglong)(*(uint *)puVar19 & 0xffff), (ulonglong)uVar3,
									    (ulonglong)uVar2, in_r8, uVar14, uVar16, in_stack_ffffffb8);
								}
								NewCursor(1, uVar9, cVar10, uVar11, uVar12, uVar13, uVar15, uVar17, in_stack_ffffffb8);
								uVar6 = 1;
							} else {
								if ((iVar1 == 5) && (*PTR_DAT_100f1884 == -1)) {
									NewCursor(1, (char)PTR_DAT_100f1828, uVar9, uVar11, uVar12, uVar13, uVar15, uVar17,
									    in_stack_ffffffb8);
									uVar6 = 1;
								} else {
									uVar6 = 0;
								}
							}
						}
					}
				}
			}
		}
	}
	return uVar6;
}

undefined8
LeftMouseDown(int param_1, undefined8 param_2, ulonglong param_3, undefined8 param_4, longlong param_5,
    uint param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined **ppuVar7;
	undefined8 uVar8;
	ulonglong uVar9;
	int iVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined uVar14;
	undefined uVar15;
	undefined7 uVar16;
	undefined uVar17;
	undefined uVar18;
	undefined uVar19;
	undefined4 in_stack_ffffffa8;

	puVar6 = PTR_DAT_100f1928;
	puVar5 = PTR_DAT_100f1924;
	puVar4 = PTR_DAT_100f1918;
	puVar3 = PTR_DAT_100f18cc;
	puVar2 = PTR_DAT_100f18a0;
	puVar1 = PTR_DAT_100f188c;
	uVar16 = (undefined7)((ulonglong)param_5 >> 8);
	uVar17 = (undefined)param_5;
	ppuVar7 = &toc;
	uVar8 = gmenu_left_mouse(1, (char)param_2, (char)param_3, (char)param_4, uVar17, (char)param_6,
	    (char)param_7, (char)param_8, in_stack_ffffffa8);
	if ((int)uVar8 == 0) {
		uVar8 = control_check_talk_btn();
		uVar19 = (undefined)param_8;
		uVar18 = (undefined)param_7;
		uVar15 = (undefined)param_6;
		uVar14 = (undefined)param_4;
		uVar13 = (undefined)param_3;
		uVar11 = (undefined)param_2;
		if (((int)uVar8 == 0) && (ppuVar7[-0x13d5] == (undefined *)0x0)) {
			if (*(int *)ppuVar7[-0x1d73] == 0) {
				if (*(int *)ppuVar7[-0x1d74] != 2) {
					uVar12 = SUB41(ppuVar7[-0x1d9e], 0);
					if (*(int *)ppuVar7[-0x1d9e] == 0) {
						if (*(int *)puVar4 == 0) {
							if (*ppuVar7[-0x1dd9] == '\0') {
								if (*(int *)puVar5 < 0x160) {
									uVar9 = gmenu_exception();
									if ((int)uVar9 != 0) {
										return 0;
									}
									iVar10 = TryIconCurs();
									if (iVar10 != 0) {
										return 0;
									}
									uVar11 = SUB41(ppuVar7[-0x1df2], 0);
									uVar13 = (undefined)param_2;
									uVar14 = (undefined)param_3;
									uVar15 = (undefined)param_4;
									uVar18 = (undefined)param_6;
									uVar19 = (undefined)param_7;
									uVar12 = (undefined)param_8;
									if ((((*(int *)ppuVar7[-0x1df2] != 0) && (0x20 < *(int *)puVar6)) && (*(int *)puVar6 < 0x120)) && ((iVar10 = *(int *)puVar5, 0x20 < iVar10 && (iVar10 < 0x134)))) {
										QuestlogESC(uVar11, uVar13, uVar14, uVar15, uVar17, uVar18, uVar19, uVar12,
										    in_stack_ffffffa8);
										return 0;
									}
									if (*puVar2 != '\0') {
										*puVar2 = 0;
										uVar8 = sfx_stop(uVar11, uVar13, uVar14, uVar15, uVar17, uVar18, uVar19, uVar12,
										    in_stack_ffffffa8);
										music_stop2(uVar8, param_2, param_3, param_4, CONCAT71(uVar16, uVar17), param_6,
										    param_7, param_8, in_stack_ffffffa8);
										return 0;
									}
									if ((*(int *)ppuVar7[-0x1df1] != 0) && (*(int *)puVar6 < 0x140)) {
										CheckChrBtns();
										return 0;
									}
									if ((*(int *)ppuVar7[-0x1def] != 0) && (0x140 < *(int *)puVar6)) {
										if (*(int *)puVar3 == 0) {
											CheckInvItem();
										}
										return 0;
									}
									uVar11 = SUB41(ppuVar7[-0x1df0], 0);
									if ((*(int *)ppuVar7[-0x1df0] != 0) && (0x140 < *(int *)puVar6)) {
										CheckSBook(uVar11, uVar13, uVar14, uVar15, uVar17, uVar18, uVar19, uVar12,
										    in_stack_ffffffa8);
										return 0;
									}
									if (0xb < *(int *)puVar1) {
										uVar8 = TryInvPut(uVar11, uVar13, uVar14, uVar15, uVar17, uVar18, uVar19, uVar12,
										    in_stack_ffffffa8);
										uVar14 = (undefined)param_8;
										uVar13 = (undefined)param_7;
										uVar11 = (undefined)param_6;
										if ((int)uVar8 != 0) {
											uVar15 = 10;
											uVar18 = (undefined)(*(uint *)ppuVar7[-0x1d96] & 0xff);
											uVar19 = (undefined)(*(uint *)ppuVar7[-0x1d97] & 0xff);
											NetSendCmdPItem(1, 10, (ulonglong)(*(uint *)ppuVar7[-0x1d96] & 0xff),
											    (ulonglong)(*(uint *)ppuVar7[-0x1d97] & 0xff),
											    CONCAT71(uVar16, uVar17), param_6, param_7, param_8, in_stack_ffffffa8);
											NewCursor(1, uVar15, uVar18, uVar19, uVar17, uVar11, uVar13, uVar14,
											    in_stack_ffffffa8);
										}
										return 0;
									}
									uVar9 = ZEXT48(ppuVar7[-0x1dea]);
									if ((*(int *)(ppuVar7[-0x1dea] + *(int *)ppuVar7[-0x1deb] * 0x55ec + 0x180) != 0)
									    && (*(int *)puVar4 == 0)) {
										CheckLvlBtn();
									}
									if (*(int *)ppuVar7[-0x1db6] == 0) {
										uVar8 = countLeadingZeros(5 - param_1);
										uVar8 = LeftMouseCmd((uint)uVar8 >> 5 & 0xff, uVar9, param_3, param_4,
										    CONCAT71(uVar16, uVar17), param_6, param_7, param_8,
										    in_stack_ffffffa8);
										return uVar8;
									}
								} else {
									uVar12 = SUB41(ppuVar7[-0x1db4], 0);
									if ((*(int *)ppuVar7[-0x1db4] == 0) && (*(int *)puVar3 == 0)) {
										uVar9 = gmenu_exception();
										uVar12 = (undefined)uVar9;
										if ((int)uVar9 == 0) {
											uVar12 = CheckInvScrn(uVar12, uVar11, uVar13, uVar14, uVar17, uVar15, uVar18, uVar19,
											    in_stack_ffffffa8);
										}
									}
									DoPanBtn(uVar12, uVar11, uVar13, uVar14, uVar17, uVar15, uVar18, uVar19,
									    in_stack_ffffffa8);
									iVar10 = *(int *)puVar1;
									if ((1 < iVar10) && (iVar10 < 0xc)) {
										NewCursor(1, uVar11, uVar13, uVar14, uVar17, uVar15, uVar18, uVar19,
										    in_stack_ffffffa8);
									}
								}
							} else {
								CheckStoreBtn();
							}
						} else {
							SetSpell(uVar12, uVar11, uVar13, uVar14, uVar17, uVar15, uVar18, uVar19, in_stack_ffffffa8);
						}
					} else {
						doom_close(uVar12, uVar11, uVar13, uVar14, uVar17, uVar15, uVar18, uVar19, in_stack_ffffffa8);
					}
				}
			} else {
				control_check_btn_press((char)ppuVar7[-0x1d73], uVar11, uVar13, uVar14, uVar17, uVar15, uVar18, uVar19,
				    in_stack_ffffffa8);
			}
		}
	}
	return 0;
}

void LeftMouseUp(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	gmenu_left_mouse(0, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	control_release_talk_btn();
	if (*(int *)ppuVar1[-0x1db8] != 0) {
		CheckBtnUp((char)ppuVar1[-0x1db8], param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	}
	if (*(int *)ppuVar1[-0x1dbb] != 0) {
		ReleaseChrBtns();
	}
	if (*(int *)ppuVar1[-0x1db6] != 0) {
		ReleaseLvlBtn();
	}
	if (*ppuVar1[-0x1dd9] != '\0') {
		ReleaseStoreBtn();
	}
	return;
}

void RightMouseDown(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined8 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	char cVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	ulonglong uVar5;
	int iVar7;
	undefined8 uVar6;
	longlong lVar8;
	undefined7 uVar9;
	undefined uVar10;
	undefined7 uVar11;
	undefined uVar12;
	undefined7 uVar13;
	undefined uVar14;
	undefined7 uVar15;
	undefined uVar16;
	undefined4 in_stack_ffffffc8;

	puVar3 = PTR_DAT_100f18a4;
	puVar2 = PTR_DAT_100f1824;
	uVar15 = (undefined7)((ulonglong)param_6 >> 8);
	uVar16 = (undefined)param_6;
	uVar13 = (undefined7)((ulonglong)param_5 >> 8);
	uVar14 = (undefined)param_5;
	uVar11 = (undefined7)((ulonglong)param_4 >> 8);
	uVar12 = (undefined)param_4;
	uVar9 = (undefined7)((ulonglong)param_3 >> 8);
	uVar10 = (undefined)param_3;
	ppuVar4 = &toc;
	uVar5 = gmenu_exception();
	if (((((int)uVar5 == 0) && (ppuVar4[-0x13d5] == (undefined *)0x0)) && (*(int *)ppuVar4[-0x1d74] != 2)) && (ppuVar4[-0x1dea][*(int *)puVar2 * 0x55ec + 0x139] == '\0')) {
		if (*(int *)ppuVar4[-0x1d9e] == 0) {
			if (*ppuVar4[-0x1dd9] == '\0') {
				if (*(int *)ppuVar4[-0x1dae] == 0) {
					if (*(int *)ppuVar4[-0x1dab] < 0x160) {
						if ((*(int *)ppuVar4[-0x1df0] != 0) && (0x140 < *(int *)ppuVar4[-0x1daa])) {
							return;
						}
						iVar7 = TryIconCurs();
						if (iVar7 != 0) {
							return;
						}
						param_2._7_1_ = *puVar3;
						if (((char)param_2 != -1) && (uVar6 = UseInvItem((ulonglong) * (uint *)puVar2, (longlong)(char)param_2, uVar10, uVar12, uVar14, uVar16, (char)param_7, (char)param_8, in_stack_ffffffc8), (int)uVar6 != 0)) {
							return;
						}
					}
					uVar5 = ZEXT48(ppuVar4[-0x1dd1]);
					iVar7 = *(int *)ppuVar4[-0x1dd1];
					if (iVar7 == 1) {
						cVar1 = *puVar3;
						lVar8 = (longlong)cVar1;
						if ((cVar1 == -1) || (uVar5 = UseInvItem((ulonglong) * (uint *)puVar2, lVar8, uVar10, uVar12, uVar14, uVar16, (char)param_7, (char)param_8, in_stack_ffffffc8), (int)uVar5 == 0)) {
							CheckPlrSpell(uVar5, lVar8, CONCAT71(uVar9, uVar10), CONCAT71(uVar11, uVar12),
							    CONCAT71(uVar13, uVar14), CONCAT71(uVar15, uVar16), param_7, param_8,
							    in_stack_ffffffc8);
						}
					} else {
						if ((1 < iVar7) && (iVar7 < 0xc)) {
							NewCursor(1, (char)param_2, uVar10, uVar12, uVar14, uVar16, (char)param_7, (char)param_8,
							    in_stack_ffffffc8);
						}
					}
				} else {
					SetSpell((char)ppuVar4[-0x1dae], (char)param_2, uVar10, uVar12, uVar14, uVar16,
					    (char)param_7, (char)param_8, in_stack_ffffffc8);
				}
			}
		} else {
			doom_close((char)ppuVar4[-0x1d9e], (char)param_2, uVar10, uVar12, uVar14, uVar16, (char)param_7,
			    (char)param_8, in_stack_ffffffc8);
		}
	}
	return;
}

void FUN_100250d0(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	gmenu_on_mouse_move(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void diablo_pause_game(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined4 in_stack_ffffffc8;

	puVar2 = PTR_DAT_100f1a00;
	puVar1 = PTR_DAT_100f17e0;
	ppuVar3 = &toc;
	if ((byte)*PTR_DAT_100f17e0 < 2) {
		if (*(int *)PTR_DAT_100f1a00 == 0) {
			*(undefined4 *)PTR_DAT_100f1a00 = 2;
			ppuVar3 = &toc;
			FreeMonsterSnd((char)puVar1, (char)puVar2, param_3, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffc8);
			track_repeat_walk(0);
		} else {
			*(undefined4 *)PTR_DAT_100f1a00 = 0;
		}
		*(undefined4 *)ppuVar3[-0x1daf] = 0xff;
	}
	return;
}

void FUN_10025168(int param_1, int param_2, int param_3, int param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	strcpy(param_1, (int)s_I_need_help__Come_Here__100f6b90);
	strcpy(param_2, (int)s_Follow_me__100f6be0);
	strcpy(param_3, (int)s_Here_s_something_for_you__100f6c30);
	strcpy(param_4, (int)s_Now_you_DIE__100f6c80);
	return;
}

void FUN_100251e0(int param_1, int param_2, int param_3, int param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	strncpy((int)s_I_need_help__Come_Here__100f6b90, param_1, 0x4f);
	uRam100f6bdf = 0;
	strncpy((int)s_Follow_me__100f6be0, param_2, 0x4f);
	uRam100f6c2f = 0;
	strncpy((int)s_Here_s_something_for_you__100f6c30, param_3, 0x4f);
	uRam100f6c7f = 0;
	strncpy((int)s_Now_you_DIE__100f6c80, param_4, 0x4f);
	uRam100f6ccf = 0;
	return;
}

void diablo_hotkey_msg(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffff78;
	undefined auStack88[88];

	if (*PTR_DAT_100f17e0 != '\x01') {
		strcpy((int)auStack88, (int)(s_I_need_help__Come_Here__100f6b90 + param_1 * 0x50));
		NetSendCmdString(0xffffffff, (uint)auStack88, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffff78);
	}
	return;
}

undefined8
FUN_100252b8(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	ulonglong uVar1;
	undefined8 uVar2;
	undefined4 in_stack_ffffffc8;

	uVar1 = gmenu_exception();
	if ((int)uVar1 == 0) {
		if (param_1 == 0x79) {
			diablo_hotkey_msg(1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
			uVar2 = 1;
		} else {
			uVar2 = 0;
		}
	} else {
		uVar2 = 0;
	}
	return uVar2;
}

void FUN_10025310(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined param_9, undefined param_10, undefined4 param_11)

{
	return;
}

ulonglong PressEscKey(undefined8 param_1, undefined8 param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	ulonglong uVar6;
	undefined8 uVar7;
	ulonglong uVar8;
	undefined7 uVar9;
	undefined uVar10;
	undefined7 uVar11;
	undefined uVar12;
	undefined7 uVar13;
	undefined uVar14;
	undefined uVar15;
	undefined uVar16;
	undefined uVar17;
	undefined4 in_stack_ffffffb8;

	puVar4 = PTR_DAT_100f19fc;
	puVar3 = PTR_DAT_100f1918;
	puVar2 = PTR_DAT_100f18a0;
	uVar13 = (undefined7)((ulonglong)param_5 >> 8);
	uVar14 = (undefined)param_5;
	uVar11 = (undefined7)((ulonglong)param_4 >> 8);
	uVar12 = (undefined)param_4;
	uVar9 = (undefined7)(param_3 >> 8);
	uVar10 = (undefined)param_3;
	ppuVar5 = &toc;
	uVar8 = ZEXT48(PTR_DAT_100f1958);
	iVar1 = *(int *)PTR_DAT_100f1958;
	if (iVar1 != 0) {
		ppuVar5 = &toc;
		doom_close(0, (char)PTR_DAT_100f1958, uVar10, uVar12, uVar14, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffffb8);
	}
	uVar17 = (undefined)param_8;
	uVar16 = (undefined)param_7;
	uVar15 = (undefined)param_6;
	uVar6 = (ulonglong)(iVar1 != 0);
	if (*(int *)puVar4 != 0) {
		*(undefined4 *)puVar4 = 0;
		uVar6 = 1;
	}
	if (*puVar2 == '\0') {
		if (*ppuVar5[-0x1dd9] != '\0') {
			STextESC();
			uVar6 = 1;
		}
	} else {
		*puVar2 = 0;
		uVar7 = sfx_stop((char)uVar6, (char)uVar8, uVar10, uVar12, uVar14, uVar15, uVar16, uVar17,
		    in_stack_ffffffb8);
		uVar17 = (undefined)param_8;
		uVar16 = (undefined)param_7;
		uVar15 = (undefined)param_6;
		music_stop2(uVar7, uVar8, CONCAT71(uVar9, uVar10), CONCAT71(uVar11, uVar12), CONCAT71(uVar13, uVar14),
		    param_6, param_7, param_8, in_stack_ffffffb8);
		uVar6 = 1;
	}
	if (*ppuVar5[-0x1d76] != '\0') {
		uVar6 = 1;
		*ppuVar5[-0x1d77] = 0;
	}
	if (*(int *)ppuVar5[-0x1db4] != 0) {
		control_reset_talk();
		uVar6 = 1;
	}
	if (*(int *)ppuVar5[-0x1dc1] != 0) {
		control_drop_gold('\x1b', (char)ppuVar5[-0x1dc1], uVar10, uVar12, uVar14, uVar15, uVar16, uVar17,
		    in_stack_ffffffb8);
		uVar6 = 1;
	}
	if (*(int *)puVar3 != 0) {
		*(undefined4 *)puVar3 = 0;
		uVar6 = 1;
	}
	return uVar6;
}

void FUN_10025434(int param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int iVar1;
	undefined uVar2;
	bool bVar3;
	bool bVar4;
	bool bVar5;
	undefined in_stack_ffffffbb;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	bVar4 = true;
	iVar1 = *(int *)PTR_DAT_100f1928;
	if ((*(int *)PTR_DAT_100f180c == 0) && (*(int *)PTR_DAT_100f1808 == 0)) {
		bVar4 = false;
	}
	bVar3 = true;
	if ((*(int *)PTR_DAT_100f1814 == 0) && (*(int *)PTR_DAT_100f1810 == 0)) {
		bVar3 = false;
	}
	if ((((!bVar4) && (!bVar3)) && (*(int *)PTR_DAT_100f1924 < 0x160)) && ((0xa0 < iVar1 && (iVar1 < 0x1e0)))) {
		uVar2 = (undefined) * (int *)PTR_DAT_100f1924;
		bVar5 = bVar4;
		if (param_1 != 0) {
			bVar5 = bVar4;
			SetCursorPos((char)iVar1 + -0x60, uVar2, bVar3, bVar4, bVar4, param_6, param_7, param_8,
			    in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
		}
		if (param_2 != 0) {
			SetCursorPos((char)iVar1 + '`', uVar2, bVar3, bVar4, bVar5, param_6, param_7, param_8,
			    in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
		}
	}
	return;
}

void SetCursorPos_wrapper(int param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int iVar1;
	bool bVar2;
	bool bVar3;
	undefined uVar4;
	char cVar5;
	undefined uVar6;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	iVar1 = *(int *)PTR_DAT_100f1928;
	if (*(int *)PTR_DAT_100f1924 < 0x160) {
		bVar3 = true;
		if ((*(int *)PTR_DAT_100f180c == 0) && (*(int *)PTR_DAT_100f1808 == 0)) {
			bVar3 = false;
		}
		uVar4 = SUB41(PTR_DAT_100f1814, 0);
		bVar2 = true;
		if ((*(int *)PTR_DAT_100f1814 == 0) && (uVar4 = SUB41(PTR_DAT_100f1810, 0), *(int *)PTR_DAT_100f1810 == 0)) {
			bVar2 = false;
		}
		cVar5 = (char)iVar1;
		uVar6 = (undefined) * (int *)PTR_DAT_100f1924;
		if (((param_1 == 0) || (bVar2)) || (iVar1 < 0x141)) {
			if (((param_2 != 0) && (!bVar3)) && (iVar1 < 0x140)) {
				SetCursorPos(cVar5 + -0x60, uVar6, uVar4, bVar2, cVar5, uVar6, bVar3, param_8, in_stack_ffffffcb,
				    in_stack_ffffffcf, local_2c);
			}
		} else {
			SetCursorPos(cVar5 + '`', uVar6, uVar4, bVar2, cVar5, uVar6, bVar3, param_8, in_stack_ffffffcb,
			    in_stack_ffffffcf, local_2c);
		}
	}
	return;
}

undefined8
PressKey(undefined8 param_1, undefined8 param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	uint uVar3;
	uint uVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	int iVar9;
	ulonglong uVar10;
	undefined8 uVar11;
	int iVar12;
	undefined uVar13;
	undefined uVar14;
	undefined uVar15;
	undefined uVar16;
	undefined uVar17;
	undefined uVar18;
	undefined uVar19;
	undefined4 in_stack_ffffffb8;

	puVar8 = PTR_DAT_100f1814;
	puVar7 = PTR_DAT_100f1810;
	puVar6 = PTR_DAT_100f180c;
	puVar5 = PTR_DAT_100f1808;
	uVar16 = (undefined)param_5;
	uVar19 = (undefined)param_8;
	uVar18 = (undefined)param_7;
	uVar17 = (undefined)param_6;
	uVar10 = PressEscKey(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	if ((int)uVar10 == 0) {
		uVar1 = *(uint *)puVar8;
		iVar12 = 1;
		uVar2 = *(uint *)puVar6;
		uVar14 = (undefined)uVar2;
		uVar3 = *(uint *)puVar7;
		uVar4 = *(uint *)puVar5;
		uVar15 = (undefined)uVar4;
		if ((uVar1 == 0) && (uVar3 == 0)) {
			iVar12 = 0;
		}
		iVar9 = 1;
		if ((uVar2 == 0) && (uVar4 == 0)) {
			iVar9 = 0;
		}
		uVar13 = (undefined)iVar12;
		SetCursorPos_wrapper(iVar9, iVar12, uVar14, uVar15, uVar16, uVar17, uVar18, uVar19, in_stack_ffffffb8);
		*(undefined4 *)puVar8 = 0;
		*(undefined4 *)puVar6 = 0;
		*(undefined4 *)puVar7 = 0;
		*(undefined4 *)puVar5 = 0;
		if ((uVar4 | uVar3 | uVar1 | uVar2) == 0) {
			uVar10 = gmenu_exception();
			if ((int)uVar10 == 0) {
				uVar11 = 0;
			} else {
				gamemenu_off((char)uVar10, uVar13, uVar14, uVar15, uVar16, uVar17, uVar18, uVar19, in_stack_ffffffb8);
				uVar11 = 1;
			}
		} else {
			uVar11 = 1;
		}
	} else {
		uVar11 = 1;
	}
	return uVar11;
}

void PressKey(ulonglong param_1, undefined8 param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int *piVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined *puVar12;
	undefined *puVar13;
	uint uVar16;
	undefined8 uVar14;
	ulonglong uVar15;
	ulonglong extraout_r3;
	ulonglong extraout_r3_00;
	ulonglong extraout_r3_01;
	ulonglong extraout_r3_02;
	undefined uVar17;
	undefined uVar18;
	undefined7 uVar19;
	undefined uVar20;
	undefined7 uVar21;
	undefined uVar22;
	undefined7 uVar23;
	undefined uVar24;
	undefined uVar25;
	undefined uVar26;
	undefined uVar27;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	int local_5c;

	puVar13 = PTR_DAT_100f19fc;
	puVar12 = PTR_DAT_100f19f4;
	puVar11 = PTR_DAT_100f1918;
	puVar10 = PTR_DAT_100f1900;
	puVar9 = PTR_DAT_100f18a0;
	puVar8 = PTR_DAT_100f186c;
	puVar7 = PTR_DAT_100f1858;
	puVar6 = PTR_DAT_100f183c;
	puVar5 = PTR_DAT_100f1814;
	puVar4 = PTR_DAT_100f1810;
	puVar3 = PTR_DAT_100f180c;
	puVar2 = PTR_DAT_100f1808;
	uVar23 = (undefined7)((ulonglong)param_5 >> 8);
	uVar24 = (undefined)param_5;
	uVar21 = (undefined7)((ulonglong)param_4 >> 8);
	uVar22 = (undefined)param_4;
	uVar19 = (undefined7)(param_3 >> 8);
	uVar20 = (undefined)param_3;
	uVar16 = GetKeyState(0x11, (char)param_2, uVar20, uVar22, uVar24, (char)param_6, (char)param_7,
	    (char)param_8, (char)in_stack_ffffff98, in_stack_ffffff9f, local_5c);
	if ((uVar16 & 0x8000) != 0) {
		uVar14._4_4_ = (int)param_1;
		if (uVar14._4_4_ == 0x37) {
			param_1 = 0x76;
		} else {
			if (uVar14._4_4_ < 0x37) {
				if (uVar14._4_4_ == 0x33) {
					param_1 = 0x72;
				} else {
					if (uVar14._4_4_ < 0x33) {
						if (uVar14._4_4_ == 0x31) {
							param_1 = 0x70;
						} else {
							if (uVar14._4_4_ < 0x31) {
								if (0x2f < uVar14._4_4_) {
									param_1 = 0x79;
								}
							} else {
								param_1 = 0x71;
							}
						}
					} else {
						if (uVar14._4_4_ == 0x35) {
							param_1 = 0x74;
						} else {
							if (uVar14._4_4_ < 0x35) {
								param_1 = 0x73;
							} else {
								param_1 = 0x75;
							}
						}
					}
				}
			} else {
				if (uVar14._4_4_ == 0xbb) {
					param_1 = 0x7b;
				} else {
					if (uVar14._4_4_ < 0xbb) {
						if (uVar14._4_4_ == 0x39) {
							param_1 = 0x78;
						} else {
							if (uVar14._4_4_ < 0x39) {
								param_1 = 0x77;
							}
						}
					} else {
						if (uVar14._4_4_ == 0xbd) {
							param_1 = 0x7a;
						}
					}
				}
			}
		}
	}
	uVar14._4_4_ = (int)param_1;
	uVar14 = gmenu_presskeys(uVar14._4_4_, (char)param_2, uVar20, uVar22, uVar24, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffff98);
	if ((int)uVar14 != 0) {
		return;
	}
	uVar14 = control_presskeys(param_1, param_2, CONCAT71(uVar19, uVar20), CONCAT71(uVar21, uVar22),
	    CONCAT71(uVar23, uVar24), param_6, param_7, param_8, in_stack_ffffff98);
	if ((int)uVar14 != 0) {
		return;
	}
	uVar15 = ZEXT48(*(int **)(local_5c + -0x75cc));
	if (**(int **)(local_5c + -0x75cc) != 0) {
		if (*(int *)(local_5c + -0x4f54) != 0) {
			return;
		}
		if ((param_1 & 0xffffffff) == 0x78) {
			diablo_hotkey_msg(0, param_2, CONCAT71(uVar19, uVar20), CONCAT71(uVar21, uVar22), CONCAT71(uVar23, uVar24), param_6, param_7, param_8, in_stack_ffffff98);
			uVar15 = extraout_r3;
		}
		if ((param_1 & 0xffffffff) == 0x79) {
			diablo_hotkey_msg(1, param_2, CONCAT71(uVar19, uVar20), CONCAT71(uVar21, uVar22), CONCAT71(uVar23, uVar24), param_6, param_7, param_8, in_stack_ffffff98);
			uVar15 = extraout_r3_00;
		}
		if ((param_1 & 0xffffffff) == 0x7a) {
			diablo_hotkey_msg(2, param_2, CONCAT71(uVar19, uVar20), CONCAT71(uVar21, uVar22), CONCAT71(uVar23, uVar24), param_6, param_7, param_8, in_stack_ffffff98);
			uVar15 = extraout_r3_01;
		}
		if ((param_1 & 0xffffffff) == 0x7b) {
			diablo_hotkey_msg(3, param_2, CONCAT71(uVar19, uVar20), CONCAT71(uVar21, uVar22), CONCAT71(uVar23, uVar24), param_6, param_7, param_8, in_stack_ffffff98);
			uVar15 = extraout_r3_02;
		}
		if ((param_1 & 0xffffffff) == 0xd) {
			uVar15 = control_type_message();
		}
		if ((param_1 & 0xffffffff) != 0x1b) {
			return;
		}
	}
	uVar18 = (undefined)param_2;
	uVar27 = (undefined)param_8;
	uVar26 = (undefined)param_7;
	uVar25 = (undefined)param_6;
	if ((param_1 & 0xffffffff) == 0x1b) {
		uVar14 = PressKey(uVar15, param_2, CONCAT71(uVar19, uVar20), CONCAT71(uVar21, uVar22),
		    CONCAT71(uVar23, uVar24), param_6, param_7, param_8, in_stack_ffffff98);
		if ((int)uVar14 == 0) {
			track_repeat_walk(0);
			gamemenu_previous(0, param_2, CONCAT71(uVar19, uVar20), CONCAT71(uVar21, uVar22), CONCAT71(uVar23, uVar24), param_6, param_7, param_8, in_stack_ffffff98);
		}
	} else {
		if ((*(int *)(local_5c + -0x4f54) == 0) && (**(int **)(local_5c + -0x7704) == 0)) {
			if ((param_1 & 0xffffffff) == 0x13) {
				diablo_pause_game((char)*(int **)(local_5c + -0x7704), uVar18, uVar20, uVar22, uVar24, uVar25, uVar26,
				    uVar27, in_stack_ffffff98);
			} else {
				piVar1 = *(int **)(local_5c + -0x75d0);
				if (*piVar1 != 2) {
					if ((param_1 & 0xffffffff) == 0xd) {
						if (*puVar8 == '\0') {
							if (*(int *)puVar2 == 0) {
								control_type_message();
							} else {
								QuestlogEnter();
							}
						} else {
							STextEnter(ZEXT48(piVar1), param_2, CONCAT71(uVar19, uVar20), CONCAT71(uVar21, uVar22),
							    CONCAT71(uVar23, uVar24), param_6, param_7, param_8, in_stack_ffffff98);
						}
					} else {
						if (*(int *)(local_5c + -0x4f58) != 0) {
							if (uVar14._4_4_ == 0x72) {
								param_1 = 0x76;
							} else {
								if (uVar14._4_4_ < 0x72) {
									if (uVar14._4_4_ == 0x70) {
										param_1 = 0x74;
									} else {
										if (0x6f < uVar14._4_4_) {
											param_1 = 0x75;
										}
									}
								} else {
									if (uVar14._4_4_ < 0x74) {
										param_1 = 0x77;
									}
								}
							}
						}
						if (((param_1 & 0xffffffff) == 0x70) || ((param_1 & 0xffffffff) == 0x2d)) {
							if (*(int *)puVar13 == 0) {
								if (*puVar8 == '\0') {
									uVar17 = 0;
									*(undefined4 *)puVar5 = 0;
									*(undefined4 *)puVar3 = 0;
									*(undefined4 *)puVar4 = 0;
									*(undefined4 *)puVar11 = 0;
									if ((*puVar9 != '\0') && (*puVar6 == '\0')) {
										*puVar9 = 0;
										uVar14 = sfx_stop(0, uVar18, uVar20, uVar22, uVar24, uVar25, uVar26, uVar27,
										    in_stack_ffffff98);
										uVar27 = (undefined)param_8;
										uVar26 = (undefined)param_7;
										uVar25 = (undefined)param_6;
										uVar18 = (undefined)param_2;
										uVar17 = music_stop2(uVar14, param_2, CONCAT71(uVar19, uVar20),
										    CONCAT71(uVar21, uVar22), CONCAT71(uVar23, uVar24), param_6,
										    param_7, param_8, in_stack_ffffff98);
									}
									*(undefined4 *)puVar2 = 0;
									*(undefined4 *)puVar7 = 0;
									*puVar12 = 0;
									gamemenu_off(uVar17, uVar18, uVar20, uVar22, uVar24, uVar25, uVar26, uVar27,
									    in_stack_ffffff98);
									uVar17 = FUN_10043f98();
									doom_close(uVar17, uVar18, uVar20, uVar22, uVar24, uVar25, uVar26, uVar27,
									    in_stack_ffffff98);
								} else {
									ClearPanel();
									AddPanelString(*(int *)(local_5c + -0x63f0), 1, uVar20, uVar22, uVar24, uVar25, uVar26,
									    uVar27, in_stack_ffffff98);
									AddPanelString(*(int *)(local_5c + -0x63f4), 1, uVar20, uVar22, uVar24, uVar25, uVar26,
									    uVar27, in_stack_ffffff98);
									track_repeat_walk(0);
								}
							} else {
								*(undefined4 *)puVar13 = 0;
							}
						} else {
							if ((param_1 & 0xffffffff) == 0x74) {
								if (*(int *)puVar11 == 0) {
									ToggleSpell(0, uVar18, uVar20, uVar22, uVar24, uVar25, uVar26, uVar27, in_stack_ffffff98);
								} else {
									SetSpeedSpell(0);
								}
							} else {
								if ((param_1 & 0xffffffff) == 0x75) {
									if (*(int *)puVar11 == 0) {
										ToggleSpell(1, uVar18, uVar20, uVar22, uVar24, uVar25, uVar26, uVar27,
										    in_stack_ffffff98);
									} else {
										SetSpeedSpell(1);
									}
								} else {
									if ((param_1 & 0xffffffff) == 0x76) {
										if (*(int *)puVar11 == 0) {
											ToggleSpell(2, uVar18, uVar20, uVar22, uVar24, uVar25, uVar26, uVar27,
											    in_stack_ffffff98);
										} else {
											SetSpeedSpell(2);
										}
									} else {
										if ((param_1 & 0xffffffff) == 0x77) {
											if (*(int *)puVar11 == 0) {
												ToggleSpell(3, uVar18, uVar20, uVar22, uVar24, uVar25, uVar26, uVar27,
												    in_stack_ffffff98);
											} else {
												SetSpeedSpell(3);
											}
										} else {
											if ((param_1 & 0xffffffff) == 0x78) {
												diablo_hotkey_msg(0, param_2, CONCAT71(uVar19, uVar20), CONCAT71(uVar21, uVar22),
												    CONCAT71(uVar23, uVar24), param_6, param_7, param_8,
												    in_stack_ffffff98);
											} else {
												if ((param_1 & 0xffffffff) == 0x79) {
													diablo_hotkey_msg(1, param_2, CONCAT71(uVar19, uVar20), CONCAT71(uVar21, uVar22),
													    CONCAT71(uVar23, uVar24), param_6, param_7, param_8,
													    in_stack_ffffff98);
												} else {
													if ((param_1 & 0xffffffff) == 0x7a) {
														diablo_hotkey_msg(2, param_2, CONCAT71(uVar19, uVar20), CONCAT71(uVar21, uVar22),
														    CONCAT71(uVar23, uVar24), param_6, param_7, param_8,
														    in_stack_ffffff98);
													} else {
														if ((param_1 & 0xffffffff) == 0x7b) {
															diablo_hotkey_msg(3, param_2, CONCAT71(uVar19, uVar20), CONCAT71(uVar21, uVar22), CONCAT71(uVar23, uVar24), param_6, param_7, param_8,
															    in_stack_ffffff98);
														} else {
															uVar17 = SUB41(piVar1, 0);
															if ((param_1 & 0xffffffff) == 0x26) {
																if (*puVar8 == '\0') {
																	if (*(int *)puVar2 == 0) {
																		if (*(int *)puVar13 == 0) {
																			if (*(int *)puVar7 != 0) {
																				AutomapUp();
																			}
																		} else {
																			HelpScrollUp();
																		}
																	} else {
																		QuestlogUp(uVar17, uVar18, uVar20, uVar22, uVar24, uVar25, uVar26,
																		    uVar27, in_stack_ffffff98);
																	}
																} else {
																	STextUp(uVar17, uVar18, uVar20, uVar22, uVar24, uVar25, uVar26,
																	    uVar27, in_stack_ffffff98);
																}
															} else {
																if ((param_1 & 0xffffffff) == 0x28) {
																	if (*puVar8 == '\0') {
																		if (*(int *)puVar2 == 0) {
																			if (*(int *)puVar13 == 0) {
																				if (*(int *)puVar7 != 0) {
																					AutomapDown();
																				}
																			} else {
																				HelpScrollDown();
																			}
																		} else {
																			QuestlogDown(uVar17, uVar18, uVar20, uVar22, uVar24, uVar25, uVar26,
																			    uVar27, in_stack_ffffff98);
																		}
																	} else {
																		STextDown(uVar17, uVar18, uVar20, uVar22, uVar24, uVar25, uVar26,
																		    uVar27, in_stack_ffffff98);
																	}
																} else {
																	if ((param_1 & 0xffffffff) == 0x21) {
																		if (*puVar8 != '\0') {
																			STextPrior(uVar17, uVar18, uVar20, uVar22, uVar24, uVar25, uVar26,
																			    uVar27, in_stack_ffffff98);
																		}
																	} else {
																		if ((param_1 & 0xffffffff) == 0x22) {
																			if (*puVar8 != '\0') {
																				STextNext(uVar17, uVar18, uVar20, uVar22, uVar24, uVar25,
																				    uVar26, uVar27, in_stack_ffffff98);
																			}
																		} else {
																			if ((param_1 & 0xffffffff) == 0x25) {
																				if ((*(int *)puVar7 != 0) && (*(int *)puVar10 == 0)) {
																					AutomapLeft();
																				}
																			} else {
																				if ((param_1 & 0xffffffff) == 0x27) {
																					if ((*(int *)puVar7 != 0) && (*(int *)puVar10 == 0)) {
																						AutomapRight();
																					}
																				} else {
																					if ((param_1 & 0xffffffff) == 9) {
																						DoAutoMap(uVar17, uVar18, uVar20, uVar22, uVar24, uVar25,
																						    uVar26, uVar27, in_stack_ffffff98);
																					} else {
																						if ((param_1 & 0xffffffff) == 0x20) {
																							uVar16 = 1;
																							if ((*(int *)puVar5 == 0) && (*(int *)puVar4 == 0)) {
																								uVar16 = 0;
																							}
																							uVar14._4_4_ = 1;
																							if ((*(int *)puVar3 == 0) && (*(int *)puVar2 == 0)) {
																								uVar14._4_4_ = 0;
																							}
																							uVar15 = (ulonglong)uVar16;
																							SetCursorPos_wrapper(uVar14._4_4_, uVar16, uVar20, uVar22, uVar24,
																							    uVar25, uVar26, uVar27, in_stack_ffffff98);
																							uVar17 = (undefined)param_8;
																							uVar27 = (undefined)param_7;
																							uVar26 = (undefined)param_6;
																							uVar25 = (undefined)uVar15;
																							uVar18 = 0;
																							*(undefined4 *)puVar13 = 0;
																							*(undefined4 *)puVar5 = 0;
																							*(undefined4 *)puVar3 = 0;
																							*(undefined4 *)puVar4 = 0;
																							*(undefined4 *)puVar11 = 0;
																							if ((*puVar9 != '\0') && (*puVar6 == '\0')) {
																								*puVar9 = 0;
																								uVar14 = sfx_stop(0, uVar25, uVar20, uVar22, uVar24,
																								    uVar26, uVar27, uVar17,
																								    in_stack_ffffff98);
																								uVar17 = (undefined)param_8;
																								uVar27 = (undefined)param_7;
																								uVar26 = (undefined)param_6;
																								uVar25 = (undefined)uVar15;
																								uVar18 = music_stop2(uVar14, uVar15,
																								    CONCAT71(uVar19, uVar20),
																								    CONCAT71(uVar21, uVar22),
																								    CONCAT71(uVar23, uVar24),
																								    param_6, param_7, param_8,
																								    in_stack_ffffff98);
																							}
																							*(undefined4 *)puVar2 = 0;
																							*(undefined4 *)puVar7 = 0;
																							*puVar12 = 0;
																							uVar18 = gamemenu_off(uVar18, uVar25, uVar20, uVar22,
																							    uVar24, uVar26, uVar27, uVar17,
																							    in_stack_ffffff98);
																							doom_close(uVar18, uVar25, uVar20, uVar22, uVar24, uVar26, uVar27, uVar17, in_stack_ffffff98);
																						}
																					}
																				}
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	return;
}

void PressChar(ulonglong param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined **ppuVar2;
	ulonglong uVar3;
	undefined8 uVar4;
	undefined uVar5;
	char cVar6;
	undefined4 in_stack_ffffff98;

	puVar1 = PTR_DAT_100f18cc;
	ppuVar2 = &toc;
	uVar3 = gmenu_exception();
	if (((((int)uVar3 == 0) && (uVar4 = control_talk_last_key(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff98), (int)uVar4 == 0)) && (ppuVar2[-0x13d5] == (undefined *)0x0)) && (*(int *)ppuVar2[-0x1d73] == 0)) {
		cVar6 = (char)param_1;
		if ((cVar6 == 'p') || (cVar6 == 'P')) {
			diablo_pause_game(cVar6, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff98);
		} else {
			if (*(int *)ppuVar2[-0x1d74] != 2) {
				uVar5 = SUB41(ppuVar2[-0x1d9e], 0);
				if (*(int *)ppuVar2[-0x1d9e] == 0) {
					if (*(int *)puVar1 == 0) {
						if ((param_1 - 0x21 & 0xffffffff) < 0x5a) {
							// WARNING: Could not recover jumptable at 0x10025e30. Too many branches
							// WARNING: Treating indirect jump as call
							(*(code *)ppuVar2[(int)(param_1 - 0x21) + -0x8be])();
							return;
						}
					} else {
						control_drop_gold(cVar6, uVar5, param_3, param_4, param_5, param_6, param_7, param_8,
						    in_stack_ffffff98);
					}
				} else {
					doom_close(cVar6, uVar5, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff98);
				}
			}
		}
	}
	return;
}

// WARNING: Removing unreachable block (ram,0x100267c0)

void LoadLvlGFX(undefined8 param_1, longlong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	byte bVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined **ppuVar7;
	longlong lVar8;
	undefined8 uVar9;
	undefined7 uVar10;
	undefined uVar11;
	undefined7 uVar12;
	undefined uVar13;
	undefined7 uVar14;
	undefined uVar15;
	ulonglong uVar16;
	ulonglong uVar17;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar6 = PTR_DAT_100f1a68;
	puVar5 = PTR_DAT_100f1a64;
	puVar4 = PTR_DAT_100f1a60;
	puVar3 = PTR_DAT_100f1a5c;
	puVar2 = PTR_DAT_100f19e8;
	uVar14 = (undefined7)((ulonglong)param_5 >> 8);
	uVar15 = (undefined)param_5;
	uVar12 = (undefined7)((ulonglong)param_4 >> 8);
	uVar13 = (undefined)param_4;
	uVar10 = (undefined7)((ulonglong)param_3 >> 8);
	uVar11 = (undefined)param_3;
	ppuVar7 = &toc;
	uVar16 = ZEXT48(PTR_s_Levels_L2Data_L2S_CEL_100f2ba8);
	uVar17 = ZEXT48(PTR_s_Levels_L1Data_L1S_CEL_100f2bb8);
	if (*(int *)PTR_DAT_100f1a68 != 0) {
		ppuVar7 = &toc;
		FUN_100b9100(*(int *)PTR_DAT_100f1a68, (char)param_2, uVar11, uVar13, uVar15, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffffa8);
		mem_free_dbg((int **)puVar6, (char)param_2, uVar11, uVar13, uVar15, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffffa8);
	}
	bVar1 = *ppuVar7[-0x1de5];
	if (bVar1 == 2) {
		uVar9 = 0;
		lVar8 = LoadFileInMem(ZEXT48(ppuVar7[-0x1907]), (undefined4 *)0x0, CONCAT71(uVar10, uVar11),
		    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), param_6, param_7, param_8,
		    in_stack_ffffffa8);
		*(int *)puVar6 = (int)lVar8;
		uVar17 = FUN_100b8f7c((ulonglong) * (uint *)puVar6, uVar9, CONCAT71(uVar10, uVar11),
		    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), param_6, param_7, param_8,
		    in_stack_ffffffa8);
		*(int *)puVar2 = (int)uVar17;
		lVar8 = LoadFileInMem(ZEXT48(ppuVar7[-0x1908]), (undefined4 *)0x0, CONCAT71(uVar10, uVar11),
		    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), param_6, param_7, param_8,
		    in_stack_ffffffa8);
		*(int *)puVar5 = (int)lVar8;
		lVar8 = LoadFileInMem(ZEXT48(ppuVar7[-0x1909]), (undefined4 *)0x0, CONCAT71(uVar10, uVar11),
		    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), param_6, param_7, param_8,
		    in_stack_ffffffa8);
		*(int *)puVar4 = (int)lVar8;
		lVar8 = LoadFileInMem(uVar16, (undefined4 *)0x0, CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13),
		    CONCAT71(uVar14, uVar15), param_6, param_7, param_8, in_stack_ffffffa8);
		*(int *)puVar3 = (int)lVar8;
	} else {
		if (bVar1 < 2) {
			if (bVar1 == 0) {
				uVar9 = 0;
				lVar8 = LoadFileInMem(ZEXT48(ppuVar7[-0x18ff]), (undefined4 *)0x0, CONCAT71(uVar10, uVar11),
				    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), param_6, param_7, param_8, in_stack_ffffffa8);
				*(int *)puVar6 = (int)lVar8;
				uVar16 = FUN_100b8f7c((ulonglong) * (uint *)puVar6, uVar9, CONCAT71(uVar10, uVar11),
				    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), param_6, param_7,
				    param_8, in_stack_ffffffa8);
				*(int *)puVar2 = (int)uVar16;
				lVar8 = LoadFileInMem(ZEXT48(ppuVar7[-0x1900]), (undefined4 *)0x0, CONCAT71(uVar10, uVar11),
				    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), param_6, param_7, param_8, in_stack_ffffffa8);
				*(int *)puVar5 = (int)lVar8;
				lVar8 = LoadFileInMem(ZEXT48(ppuVar7[-0x1901]), (undefined4 *)0x0, CONCAT71(uVar10, uVar11),
				    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), param_6, param_7, param_8, in_stack_ffffffa8);
				*(int *)puVar4 = (int)lVar8;
				lVar8 = LoadFileInMem(ZEXT48(ppuVar7[-0x1902]), (undefined4 *)0x0, CONCAT71(uVar10, uVar11),
				    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), param_6, param_7, param_8, in_stack_ffffffa8);
				*(int *)puVar3 = (int)lVar8;
			} else {
				uVar9 = 0;
				lVar8 = LoadFileInMem(ZEXT48(ppuVar7[-0x1903]), (undefined4 *)0x0, CONCAT71(uVar10, uVar11),
				    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), param_6, param_7, param_8, in_stack_ffffffa8);
				*(int *)puVar6 = (int)lVar8;
				uVar16 = FUN_100b8f7c((ulonglong) * (uint *)puVar6, uVar9, CONCAT71(uVar10, uVar11),
				    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), param_6, param_7,
				    param_8, in_stack_ffffffa8);
				*(int *)puVar2 = (int)uVar16;
				lVar8 = LoadFileInMem(ZEXT48(ppuVar7[-0x1904]), (undefined4 *)0x0, CONCAT71(uVar10, uVar11),
				    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), param_6, param_7, param_8, in_stack_ffffffa8);
				*(int *)puVar5 = (int)lVar8;
				lVar8 = LoadFileInMem(ZEXT48(ppuVar7[-0x1905]), (undefined4 *)0x0, CONCAT71(uVar10, uVar11),
				    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), param_6, param_7, param_8, in_stack_ffffffa8);
				*(int *)puVar4 = (int)lVar8;
				lVar8 = LoadFileInMem(uVar17, (undefined4 *)0x0, CONCAT71(uVar10, uVar11),
				    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), param_6, param_7, param_8, in_stack_ffffffa8);
				*(int *)puVar3 = (int)lVar8;
			}
		} else {
			if (bVar1 == 4) {
				uVar9 = 0;
				lVar8 = LoadFileInMem(ZEXT48(ppuVar7[-0x190e]), (undefined4 *)0x0, CONCAT71(uVar10, uVar11),
				    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), param_6, param_7, param_8, in_stack_ffffffa8);
				*(int *)puVar6 = (int)lVar8;
				uVar17 = FUN_100b8f7c((ulonglong) * (uint *)puVar6, uVar9, CONCAT71(uVar10, uVar11),
				    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), param_6, param_7,
				    param_8, in_stack_ffffffa8);
				*(int *)puVar2 = (int)uVar17;
				lVar8 = LoadFileInMem(ZEXT48(ppuVar7[-0x190f]), (undefined4 *)0x0, CONCAT71(uVar10, uVar11),
				    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), param_6, param_7, param_8, in_stack_ffffffa8);
				*(int *)puVar5 = (int)lVar8;
				lVar8 = LoadFileInMem(ZEXT48(ppuVar7[-0x1910]), (undefined4 *)0x0, CONCAT71(uVar10, uVar11),
				    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), param_6, param_7, param_8, in_stack_ffffffa8);
				*(int *)puVar4 = (int)lVar8;
				lVar8 = LoadFileInMem(uVar16, (undefined4 *)0x0, CONCAT71(uVar10, uVar11),
				    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), param_6, param_7, param_8, in_stack_ffffffa8);
				*(int *)puVar3 = (int)lVar8;
			} else {
				if (bVar1 < 4) {
					uVar9 = 0;
					lVar8 = LoadFileInMem(ZEXT48(ppuVar7[-0x190b]), (undefined4 *)0x0, CONCAT71(uVar10, uVar11),
					    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), param_6, param_7,
					    param_8, in_stack_ffffffa8);
					*(int *)puVar6 = (int)lVar8;
					uVar16 = FUN_100b8f7c((ulonglong) * (uint *)puVar6, uVar9, CONCAT71(uVar10, uVar11),
					    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), param_6, param_7,
					    param_8, in_stack_ffffffa8);
					*(int *)puVar2 = (int)uVar16;
					lVar8 = LoadFileInMem(ZEXT48(ppuVar7[-0x190c]), (undefined4 *)0x0, CONCAT71(uVar10, uVar11),
					    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), param_6, param_7,
					    param_8, in_stack_ffffffa8);
					*(int *)puVar5 = (int)lVar8;
					lVar8 = LoadFileInMem(ZEXT48(ppuVar7[-0x190d]), (undefined4 *)0x0, CONCAT71(uVar10, uVar11),
					    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), param_6, param_7,
					    param_8, in_stack_ffffffa8);
					*(int *)puVar4 = (int)lVar8;
					lVar8 = LoadFileInMem(uVar17, (undefined4 *)0x0, CONCAT71(uVar10, uVar11),
					    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), param_6, param_7,
					    param_8, in_stack_ffffffa8);
					*(int *)puVar3 = (int)lVar8;
				} else {
					app_fatal((int)ppuVar7[-0x1911], param_2, CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), param_6, param_7, param_8, in_stack_ffffffa8,
					    in_stack_ffffffaf, in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0,
					    in_stack_ffffffc4, in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0,
					    in_stack_ffffffd4);
				}
			}
		}
	}
	return;
}

void LoadAllGFX(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined **ppuVar2;
	undefined4 uVar4;
	ulonglong uVar3;
	undefined uVar5;
	ulonglong uVar6;
	undefined uVar7;
	undefined7 uVar8;
	undefined uVar9;
	undefined7 uVar10;
	undefined uVar11;
	undefined7 uVar12;
	undefined uVar13;
	undefined uVar14;
	undefined uVar15;
	undefined uVar16;
	undefined4 in_stack_ffffffc8;

	uVar12 = (undefined7)((ulonglong)param_5 >> 8);
	uVar13 = (undefined)param_5;
	uVar10 = (undefined7)((ulonglong)param_4 >> 8);
	uVar11 = (undefined)param_4;
	uVar8 = (undefined7)((ulonglong)param_3 >> 8);
	uVar9 = (undefined)param_3;
	ppuVar2 = &toc;
	uVar4 = DiabloAllocPtr(0x100000);
	puVar1 = (undefined4 *)ppuVar2[-0x1d5e];
	uVar6 = ZEXT48(puVar1);
	*puVar1 = uVar4;
	uVar3 = IncProgress((char)uVar4, (char)puVar1, uVar9, uVar11, uVar13, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffffc8);
	IncProgress((char)uVar3, (char)uVar6, uVar9, uVar11, uVar13, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffc8);
	uVar5 = FUN_10081c44();
	uVar3 = IncProgress(uVar5, (char)uVar6, uVar9, uVar11, uVar13, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffffc8);
	uVar16 = (undefined)param_8;
	uVar15 = (undefined)param_7;
	uVar14 = (undefined)param_6;
	uVar7 = (undefined)uVar6;
	uVar5 = InitMissileGFX(uVar3, uVar6, CONCAT71(uVar8, uVar9), CONCAT71(uVar10, uVar11),
	    CONCAT71(uVar12, uVar13), param_6, param_7, param_8, in_stack_ffffffc8);
	IncProgress(uVar5, uVar7, uVar9, uVar11, uVar13, uVar14, uVar15, uVar16, in_stack_ffffffc8);
	return;
}

// WARNING: Removing unreachable block (ram,0x100269f8)

void CreateLevel(undefined8 uParm1)

{
	byte bVar1;
	ulonglong uVar2;
	int iVar3;
	ulonglong uVar4;
	ulonglong uVar5;
	longlong in_r7;
	undefined8 in_r8;
	undefined4 uVar6;
	undefined8 in_r9;
	undefined4 uVar7;
	undefined8 in_r10;
	undefined4 uVar8;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	uVar8 = (undefined4)in_r10;
	uVar7 = (undefined4)in_r9;
	uVar6 = (undefined4)in_r8;
	uVar2 = ZEXT48(PTR_DAT_100f183c);
	uVar5 = ZEXT48(PTR_DAT_100f17ec);
	uVar4 = ZEXT48(PTR_DAT_100f19e4);
	bVar1 = *PTR_DAT_100f183c;
	iVar3 = (int)uParm1;
	if (bVar1 == 2) {
		CreateL2Dungeon(*(undefined4 *)(PTR_DAT_100f19e4 + (uint)(byte)*PTR_DAT_100f17ec * 4), iVar3, uVar4,
		    uVar5, in_r7, in_r8, in_r9, uVar8, in_stack_ffffffc8);
		InitL2Triggers();
		Freeupstairs();
		LoadRndLvlPal(2, uParm1, uVar4, uVar5, in_r7, uVar6, uVar7, uVar8, in_stack_ffffffc8);
	} else {
		if (bVar1 < 2) {
			if (bVar1 == 0) {
				CreateTown();
				InitTownTriggers();
				LoadRndLvlPal(0, uVar2, uVar4, uVar5, in_r7, uVar6, uVar7, uVar8, in_stack_ffffffc8);
			} else {
				CreateL5Dungeon(*(undefined4 *)(PTR_DAT_100f19e4 + (uint)(byte)*PTR_DAT_100f17ec * 4), iVar3,
				    uVar4, uVar5, in_r7, in_r8, in_r9, in_r10, in_stack_ffffffc8);
				InitL1Triggers();
				Freeupstairs();
				LoadRndLvlPal(1, uParm1, uVar4, uVar5, in_r7, uVar6, uVar7, uVar8, in_stack_ffffffc8);
			}
		} else {
			if (bVar1 == 4) {
				CreateL4Dungeon(*(undefined4 *)(PTR_DAT_100f19e4 + (uint)(byte)*PTR_DAT_100f17ec * 4), iVar3,
				    uVar4, uVar5, in_r7, in_r8, in_r9, uVar8, in_stack_ffffffc8);
				InitL4Triggers();
				Freeupstairs();
				LoadRndLvlPal(4, uParm1, uVar4, uVar5, in_r7, uVar6, uVar7, uVar8, in_stack_ffffffc8);
			} else {
				if (bVar1 < 4) {
					CreateL3Dungeon(*(undefined4 *)(PTR_DAT_100f19e4 + (uint)(byte)*PTR_DAT_100f17ec * 4), iVar3,
					    uVar4, uVar5, in_r7, uVar6, uVar7, uVar8, in_stack_ffffffc8);
					InitL3Triggers();
					Freeupstairs();
					LoadRndLvlPal(3, uParm1, uVar4, uVar5, in_r7, uVar6, uVar7, uVar8, in_stack_ffffffc8);
				} else {
					app_fatal((int)PTR_s_CreateLevel_100f2b88, uVar2, uVar4, uVar5, in_r7, uVar6, uVar7, uVar8,
					    in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8, in_stack_ffffffdc,
					    in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8, in_stack_ffffffec,
					    in_stack_fffffff0, in_stack_fffffff4);
				}
			}
		}
	}
	return;
}

void LoadGameLevel(ulonglong param_1, ulonglong param_2, undefined8 param_3, ulonglong param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	uint uVar2;
	int iVar3;
	int iVar4;
	bool bVar5;
	bool bVar6;
	int iVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined *puVar12;
	undefined *puVar13;
	undefined *puVar14;
	undefined *puVar15;
	undefined *puVar16;
	undefined *puVar17;
	ulonglong uVar18;
	undefined uVar22;
	ulonglong uVar19;
	undefined8 extraout_r3;
	undefined8 uVar20;
	undefined8 extraout_r3_00;
	undefined8 extraout_r3_01;
	ulonglong extraout_r3_02;
	ulonglong extraout_r3_03;
	undefined8 extraout_r3_04;
	undefined8 extraout_r3_05;
	undefined4 uVar21;
	undefined8 extraout_r3_06;
	ulonglong extraout_r3_07;
	ulonglong extraout_r3_08;
	ulonglong extraout_r3_09;
	undefined uVar24;
	ulonglong uVar23;
	ulonglong uVar25;
	undefined uVar27;
	longlong lVar26;
	undefined uVar28;
	undefined7 uVar29;
	undefined uVar30;
	undefined4 uVar31;
	undefined4 uVar32;
	ulonglong uVar33;
	ulonglong uVar34;
	int iVar35;
	int iVar36;
	ulonglong uVar37;
	longlong lVar38;
	longlong lVar39;
	undefined4 in_stack_ffffff88;

	puVar17 = PTR_DAT_100f19e4;
	puVar16 = PTR_DAT_100f19e0;
	puVar15 = PTR_DAT_100f1950;
	puVar14 = PTR_DAT_100f183c;
	puVar13 = PTR_DAT_100f1834;
	puVar12 = PTR_DAT_100f1824;
	puVar11 = PTR_DAT_100f17f8;
	puVar10 = PTR_DAT_100f17f0;
	puVar9 = PTR_DAT_100f17ec;
	puVar8 = PTR_DAT_100f17e0;
	uVar29 = (undefined7)(param_5 >> 8);
	uVar30 = (undefined)param_5;
	uVar18 = ZEXT48(&toc);
	uVar25 = ZEXT48(PTR_DAT_100f19e0);
	uVar37 = ZEXT48(PTR_DAT_100f1828);
	iVar35 = *(int *)PTR_DAT_100f19e0;
	if (iVar35 != 0) {
		*(int *)(PTR_DAT_100f19e4 + (uint)(byte)*PTR_DAT_100f17ec * 4) = iVar35;
	}
	uVar23 = param_2;
	music_stop((char)iVar35, (char)param_2, (char)puVar16, (char)param_4, uVar30, (char)param_6,
	    (char)param_7, (char)param_8, in_stack_ffffff88);
	SetCursor_(1, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffff88);
	uVar22 = SetRndSeed(*(undefined4 *)(puVar17 + (uint)(byte)*puVar9 * 4));
	uVar19 = IncProgress(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)param_6,
	    (char)param_7, (char)param_8, in_stack_ffffff88);
	MakeLightTable(uVar19, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), param_6, (uint)param_7,
	    (uint)param_8, in_stack_ffffff88);
	uVar22 = LoadLvlGFX(extraout_r3, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), (int)param_6,
	    (int)param_7, (int)param_8, in_stack_ffffff88);
	uVar19 = IncProgress(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)param_6,
	    (char)param_7, (char)param_8, in_stack_ffffff88);
	iVar35 = (int)param_1;
	if (iVar35 != 0) {
		InitInv(uVar19, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), (int)param_6, (int)param_7,
		    (int)param_8, in_stack_ffffff88);
		uVar20 = InitItemGFX();
		InitQuestText(uVar20, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), (int)param_6, (int)param_7,
		    (int)param_8, in_stack_ffffff88);
		uVar19 = 0;
		uVar20 = extraout_r3_00;
		while (true) {
			if ((int)(uint)(byte)*puVar8 <= (int)uVar19)
				break;
			InitPlrGFXMem(uVar19, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), (int)param_6, (int)param_7,
			    (int)param_8, in_stack_ffffff88);
			uVar19 = uVar19 + 1;
			uVar20 = extraout_r3_01;
		}
		InitStores(uVar20, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), (int)param_6, (int)param_7,
		    (int)param_8, in_stack_ffffff88);
		InitAutomapOnce();
		InitHelp();
	}
	uVar22 = SetRndSeed(*(undefined4 *)(puVar17 + (uint)(byte)*puVar9 * 4));
	if (*puVar14 == '\0') {
		uVar22 = SetupTownStores(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffff88);
	}
	IncProgress(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffff88);
	uVar22 = InitAutomap();
	iVar36 = (int)param_2;
	if ((*puVar14 != '\0') && (iVar36 != 4)) {
		InitLighting();
		uVar22 = InitVision();
	}
	uVar22 = InitLevelMonsters(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)param_6,
	    (char)param_7, (char)param_8, in_stack_ffffff88);
	IncProgress(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffff88);
	if (*puVar11 != '\0') {
		uVar21 = DiabloAllocPtr(0x100000);
		puVar1 = *(undefined4 **)((int)uVar18 + -0x7578);
		uVar23 = ZEXT48(puVar1);
		*puVar1 = uVar21;
		uVar22 = LoadSetMap();
		uVar19 = IncProgress(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffff88);
		uVar19 = GetLevelMTypes((char)uVar19, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffff88);
		InitMonsters(uVar19, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), (int)param_6, (int)param_7,
		    (int)param_8, in_stack_ffffff88);
		InitMissileGFX(extraout_r3_06, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), (int)param_6,
		    (int)param_7, (int)param_8, in_stack_ffffff88);
		uVar20 = InitDead();
		uVar22 = FillSolidBlockTbls(uVar20, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), (int)param_6,
		    (int)param_7, (int)param_8, in_stack_ffffff88);
		uVar19 = IncProgress(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffff88);
		if (iVar36 == 5) {
			uVar19 = GetPortalLvlPos();
		}
		uVar33 = 0;
		uVar34 = uVar37;
		do {
			if ((*(char *)((int)uVar34 + 0x1d) != '\0') && (uVar19 = (ulonglong)(byte)*puVar9, (uint)(byte)*puVar9 == *(uint *)((int)uVar34 + 0x34))) {
				InitPlayerGFX(uVar33, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), (int)param_6, (int)param_7,
				    (int)param_8, in_stack_ffffff88);
				uVar19 = extraout_r3_07;
				if (iVar36 != 4) {
					uVar23 = param_1;
					InitPlayer(uVar33, iVar35, uVar25, param_4, CONCAT71(uVar29, uVar30), (int)param_6,
					    (int)param_7, (int)param_8, in_stack_ffffff88);
					uVar19 = extraout_r3_08;
				}
			}
			uVar33 = uVar33 + 1;
			uVar34 = uVar34 + 0x55ec;
		} while ((int)uVar33 < 4);
		uVar22 = InitMultiView(uVar19, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), (int)param_6,
		    (int)param_7, (int)param_8, in_stack_ffffff88);
		uVar19 = IncProgress(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffff88);
		uVar22 = (undefined)uVar19;
		if (((iVar35 == 0) && (iVar36 != 4)) && (lVar38 = uVar37 + (ulonglong) * (uint *)puVar12 * 0x55ec + (ulonglong)(byte)*puVar10, uVar22 = (undefined)lVar38, *(char *)((int)lVar38 + 0x201) != '\0')) {
			uVar20 = LoadLevel();
		} else {
			uVar22 = InitItems(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)param_6,
			    (char)param_7, (char)param_8, in_stack_ffffff88);
			uVar20 = SavePreLighting(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)param_6,
			    (char)param_7, (char)param_8, in_stack_ffffff88);
		}
		uVar32 = (undefined4)param_8;
		uVar31 = (undefined4)param_7;
		uVar21 = (undefined4)param_6;
		uVar22 = InitMissiles(uVar20, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), param_6, param_7,
		    param_8, in_stack_ffffff88);
		uVar19 = IncProgress(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)uVar21,
		    (char)uVar31, (char)uVar32, in_stack_ffffff88);
		uVar22 = (undefined)uVar19;
		goto LAB_1002710c;
	}
	uVar22 = CreateLevel(param_2);
	uVar19 = IncProgress(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)param_6,
	    (char)param_7, (char)param_8, in_stack_ffffff88);
	FillSolidBlockTbls(uVar19, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), (int)param_6, (int)param_7,
	    (int)param_8, in_stack_ffffff88);
	uVar20 = SetRndSeed(*(undefined4 *)(puVar17 + (uint)(byte)*puVar9 * 4));
	if (*puVar14 == '\0') {
		uVar22 = InitMissileGFX(uVar20, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), (int)param_6,
		    (int)param_7, (int)param_8, in_stack_ffffff88);
	} else {
		uVar22 = GetLevelMTypes((char)uVar20, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffff88);
		uVar20 = InitThemes(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffff88);
		uVar22 = LoadAllGFX(uVar20, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), (int)param_6,
		    (int)param_7, (int)param_8, in_stack_ffffff88);
	}
	uVar19 = IncProgress(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)param_6,
	    (char)param_7, (char)param_8, in_stack_ffffff88);
	uVar22 = (undefined)uVar19;
	if (iVar36 == 3) {
		uVar22 = GetReturnLvlPos();
	}
	if (iVar36 == 5) {
		uVar22 = GetPortalLvlPos();
	}
	uVar19 = IncProgress(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)param_6,
	    (char)param_7, (char)param_8, in_stack_ffffff88);
	uVar33 = 0;
	uVar34 = uVar37;
	do {
		if ((*(char *)((int)uVar34 + 0x1d) != '\0') && (uVar19 = (ulonglong)(byte)*puVar9, (uint)(byte)*puVar9 == *(uint *)((int)uVar34 + 0x34))) {
			InitPlayerGFX(uVar33, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), (int)param_6, (int)param_7,
			    (int)param_8, in_stack_ffffff88);
			uVar19 = extraout_r3_02;
			if (iVar36 != 4) {
				uVar23 = param_1;
				InitPlayer(uVar33, iVar35, uVar25, param_4, CONCAT71(uVar29, uVar30), (int)param_6, (int)param_7,
				    (int)param_8, in_stack_ffffff88);
				uVar19 = extraout_r3_03;
			}
		}
		uVar33 = uVar33 + 1;
		uVar34 = uVar34 + 0x55ec;
	} while ((int)uVar33 < 4);
	PlayDungMsgs(uVar19, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), (int)param_6, (int)param_7,
	    (int)param_8, in_stack_ffffff88);
	uVar28 = (undefined)param_4;
	uVar27 = (undefined)uVar25;
	uVar24 = (undefined)uVar23;
	uVar22 = InitMultiView(extraout_r3_04, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), (int)param_6,
	    (int)param_7, (int)param_8, in_stack_ffffff88);
	IncProgress(uVar22, uVar24, uVar27, uVar28, uVar30, (char)param_6, (char)param_7, (char)param_8,
	    in_stack_ffffff88);
	uVar19 = (ulonglong)(byte)*puVar8;
	param_4 = (ulonglong)(byte)*puVar9;
	bVar5 = false;
	uVar25 = uVar37 + param_4;
	uVar23 = uVar37;
	if (*puVar8 != 0) {
		do {
			if (((*(char *)((int)uVar23 + 0x1d) != '\0') && (bVar6 = !bVar5, bVar5 = true, bVar6)) && (bVar5 = true, *(char *)((int)uVar25 + 0x1f0) == '\0')) {
				bVar5 = false;
			}
			uVar23 = uVar23 + 0x55ec;
			uVar25 = uVar25 + 0x55ec;
			uVar19 = uVar19 - 1;
		} while (uVar19 != 0);
	}
	uVar22 = SetRndSeed(*(undefined4 *)(puVar17 + (uint)(byte)*puVar9 * 4));
	uVar24 = (undefined)uVar23;
	if (*puVar14 == '\0') {
		uVar23 = 0;
		lVar38 = 0;
		do {
			lVar39 = 7;
			uVar25 = 0;
			do {
				iVar7 = (int)uVar25;
				iVar3 = (int)lVar38;
				*(byte *)(iVar3 + *(int *)puVar13 + iVar7) = *(byte *)(iVar3 + *(int *)puVar13 + iVar7) | 0x40;
				iVar4 = *(int *)puVar13 + iVar7 + 1;
				*(byte *)(iVar3 + iVar4) = *(byte *)(iVar3 + iVar4) | 0x40;
				iVar4 = *(int *)puVar13 + iVar7 + 2;
				*(byte *)(iVar3 + iVar4) = *(byte *)(iVar3 + iVar4) | 0x40;
				iVar4 = *(int *)puVar13 + iVar7 + 3;
				*(byte *)(iVar3 + iVar4) = *(byte *)(iVar3 + iVar4) | 0x40;
				iVar4 = *(int *)puVar13 + iVar7 + 4;
				*(byte *)(iVar3 + iVar4) = *(byte *)(iVar3 + iVar4) | 0x40;
				iVar4 = *(int *)puVar13 + iVar7 + 5;
				*(byte *)(iVar3 + iVar4) = *(byte *)(iVar3 + iVar4) | 0x40;
				iVar4 = *(int *)puVar13 + iVar7 + 6;
				*(byte *)(iVar3 + iVar4) = *(byte *)(iVar3 + iVar4) | 0x40;
				lVar26 = uVar25 + 8;
				iVar4 = *(int *)puVar13 + iVar7 + 7;
				*(byte *)(iVar3 + iVar4) = *(byte *)(iVar3 + iVar4) | 0x40;
				iVar7 = (int)lVar26;
				*(byte *)(iVar3 + *(int *)puVar13 + iVar7) = *(byte *)(iVar3 + *(int *)puVar13 + iVar7) | 0x40;
				iVar4 = *(int *)puVar13 + iVar7 + 1;
				*(byte *)(iVar3 + iVar4) = *(byte *)(iVar3 + iVar4) | 0x40;
				iVar4 = *(int *)puVar13 + iVar7 + 2;
				*(byte *)(iVar3 + iVar4) = *(byte *)(iVar3 + iVar4) | 0x40;
				iVar4 = *(int *)puVar13 + iVar7 + 3;
				*(byte *)(iVar3 + iVar4) = *(byte *)(iVar3 + iVar4) | 0x40;
				iVar4 = *(int *)puVar13 + iVar7 + 4;
				*(byte *)(iVar3 + iVar4) = *(byte *)(iVar3 + iVar4) | 0x40;
				iVar4 = *(int *)puVar13 + iVar7 + 5;
				*(byte *)(iVar3 + iVar4) = *(byte *)(iVar3 + iVar4) | 0x40;
				iVar4 = *(int *)puVar13 + iVar7 + 6;
				*(byte *)(iVar3 + iVar4) = *(byte *)(iVar3 + iVar4) | 0x40;
				uVar25 = uVar25 + 0x10;
				param_4 = (ulonglong) * (uint *)puVar13 + lVar26 + 7;
				*(byte *)(iVar3 + (int)param_4) = *(byte *)(iVar3 + (int)param_4) | 0x40;
				lVar39 = lVar39 + -1;
			} while (lVar39 != 0);
			uVar23 = uVar23 + 1;
			lVar38 = lVar38 + 0x70;
		} while ((int)uVar23 < 0x70);
		uVar22 = InitTowners(lVar38, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), (int)param_6,
		    (int)param_7, (int)param_8, in_stack_ffffff88);
		uVar20 = InitItems(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffff88);
		uVar22 = InitMissiles(uVar20, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), param_6, param_7,
		    param_8, in_stack_ffffff88);
		uVar19 = IncProgress(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffff88);
		if (((iVar35 == 0) && (iVar36 != 4)) && ((uVar19 = uVar37 + (ulonglong) * (uint *)puVar12 * 0x55ec + (ulonglong)(byte)*puVar9, *(char *)((int)uVar19 + 0x1f0) != '\0' && (*puVar8 == '\x01')))) {
			uVar19 = LoadLevel();
		}
		uVar32 = (undefined4)param_8;
		uVar31 = (undefined4)param_7;
		uVar21 = (undefined4)param_6;
		uVar22 = (undefined)uVar19;
		if (*puVar8 != '\x01') {
			uVar22 = DeltaLoadLevel(uVar19, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), param_6, param_7,
			    param_8, in_stack_ffffff88);
		}
		uVar19 = IncProgress(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)uVar21,
		    (char)uVar31, (char)uVar32, in_stack_ffffff88);
	} else {
		if ((iVar35 == 0) && (iVar36 != 4)) {
			uVar19 = uVar37 + (ulonglong) * (uint *)puVar12 * 0x55ec + (ulonglong)(byte)*puVar9;
			uVar22 = (undefined)uVar19;
			if ((*(char *)((int)uVar19 + 0x1f0) != '\0') && (*puVar8 == '\x01')) {
				InitMonsters(uVar19, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), (int)param_6, (int)param_7,
				    (int)param_8, in_stack_ffffff88);
				uVar32 = (undefined4)param_8;
				uVar31 = (undefined4)param_7;
				uVar21 = (undefined4)param_6;
				InitMissiles(extraout_r3_05, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), param_6, param_7,
				    param_8, in_stack_ffffff88);
				uVar22 = InitDead();
				IncProgress(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)uVar21, (char)uVar31, (char)uVar32, in_stack_ffffff88);
				uVar22 = LoadLevel();
				uVar19 = IncProgress(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)uVar21,
				    (char)uVar31, (char)uVar32, in_stack_ffffff88);
				goto LAB_10027014;
			}
		}
		uVar22 = HoldThemeRooms(uVar22, uVar24, (char)uVar25, (char)param_4, uVar30, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffff88);
		uVar23 = GetRndSeed(uVar22, uVar24, (char)uVar25, (char)param_4, uVar30, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffff88);
		uVar2 = *(uint *)((int)uVar18 + -0x75f4);
		uVar24 = (undefined)uVar2;
		*(undefined4 *)(uVar2 + (uint)(byte)*puVar9 * 4) = (int)uVar23;
		uVar22 = InitMonsters(uVar23, (ulonglong)uVar2, uVar25, param_4, CONCAT71(uVar29, uVar30),
		    (int)param_6, (int)param_7, (int)param_8, in_stack_ffffff88);
		uVar20 = GetRndSeed(uVar22, uVar24, (char)uVar25, (char)param_4, uVar30, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffff88);
		uVar2 = *(uint *)((int)uVar18 + -0x75f8);
		uVar24 = (undefined)uVar2;
		*(undefined4 *)(uVar2 + (uint)(byte)*puVar9 * 4) = (int)uVar20;
		uVar22 = InitObjects(uVar20, (ulonglong)uVar2, uVar25, param_4, CONCAT71(uVar29, uVar30),
		    (int)param_6, (int)param_7, (int)param_8, in_stack_ffffff88);
		uVar22 = InitItems(uVar22, uVar24, (char)uVar25, (char)param_4, uVar30, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffff88);
		uVar22 = CreateThemeRooms(uVar22, uVar24, (char)uVar25, (char)param_4, uVar30, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffff88);
		uVar20 = GetRndSeed(uVar22, uVar24, (char)uVar25, (char)param_4, uVar30, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffff88);
		uVar2 = *(uint *)((int)uVar18 + -0x75fc);
		uVar24 = (undefined)uVar2;
		*(undefined4 *)(uVar2 + (uint)(byte)*puVar9 * 4) = (int)uVar20;
		InitMissiles(uVar20, (ulonglong)uVar2, uVar25, param_4, CONCAT71(uVar29, uVar30), param_6, param_7,
		    param_8, in_stack_ffffff88);
		uVar22 = InitDead();
		uVar20 = GetRndSeed(uVar22, uVar24, (char)uVar25, (char)param_4, uVar30, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffff88);
		uVar32 = (undefined4)param_8;
		uVar31 = (undefined4)param_7;
		uVar21 = (undefined4)param_6;
		uVar22 = (undefined)uVar20;
		uVar2 = *(uint *)((int)uVar18 + -0x7600);
		uVar23 = (ulonglong)uVar2;
		*(undefined4 *)(uVar2 + (uint)(byte)*puVar9 * 4) = (int)uVar20;
		if (*puVar8 != '\x01') {
			uVar22 = DeltaLoadLevel(uVar20, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), param_6, param_7,
			    param_8, in_stack_ffffff88);
		}
		uVar19 = IncProgress(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)uVar21,
		    (char)uVar31, (char)uVar32, in_stack_ffffff88);
		uVar19 = SavePreLighting((char)uVar19, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)uVar21,
		    (char)uVar31, (char)uVar32, in_stack_ffffff88);
	}
LAB_10027014:
	if (*puVar8 == '\x01') {
		uVar22 = ResyncQuests(uVar19, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), uVar21, uVar31, uVar32,
		    in_stack_ffffff88);
	} else {
		uVar22 = ResyncMPQuests((char)uVar19, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)uVar21,
		    (char)uVar31, (char)uVar32, in_stack_ffffff88);
	}
LAB_1002710c:
	uVar19 = SyncPortals(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)uVar21,
	    (char)uVar31, (char)uVar32, in_stack_ffffff88);
	lVar38 = 0;
	do {
		iVar36 = (int)uVar37;
		if (((*(char *)(iVar36 + 0x1d) != '\0') && (uVar19 = (ulonglong)(byte)*puVar9, (uint)(byte)*puVar9 == *(uint *)(iVar36 + 0x34))) && ((*(char *)(iVar36 + 0x13b) == '\0' || ((int)lVar38 == *(int *)puVar12)))) {
			if (*(int *)(iVar36 + 0x194) < 1) {
				uVar2 = *(uint *)puVar13;
				uVar23 = (ulonglong)uVar2;
				uVar19 = (ulonglong) * (uint *)(iVar36 + 0x38) * 0x70 + (ulonglong) * (uint *)(iVar36 + 0x3c);
				*(byte *)(uVar2 + (int)uVar19) = *(byte *)(uVar2 + (int)uVar19) | 4;
			} else {
				if (*puVar8 == '\x01') {
					uVar25 = lVar38 + 1;
					uVar19 = (ulonglong) * (uint *)(iVar36 + 0x38) * 0x70;
					uVar23 = (ulonglong) * (uint *)puVar15;
					*(undefined *)(*(uint *)puVar15 + (int)uVar19 + *(int *)(iVar36 + 0x3c)) = (char)uVar25;
				} else {
					uVar19 = SyncInitPlrPos(lVar38, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)uVar21,
					    (char)uVar31, (char)uVar32, in_stack_ffffff88);
				}
			}
		}
		lVar38 = lVar38 + 1;
		uVar37 = uVar37 + 0x55ec;
	} while ((int)lVar38 < 4);
	if (*puVar14 != '\0') {
		SetDungeonMicros(uVar19, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), uVar21, uVar31, uVar32,
		    in_stack_ffffff88);
	}
	uVar22 = InitLightMax();
	uVar37 = IncProgress(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)uVar21,
	    (char)uVar31, (char)uVar32, in_stack_ffffff88);
	uVar37 = IncProgress((char)uVar37, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)uVar21,
	    (char)uVar31, (char)uVar32, in_stack_ffffff88);
	uVar22 = (undefined)uVar37;
	if (iVar35 != 0) {
		uVar22 = InitControlPan(uVar37, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), uVar21, uVar31, uVar32,
		    in_stack_ffffff88);
		uVar37 = IncProgress(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)uVar21,
		    (char)uVar31, (char)uVar32, in_stack_ffffff88);
		uVar22 = (undefined)uVar37;
	}
	if (*puVar14 != '\0') {
		uVar22 = ProcessLightList(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)uVar21,
		    (char)uVar31, (char)uVar32, in_stack_ffffff88);
		ProcessVisionList(uVar22, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)uVar21, (char)uVar31,
		    (char)uVar32, in_stack_ffffff88);
	}
	music_start((uint)(byte)*puVar14, uVar23, uVar25, param_4, CONCAT71(uVar29, uVar30), uVar21, uVar31,
	    uVar32, in_stack_ffffff88);
	uVar37 = extraout_r3_09;
	do {
		uVar37 = IncProgress((char)uVar37, (char)uVar23, (char)uVar25, (char)param_4, uVar30, (char)uVar21,
		    (char)uVar31, (char)uVar32, in_stack_ffffff88);
	} while ((int)uVar37 == 0);
	if (((*puVar11 != '\0') && (*puVar10 == '\x01')) && (*(char *)(*(int *)((int)uVar18 + -0x7604) + 0x122) == '\x02')) {
		PlaySFX(0x351);
	}
	return;
}

void game_logic(undefined8 param_1, longlong param_2, ulonglong param_3, undefined8 param_4,
    ulonglong param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	char *pcVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	ulonglong uVar4;
	undefined uVar5;
	undefined7 uVar6;
	undefined uVar7;
	undefined7 uVar8;
	undefined uVar9;
	undefined4 uVar10;
	undefined4 uVar11;
	undefined4 uVar12;
	undefined4 uVar13;
	undefined4 uVar14;
	undefined4 in_stack_ffffffc8;

	puVar2 = PTR_DAT_100f1914;
	uVar8 = (undefined7)(param_3 >> 8);
	uVar9 = (undefined)param_3;
	uVar6 = (undefined7)((ulonglong)param_2 >> 8);
	uVar7 = (undefined)param_2;
	ppuVar3 = &toc;
	if (*(int *)PTR_DAT_100f1a00 != 2) {
		if (*(int *)PTR_DAT_100f1a00 == 1) {
			*(undefined4 *)PTR_DAT_100f1a00 = 2;
		}
		if ((*PTR_DAT_100f17e0 == '\x01') && (ppuVar3 = &toc, uVar4 = gmenu_exception(), (int)uVar4 != 0)) {
			*(uint *)puVar2 = *(uint *)puVar2 | 1;
		} else {
			uVar4 = gmenu_exception();
			if (((int)uVar4 == 0) && (ppuVar3[-0x13d5] == (undefined *)0x0)) {
				CheckCursMove((char)uVar4, uVar7, uVar9, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffc8);
				track_process();
			}
			uVar14 = (undefined4)param_8;
			uVar13 = (undefined4)param_7;
			uVar12 = (undefined4)param_6;
			if (*(int *)ppuVar3[-0x1d6a] != 0) {
				ProcessPlayers(ZEXT48(ppuVar3[-0x1d6a]), CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9), param_4,
				    param_5, param_6, param_7, param_8, in_stack_ffffffc8);
			}
			uVar11 = (undefined4)param_5;
			uVar10 = (undefined4)param_4;
			pcVar1 = ppuVar3[-0x1de5];
			if (*pcVar1 == '\0') {
				ProcessTowners((char)pcVar1, uVar7, uVar9, (char)param_4, (char)param_5, (char)uVar12, (char)uVar13,
				    (char)uVar14, in_stack_ffffffc8);
				ProcessItems();
				uVar5 = ProcessMissiles();
			} else {
				uVar5 = ProcessMonsters(ZEXT48(pcVar1), CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9), param_4,
				    param_5, uVar12, uVar13, uVar14, in_stack_ffffffc8);
				ProcessObjects(uVar5, uVar7, uVar9, (char)uVar10, (char)uVar11, (char)uVar12, (char)uVar13,
				    (char)uVar14, in_stack_ffffffc8);
				ProcessMissiles();
				uVar5 = ProcessItems();
				uVar5 = ProcessLightList(uVar5, uVar7, uVar9, (char)uVar10, (char)uVar11, (char)uVar12, (char)uVar13,
				    (char)uVar14, in_stack_ffffffc8);
				uVar5 = ProcessVisionList(uVar5, uVar7, uVar9, (char)uVar10, (char)uVar11, (char)uVar12, (char)uVar13,
				    (char)uVar14, in_stack_ffffffc8);
			}
			uVar5 = sound_update(uVar5, uVar7, uVar9, (char)uVar10, (char)uVar11, (char)uVar12, (char)uVar13,
			    (char)uVar14, in_stack_ffffffc8);
			ClearPlrMsg(uVar5, uVar7, uVar9, (char)uVar10, (char)uVar11, (char)uVar12, (char)uVar13,
			    (char)uVar14, in_stack_ffffffc8);
			CheckTriggers();
			CheckQuests();
			*(uint *)puVar2 = *(uint *)puVar2 | 1;
			pfile_update(0, CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9), uVar10, uVar11, uVar12, uVar13, uVar14,
			    in_stack_ffffffc8);
		}
	}
	return;
}

void timeout_cursor(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined8 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined **ppuVar2;
	undefined **ppuVar3;
	undefined7 uVar4;
	undefined uVar5;
	undefined7 uVar6;
	undefined uVar7;
	undefined7 uVar8;
	undefined uVar9;
	undefined7 uVar10;
	undefined uVar11;
	undefined4 in_stack_ffffffc8;

	puVar1 = PTR_DAT_100f1914;
	uVar10 = (undefined7)((ulonglong)param_7 >> 8);
	uVar11 = (undefined)param_7;
	uVar8 = (undefined7)((ulonglong)param_5 >> 8);
	uVar9 = (undefined)param_5;
	uVar6 = (undefined7)((ulonglong)param_4 >> 8);
	uVar7 = (undefined)param_4;
	uVar4 = (undefined7)((ulonglong)param_3 >> 8);
	uVar5 = (undefined)param_3;
	ppuVar2 = &toc;
	ppuVar3 = &toc;
	if (param_1 == 0) {
		if (_DAT_100f407c != 0) {
			SetCursor_(_DAT_100f407c, (char)param_2, uVar5, uVar7, uVar9, (char)param_6, uVar11, (char)param_8,
			    in_stack_ffffffc8);
			ppuVar3[-0x13d5] = (undefined *)0x0;
			ClearPanel();
			*(undefined4 *)puVar1 = 0xff;
		}
	} else {
		if ((_DAT_100f407c == 0) && (*_DAT_100f1a70 == '\0')) {
			_DAT_100f407c = *(int *)PTR_DAT_100f188c;
			multi_net_ping((char)PTR_DAT_100f188c, (char)param_2, uVar5, uVar7, uVar9, (char)param_6, uVar11,
			    (char)param_8, in_stack_ffffffc8);
			ClearPanel();
			AddPanelString((int)ppuVar2[-0x1913], 1, uVar5, uVar7, uVar9, (char)param_6, uVar11, (char)param_8,
			    in_stack_ffffffc8);
			param_2 = 1;
			AddPanelString((int)ppuVar2[-0x1914], 1, uVar5, uVar7, uVar9, (char)param_6, uVar11, (char)param_8,
			    in_stack_ffffffc8);
			SetCursor_(0xb, (char)param_2, uVar5, uVar7, uVar9, (char)param_6, uVar11, (char)param_8,
			    in_stack_ffffffc8);
			*(undefined4 *)puVar1 = 0xff;
		}
		scrollrt_draw_game_screen(1, param_2, CONCAT71(uVar4, uVar5), CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9), param_6, CONCAT71(uVar10, uVar11), param_8, in_stack_ffffffc8);
	}
	return;
}

void game_loop(ulonglong param_1, longlong param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	bool bVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined8 uVar4;
	undefined8 extraout_r3;
	undefined7 uVar5;
	undefined uVar6;
	undefined7 uVar7;
	undefined uVar8;
	undefined7 uVar9;
	undefined uVar10;
	undefined7 uVar11;
	undefined uVar12;
	int iVar13;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;

	puVar3 = PTR_DAT_100f1a2c;
	puVar2 = PTR_DAT_100f17e0;
	uVar11 = (undefined7)((ulonglong)param_5 >> 8);
	uVar12 = (undefined)param_5;
	uVar9 = (undefined7)((ulonglong)param_4 >> 8);
	uVar10 = (undefined)param_4;
	uVar7 = (undefined7)(param_3 >> 8);
	uVar8 = (undefined)param_3;
	uVar5 = (undefined7)((ulonglong)param_2 >> 8);
	uVar6 = (undefined)param_2;
	if ((int)param_1 == 0) {
		iVar13 = 3;
	} else {
		iVar13 = 0x3c;
	}
	while (true) {
		bVar1 = iVar13 == 0;
		iVar13 = iVar13 + -1;
		if (bVar1) {
			return;
		}
		uVar4 = multi_handle_delta(param_1, CONCAT71(uVar5, uVar6), CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10),
		    CONCAT71(uVar11, uVar12), (int)param_6, (int)param_7, (int)param_8,
		    in_stack_ffffffb8);
		if ((int)uVar4 == 0) {
			timeout_cursor(1, CONCAT71(uVar5, uVar6), CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10),
			    CONCAT71(uVar11, uVar12), (int)param_6, param_7, (int)param_8, in_stack_ffffffb8);
			return;
		}
		timeout_cursor(0, CONCAT71(uVar5, uVar6), CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10),
		    CONCAT71(uVar11, uVar12), (int)param_6, param_7, (int)param_8, in_stack_ffffffb8);
		game_logic(extraout_r3, CONCAT71(uVar5, uVar6), CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10),
		    CONCAT71(uVar11, uVar12), param_6, param_7, param_8, in_stack_ffffffb8);
		if (*(int *)puVar3 == 0) {
			return;
		}
		if (*puVar2 == '\x01')
			break;
		param_1 = nthread_has_500ms_passed(1, uVar6, uVar8, uVar10, uVar12, (char)param_6, (char)param_7, (char)param_8,
		    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8);
		if ((int)param_1 == 0) {
			return;
		}
	}
	return;
}

void diablo_color_cyc_logic(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	int iVar2;
	longlong lVar3;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	int local_2c;

	if (DAT_100f4070 == '\0') {
		param_1 = 0;
		_DAT_100f4074 = 0;
		DAT_100f4070 = '\x01';
	}
	lVar3 = GetTickCount(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
	if (0x31 < (lVar3 - (ulonglong) * (uint *)(local_2c + -0x4f5c) & 0xffffffff)) {
		*(undefined4 *)(local_2c + -0x4f5c) = (int)lVar3;
		if (**(char **)(local_2c + -0x7794) == '\x04') {
			lighting_color_cycling();
		} else {
			if (**(char **)(local_2c + -0x7794) == '\x03') {
				if (*(char *)(local_2c + -0x4f68) == '\0') {
					*(undefined4 *)(local_2c + -0x4f64) = 0;
					*(undefined *)(local_2c + -0x4f68) = 1;
				}
				iVar1 = *(int *)(local_2c + -0x4f64);
				iVar2 = iVar1 + 1;
				*(int *)(local_2c + -0x4f64) = iVar2;
				if (2 < iVar2) {
					*(undefined4 *)(local_2c + -0x4f64) = 0;
					palette_update_caves((char)iVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
					    in_stack_ffffffc8);
				}
			}
		}
	}
	return;
}

void FUN_10027570(void)

{
	_DAT_100f4080 = _DAT_100f4064;
	return;
}

longlong doom_get_frame_from_time(void)

{
	int iVar1;
	uint uVar2;

	iVar1 = *(int *)PTR_DAT_100f1a74;
	if (iVar1 == 0x8ca1) {
		return 0x1f;
	}
	uVar2 = iVar1 / 0x4b0 + (iVar1 >> 0x1f);
	return ((longlong)(int)((ulonglong)((longlong)iVar1 * 0x1b4e81b5) >> 0x20) & 0xffffffff00000000U | (ulonglong)uVar2) + (ulonglong)(uVar2 >> 0x1f);
}

void doom_alloc_cel(void)

{
	undefined **ppuVar1;
	undefined *puVar2;
	undefined8 in_r6;
	undefined8 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffe0;

	ppuVar1 = &toc;
	puVar2 = (undefined *)
	    DiabloAllocPtr(0, 0x38000, 0x444f4f4d, in_r6, in_r7, in_r8, in_r9, in_r10, in_stack_ffffffc8,
	        in_stack_ffffffcf, in_stack_ffffffe0);
	ppuVar1[-0x13d0] = puVar2;
	return;
}

void doom_cleanup(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	mem_free_dbg((int **)&DAT_100f4090, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

void doom_load_graphics(void)

{
	undefined **ppuVar1;
	ulonglong uVar2;
	undefined4 uVar3;
	undefined8 in_r6;
	undefined4 uVar4;
	undefined4 uVar5;
	undefined8 in_r7;
	undefined4 uVar6;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	ulonglong uVar7;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	uVar6 = (undefined4)in_r7;
	uVar5 = (undefined4)((ulonglong)in_r7 >> 0x20);
	uVar4 = (undefined4)in_r6;
	uVar3 = (undefined4)((ulonglong)in_r6 >> 0x20);
	ppuVar1 = &toc;
	uVar7 = ZEXT48(PTR_DAT_100f191c);
	uVar2 = (ulonglong)_DAT_100f408c;
	if (_DAT_100f408c == 0x1f) {
		strcpy((int)PTR_DAT_100f191c, (int)PTR_s_Items_Map_MapZDoom_CEL_100f2bfc);
	} else {
		if ((int)_DAT_100f408c < 10) {
			sprintf((int)PTR_DAT_100f191c, _DAT_100f2bf8, _DAT_100f408c, uVar4, uVar6, in_r8, in_r9, in_r10,
			    in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffdc, in_stack_ffffffe0,
			    in_stack_ffffffe4, in_stack_ffffffe8, in_stack_ffffffec, in_stack_fffffff0,
			    in_stack_fffffff4);
		} else {
			sprintf((int)PTR_DAT_100f191c, _DAT_100f2bf4, _DAT_100f408c, uVar4, uVar6, in_r8, in_r9, in_r10,
			    in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffdc, in_stack_ffffffe0,
			    in_stack_ffffffe4, in_stack_ffffffe8, in_stack_ffffffec, in_stack_fffffff0,
			    in_stack_fffffff4);
		}
	}
	LoadFileWithMem(uVar7, ZEXT48(ppuVar1[-0x13d0]), uVar2, CONCAT44(uVar3, uVar4), CONCAT44(uVar5, uVar6),
	    in_r8, in_r9, in_r10, in_stack_ffffffc8);
	FUN_100b8f64((int)ppuVar1[-0x13d0]);
	return;
}

void doom_init(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined **ppuVar2;
	longlong lVar3;

	puVar1 = PTR_DAT_100f1958;
	ppuVar2 = &toc;
	*(undefined4 *)PTR_DAT_100f1958 = 1;
	doom_alloc_cel(puVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8);
	lVar3 = doom_get_frame_from_time();
	if ((int)lVar3 == 0x1f) {
		ppuVar2[-0x13d1] = (undefined *)0x1f;
	} else {
		ppuVar2[-0x13d1] = (undefined *)0x0;
	}
	doom_load_graphics();
	return;
}

void doom_close(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined4 in_stack_ffffffc8;

	puVar1 = PTR_DAT_100f1958;
	if (*(int *)PTR_DAT_100f1958 != 0) {
		*(undefined4 *)PTR_DAT_100f1958 = 0;
		doom_cleanup((char)puVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	}
	return;
}

void doom_draw(void)

{
	undefined **ppuVar1;
	longlong lVar2;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	if (*(int *)PTR_DAT_100f1958 != 0) {
		if ((_DAT_100f408c != 0x1f) && (_DAT_100f4088 = _DAT_100f4088 + 1, 4 < _DAT_100f4088)) {
			_DAT_100f408c = _DAT_100f408c + 1;
			_DAT_100f4088 = 0;
			ppuVar1 = &toc;
			lVar2 = doom_get_frame_from_time();
			if ((int)lVar2 < (int)ppuVar1[-0x13d1]) {
				ppuVar1[-0x13d1] = (undefined *)0x0;
			}
			doom_load_graphics();
		}
		CelDecodeOnly(0x40, 0x1ff, ZEXT48(ppuVar1[-0x13d0]), 1, 0x280, in_r8, in_r9, in_r10, in_stack_ffffffc8);
	}
	return;
}

void FUN_100277ac(void)

{
	_DAT_100f4094 = _DAT_100f4084;
	return;
}

void FUN_100277b8(int param_1, int param_2)

{
	byte bVar1;
	char cVar2;
	char *pcVar3;
	byte *pbVar4;

	pbVar4 = PTR_DAT_100f1abc + param_1 * 0x28 + param_2;
	bVar1 = *pbVar4;
	if ((bVar1 & 0x80) == 0) {
		pcVar3 = PTR_DAT_100f1804 + param_1 * 0x28 + param_2;
		cVar2 = *pcVar3;
		if ((bVar1 & 0x7f) == 1) {
			if ((param_2 != 1) && (cVar2 == '\x02')) {
				*pcVar3 = '\x1a';
			}
			if ((param_2 != 1) && (cVar2 == '\a')) {
				*pcVar3 = '\x1f';
			}
			if ((param_2 != 1) && (cVar2 == '\x0e')) {
				*pcVar3 = '*';
			}
			if ((param_2 != 1) && (cVar2 == '\x04')) {
				*pcVar3 = '+';
			}
			if ((param_1 != 1) && (cVar2 == '\x01')) {
				*pcVar3 = '\x19';
			}
			if ((param_1 != 1) && (cVar2 == '\n')) {
				*pcVar3 = '(';
			}
			if ((param_1 != 1) && (cVar2 == '\x06')) {
				*pcVar3 = '\x1e';
			}
		}
		if ((bVar1 & 0x7f) == 2) {
			if ((param_1 != 1) && (cVar2 == '\x01')) {
				*pcVar3 = '\x19';
			}
			if ((param_1 != 1) && (cVar2 == '\x06')) {
				*pcVar3 = '\x1e';
			}
			if ((param_1 != 1) && (cVar2 == '\n')) {
				*pcVar3 = '(';
			}
			if ((param_1 != 1) && (cVar2 == '\x04')) {
				*pcVar3 = ')';
			}
			if ((param_2 != 1) && (cVar2 == '\x02')) {
				*pcVar3 = '\x1a';
			}
			if ((param_2 != 1) && (cVar2 == '\x0e')) {
				*pcVar3 = '*';
			}
			if ((param_2 != 1) && (cVar2 == '\a')) {
				*pcVar3 = '\x1f';
			}
		}
		if ((bVar1 & 0x7f) == 3) {
			if (((param_1 != 1) && (param_2 != 1)) && (cVar2 == '\x04')) {
				*pcVar3 = '\x1c';
			}
			if ((param_1 != 1) && (cVar2 == '\n')) {
				*pcVar3 = '(';
			}
			if ((param_2 != 1) && (cVar2 == '\x0e')) {
				*pcVar3 = '*';
			}
			if ((param_2 != 1) && (cVar2 == '\x02')) {
				*pcVar3 = '\x1a';
			}
			if ((param_1 != 1) && (cVar2 == '\x01')) {
				*pcVar3 = '\x19';
			}
			if ((param_2 != 1) && (cVar2 == '\a')) {
				*pcVar3 = '\x1f';
			}
			if ((param_1 != 1) && (cVar2 == '\x06')) {
				*pcVar3 = '\x1e';
			}
		}
	}
	*pbVar4 = 0x80;
	return;
}

void FUN_10027a18(void)

{
	char cVar1;
	char cVar2;
	char cVar3;
	byte bVar4;
	char cVar5;
	char cVar6;
	char cVar7;
	char cVar8;
	char *pcVar9;
	bool bVar10;
	undefined *puVar11;
	byte *pbVar12;
	char *pcVar13;
	int iVar14;
	byte *pbVar15;
	int iVar16;
	byte bVar17;
	char *pcVar18;
	byte *pbVar19;
	undefined *puVar20;
	undefined *puVar21;
	char *pcVar22;
	longlong lVar23;

	puVar11 = PTR_DAT_100f1804;
	iVar16 = 1;
	pbVar12 = PTR_DAT_100f1804 + 1;
	pcVar13 = PTR_DAT_100f1abc + 1;
	pbVar19 = pbVar12;
	pcVar18 = pcVar13;
	do {
		iVar14 = 1;
		pbVar15 = pbVar19;
		puVar20 = puVar11;
		pcVar9 = pcVar18;
		do {
			puVar20 = puVar20 + 0x28;
			lVar23 = 0x25;
			cVar5 = (&DAT_100f6f43)[(uint)pbVar15[0x28]];
			puVar21 = puVar20 + iVar16;
			cVar6 = (&DAT_100f6f43)[(uint)*pbVar15];
			cVar7 = (&DAT_100f6f43)[(uint)pbVar15[0x27]];
			cVar8 = (&DAT_100f6f43)[(uint)pbVar15[-1]];
			cVar1 = pcVar9[-1];
			cVar2 = pcVar9[0x27];
			cVar3 = *pcVar9;
			pcVar22 = &DAT_100f6e40;
			do {
				if (cVar5 == *pcVar22) {
					bVar10 = true;
					if ((pcVar22[1] != '\0') && (cVar8 != pcVar22[1])) {
						bVar10 = false;
					}
					if ((pcVar22[2] != '\0') && (cVar7 != pcVar22[2])) {
						bVar10 = false;
					}
					if ((pcVar22[3] != '\0') && (cVar6 != pcVar22[3])) {
						bVar10 = false;
					}
					if (bVar10) {
						if ((pcVar22[4] != '\0') && (cVar1 == '\0')) {
							puVar21[-0x29] = pcVar22[4];
						}
						if ((pcVar22[5] != '\0') && (cVar2 == '\0')) {
							puVar21[-1] = pcVar22[5];
						}
						if ((pcVar22[6] != '\0') && (cVar3 == '\0')) {
							puVar21[-0x28] = pcVar22[6];
						}
					}
				}
				pcVar22 = pcVar22 + 7;
				lVar23 = lVar23 + -1;
			} while (lVar23 != 0);
			iVar14 = iVar14 + 1;
			pbVar15 = pbVar15 + 0x28;
			pcVar9 = pcVar9 + 0x28;
		} while (iVar14 < 0x28);
		iVar16 = iVar16 + 1;
		pcVar18 = pcVar18 + 1;
		pbVar19 = pbVar19 + 1;
	} while (iVar16 < 0x28);
	iVar16 = 1;
	do {
		lVar23 = 0x27;
		pbVar19 = pbVar12;
		pcVar18 = pcVar13;
		do {
			pbVar15 = pbVar19 + 0x28;
			if ((*pbVar19 == 0x8b) && (*pcVar18 == '\0')) {
				bVar4 = *pbVar15;
				bVar17 = 0x8b;
				if (bVar4 == 0x1d) {
					bVar17 = 0x8d;
				}
				if (bVar4 == 0x20) {
					bVar17 = 0x8d;
				}
				if (bVar4 == 0x23) {
					bVar17 = 0x8d;
				}
				if (bVar4 == 0x25) {
					bVar17 = 0x8d;
				}
				if (bVar4 == 0x26) {
					bVar17 = 0x8d;
				}
				if (bVar4 == 0x27) {
					bVar17 = 0x8d;
				}
				*pbVar19 = bVar17;
			}
			if ((*pbVar19 == 0x95) && (*pcVar18 == '\0')) {
				bVar4 = *pbVar15;
				bVar17 = 0x95;
				if (bVar4 == 0x1d) {
					bVar17 = 0x99;
				}
				if (bVar4 == 0x20) {
					bVar17 = 0x99;
				}
				if (bVar4 == 0x23) {
					bVar17 = 0x99;
				}
				if (bVar4 == 0x25) {
					bVar17 = 0x99;
				}
				if (bVar4 == 0x26) {
					bVar17 = 0x99;
				}
				if (bVar4 == 0x27) {
					bVar17 = 0x99;
				}
				*pbVar19 = bVar17;
			}
			if ((*pbVar19 == 0x94) && (*pcVar18 == '\0')) {
				bVar4 = *pbVar15;
				bVar17 = 0x94;
				if (bVar4 == 0x1d) {
					bVar17 = 0x9a;
				}
				if (bVar4 == 0x20) {
					bVar17 = 0x9a;
				}
				if (bVar4 == 0x23) {
					bVar17 = 0x9a;
				}
				if (bVar4 == 0x25) {
					bVar17 = 0x9a;
				}
				if (bVar4 == 0x26) {
					bVar17 = 0x9a;
				}
				if (bVar4 == 0x27) {
					bVar17 = 0x9a;
				}
				*pbVar19 = bVar17;
			}
			lVar23 = lVar23 + -1;
			pbVar19 = pbVar15;
			pcVar18 = pcVar18 + 0x28;
		} while (lVar23 != 0);
		iVar16 = iVar16 + 1;
		pcVar13 = pcVar13 + 1;
		pbVar12 = pbVar12 + 1;
	} while (iVar16 < 0x28);
	return;
}

undefined8
FUN_10027ce8(ulonglong param_1, longlong param_2, longlong param_3, int param_4, int param_5, int param_6, int param_7, int param_8, undefined4 param_9, undefined param_10, undefined4 param_11,
    undefined4 param_12)

{
	byte bVar1;
	byte bVar2;
	int *piVar3;
	ulonglong uVar4;
	longlong lVar5;
	undefined8 uVar6;
	longlong lVar7;
	int iVar8;
	longlong lVar9;
	undefined uVar10;
	longlong lVar11;
	longlong lVar12;
	undefined uVar13;
	longlong lVar14;
	longlong lVar15;
	undefined uVar16;
	longlong lVar17;
	int iVar18;
	int iVar19;
	ulonglong uVar20;
	ulonglong uVar21;
	longlong lVar22;
	longlong unaff_r29;
	longlong unaff_r31;
	int iVar23;
	ulonglong uVar24;
	undefined4 in_stack_ffffff78;
	undefined in_stack_ffffff7f;
	undefined in_stack_ffffff8b;

	iVar18 = (int)param_2;
	lVar15 = (longlong)param_8;
	lVar14 = (longlong)param_7;
	lVar12 = (longlong)param_6;
	lVar11 = (longlong)param_5;
	lVar9 = (longlong)param_4;
	uVar4 = ZEXT48(&toc);
	uVar21 = ZEXT48(PTR_DAT_100f1804);
	uVar20 = ZEXT48(PTR_DAT_100f1abc);
	bVar1 = *(byte *)param_1;
	bVar2 = ((byte *)param_1)[1];
	if (param_3 - param_2 == 0) {
		iVar18 = 1;
	} else {
		lVar17 = random(0, param_3 - param_2, (char)param_3, (char)param_4, (char)param_5,
		    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffff78,
		    in_stack_ffffff7f, in_stack_ffffff8b);
		iVar18 = iVar18 + (int)lVar17;
	}
	lVar22 = 0x28 - (ulonglong)bVar1;
	lVar17 = (longlong)(int)(uint)bVar2 * (longlong)(int)(uint)bVar1 + 2;
	iVar19 = 0;
	do {
		iVar8 = (int)uVar4;
		uVar16 = (undefined)lVar15;
		uVar13 = (undefined)lVar12;
		uVar10 = (undefined)lVar9;
		if (iVar18 <= iVar19) {
			iVar18 = (int)unaff_r29;
			iVar19 = (int)unaff_r31;
			if ((param_1 & 0xffffffff) == (uVar4 - 0x1e87 & 0xffffffff)) {
				uVar10 = **(undefined **)(iVar8 + -0x7518);
				**(undefined **)(iVar8 + -0x7518) = 0;
				DRLG_MRectTrans(iVar19, iVar18 + 2, iVar19 + 5, iVar18 + 4);
				**(undefined **)(iVar8 + -0x7518) = uVar10;
				*(int *)(*(int *)(iVar8 + -0x7604) + 0x13c) = iVar19 * 2 + 0x15;
				*(int *)(*(int *)(iVar8 + -0x7604) + 0x140) = iVar18 * 2 + 0x16;
			}
			if (param_6 == 1) {
				piVar3 = *(int **)(iVar8 + -0x77b4);
				**(int **)(iVar8 + -0x77b0) = iVar19 * 2 + 0x13;
				*piVar3 = iVar18 * 2 + 0x14;
			}
			if (param_8 == 0) {
				piVar3 = *(int **)(iVar8 + -0x7520);
				**(int **)(iVar8 + -0x751c) = iVar19 * 2 + 0x13;
				*piVar3 = iVar18 * 2 + 0x14;
			}
			if ((iVar19 < param_4) && (iVar18 < param_5)) {
				uVar6 = 0;
			} else {
				if ((param_4 < iVar19) && (iVar18 < param_5)) {
					uVar6 = 1;
				} else {
					if ((iVar19 < param_4) && (param_5 < iVar18)) {
						uVar6 = 2;
					} else {
						uVar6 = 3;
					}
				}
			}
			return uVar6;
		}
		unaff_r31 = random(0, lVar22, (char)param_3, uVar10, (char)lVar11, uVar13, (char)lVar14, uVar16,
		    in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8b);
		unaff_r29 = random(0, 0x28 - (ulonglong)bVar2, (char)param_3, uVar10, (char)lVar11, uVar13,
		    (char)lVar14, uVar16, in_stack_ffffff78, in_stack_ffffff7f,
		    in_stack_ffffff8b);
		lVar9 = 0;
		lVar15 = 0;
		while ((int)lVar9 == 0) {
			lVar9 = 1;
			if (((param_4 != -1) && ((int)(param_4 - (uint)bVar1) <= (int)unaff_r31)) && ((int)unaff_r31 <= param_4 + 0xc)) {
				lVar9 = 0;
				unaff_r31 = unaff_r31 + 1;
			}
			if (((param_5 != -1) && ((int)(param_5 - (uint)bVar2) <= (int)unaff_r29)) && ((int)unaff_r29 <= param_5 + 0xc)) {
				lVar9 = 0;
				unaff_r29 = unaff_r29 + 1;
			}
			iVar23 = (int)unaff_r31;
			iVar8 = (int)unaff_r29;
			if (param_7 == 2) {
				if ((iVar23 < param_4) && (param_5 < iVar8)) {
					lVar9 = 0;
				}
			} else {
				if (param_7 < 2) {
					if (param_7 == 0) {
						if ((iVar23 < param_4) && (iVar8 < param_5)) {
							lVar9 = 0;
						}
					} else {
						if (((-1 < param_7) && (param_4 < iVar23)) && (iVar8 < param_5)) {
							lVar9 = 0;
						}
					}
				} else {
					if (((param_7 < 4) && (param_4 < iVar23)) && (param_5 < iVar8)) {
						lVar9 = 0;
					}
				}
			}
			lVar12 = uVar21 + unaff_r29;
			lVar7 = uVar20 + unaff_r29;
			lVar11 = param_1 + 2;
			lVar14 = 0;
			while (((int)lVar14 < (int)(uint)bVar2 && ((int)lVar9 == 1))) {
				param_3 = 0;
				while ((iVar8 = (int)param_3, iVar8 < (int)(uint)bVar1 && ((int)lVar9 == 1))) {
					if ((*(char *)lVar11 != '\0') && (*(char *)lVar11 != *(char *)((int)lVar12 + (iVar23 + iVar8) * 0x28))) {
						lVar9 = 0;
					}
					if (*(char *)((int)lVar7 + (iVar23 + iVar8) * 0x28) != '\0') {
						lVar9 = 0;
					}
					lVar11 = lVar11 + 1;
					param_3 = param_3 + 1;
				}
				lVar12 = lVar12 + 1;
				lVar7 = lVar7 + 1;
				lVar14 = lVar14 + 1;
			}
			if ((int)lVar9 == 0) {
				unaff_r31 = unaff_r31 + 1;
				if ((int)unaff_r31 == (int)lVar22) {
					unaff_r29 = unaff_r29 + 1;
					unaff_r31 = 0;
					if ((int)unaff_r29 == (int)(0x28 - (ulonglong)bVar2)) {
						unaff_r29 = 0;
					}
				}
				lVar15 = lVar15 + 1;
				if (4000 < (int)lVar15) {
					return 0xffffffffffffffff;
				}
			}
		}
		lVar5 = uVar21 + unaff_r29;
		lVar12 = 0;
		lVar7 = lVar17;
		while ((int)lVar12 < (int)(uint)bVar2) {
			lVar9 = param_1 + lVar7;
			param_3 = 0;
			uVar24 = (ulonglong)bVar1;
			if (bVar1 != 0) {
				do {
					if (*(char *)lVar9 != '\0') {
						lVar11 = (unaff_r31 + param_3) * 0x28;
						*(char *)((int)lVar5 + (int)lVar11) = *(char *)lVar9;
					}
					lVar7 = lVar7 + 1;
					lVar9 = lVar9 + 1;
					param_3 = param_3 + 1;
					uVar24 = uVar24 - 1;
				} while (uVar24 != 0);
			}
			lVar5 = lVar5 + 1;
			lVar12 = lVar12 + 1;
		}
		iVar19 = iVar19 + 1;
	} while (true);
}

longlong FUN_100280ac(char param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	longlong lVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	int iVar8;
	int iVar9;
	char *pcVar10;
	char *pcVar11;
	char *pcVar12;
	char *pcVar13;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	lVar7 = (longlong)param_8;
	lVar6 = (longlong)param_7;
	lVar5 = (longlong)param_6;
	lVar4 = (longlong)param_5;
	lVar3 = (longlong)param_4;
	lVar2 = (longlong)param_3;
	lVar1 = (longlong)param_1;
	iVar8 = 0;
	pcVar11 = PTR_DAT_100f1abc;
	pcVar10 = PTR_DAT_100f1804;
	do {
		iVar9 = 0;
		pcVar13 = pcVar11;
		pcVar12 = pcVar10;
		do {
			if ((*pcVar13 == '\0') && (*pcVar12 == '\r')) {
				lVar1 = random(0, 3, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6,
				    (char)lVar7, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
				if ((int)lVar1 == 1) {
					*pcVar12 = -0x5e;
				}
				if ((int)lVar1 == 2) {
					*pcVar12 = -0x5d;
				}
			}
			iVar9 = iVar9 + 1;
			pcVar12 = pcVar12 + 0x28;
			pcVar13 = pcVar13 + 0x28;
		} while (iVar9 < 0x28);
		iVar8 = iVar8 + 1;
		pcVar10 = pcVar10 + 1;
		pcVar11 = pcVar11 + 1;
	} while (iVar8 < 0x28);
	return lVar1;
}

void DRLG_L1Pass3(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	short sVar5;
	undefined **ppuVar6;
	ulonglong uVar7;
	ulonglong uVar8;
	short sVar10;
	longlong lVar9;
	short sVar11;
	longlong lVar12;
	short sVar17;
	int iVar14;
	int iVar15;
	int iVar16;
	longlong lVar13;
	int iVar19;
	longlong lVar18;
	int iVar20;
	longlong lVar21;
	longlong lVar22;
	undefined4 in_stack_ffffffb8;

	puVar4 = PTR_DAT_100f1a64;
	puVar3 = PTR_DAT_100f1a54;
	ppuVar6 = &toc;
	uVar7 = FUN_100b8f7c((ulonglong) * (uint *)PTR_DAT_100f1a64, param_2, param_3, param_4, param_5, param_6,
	    param_7, param_8, in_stack_ffffffb8);
	iVar2 = (int)uVar7;
	sVar10 = CONCAT11(*(undefined *)(iVar2 + 0xa9), *(undefined *)(iVar2 + 0xa8)) + 1;
	sVar11 = CONCAT11(*(undefined *)(iVar2 + 0xab), *(undefined *)(iVar2 + 0xaa)) + 1;
	sVar17 = CONCAT11(*(undefined *)(iVar2 + 0xad), *(undefined *)(iVar2 + 0xac)) + 1;
	iVar20 = 0;
	sVar5 = CONCAT11(*(undefined *)(iVar2 + 0xaf), *(undefined *)(iVar2 + 0xae)) + 1;
	iVar19 = 0;
	do {
		lVar21 = 0xe;
		iVar14 = 0;
		do {
			*(short *)(iVar19 + *(int *)puVar3 + iVar14) = sVar10;
			*(short *)(iVar19 + *(int *)puVar3 + iVar14 + 0xe0) = sVar11;
			*(short *)(iVar19 + *(int *)puVar3 + iVar14 + 2) = sVar17;
			iVar15 = iVar14 + 0x1c0;
			*(short *)(iVar19 + *(int *)puVar3 + iVar14 + 0xe2) = sVar5;
			*(short *)(iVar19 + *(int *)puVar3 + iVar15) = sVar10;
			*(short *)(iVar19 + *(int *)puVar3 + iVar15 + 0xe0) = sVar11;
			*(short *)(iVar19 + *(int *)puVar3 + iVar15 + 2) = sVar17;
			iVar16 = iVar14 + 0x380;
			*(short *)(iVar19 + *(int *)puVar3 + iVar15 + 0xe2) = sVar5;
			*(short *)(iVar19 + *(int *)puVar3 + iVar16) = sVar10;
			*(short *)(iVar19 + *(int *)puVar3 + iVar16 + 0xe0) = sVar11;
			*(short *)(iVar19 + *(int *)puVar3 + iVar16 + 2) = sVar17;
			iVar15 = iVar14 + 0x540;
			*(short *)(iVar19 + *(int *)puVar3 + iVar16 + 0xe2) = sVar5;
			*(short *)(iVar19 + *(int *)puVar3 + iVar15) = sVar10;
			*(short *)(iVar19 + *(int *)puVar3 + iVar15 + 0xe0) = sVar11;
			*(short *)(iVar19 + *(int *)puVar3 + iVar15 + 2) = sVar17;
			iVar14 = iVar14 + 0x700;
			*(short *)(iVar19 + *(int *)puVar3 + iVar15 + 0xe2) = sVar5;
			lVar21 = lVar21 + -1;
		} while (lVar21 != 0);
		iVar20 = iVar20 + 2;
		iVar19 = iVar19 + 4;
	} while (iVar20 < 0x70);
	uVar7 = ZEXT48(ppuVar6[-0x1df3]);
	lVar12 = 0;
	lVar21 = 0x20;
	do {
		lVar22 = 0x14;
		lVar9 = 0xe00;
		uVar8 = uVar7;
		do {
			puVar1 = (undefined *)(iVar2 + ((uint) * (byte *)uVar8 - 1) * 8);
			iVar20 = (int)lVar9;
			iVar19 = (int)lVar21;
			*(short *)(iVar19 + *(int *)puVar3 + iVar20) = CONCAT11(puVar1[1], *puVar1) + 1;
			*(short *)(iVar19 + *(int *)puVar3 + iVar20 + 0xe0) = CONCAT11(puVar1[3], puVar1[2]) + 1;
			*(short *)(iVar19 + *(int *)puVar3 + iVar20 + 2) = CONCAT11(puVar1[5], puVar1[4]) + 1;
			*(short *)(iVar19 + *(int *)puVar3 + iVar20 + 0xe2) = CONCAT11(puVar1[7], puVar1[6]) + 1;
			puVar1 = (undefined *)(iVar2 + ((uint)((byte *)uVar8)[0x28] - 1) * 8);
			iVar20 = (int)(lVar9 + 0x1c0);
			*(short *)(iVar19 + *(int *)puVar3 + iVar20) = CONCAT11(puVar1[1], *puVar1) + 1;
			*(short *)(iVar19 + *(int *)puVar3 + iVar20 + 0xe0) = CONCAT11(puVar1[3], puVar1[2]) + 1;
			*(short *)(iVar19 + *(int *)puVar3 + iVar20 + 2) = CONCAT11(puVar1[5], puVar1[4]) + 1;
			uVar8 = uVar8 + 0x50;
			lVar13 = (ulonglong) * (uint *)puVar3 + lVar9 + 0x1c0;
			lVar18 = (longlong)CONCAT11(puVar1[7], puVar1[6]) + 1;
			lVar9 = lVar9 + 0x380;
			*(undefined2 *)(iVar19 + (int)lVar13 + 0xe2) = (short)lVar18;
			lVar22 = lVar22 + -1;
		} while (lVar22 != 0);
		lVar12 = lVar12 + 1;
		uVar7 = uVar7 + 1;
		lVar21 = lVar21 + 4;
	} while ((int)lVar12 < 0x28);
	FUN_100b9100(*(int *)puVar4, (char)uVar8, (char)lVar9, (char)uVar7, (char)lVar21, (char)lVar12,
	    (char)lVar13, (char)lVar18, in_stack_ffffffb8);
	return;
}

void DRLG_LoadL1SP(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined8 uVar4;
	longlong lVar5;
	undefined4 in_stack_ffffffc8;

	puVar2 = PTR_DAT_100f1aac;
	puVar1 = PTR_DAT_100f1aa8;
	ppuVar3 = &toc;
	*(undefined4 *)PTR_DAT_100f1aac = 0;
	uVar4 = QuestStatus(6);
	if ((int)uVar4 != 0) {
		lVar5 = LoadFileInMem(ZEXT48(ppuVar3[-0x18ec]), (undefined4 *)0x0, param_3, param_4, param_5, param_6,
		    param_7, param_8, in_stack_ffffffc8);
		*(int *)puVar1 = (int)lVar5;
		*(undefined4 *)puVar2 = 1;
	}
	uVar4 = QuestStatus(0xc);
	if (((int)uVar4 != 0) && (*ppuVar3[-0x1dfc] == '\x01')) {
		lVar5 = LoadFileInMem(ZEXT48(ppuVar3[-0x18ed]), (undefined4 *)0x0, param_3, param_4, param_5, param_6,
		    param_7, param_8, in_stack_ffffffc8);
		*(int *)puVar1 = (int)lVar5;
		*(undefined4 *)puVar2 = 1;
	}
	uVar4 = QuestStatus(7);
	if ((int)uVar4 != 0) {
		lVar5 = LoadFileInMem(ZEXT48(ppuVar3[-0x18ee]), (undefined4 *)0x0, param_3, param_4, param_5, param_6,
		    param_7, param_8, in_stack_ffffffc8);
		*(int *)puVar1 = (int)lVar5;
		*(undefined4 *)puVar2 = 1;
	}
	return;
}

void DRLG_FreeL1SP(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	mem_free_dbg((int **)PTR_DAT_100f1aa8, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

void DRLG_Init_Globals(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined uVar1;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	int local_2c;

	memset((char)*(undefined4 *)PTR_DAT_100f1834, 0, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	memset((char)**(undefined4 **)(local_2c + -0x7680), 0, param_3, param_4, param_5, param_6, param_7,
	    param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	memset((char)**(undefined4 **)(local_2c + -0x767c), 0, param_3, param_4, param_5, param_6, param_7,
	    param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	memset((char)**(undefined4 **)(local_2c + -0x7630), 0, param_3, param_4, param_5, param_6, param_7,
	    param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	memset((char)**(undefined4 **)(local_2c + -0x7684), 0, param_3, param_4, param_5, param_6, param_7,
	    param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	memset((char)**(undefined4 **)(local_2c + -0x768c), 0, param_3, param_4, param_5, param_6, param_7,
	    param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	memset((char)**(undefined4 **)(local_2c + -0x7594), 0, param_3, param_4, param_5, param_6, param_7,
	    param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	memset((char)**(undefined4 **)(local_2c + -0x7598), 0, param_3, param_4, param_5, param_6, param_7,
	    param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	if (**(int **)(local_2c + -0x752c) == 0) {
		if (**(int **)(local_2c + -0x776c) == 0) {
			uVar1 = 0xf;
		} else {
			uVar1 = 3;
		}
	} else {
		uVar1 = 0;
	}
	memset((char)**(undefined4 **)(local_2c + -0x758c), 0, uVar1, param_4, param_5, param_6, param_7,
	    param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	return;
}

void DRLG_InitL1Vals(void)

{
	short sVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined uVar4;
	int iVar5;
	int iVar6;
	int iVar7;
	int iVar8;
	longlong lVar9;

	puVar3 = PTR_DAT_100f1a54;
	puVar2 = PTR_DAT_100f1a38;
	iVar8 = 0;
	iVar7 = 0;
	do {
		iVar5 = 0;
		lVar9 = 0x70;
		iVar6 = 0;
		do {
			sVar1 = *(short *)(iVar7 + *(int *)puVar3 + iVar5);
			if (sVar1 == 0xc) {
				uVar4 = 1;
			LAB_1002875c:
				*(undefined *)(iVar8 + *(int *)puVar2 + iVar6) = uVar4;
			} else {
				if (sVar1 == 0xb) {
					uVar4 = 2;
					goto LAB_1002875c;
				}
				if (sVar1 == 0x47) {
					uVar4 = 1;
					goto LAB_1002875c;
				}
				if (sVar1 == 0x103) {
					uVar4 = 5;
					goto LAB_1002875c;
				}
				if (sVar1 == 0xf9) {
					uVar4 = 2;
					goto LAB_1002875c;
				}
				if (sVar1 == 0x145) {
					uVar4 = 2;
					goto LAB_1002875c;
				}
				if (sVar1 == 0x141) {
					uVar4 = 1;
					goto LAB_1002875c;
				}
				if (sVar1 == 0xff) {
					uVar4 = 4;
					goto LAB_1002875c;
				}
				if (sVar1 == 0xd3) {
					uVar4 = 1;
					goto LAB_1002875c;
				}
				if (sVar1 == 0x158) {
					uVar4 = 2;
					goto LAB_1002875c;
				}
				if (sVar1 == 0x155) {
					uVar4 = 1;
					goto LAB_1002875c;
				}
				if (sVar1 == 0x14b) {
					uVar4 = 2;
					goto LAB_1002875c;
				}
				if (sVar1 == 0x1a2) {
					uVar4 = 1;
					goto LAB_1002875c;
				}
				if (sVar1 == 0x1a5) {
					uVar4 = 2;
					goto LAB_1002875c;
				}
			}
			iVar5 = iVar5 + 0xe0;
			iVar6 = iVar6 + 0x70;
			lVar9 = lVar9 + -1;
		} while (lVar9 != 0);
		iVar8 = iVar8 + 1;
		iVar7 = iVar7 + 2;
		if (0x6f < iVar8) {
			return;
		}
	} while (true);
}

void LoadL1Dungeon(longlong lParm1, undefined8 uParm2, undefined8 uParm3)

{
	byte bVar1;
	byte bVar2;
	byte bVar3;
	undefined4 *puVar4;
	undefined4 *puVar5;
	undefined *puVar6;
	undefined **ppuVar7;
	ulonglong uVar8;
	undefined uVar9;
	undefined8 uVar10;
	undefined *puVar12;
	ulonglong uVar11;
	undefined uVar13;
	undefined8 uVar14;
	undefined *puVar16;
	ulonglong uVar15;
	undefined uVar17;
	ulonglong uVar18;
	ulonglong uVar19;
	undefined uVar20;
	undefined4 uVar22;
	ulonglong uVar21;
	undefined uVar23;
	undefined8 in_r9;
	undefined4 uVar25;
	ulonglong uVar24;
	undefined uVar26;
	undefined8 in_r10;
	undefined4 uVar28;
	longlong lVar27;
	int iVar29;
	undefined uVar30;
	longlong lVar31;
	ulonglong uVar32;
	undefined4 in_stack_ffffffa8;
	int *local_18[6];

	puVar6 = PTR_DAT_100f1a9c;
	puVar12 = PTR_DAT_100f1a94;
	uVar28 = (undefined4)in_r10;
	uVar25 = (undefined4)in_r9;
	ppuVar7 = &toc;
	uVar22 = 0x10;
	uVar19 = ZEXT48(PTR_DAT_100f1a9c);
	*(undefined4 *)PTR_DAT_100f1aa0 = 0x10;
	puVar16 = PTR_DAT_100f1a98;
	uVar18 = ZEXT48(PTR_DAT_100f1a98);
	*(undefined4 *)puVar6 = 0x10;
	*(undefined4 *)puVar16 = 0x60;
	*(undefined4 *)puVar12 = 0x60;
	uVar14 = uParm3;
	DRLG_InitTrans((char)puVar12, (char)uParm2, (char)uParm3, (char)puVar16, (char)puVar6, 0x10, (char)in_r9,
	    (char)in_r10, in_stack_ffffffa8);
	uVar10 = 0;
	uVar8 = LoadFileInMem(lParm1, (undefined4 *)0x0, uVar14, uVar18, uVar19, uVar22, uVar25, uVar28,
	    in_stack_ffffffa8);
	local_18[0] = (int *)uVar8;
	uVar19 = FUN_100b8f7c(uVar8 & 0xffffffff, uVar10, uVar14, uVar18, uVar19, uVar22, uVar25, uVar28,
	    in_stack_ffffffa8);
	uVar21 = ZEXT48(ppuVar7[-0x1df3]);
	iVar29 = 0;
	uVar24 = ZEXT48(ppuVar7[-0x1d45]);
	uVar8 = uVar21;
	uVar18 = uVar24;
	do {
		lVar31 = 5;
		lVar27 = 0;
		uVar11 = uVar8;
		uVar15 = uVar18;
		do {
			puVar12 = (undefined *)uVar11;
			*puVar12 = 0x16;
			puVar16 = (undefined *)uVar15;
			*puVar16 = 0;
			puVar12[0x28] = 0x16;
			puVar16[0x28] = 0;
			puVar12[0x50] = 0x16;
			puVar16[0x50] = 0;
			puVar12[0x78] = 0x16;
			puVar16[0x78] = 0;
			puVar12[0xa0] = 0x16;
			puVar16[0xa0] = 0;
			puVar12[200] = 0x16;
			puVar16[200] = 0;
			puVar12[0xf0] = 0x16;
			puVar16[0xf0] = 0;
			puVar12[0x118] = 0x16;
			uVar11 = uVar11 + 0x140;
			puVar16[0x118] = 0;
			uVar15 = uVar15 + 0x140;
			lVar31 = lVar31 + -1;
		} while (lVar31 != 0);
		iVar29 = iVar29 + 1;
		uVar18 = uVar18 + 1;
		uVar8 = uVar8 + 1;
	} while (iVar29 < 0x28);
	bVar1 = *(byte *)uVar19;
	uVar8 = (ulonglong)bVar1;
	lVar31 = uVar19 + 4;
	bVar2 = ((byte *)uVar19)[2];
	uVar18 = (ulonglong)bVar2;
	while (true) {
		uVar25 = (undefined4)uVar24;
		uVar22 = (undefined4)uVar21;
		iVar29 = (int)lVar27;
		if ((int)(uint)bVar2 <= iVar29)
			break;
		uVar11 = uVar21;
		uVar15 = uVar24;
		uVar32 = uVar8;
		if (bVar1 != 0) {
			do {
				bVar3 = *(byte *)lVar31;
				uVar19 = (ulonglong)bVar3;
				if (bVar3 == 0) {
					*(byte *)uVar11 = 0xd;
				} else {
					*(byte *)uVar11 = bVar3;
					uVar19 = (ulonglong) * (byte *)uVar15 | 0x80;
					*(byte *)uVar15 = (byte)uVar19;
				}
				lVar31 = lVar31 + 2;
				uVar11 = uVar11 + 0x28;
				uVar15 = uVar15 + 0x28;
				uVar32 = uVar32 - 1;
			} while (uVar32 != 0);
		}
		uVar21 = uVar21 + 1;
		uVar24 = uVar24 + 1;
		lVar27 = lVar27 + 1;
	}
	FUN_100280ac((char)uVar19, (char)uVar11, (char)uVar15, bVar1, bVar2, (char)uVar21, (char)uVar24,
	    (char)lVar27, in_stack_ffffffa8);
	uVar17 = (undefined)uVar15;
	puVar4 = (undefined4 *)ppuVar7[-0x1dec];
	uVar13 = SUB41(puVar4, 0);
	puVar5 = (undefined4 *)ppuVar7[-0x1ded];
	*puVar4 = (int)uParm2;
	*puVar5 = (int)uParm3;
	uVar9 = DRLG_L1Pass3(ZEXT48(puVar5), ZEXT48(puVar4), uVar15, uVar8, uVar18, uVar22, uVar25, iVar29,
	    in_stack_ffffffa8);
	DRLG_Init_Globals(uVar9, uVar13, uVar17, (char)uVar8, (char)uVar18, (char)uVar22, (char)uVar25, (char)iVar29,
	    in_stack_ffffffa8);
	DRLG_InitL1Vals();
	FUN_1006aeb8(ZEXT48(local_18[0]), 0, 0, uVar8, uVar18, uVar22, uVar25, iVar29, in_stack_ffffffa8);
	uVar30 = (undefined)iVar29;
	uVar26 = (undefined)uVar25;
	uVar23 = (undefined)uVar22;
	uVar20 = (undefined)uVar18;
	uVar17 = (undefined)uVar8;
	uVar9 = 0;
	uVar13 = 0;
	FUN_10083ca0(ZEXT48(local_18[0]), 0, 0, uVar8, uVar18, uVar22, uVar25, iVar29, in_stack_ffffffa8);
	FUN_100b9100((int)local_18[0], uVar9, uVar13, uVar17, uVar20, uVar23, uVar26, uVar30, in_stack_ffffffa8);
	mem_free_dbg(local_18, uVar9, uVar13, uVar17, uVar20, uVar23, uVar26, uVar30, in_stack_ffffffa8);
	return;
}

void LoadPreL1Dungeon(longlong param_1, undefined4 param_2, undefined4 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11, undefined4 param_12)

{
	byte bVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	ulonglong uVar4;
	undefined8 uVar5;
	undefined *puVar7;
	ulonglong uVar6;
	undefined uVar8;
	ulonglong uVar9;
	undefined *puVar11;
	ulonglong uVar10;
	undefined uVar12;
	ulonglong uVar13;
	char cVar14;
	undefined8 uVar15;
	byte bVar16;
	ulonglong uVar17;
	undefined uVar18;
	longlong lVar19;
	undefined uVar20;
	int iVar21;
	byte bVar22;
	ulonglong uVar23;
	longlong lVar24;
	undefined4 in_stack_ffffff98;
	int *local_18[6];

	puVar2 = PTR_DAT_100f1a9c;
	puVar7 = PTR_DAT_100f1a94;
	ppuVar3 = &toc;
	uVar15 = 0x10;
	uVar9 = ZEXT48(PTR_DAT_100f1a94);
	*(undefined4 *)PTR_DAT_100f1aa0 = 0x10;
	puVar11 = PTR_DAT_100f1a98;
	uVar13 = ZEXT48(PTR_DAT_100f1a98);
	*(undefined4 *)puVar2 = 0x10;
	uVar5 = 0;
	*(undefined4 *)puVar11 = 0x60;
	*(undefined4 *)puVar7 = 0x60;
	uVar4 = LoadFileInMem(param_1, (undefined4 *)0x0, uVar9, uVar13, 0x10, param_6, param_7, param_8,
	    in_stack_ffffff98);
	local_18[0] = (int *)uVar4;
	uVar13 = FUN_100b8f7c(uVar4 & 0xffffffff, uVar5, uVar9, uVar13, uVar15, param_6, param_7, param_8,
	    in_stack_ffffff98);
	uVar23 = ZEXT48(ppuVar3[-0x1df3]);
	iVar21 = 0;
	uVar17 = ZEXT48(ppuVar3[-0x1d45]);
	uVar4 = uVar23;
	uVar9 = uVar17;
	do {
		lVar24 = 5;
		lVar19 = 0;
		uVar6 = uVar4;
		uVar10 = uVar9;
		do {
			puVar7 = (undefined *)uVar6;
			*puVar7 = 0x16;
			puVar11 = (undefined *)uVar10;
			*puVar11 = 0;
			puVar7[0x28] = 0x16;
			puVar11[0x28] = 0;
			puVar7[0x50] = 0x16;
			puVar11[0x50] = 0;
			puVar7[0x78] = 0x16;
			puVar11[0x78] = 0;
			puVar7[0xa0] = 0x16;
			puVar11[0xa0] = 0;
			puVar7[200] = 0x16;
			puVar11[200] = 0;
			puVar7[0xf0] = 0x16;
			puVar11[0xf0] = 0;
			puVar7[0x118] = 0x16;
			uVar6 = uVar6 + 0x140;
			puVar11[0x118] = 0;
			uVar10 = uVar10 + 0x140;
			lVar24 = lVar24 + -1;
		} while (lVar24 != 0);
		iVar21 = iVar21 + 1;
		uVar9 = uVar9 + 1;
		uVar4 = uVar4 + 1;
	} while (iVar21 < 0x28);
	bVar16 = *(byte *)uVar13;
	bVar22 = ((byte *)uVar13)[2];
	lVar24 = uVar13 + 4;
	uVar4 = uVar23;
	while (true) {
		uVar20 = (undefined)lVar19;
		uVar18 = (undefined)uVar17;
		uVar8 = (undefined)uVar6;
		if ((int)(uint)bVar22 <= (int)lVar19)
			break;
		uVar6 = uVar4;
		uVar10 = uVar17;
		uVar9 = (ulonglong)bVar16;
		if (bVar16 != 0) {
			do {
				bVar1 = *(byte *)lVar24;
				uVar13 = (ulonglong)bVar1;
				if (bVar1 == 0) {
					*(byte *)uVar6 = 0xd;
				} else {
					*(byte *)uVar6 = bVar1;
					uVar13 = (ulonglong) * (byte *)uVar10 | 0x80;
					*(byte *)uVar10 = (byte)uVar13;
				}
				lVar24 = lVar24 + 2;
				uVar6 = uVar6 + 0x28;
				uVar10 = uVar10 + 0x28;
				uVar9 = uVar9 - 1;
			} while (uVar9 != 0);
		}
		uVar4 = uVar4 + 1;
		uVar17 = uVar17 + 1;
		lVar19 = lVar19 + 1;
	}
	FUN_100280ac((char)uVar13, uVar8, (char)uVar10, (char)uVar4, bVar16, uVar18, uVar20, bVar22,
	    in_stack_ffffff98);
	uVar4 = ZEXT48(ppuVar3[-0x1d50]);
	lVar19 = 0x14;
	cVar14 = '\0';
	do {
		puVar11 = (undefined *)uVar23;
		puVar7 = (undefined *)uVar4;
		*puVar7 = *puVar11;
		puVar7[0x28] = puVar11[0x28];
		puVar7[0x50] = puVar11[0x50];
		puVar7[0x78] = puVar11[0x78];
		puVar7[0xa0] = puVar11[0xa0];
		puVar7[200] = puVar11[200];
		puVar7[0xf0] = puVar11[0xf0];
		puVar7[0x118] = puVar11[0x118];
		puVar7[0x140] = puVar11[0x140];
		puVar7[0x168] = puVar11[0x168];
		puVar7[400] = puVar11[400];
		puVar7[0x1b8] = puVar11[0x1b8];
		puVar7[0x1e0] = puVar11[0x1e0];
		puVar7[0x208] = puVar11[0x208];
		puVar7[0x230] = puVar11[0x230];
		puVar7[600] = puVar11[600];
		puVar7[0x280] = puVar11[0x280];
		puVar7[0x2a8] = puVar11[0x2a8];
		puVar7[0x2d0] = puVar11[0x2d0];
		puVar7[0x2f8] = puVar11[0x2f8];
		puVar7[800] = puVar11[800];
		puVar7[0x348] = puVar11[0x348];
		puVar7[0x370] = puVar11[0x370];
		puVar7[0x398] = puVar11[0x398];
		puVar7[0x3c0] = puVar11[0x3c0];
		puVar7[1000] = puVar11[1000];
		puVar7[0x410] = puVar11[0x410];
		puVar7[0x438] = puVar11[0x438];
		puVar7[0x460] = puVar11[0x460];
		puVar7[0x488] = puVar11[0x488];
		puVar7[0x4b0] = puVar11[0x4b0];
		puVar7[0x4d8] = puVar11[0x4d8];
		puVar7[0x500] = puVar11[0x500];
		puVar7[0x528] = puVar11[0x528];
		puVar7[0x550] = puVar11[0x550];
		puVar7[0x578] = puVar11[0x578];
		puVar7[0x5a0] = puVar11[0x5a0];
		puVar7[0x5c8] = puVar11[0x5c8];
		puVar7[0x5f0] = puVar11[0x5f0];
		puVar7[0x618] = puVar11[0x618];
		cVar14 = cVar14 + '\x01';
		puVar7[1] = puVar11[1];
		puVar7[0x29] = puVar11[0x29];
		puVar7[0x51] = puVar11[0x51];
		puVar7[0x79] = puVar11[0x79];
		puVar7[0xa1] = puVar11[0xa1];
		puVar7[0xc9] = puVar11[0xc9];
		puVar7[0xf1] = puVar11[0xf1];
		puVar7[0x119] = puVar11[0x119];
		puVar7[0x141] = puVar11[0x141];
		puVar7[0x169] = puVar11[0x169];
		puVar7[0x191] = puVar11[0x191];
		puVar7[0x1b9] = puVar11[0x1b9];
		puVar7[0x1e1] = puVar11[0x1e1];
		puVar7[0x209] = puVar11[0x209];
		puVar7[0x231] = puVar11[0x231];
		puVar7[0x259] = puVar11[0x259];
		puVar7[0x281] = puVar11[0x281];
		puVar7[0x2a9] = puVar11[0x2a9];
		puVar7[0x2d1] = puVar11[0x2d1];
		puVar7[0x2f9] = puVar11[0x2f9];
		puVar7[0x321] = puVar11[0x321];
		puVar7[0x349] = puVar11[0x349];
		puVar7[0x371] = puVar11[0x371];
		puVar7[0x399] = puVar11[0x399];
		puVar7[0x3c1] = puVar11[0x3c1];
		puVar7[0x3e9] = puVar11[0x3e9];
		puVar7[0x411] = puVar11[0x411];
		puVar7[0x439] = puVar11[0x439];
		puVar7[0x461] = puVar11[0x461];
		puVar7[0x489] = puVar11[0x489];
		puVar7[0x4b1] = puVar11[0x4b1];
		puVar7[0x4d9] = puVar11[0x4d9];
		puVar7[0x501] = puVar11[0x501];
		puVar7[0x529] = puVar11[0x529];
		puVar7[0x551] = puVar11[0x551];
		puVar7[0x579] = puVar11[0x579];
		puVar7[0x5a1] = puVar11[0x5a1];
		puVar7[0x5c9] = puVar11[0x5c9];
		puVar7[0x5f1] = puVar11[0x5f1];
		uVar23 = uVar23 + 2;
		puVar7[0x619] = puVar11[0x619];
		uVar4 = uVar4 + 2;
		uVar12 = (undefined)uVar4;
		lVar19 = lVar19 + -1;
	} while (lVar19 != 0);
	FUN_100b9100((int)local_18[0], uVar8, uVar12, cVar14, bVar16, uVar18, uVar20, bVar22, in_stack_ffffff98);
	mem_free_dbg(local_18, uVar8, uVar12, cVar14, bVar16, uVar18, uVar20, bVar22, in_stack_ffffff98);
	return;
}

void FUN_10028d80(void)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	int iVar5;
	longlong lVar6;

	iVar5 = 0;
	puVar3 = PTR_DAT_100f1804;
	puVar4 = PTR_DAT_100f1abc;
	do {
		lVar6 = 5;
		puVar1 = puVar3;
		puVar2 = puVar4;
		do {
			*puVar1 = 0;
			*puVar2 = 0;
			puVar1[0x28] = 0;
			puVar2[0x28] = 0;
			puVar1[0x50] = 0;
			puVar2[0x50] = 0;
			puVar1[0x78] = 0;
			puVar2[0x78] = 0;
			puVar1[0xa0] = 0;
			puVar2[0xa0] = 0;
			puVar1[200] = 0;
			puVar2[200] = 0;
			puVar1[0xf0] = 0;
			puVar2[0xf0] = 0;
			puVar1[0x118] = 0;
			puVar1 = puVar1 + 0x140;
			puVar2[0x118] = 0;
			puVar2 = puVar2 + 0x140;
			lVar6 = lVar6 + -1;
		} while (lVar6 != 0);
		iVar5 = iVar5 + 1;
		puVar4 = puVar4 + 1;
		puVar3 = puVar3 + 1;
	} while (iVar5 < 0x28);
	return;
}

void FUN_10028e04(void)

{
	byte *pbVar1;
	byte *pbVar2;
	int iVar3;
	longlong lVar4;

	iVar3 = 0;
	pbVar2 = PTR_DAT_100f1abc;
	do {
		lVar4 = 5;
		pbVar1 = pbVar2;
		do {
			*pbVar1 = *pbVar1 & 0xbf;
			pbVar1[0x28] = pbVar1[0x28] & 0xbf;
			pbVar1[0x50] = pbVar1[0x50] & 0xbf;
			pbVar1[0x78] = pbVar1[0x78] & 0xbf;
			pbVar1[0xa0] = pbVar1[0xa0] & 0xbf;
			pbVar1[200] = pbVar1[200] & 0xbf;
			pbVar1[0xf0] = pbVar1[0xf0] & 0xbf;
			pbVar1[0x118] = pbVar1[0x118] & 0xbf;
			pbVar1 = pbVar1 + 0x140;
			lVar4 = lVar4 + -1;
		} while (lVar4 != 0);
		iVar3 = iVar3 + 1;
		pbVar2 = pbVar2 + 1;
	} while (iVar3 < 0x28);
	return;
}

void FUN_10028e94(int param_1, int param_2, longlong param_3, int param_4)

{
	int iVar1;
	ulonglong uVar2;
	longlong lVar3;
	int iVar4;
	undefined *puVar5;
	longlong lVar6;
	int iVar7;
	undefined *puVar8;

	iVar4 = (int)param_3;
	iVar7 = 0;
	puVar5 = PTR_DAT_100f1804;
	while (iVar7 < param_4) {
		lVar6 = 0;
		if (0 < iVar4) {
			if (8 < iVar4) {
				uVar2 = (ulonglong)(iVar4 - 1U >> 3);
				puVar8 = puVar5 + param_2;
				if (0 < iVar4 + -8) {
					do {
						iVar1 = (int)lVar6 + param_1;
						lVar6 = lVar6 + 8;
						puVar8[iVar1 * 0x28] = 1;
						puVar8[(iVar1 + 1) * 0x28] = 1;
						puVar8[(iVar1 + 2) * 0x28] = 1;
						puVar8[(iVar1 + 3) * 0x28] = 1;
						puVar8[(iVar1 + 4) * 0x28] = 1;
						puVar8[(iVar1 + 5) * 0x28] = 1;
						puVar8[(iVar1 + 6) * 0x28] = 1;
						puVar8[(iVar1 + 7) * 0x28] = 1;
						uVar2 = uVar2 - 1;
					} while (uVar2 != 0);
				}
			}
			lVar3 = param_3 - lVar6;
			if ((int)lVar6 < iVar4) {
				do {
					iVar1 = (int)lVar6;
					lVar6 = lVar6 + 1;
					puVar5[(iVar1 + param_1) * 0x28 + param_2] = 1;
					lVar3 = lVar3 + -1;
				} while (lVar3 != 0);
			}
		}
		puVar5 = puVar5 + 1;
		iVar7 = iVar7 + 1;
	}
	return;
}

undefined8 FUN_10028f90(longlong param_1, int param_2, longlong param_3, int param_4)

{
	int iVar1;
	undefined *puVar2;
	longlong lVar3;
	int iVar4;
	longlong lVar5;

	iVar4 = 0;
	puVar2 = PTR_DAT_100f1804 + param_2;
	do {
		if (param_4 <= iVar4) {
			return 1;
		}
		lVar3 = 0;
		lVar5 = param_3;
		if (0 < (int)param_3) {
			do {
				if ((((param_1 + lVar3 < 0) || (iVar1 = (int)(param_1 + lVar3), 0x27 < iVar1)) || (param_2 + iVar4 < 0)) || (0x27 < param_2 + iVar4)) {
					return 0;
				}
				if (puVar2[iVar1 * 0x28] != '\0') {
					return 0;
				}
				lVar3 = lVar3 + 1;
				lVar5 = lVar5 + -1;
			} while (lVar5 != 0);
		}
		puVar2 = puVar2 + 1;
		iVar4 = iVar4 + 1;
	} while (true);
}

// WARNING: Removing unreachable block (ram,0x1002908c)

void FUN_10029014(longlong param_1, longlong param_2, ulonglong param_3, ulonglong param_4, int param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	int iVar3;
	bool bVar4;
	longlong lVar5;
	longlong lVar6;
	undefined8 uVar7;
	int iVar8;
	ulonglong uVar9;
	undefined param_6_00;
	ulonglong uVar10;
	undefined param_7_00;
	undefined param_8_00;
	longlong param_1_00;
	longlong lVar11;
	undefined uVar12;
	longlong param_2_00;
	longlong lVar13;
	longlong lVar14;
	ulonglong param_4_00;
	ulonglong param_3_00;
	undefined4 param_9_00;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	lVar14 = (longlong)param_8;
	lVar13 = (longlong)param_7;
	lVar11 = (longlong)param_6;
	lVar6 = (longlong)param_5;
	uVar9 = param_3;
	uVar10 = param_4;
	lVar5 = random(0, 4, (char)param_3, (char)param_4, (char)param_5, param_6, param_7, param_8,
	    param_9_00, in_stack_ffffffaf, in_stack_ffffffbb);
	if (param_5 == 1) {
		if ((int)lVar5 == 0) {
			bVar4 = false;
		} else {
			bVar4 = true;
		}
	} else {
		if ((int)lVar5 == 0) {
			bVar4 = true;
		} else {
			bVar4 = false;
		}
	}
	if (bVar4) {
		iVar8 = 0;
		do {
			param_6_00 = (undefined)uVar9;
			param_7_00 = (undefined)uVar10;
			lVar5 = random(0, 5, param_6_00, param_7_00, (char)lVar6, (char)lVar11, (char)lVar13,
			    (char)lVar14, param_9_00, in_stack_ffffffaf, in_stack_ffffffbb);
			uVar1 = ((int)lVar5 + 2 >> 1) << 1;
			param_3_00 = (ulonglong)uVar1;
			lVar5 = random(0, 5, param_6_00, param_7_00, (char)lVar6, (char)lVar11, (char)lVar13,
			    (char)lVar14, param_9_00, in_stack_ffffffaf, in_stack_ffffffbb);
			uVar9 = param_3_00 + 2;
			uVar2 = ((int)(lVar5 + 2U) >> 1) * 2;
			param_4_00 = (ulonglong)uVar2;
			uVar10 = param_4_00 + 1;
			param_1_00 = (param_1 + (ulonglong)(uint)((int)param_3 >> 1) + (ulonglong)((int)param_3 < 0 && (param_3 & 1) != 0)) - (lVar5 + 2U & 0xffffffff00000000 | (ulonglong)(uint)((int)uVar1 >> 1));
			iVar3 = (int)(param_2 - param_4_00);
			lVar5 = FUN_10028f90(param_1_00 + -1, iVar3 + -1, uVar9, (int)uVar10);
			param_8_00 = (undefined)lVar14;
			param_7_00 = (undefined)lVar13;
			param_6_00 = (undefined)lVar11;
			iVar8 = iVar8 + 1;
			if (lVar5 != 0)
				break;
		} while (iVar8 < 0x14);
		if ((int)lVar5 == 1) {
			FUN_10028e94((int)param_1_00, iVar3, param_3_00, uVar2);
		}
		iVar8 = (int)(param_2 + param_4);
		uVar7 = FUN_10028f90(param_1_00 + -1, iVar8, param_3_00 + 2, uVar2 + 1);
		if ((int)uVar7 == 1) {
			FUN_10028e94((int)param_1_00, iVar8, param_3_00, uVar2);
		}
		if ((int)lVar5 == 1) {
			FUN_10029014(param_1_00, param_2 - param_4_00, param_3_00, param_4_00, 0, param_6_00, param_7_00,
			    param_8_00, param_9_00);
		}
		if ((int)uVar7 == 1) {
			FUN_10029014(param_1_00, param_2 + param_4, param_3_00, param_4_00, 0, param_6_00, param_7_00,
			    param_8_00, param_9_00);
		}
	} else {
		if (!bVar4) {
			iVar8 = 0;
			do {
				param_6_00 = (undefined)uVar9;
				param_7_00 = (undefined)uVar10;
				param_8_00 = (undefined)lVar6;
				uVar12 = (undefined)lVar11;
				lVar6 = random(0, 5, param_6_00, param_7_00, param_8_00, uVar12, (char)lVar13, (char)lVar14,
				    param_9_00, in_stack_ffffffaf, in_stack_ffffffbb);
				param_3_00 = (ulonglong)(uint)(((int)lVar6 + 2 >> 1) << 1);
				lVar6 = random(0, 5, param_6_00, param_7_00, param_8_00, uVar12, (char)lVar13, (char)lVar14,
				    param_9_00, in_stack_ffffffaf, in_stack_ffffffbb);
				uVar10 = param_3_00 + 1;
				uVar1 = ((int)(lVar6 + 2U) >> 1) * 2;
				param_4_00 = (ulonglong)uVar1;
				uVar9 = param_4_00 + 2;
				param_2_00 = (param_2 + (ulonglong)(uint)((int)param_4 >> 1) + (ulonglong)((int)param_4 < 0 && (param_4 & 1) != 0)) - (lVar6 + 2U & 0xffffffff00000000 | (ulonglong)(uint)((int)uVar1 >> 1));
				param_1_00 = param_1 - param_3_00;
				iVar3 = (int)param_2_00;
				lVar6 = param_1_00;
				lVar11 = param_2_00;
				lVar5 = FUN_10028f90(param_1_00 + -1, iVar3 + -1, uVar9, (int)uVar10);
				param_8_00 = (undefined)lVar14;
				param_7_00 = (undefined)lVar13;
				param_6_00 = (undefined)lVar11;
				iVar8 = iVar8 + 1;
				if (lVar5 != 0)
					break;
			} while (iVar8 < 0x14);
			if ((int)lVar5 == 1) {
				FUN_10028e94((int)param_1_00, iVar3, param_3_00, uVar1);
			}
			param_1 = param_1 + param_3;
			uVar7 = FUN_10028f90(param_1, iVar3 + -1, param_3_00 + 1, uVar1 + 2);
			if ((int)uVar7 == 1) {
				FUN_10028e94((int)param_1, iVar3, param_3_00, uVar1);
			}
			if ((int)lVar5 == 1) {
				FUN_10029014(param_1_00, param_2_00, param_3_00, param_4_00, 1, param_6_00, param_7_00, param_8_00,
				    param_9_00);
			}
			if ((int)uVar7 == 1) {
				FUN_10029014(param_1, param_2_00, param_3_00, param_4_00, 1, param_6_00, param_7_00, param_8_00,
				    param_9_00);
			}
		}
	}
	return;
}

void FUN_100292c8(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	undefined **ppuVar2;
	longlong lVar3;
	uint uVar4;
	undefined *puVar5;
	uint uVar6;
	uint uVar7;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined in_stack_ffffffcb;

	puVar5 = PTR_DAT_100f1804;
	ppuVar2 = &toc;
	lVar3 = random(0, 2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8,
	    in_stack_ffffffbf, in_stack_ffffffcb);
	if ((int)lVar3 != 0) {
		uVar7 = 1;
		uVar6 = 0x27;
		lVar3 = random(0, 2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8,
		    in_stack_ffffffbf, in_stack_ffffffcb);
		ppuVar2[-0x13c8] = (undefined *)lVar3;
		lVar3 = random(0, 2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8,
		    in_stack_ffffffbf, in_stack_ffffffcb);
		ppuVar2[-0x13c9] = (undefined *)lVar3;
		lVar3 = random(0, 2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8,
		    in_stack_ffffffbf, in_stack_ffffffcb);
		ppuVar2[-0x13ca] = (undefined *)lVar3;
		if ((int)(ppuVar2[-0x13c8] + (int)ppuVar2[-0x13ca]) < 2) {
			ppuVar2[-0x13c9] = (undefined *)0x1;
		}
		if (ppuVar2[-0x13c8] == (undefined *)0x0) {
			uVar7 = 0x12;
		} else {
			FUN_10028e94(1, 0xf, 10, 10);
		}
		if (ppuVar2[-0x13c9] != (undefined *)0x0) {
			FUN_10028e94(0xf, 0xf, 10, 10);
		}
		if (ppuVar2[-0x13ca] == (undefined *)0x0) {
			uVar6 = 0x16;
		} else {
			FUN_10028e94(0x1d, 0xf, 10, 10);
		}
		puVar5 = puVar5 + uVar7 * 0x28;
		uVar4 = uVar6 - uVar7;
		if (uVar7 < uVar6) {
			uVar1 = (ulonglong)(uVar4 >> 3);
			if (uVar4 >> 3 != 0) {
				do {
					puVar5[0x11] = 1;
					puVar5[0x12] = 1;
					puVar5[0x13] = 1;
					puVar5[0x14] = 1;
					puVar5[0x15] = 1;
					puVar5[0x16] = 1;
					puVar5[0x39] = 1;
					puVar5[0x3a] = 1;
					puVar5[0x3b] = 1;
					puVar5[0x3c] = 1;
					puVar5[0x3d] = 1;
					puVar5[0x3e] = 1;
					puVar5[0x61] = 1;
					puVar5[0x62] = 1;
					puVar5[99] = 1;
					puVar5[100] = 1;
					puVar5[0x65] = 1;
					puVar5[0x66] = 1;
					puVar5[0x89] = 1;
					puVar5[0x8a] = 1;
					puVar5[0x8b] = 1;
					puVar5[0x8c] = 1;
					puVar5[0x8d] = 1;
					puVar5[0x8e] = 1;
					puVar5[0xb1] = 1;
					puVar5[0xb2] = 1;
					puVar5[0xb3] = 1;
					puVar5[0xb4] = 1;
					puVar5[0xb5] = 1;
					puVar5[0xb6] = 1;
					puVar5[0xd9] = 1;
					puVar5[0xda] = 1;
					puVar5[0xdb] = 1;
					puVar5[0xdc] = 1;
					puVar5[0xdd] = 1;
					puVar5[0xde] = 1;
					puVar5[0x101] = 1;
					puVar5[0x102] = 1;
					puVar5[0x103] = 1;
					puVar5[0x104] = 1;
					puVar5[0x105] = 1;
					puVar5[0x106] = 1;
					puVar5[0x129] = 1;
					puVar5[0x12a] = 1;
					puVar5[299] = 1;
					puVar5[300] = 1;
					puVar5[0x12d] = 1;
					puVar5[0x12e] = 1;
					puVar5 = puVar5 + 0x140;
					uVar1 = uVar1 - 1;
				} while (uVar1 != 0);
				uVar4 = uVar4 & 7;
				if (uVar4 == 0)
					goto LAB_1002972c;
			}
			do {
				puVar5[0x11] = 1;
				puVar5[0x12] = 1;
				puVar5[0x13] = 1;
				puVar5[0x14] = 1;
				puVar5[0x15] = 1;
				puVar5[0x16] = 1;
				puVar5 = puVar5 + 0x28;
				uVar4 = uVar4 - 1;
			} while (uVar4 != 0);
		}
	LAB_1002972c:
		if (ppuVar2[-0x13c8] != (undefined *)0x0) {
			FUN_10029014(1, 0xf, 10, 10, 1, param_6, param_7, param_8, in_stack_ffffffb8);
		}
		if (ppuVar2[-0x13c9] != (undefined *)0x0) {
			FUN_10029014(0xf, 0xf, 10, 10, 1, param_6, param_7, param_8, in_stack_ffffffb8);
		}
		if (ppuVar2[-0x13ca] != (undefined *)0x0) {
			FUN_10029014(0x1d, 0xf, 10, 10, 1, param_6, param_7, param_8, in_stack_ffffffb8);
		}
		ppuVar2[-0x13cd] = (undefined *)0x0;
		ppuVar2[-0x13cc] = (undefined *)0x0;
		ppuVar2[-0x13cb] = (undefined *)0x0;
		return;
	}
	uVar6 = 1;
	uVar7 = 0x27;
	lVar3 = random(0, 2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8,
	    in_stack_ffffffbf, in_stack_ffffffcb);
	ppuVar2[-0x13cb] = (undefined *)lVar3;
	lVar3 = random(0, 2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8,
	    in_stack_ffffffbf, in_stack_ffffffcb);
	ppuVar2[-0x13cc] = (undefined *)lVar3;
	lVar3 = random(0, 2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8,
	    in_stack_ffffffbf, in_stack_ffffffcb);
	ppuVar2[-0x13cd] = (undefined *)lVar3;
	if ((int)(ppuVar2[-0x13cb] + (int)ppuVar2[-0x13cd]) < 2) {
		ppuVar2[-0x13cc] = (undefined *)0x1;
	}
	if (ppuVar2[-0x13cb] == (undefined *)0x0) {
		uVar6 = 0x12;
	} else {
		FUN_10028e94(0xf, 1, 10, 10);
	}
	if (ppuVar2[-0x13cc] != (undefined *)0x0) {
		FUN_10028e94(0xf, 0xf, 10, 10);
	}
	if (ppuVar2[-0x13cd] == (undefined *)0x0) {
		uVar7 = 0x16;
	} else {
		FUN_10028e94(0xf, 0x1d, 10, 10);
	}
	puVar5 = puVar5 + uVar6;
	uVar4 = uVar7 - uVar6;
	if (uVar6 < uVar7) {
		uVar1 = (ulonglong)(uVar4 >> 3);
		if (uVar4 >> 3 != 0) {
			do {
				puVar5[0x2a8] = 1;
				puVar5[0x2d0] = 1;
				puVar5[0x2f8] = 1;
				puVar5[800] = 1;
				puVar5[0x348] = 1;
				puVar5[0x370] = 1;
				puVar5[0x2a9] = 1;
				puVar5[0x2d1] = 1;
				puVar5[0x2f9] = 1;
				puVar5[0x321] = 1;
				puVar5[0x349] = 1;
				puVar5[0x371] = 1;
				puVar5[0x2aa] = 1;
				puVar5[0x2d2] = 1;
				puVar5[0x2fa] = 1;
				puVar5[0x322] = 1;
				puVar5[0x34a] = 1;
				puVar5[0x372] = 1;
				puVar5[0x2ab] = 1;
				puVar5[0x2d3] = 1;
				puVar5[0x2fb] = 1;
				puVar5[0x323] = 1;
				puVar5[0x34b] = 1;
				puVar5[0x373] = 1;
				puVar5[0x2ac] = 1;
				puVar5[0x2d4] = 1;
				puVar5[0x2fc] = 1;
				puVar5[0x324] = 1;
				puVar5[0x34c] = 1;
				puVar5[0x374] = 1;
				puVar5[0x2ad] = 1;
				puVar5[0x2d5] = 1;
				puVar5[0x2fd] = 1;
				puVar5[0x325] = 1;
				puVar5[0x34d] = 1;
				puVar5[0x375] = 1;
				puVar5[0x2ae] = 1;
				puVar5[0x2d6] = 1;
				puVar5[0x2fe] = 1;
				puVar5[0x326] = 1;
				puVar5[0x34e] = 1;
				puVar5[0x376] = 1;
				puVar5[0x2af] = 1;
				puVar5[0x2d7] = 1;
				puVar5[0x2ff] = 1;
				puVar5[0x327] = 1;
				puVar5[0x34f] = 1;
				puVar5[0x377] = 1;
				puVar5 = puVar5 + 8;
				uVar1 = uVar1 - 1;
			} while (uVar1 != 0);
			uVar4 = uVar4 & 7;
			if (uVar4 == 0)
				goto LAB_100294d0;
		}
		do {
			puVar5[0x2a8] = 1;
			puVar5[0x2d0] = 1;
			puVar5[0x2f8] = 1;
			puVar5[800] = 1;
			puVar5[0x348] = 1;
			puVar5[0x370] = 1;
			puVar5 = puVar5 + 1;
			uVar4 = uVar4 - 1;
		} while (uVar4 != 0);
	}
LAB_100294d0:
	if (ppuVar2[-0x13cb] != (undefined *)0x0) {
		FUN_10029014(0xf, 1, 10, 10, 0, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	if (ppuVar2[-0x13cc] != (undefined *)0x0) {
		FUN_10029014(0xf, 0xf, 10, 10, 0, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	if (ppuVar2[-0x13cd] != (undefined *)0x0) {
		FUN_10029014(0xf, 0x1d, 10, 10, 0, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	ppuVar2[-0x13ca] = (undefined *)0x0;
	ppuVar2[-0x13c9] = (undefined *)0x0;
	ppuVar2[-0x13c8] = (undefined *)0x0;
	return;
}

longlong FUN_100297c4(void)

{
	longlong lVar1;
	char *pcVar2;
	char *pcVar3;
	int iVar4;
	longlong lVar5;

	lVar1 = 0;
	iVar4 = 0;
	pcVar3 = PTR_DAT_100f1804;
	do {
		lVar5 = 4;
		pcVar2 = pcVar3;
		do {
			if (*pcVar2 == '\x01') {
				lVar1 = lVar1 + 1;
			}
			if (pcVar2[0x28] == '\x01') {
				lVar1 = lVar1 + 1;
			}
			if (pcVar2[0x50] == '\x01') {
				lVar1 = lVar1 + 1;
			}
			if (pcVar2[0x78] == '\x01') {
				lVar1 = lVar1 + 1;
			}
			if (pcVar2[0xa0] == '\x01') {
				lVar1 = lVar1 + 1;
			}
			if (pcVar2[200] == '\x01') {
				lVar1 = lVar1 + 1;
			}
			if (pcVar2[0xf0] == '\x01') {
				lVar1 = lVar1 + 1;
			}
			if (pcVar2[0x118] == '\x01') {
				lVar1 = lVar1 + 1;
			}
			if (pcVar2[0x140] == '\x01') {
				lVar1 = lVar1 + 1;
			}
			if (pcVar2[0x168] == '\x01') {
				lVar1 = lVar1 + 1;
			}
			pcVar2 = pcVar2 + 400;
			lVar5 = lVar5 + -1;
		} while (lVar5 != 0);
		iVar4 = iVar4 + 1;
		pcVar3 = pcVar3 + 1;
	} while (iVar4 < 0x28);
	return lVar1;
}

void FUN_100298c0(void)

{
	undefined *puVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	int iVar5;
	undefined *puVar6;
	undefined *puVar7;
	int iVar8;
	longlong lVar9;

	puVar1 = PTR_DAT_100f1a8c;
	iVar8 = 0;
	iVar5 = 0;
	puVar4 = PTR_DAT_100f1804;
	do {
		lVar9 = 8;
		iVar2 = 0;
		puVar3 = puVar4;
		do {
			puVar6 = puVar1 + iVar2 + iVar5;
			*puVar6 = *puVar3;
			puVar6[1] = *puVar3;
			puVar6[0x50] = *puVar3;
			puVar6[0x51] = *puVar3;
			puVar6 = puVar1 + iVar2 + 0xa0 + iVar5;
			*puVar6 = puVar3[0x28];
			puVar6[1] = puVar3[0x28];
			puVar6[0x50] = puVar3[0x28];
			puVar6[0x51] = puVar3[0x28];
			puVar6 = puVar1 + iVar2 + 0x140 + iVar5;
			*puVar6 = puVar3[0x50];
			puVar6[1] = puVar3[0x50];
			puVar6[0x50] = puVar3[0x50];
			puVar6[0x51] = puVar3[0x50];
			puVar6 = puVar1 + iVar2 + 0x1e0 + iVar5;
			*puVar6 = puVar3[0x78];
			puVar6[1] = puVar3[0x78];
			puVar6[0x50] = puVar3[0x78];
			puVar6[0x51] = puVar3[0x78];
			puVar7 = puVar1 + iVar2 + 0x280 + iVar5;
			iVar2 = iVar2 + 800;
			*puVar7 = puVar3[0xa0];
			puVar7[1] = puVar3[0xa0];
			puVar7[0x50] = puVar3[0xa0];
			puVar6 = puVar3 + 0xa0;
			puVar3 = puVar3 + 200;
			puVar7[0x51] = *puVar6;
			lVar9 = lVar9 + -1;
		} while (lVar9 != 0);
		iVar8 = iVar8 + 1;
		iVar5 = iVar5 + 2;
		puVar4 = puVar4 + 1;
	} while (iVar8 < 0x28);
	return;
}

void FUN_100299dc(void)

{
	byte *pbVar1;
	byte *pbVar2;
	byte *pbVar3;
	byte *pbVar4;
	undefined *puVar5;
	byte *pbVar6;
	undefined *puVar7;
	undefined *puVar8;
	int iVar9;
	longlong lVar10;

	puVar8 = PTR_DAT_100f1804;
	lVar10 = 0x14;
	puVar5 = PTR_DAT_100f1804;
	do {
		*puVar5 = 0x16;
		puVar5[0x28] = 0x16;
		puVar5[0x50] = 0x16;
		puVar5[0x78] = 0x16;
		puVar5[0xa0] = 0x16;
		puVar5[200] = 0x16;
		puVar5[0xf0] = 0x16;
		puVar5[0x118] = 0x16;
		puVar5[0x140] = 0x16;
		puVar5[0x168] = 0x16;
		puVar5[400] = 0x16;
		puVar5[0x1b8] = 0x16;
		puVar5[0x1e0] = 0x16;
		puVar5[0x208] = 0x16;
		puVar5[0x230] = 0x16;
		puVar5[600] = 0x16;
		puVar5[0x280] = 0x16;
		puVar5[0x2a8] = 0x16;
		puVar5[0x2d0] = 0x16;
		puVar5[0x2f8] = 0x16;
		puVar5[800] = 0x16;
		puVar5[0x348] = 0x16;
		puVar5[0x370] = 0x16;
		puVar5[0x398] = 0x16;
		puVar5[0x3c0] = 0x16;
		puVar5[1000] = 0x16;
		puVar5[0x410] = 0x16;
		puVar5[0x438] = 0x16;
		puVar5[0x460] = 0x16;
		puVar5[0x488] = 0x16;
		puVar5[0x4b0] = 0x16;
		puVar5[0x4d8] = 0x16;
		puVar5[0x500] = 0x16;
		puVar5[0x528] = 0x16;
		puVar5[0x550] = 0x16;
		puVar5[0x578] = 0x16;
		puVar5[0x5a0] = 0x16;
		puVar5[0x5c8] = 0x16;
		puVar5[0x5f0] = 0x16;
		puVar5[0x618] = 0x16;
		puVar5[1] = 0x16;
		puVar5[0x29] = 0x16;
		puVar5[0x51] = 0x16;
		puVar5[0x79] = 0x16;
		puVar5[0xa1] = 0x16;
		puVar5[0xc9] = 0x16;
		puVar5[0xf1] = 0x16;
		puVar5[0x119] = 0x16;
		puVar5[0x141] = 0x16;
		puVar5[0x169] = 0x16;
		puVar5[0x191] = 0x16;
		puVar5[0x1b9] = 0x16;
		puVar5[0x1e1] = 0x16;
		puVar5[0x209] = 0x16;
		puVar5[0x231] = 0x16;
		puVar5[0x259] = 0x16;
		puVar5[0x281] = 0x16;
		puVar5[0x2a9] = 0x16;
		puVar5[0x2d1] = 0x16;
		puVar5[0x2f9] = 0x16;
		puVar5[0x321] = 0x16;
		puVar5[0x349] = 0x16;
		puVar5[0x371] = 0x16;
		puVar5[0x399] = 0x16;
		puVar5[0x3c1] = 0x16;
		puVar5[0x3e9] = 0x16;
		puVar5[0x411] = 0x16;
		puVar5[0x439] = 0x16;
		puVar5[0x461] = 0x16;
		puVar5[0x489] = 0x16;
		puVar5[0x4b1] = 0x16;
		puVar5[0x4d9] = 0x16;
		puVar5[0x501] = 0x16;
		puVar5[0x529] = 0x16;
		puVar5[0x551] = 0x16;
		puVar5[0x579] = 0x16;
		puVar5[0x5a1] = 0x16;
		puVar5[0x5c9] = 0x16;
		puVar5[0x5f1] = 0x16;
		puVar5[0x619] = 0x16;
		puVar5 = puVar5 + 2;
		lVar10 = lVar10 + -1;
	} while (lVar10 != 0);
	iVar9 = 1;
	puVar5 = PTR_DAT_100f1a8c + 1;
	do {
		pbVar6 = puVar5 + 0x50;
		lVar10 = 0xd;
		puVar7 = puVar8;
		do {
			*puVar7 = (&DAT_100f7193)
			    [(uint)pbVar6[0x51] * 8 + (uint)pbVar6[1] * 4 + (uint)*pbVar6 + (uint)pbVar6[0x50] * 2];
			puVar7[0x28] = (&DAT_100f7193)
			    [(uint)pbVar6[0xf1] * 8 + (uint)pbVar6[0xa1] * 4 + (uint)pbVar6[0xa0] + (uint)pbVar6[0xf0] * 2];
			pbVar1 = pbVar6 + 0x191;
			pbVar2 = pbVar6 + 400;
			pbVar3 = pbVar6 + 0x141;
			pbVar4 = pbVar6 + 0x140;
			pbVar6 = pbVar6 + 0x1e0;
			puVar7[0x50] = (&DAT_100f7193)
			    [(uint)*pbVar1 * 8 + (uint)*pbVar3 * 4 + (uint)*pbVar4 + (uint)*pbVar2 * 2];
			puVar7 = puVar7 + 0x78;
			lVar10 = lVar10 + -1;
		} while (lVar10 != 0);
		iVar9 = iVar9 + 2;
		puVar5 = puVar5 + 2;
		puVar8 = puVar8 + 1;
	} while (iVar9 < 0x4e);
	return;
}

int FUN_10029c18(int param_1, int param_2)

{
	byte bVar1;
	bool bVar2;
	char *pcVar3;
	int iVar4;
	int iVar5;

	iVar5 = 1;
	while (true) {
		iVar4 = (param_1 + iVar5) * 0x28;
		pcVar3 = PTR_DAT_100f1804 + iVar4 + param_2;
		if ((((*pcVar3 != '\r') || (pcVar3[-1] != '\r')) || (pcVar3[1] != '\r')) || (PTR_DAT_100f1abc[iVar4 + param_2] != '\0'))
			break;
		iVar5 = iVar5 + 1;
	}
	bVar1 = PTR_DAT_100f1804[iVar4 + param_2];
	bVar2 = false;
	if ((2 < bVar1) && (bVar1 < 8)) {
		bVar2 = true;
	}
	if ((0xf < bVar1) && (bVar1 < 0x19)) {
		bVar2 = true;
	}
	if (bVar1 == 0x16) {
		bVar2 = false;
	}
	if (iVar5 == 1) {
		bVar2 = false;
	}
	if (bVar2) {
		return iVar5;
	}
	return -1;
}

int FUN_10029cd4(int param_1, int param_2)

{
	byte bVar1;
	char *pcVar2;
	bool bVar3;
	int iVar4;
	char *pcVar5;

	pcVar5 = PTR_DAT_100f1abc + param_1 * 0x28 + param_2 + 1;
	iVar4 = 1;
	pcVar2 = PTR_DAT_100f1804 + param_1 * 0x28 + param_2;
	while (true) {
		if ((((pcVar2[1] != '\r') || (pcVar2[-0x27] != '\r')) || (pcVar2[0x29] != '\r')) || (*pcVar5 != '\0'))
			break;
		pcVar5 = pcVar5 + 1;
		iVar4 = iVar4 + 1;
		pcVar2 = pcVar2 + 1;
	}
	bVar1 = (PTR_DAT_100f1804 + param_1 * 0x28 + param_2)[iVar4];
	bVar3 = false;
	if ((2 < bVar1) && (bVar1 < 8)) {
		bVar3 = true;
	}
	if ((0xf < bVar1) && (bVar1 < 0x19)) {
		bVar3 = true;
	}
	if (bVar1 == 0x16) {
		bVar3 = false;
	}
	if (iVar4 == 1) {
		bVar3 = false;
	}
	if (bVar3) {
		return iVar4;
	}
	return -1;
}

void FUN_10029d94(int param_1, int param_2, char param_3, longlong param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined *puVar1;
	int iVar2;
	int iVar3;
	undefined *puVar4;
	ulonglong uVar5;
	undefined **ppuVar6;
	longlong lVar7;
	int iVar8;
	char cVar9;
	undefined uVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	char cVar14;
	char unaff_r30;
	ulonglong uVar15;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	puVar4 = PTR_DAT_100f1804;
	uVar10 = (undefined)param_4;
	ppuVar6 = &toc;
	uVar15 = ZEXT48(PTR_DAT_100f1804);
	cVar9 = param_3;
	lVar7 = random(0, 4, param_3, uVar10, param_5, param_6, param_7, param_8, in_stack_ffffffa8,
	    in_stack_ffffffaf, in_stack_ffffffbb);
	iVar8 = (int)lVar7;
	if (iVar8 == 2) {
		unaff_r30 = '\f';
		if (param_3 == '\x02') {
			param_3 = '\f';
		}
		if (param_3 == '\x04') {
			param_3 = '\n';
		}
	} else {
		if (iVar8 < 2) {
			if (-1 < iVar8) {
				unaff_r30 = '\x02';
			}
		} else {
			if (iVar8 < 4) {
				unaff_r30 = '$';
				if (param_3 == '\x02') {
					param_3 = '$';
				}
				if (param_3 == '\x04') {
					param_3 = '\x1b';
				}
			}
		}
	}
	lVar7 = random(0, 6, cVar9, uVar10, param_5, param_6, param_7, param_8, in_stack_ffffffa8,
	    in_stack_ffffffaf, in_stack_ffffffbb);
	if ((int)lVar7 == 5) {
		cVar14 = '\f';
	} else {
		cVar14 = '\x1a';
	}
	if (unaff_r30 == '\f') {
		cVar14 = '\f';
	}
	iVar8 = (int)param_4;
	puVar4[param_1 * 0x28 + param_2] = param_3;
	lVar7 = 1;
	if (1 < iVar8) {
		if (8 < iVar8 + -1) {
			uVar5 = (ulonglong)(iVar8 - 2U >> 3);
			param_8 = (undefined)(uVar15 + (longlong)param_2);
			if (1 < iVar8 + -8) {
				do {
					lVar13 = (longlong)param_1 + lVar7;
					param_7 = (undefined)lVar13;
					lVar7 = lVar7 + 8;
					iVar3 = (int)lVar13;
					iVar2 = (int)(uVar15 + (longlong)param_2);
					*(char *)(iVar2 + iVar3 * 0x28) = unaff_r30;
					lVar12 = (lVar13 + 2) * 0x28;
					param_6 = (undefined)lVar12;
					*(char *)(iVar2 + (iVar3 + 1) * 0x28) = unaff_r30;
					lVar11 = (lVar13 + 3) * 0x28;
					param_5 = (undefined)lVar11;
					*(char *)(iVar2 + (int)lVar12) = unaff_r30;
					lVar12 = (lVar13 + 4) * 0x28;
					uVar10 = (undefined)lVar12;
					*(char *)(iVar2 + (int)lVar11) = unaff_r30;
					lVar11 = (lVar13 + 5) * 0x28;
					cVar9 = (char)lVar11;
					*(char *)(iVar2 + (int)lVar12) = unaff_r30;
					*(char *)(iVar2 + (int)lVar11) = unaff_r30;
					*(char *)(iVar2 + (iVar3 + 6) * 0x28) = unaff_r30;
					*(char *)(iVar2 + (iVar3 + 7) * 0x28) = unaff_r30;
					uVar5 = uVar5 - 1;
				} while (uVar5 != 0);
			}
		}
		lVar11 = param_4 - lVar7;
		if ((int)lVar7 < iVar8) {
			do {
				iVar8 = (int)lVar7;
				lVar7 = lVar7 + 1;
				puVar4[(param_1 + iVar8) * 0x28 + param_2] = unaff_r30;
				lVar11 = lVar11 + -1;
			} while (lVar11 != 0);
		}
	}
	lVar7 = random(0, param_4 + -1, cVar9, uVar10, param_5, param_6, param_7, param_8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
	iVar8 = (int)lVar7 + 1;
	if (cVar14 == '\f') {
		puVar4[(param_1 + iVar8) * 0x28 + param_2] = 0xc;
	} else {
		puVar1 = ppuVar6[-0x1d45];
		param_2 = (param_1 + iVar8) * 0x28 + param_2;
		puVar4[param_2] = 2;
		puVar1[param_2] = puVar1[param_2] | 1;
	}
	return;
}

void FUN_10029fb0(longlong param_1, longlong param_2, char param_3, longlong param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	ulonglong uVar1;
	undefined **ppuVar2;
	longlong lVar3;
	int iVar5;
	longlong lVar4;
	char *pcVar6;
	longlong lVar7;
	char cVar8;
	undefined uVar9;
	char cVar10;
	char unaff_r27;
	char *pcVar11;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	uVar9 = (undefined)param_4;
	ppuVar2 = &toc;
	cVar8 = param_3;
	lVar3 = random(0, 4, param_3, uVar9, param_5, param_6, param_7, param_8, in_stack_ffffffa8,
	    in_stack_ffffffaf, in_stack_ffffffbb);
	iVar5 = (int)lVar3;
	if (iVar5 == 2) {
		unaff_r27 = '\v';
		if (param_3 == '\x01') {
			param_3 = '\v';
		}
		if (param_3 == '\x04') {
			param_3 = '\x0e';
		}
	} else {
		if (iVar5 < 2) {
			if (-1 < iVar5) {
				unaff_r27 = '\x01';
			}
		} else {
			if (iVar5 < 4) {
				unaff_r27 = '#';
				if (param_3 == '\x01') {
					param_3 = '#';
				}
				if (param_3 == '\x04') {
					param_3 = '%';
				}
			}
		}
	}
	lVar3 = random(0, 6, cVar8, uVar9, param_5, param_6, param_7, param_8, in_stack_ffffffa8,
	    in_stack_ffffffaf, in_stack_ffffffbb);
	if ((int)lVar3 == 5) {
		cVar10 = '\v';
	} else {
		cVar10 = '\x19';
	}
	if (unaff_r27 == '\v') {
		cVar10 = '\v';
	}
	iVar5 = (int)param_4;
	lVar3 = ZEXT48(ppuVar2[-0x1df3]) + param_1 * 0x28 + param_2;
	pcVar11 = (char *)lVar3;
	*pcVar11 = param_3;
	lVar7 = 1;
	if (1 < iVar5) {
		if (8 < iVar5 + -1) {
			uVar1 = (ulonglong)(iVar5 - 2U >> 3);
			lVar4 = lVar3 + 1;
			if (1 < iVar5 + -8) {
				do {
					pcVar6 = (char *)lVar4;
					*pcVar6 = unaff_r27;
					lVar7 = lVar7 + 8;
					pcVar6[1] = unaff_r27;
					pcVar6[2] = unaff_r27;
					pcVar6[3] = unaff_r27;
					pcVar6[4] = unaff_r27;
					pcVar6[5] = unaff_r27;
					pcVar6[6] = unaff_r27;
					pcVar6[7] = unaff_r27;
					lVar4 = lVar4 + 8;
					uVar1 = uVar1 - 1;
				} while (uVar1 != 0);
			}
		}
		lVar3 = lVar3 + lVar7;
		lVar4 = param_4 - lVar7;
		if ((int)lVar7 < iVar5) {
			do {
				*(char *)lVar3 = unaff_r27;
				lVar3 = lVar3 + 1;
				lVar4 = lVar4 + -1;
			} while (lVar4 != 0);
		}
	}
	lVar3 = random(0, param_4 + -1, cVar8, uVar9, param_5, param_6, param_7, param_8, in_stack_ffffffa8,
	    in_stack_ffffffaf, in_stack_ffffffbb);
	iVar5 = (int)lVar3 + 1;
	if (cVar10 == '\v') {
		pcVar11[iVar5] = '\v';
	} else {
		pcVar11[iVar5] = '\x01';
		iVar5 = (int)(param_1 * 0x28) + (int)param_2 + iVar5;
		ppuVar2[-0x1d45][iVar5] = ppuVar2[-0x1d45][iVar5] | 2;
	}
	return;
}

longlong FUN_1002a17c(char param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	longlong lVar1;
	int iVar2;
	int iVar3;
	int iVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	char *pcVar13;
	char *pcVar14;
	char *pcVar15;
	char *pcVar16;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined in_stack_ffffffcb;

	lVar10 = (longlong)param_8;
	lVar9 = (longlong)param_7;
	lVar8 = (longlong)param_6;
	lVar7 = (longlong)param_5;
	lVar6 = (longlong)param_4;
	lVar5 = (longlong)param_3;
	lVar1 = (longlong)param_1;
	lVar11 = 0;
	pcVar14 = PTR_DAT_100f1abc;
	pcVar13 = PTR_DAT_100f1804;
	do {
		lVar12 = 0;
		pcVar16 = pcVar14;
		pcVar15 = pcVar13;
		do {
			if (*pcVar16 == '\0') {
				iVar3 = (int)lVar12;
				iVar4 = (int)lVar11;
				if ((*pcVar15 == '\x03') && (lVar1 = random(0, 100, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb), (int)lVar1 < 100)) {
					iVar2 = FUN_10029c18(iVar3, iVar4);
					lVar1 = (longlong)iVar2;
					lVar6 = lVar1;
					if (iVar2 != -1) {
						lVar5 = 2;
						lVar6 = lVar1;
						lVar1 = FUN_10029d94(iVar3, iVar4, '\x02', lVar1, (char)lVar7, (char)lVar8, (char)lVar9,
						    (char)lVar10, in_stack_ffffffb8);
					}
				}
				if ((*pcVar15 == '\x03') && (lVar1 = random(0, 100, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb), (int)lVar1 < 100)) {
					iVar2 = FUN_10029cd4(iVar3, iVar4);
					lVar1 = (longlong)iVar2;
					lVar6 = lVar1;
					if (iVar2 != -1) {
						lVar5 = 1;
						lVar6 = lVar1;
						lVar1 = FUN_10029fb0(lVar12, lVar11, '\x01', lVar1, (char)lVar7, (char)lVar8, (char)lVar9,
						    (char)lVar10, in_stack_ffffffb8);
					}
				}
				if ((*pcVar15 == '\x06') && (lVar1 = random(0, 100, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb), (int)lVar1 < 100)) {
					iVar2 = FUN_10029c18(iVar3, iVar4);
					lVar1 = (longlong)iVar2;
					lVar6 = lVar1;
					if (iVar2 != -1) {
						lVar5 = 4;
						lVar6 = lVar1;
						lVar1 = FUN_10029d94(iVar3, iVar4, '\x04', lVar1, (char)lVar7, (char)lVar8, (char)lVar9,
						    (char)lVar10, in_stack_ffffffb8);
					}
				}
				if ((*pcVar15 == '\a') && (lVar1 = random(0, 100, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb), (int)lVar1 < 100)) {
					iVar2 = FUN_10029cd4(iVar3, iVar4);
					lVar1 = (longlong)iVar2;
					lVar6 = lVar1;
					if (iVar2 != -1) {
						lVar5 = 4;
						lVar6 = lVar1;
						lVar1 = FUN_10029fb0(lVar12, lVar11, '\x04', lVar1, (char)lVar7, (char)lVar8, (char)lVar9,
						    (char)lVar10, in_stack_ffffffb8);
					}
				}
				if ((*pcVar15 == '\x02') && (lVar1 = random(0, 100, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb), (int)lVar1 < 100)) {
					iVar2 = FUN_10029c18(iVar3, iVar4);
					lVar1 = (longlong)iVar2;
					lVar6 = lVar1;
					if (iVar2 != -1) {
						lVar5 = 2;
						lVar6 = lVar1;
						lVar1 = FUN_10029d94(iVar3, iVar4, '\x02', lVar1, (char)lVar7, (char)lVar8, (char)lVar9,
						    (char)lVar10, in_stack_ffffffb8);
					}
				}
				if ((*pcVar15 == '\x01') && (lVar1 = random(0, 100, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb), (int)lVar1 < 100)) {
					iVar3 = FUN_10029cd4(iVar3, iVar4);
					lVar1 = (longlong)iVar3;
					lVar6 = lVar1;
					if (iVar3 != -1) {
						lVar5 = 1;
						lVar6 = lVar1;
						lVar1 = FUN_10029fb0(lVar12, lVar11, '\x01', lVar1, (char)lVar7, (char)lVar8, (char)lVar9,
						    (char)lVar10, in_stack_ffffffb8);
					}
				}
			}
			lVar12 = lVar12 + 1;
			pcVar15 = pcVar15 + 0x28;
			pcVar16 = pcVar16 + 0x28;
		} while ((int)lVar12 < 0x28);
		lVar11 = lVar11 + 1;
		pcVar13 = pcVar13 + 1;
		pcVar14 = pcVar14 + 1;
	} while ((int)lVar11 < 0x28);
	return lVar1;
}

void FUN_1002a39c(int param_1, int param_2, int param_3, int param_4, int param_5, int param_6)

{
	undefined *puVar1;
	undefined *puVar2;
	int iVar3;
	int iVar4;
	int iVar5;
	undefined *puVar6;
	int iVar7;
	int iVar8;
	int iVar9;

	puVar1 = PTR_DAT_100f1804;
	if (param_3 == 1) {
		puVar6 = PTR_DAT_100f1804 + param_2 + param_1 * 0x28;
		puVar6[0x50] = 0xc;
		puVar6[0x78] = 0xc;
		puVar6[0xa0] = 3;
		puVar6[0x118] = 9;
		puVar6[0x140] = 0xc;
		puVar6[0x168] = 2;
	}
	if (param_4 == 1) {
		puVar6 = puVar1 + param_2 + param_1 * 0x28;
		puVar6[0x5b] = 10;
		puVar6[0x83] = 0xc;
		puVar6[0xab] = 8;
		puVar6[0x123] = 5;
		puVar6[0x14b] = 0xc;
		if (puVar6[0x173] != '\x04') {
			puVar6[0x173] = 0x15;
		}
	}
	if (param_5 == 1) {
		puVar6 = puVar1 + param_2 + param_1 * 0x28;
		puVar6[2] = 0xb;
		puVar6[3] = 0xb;
		puVar6[4] = 3;
		puVar6[7] = 8;
		puVar6[8] = 0xb;
		puVar6[9] = 1;
	}
	if (param_6 == 1) {
		puVar6 = puVar1 + param_2 + (param_1 + 0xb) * 0x28;
		puVar6[2] = 0xe;
		puVar6[3] = 0xb;
		puVar6[4] = 9;
		puVar6[7] = 5;
		puVar6[8] = 0xb;
		if (puVar6[9] != '\x04') {
			puVar6[9] = 0x15;
		}
	}
	puVar6 = puVar1 + param_2 + 1;
	puVar2 = PTR_DAT_100f1abc + param_2 + 1;
	iVar3 = 1;
	do {
		iVar7 = (param_1 + 1) * 0x28;
		puVar6[iVar7] = 0xd;
		iVar5 = (param_1 + 2) * 0x28;
		puVar2[iVar7] = puVar2[iVar7] | 0x40;
		iVar7 = (param_1 + 3) * 0x28;
		puVar6[iVar5] = 0xd;
		iVar9 = (param_1 + 4) * 0x28;
		puVar2[iVar5] = puVar2[iVar5] | 0x40;
		iVar4 = (param_1 + 5) * 0x28;
		puVar6[iVar7] = 0xd;
		iVar8 = (param_1 + 6) * 0x28;
		puVar2[iVar7] = puVar2[iVar7] | 0x40;
		iVar5 = (param_1 + 7) * 0x28;
		puVar6[iVar9] = 0xd;
		iVar7 = (param_1 + 8) * 0x28;
		puVar2[iVar9] = puVar2[iVar9] | 0x40;
		puVar6[iVar4] = 0xd;
		puVar2[iVar4] = puVar2[iVar4] | 0x40;
		puVar6[iVar8] = 0xd;
		puVar2[iVar8] = puVar2[iVar8] | 0x40;
		puVar6[iVar5] = 0xd;
		puVar2[iVar5] = puVar2[iVar5] | 0x40;
		puVar6[iVar7] = 0xd;
		puVar2[iVar7] = puVar2[iVar7] | 0x40;
		iVar7 = 9;
		iVar5 = 2;
		do {
			iVar4 = param_1 + iVar7;
			iVar7 = iVar7 + 1;
			iVar4 = iVar4 * 0x28;
			puVar6[iVar4] = 0xd;
			puVar2[iVar4] = puVar2[iVar4] | 0x40;
			iVar5 = iVar5 + -1;
		} while (iVar5 != 0);
		iVar3 = iVar3 + 1;
		puVar2 = puVar2 + 1;
		puVar6 = puVar6 + 1;
	} while (iVar3 < 0xb);
	puVar1 = puVar1 + param_2 + param_1 * 0x28;
	puVar1[0xa4] = 0xf;
	puVar1[0x11c] = 0xf;
	puVar1[0xa7] = 0xf;
	puVar1[0x11f] = 0xf;
	return;
}

void FUN_1002a628(int param_1, int param_2, int param_3, int param_4)

{
	ulonglong uVar1;
	uint uVar2;
	undefined *puVar3;

	if (param_2 != param_4) {
		puVar3 = PTR_DAT_100f1804 + param_1 * 0x28 + param_2;
		uVar2 = param_4 - param_2;
		if (param_4 <= param_2) {
			return;
		}
		uVar1 = (ulonglong)(uVar2 >> 3);
		if (uVar2 >> 3 != 0) {
			do {
				*puVar3 = 0xb;
				puVar3[0x78] = 0xb;
				puVar3[1] = 0xb;
				puVar3[0x79] = 0xb;
				puVar3[2] = 0xb;
				puVar3[0x7a] = 0xb;
				puVar3[3] = 0xb;
				puVar3[0x7b] = 0xb;
				puVar3[4] = 0xb;
				puVar3[0x7c] = 0xb;
				puVar3[5] = 0xb;
				puVar3[0x7d] = 0xb;
				puVar3[6] = 0xb;
				puVar3[0x7e] = 0xb;
				puVar3[7] = 0xb;
				puVar3[0x7f] = 0xb;
				puVar3 = puVar3 + 8;
				uVar1 = uVar1 - 1;
			} while (uVar1 != 0);
			uVar2 = uVar2 & 7;
			if (uVar2 == 0) {
				return;
			}
		}
		do {
			*puVar3 = 0xb;
			puVar3[0x78] = 0xb;
			puVar3 = puVar3 + 1;
			uVar2 = uVar2 - 1;
		} while (uVar2 != 0);
		return;
	}
	puVar3 = PTR_DAT_100f1804 + param_2 + param_1 * 0x28;
	uVar2 = param_3 - param_1;
	if (param_3 <= param_1) {
		return;
	}
	uVar1 = (ulonglong)(uVar2 >> 3);
	if (uVar2 >> 3 != 0) {
		do {
			*puVar3 = 0xc;
			puVar3[3] = 0xc;
			puVar3[0x28] = 0xc;
			puVar3[0x2b] = 0xc;
			puVar3[0x50] = 0xc;
			puVar3[0x53] = 0xc;
			puVar3[0x78] = 0xc;
			puVar3[0x7b] = 0xc;
			puVar3[0xa0] = 0xc;
			puVar3[0xa3] = 0xc;
			puVar3[200] = 0xc;
			puVar3[0xcb] = 0xc;
			puVar3[0xf0] = 0xc;
			puVar3[0xf3] = 0xc;
			puVar3[0x118] = 0xc;
			puVar3[0x11b] = 0xc;
			puVar3 = puVar3 + 0x140;
			uVar1 = uVar1 - 1;
		} while (uVar1 != 0);
		uVar2 = uVar2 & 7;
		if (uVar2 == 0) {
			return;
		}
	}
	do {
		*puVar3 = 0xc;
		puVar3[3] = 0xc;
		puVar3 = puVar3 + 0x28;
		uVar2 = uVar2 - 1;
	} while (uVar2 != 0);
	return;
}

void FUN_1002a750(void)

{
	char *pcVar1;
	char *pcVar2;
	char *pcVar3;
	int iVar4;
	longlong lVar5;

	pcVar3 = PTR_DAT_100f1804;
	iVar4 = 0;
	pcVar2 = PTR_DAT_100f1804;
	do {
		lVar5 = 0x28;
		pcVar1 = pcVar2;
		do {
			if ((*pcVar1 == '\x02') && (pcVar1[0x28] == '\x16')) {
				pcVar1[0x28] = '\x17';
			}
			if ((*pcVar1 == '\r') && (pcVar1[0x28] == '\x16')) {
				pcVar1[0x28] = '\x12';
			}
			if ((*pcVar1 == '\r') && (pcVar1[0x28] == '\x02')) {
				pcVar1[0x28] = '\a';
			}
			if ((*pcVar1 == '\x06') && (pcVar1[0x28] == '\x16')) {
				pcVar1[0x28] = '\x18';
			}
			if ((*pcVar1 == '\x01') && (pcVar1[1] == '\x16')) {
				pcVar1[1] = '\x18';
			}
			if ((*pcVar1 == '\r') && (pcVar1[1] == '\x01')) {
				pcVar1[1] = '\x06';
			}
			if ((*pcVar1 == '\r') && (pcVar1[1] == '\x16')) {
				pcVar1[1] = '\x13';
			}
			pcVar1 = pcVar1 + 0x28;
			lVar5 = lVar5 + -1;
		} while (lVar5 != 0);
		iVar4 = iVar4 + 1;
		pcVar2 = pcVar2 + 1;
	} while (iVar4 < 0x28);
	iVar4 = 0;
	pcVar2 = pcVar3;
	do {
		lVar5 = 0x28;
		pcVar1 = pcVar2;
		do {
			if ((*pcVar1 == '\r') && (pcVar1[0x28] == '\x13')) {
				pcVar1[0x28] = '\x15';
			}
			if ((*pcVar1 == '\r') && (pcVar1[0x28] == '\x16')) {
				pcVar1[0x28] = '\x14';
			}
			if ((*pcVar1 == '\a') && (pcVar1[0x28] == '\x16')) {
				pcVar1[0x28] = '\x17';
			}
			if ((*pcVar1 == '\r') && (pcVar1[0x28] == '\x18')) {
				pcVar1[0x28] = '\x15';
			}
			if ((*pcVar1 == '\x13') && (pcVar1[0x28] == '\x16')) {
				pcVar1[0x28] = '\x14';
			}
			if ((*pcVar1 == '\x02') && (pcVar1[0x28] == '\x13')) {
				pcVar1[0x28] = '\x15';
			}
			if ((*pcVar1 == '\x13') && (pcVar1[0x28] == '\x01')) {
				pcVar1[0x28] = '\x06';
			}
			if ((*pcVar1 == '\a') && (pcVar1[0x28] == '\x13')) {
				pcVar1[0x28] = '\x15';
			}
			if ((*pcVar1 == '\x02') && (pcVar1[0x28] == '\x01')) {
				pcVar1[0x28] = '\x06';
			}
			if ((*pcVar1 == '\x03') && (pcVar1[0x28] == '\x16')) {
				pcVar1[0x28] = '\x18';
			}
			if ((*pcVar1 == '\x15') && (pcVar1[0x28] == '\x01')) {
				pcVar1[0x28] = '\x06';
			}
			if ((*pcVar1 == '\a') && (pcVar1[0x28] == '\x01')) {
				pcVar1[0x28] = '\x06';
			}
			if ((*pcVar1 == '\a') && (pcVar1[0x28] == '\x18')) {
				pcVar1[0x28] = '\x15';
			}
			if ((*pcVar1 == '\x04') && (pcVar1[0x28] == '\x10')) {
				pcVar1[0x28] = '\x11';
			}
			if ((*pcVar1 == '\a') && (pcVar1[0x28] == '\r')) {
				pcVar1[0x28] = '\x11';
			}
			if ((*pcVar1 == '\x02') && (pcVar1[0x28] == '\x18')) {
				pcVar1[0x28] = '\x15';
			}
			if ((*pcVar1 == '\x02') && (pcVar1[0x28] == '\r')) {
				pcVar1[0x28] = '\x11';
			}
			if ((*pcVar1 == '\x17') && (pcVar1[-0x28] == '\x16')) {
				pcVar1[-0x28] = '\x13';
			}
			if ((*pcVar1 == '\x13') && (pcVar1[-0x28] == '\x17')) {
				pcVar1[-0x28] = '\x15';
			}
			if ((*pcVar1 == '\x06') && (pcVar1[-0x28] == '\x16')) {
				pcVar1[-0x28] = '\x18';
			}
			if ((*pcVar1 == '\x06') && (pcVar1[-0x28] == '\x17')) {
				pcVar1[-0x28] = '\x15';
			}
			if ((*pcVar1 == '\x01') && (pcVar1[1] == '\x02')) {
				pcVar1[1] = '\a';
			}
			if ((*pcVar1 == '\x06') && (pcVar1[1] == '\x12')) {
				pcVar1[1] = '\x15';
			}
			if ((*pcVar1 == '\x12') && (pcVar1[1] == '\x02')) {
				pcVar1[1] = '\a';
			}
			if ((*pcVar1 == '\x06') && (pcVar1[1] == '\x02')) {
				pcVar1[1] = '\a';
			}
			if ((*pcVar1 == '\x15') && (pcVar1[1] == '\x02')) {
				pcVar1[1] = '\a';
			}
			if ((*pcVar1 == '\x06') && (pcVar1[1] == '\x16')) {
				pcVar1[1] = '\x18';
			}
			if ((*pcVar1 == '\x06') && (pcVar1[1] == '\r')) {
				pcVar1[1] = '\x10';
			}
			if ((*pcVar1 == '\x01') && (pcVar1[1] == '\r')) {
				pcVar1[1] = '\x10';
			}
			if ((*pcVar1 == '\r') && (pcVar1[1] == '\x10')) {
				pcVar1[1] = '\x11';
			}
			if ((*pcVar1 == '\x06') && (pcVar1[-1] == '\x16')) {
				pcVar1[-1] = '\a';
			}
			if ((*pcVar1 == '\x06') && (pcVar1[-1] == '\x16')) {
				pcVar1[-1] = '\x18';
			}
			if ((*pcVar1 == '\a') && (pcVar1[-1] == '\x18')) {
				pcVar1[-1] = '\x15';
			}
			if ((*pcVar1 == '\x12') && (pcVar1[-1] == '\x18')) {
				pcVar1[-1] = '\x15';
			}
			pcVar1 = pcVar1 + 0x28;
			lVar5 = lVar5 + -1;
		} while (lVar5 != 0);
		iVar4 = iVar4 + 1;
		pcVar2 = pcVar2 + 1;
	} while (iVar4 < 0x28);
	iVar4 = 0;
	do {
		lVar5 = 0x14;
		pcVar2 = pcVar3;
		do {
			if ((*pcVar2 == '\x04') && (pcVar2[1] == '\x02')) {
				pcVar2[1] = '\a';
			}
			if ((*pcVar2 == '\x02') && (pcVar2[0x28] == '\x13')) {
				pcVar2[0x28] = '\x15';
			}
			if ((*pcVar2 == '\x12') && (pcVar2[1] == '\x16')) {
				pcVar2[1] = '\x14';
			}
			pcVar1 = pcVar2 + 0x28;
			if ((*pcVar1 == '\x04') && (pcVar2[0x29] == '\x02')) {
				pcVar2[0x29] = '\a';
			}
			if ((*pcVar1 == '\x02') && (pcVar2[0x50] == '\x13')) {
				pcVar2[0x50] = '\x15';
			}
			if ((*pcVar1 == '\x12') && (pcVar2[0x29] == '\x16')) {
				pcVar2[0x29] = '\x14';
			}
			pcVar2 = pcVar2 + 0x50;
			lVar5 = lVar5 + -1;
		} while (lVar5 != 0);
		iVar4 = iVar4 + 1;
		pcVar3 = pcVar3 + 1;
	} while (iVar4 < 0x28);
	return;
}

void FUN_1002adc0(undefined param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	char cVar1;
	longlong lVar2;
	int iVar3;
	byte bVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	char *pcVar11;
	byte *pbVar12;
	char *pcVar13;
	byte *pbVar14;
	int iVar15;
	int iVar16;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	lVar10 = (longlong)param_8;
	lVar9 = (longlong)param_7;
	lVar8 = (longlong)param_6;
	lVar7 = (longlong)param_5;
	lVar6 = (longlong)param_4;
	lVar5 = (longlong)param_3;
	iVar15 = 0;
	pbVar12 = PTR_DAT_100f1804;
	pcVar11 = PTR_DAT_100f1abc;
	do {
		iVar16 = 0;
		pbVar14 = pbVar12;
		pcVar13 = pcVar11;
		do {
			lVar2 = random(0, 4, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9,
			    (char)lVar10, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
			if ((((int)lVar2 == 0) && (cVar1 = (&DAT_100f7012)[(uint)*pbVar14], cVar1 != '\0')) && (*pcVar13 == '\0')) {
				lVar2 = random(0, 0x10, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9,
				    (char)lVar10, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
				iVar3 = -1;
				while (-1 < (int)lVar2) {
					iVar3 = iVar3 + 1;
					if (iVar3 == 0xce) {
						iVar3 = 0;
					}
					if (cVar1 == (&DAT_100f7012)[iVar3]) {
						lVar2 = lVar2 + -1;
					}
				}
				if (iVar3 == 0x59) {
					if (((&DAT_100f7012)[(uint)pbVar14[-1]] == 'O') && (pcVar13[-1] == '\0')) {
						pbVar14[-1] = 0x5a;
					} else {
						iVar3 = 0x4f;
					}
				}
				bVar4 = (byte)iVar3;
				if (iVar3 == 0x5b) {
					if (((&DAT_100f7012)[(uint)pbVar14[0x28]] == 'P') && (pcVar13[0x28] == '\0')) {
						pbVar14[0x28] = 0x5c;
					} else {
						bVar4 = 0x50;
					}
				}
				*pbVar14 = bVar4;
			}
			iVar16 = iVar16 + 1;
			pcVar13 = pcVar13 + 0x28;
			pbVar14 = pbVar14 + 0x28;
		} while (iVar16 < 0x28);
		iVar15 = iVar15 + 1;
		pcVar11 = pcVar11 + 1;
		pbVar12 = pbVar12 + 1;
	} while (iVar15 < 0x28);
	return;
}

void FUN_1002af00(int param_1, longlong param_2, undefined8 param_3, ulonglong param_4, longlong param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	byte bVar1;
	byte bVar2;
	byte bVar3;
	undefined4 *puVar4;
	uint *puVar5;
	uint *puVar6;
	undefined *puVar7;
	int iVar8;
	undefined *puVar9;
	undefined **ppuVar10;
	ulonglong uVar11;
	longlong lVar12;
	longlong lVar13;
	longlong lVar14;
	int iVar15;
	undefined4 in_stack_ffffffb8;

	puVar9 = PTR_DAT_100f1aa8;
	ppuVar10 = &toc;
	uVar11 = FUN_100b8f7c((ulonglong) * (uint *)PTR_DAT_100f1aa8, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	bVar1 = *(byte *)uVar11;
	iVar15 = 0;
	bVar2 = ((byte *)uVar11)[2];
	puVar4 = (undefined4 *)ppuVar10[-0x1d54];
	*(int *)ppuVar10[-0x1d53] = param_1;
	puVar5 = (uint *)ppuVar10[-0x1d55];
	*puVar4 = (int)param_2;
	puVar6 = (uint *)ppuVar10[-0x1d56];
	*puVar5 = (uint)bVar1;
	puVar7 = ppuVar10[-0x1df3];
	*puVar6 = (uint)bVar2;
	lVar12 = ZEXT48(puVar7) + param_2;
	param_2 = ZEXT48(ppuVar10[-0x1d45]) + param_2;
	lVar13 = (ulonglong) * (uint *)(*(int *)puVar9 + 0x88) + 4;
	while (iVar15 < (int)(uint)bVar2) {
		lVar14 = 0;
		uVar11 = (ulonglong)bVar1;
		if (bVar1 != 0) {
			do {
				bVar3 = *(byte *)lVar13;
				param_4 = (ulonglong)bVar3;
				if (bVar3 == 0) {
					*(undefined *)((int)lVar12 + (param_1 + (int)lVar14) * 0x28) = 0xd;
				} else {
					param_5 = ((longlong)param_1 + lVar14) * 0x28;
					iVar8 = (int)param_5;
					*(byte *)((int)lVar12 + iVar8) = bVar3;
					*(byte *)((int)param_2 + iVar8) = *(byte *)((int)param_2 + iVar8) | 0x80;
				}
				lVar13 = lVar13 + 2;
				lVar14 = lVar14 + 1;
				uVar11 = uVar11 - 1;
			} while (uVar11 != 0);
		}
		lVar12 = lVar12 + 1;
		param_2 = param_2 + 1;
		iVar15 = iVar15 + 1;
	}
	FUN_100b9100(*(int *)puVar9, (char)lVar12, (char)param_2, (char)param_4, (char)param_5, (char)lVar13,
	    bVar1, bVar2, in_stack_ffffffb8);
	return;
}

void FUN_1002b004(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	longlong lVar2;
	int iVar3;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined in_stack_ffffffdb;

	ppuVar1 = &toc;
	if (_DAT_100f40b0 != 0) {
		param_3 = 0;
		param_4 = 0;
		param_5 = 0;
		param_6 = 1;
		ppuVar1 = &toc;
		FUN_1002a39c(0, 0xe, 0, 0, 0, 1);
	}
	if (ppuVar1[-0x13c9] != (undefined *)0x0) {
		if ((ppuVar1[-0x13c8] != (undefined *)0x0) && (ppuVar1[-0x13ca] == (undefined *)0x0)) {
			param_3 = 0;
			param_4 = 0;
			param_5 = 1;
			param_6 = 0;
			FUN_1002a39c(0xe, 0xe, 0, 0, 1, 0);
		}
		if ((ppuVar1[-0x13c8] == (undefined *)0x0) && (ppuVar1[-0x13ca] != (undefined *)0x0)) {
			param_3 = 0;
			param_4 = 0;
			param_5 = 0;
			param_6 = 1;
			FUN_1002a39c(0xe, 0xe, 0, 0, 0, 1);
		}
		if ((ppuVar1[-0x13c8] != (undefined *)0x0) && (ppuVar1[-0x13ca] != (undefined *)0x0)) {
			param_3 = 0;
			param_4 = 0;
			param_5 = 1;
			param_6 = 1;
			FUN_1002a39c(0xe, 0xe, 0, 0, 1, 1);
		}
		if ((ppuVar1[-0x13c8] == (undefined *)0x0) && (ppuVar1[-0x13ca] == (undefined *)0x0)) {
			param_3 = 0;
			param_4 = 0;
			param_5 = 0;
			param_6 = 0;
			FUN_1002a39c(0xe, 0xe, 0, 0, 0, 0);
		}
	}
	if (ppuVar1[-0x13ca] != (undefined *)0x0) {
		param_3 = 0;
		param_4 = 0;
		param_5 = 1;
		param_6 = 0;
		FUN_1002a39c(0x1c, 0xe, 0, 0, 1, 0);
	}
	if ((ppuVar1[-0x13c8] != (undefined *)0x0) && (ppuVar1[-0x13c9] != (undefined *)0x0)) {
		param_3 = 0xe;
		param_4 = 0x12;
		FUN_1002a628(0xc, 0x12, 0xe, 0x12);
	}
	if ((ppuVar1[-0x13c9] != (undefined *)0x0) && (ppuVar1[-0x13ca] != (undefined *)0x0)) {
		param_3 = 0x1c;
		param_4 = 0x12;
		FUN_1002a628(0x1a, 0x12, 0x1c, 0x12);
	}
	if (((ppuVar1[-0x13c8] != (undefined *)0x0) && (ppuVar1[-0x13c9] == (undefined *)0x0)) && (ppuVar1[-0x13ca] != (undefined *)0x0)) {
		param_3 = 0x1c;
		param_4 = 0x12;
		FUN_1002a628(0xc, 0x12, 0x1c, 0x12);
	}
	if (ppuVar1[-0x13cb] != (undefined *)0x0) {
		param_3 = 0;
		param_4 = 1;
		param_5 = 0;
		param_6 = 0;
		FUN_1002a39c(0xe, 0, 0, 1, 0, 0);
	}
	if (ppuVar1[-0x13cc] != (undefined *)0x0) {
		if ((ppuVar1[-0x13cb] != (undefined *)0x0) && (ppuVar1[-0x13cd] == (undefined *)0x0)) {
			param_3 = 1;
			param_4 = 0;
			param_5 = 0;
			param_6 = 0;
			FUN_1002a39c(0xe, 0xe, 1, 0, 0, 0);
		}
		if ((ppuVar1[-0x13cb] == (undefined *)0x0) && (ppuVar1[-0x13cd] != (undefined *)0x0)) {
			param_3 = 0;
			param_4 = 1;
			param_5 = 0;
			param_6 = 0;
			FUN_1002a39c(0xe, 0xe, 0, 1, 0, 0);
		}
		if ((ppuVar1[-0x13cb] != (undefined *)0x0) && (ppuVar1[-0x13cd] != (undefined *)0x0)) {
			param_3 = 1;
			param_4 = 1;
			param_5 = 0;
			param_6 = 0;
			FUN_1002a39c(0xe, 0xe, 1, 1, 0, 0);
		}
		if ((ppuVar1[-0x13cb] == (undefined *)0x0) && (ppuVar1[-0x13cd] == (undefined *)0x0)) {
			param_3 = 0;
			param_4 = 0;
			param_5 = 0;
			param_6 = 0;
			FUN_1002a39c(0xe, 0xe, 0, 0, 0, 0);
		}
	}
	if (ppuVar1[-0x13cd] != (undefined *)0x0) {
		param_3 = 1;
		param_4 = 0;
		param_5 = 0;
		param_6 = 0;
		FUN_1002a39c(0xe, 0x1c, 1, 0, 0, 0);
	}
	if ((ppuVar1[-0x13cb] != (undefined *)0x0) && (ppuVar1[-0x13cc] != (undefined *)0x0)) {
		param_3 = 0x12;
		param_4 = 0xe;
		FUN_1002a628(0x12, 0xc, 0x12, 0xe);
	}
	if ((ppuVar1[-0x13cc] != (undefined *)0x0) && (ppuVar1[-0x13cd] != (undefined *)0x0)) {
		param_3 = 0x12;
		param_4 = 0x1c;
		FUN_1002a628(0x12, 0x1a, 0x12, 0x1c);
	}
	if (((ppuVar1[-0x13cb] != (undefined *)0x0) && (ppuVar1[-0x13cc] == (undefined *)0x0)) && (ppuVar1[-0x13cd] != (undefined *)0x0)) {
		param_3 = 0x12;
		param_4 = 0x1c;
		FUN_1002a628(0x12, 0xc, 0x12, 0x1c);
	}
	if (*(int *)ppuVar1[-0x1d49] != 0) {
		if (((ppuVar1[-0x13cb] == (undefined *)0x0) && (ppuVar1[-0x13cc] == (undefined *)0x0)) && (ppuVar1[-0x13cd] == (undefined *)0x0)) {
			iVar3 = 1;
			if ((((ppuVar1[-0x13c8] == (undefined *)0x0) && (ppuVar1[-0x13c9] != (undefined *)0x0)) && (ppuVar1[-0x13ca] != (undefined *)0x0)) && (lVar2 = random(0, 2, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffdb), (int)lVar2 != 0)) {
				iVar3 = 2;
			}
			if (((ppuVar1[-0x13c8] != (undefined *)0x0) && (ppuVar1[-0x13c9] != (undefined *)0x0)) && ((ppuVar1[-0x13ca] == (undefined *)0x0 && (lVar2 = random(0, 2, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffdb), (int)lVar2 != 0)))) {
				iVar3 = 0;
			}
			if (((ppuVar1[-0x13c8] != (undefined *)0x0) && (ppuVar1[-0x13c9] == (undefined *)0x0)) && (ppuVar1[-0x13ca] != (undefined *)0x0)) {
				lVar2 = random(0, 2, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
				    (char)param_7, (char)param_8, in_stack_ffffffc8, in_stack_ffffffcf,
				    in_stack_ffffffdb);
				if ((int)lVar2 == 0) {
					iVar3 = 2;
				} else {
					iVar3 = 0;
				}
			}
			if (((ppuVar1[-0x13c8] != (undefined *)0x0) && (ppuVar1[-0x13c9] != (undefined *)0x0)) && (ppuVar1[-0x13ca] != (undefined *)0x0)) {
				lVar2 = random(0, 3, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
				    (char)param_7, (char)param_8, in_stack_ffffffc8, in_stack_ffffffcf,
				    in_stack_ffffffdb);
				iVar3 = (int)lVar2;
			}
			if (iVar3 == 1) {
				FUN_1002af00(0x10, 0x10, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
			} else {
				if (iVar3 < 1) {
					if (-1 < iVar3) {
						FUN_1002af00(2, 0x10, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
					}
				} else {
					if (iVar3 < 3) {
						FUN_1002af00(0x1e, 0x10, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
					}
				}
			}
		} else {
			iVar3 = 1;
			if (((ppuVar1[-0x13cb] == (undefined *)0x0) && (ppuVar1[-0x13cc] != (undefined *)0x0)) && ((ppuVar1[-0x13cd] != (undefined *)0x0 && (lVar2 = random(0, 2, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffdb), (int)lVar2 != 0)))) {
				iVar3 = 2;
			}
			if ((((ppuVar1[-0x13cb] != (undefined *)0x0) && (ppuVar1[-0x13cc] != (undefined *)0x0)) && (ppuVar1[-0x13cd] == (undefined *)0x0)) && (lVar2 = random(0, 2, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffdb), (int)lVar2 != 0)) {
				iVar3 = 0;
			}
			if (((ppuVar1[-0x13cb] != (undefined *)0x0) && (ppuVar1[-0x13cc] == (undefined *)0x0)) && (ppuVar1[-0x13cd] != (undefined *)0x0)) {
				lVar2 = random(0, 2, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
				    (char)param_7, (char)param_8, in_stack_ffffffc8, in_stack_ffffffcf,
				    in_stack_ffffffdb);
				if ((int)lVar2 == 0) {
					iVar3 = 2;
				} else {
					iVar3 = 0;
				}
			}
			if (((ppuVar1[-0x13cb] != (undefined *)0x0) && (ppuVar1[-0x13cc] != (undefined *)0x0)) && (ppuVar1[-0x13cd] != (undefined *)0x0)) {
				lVar2 = random(0, 3, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
				    (char)param_7, (char)param_8, in_stack_ffffffc8, in_stack_ffffffcf,
				    in_stack_ffffffdb);
				iVar3 = (int)lVar2;
			}
			if (iVar3 == 1) {
				FUN_1002af00(0x10, 0x10, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
			} else {
				if (iVar3 < 1) {
					if (-1 < iVar3) {
						FUN_1002af00(0x10, 2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
					}
				} else {
					if (iVar3 < 3) {
						FUN_1002af00(0x10, 0x1e, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
					}
				}
			}
		}
	}
	return;
}

void DRLG_L2FTVR(int param_1, int param_2, int param_3, int param_4, uint param_5, longlong param_6,
    undefined param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	int iVar2;
	int iVar3;
	undefined *puVar4;
	undefined *puVar5;
	int iVar6;
	undefined **ppuVar7;
	longlong lVar8;
	longlong lVar9;
	char *pcVar10;
	undefined uVar11;
	longlong lVar12;
	int *piVar13;
	undefined uVar14;
	ulonglong uVar15;
	ulonglong uVar16;
	uint uVar18;
	longlong lVar17;
	longlong lVar19;
	int *piVar20;
	longlong lVar21;
	int iVar22;
	int iVar23;
	int iVar24;
	ulonglong uVar25;
	ulonglong uVar26;
	longlong lVar27;
	longlong lVar28;
	ulonglong uVar29;
	int iVar30;
	int iVar31;
	int iVar32;
	int iVar33;
	ulonglong uVar34;
	longlong lVar35;
	undefined4 in_stack_ffffff78;

	puVar5 = PTR_DAT_100f1ab8;
	puVar4 = PTR_DAT_100f1a48;
	uVar18 = (uint)param_6;
	lVar21 = (longlong)param_8;
	uVar25 = SEXT48((int)param_5);
	uVar34 = SEXT48(param_4);
	uVar26 = SEXT48(param_3);
	uVar29 = SEXT48(param_2);
	ppuVar7 = &toc;
	lVar19 = 0;
	lVar35 = 0;
	uVar15 = uVar34;
	uVar16 = uVar25;
	lVar8 = DiabloAllocPtr(200000);
	do {
		iVar22 = (int)lVar8;
		if (0 < (int)lVar35) {
			lVar35 = lVar35 + -1;
			piVar20 = (int *)(iVar22 + (int)lVar35 * 0x14);
			param_1 = *piVar20;
			uVar29 = (ulonglong)(uint)piVar20[1];
			uVar26 = (ulonglong)(uint)piVar20[2];
			uVar34 = (ulonglong)(uint)piVar20[3];
			uVar25 = (ulonglong)(uint)piVar20[4];
		}
		lVar12 = uVar26 * 0x70;
		uVar14 = (undefined)lVar12;
		lVar9 = (ulonglong) * (uint *)puVar4 + lVar12 + uVar34;
		uVar11 = (undefined)lVar9;
		pcVar10 = (char *)lVar9;
		if ((*pcVar10 == '\0') && (uVar15 = ZEXT48(ppuVar7[-0x1df3]), iVar1 = (int)uVar29, (ulonglong)(uVar18 & 0xff) == (ulonglong)(byte)ppuVar7[-0x1df3][param_1 * 0x28 + iVar1])) {
			*pcVar10 = *puVar5;
			iVar3 = (int)uVar34;
			iVar23 = (int)lVar12 + iVar3;
			lVar28 = lVar35 + 7;
			*(undefined *)(*(int *)puVar4 + iVar23 + 0x70) = *puVar5;
			iVar24 = iVar1 + 1;
			iVar2 = (int)uVar26;
			iVar33 = iVar2 + 2;
			*(undefined *)(*(int *)puVar4 + iVar23 + 1) = *puVar5;
			iVar6 = param_1 + 1;
			piVar13 = (int *)(iVar22 + (int)lVar35 * 0x14);
			iVar32 = iVar3 + 2;
			*(undefined *)(*(int *)puVar4 + iVar23 + 0x71) = *puVar5;
			piVar20 = (int *)(iVar22 + ((int)lVar35 + 1) * 0x14);
			*piVar13 = iVar6;
			lVar9 = lVar35 + 3;
			lVar19 = lVar8 + (lVar35 + 2) * 0x14;
			piVar13[1] = iVar24;
			iVar31 = param_1 + -1;
			piVar13[2] = iVar33;
			iVar30 = iVar2 + -2;
			piVar13[3] = iVar32;
			lVar21 = uVar29 - 1;
			piVar13[4] = 8;
			lVar12 = lVar8 + (lVar35 + 4) * 0x14;
			uVar14 = (undefined)lVar12;
			lVar27 = lVar35 + 5;
			*piVar20 = iVar31;
			lVar17 = lVar35 + 6;
			iVar23 = iVar3 + -2;
			piVar20[1] = iVar24;
			lVar35 = lVar35 + 8;
			piVar20[2] = iVar30;
			uVar15 = lVar8 + lVar27 * 0x14;
			piVar20[3] = iVar32;
			param_6 = lVar8 + lVar9 * 0x14;
			piVar20[4] = 7;
			lVar9 = lVar8 + lVar28 * 0x14;
			uVar11 = (undefined)lVar9;
			uVar16 = lVar8 + lVar17 * 0x14;
			piVar20 = (int *)lVar19;
			*piVar20 = iVar6;
			iVar22 = (int)lVar21;
			piVar20[1] = iVar22;
			piVar20[2] = iVar33;
			piVar20[3] = iVar23;
			piVar20[4] = 6;
			piVar20 = (int *)param_6;
			*piVar20 = iVar31;
			piVar20[1] = iVar22;
			piVar20[2] = iVar30;
			piVar20[3] = iVar23;
			piVar20[4] = 5;
			piVar20 = (int *)lVar12;
			*piVar20 = param_1;
			piVar20[1] = iVar22;
			piVar20[2] = iVar2;
			piVar20[3] = iVar23;
			piVar20[4] = 4;
			piVar20 = (int *)uVar15;
			*piVar20 = param_1;
			piVar20[1] = iVar24;
			piVar20[2] = iVar2;
			piVar20[3] = iVar32;
			piVar20[4] = 3;
			piVar20 = (int *)uVar16;
			*piVar20 = iVar31;
			piVar20[1] = iVar1;
			piVar20[2] = iVar30;
			piVar20[3] = iVar3;
			piVar20[4] = 2;
			piVar20 = (int *)lVar9;
			*piVar20 = iVar6;
			piVar20[1] = iVar1;
			piVar20[2] = iVar33;
			piVar20[3] = iVar3;
			piVar20[4] = 1;
		} else {
			if ((uVar25 & 0xffffffff) < 9) {
				// WARNING: Could not recover jumptable at 0x1002b898. Too many branches
				// WARNING: Treating indirect jump as call
				(*(code *)ppuVar7[(int)uVar25 + -0x78b])();
				return;
			}
		}
	} while (0 < (int)lVar35);
	mem_free_dbg(lVar8, uVar11, uVar14, (char)uVar15, (char)uVar16, (char)param_6, (char)lVar19, (char)lVar21, in_stack_ffffff78);
	return;
}

void DRLG_L2FloodTVal(undefined8 param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	longlong lVar3;
	longlong lVar4;
	int iVar5;
	int iVar6;
	int iVar7;
	int iVar8;
	byte *pbVar9;
	int iVar10;
	byte *pbVar11;
	undefined4 in_stack_ffffff98;

	puVar2 = PTR_DAT_100f1ab8;
	puVar1 = PTR_DAT_100f1a48;
	lVar4 = (longlong)param_8;
	lVar3 = (longlong)param_7;
	iVar5 = 0x10;
	iVar7 = 0;
	pbVar9 = PTR_DAT_100f1804;
	do {
		iVar6 = 0x10;
		iVar8 = 0;
		iVar10 = 0x700;
		pbVar11 = pbVar9;
		do {
			if (((ulonglong)((uint)param_1 & 0xff) == (ulonglong)*pbVar11) && (*(char *)(iVar5 + *(int *)puVar1 + iVar10) == '\0')) {
				DRLG_L2FTVR(iVar8, iVar7, iVar6, iVar5, 0, param_1, (char)lVar3, (char)lVar4, in_stack_ffffff98);
				*puVar2 = *puVar2 + '\x01';
			}
			iVar8 = iVar8 + 1;
			iVar6 = iVar6 + 2;
			pbVar11 = pbVar11 + 0x28;
			iVar10 = iVar10 + 0xe0;
		} while (iVar8 < 0x28);
		iVar7 = iVar7 + 1;
		pbVar9 = pbVar9 + 1;
		iVar5 = iVar5 + 2;
	} while (iVar7 < 0x28);
	return;
}

void FUN_1002ba6c(void)

{
	undefined *puVar1;
	char *pcVar2;
	int iVar3;
	char *pcVar4;
	int iVar5;
	int iVar6;
	undefined *puVar7;
	longlong lVar8;

	puVar1 = PTR_DAT_100f1a48;
	iVar6 = 0x10;
	iVar5 = 0;
	pcVar4 = PTR_DAT_100f1804;
	do {
		lVar8 = 0x28;
		iVar3 = 0x700;
		pcVar2 = pcVar4;
		do {
			if ((*pcVar2 == '\x17') && (pcVar2[-1] == '\x12')) {
				puVar7 = (undefined *)(iVar6 + *(int *)puVar1 + iVar3);
				puVar7[0x70] = *puVar7;
				puVar7 = (undefined *)(iVar6 + *(int *)puVar1 + iVar3);
				puVar7[0x71] = *puVar7;
			}
			if ((*pcVar2 == '\x18') && (pcVar2[0x28] == '\x13')) {
				puVar7 = (undefined *)(iVar6 + *(int *)puVar1 + iVar3);
				puVar7[1] = *puVar7;
				puVar7 = (undefined *)(iVar6 + *(int *)puVar1 + iVar3);
				puVar7[0x71] = *puVar7;
			}
			if (*pcVar2 == '\x12') {
				puVar7 = (undefined *)(iVar6 + *(int *)puVar1 + iVar3);
				puVar7[0x70] = *puVar7;
				puVar7 = (undefined *)(iVar6 + *(int *)puVar1 + iVar3);
				puVar7[0x71] = *puVar7;
			}
			if (*pcVar2 == '\x13') {
				puVar7 = (undefined *)(iVar6 + *(int *)puVar1 + iVar3);
				puVar7[1] = *puVar7;
				puVar7 = (undefined *)(iVar6 + *(int *)puVar1 + iVar3);
				puVar7[0x71] = *puVar7;
			}
			if (*pcVar2 == '\x14') {
				puVar7 = (undefined *)(iVar6 + *(int *)puVar1 + iVar3);
				puVar7[0x70] = *puVar7;
				puVar7 = (undefined *)(iVar6 + *(int *)puVar1 + iVar3);
				puVar7[1] = *puVar7;
				puVar7 = (undefined *)(iVar6 + *(int *)puVar1 + iVar3);
				puVar7[0x71] = *puVar7;
			}
			iVar3 = iVar3 + 0xe0;
			pcVar2 = pcVar2 + 0x28;
			lVar8 = lVar8 + -1;
		} while (lVar8 != 0);
		iVar5 = iVar5 + 1;
		pcVar4 = pcVar4 + 1;
		iVar6 = iVar6 + 2;
	} while (iVar5 < 0x28);
	return;
}

void FUN_1002bbe0(void)

{
	char *pcVar1;
	char *pcVar2;
	char *pcVar3;
	int iVar4;
	longlong lVar5;

	iVar4 = 0;
	pcVar3 = PTR_DAT_100f1804;
	do {
		lVar5 = 0x14;
		pcVar2 = pcVar3;
		do {
			if ((*pcVar2 == '\x15') && (pcVar2[0x28] != '\x13')) {
				*pcVar2 = -0x36;
			}
			if ((*pcVar2 == '\x13') && (pcVar2[0x28] != '\x13')) {
				*pcVar2 = -0x38;
			}
			if ((*pcVar2 == '\x18') && (pcVar2[0x28] != '\x13')) {
				*pcVar2 = -0x33;
			}
			if ((*pcVar2 == '\x12') && (pcVar2[1] != '\x12')) {
				*pcVar2 = -0x39;
			}
			if ((*pcVar2 == '\x15') && (pcVar2[1] != '\x12')) {
				*pcVar2 = -0x36;
			}
			if ((*pcVar2 == '\x17') && (pcVar2[1] != '\x12')) {
				*pcVar2 = -0x34;
			}
			pcVar1 = pcVar2 + 0x28;
			if ((*pcVar1 == '\x15') && (pcVar2[0x50] != '\x13')) {
				*pcVar1 = -0x36;
			}
			if ((*pcVar1 == '\x13') && (pcVar2[0x50] != '\x13')) {
				*pcVar1 = -0x38;
			}
			if ((*pcVar1 == '\x18') && (pcVar2[0x50] != '\x13')) {
				*pcVar1 = -0x33;
			}
			if ((*pcVar1 == '\x12') && (pcVar2[0x29] != '\x12')) {
				*pcVar1 = -0x39;
			}
			if ((*pcVar1 == '\x15') && (pcVar2[0x29] != '\x12')) {
				*pcVar1 = -0x36;
			}
			if ((*pcVar1 == '\x17') && (pcVar2[0x29] != '\x12')) {
				*pcVar1 = -0x34;
			}
			pcVar2 = pcVar2 + 0x50;
			lVar5 = lVar5 + -1;
		} while (lVar5 != 0);
		iVar4 = iVar4 + 1;
		pcVar3 = pcVar3 + 1;
	} while (iVar4 < 0x28);
	return;
}

void FUN_1002bd98(void)

{
	undefined *puVar1;
	undefined *puVar2;
	byte *pbVar3;
	char *pcVar4;
	char *pcVar5;
	int iVar6;
	longlong lVar7;

	iVar6 = 1;
	puVar1 = PTR_DAT_100f1abc;
	puVar2 = PTR_DAT_100f1804;
	do {
		pbVar3 = puVar1 + 0x29;
		lVar7 = 0x13;
		pcVar4 = puVar2 + 0x29;
		do {
			if (((((*pbVar3 & 0x80) == 0) && (*pcVar4 == '\x11')) && (pcVar4[-0x28] == '\r')) && (pcVar4[-1] == '\x01')) {
				*pcVar4 = '\x10';
				pbVar3[-1] = pbVar3[-1] & 0x80;
			}
			if (*pcVar4 == -0x36) {
				if (pcVar4[0x28] == '\r') {
					if (pcVar4[1] == '\x01') {
						*pcVar4 = '\b';
					}
				}
			}
			pcVar5 = pcVar4 + 0x28;
			if ((((pbVar3[0x28] & 0x80) == 0) && (*pcVar5 == '\x11')) && ((*pcVar4 == '\r' && (pcVar4[0x27] == '\x01')))) {
				*pcVar5 = '\x10';
				pbVar3[0x27] = pbVar3[0x27] & 0x80;
			}
			if (*pcVar5 == -0x36) {
				if (pcVar4[0x50] == '\r') {
					if (pcVar4[0x29] == '\x01') {
						*pcVar5 = '\b';
					}
				}
			}
			pbVar3 = pbVar3 + 0x50;
			pcVar4 = pcVar4 + 0x50;
			lVar7 = lVar7 + -1;
		} while (lVar7 != 0);
		iVar6 = iVar6 + 1;
		puVar1 = puVar1 + 1;
		puVar2 = puVar2 + 1;
	} while (iVar6 < 0x27);
	return;
}

void DRLG_L5(int param_1, undefined8 param_2, longlong param_3, longlong param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	bool bVar1;
	byte bVar2;
	uint uVar3;
	int iVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined8 uVar9;
	undefined uVar10;
	ulonglong uVar11;
	undefined uVar12;
	undefined uVar15;
	ulonglong uVar13;
	char *pcVar14;
	undefined uVar16;
	char cVar17;
	undefined uVar18;
	undefined4 uVar19;
	undefined uVar20;
	undefined4 uVar21;
	undefined uVar22;
	undefined4 uVar23;
	undefined uVar24;
	byte *pbVar25;
	longlong lVar26;
	byte *pbVar27;
	int unaff_r23;
	char *pcVar29;
	ulonglong uVar28;
	char *pcVar30;
	longlong lVar31;
	int iVar32;
	int iVar33;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb4;

	puVar8 = PTR_DAT_100f1a84;
	puVar7 = PTR_DAT_100f1a80;
	puVar6 = PTR_DAT_100f1820;
	puVar5 = PTR_DAT_100f181c;
	uVar28 = SEXT48(param_1);
	uVar13 = ZEXT48(&toc);
	uVar11 = ZEXT48(PTR_DAT_100f17ec);
	bVar1 = false;
	bVar2 = *PTR_DAT_100f17ec;
	if (bVar2 == 2) {
		unaff_r23 = 0x2b5;
	} else {
		if (bVar2 < 2) {
			if (bVar2 != 0) {
				unaff_r23 = 0x215;
			}
		} else {
			if (bVar2 < 5) {
				unaff_r23 = 0x2f9;
			}
		}
	}
	while (!bVar1) {
		DRLG_InitTrans((char)uVar28, (char)uVar11, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffff88);
		do {
			uVar10 = FUN_10028d80();
			FUN_100292c8(uVar10, (char)uVar11, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
			    (char)param_7, (char)param_8, in_stack_ffffff88);
			lVar31 = FUN_100297c4();
			uVar23 = (undefined4)param_8;
			uVar21 = (undefined4)param_7;
			uVar19 = (undefined4)param_6;
		} while ((int)lVar31 < unaff_r23);
		FUN_100298c0();
		uVar9 = FUN_100299dc();
		uVar24 = (undefined)uVar23;
		uVar22 = (undefined)uVar21;
		uVar20 = (undefined)uVar19;
		uVar18 = (undefined)param_5;
		uVar16 = (undefined)param_4;
		uVar15 = (undefined)param_3;
		uVar12 = (undefined)uVar11;
		FUN_1002b004(uVar9, uVar11, param_3, param_4, param_5, uVar19, uVar21, uVar23, in_stack_ffffff88);
		uVar10 = FUN_1002a750();
		FUN_1002a17c(uVar10, uVar12, uVar15, uVar16, uVar18, uVar20, uVar22, uVar24, in_stack_ffffff88);
		FUN_10028e04();
		DRLG_L2FloodTVal(0xd, uVar12, uVar15, uVar16, uVar18, uVar20, uVar22, uVar24, in_stack_ffffff88);
		bVar1 = true;
		uVar9 = QuestStatus(0xd);
		if ((int)uVar9 != 0) {
			if (param_1 == 0) {
				uVar9 = FUN_10027ce8(ZEXT48(&DAT_100f7149), 1, 1, 0, 0, 1, -1, 0, in_stack_ffffff88,
				    in_stack_ffffff8f, in_stack_ffffffac, in_stack_ffffffb4);
				if ((int)uVar9 < 0) {
					bVar1 = false;
				}
			} else {
				uVar9 = FUN_10027ce8(ZEXT48(&DAT_100f7149), 1, 1, 0, 0, 0, -1, 0, in_stack_ffffff88,
				    in_stack_ffffff8f, in_stack_ffffffac, in_stack_ffffffb4);
				bVar1 = -1 < (int)uVar9;
				*(int *)puVar5 = *(int *)puVar5 + -1;
			}
		}
		uVar9 = QuestStatus(7);
		if ((int)uVar9 == 0) {
			if (param_1 == 0) {
				uVar11 = 1;
				param_3 = 1;
				param_4 = 0;
				param_5 = 0;
				param_6 = 1;
				param_7 = 0xffffffffffffffff;
				param_8 = 0;
				uVar28 = FUN_10027ce8(ZEXT48(&DAT_100f7103), 1, 1, 0, 0, 1, -1, 0, in_stack_ffffff88,
				    in_stack_ffffff8f, in_stack_ffffffac, in_stack_ffffffb4);
				if ((int)uVar28 < 0) {
					bVar1 = false;
				} else {
					uVar11 = 1;
					param_3 = 1;
					param_4 = 0;
					param_5 = 0;
					param_6 = 0;
					param_7 = 0xffffffffffffffff;
					param_8 = 1;
					uVar28 = FUN_10027ce8(ZEXT48(&DAT_100f7125), 1, 1, 0, 0, 0, -1, 1, in_stack_ffffff88,
					    in_stack_ffffff8f, in_stack_ffffffac, in_stack_ffffffb4);
					if ((int)uVar28 < 0) {
						bVar1 = false;
					}
				}
			} else {
				uVar11 = 1;
				param_3 = 1;
				param_4 = 0;
				param_5 = 0;
				param_6 = 0;
				param_7 = 0xffffffffffffffff;
				param_8 = 0;
				uVar9 = FUN_10027ce8(ZEXT48(&DAT_100f7103), 1, 1, 0, 0, 0, -1, 0, in_stack_ffffff88,
				    in_stack_ffffff8f, in_stack_ffffffac, in_stack_ffffffb4);
				if ((int)uVar9 < 0) {
					bVar1 = false;
				} else {
					uVar11 = 1;
					param_3 = 1;
					param_4 = 0;
					param_5 = 0;
					param_6 = 1;
					param_7 = 0xffffffffffffffff;
					param_8 = 1;
					uVar9 = FUN_10027ce8(ZEXT48(&DAT_100f7125), 1, 1, 0, 0, 1, -1, 1, in_stack_ffffff88,
					    in_stack_ffffff8f, in_stack_ffffffac, in_stack_ffffffb4);
					if ((int)uVar9 < 0) {
						bVar1 = false;
					}
				}
				uVar28 = (ulonglong) * (uint *)puVar5;
				*(uint *)puVar5 = *(uint *)puVar5 - 1;
			}
		} else {
			if (param_1 == 0) {
				uVar11 = 1;
				param_3 = 1;
				param_4 = 0;
				param_5 = 0;
				param_6 = 1;
				param_7 = 0xffffffffffffffff;
				param_8 = 0;
				uVar28 = FUN_10027ce8(ZEXT48(&DAT_100f70e1), 1, 1, 0, 0, 1, -1, 0, in_stack_ffffff88,
				    in_stack_ffffff8f, in_stack_ffffffac, in_stack_ffffffb4);
				if ((int)uVar28 < 0) {
					bVar1 = false;
				}
			} else {
				uVar11 = 1;
				param_3 = 1;
				param_4 = 0;
				param_5 = 0;
				param_6 = 0;
				param_7 = 0xffffffffffffffff;
				param_8 = 0;
				uVar9 = FUN_10027ce8(ZEXT48(&DAT_100f70e1), 1, 1, 0, 0, 0, -1, 0, in_stack_ffffff88,
				    in_stack_ffffff8f, in_stack_ffffffac, in_stack_ffffffb4);
				if ((int)uVar9 < 0) {
					bVar1 = false;
				}
				if (param_1 == 1) {
					*(int *)puVar6 = *(int *)puVar8 * 2 + 0x14;
					uVar3 = *(int *)puVar7 * 2;
					uVar28 = (ulonglong)uVar3;
					*(uint *)puVar5 = uVar3 + 0x1c;
				} else {
					uVar28 = (ulonglong) * (uint *)puVar5;
					*(uint *)puVar5 = *(uint *)puVar5 - 1;
				}
			}
		}
	}
	pcVar30 = *(char **)((int)uVar13 + -0x77cc);
	iVar33 = 0;
	lVar31 = 0x10;
	pcVar29 = pcVar30;
	do {
		iVar32 = 0;
		lVar26 = 0x10;
		pcVar14 = pcVar29;
		do {
			if (*pcVar14 == '@') {
				iVar4 = (int)lVar31;
				FUN_10042160((int)lVar26, iVar4 + 1, (int)lVar26, iVar4);
				param_3 = lVar26 + 1;
				uVar11 = lVar31 + 1;
				param_4 = lVar31;
				FUN_10042160((int)param_3, (int)uVar11, (int)param_3, iVar4);
			}
			iVar32 = iVar32 + 1;
			lVar26 = lVar26 + 2;
			pcVar14 = pcVar14 + 0x28;
		} while (iVar32 < 0x28);
		iVar33 = iVar33 + 1;
		lVar31 = lVar31 + 2;
		pcVar29 = pcVar29 + 1;
	} while (iVar33 < 0x28);
	FUN_1002ba6c();
	FUN_1002bbe0();
	uVar9 = FUN_1002bd98();
	uVar28 = 0;
	pbVar27 = *(byte **)((int)uVar13 + -0x7514);
	do {
		iVar33 = 0;
		pbVar25 = pbVar27;
		do {
			if ((*pbVar25 & 0x7f) != 0) {
				uVar11 = uVar28;
				uVar9 = FUN_100277b8(iVar33, (int)uVar28);
			}
			iVar33 = iVar33 + 1;
			pbVar25 = pbVar25 + 0x28;
		} while (iVar33 < 0x28);
		uVar28 = uVar28 + 1;
		pbVar27 = pbVar27 + 1;
	} while ((int)uVar28 < 0x28);
	FUN_1002adc0((char)uVar9, (char)uVar11, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
	    (char)param_7, (char)param_8, in_stack_ffffff88);
	FUN_10027a18();
	iVar33 = (int)uVar13;
	uVar12 = 5;
	uVar10 = 10;
	uVar15 = 0;
	uVar16 = 0;
	uVar18 = 0;
	uVar20 = 0xff;
	uVar22 = 4;
	uVar9 = FUN_10027ce8(uVar13 - 0x1e91, 5, 10, 0, 0, 0, -1, 4, in_stack_ffffff88, in_stack_ffffff8f,
	    in_stack_ffffffac, in_stack_ffffffb4);
	uVar10 = FUN_100280ac((char)uVar9, uVar12, uVar10, uVar15, uVar16, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	uVar13 = (ulonglong) * (uint *)(iVar33 + -0x7540);
	lVar31 = 0x14;
	cVar17 = '\0';
	do {
		pcVar14 = (char *)uVar13;
		*pcVar14 = *pcVar30;
		pcVar14[0x28] = pcVar30[0x28];
		pcVar14[0x50] = pcVar30[0x50];
		pcVar14[0x78] = pcVar30[0x78];
		pcVar14[0xa0] = pcVar30[0xa0];
		pcVar14[200] = pcVar30[200];
		pcVar14[0xf0] = pcVar30[0xf0];
		pcVar14[0x118] = pcVar30[0x118];
		pcVar14[0x140] = pcVar30[0x140];
		pcVar14[0x168] = pcVar30[0x168];
		pcVar14[400] = pcVar30[400];
		pcVar14[0x1b8] = pcVar30[0x1b8];
		pcVar14[0x1e0] = pcVar30[0x1e0];
		pcVar14[0x208] = pcVar30[0x208];
		pcVar14[0x230] = pcVar30[0x230];
		pcVar14[600] = pcVar30[600];
		pcVar14[0x280] = pcVar30[0x280];
		pcVar14[0x2a8] = pcVar30[0x2a8];
		pcVar14[0x2d0] = pcVar30[0x2d0];
		pcVar14[0x2f8] = pcVar30[0x2f8];
		pcVar14[800] = pcVar30[800];
		pcVar14[0x348] = pcVar30[0x348];
		pcVar14[0x370] = pcVar30[0x370];
		pcVar14[0x398] = pcVar30[0x398];
		pcVar14[0x3c0] = pcVar30[0x3c0];
		pcVar14[1000] = pcVar30[1000];
		pcVar14[0x410] = pcVar30[0x410];
		pcVar14[0x438] = pcVar30[0x438];
		pcVar14[0x460] = pcVar30[0x460];
		pcVar14[0x488] = pcVar30[0x488];
		pcVar14[0x4b0] = pcVar30[0x4b0];
		pcVar14[0x4d8] = pcVar30[0x4d8];
		pcVar14[0x500] = pcVar30[0x500];
		pcVar14[0x528] = pcVar30[0x528];
		pcVar14[0x550] = pcVar30[0x550];
		pcVar14[0x578] = pcVar30[0x578];
		pcVar14[0x5a0] = pcVar30[0x5a0];
		pcVar14[0x5c8] = pcVar30[0x5c8];
		pcVar14[0x5f0] = pcVar30[0x5f0];
		pcVar14[0x618] = pcVar30[0x618];
		cVar17 = cVar17 + '\x01';
		pcVar14[1] = pcVar30[1];
		pcVar14[0x29] = pcVar30[0x29];
		pcVar14[0x51] = pcVar30[0x51];
		pcVar14[0x79] = pcVar30[0x79];
		pcVar14[0xa1] = pcVar30[0xa1];
		pcVar14[0xc9] = pcVar30[0xc9];
		pcVar14[0xf1] = pcVar30[0xf1];
		pcVar14[0x119] = pcVar30[0x119];
		pcVar14[0x141] = pcVar30[0x141];
		pcVar14[0x169] = pcVar30[0x169];
		pcVar14[0x191] = pcVar30[0x191];
		pcVar14[0x1b9] = pcVar30[0x1b9];
		pcVar14[0x1e1] = pcVar30[0x1e1];
		pcVar14[0x209] = pcVar30[0x209];
		pcVar14[0x231] = pcVar30[0x231];
		pcVar14[0x259] = pcVar30[0x259];
		pcVar14[0x281] = pcVar30[0x281];
		pcVar14[0x2a9] = pcVar30[0x2a9];
		pcVar14[0x2d1] = pcVar30[0x2d1];
		pcVar14[0x2f9] = pcVar30[0x2f9];
		pcVar14[0x321] = pcVar30[0x321];
		pcVar14[0x349] = pcVar30[0x349];
		pcVar14[0x371] = pcVar30[0x371];
		pcVar14[0x399] = pcVar30[0x399];
		pcVar14[0x3c1] = pcVar30[0x3c1];
		pcVar14[0x3e9] = pcVar30[0x3e9];
		pcVar14[0x411] = pcVar30[0x411];
		pcVar14[0x439] = pcVar30[0x439];
		pcVar14[0x461] = pcVar30[0x461];
		pcVar14[0x489] = pcVar30[0x489];
		pcVar14[0x4b1] = pcVar30[0x4b1];
		pcVar14[0x4d9] = pcVar30[0x4d9];
		pcVar14[0x501] = pcVar30[0x501];
		pcVar14[0x529] = pcVar30[0x529];
		pcVar14[0x551] = pcVar30[0x551];
		pcVar14[0x579] = pcVar30[0x579];
		pcVar14[0x5a1] = pcVar30[0x5a1];
		pcVar14[0x5c9] = pcVar30[0x5c9];
		pcVar14[0x5f1] = pcVar30[0x5f1];
		pcVar29 = pcVar30 + 0x619;
		pcVar30 = pcVar30 + 2;
		pcVar14[0x619] = *pcVar29;
		uVar13 = uVar13 + 2;
		uVar15 = (undefined)uVar13;
		lVar31 = lVar31 + -1;
	} while (lVar31 != 0);
	DRLG_Init_Globals(uVar10, uVar12, uVar15, cVar17, uVar16, uVar18, uVar20, uVar22, in_stack_ffffff88);
	DRLG_CheckQuests((char)*(undefined4 *)puVar8, (char)*(undefined4 *)puVar7, uVar15, cVar17, uVar16, uVar18,
	    uVar20, uVar22, in_stack_ffffff88);
	return;
}

void CreateL5Dungeon(undefined4 param_1, int param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined4 *puVar2;
	undefined **ppuVar3;
	undefined8 uVar4;
	undefined8 extraout_r3;
	undefined uVar5;
	ulonglong uVar6;
	undefined uVar7;
	undefined8 uVar8;
	undefined uVar9;
	undefined7 uVar10;
	undefined uVar11;
	undefined7 uVar12;
	undefined uVar13;
	undefined4 uVar14;
	undefined uVar15;
	undefined4 uVar16;
	undefined uVar17;
	undefined4 uVar18;
	undefined uVar19;
	undefined4 in_stack_ffffffc8;

	uVar12 = (undefined7)((ulonglong)param_5 >> 8);
	uVar13 = (undefined)param_5;
	uVar10 = (undefined7)((ulonglong)param_4 >> 8);
	uVar11 = (undefined)param_4;
	ppuVar3 = &toc;
	SetRndSeed(param_1);
	uVar8 = 0x10;
	puVar1 = (undefined4 *)ppuVar3[-0x1d4d];
	*(undefined4 *)ppuVar3[-0x1d4c] = 0x10;
	puVar2 = (undefined4 *)ppuVar3[-0x1d4e];
	uVar6 = ZEXT48(puVar2);
	*puVar1 = 0x10;
	puVar1 = (undefined4 *)ppuVar3[-0x1d4f];
	*puVar2 = 0x60;
	*puVar1 = 0x60;
	DRLG_InitTrans((char)puVar1, (char)puVar2, 0x10, uVar11, uVar13, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffffc8);
	uVar4 = DRLG_InitSetPC();
	DRLG_LoadL1SP(uVar4, uVar6, uVar8, CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13), (int)param_6,
	    (int)param_7, (int)param_8, in_stack_ffffffc8);
	uVar18 = (undefined4)param_8;
	uVar16 = (undefined4)param_7;
	uVar14 = (undefined4)param_6;
	DRLG_L5(param_2, uVar6, uVar8, CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13), param_6, param_7,
	    param_8, in_stack_ffffffc8);
	uVar19 = (undefined)uVar18;
	uVar17 = (undefined)uVar16;
	uVar15 = (undefined)uVar14;
	uVar9 = (undefined)uVar8;
	uVar7 = (undefined)uVar6;
	uVar5 = DRLG_L1Pass3(extraout_r3, uVar6, uVar8, CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13),
	    uVar14, uVar16, uVar18, in_stack_ffffffc8);
	DRLG_FreeL1SP(uVar5, uVar7, uVar9, uVar11, uVar13, uVar15, uVar17, uVar19, in_stack_ffffffc8);
	DRLG_InitL1Vals();
	DRLG_SetPC();
	return;
}

void FUN_10031468(void)

{
	_DAT_100f40bc = _DAT_100f40b8;
	return;
}

void FUN_10031474(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	int iVar4;
	undefined *puVar5;
	longlong lVar6;
	undefined in_stack_ffffffbb;
	undefined in_stack_ffffffbf;
	int local_3c;

	puVar5 = PTR_DAT_100f1804;
	memset((char)PTR_DAT_100f1804, 0x40, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
	puVar3 = *(undefined **)(local_3c + -0x7514);
	iVar4 = 0;
	do {
		lVar6 = 5;
		puVar1 = puVar5;
		puVar2 = puVar3;
		do {
			*puVar1 = 0;
			*puVar2 = 0;
			puVar1[0x28] = 0;
			puVar2[0x28] = 0;
			puVar1[0x50] = 0;
			puVar2[0x50] = 0;
			puVar1[0x78] = 0;
			puVar2[0x78] = 0;
			puVar1[0xa0] = 0;
			puVar2[0xa0] = 0;
			puVar1[200] = 0;
			puVar2[200] = 0;
			puVar1[0xf0] = 0;
			puVar2[0xf0] = 0;
			puVar1[0x118] = 0;
			puVar1 = puVar1 + 0x140;
			puVar2[0x118] = 0;
			puVar2 = puVar2 + 0x140;
			lVar6 = lVar6 + -1;
		} while (lVar6 != 0);
		iVar4 = iVar4 + 1;
		puVar3 = puVar3 + 1;
		puVar5 = puVar5 + 1;
	} while (iVar4 < 0x28);
	return;
}

undefined8
FUN_10031528(int param_1, int param_2, int param_3, int param_4, undefined param_5, undefined param_6,
    undefined param_7, undefined param_8, undefined4 param_9)

{
	uint uVar1;
	ulonglong uVar2;
	ulonglong uVar3;
	longlong lVar4;
	undefined8 uVar5;
	byte *pbVar6;
	longlong lVar7;
	undefined *puVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	longlong lVar14;
	longlong lVar15;
	longlong lVar16;
	longlong lVar17;
	ulonglong uVar18;
	longlong lVar19;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	lVar15 = (longlong)param_3;
	lVar17 = (longlong)param_2;
	lVar13 = (longlong)param_1;
	uVar18 = ZEXT48(PTR_DAT_100f1804);
	if ((((1 < param_1) && (param_3 < 0x22)) && (1 < param_2)) && (param_4 < 0x26)) {
		lVar19 = uVar18 + lVar17;
		lVar10 = 0;
		lVar7 = lVar19;
		lVar11 = lVar17;
		while ((int)lVar11 <= param_4) {
			lVar9 = lVar7 + lVar13 * 0x28;
			uVar3 = (lVar15 + 1) - lVar13;
			if (param_1 <= param_3) {
				uVar1 = (uint)uVar3 >> 3;
				uVar2 = (ulonglong)uVar1;
				if (uVar1 != 0) {
					do {
						pbVar6 = (byte *)lVar9;
						lVar9 = lVar9 + 0x140;
						lVar10 = lVar10 + (ulonglong)*pbVar6 + (ulonglong)pbVar6[0x28] + (ulonglong)pbVar6[0x50]
						    + (ulonglong)pbVar6[0x78] + (ulonglong)pbVar6[0xa0] + (ulonglong)pbVar6[200] + (ulonglong)pbVar6[0xf0] + (ulonglong)pbVar6[0x118];
						uVar2 = uVar2 - 1;
					} while (uVar2 != 0);
					uVar3 = uVar3 & 7;
					if (uVar3 == 0)
						goto LAB_10031604;
				}
				do {
					pbVar6 = (byte *)lVar9;
					lVar9 = lVar9 + 0x28;
					lVar10 = lVar10 + (ulonglong)*pbVar6;
					uVar3 = uVar3 - 1;
				} while (uVar3 != 0);
			}
		LAB_10031604:
			lVar7 = lVar7 + 1;
			lVar11 = lVar11 + 1;
		}
		if ((int)lVar10 == 0) {
			lVar12 = lVar13 + 1;
			lVar9 = lVar17 + uVar18;
			lVar10 = lVar12 * 0x28;
			uVar5 = 1;
			lVar11 = lVar17;
			while (true) {
				do {
					lVar11 = lVar11 + 1;
					lVar9 = lVar9 + 1;
					if (param_4 <= (int)lVar11) {
						lVar14 = lVar13 * 0x28;
						lVar16 = uVar18 + lVar14 + lVar17;
						lVar15 = uVar18 + lVar15 * 0x28 + lVar17;
						while ((int)lVar17 <= param_4) {
							lVar4 = random(0, 2, (char)uVar5, (char)lVar10, (char)lVar7, (char)lVar9, (char)lVar11, (char)lVar12, in_stack_ffffffa8, in_stack_ffffffaf,
							    in_stack_ffffffbb);
							if ((int)lVar4 != 0) {
								*(undefined *)lVar16 = 1;
							}
							lVar4 = random(0, 2, (char)uVar5, (char)lVar10, (char)lVar7, (char)lVar9, (char)lVar11, (char)lVar12, in_stack_ffffffa8, in_stack_ffffffaf,
							    in_stack_ffffffbb);
							if ((int)lVar4 != 0) {
								*(undefined *)lVar15 = 1;
							}
							lVar16 = lVar16 + 1;
							lVar15 = lVar15 + 1;
							lVar17 = lVar17 + 1;
						}
						lVar19 = lVar19 + lVar14;
						lVar17 = uVar18 + (longlong)param_4 + lVar14;
						while ((int)lVar13 <= param_3) {
							lVar15 = random(0, 2, (char)uVar5, (char)lVar10, (char)lVar7, (char)lVar9,
							    (char)lVar11, (char)lVar12, in_stack_ffffffa8, in_stack_ffffffaf,
							    in_stack_ffffffbb);
							if ((int)lVar15 != 0) {
								*(undefined *)lVar19 = 1;
							}
							lVar15 = random(0, 2, (char)uVar5, (char)lVar10, (char)lVar7, (char)lVar9,
							    (char)lVar11, (char)lVar12, in_stack_ffffffa8, in_stack_ffffffaf,
							    in_stack_ffffffbb);
							if ((int)lVar15 != 0) {
								*(undefined *)lVar17 = 1;
							}
							lVar19 = lVar19 + 0x28;
							lVar17 = lVar17 + 0x28;
							lVar13 = lVar13 + 1;
						}
						return 1;
					}
					lVar7 = lVar9 + lVar10;
					uVar3 = lVar15 - lVar12;
				} while (param_3 <= (int)lVar12);
				uVar1 = (uint)uVar3 >> 3;
				uVar2 = (ulonglong)uVar1;
				if (uVar1 != 0)
					break;
				do {
					*(undefined *)lVar7 = 1;
					lVar7 = lVar7 + 0x28;
					uVar3 = uVar3 - 1;
				joined_r0x10031680:
				} while (uVar3 != 0);
			}
			do {
				puVar8 = (undefined *)lVar7;
				*puVar8 = 1;
				puVar8[0x28] = 1;
				puVar8[0x50] = 1;
				puVar8[0x78] = 1;
				puVar8[0xa0] = 1;
				puVar8[200] = 1;
				puVar8[0xf0] = 1;
				puVar8[0x118] = 1;
				lVar7 = lVar7 + 0x140;
				uVar2 = uVar2 - 1;
			} while (uVar2 != 0);
			uVar3 = uVar3 & 7;
			goto joined_r0x10031680;
		}
	}
	return 0;
}

void FUN_10031790(longlong param_1, longlong param_2, int param_3, int param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	longlong lVar1;
	longlong lVar2;
	longlong lVar3;
	undefined8 uVar4;
	undefined uVar5;
	undefined uVar6;
	longlong param_2_00;
	longlong param_1_00;
	longlong param_2_01;
	longlong param_1_01;
	int param_3_00;
	int param_3_01;
	int iVar7;
	undefined4 param_9_00;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	uVar6 = (undefined)param_4;
	uVar5 = (undefined)param_3;
	lVar1 = random(0, 2, uVar5, uVar6, param_5, param_6, param_7, param_8, param_9_00, in_stack_ffffffaf,
	    in_stack_ffffffbb);
	lVar1 = lVar1 + 3;
	lVar2 = random(0, 2, uVar5, uVar6, param_5, param_6, param_7, param_8, param_9_00, in_stack_ffffffaf,
	    in_stack_ffffffbb);
	lVar2 = lVar2 + 3;
	param_3_01 = (int)lVar1;
	if (param_4 == 0) {
		param_2_00 = param_2 + -1;
		param_2_01 = param_2_00 - lVar2;
		if (param_3_01 < param_3) {
			lVar3 = random(0, lVar1, uVar5, uVar6, param_5, param_6, param_7, param_8, param_9_00,
			    in_stack_ffffffaf, in_stack_ffffffbb);
			param_1_01 = param_1 + lVar3;
		}
		if (param_3_01 == param_3) {
			param_1_01 = param_1;
		}
		if (param_3 < param_3_01) {
			lVar3 = random(0, lVar1, uVar5, uVar6, param_5, param_6, param_7, param_8, param_9_00,
			    in_stack_ffffffaf, in_stack_ffffffbb);
			param_1_01 = param_1 - lVar3;
		}
		param_1_00 = param_1_01 + lVar1;
	}
	param_3_00 = (int)lVar2;
	if (param_4 == 3) {
		param_1_00 = param_1 + -1;
		param_1_01 = param_1_00 - lVar1;
		if (param_3_00 < param_3) {
			lVar3 = random(0, lVar2, uVar5, uVar6, param_5, param_6, param_7, param_8, param_9_00,
			    in_stack_ffffffaf, in_stack_ffffffbb);
			param_2_01 = param_2 + lVar3;
		}
		if (param_3_00 == param_3) {
			param_2_01 = param_2;
		}
		if (param_3 < param_3_00) {
			lVar3 = random(0, lVar2, uVar5, uVar6, param_5, param_6, param_7, param_8, param_9_00,
			    in_stack_ffffffaf, in_stack_ffffffbb);
			param_2_01 = param_2 - lVar3;
		}
		param_2_00 = param_2_01 + lVar2;
	}
	if (param_4 == 2) {
		param_2_01 = param_2 + 1;
		param_2_00 = param_2 + lVar2 + 1;
		if (param_3_01 < param_3) {
			lVar3 = random(0, lVar1, uVar5, uVar6, param_5, param_6, param_7, param_8, param_9_00,
			    in_stack_ffffffaf, in_stack_ffffffbb);
			param_1_01 = param_1 + lVar3;
		}
		if (param_3_01 == param_3) {
			param_1_01 = param_1;
		}
		if (param_3 < param_3_01) {
			lVar3 = random(0, lVar1, uVar5, uVar6, param_5, param_6, param_7, param_8, param_9_00,
			    in_stack_ffffffaf, in_stack_ffffffbb);
			param_1_01 = param_1 - lVar3;
		}
		param_1_00 = param_1_01 + lVar1;
	}
	if (param_4 == 1) {
		param_1_01 = param_1 + 1;
		param_1_00 = param_1 + lVar1 + 1;
		if (param_3_00 < param_3) {
			lVar1 = random(0, lVar2, uVar5, uVar6, param_5, param_6, param_7, param_8, param_9_00,
			    in_stack_ffffffaf, in_stack_ffffffbb);
			param_2_01 = param_2 + lVar1;
		}
		if (param_3_00 == param_3) {
			param_2_01 = param_2;
		}
		if (param_3 < param_3_00) {
			lVar1 = random(0, lVar2, uVar5, uVar6, param_5, param_6, param_7, param_8, param_9_00,
			    in_stack_ffffffaf, in_stack_ffffffbb);
			param_2_01 = param_2 - lVar1;
		}
		param_2_00 = param_2_01 + lVar2;
	}
	uVar6 = (undefined)param_2_00;
	uVar5 = (undefined)param_1_00;
	uVar4 = FUN_10031528((int)param_1_01, (int)param_2_01, (int)param_1_00, (int)param_2_00, param_5,
	    param_6, param_7, param_8, param_9_00);
	if ((int)uVar4 == 1) {
		lVar1 = random(0, 4, uVar5, uVar6, param_5, param_6, param_7, param_8, param_9_00,
		    in_stack_ffffffaf, in_stack_ffffffbb);
		if ((lVar1 != 0) && (param_4 != 2)) {
			FUN_10031790(param_1_01, param_2_01, param_3_00, 0, param_5, param_6, param_7, param_8, param_9_00);
		}
		iVar7 = (int)lVar1;
		if ((iVar7 != 0) && (param_4 != 3)) {
			FUN_10031790(param_1_00, param_2_01, param_3_01, 1, param_5, param_6, param_7, param_8, param_9_00);
		}
		if ((iVar7 != 0) && (param_4 != 0)) {
			FUN_10031790(param_1_01, param_2_00, param_3_00, 2, param_5, param_6, param_7, param_8, param_9_00);
		}
		if ((iVar7 != 0) && (param_4 != 1)) {
			FUN_10031790(param_1_01, param_2_01, param_3_01, 3, param_5, param_6, param_7, param_8, param_9_00);
		}
	}
	return;
}

void FUN_100319e4(longlong param_1, int param_2, longlong param_3, int param_4)

{
	uint uVar1;
	ulonglong uVar2;
	longlong lVar3;
	ulonglong uVar4;
	longlong lVar5;
	undefined *puVar6;
	longlong lVar7;

	lVar3 = (longlong)param_2;
	lVar7 = ZEXT48(PTR_DAT_100f1804) + lVar3;
	do {
		if (param_4 < (int)lVar3) {
			return;
		}
		lVar5 = lVar7 + param_1 * 0x28;
		uVar4 = (param_3 + 1) - param_1;
		if ((int)param_1 <= (int)param_3) {
			uVar1 = (uint)uVar4 >> 3;
			uVar2 = (ulonglong)uVar1;
			if (uVar1 != 0) {
				do {
					puVar6 = (undefined *)lVar5;
					*puVar6 = 1;
					puVar6[0x28] = 1;
					puVar6[0x50] = 1;
					puVar6[0x78] = 1;
					puVar6[0xa0] = 1;
					puVar6[200] = 1;
					puVar6[0xf0] = 1;
					puVar6[0x118] = 1;
					lVar5 = lVar5 + 0x140;
					uVar2 = uVar2 - 1;
				} while (uVar2 != 0);
				uVar4 = uVar4 & 7;
				if (uVar4 == 0)
					goto LAB_10031a58;
			}
			do {
				*(undefined *)lVar5 = 1;
				lVar5 = lVar5 + 0x28;
				uVar4 = uVar4 - 1;
			} while (uVar4 != 0);
		}
	LAB_10031a58:
		lVar7 = lVar7 + 1;
		lVar3 = lVar3 + 1;
	} while (true);
}

void FUN_10031a6c(undefined param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	longlong lVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	int iVar8;
	int iVar9;
	int iVar10;
	byte *pbVar11;
	byte *pbVar12;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined in_stack_ffffffcb;

	lVar7 = (longlong)param_8;
	lVar6 = (longlong)param_7;
	lVar5 = (longlong)param_6;
	lVar4 = (longlong)param_5;
	lVar3 = (longlong)param_4;
	lVar2 = (longlong)param_3;
	iVar9 = 0;
	pbVar11 = PTR_DAT_100f1804;
	do {
		iVar10 = 0;
		pbVar12 = pbVar11;
		do {
			iVar8 = (uint)*pbVar12 * 8 + (uint)pbVar12[0x28] * 4 + (uint)pbVar12[1] * 2 + (uint)pbVar12[0x29];
			if (iVar8 == 6) {
				lVar1 = random(0, 2, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6,
				    (char)lVar7, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb);
				if ((int)lVar1 == 0) {
					*pbVar12 = 1;
				} else {
					pbVar12[0x29] = 1;
				}
			}
			if (iVar8 == 9) {
				lVar1 = random(0, 2, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6,
				    (char)lVar7, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb);
				if ((int)lVar1 == 0) {
					pbVar12[0x28] = 1;
				} else {
					pbVar12[1] = 1;
				}
			}
			iVar10 = iVar10 + 1;
			pbVar12 = pbVar12 + 0x28;
		} while (iVar10 < 0x27);
		iVar9 = iVar9 + 1;
		pbVar11 = pbVar11 + 1;
	} while (iVar9 < 0x27);
	return;
}

void FUN_10031b48(void)

{
	undefined *puVar1;
	byte *pbVar2;
	int iVar3;
	longlong lVar4;

	iVar3 = 1;
	puVar1 = PTR_DAT_100f1804;
	do {
		pbVar2 = puVar1 + 0x29;
		lVar4 = 0x13;
		do {
			if ((((*pbVar2 == 0) && ((uint)pbVar2[-0x29] + (uint)pbVar2[-1] + (uint)pbVar2[0x27] == 3)) && ((uint)pbVar2[-0x28] + (uint)pbVar2[0x28] == 2)) && ((uint)pbVar2[-0x27] + (uint)pbVar2[1] + (uint)pbVar2[0x29] == 3)) {
				*pbVar2 = 1;
			}
			if (((pbVar2[0x28] == 0) && ((uint)pbVar2[-1] + (uint)pbVar2[0x27] + (uint)pbVar2[0x4f] == 3))
			    && (((uint)*pbVar2 + (uint)pbVar2[0x50] == 2 && ((uint)pbVar2[1] + (uint)pbVar2[0x29] + (uint)pbVar2[0x51] == 3)))) {
				pbVar2[0x28] = 1;
			}
			pbVar2 = pbVar2 + 0x50;
			lVar4 = lVar4 + -1;
		} while (lVar4 != 0);
		iVar3 = iVar3 + 1;
		puVar1 = puVar1 + 1;
	} while (iVar3 < 0x27);
	return;
}

void FUN_10031c44(undefined param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	int iVar2;
	longlong lVar1;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	int iVar9;
	int iVar10;
	char *pcVar11;
	char *pcVar12;
	char *pcVar13;
	int unaff_r29;
	int unaff_r30;
	char *pcVar14;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	pcVar14 = PTR_DAT_100f1804;
	lVar8 = (longlong)param_8;
	lVar7 = (longlong)param_7;
	lVar6 = (longlong)param_6;
	lVar5 = (longlong)param_5;
	lVar4 = (longlong)param_4;
	lVar3 = (longlong)param_3;
	iVar10 = 0;
	pcVar11 = PTR_DAT_100f1804;
	do {
		iVar2 = 0;
		iVar9 = 0;
		pcVar12 = pcVar11;
		do {
			if ((*pcVar12 == '\0') && (pcVar12[1] == '\x01')) {
				if (iVar2 == 0) {
					unaff_r30 = iVar9;
				}
				iVar2 = iVar2 + 1;
			} else {
				if ((3 < iVar2) && (lVar1 = random(0, 2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb), (int)lVar1 != 0)) {
					pcVar13 = pcVar11 + unaff_r30 * 0x28;
					iVar2 = unaff_r30;
					while (iVar2 < iVar9) {
						lVar1 = random(0, 2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7,
						    (char)lVar8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
						*pcVar13 = (char)lVar1;
						pcVar13 = pcVar13 + 0x28;
						iVar2 = iVar2 + 1;
					}
				}
				iVar2 = 0;
			}
			iVar9 = iVar9 + 1;
			pcVar12 = pcVar12 + 0x28;
		} while (iVar9 < 0x25);
		iVar10 = iVar10 + 1;
		pcVar11 = pcVar11 + 1;
	} while (iVar10 < 0x27);
	iVar10 = 0;
	pcVar11 = pcVar14;
	do {
		iVar2 = 0;
		iVar9 = 0;
		pcVar12 = pcVar11;
		do {
			if ((*pcVar12 == '\x01') && (pcVar12[1] == '\0')) {
				if (iVar2 == 0) {
					unaff_r30 = iVar9;
				}
				iVar2 = iVar2 + 1;
			} else {
				if ((3 < iVar2) && (lVar1 = random(0, 2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb), (int)lVar1 != 0)) {
					pcVar13 = pcVar11 + unaff_r30 * 0x28;
					iVar2 = unaff_r30;
					while (iVar2 < iVar9) {
						lVar1 = random(0, 2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7,
						    (char)lVar8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
						pcVar13[1] = (char)lVar1;
						pcVar13 = pcVar13 + 0x28;
						iVar2 = iVar2 + 1;
					}
				}
				iVar2 = 0;
			}
			iVar9 = iVar9 + 1;
			pcVar12 = pcVar12 + 0x28;
		} while (iVar9 < 0x25);
		iVar10 = iVar10 + 1;
		pcVar11 = pcVar11 + 1;
	} while (iVar10 < 0x27);
	iVar10 = 0;
	pcVar11 = pcVar14;
	do {
		iVar2 = 0;
		iVar9 = 0;
		pcVar12 = pcVar11;
		do {
			if ((*pcVar12 == '\0') && (pcVar12[0x28] == '\x01')) {
				if (iVar2 == 0) {
					unaff_r29 = iVar9;
				}
				iVar2 = iVar2 + 1;
			} else {
				if ((3 < iVar2) && (lVar1 = random(0, 2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb), (int)lVar1 != 0)) {
					pcVar13 = pcVar11 + unaff_r29;
					iVar2 = unaff_r29;
					while (iVar2 < iVar9) {
						lVar1 = random(0, 2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7,
						    (char)lVar8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
						*pcVar13 = (char)lVar1;
						pcVar13 = pcVar13 + 1;
						iVar2 = iVar2 + 1;
					}
				}
				iVar2 = 0;
			}
			iVar9 = iVar9 + 1;
			pcVar12 = pcVar12 + 1;
		} while (iVar9 < 0x25);
		iVar10 = iVar10 + 1;
		pcVar11 = pcVar11 + 0x28;
	} while (iVar10 < 0x27);
	iVar10 = 0;
	do {
		iVar2 = 0;
		iVar9 = 0;
		pcVar11 = pcVar14;
		do {
			if ((*pcVar11 == '\x01') && (pcVar11[0x28] == '\0')) {
				if (iVar2 == 0) {
					unaff_r29 = iVar9;
				}
				iVar2 = iVar2 + 1;
			} else {
				if ((3 < iVar2) && (lVar1 = random(0, 2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb), (int)lVar1 != 0)) {
					pcVar12 = pcVar14 + unaff_r29;
					iVar2 = unaff_r29;
					while (iVar2 < iVar9) {
						lVar1 = random(0, 2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7,
						    (char)lVar8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
						pcVar12[0x28] = (char)lVar1;
						pcVar12 = pcVar12 + 1;
						iVar2 = iVar2 + 1;
					}
				}
				iVar2 = 0;
			}
			iVar9 = iVar9 + 1;
			pcVar11 = pcVar11 + 1;
		} while (iVar9 < 0x25);
		iVar10 = iVar10 + 1;
		pcVar14 = pcVar14 + 0x28;
	} while (iVar10 < 0x27);
	return;
}

void FUN_10031f20(void)

{
	undefined *puVar1;

	puVar1 = PTR_DAT_100f1804;
	PTR_DAT_100f1804[0x618] = 0;
	puVar1[0x619] = 0;
	puVar1[0x61a] = 0;
	puVar1[0x61b] = 0;
	puVar1[0x61c] = 0;
	puVar1[0x61d] = 0;
	puVar1[0x61e] = 0;
	puVar1[0x61f] = 0;
	puVar1[0x620] = 0;
	puVar1[0x621] = 0;
	puVar1[0x622] = 0;
	puVar1[0x623] = 0;
	puVar1[0x624] = 0;
	puVar1[0x625] = 0;
	puVar1[0x626] = 0;
	puVar1[0x627] = 0;
	puVar1[0x628] = 0;
	puVar1[0x629] = 0;
	puVar1[0x62a] = 0;
	puVar1[0x62b] = 0;
	puVar1[0x62c] = 0;
	puVar1[0x62d] = 0;
	puVar1[0x62e] = 0;
	puVar1[0x62f] = 0;
	puVar1[0x630] = 0;
	puVar1[0x631] = 0;
	puVar1[0x632] = 0;
	puVar1[0x633] = 0;
	puVar1[0x634] = 0;
	puVar1[0x635] = 0;
	puVar1[0x636] = 0;
	puVar1[0x637] = 0;
	puVar1[0x638] = 0;
	puVar1[0x639] = 0;
	puVar1[0x63a] = 0;
	puVar1[0x63b] = 0;
	puVar1[0x63c] = 0;
	puVar1[0x63d] = 0;
	puVar1[0x63e] = 0;
	puVar1[0x63f] = 0;
	puVar1[0x27] = 0;
	puVar1[0x4f] = 0;
	puVar1[0x77] = 0;
	puVar1[0x9f] = 0;
	puVar1[199] = 0;
	puVar1[0xef] = 0;
	puVar1[0x117] = 0;
	puVar1[0x13f] = 0;
	puVar1[0x167] = 0;
	puVar1[399] = 0;
	puVar1[0x1b7] = 0;
	puVar1[0x1df] = 0;
	puVar1[0x207] = 0;
	puVar1[0x22f] = 0;
	puVar1[599] = 0;
	puVar1[0x27f] = 0;
	puVar1[0x2a7] = 0;
	puVar1[0x2cf] = 0;
	puVar1[0x2f7] = 0;
	puVar1[799] = 0;
	puVar1[0x347] = 0;
	puVar1[0x36f] = 0;
	puVar1[0x397] = 0;
	puVar1[0x3bf] = 0;
	puVar1[999] = 0;
	puVar1[0x40f] = 0;
	puVar1[0x437] = 0;
	puVar1[0x45f] = 0;
	puVar1[0x487] = 0;
	puVar1[0x4af] = 0;
	puVar1[0x4d7] = 0;
	puVar1[0x4ff] = 0;
	puVar1[0x527] = 0;
	puVar1[0x54f] = 0;
	puVar1[0x577] = 0;
	puVar1[0x59f] = 0;
	puVar1[0x5c7] = 0;
	puVar1[0x5ef] = 0;
	puVar1[0x617] = 0;
	puVar1[0x63f] = 0;
	return;
}

longlong FUN_1003206c(void)

{
	byte bVar1;
	byte *pbVar2;
	byte *pbVar3;
	byte *pbVar4;
	byte *pbVar5;
	byte *pbVar6;
	byte *pbVar7;
	byte *pbVar8;
	byte *pbVar9;
	byte *pbVar10;
	byte *pbVar11;
	byte *pbVar12;
	byte *pbVar13;
	byte *pbVar14;
	byte *pbVar15;
	byte *pbVar16;
	byte *pbVar17;
	byte *pbVar18;
	byte *pbVar19;
	byte *pbVar20;
	byte *pbVar21;
	byte *pbVar22;
	byte *pbVar23;
	byte *pbVar24;
	byte *pbVar25;
	byte *pbVar26;
	byte *pbVar27;
	byte *pbVar28;
	byte *pbVar29;
	byte *pbVar30;
	byte *pbVar31;
	byte *pbVar32;
	byte *pbVar33;
	byte *pbVar34;
	byte *pbVar35;
	byte *pbVar36;
	byte *pbVar37;
	byte *pbVar38;
	byte *pbVar39;
	byte *pbVar40;
	byte *pbVar41;
	byte *pbVar42;
	byte *pbVar43;
	byte *pbVar44;
	byte *pbVar45;
	byte *pbVar46;
	byte *pbVar47;
	byte *pbVar48;
	byte *pbVar49;
	byte *pbVar50;
	byte *pbVar51;
	byte *pbVar52;
	byte *pbVar53;
	byte *pbVar54;
	byte *pbVar55;
	byte *pbVar56;
	byte *pbVar57;
	byte *pbVar58;
	byte *pbVar59;
	byte *pbVar60;
	byte *pbVar61;
	byte *pbVar62;
	byte *pbVar63;
	byte *pbVar64;
	byte *pbVar65;
	byte *pbVar66;
	byte *pbVar67;
	byte *pbVar68;
	byte *pbVar69;
	byte *pbVar70;
	byte *pbVar71;
	byte *pbVar72;
	byte *pbVar73;
	byte *pbVar74;
	byte *pbVar75;
	byte *pbVar76;
	byte *pbVar77;
	byte *pbVar78;
	byte *pbVar79;
	longlong lVar80;
	byte *pbVar81;
	byte *pbVar82;
	longlong lVar83;

	lVar83 = 0x14;
	lVar80 = 0;
	pbVar81 = PTR_DAT_100f1804;
	do {
		bVar1 = *pbVar81;
		pbVar2 = pbVar81 + 0x28;
		pbVar3 = pbVar81 + 0x50;
		pbVar4 = pbVar81 + 0x78;
		pbVar5 = pbVar81 + 0xa0;
		pbVar6 = pbVar81 + 200;
		pbVar7 = pbVar81 + 0xf0;
		pbVar8 = pbVar81 + 0x118;
		pbVar9 = pbVar81 + 0x140;
		pbVar10 = pbVar81 + 0x168;
		pbVar11 = pbVar81 + 400;
		pbVar12 = pbVar81 + 0x1b8;
		pbVar13 = pbVar81 + 0x1e0;
		pbVar14 = pbVar81 + 0x208;
		pbVar15 = pbVar81 + 0x230;
		pbVar16 = pbVar81 + 600;
		pbVar17 = pbVar81 + 0x280;
		pbVar18 = pbVar81 + 0x2a8;
		pbVar19 = pbVar81 + 0x2d0;
		pbVar20 = pbVar81 + 0x2f8;
		pbVar21 = pbVar81 + 800;
		pbVar22 = pbVar81 + 0x348;
		pbVar23 = pbVar81 + 0x370;
		pbVar24 = pbVar81 + 0x398;
		pbVar25 = pbVar81 + 0x3c0;
		pbVar26 = pbVar81 + 1000;
		pbVar27 = pbVar81 + 0x410;
		pbVar28 = pbVar81 + 0x438;
		pbVar29 = pbVar81 + 0x460;
		pbVar30 = pbVar81 + 0x488;
		pbVar31 = pbVar81 + 0x4b0;
		pbVar32 = pbVar81 + 0x4d8;
		pbVar33 = pbVar81 + 0x500;
		pbVar34 = pbVar81 + 0x528;
		pbVar35 = pbVar81 + 0x550;
		pbVar36 = pbVar81 + 0x578;
		pbVar37 = pbVar81 + 0x5a0;
		pbVar38 = pbVar81 + 0x5c8;
		pbVar39 = pbVar81 + 0x5f0;
		pbVar40 = pbVar81 + 0x618;
		pbVar82 = pbVar81 + 1;
		pbVar41 = pbVar81 + 0x29;
		pbVar42 = pbVar81 + 0x51;
		pbVar43 = pbVar81 + 0x79;
		pbVar44 = pbVar81 + 0xa1;
		pbVar45 = pbVar81 + 0xc9;
		pbVar46 = pbVar81 + 0xf1;
		pbVar47 = pbVar81 + 0x119;
		pbVar48 = pbVar81 + 0x141;
		pbVar49 = pbVar81 + 0x169;
		pbVar50 = pbVar81 + 0x191;
		pbVar51 = pbVar81 + 0x1b9;
		pbVar52 = pbVar81 + 0x1e1;
		pbVar53 = pbVar81 + 0x209;
		pbVar54 = pbVar81 + 0x231;
		pbVar55 = pbVar81 + 0x259;
		pbVar56 = pbVar81 + 0x281;
		pbVar57 = pbVar81 + 0x2a9;
		pbVar58 = pbVar81 + 0x2d1;
		pbVar59 = pbVar81 + 0x2f9;
		pbVar60 = pbVar81 + 0x321;
		pbVar61 = pbVar81 + 0x349;
		pbVar62 = pbVar81 + 0x371;
		pbVar63 = pbVar81 + 0x399;
		pbVar64 = pbVar81 + 0x3c1;
		pbVar65 = pbVar81 + 0x3e9;
		pbVar66 = pbVar81 + 0x411;
		pbVar67 = pbVar81 + 0x439;
		pbVar68 = pbVar81 + 0x461;
		pbVar69 = pbVar81 + 0x489;
		pbVar70 = pbVar81 + 0x4b1;
		pbVar71 = pbVar81 + 0x4d9;
		pbVar72 = pbVar81 + 0x501;
		pbVar73 = pbVar81 + 0x529;
		pbVar74 = pbVar81 + 0x551;
		pbVar75 = pbVar81 + 0x579;
		pbVar76 = pbVar81 + 0x5a1;
		pbVar77 = pbVar81 + 0x5c9;
		pbVar78 = pbVar81 + 0x5f1;
		pbVar79 = pbVar81 + 0x619;
		pbVar81 = pbVar81 + 2;
		lVar80 = lVar80 + (ulonglong)bVar1 + (ulonglong)*pbVar2 + (ulonglong)*pbVar3 + (ulonglong)*pbVar4 + (ulonglong)*pbVar5 + (ulonglong)*pbVar6 + (ulonglong)*pbVar7 + (ulonglong)*pbVar8 + (ulonglong)*pbVar9 + (ulonglong)*pbVar10 + (ulonglong)*pbVar11 + (ulonglong)*pbVar12 + (ulonglong)*pbVar13 + (ulonglong)*pbVar14 + (ulonglong)*pbVar15 + (ulonglong)*pbVar16 + (ulonglong)*pbVar17 + (ulonglong)*pbVar18 + (ulonglong)*pbVar19 + (ulonglong)*pbVar20 + (ulonglong)*pbVar21 + (ulonglong)*pbVar22 + (ulonglong)*pbVar23 + (ulonglong)*pbVar24 + (ulonglong)*pbVar25 + (ulonglong)*pbVar26 + (ulonglong)*pbVar27 + (ulonglong)*pbVar28 + (ulonglong)*pbVar29 + (ulonglong)*pbVar30 + (ulonglong)*pbVar31 + (ulonglong)*pbVar32 + (ulonglong)*pbVar33 + (ulonglong)*pbVar34 + (ulonglong)*pbVar35 + (ulonglong)*pbVar36 + (ulonglong)*pbVar37 + (ulonglong)*pbVar38 + (ulonglong)*pbVar39 + (ulonglong)*pbVar40 + (ulonglong)*pbVar82 + (ulonglong)*pbVar41 + (ulonglong)*pbVar42 + (ulonglong)*pbVar43 + (ulonglong)*pbVar44 + (ulonglong)*pbVar45 + (ulonglong)*pbVar46 + (ulonglong)*pbVar47 + (ulonglong)*pbVar48 + (ulonglong)*pbVar49 + (ulonglong)*pbVar50 + (ulonglong)*pbVar51 + (ulonglong)*pbVar52 + (ulonglong)*pbVar53 + (ulonglong)*pbVar54 + (ulonglong)*pbVar55 + (ulonglong)*pbVar56 + (ulonglong)*pbVar57 + (ulonglong)*pbVar58 + (ulonglong)*pbVar59 + (ulonglong)*pbVar60 + (ulonglong)*pbVar61 + (ulonglong)*pbVar62 + (ulonglong)*pbVar63 + (ulonglong)*pbVar64 + (ulonglong)*pbVar65 + (ulonglong)*pbVar66 + (ulonglong)*pbVar67 + (ulonglong)*pbVar68 + (ulonglong)*pbVar69 + (ulonglong)*pbVar70 + (ulonglong)*pbVar71 + (ulonglong)*pbVar72 + (ulonglong)*pbVar73 + (ulonglong)*pbVar74 + (ulonglong)*pbVar75 + (ulonglong)*pbVar76 + (ulonglong)*pbVar77 + (ulonglong)*pbVar78 + (ulonglong)*pbVar79;
		lVar83 = lVar83 + -1;
	} while (lVar83 != 0);
	return lVar80;
}

void FUN_10032314(undefined param_1, undefined param_2, undefined param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	longlong lVar2;
	int iVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	int iVar9;
	int iVar10;
	byte *pbVar11;
	byte *pbVar12;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	puVar1 = PTR_DAT_100f1804;
	lVar8 = (longlong)param_8;
	lVar7 = (longlong)param_7;
	lVar6 = (longlong)param_6;
	lVar5 = (longlong)param_5;
	lVar4 = (longlong)param_4;
	iVar9 = 0;
	pbVar11 = PTR_DAT_100f1804;
	do {
		iVar10 = 0;
		pbVar12 = pbVar11;
		do {
			lVar2 = (ulonglong)*pbVar12 * 8 + (ulonglong)pbVar12[0x28] * 4 + (ulonglong)pbVar12[1] * 2 + (ulonglong)pbVar12[0x29];
			iVar3 = (int)lVar2;
			if (iVar3 == 6) {
				lVar2 = random(0, 2, (char)lVar2, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7,
				    (char)lVar8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
				if ((int)lVar2 == 0) {
					iVar3 = 0xc;
				} else {
					iVar3 = 5;
				}
			}
			if (iVar3 == 9) {
				lVar2 = random(0, 2, 9, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8,
				    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
				if ((int)lVar2 == 0) {
					iVar3 = 0xd;
				} else {
					iVar3 = 0xe;
				}
			}
			iVar10 = iVar10 + 1;
			*pbVar12 = (&DAT_100f89bc)[iVar3];
			pbVar12 = pbVar12 + 0x28;
		} while (iVar10 < 0x27);
		iVar9 = iVar9 + 1;
		pbVar11[0x618] = 8;
		pbVar11 = pbVar11 + 1;
	} while (iVar9 < 0x27);
	puVar1[0x27] = 8;
	puVar1[0x4f] = 8;
	puVar1[0x77] = 8;
	puVar1[0x9f] = 8;
	puVar1[199] = 8;
	puVar1[0xef] = 8;
	puVar1[0x117] = 8;
	puVar1[0x13f] = 8;
	puVar1[0x167] = 8;
	puVar1[399] = 8;
	puVar1[0x1b7] = 8;
	puVar1[0x1df] = 8;
	puVar1[0x207] = 8;
	puVar1[0x22f] = 8;
	puVar1[599] = 8;
	puVar1[0x27f] = 8;
	puVar1[0x2a7] = 8;
	puVar1[0x2cf] = 8;
	puVar1[0x2f7] = 8;
	puVar1[799] = 8;
	puVar1[0x347] = 8;
	puVar1[0x36f] = 8;
	puVar1[0x397] = 8;
	puVar1[0x3bf] = 8;
	puVar1[999] = 8;
	puVar1[0x40f] = 8;
	puVar1[0x437] = 8;
	puVar1[0x45f] = 8;
	puVar1[0x487] = 8;
	puVar1[0x4af] = 8;
	puVar1[0x4d7] = 8;
	puVar1[0x4ff] = 8;
	puVar1[0x527] = 8;
	puVar1[0x54f] = 8;
	puVar1[0x577] = 8;
	puVar1[0x59f] = 8;
	puVar1[0x5c7] = 8;
	puVar1[0x5ef] = 8;
	puVar1[0x617] = 8;
	puVar1[0x63f] = 8;
	return;
}

ulonglong FUN_10032498(char param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	byte bVar1;
	bool bVar2;
	undefined *puVar3;
	ulonglong uVar4;
	longlong lVar5;
	ulonglong uVar6;
	int iVar8;
	uint *puVar9;
	ulonglong uVar7;
	int iVar10;
	int *piVar11;
	uint *puVar13;
	longlong lVar12;
	longlong lVar14;
	longlong lVar15;
	ulonglong uVar16;
	ulonglong uVar17;
	longlong lVar18;
	undefined8 unaff_r15;
	undefined8 unaff_r16;
	int iVar19;
	undefined8 unaff_r17;
	undefined8 unaff_r18;
	undefined8 unaff_r19;
	ulonglong uVar20;
	uint uVar21;
	undefined8 unaff_r20;
	longlong lVar22;
	uint uVar23;
	undefined8 unaff_r21;
	longlong lVar24;
	undefined8 unaff_r22;
	ulonglong uVar25;
	undefined8 unaff_r23;
	undefined8 unaff_r24;
	undefined8 unaff_r25;
	int iVar26;
	longlong unaff_r26;
	undefined8 unaff_r27;
	int iVar27;
	longlong unaff_r28;
	int iVar28;
	undefined8 unaff_r29;
	ulonglong unaff_r30;
	ulonglong unaff_r31;
	int iVar29;
	undefined4 in_stack_fffffac8;
	undefined in_stack_fffffacf;
	undefined in_stack_fffffadb;
	uint local_504[100];
	uint local_374[99];
	int aiStack488[105];
	undefined4 local_44;
	undefined4 uStack64;
	undefined4 uStack60;
	undefined4 uStack56;
	undefined4 uStack52;
	undefined4 uStack48;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar3 = PTR_DAT_100f1804;
	lVar18 = (longlong)param_8;
	uVar17 = SEXT18(param_7);
	uVar16 = SEXT18(param_6);
	lVar15 = (longlong)param_5;
	lVar14 = (longlong)param_4;
	lVar12 = (longlong)param_3;
	uVar7 = SEXT18(param_1);
	uVar6 = ZEXT48(register0x0000000c);
	local_44 = (undefined4)((ulonglong)unaff_r15 >> 0x20);
	uStack64 = (undefined4)((ulonglong)unaff_r16 >> 0x20);
	uStack60 = (undefined4)((ulonglong)unaff_r17 >> 0x20);
	uStack56 = (undefined4)((ulonglong)unaff_r18 >> 0x20);
	uStack52 = (undefined4)((ulonglong)unaff_r19 >> 0x20);
	uStack48 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)(unaff_r30 >> 0x20);
	uStack4 = (undefined4)(unaff_r31 >> 0x20);
	uVar25 = ZEXT48(PTR_DAT_100f1804);
	iVar27 = 0;
	iVar26 = 0;
	do {
		if ((199 < iVar26) || (3 < iVar27)) {
			return uVar7;
		}
		bVar2 = false;
		while ((!bVar2 && (iVar26 < 200))) {
			lVar5 = 0;
			iVar26 = iVar26 + 1;
			uVar4 = 0;
			iVar10 = 0;
			while (true) {
				bVar1 = puVar3[(uint)lVar5 * 0x28 + (uint)uVar4];
				if (((0x18 < bVar1) && (bVar1 < 0x1d)) || (99 < iVar10))
					break;
				lVar5 = random(0, 0x28, (char)lVar12, (char)lVar14, (char)lVar15, (char)uVar16, (char)uVar17, (char)lVar18, in_stack_fffffac8, in_stack_fffffacf, in_stack_fffffadb);
				uVar7 = random(0, 0x28, (char)lVar12, (char)lVar14, (char)lVar15, (char)uVar16, (char)uVar17, (char)lVar18, in_stack_fffffac8, in_stack_fffffacf, in_stack_fffffadb);
				iVar10 = iVar10 + 1;
				uVar4 = uVar7;
				while (true) {
					if (((0x18 < (byte)puVar3[(int)lVar5 * 0x28 + (int)uVar4]) && ((byte)puVar3[(int)lVar5 * 0x28 + (int)uVar4] < 0x1d)) || (0x27 < (int)uVar4))
						break;
					lVar5 = lVar5 + 1;
					if (0x27 < (int)lVar5) {
						lVar5 = 0;
						uVar4 = uVar4 + 1;
					}
				}
			}
			if (99 < iVar10) {
				return uVar7;
			}
			if (bVar1 == 0x1b) {
				aiStack488[1] = 0x29;
				unaff_r31 = 1;
				unaff_r29 = 0;
			} else {
				if (bVar1 < 0x1b) {
					if (bVar1 == 0x19) {
						aiStack488[1] = 0x28;
						unaff_r31 = 3;
						unaff_r29 = 2;
					} else {
						if (0x18 < bVar1) {
							aiStack488[1] = 0x26;
							unaff_r31 = 0;
							unaff_r29 = 1;
						}
					}
				} else {
					if (bVar1 < 0x1d) {
						aiStack488[1] = 0x27;
						unaff_r31 = 2;
						unaff_r29 = 3;
					}
				}
			}
			unaff_r28 = 1;
			lVar24 = uVar6 - 0x500;
			iVar19 = 4;
			iVar10 = 0;
			local_504[0] = (uint)lVar5;
			local_374[0] = (uint)uVar4;
			while (true) {
				uVar21 = (uint)uVar4;
				uVar23 = (uint)lVar5;
				iVar29 = (int)unaff_r28;
				iVar8 = (int)unaff_r30;
				iVar28 = (int)unaff_r31;
				if ((3 < iVar10) || (99 < iVar29))
					break;
				if (iVar10 == 0) {
					unaff_r31 = random(0, 4, (char)lVar12, (char)lVar14, (char)lVar15, (char)uVar16,
					    (char)uVar17, (char)lVar18, in_stack_fffffac8, in_stack_fffffacf,
					    in_stack_fffffadb);
					uVar7 = unaff_r31;
				} else {
					unaff_r31 = (ulonglong)(iVar28 + 1U & 3);
				}
				while (true) {
					iVar10 = iVar10 + 1;
					iVar29 = (int)unaff_r31;
					if ((iVar29 != (int)unaff_r29) && (iVar29 != iVar19))
						break;
					unaff_r31 = (ulonglong)(iVar29 + 1U & 3);
				}
				uVar20 = uVar4;
				if ((iVar29 == 0) && (uVar20 = uVar4, 0 < (int)uVar21)) {
					uVar20 = uVar4 - 1;
				}
				if ((iVar29 == 1) && ((int)uVar20 < 0x28)) {
					uVar20 = uVar20 + 1;
				}
				lVar22 = lVar5;
				if ((iVar29 == 2) && (lVar22 = lVar5, (int)uVar23 < 0x28)) {
					lVar22 = lVar5 + 1;
				}
				if ((iVar29 == 3) && (0 < (int)lVar22)) {
					lVar22 = lVar22 + -1;
				}
				if (puVar3[(int)lVar22 * 0x28 + (int)uVar20] == '\a') {
					iVar10 = 0;
					piVar11 = (int *)lVar24;
					if (iVar29 < 2) {
						lVar5 = random(0, 2, (char)lVar12, (char)lVar14, (char)lVar15, (char)uVar16,
						    (char)uVar17, (char)lVar18, in_stack_fffffac8, in_stack_fffffacf,
						    in_stack_fffffadb);
						uVar21 = (uint)lVar5 & 0xff;
						piVar11[200] = uVar21 + 0x11;
					} else {
						lVar5 = random(0, 2, (char)lVar12, (char)lVar14, (char)lVar15, (char)uVar16,
						    (char)uVar17, (char)lVar18, in_stack_fffffac8, in_stack_fffffacf,
						    in_stack_fffffadb);
						uVar21 = (uint)lVar5 & 0xff;
						piVar11[200] = uVar21 + 0xf;
					}
					uVar7 = (ulonglong)uVar21;
					*piVar11 = (int)lVar22;
					unaff_r28 = unaff_r28 + 1;
					piVar11[100] = (int)uVar20;
					lVar24 = lVar24 + 4;
					iVar28 = (int)unaff_r28;
					if (((iVar29 == 0) && (iVar8 == 2)) || ((iVar29 == 3 && (iVar8 == 1)))) {
						if (2 < iVar28) {
							piVar11[199] = 0x16;
						}
						if (iVar29 == 0) {
							iVar19 = 1;
						} else {
							iVar19 = 2;
						}
					}
					if (((iVar29 == 0) && (iVar8 == 3)) || ((iVar29 == 2 && (iVar8 == 1)))) {
						if (2 < iVar28) {
							piVar11[199] = 0x15;
						}
						if (iVar29 == 0) {
							iVar19 = 1;
						} else {
							iVar19 = 3;
						}
					}
					if (((iVar29 == 1) && (iVar8 == 2)) || ((iVar29 == 3 && (iVar8 == 0)))) {
						if (2 < iVar28) {
							piVar11[199] = 0x14;
						}
						if (iVar29 == 1) {
							iVar19 = 0;
						} else {
							iVar19 = 2;
						}
					}
					if (((iVar29 == 1) && (iVar8 == 3)) || ((uVar4 = uVar20, lVar5 = lVar22, unaff_r30 = unaff_r31, iVar29 == 2 && (uVar4 = uVar20, lVar5 = lVar22, unaff_r30 = unaff_r31, iVar8 == 0)))) {
						if (2 < iVar28) {
							piVar11[199] = 0x13;
						}
						if (iVar29 == 1) {
							iVar19 = 0;
							uVar4 = uVar20;
							lVar5 = lVar22;
							unaff_r30 = unaff_r31;
						} else {
							iVar19 = 3;
							uVar4 = uVar20;
							lVar5 = lVar22;
							unaff_r30 = unaff_r31;
						}
					}
				}
			}
			if (iVar28 == 0) {
				uVar7 = uVar25 + lVar5 * 0x28 + uVar4;
				if ((*(char *)((int)uVar7 + -1) == '\n') && (*(char *)((int)uVar7 + -2) == '\b')) {
					uVar7 = uVar4 - 1;
					local_504[iVar29] = uVar23;
					local_374[iVar29] = (uint)uVar7;
					aiStack488[iVar29 + 1] = 0x18;
					if (iVar8 == 2) {
						aiStack488[iVar29] = 0x16;
					}
					if (iVar8 == 3) {
						aiStack488[iVar29] = 0x15;
					}
					bVar2 = true;
				}
			}
			if (iVar28 == 1) {
				uVar7 = uVar25 + lVar5 * 0x28 + uVar4;
				if ((*(char *)((int)uVar7 + 1) == '\x02') && (*(char *)((int)uVar7 + 2) == '\b')) {
					uVar7 = uVar4 + 1;
					local_504[iVar29] = uVar23;
					local_374[iVar29] = (uint)uVar7;
					aiStack488[iVar29 + 1] = 0x2a;
					if (iVar8 == 2) {
						aiStack488[iVar29] = 0x14;
					}
					if (iVar8 == 3) {
						aiStack488[iVar29] = 0x13;
					}
					bVar2 = true;
				}
			}
			if (iVar28 == 2) {
				uVar7 = uVar25 + lVar5 * 0x28 + uVar4;
				if ((*(char *)((int)uVar7 + 0x28) == '\x04') && (*(char *)((int)uVar7 + 0x50) == '\b')) {
					uVar7 = lVar5 + 1;
					local_504[iVar29] = (uint)uVar7;
					local_374[iVar29] = uVar21;
					aiStack488[iVar29 + 1] = 0x2b;
					if (iVar8 == 0) {
						aiStack488[iVar29] = 0x13;
					}
					if (iVar8 == 1) {
						aiStack488[iVar29] = 0x15;
					}
					bVar2 = true;
				}
			}
			if (iVar28 == 3) {
				uVar7 = uVar25 + lVar5 * 0x28 + uVar4;
				if ((*(char *)((int)uVar7 + -0x28) == '\t') && (*(char *)((int)uVar7 + -0x50) == '\b')) {
					uVar7 = lVar5 - 1;
					local_504[iVar29] = (uint)uVar7;
					local_374[iVar29] = uVar21;
					aiStack488[iVar29 + 1] = 0x17;
					if (iVar8 == 0) {
						aiStack488[iVar29] = 0x14;
					}
					if (iVar8 == 1) {
						aiStack488[iVar29] = 0x16;
					}
					bVar2 = true;
				}
			}
		}
		uVar21 = (uint)unaff_r28;
		if ((bVar2) && ((int)uVar21 < 7)) {
			bVar2 = false;
		}
		if (bVar2) {
			iVar10 = 0;
			iVar19 = 0;
			while ((iVar10 == 0 && (iVar19 < 0x1e))) {
				iVar19 = iVar19 + 1;
				unaff_r26 = random(0, unaff_r28, (char)lVar12, (char)lVar14, (char)lVar15, (char)uVar16,
				    (char)uVar17, (char)lVar18, in_stack_fffffac8, in_stack_fffffacf,
				    in_stack_fffffadb);
				iVar8 = (int)unaff_r26;
				puVar13 = local_504 + iVar8;
				iVar29 = aiStack488[iVar8 + 1];
				if (((iVar29 == 0xf) || (iVar29 == 0x10)) && (((puVar3 + *puVar13 * 0x28 + local_374[iVar8])[-1] == '\a' && ((puVar3 + *puVar13 * 0x28 + local_374[iVar8])[1] == '\a')))) {
					iVar10 = 1;
				}
				if (((iVar29 - 0x11U < 2) && ((puVar3 + *puVar13 * 0x28 + local_374[iVar8])[-0x28] == '\a'))
				    && ((puVar3 + *puVar13 * 0x28 + local_374[iVar8])[0x28] == '\a')) {
					iVar10 = 2;
				}
				uVar23 = local_374[iVar8];
				uVar16 = (ulonglong)uVar23;
				uVar7 = uVar6 - 0x504;
				uVar17 = (ulonglong)*puVar13;
				lVar18 = 0;
				lVar12 = uVar16 + 1;
				lVar14 = uVar17 - 1;
				lVar15 = uVar17 + 1;
				while (((int)lVar18 < (int)uVar21 && (iVar10 != 0))) {
					puVar9 = (uint *)uVar7;
					if (((iVar10 == 1) && ((uVar23 - 1 == puVar9[100] || ((uint)lVar12 == puVar9[100])))) && (*puVar13 == *puVar9)) {
						iVar10 = 0;
					}
					if ((iVar10 == 2) && ((((uint)lVar14 == *puVar9 || ((uint)lVar15 == *puVar9)) && (uVar23 == puVar9[100])))) {
						iVar10 = 0;
					}
					uVar7 = uVar7 + 4;
					lVar18 = lVar18 + 1;
				}
			}
			if (iVar10 != 0) {
				if (iVar10 == 1) {
					uVar7 = 0x2c;
					local_504[(int)unaff_r26 + 200] = 0x2c;
				} else {
					uVar7 = 0x2d;
					local_504[(int)unaff_r26 + 200] = 0x2d;
				}
				iVar27 = iVar27 + 1;
				unaff_r26 = 0;
				if (-1 < (int)uVar21) {
					uVar7 = unaff_r28 - 8;
					if (8 < (int)(uVar21 + 1)) {
						iVar10 = (int)uVar7;
						uVar4 = (ulonglong)(uVar21 >> 3);
						uVar7 = uVar6 - 0x504;
						if (-1 < iVar10) {
							do {
								piVar11 = (int *)uVar7;
								unaff_r26 = unaff_r26 + 8;
								puVar3[*piVar11 * 0x28 + piVar11[100]] = (char)piVar11[200];
								puVar3[piVar11[1] * 0x28 + piVar11[0x65]] = (char)piVar11[0xc9];
								puVar3[piVar11[2] * 0x28 + piVar11[0x66]] = (char)piVar11[0xca];
								puVar3[piVar11[3] * 0x28 + piVar11[0x67]] = (char)piVar11[0xcb];
								puVar3[piVar11[4] * 0x28 + piVar11[0x68]] = (char)piVar11[0xcc];
								puVar3[piVar11[5] * 0x28 + piVar11[0x69]] = (char)piVar11[0xcd];
								puVar3[piVar11[6] * 0x28 + piVar11[0x6a]] = (char)piVar11[0xce];
								uVar7 = uVar7 + 0x20;
								puVar3[piVar11[7] * 0x28 + piVar11[0x6b]] = (char)piVar11[0xcf];
								uVar4 = uVar4 - 1;
							} while (uVar4 != 0);
						}
					}
					lVar12 = (uVar6 - 0x504) + (ulonglong)(uint)((int)unaff_r26 << 2);
					lVar5 = (unaff_r28 + 1) - unaff_r26;
					if ((int)unaff_r26 <= (int)uVar21) {
						do {
							puVar13 = (uint *)lVar12;
							unaff_r26 = unaff_r26 + 1;
							uVar7 = (ulonglong)*puVar13 * 0x28;
							lVar12 = lVar12 + 4;
							puVar3[(int)uVar7 + puVar13[100]] = (char)puVar13[200];
							lVar5 = lVar5 + -1;
						} while (lVar5 != 0);
					}
				}
			}
		}
	} while (true);
}

undefined8
FUN_10032d1c(longlong param_1, int param_2, int *param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	byte bVar1;
	undefined8 uVar2;
	int iVar3;
	byte *pbVar4;
	undefined4 param_9_00;

	if (0x28 < *param_3) {
		return 1;
	}
	iVar3 = (int)param_1;
	if ((((iVar3 < 0) || (param_2 < 0)) || (0x27 < iVar3)) || (0x27 < param_2)) {
		return 1;
	}
	bVar1 = PTR_DAT_100f1804[iVar3 * 0x28 + param_2];
	if ((bVar1 & 0x80) != 0) {
		return 0;
	}
	if (0xf < bVar1) {
		return 1;
	}
	PTR_DAT_100f1804[iVar3 * 0x28 + param_2] = bVar1 | 0x80;
	pbVar4 = &DAT_100f8c96 + (uint)bVar1;
	*param_3 = *param_3 + 1;
	if (((*pbVar4 & 8) != 0) && (uVar2 = FUN_10032d1c(param_1, param_2 + -1, param_3, param_4, param_5, param_6, param_7, param_8, param_9_00), (int)uVar2 == 1)) {
		return 1;
	}
	if (((*pbVar4 & 4) != 0) && (uVar2 = FUN_10032d1c(param_1, param_2 + 1, param_3, param_4, param_5, param_6, param_7, param_8, param_9_00), (int)uVar2 == 1)) {
		return 1;
	}
	if (((*pbVar4 & 2) != 0) && (uVar2 = FUN_10032d1c(param_1 + 1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, param_9_00), (int)uVar2 == 1)) {
		return 1;
	}
	if (((*pbVar4 & 1) != 0) && (uVar2 = FUN_10032d1c(param_1 + -1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, param_9_00), (int)uVar2 == 1)) {
		return 1;
	}
	if (((*pbVar4 & 0x80) != 0) && (uVar2 = FUN_10032f54(param_1, param_2 + -1, param_3, param_4, param_5, param_6, param_7, param_8, param_9_00), (int)uVar2 == 1)) {
		return 1;
	}
	if (((*pbVar4 & 0x40) != 0) && (uVar2 = FUN_10032f54(param_1, param_2 + 1, param_3, param_4, param_5, param_6, param_7, param_8, param_9_00), (int)uVar2 == 1)) {
		return 1;
	}
	if (((*pbVar4 & 0x20) != 0) && (uVar2 = FUN_10032f54(param_1 + 1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, param_9_00), (int)uVar2 == 1)) {
		return 1;
	}
	if (((*pbVar4 & 0x10) != 0) && (uVar2 = FUN_10032f54(param_1 + -1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, param_9_00), (int)uVar2 == 1)) {
		return 1;
	}
	return 0;
}

undefined8
FUN_10032f54(longlong param_1, int param_2, int *param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	byte bVar1;
	undefined8 uVar2;
	byte *pbVar3;
	int iVar4;
	undefined4 param_9_00;

	if (0x28 < *param_3) {
		return 1;
	}
	iVar4 = (int)param_1;
	if ((((iVar4 < 0) || (param_2 < 0)) || (0x27 < iVar4)) || (0x27 < param_2)) {
		return 1;
	}
	bVar1 = PTR_DAT_100f1804[iVar4 * 0x28 + param_2];
	if ((bVar1 & 0x80) != 0) {
		return 0;
	}
	if (0xf < bVar1) {
		return 1;
	}
	PTR_DAT_100f1804[iVar4 * 0x28 + param_2] = bVar1 | 0x80;
	*param_3 = *param_3 + 1;
	if (bVar1 == 8) {
		uVar2 = FUN_10032f54(param_1 + 1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    param_9_00);
		if ((int)uVar2 == 1) {
			return 1;
		}
		uVar2 = FUN_10032f54(param_1 + -1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    param_9_00);
		if ((int)uVar2 == 1) {
			return 1;
		}
		uVar2 = FUN_10032f54(param_1, param_2 + 1, param_3, param_4, param_5, param_6, param_7, param_8,
		    param_9_00);
		if ((int)uVar2 == 1) {
			return 1;
		}
		uVar2 = FUN_10032f54(param_1, param_2 + -1, param_3, param_4, param_5, param_6, param_7, param_8,
		    param_9_00);
		if ((int)uVar2 == 1) {
			return 1;
		}
	} else {
		pbVar3 = &DAT_100f8ca5 + (uint)bVar1;
		if (((*pbVar3 & 8) != 0) && (uVar2 = FUN_10032d1c(param_1, param_2 + -1, param_3, param_4, param_5, param_6, param_7, param_8, param_9_00), (int)uVar2 == 1)) {
			return 1;
		}
		if (((*pbVar3 & 4) != 0) && (uVar2 = FUN_10032d1c(param_1, param_2 + 1, param_3, param_4, param_5, param_6, param_7, param_8, param_9_00), (int)uVar2 == 1)) {
			return 1;
		}
		if (((*pbVar3 & 2) != 0) && (uVar2 = FUN_10032d1c(param_1 + 1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, param_9_00), (int)uVar2 == 1)) {
			return 1;
		}
		if (((*pbVar3 & 1) != 0) && (uVar2 = FUN_10032d1c(param_1 + -1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, param_9_00), (int)uVar2 == 1)) {
			return 1;
		}
	}
	return 0;
}

// WARNING: Removing unreachable block (ram,0x100332bc)
// WARNING: Removing unreachable block (ram,0x100332c4)
// WARNING: Removing unreachable block (ram,0x100332cc)
// WARNING: Removing unreachable block (ram,0x100332dc)
// WARNING: Removing unreachable block (ram,0x100332e4)
// WARNING: Removing unreachable block (ram,0x100332e8)

longlong FUN_10033164(char param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	byte bVar1;
	int iVar2;
	longlong lVar3;
	ulonglong uVar4;
	undefined8 uVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	undefined uVar10;
	longlong lVar9;
	undefined uVar12;
	int iVar11;
	int iVar13;
	longlong lVar14;
	longlong lVar15;
	longlong lVar16;
	longlong lVar17;
	ulonglong uVar18;
	ulonglong uVar19;
	ulonglong uVar20;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	lVar15 = (longlong)param_8;
	lVar14 = (longlong)param_7;
	lVar7 = (longlong)param_6;
	lVar3 = (longlong)param_5;
	lVar9 = (longlong)param_4;
	lVar8 = (longlong)param_3;
	lVar6 = (longlong)param_1;
	uVar4 = ZEXT48(register0x0000000c);
	uVar20 = ZEXT48(PTR_DAT_100f1804);
	lVar16 = 0;
	uVar18 = uVar20;
	do {
		iVar2 = (int)lVar16;
		lVar17 = 0;
		uVar19 = uVar18;
		do {
			uVar12 = (undefined)lVar3;
			uVar10 = (undefined)lVar9;
			if (*(char *)uVar19 == '\b') {
				*(char *)uVar19 = -0x78;
				if ((int)(lVar17 + 1) < 0x28) {
					lVar8 = uVar4 - 0x28;
					uVar5 = FUN_10032f54(lVar17 + 1, iVar2, (int *)lVar8, uVar10, uVar12, (char)lVar7, (char)lVar14,
					    (char)lVar15, in_stack_ffffffa8);
					iVar11 = (int)uVar5;
				} else {
					iVar11 = 1;
				}
				if ((lVar17 + -1 < 1) || (iVar11 != 0)) {
					iVar11 = 1;
				} else {
					lVar8 = uVar4 - 0x28;
					uVar5 = FUN_10032f54(lVar17 + -1, iVar2, (int *)lVar8, uVar10, uVar12, (char)lVar7, (char)lVar14, (char)lVar15, in_stack_ffffffa8);
					iVar11 = (int)uVar5;
				}
				if ((iVar2 + 1 < 0x28) && (iVar11 == 0)) {
					lVar8 = uVar4 - 0x28;
					uVar5 = FUN_10032f54(lVar17, iVar2 + 1, (int *)lVar8, uVar10, uVar12, (char)lVar7, (char)lVar14,
					    (char)lVar15, in_stack_ffffffa8);
					iVar11 = (int)uVar5;
				} else {
					iVar11 = 1;
				}
				if ((0 < lVar16 + -1) && (iVar11 == 0)) {
					lVar8 = uVar4 - 0x28;
					FUN_10032f54(lVar17, iVar2 + -1, (int *)lVar8, uVar10, uVar12, (char)lVar7, (char)lVar14,
					    (char)lVar15, in_stack_ffffffa8);
				}
				lVar6 = random(0, 100, (char)lVar8, uVar10, uVar12, (char)lVar7, (char)lVar14, (char)lVar15,
				    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
				lVar3 = lVar16 + -1;
				lVar9 = uVar20 + lVar3;
				while (iVar11 = (int)lVar3, iVar11 < iVar2 + 1) {
					lVar7 = lVar17 + -1;
					lVar8 = lVar9 + lVar7 * 0x28;
					while (iVar13 = (int)lVar7, iVar13 < (int)lVar17 + 1) {
						bVar1 = *(byte *)lVar8;
						if (((((bVar1 & 0x80) != 0) && (-1 < iVar11)) && (iVar11 < 0x28)) && ((-1 < iVar13 && (iVar13 < 0x28)))) {
							*(byte *)lVar8 = bVar1 & 0x7f;
						}
						lVar8 = lVar8 + 0x28;
						lVar7 = lVar7 + 1;
					}
					lVar9 = lVar9 + 1;
					lVar3 = lVar3 + 1;
				}
			}
			lVar17 = lVar17 + 1;
			uVar19 = uVar19 + 0x28;
		} while ((int)lVar17 < 0x28);
		lVar16 = lVar16 + 1;
		uVar18 = uVar18 + 1;
	} while ((int)lVar16 < 0x28);
	return lVar6;
}

void FUN_10033354(void)

{
	char *pcVar1;
	char *pcVar2;
	int iVar3;
	longlong lVar4;

	iVar3 = 0;
	pcVar2 = PTR_DAT_100f1804;
	do {
		lVar4 = 0x28;
		pcVar1 = pcVar2;
		do {
			if (((((((*pcVar1 == '\b') && (0x18 < (byte)pcVar1[-0x29])) && ((byte)pcVar1[-0x29] < 0x2a))
			          && ((0x18 < (byte)pcVar1[-0x28] && ((byte)pcVar1[-0x28] < 0x2a))))
			         && ((0x18 < (byte)pcVar1[-0x27] && (((byte)pcVar1[-0x27] < 0x2a && (0x18 < (byte)pcVar1[-1]))))))
			        && ((byte)pcVar1[-1] < 0x2a))
			    && ((((0x18 < (byte)pcVar1[1] && ((byte)pcVar1[1] < 0x2a)) && (0x18 < (byte)pcVar1[0x27])) && ((((byte)pcVar1[0x27] < 0x2a && (0x18 < (byte)pcVar1[0x28])) && (((byte)pcVar1[0x28] < 0x2a && ((0x18 < (byte)pcVar1[0x29] && ((byte)pcVar1[0x29] < 0x2a)))))))))) {
				*pcVar1 = '!';
			}
			pcVar1 = pcVar1 + 0x28;
			lVar4 = lVar4 + -1;
		} while (lVar4 != 0);
		iVar3 = iVar3 + 1;
		pcVar2 = pcVar2 + 1;
	} while (iVar3 < 0x28);
	return;
}

undefined8
FUN_10033438(longlong param_1, longlong param_2, longlong param_3, int param_4, int param_5, int param_6,
    int param_7, char param_8, undefined4 param_9, undefined param_10, undefined4 param_11,
    undefined4 param_12)

{
	byte bVar1;
	byte bVar2;
	int *piVar3;
	ulonglong uVar4;
	longlong lVar5;
	longlong lVar6;
	int iVar7;
	longlong lVar8;
	undefined uVar9;
	undefined uVar10;
	longlong lVar11;
	ulonglong uVar12;
	undefined uVar14;
	longlong lVar13;
	longlong lVar15;
	longlong lVar16;
	int iVar17;
	int iVar18;
	ulonglong uVar19;
	ulonglong uVar20;
	longlong lVar21;
	longlong lVar22;
	int iVar23;
	longlong unaff_r28;
	longlong unaff_r31;
	ulonglong uVar24;
	undefined4 in_stack_ffffff78;
	undefined in_stack_ffffff7f;
	undefined in_stack_ffffff8b;

	iVar17 = (int)param_2;
	lVar15 = (longlong)param_8;
	lVar13 = (longlong)param_7;
	uVar12 = SEXT48(param_6);
	lVar11 = (longlong)param_5;
	lVar8 = (longlong)param_4;
	uVar4 = ZEXT48(&toc);
	uVar19 = ZEXT48(PTR_DAT_100f1abc);
	uVar20 = ZEXT48(PTR_DAT_100f1804);
	bVar1 = *(byte *)param_1;
	bVar2 = ((byte *)param_1)[1];
	if (param_3 - param_2 == 0) {
		iVar17 = 1;
	} else {
		lVar16 = random(0, param_3 - param_2, (char)param_3, (char)param_4, (char)param_5,
		    (char)param_6, (char)param_7, param_8, in_stack_ffffff78, in_stack_ffffff7f,
		    in_stack_ffffff8b);
		iVar17 = iVar17 + (int)lVar16;
	}
	lVar21 = 0x28 - (ulonglong)bVar1;
	lVar16 = (longlong)(int)(uint)bVar2 * (longlong)(int)(uint)bVar1 + 2;
	lVar22 = 0x28 - (ulonglong)bVar2;
	iVar18 = 0;
	while (true) {
		uVar10 = (undefined)lVar8;
		if (iVar17 <= iVar18) {
			iVar17 = (int)uVar4;
			if (param_6 == 1) {
				piVar3 = *(int **)(iVar17 + -0x77b4);
				**(int **)(iVar17 + -0x77b0) = (int)unaff_r31 * 2 + 0x11;
				*piVar3 = (int)unaff_r28 * 2 + 0x13;
			}
			if (param_7 == 0) {
				piVar3 = *(int **)(iVar17 + -0x7520);
				**(int **)(iVar17 + -0x751c) = (int)unaff_r31 * 2 + 0x11;
				*piVar3 = (int)unaff_r28 * 2 + 0x13;
			}
			return 0;
		}
		unaff_r31 = random(0, lVar21, (char)param_3, uVar10, (char)lVar11, (char)uVar12, (char)lVar13,
		    (char)lVar15, in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8b);
		unaff_r28 = random(0, lVar22, (char)param_3, uVar10, (char)lVar11, (char)uVar12, (char)lVar13,
		    (char)lVar15, in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8b);
		lVar8 = 0;
		iVar23 = 0;
		while (true) {
			uVar14 = (undefined)lVar13;
			uVar10 = (undefined)lVar11;
			if (((int)lVar8 != 0) || (199 < iVar23))
				break;
			iVar23 = iVar23 + 1;
			lVar8 = 1;
			uVar9 = 1;
			if (((param_4 != -1) && ((int)(param_4 - (uint)bVar1) <= (int)unaff_r31)) && ((int)unaff_r31 <= param_4 + 0xc)) {
				unaff_r31 = random(0, lVar21, (char)param_3, 1, uVar10, (char)uVar12, uVar14, (char)lVar15,
				    in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8b);
				unaff_r28 = random(0, lVar22, (char)param_3, uVar9, uVar10, (char)uVar12, uVar14,
				    (char)lVar15, in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8b);
				lVar8 = 0;
			}
			uVar9 = (undefined)lVar8;
			if (((param_5 != -1) && ((int)(param_5 - (uint)bVar2) <= (int)unaff_r28)) && ((int)unaff_r28 <= param_5 + 0xc)) {
				unaff_r31 = random(0, lVar21, (char)param_3, uVar9, uVar10, (char)uVar12, uVar14,
				    (char)lVar15, in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8b);
				unaff_r28 = random(0, lVar22, (char)param_3, uVar9, uVar10, (char)uVar12, uVar14,
				    (char)lVar15, in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8b);
				lVar8 = 0;
			}
			lVar6 = uVar20 + unaff_r28;
			lVar5 = uVar19 + unaff_r28;
			lVar11 = param_1 + 2;
			lVar13 = 0;
			while (((int)lVar13 < (int)(uint)bVar2 && ((int)lVar8 == 1))) {
				param_3 = 0;
				while ((iVar7 = (int)param_3, iVar7 < (int)(uint)bVar1 && ((int)lVar8 == 1))) {
					if ((*(byte *)lVar11 != 0) && (uVar12 = (ulonglong) * (byte *)((int)lVar6 + ((int)unaff_r31 + iVar7) * 0x28), (ulonglong) * (byte *)lVar11 != uVar12)) {
						lVar8 = 0;
					}
					if (*(char *)((int)lVar5 + ((int)unaff_r31 + iVar7) * 0x28) != '\0') {
						lVar8 = 0;
					}
					lVar11 = lVar11 + 1;
					param_3 = param_3 + 1;
				}
				lVar6 = lVar6 + 1;
				lVar5 = lVar5 + 1;
				lVar13 = lVar13 + 1;
			}
			if (((int)lVar8 == 0) && (unaff_r31 = unaff_r31 + 1, (int)unaff_r31 == (int)lVar21)) {
				unaff_r28 = unaff_r28 + 1;
				unaff_r31 = 0;
				if ((int)unaff_r28 == (int)lVar22) {
					unaff_r28 = 0;
				}
			}
		}
		if (199 < iVar23)
			break;
		lVar5 = uVar20 + unaff_r28;
		uVar12 = 0;
		lVar6 = lVar16;
		while ((int)uVar12 < (int)(uint)bVar2) {
			lVar8 = param_1 + lVar6;
			param_3 = 0;
			uVar24 = (ulonglong)bVar1;
			if (bVar1 != 0) {
				do {
					if (*(char *)lVar8 != '\0') {
						lVar11 = (unaff_r31 + param_3) * 0x28;
						*(char *)((int)lVar5 + (int)lVar11) = *(char *)lVar8;
					}
					lVar6 = lVar6 + 1;
					lVar8 = lVar8 + 1;
					param_3 = param_3 + 1;
					uVar24 = uVar24 - 1;
				} while (uVar24 != 0);
			}
			lVar5 = lVar5 + 1;
			uVar12 = uVar12 + 1;
		}
		iVar18 = iVar18 + 1;
	}
	return 1;
}

void FUN_1003370c(byte *param_1, int param_2, undefined param_3, undefined param_4, char param_5,
    char param_6, undefined param_7, char param_8, undefined4 param_9)

{
	byte bVar1;
	byte bVar2;
	byte bVar3;
	bool bVar4;
	int iVar5;
	byte *pbVar6;
	ulonglong uVar7;
	int iVar8;
	ulonglong uVar9;
	longlong lVar10;
	int iVar11;
	longlong lVar12;
	longlong lVar13;
	int iVar14;
	int iVar15;
	int iVar16;
	ulonglong uVar17;
	ulonglong uVar18;
	ulonglong uVar19;
	ulonglong uVar20;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined in_stack_ffffffab;

	lVar13 = (longlong)param_8;
	lVar10 = (longlong)param_6;
	uVar9 = SEXT18(param_5);
	uVar18 = ZEXT48(PTR_DAT_100f1804);
	uVar17 = ZEXT48(PTR_DAT_100f1abc);
	iVar14 = 0;
	bVar1 = *param_1;
	bVar2 = param_1[1];
	iVar5 = (uint)bVar2 * (uint)bVar1;
	iVar16 = iVar5 + 2;
	while (iVar14 < (int)(0x28 - (uint)bVar2)) {
		iVar15 = 0;
		uVar19 = uVar18;
		while (iVar15 < (int)(0x28 - (uint)bVar1)) {
			pbVar6 = param_1 + 2;
			bVar4 = true;
			lVar12 = 0;
			uVar7 = uVar18;
			uVar20 = uVar17;
			while (((int)lVar12 < (int)(uint)bVar2 && (bVar4))) {
				lVar10 = 0;
				while ((iVar11 = (int)lVar10, iVar11 < (int)(uint)bVar1 && (bVar4))) {
					uVar9 = (ulonglong)*pbVar6;
					if ((*pbVar6 != 0) && (uVar9 != (ulonglong) * (byte *)((int)uVar7 + (iVar15 + iVar11) * 0x28))) {
						bVar4 = false;
					}
					if (*(char *)((int)uVar20 + (iVar15 + iVar11) * 0x28) != '\0') {
						bVar4 = false;
					}
					pbVar6 = pbVar6 + 1;
					lVar10 = lVar10 + 1;
				}
				uVar7 = uVar7 + 1;
				uVar20 = uVar20 + 1;
				lVar12 = lVar12 + 1;
			}
			if (((0x53 < param_1[iVar5 + 2]) && (param_1[iVar16] < 0x65)) && (bVar4)) {
				iVar11 = (int)uVar19;
				bVar3 = *(byte *)(iVar11 + -0x28);
				if ((0x53 < bVar3) && (bVar3 < 0x65)) {
					bVar4 = false;
				}
				if ((0x53 < *(byte *)(iVar11 + 0x28)) && (bVar3 < 0x65)) {
					bVar4 = false;
				}
				if ((0x53 < *(byte *)(iVar11 + 1)) && (bVar3 < 0x65)) {
					bVar4 = false;
				}
				if ((0x53 < *(byte *)(iVar11 + -1)) && (bVar3 < 0x65)) {
					bVar4 = false;
				}
			}
			if ((bVar4) && (lVar12 = random(0, 100, (char)uVar7, (char)uVar20, (char)uVar9, (char)lVar10, (char)lVar12, (char)lVar13, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab), (int)lVar12 < param_2)) {
				iVar8 = 0;
				uVar7 = uVar18;
				iVar11 = iVar16;
				while (iVar8 < (int)(uint)bVar2) {
					pbVar6 = param_1 + iVar11;
					uVar9 = 0;
					uVar20 = (ulonglong)bVar1;
					if (bVar1 != 0) {
						do {
							if (*pbVar6 != 0) {
								*(byte *)((int)uVar7 + (iVar15 + (int)uVar9) * 0x28) = *pbVar6;
							}
							iVar11 = iVar11 + 1;
							pbVar6 = pbVar6 + 1;
							uVar9 = uVar9 + 1;
							uVar20 = uVar20 - 1;
						} while (uVar20 != 0);
					}
					uVar7 = uVar7 + 1;
					iVar8 = iVar8 + 1;
				}
			}
			uVar19 = uVar19 + 0x28;
			iVar15 = iVar15 + 1;
		}
		uVar18 = uVar18 + 1;
		uVar17 = uVar17 + 1;
		iVar14 = iVar14 + 1;
	}
	return;
}

undefined8 FUN_1003391c(int param_1, int param_2)

{
	char cVar1;

	param_1 = param_1 * 0x28;
	if (((0x98 < (byte)PTR_DAT_100f1804[param_2 + param_1 + 0x28]) || ((byte)PTR_DAT_100f1804[param_2 + param_1 + 0x28] < 0x82)) && ((0x98 < (byte)PTR_DAT_100f1804[param_2 + param_1 + -0x28] || ((byte)PTR_DAT_100f1804[param_2 + param_1 + -0x28] < 0x82)))) {
		cVar1 = PTR_DAT_100f1804[param_1 + param_2];
		if (cVar1 == '\a') {
			return 1;
		}
		if (cVar1 == '\n') {
			return 1;
		}
		if (cVar1 == '~') {
			return 1;
		}
		if (cVar1 == -0x7f) {
			return 1;
		}
		if (cVar1 == -0x7a) {
			return 1;
		}
		if (cVar1 == -0x78) {
			return 1;
		}
	}
	return 0;
}

undefined8 FUN_100339cc(int param_1, int param_2)

{
	char cVar1;

	param_1 = param_1 * 0x28;
	if (((0x98 < (byte)PTR_DAT_100f1804[param_2 + param_1 + 0x28]) || ((byte)PTR_DAT_100f1804[param_2 + param_1 + 0x28] < 0x82)) && ((0x98 < (byte)PTR_DAT_100f1804[param_2 + param_1 + -0x28] || ((byte)PTR_DAT_100f1804[param_2 + param_1 + -0x28] < 0x82)))) {
		cVar1 = PTR_DAT_100f1804[param_1 + param_2];
		if (cVar1 == '\a') {
			return 1;
		}
		if (cVar1 == '\x02') {
			return 1;
		}
		if (cVar1 == -0x7a) {
			return 1;
		}
		if (cVar1 == -0x78) {
			return 1;
		}
	}
	return 0;
}

undefined8 FUN_10033a5c(int param_1, int param_2)

{
	char cVar1;

	param_1 = param_1 * 0x28;
	if (((0x98 < (byte)PTR_DAT_100f1804[param_2 + param_1 + 1]) || ((byte)PTR_DAT_100f1804[param_2 + param_1 + 1] < 0x82)) && ((0x98 < (byte)PTR_DAT_100f1804[param_2 + param_1 + -1] || ((byte)PTR_DAT_100f1804[param_2 + param_1 + -1] < 0x82)))) {
		cVar1 = PTR_DAT_100f1804[param_1 + param_2];
		if (cVar1 == '\a') {
			return 1;
		}
		if (cVar1 == '\t') {
			return 1;
		}
		if (cVar1 == 'y') {
			return 1;
		}
		if (cVar1 == '|') {
			return 1;
		}
		if (cVar1 == -0x79) {
			return 1;
		}
		if (cVar1 == -0x77) {
			return 1;
		}
	}
	return 0;
}

undefined8 FUN_10033b0c(int param_1, int param_2)

{
	char cVar1;

	param_1 = param_1 * 0x28;
	if (((0x98 < (byte)PTR_DAT_100f1804[param_2 + param_1 + 1]) || ((byte)PTR_DAT_100f1804[param_2 + param_1 + 1] < 0x82)) && ((0x98 < (byte)PTR_DAT_100f1804[param_2 + param_1 + -1] || ((byte)PTR_DAT_100f1804[param_2 + param_1 + -1] < 0x82)))) {
		cVar1 = PTR_DAT_100f1804[param_1 + param_2];
		if (cVar1 == '\a') {
			return 1;
		}
		if (cVar1 == '\x04') {
			return 1;
		}
		if (cVar1 == -0x79) {
			return 1;
		}
		if (cVar1 == -0x77) {
			return 1;
		}
	}
	return 0;
}

void FUN_10033b9c(void)

{
	byte *pbVar1;
	byte *pbVar2;
	byte *pbVar3;
	int iVar4;
	longlong lVar5;

	iVar4 = 0;
	pbVar3 = PTR_DAT_100f1804;
	do {
		lVar5 = 0x14;
		pbVar2 = pbVar3;
		do {
			if ((((*pbVar2 == 7) && (pbVar2[-0x28] < 0x99)) && (0x81 < pbVar2[-0x28])) && ((pbVar2[0x28] < 0x99 && (0x81 < pbVar2[0x28])))) {
				*pbVar2 = 0x92;
			} else {
				if (((*pbVar2 == 7) && ((pbVar2[-1] < 0x99 && (0x81 < pbVar2[-1])))) && ((pbVar2[1] < 0x99 && (0x81 < pbVar2[1])))) {
					*pbVar2 = 0x93;
				}
			}
			pbVar1 = pbVar2 + 0x28;
			if ((((*pbVar1 == 7) && (*pbVar2 < 0x99)) && (0x81 < *pbVar2)) && ((pbVar2[0x50] < 0x99 && (0x81 < pbVar2[0x50])))) {
				*pbVar1 = 0x92;
			} else {
				if ((((*pbVar1 == 7) && ((pbVar2[0x27] < 0x99 && (0x81 < pbVar2[0x27])))) && (pbVar2[0x29] < 0x99)) && (0x81 < pbVar2[0x29])) {
					*pbVar1 = 0x93;
				}
			}
			pbVar2 = pbVar2 + 0x50;
			lVar5 = lVar5 + -1;
		} while (lVar5 != 0);
		iVar4 = iVar4 + 1;
		pbVar3 = pbVar3 + 1;
	} while (iVar4 < 0x28);
	return;
}

void FUN_10033cc4(void)

{
	char cVar1;
	char cVar2;
	char cVar3;
	char *pcVar4;
	char *pcVar5;
	int iVar6;
	longlong lVar7;

	iVar6 = 0;
	pcVar5 = PTR_DAT_100f1804;
	do {
		lVar7 = 0x28;
		pcVar4 = pcVar5;
		do {
			cVar1 = *pcVar4;
			if ((cVar1 == -0x6e) && ((((0x98 < (byte)pcVar4[0x28] || ((byte)pcVar4[0x28] < 0x82)) || (0x98 < (byte)pcVar4[-0x28])) || ((byte)pcVar4[-0x28] < 0x82)))) {
				*pcVar4 = '\a';
			} else {
				if (((((cVar1 == -0x6e) && (cVar2 = pcVar4[0x28], cVar2 != -0x7e)) && (cVar3 = pcVar4[-0x28], cVar3 != -0x7e)) && (((cVar2 != -0x7c && (cVar3 != -0x7c)) && (((cVar2 != -0x7b && (((cVar3 != -0x7b && (cVar2 != -0x7a)) && (cVar3 != -0x7a)))) && ((cVar2 != -0x78 && (cVar3 != -0x78)))))))) && ((cVar2 != -0x76 && (((cVar3 != -0x76 && (cVar2 != -0x74)) && (cVar3 != -0x74)))))) {
					*pcVar4 = '\a';
				} else {
					if ((cVar1 == -0x6d) && ((((0x98 < (byte)pcVar4[1] || ((byte)pcVar4[1] < 0x82)) || (0x98 < (byte)pcVar4[-1])) || ((byte)pcVar4[-1] < 0x82)))) {
						*pcVar4 = '\a';
					} else {
						if ((((cVar1 == -0x6d) && (cVar1 = pcVar4[1], cVar1 != -0x7d)) && ((cVar2 = pcVar4[-1], cVar2 != -0x7d && ((cVar1 != -0x7c && (cVar2 != -0x7c)))))) && ((cVar1 != -0x7b && ((((((cVar2 != -0x7b && (cVar1 != -0x79)) && (cVar2 != -0x79)) && ((cVar1 != -0x77 && (cVar2 != -0x77)))) && ((cVar1 != -0x76 && ((cVar2 != -0x76 && (cVar1 != -0x75)))))) && (cVar2 != -0x75)))))) {
							*pcVar4 = '\a';
						}
					}
				}
			}
			pcVar4 = pcVar4 + 0x28;
			lVar7 = lVar7 + -1;
		} while (lVar7 != 0);
		iVar6 = iVar6 + 1;
		pcVar5 = pcVar5 + 1;
	} while (iVar6 < 0x28);
	return;
}

void FUN_10033e84(undefined param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	longlong lVar1;
	longlong lVar2;
	undefined8 uVar3;
	longlong lVar4;
	int iVar5;
	int iVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	longlong lVar14;
	longlong lVar15;
	longlong lVar16;
	int iVar17;
	ulonglong uVar18;
	longlong lVar19;
	ulonglong uVar20;
	char *pcVar22;
	ulonglong uVar21;
	ulonglong uVar23;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined in_stack_ffffffab;

	lVar12 = (longlong)param_8;
	lVar11 = (longlong)param_7;
	lVar10 = (longlong)param_6;
	lVar9 = (longlong)param_5;
	lVar8 = (longlong)param_4;
	lVar7 = (longlong)param_3;
	uVar18 = ZEXT48(PTR_DAT_100f1804);
	lVar16 = 0;
	uVar20 = uVar18;
	do {
		lVar14 = 0;
		lVar13 = 0;
		uVar21 = uVar20;
		uVar23 = uVar18;
		do {
			pcVar22 = (char *)uVar21;
			if ((*pcVar22 == '\n') && (lVar1 = random(0, 2, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab), (int)lVar1 != 0)) {
				lVar2 = uVar20 + lVar13;
				lVar1 = lVar14;
				while (*(char *)lVar2 == '\n') {
					lVar2 = lVar2 + 0x28;
					lVar1 = lVar1 + 1;
				}
				if (0 < (lVar1 + -1) - lVar14) {
					lVar2 = lVar14 + 1;
					lVar19 = uVar20 + lVar2 * 0x28;
					*pcVar22 = '\x7f';
					while (iVar17 = (int)(lVar1 + -1), (int)lVar2 < iVar17) {
						lVar15 = random(0, 2, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11,
						    (char)lVar12, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
						if ((int)lVar15 == 0) {
							*(undefined *)lVar19 = 0x81;
						} else {
							*(undefined *)lVar19 = 0x7e;
						}
						lVar19 = lVar19 + 0x28;
						lVar2 = lVar2 + 1;
					}
					*(undefined *)((int)uVar20 + iVar17 * 0x28) = 0x80;
				}
			}
			if ((*pcVar22 == '\t') && (lVar1 = random(0, 2, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab), (int)lVar1 != 0)) {
				lVar2 = uVar23 + lVar16;
				lVar1 = lVar16;
				while (*(char *)lVar2 == '\t') {
					lVar2 = lVar2 + 1;
					lVar1 = lVar1 + 1;
				}
				if (0 < (lVar1 + -1) - lVar16) {
					lVar19 = lVar16 + uVar23;
					*pcVar22 = '{';
					lVar2 = lVar16;
					while (true) {
						lVar19 = lVar19 + 1;
						lVar2 = lVar2 + 1;
						iVar17 = (int)(lVar1 + -1);
						if (iVar17 <= (int)lVar2)
							break;
						lVar15 = random(0, 2, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11,
						    (char)lVar12, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
						if ((int)lVar15 == 0) {
							*(undefined *)lVar19 = 0x7c;
						} else {
							*(undefined *)lVar19 = 0x79;
						}
					}
					*(undefined *)((int)uVar23 + iVar17) = 0x7a;
				}
			}
			if ((((*pcVar22 == '\v') && (pcVar22[0x28] == '\n')) && (pcVar22[1] == '\t')) && (lVar1 = random(0, 2, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab), (int)lVar1 != 0)) {
				lVar2 = lVar14 + 1;
				lVar19 = uVar20 + lVar2 * 0x28;
				*pcVar22 = '}';
				lVar1 = lVar19;
				while (*(char *)lVar1 == '\n') {
					lVar1 = lVar1 + 0x28;
					lVar2 = lVar2 + 1;
				}
				iVar17 = (int)lVar2 + -1;
				lVar1 = lVar14;
				while (lVar1 = lVar1 + 1, (int)lVar1 < iVar17) {
					lVar2 = random(0, 2, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11,
					    (char)lVar12, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
					if ((int)lVar2 == 0) {
						*(undefined *)lVar19 = 0x81;
					} else {
						*(undefined *)lVar19 = 0x7e;
					}
					lVar19 = lVar19 + 0x28;
				}
				lVar19 = lVar16 + uVar23 + 1;
				*(undefined *)((int)uVar20 + iVar17 * 0x28) = 0x80;
				lVar2 = lVar19;
				lVar1 = lVar16;
				while (lVar15 = lVar16, *(char *)lVar2 == '\t') {
					lVar2 = lVar2 + 1;
					lVar1 = lVar1 + 1;
				}
				while (true) {
					if ((int)lVar1 <= (int)(lVar15 + 1))
						break;
					lVar2 = random(0, 2, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11,
					    (char)lVar12, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
					if ((int)lVar2 == 0) {
						*(undefined *)lVar19 = 0x7c;
					} else {
						*(undefined *)lVar19 = 0x79;
					}
					lVar19 = lVar19 + 1;
					lVar15 = lVar15 + 1;
				}
				*(undefined *)((int)uVar23 + (int)lVar1) = 0x7a;
			}
			lVar14 = lVar14 + 1;
			uVar23 = uVar23 + 0x28;
			lVar13 = lVar13 + 0x28;
			uVar21 = uVar21 + 0x28;
		} while ((int)lVar14 < 0x27);
		lVar16 = lVar16 + 1;
		uVar20 = uVar20 + 1;
	} while ((int)lVar16 < 0x27);
	lVar16 = 0;
	uVar20 = uVar18;
	do {
		lVar13 = 0;
		uVar21 = uVar18;
		uVar23 = uVar20;
		do {
			if ((*(char *)uVar23 == '\a') && (lVar14 = random(0, 1, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab), (int)lVar14 == 0)) {
				iVar17 = (int)lVar13;
				iVar5 = (int)lVar16;
				uVar3 = SkipThemeRoom(iVar17, iVar5);
				if ((int)uVar3 != 0) {
					lVar1 = random(0, 2, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11,
					    (char)lVar12, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
					lVar14 = lVar16;
					if (lVar1 == 0) {
						while (true) {
							iVar6 = (int)lVar14;
							uVar3 = FUN_1003391c(iVar17, iVar6);
							lVar2 = lVar16;
							if ((int)uVar3 == 0)
								break;
							lVar14 = lVar14 + -1;
						}
						while (true) {
							uVar3 = FUN_100339cc(iVar17, (int)lVar2);
							if ((int)uVar3 == 0)
								break;
							lVar2 = lVar2 + 1;
						}
						lVar15 = lVar14 + 1;
						lVar19 = (lVar2 + -1) - lVar15;
						if ((1 < (int)lVar19) && (*(char *)((int)uVar21 + (int)lVar2 + -1) != '\a' && *(char *)((int)uVar21 + iVar6 + 1) != '\a')) {
							lVar19 = random(0, lVar19 + -1, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10,
							    (char)lVar11, (char)lVar12, in_stack_ffffff98, in_stack_ffffff9f,
							    in_stack_ffffffab);
							lVar14 = lVar14 + uVar21;
							while (true) {
								lVar14 = lVar14 + 1;
								if ((int)(lVar2 + -1) < (int)lVar15)
									break;
								if ((int)lVar15 != iVar6 + (int)lVar19 + 2) {
									pcVar22 = (char *)lVar14;
									if (*pcVar22 == '\a') {
										lVar4 = random(0, 2, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10,
										    (char)lVar11, (char)lVar12, in_stack_ffffff98,
										    in_stack_ffffff9f, in_stack_ffffffab);
										if ((int)lVar4 == 0) {
											*pcVar22 = -0x77;
										} else {
											*pcVar22 = -0x79;
										}
									}
									if (*pcVar22 == '\n') {
										*pcVar22 = -0x7d;
									}
									if (*pcVar22 == '~') {
										*pcVar22 = -0x7b;
									}
									if (*pcVar22 == -0x7f) {
										*pcVar22 = -0x7b;
									}
									if (*pcVar22 == '\x02') {
										*pcVar22 = -0x75;
									}
									if (*pcVar22 == -0x7a) {
										*pcVar22 = -0x76;
									}
									if (*pcVar22 == -0x78) {
										*pcVar22 = -0x76;
									}
								}
								lVar15 = lVar15 + 1;
							}
						}
					}
					lVar14 = lVar13;
					if ((int)lVar1 == 1) {
						while (true) {
							uVar3 = FUN_10033a5c((int)lVar14, iVar5);
							lVar1 = lVar13;
							if ((int)uVar3 == 0)
								break;
							lVar14 = lVar14 + -1;
						}
						while (true) {
							uVar3 = FUN_10033b0c((int)lVar1, iVar5);
							if ((int)uVar3 == 0)
								break;
							lVar1 = lVar1 + 1;
						}
						lVar19 = uVar20 + (lVar14 + 1) * 0x28;
						lVar15 = lVar14 + 1;
						lVar2 = (lVar1 + -1) - lVar15;
						if ((1 < (int)lVar2) && (*(char *)((int)uVar20 + ((int)lVar1 + -1) * 0x28) != '\a' && *(char *)lVar19 != '\a')) {
							lVar2 = random(0, lVar2 + -1, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10,
							    (char)lVar11, (char)lVar12, in_stack_ffffff98, in_stack_ffffff9f,
							    in_stack_ffffffab);
							while ((int)lVar15 <= (int)(lVar1 + -1)) {
								if ((int)lVar15 != (int)lVar14 + (int)lVar2 + 2) {
									pcVar22 = (char *)lVar19;
									if (*pcVar22 == '\a') {
										lVar4 = random(0, 2, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10,
										    (char)lVar11, (char)lVar12, in_stack_ffffff98,
										    in_stack_ffffff9f, in_stack_ffffffab);
										if ((int)lVar4 == 0) {
											*pcVar22 = -0x78;
										} else {
											*pcVar22 = -0x7a;
										}
									}
									if (*pcVar22 == '\t') {
										*pcVar22 = -0x7e;
									}
									if (*pcVar22 == 'y') {
										*pcVar22 = -0x7c;
									}
									if (*pcVar22 == '|') {
										*pcVar22 = -0x7c;
									}
									if (*pcVar22 == '\x04') {
										*pcVar22 = -0x74;
									}
									if (*pcVar22 == -0x79) {
										*pcVar22 = -0x76;
									}
									if (*pcVar22 == -0x77) {
										*pcVar22 = -0x76;
									}
								}
								lVar19 = lVar19 + 0x28;
								lVar15 = lVar15 + 1;
							}
						}
					}
				}
			}
			lVar13 = lVar13 + 1;
			uVar21 = uVar21 + 0x28;
			uVar23 = uVar23 + 0x28;
		} while ((int)lVar13 < 0x28);
		lVar16 = lVar16 + 1;
		uVar20 = uVar20 + 1;
	} while ((int)lVar16 < 0x28);
	FUN_10033b9c();
	FUN_10033cc4();
	return;
}

undefined8
FUN_100344d0(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	uint *puVar2;
	uint *puVar3;
	bool bVar4;
	byte bVar5;
	byte bVar6;
	undefined **ppuVar7;
	longlong lVar8;
	longlong lVar9;
	undefined8 uVar10;
	char *pcVar11;
	longlong lVar12;
	char *pcVar13;
	longlong lVar14;
	int iVar15;
	int iVar16;
	int iVar17;
	ulonglong uVar18;
	ulonglong uVar19;
	ulonglong uVar20;
	uint uVar21;
	ulonglong uVar22;
	uint uVar23;
	int iVar24;
	longlong lVar25;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	bVar6 = bRam100f8ba3;
	bVar5 = DAT_100f8ba2;
	ppuVar7 = &toc;
	uVar18 = ZEXT48(PTR_DAT_100f1abc);
	uVar19 = ZEXT48(PTR_DAT_100f1804);
	uVar22 = (ulonglong)DAT_100f8ba2;
	uVar20 = (ulonglong)bRam100f8ba3;
	lVar25 = 0x28 - uVar22;
	lVar8 = random(0, lVar25, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8,
	    in_stack_ffffffaf, in_stack_ffffffbb);
	lVar9 = random(0, 0x28 - uVar20, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
	bVar4 = false;
	iVar16 = 0;
	while (true) {
		uVar23 = (uint)bVar5;
		uVar21 = (uint)bVar6;
		iVar24 = (int)lVar8;
		if ((bVar4) || (199 < iVar16))
			break;
		pcVar11 = (char *)0x100f8ba4;
		lVar12 = uVar19 + lVar9;
		lVar14 = uVar18 + lVar9;
		iVar16 = iVar16 + 1;
		bVar4 = true;
		iVar17 = 0;
		while ((iVar17 < (int)uVar21 && (bVar4))) {
			iVar15 = 0;
			pcVar13 = pcVar11;
			while ((iVar15 < (int)uVar23 && (bVar4))) {
				if ((*pcVar13 != '\0') && (*pcVar13 != *(char *)((int)lVar12 + (iVar24 + iVar15) * 0x28))) {
					bVar4 = false;
				}
				if (*(char *)((int)lVar14 + (iVar24 + iVar15) * 0x28) != '\0') {
					bVar4 = false;
				}
				pcVar13 = pcVar13 + 1;
				pcVar11 = pcVar11 + 1;
				iVar15 = iVar15 + 1;
			}
			lVar12 = lVar12 + 1;
			lVar14 = lVar14 + 1;
			iVar17 = iVar17 + 1;
		}
		if ((!bVar4) && (lVar8 = lVar8 + 1, (int)lVar8 == (int)lVar25)) {
			lVar9 = lVar9 + 1;
			lVar8 = 0;
			if ((int)lVar9 == (int)(0x28 - uVar20)) {
				lVar9 = 0;
			}
		}
	}
	if (iVar16 < 200) {
		lVar8 = uVar19 + lVar9;
		lVar25 = uVar18 + lVar9;
		pcVar11 = (char *)(uVar21 * uVar23 + 0x100f8ba4);
		iVar16 = 0;
		while (iVar16 < (int)uVar21) {
			iVar17 = 0;
			uVar18 = uVar22;
			pcVar13 = pcVar11;
			if (bVar5 != 0) {
				do {
					if (*pcVar11 != '\0') {
						*(char *)((int)lVar8 + (iVar24 + iVar17) * 0x28) = *pcVar11;
					}
					pcVar11 = pcVar11 + 1;
					iVar15 = (iVar24 + iVar17) * 0x28;
					pcVar13 = pcVar13 + 1;
					iVar17 = iVar17 + 1;
					*(byte *)((int)lVar25 + iVar15) = *(byte *)((int)lVar25 + iVar15) | 0x80;
					uVar18 = uVar18 - 1;
				} while (uVar18 != 0);
			}
			pcVar11 = pcVar13;
			lVar8 = lVar8 + 1;
			lVar25 = lVar25 + 1;
			iVar16 = iVar16 + 1;
		}
		uVar10 = 0;
		puVar1 = (undefined4 *)ppuVar7[-0x1d54];
		*(int *)ppuVar7[-0x1d53] = iVar24;
		puVar2 = (uint *)ppuVar7[-0x1d55];
		*puVar1 = (int)lVar9;
		puVar3 = (uint *)ppuVar7[-0x1d56];
		*puVar2 = uVar23;
		*puVar3 = uVar21;
	} else {
		uVar10 = 1;
	}
	return uVar10;
}

void FUN_100346c4(void)

{
	undefined *puVar1;
	char *pcVar2;
	undefined *puVar3;
	char *pcVar4;
	int iVar5;
	int iVar6;
	longlong lVar7;

	puVar1 = PTR_DAT_100f1804;
	iVar6 = 0;
	pcVar4 = PTR_DAT_100f1804;
	do {
		lVar7 = 0x28;
		iVar5 = 0;
		pcVar2 = pcVar4;
		do {
			if ((((*pcVar2 == '}') && (pcVar2[0x28] == '}')) && (pcVar2[1] == '}')) && (pcVar2[0x29] == '}')) {
				puVar3 = puVar1 + iVar6 + iVar5 * 0x28;
				puVar1[iVar5 * 0x28 + iVar6] = 0x9c;
				puVar3[0x28] = 0x9b;
				puVar3[1] = 0x99;
				puVar3[0x29] = 0x9a;
				return;
			}
			if ((*pcVar2 == '\x05') && (pcVar2[0x29] == '\a')) {
				*pcVar2 = '\a';
			}
			pcVar2 = pcVar2 + 0x28;
			iVar5 = iVar5 + 1;
			lVar7 = lVar7 + -1;
		} while (lVar7 != 0);
		iVar6 = iVar6 + 1;
		pcVar4 = pcVar4 + 1;
		if (0x27 < iVar6) {
			return;
		}
	} while (true);
}

void FUN_10034780(void)

{
	char *pcVar1;
	char *pcVar2;
	char *pcVar3;
	int iVar4;
	longlong lVar5;

	pcVar3 = PTR_DAT_100f1804;
	iVar4 = 0;
	pcVar2 = PTR_DAT_100f1804;
	do {
		lVar5 = 4;
		pcVar1 = pcVar2;
		do {
			if ((*pcVar1 == '\x05') && (pcVar1[0x29] == '\a')) {
				*pcVar1 = '\a';
			}
			if ((pcVar1[0x28] == '\x05') && (pcVar1[0x51] == '\a')) {
				pcVar1[0x28] = '\a';
			}
			if ((pcVar1[0x50] == '\x05') && (pcVar1[0x79] == '\a')) {
				pcVar1[0x50] = '\a';
			}
			if ((pcVar1[0x78] == '\x05') && (pcVar1[0xa1] == '\a')) {
				pcVar1[0x78] = '\a';
			}
			if ((pcVar1[0xa0] == '\x05') && (pcVar1[0xc9] == '\a')) {
				pcVar1[0xa0] = '\a';
			}
			if ((pcVar1[200] == '\x05') && (pcVar1[0xf1] == '\a')) {
				pcVar1[200] = '\a';
			}
			if ((pcVar1[0xf0] == '\x05') && (pcVar1[0x119] == '\a')) {
				pcVar1[0xf0] = '\a';
			}
			if ((pcVar1[0x118] == '\x05') && (pcVar1[0x141] == '\a')) {
				pcVar1[0x118] = '\a';
			}
			if ((pcVar1[0x140] == '\x05') && (pcVar1[0x169] == '\a')) {
				pcVar1[0x140] = '\a';
			}
			if ((pcVar1[0x168] == '\x05') && (pcVar1[0x191] == '\a')) {
				pcVar1[0x168] = '\a';
			}
			pcVar1 = pcVar1 + 400;
			lVar5 = lVar5 + -1;
		} while (lVar5 != 0);
		iVar4 = iVar4 + 1;
		pcVar2 = pcVar2 + 1;
	} while (iVar4 < 0x28);
	iVar4 = 0;
	do {
		lVar5 = 0x14;
		pcVar2 = pcVar3;
		do {
			if (((*pcVar2 == '\x05') && (pcVar2[0x29] == '\f')) && (pcVar2[0x28] == '\a')) {
				*pcVar2 = '\a';
				pcVar2[1] = '\a';
				pcVar2[0x29] = '\a';
			}
			if (((*pcVar2 == '\x05') && (pcVar2[0x29] == '\f')) && (pcVar2[1] == '\a')) {
				*pcVar2 = '\a';
				pcVar2[0x28] = '\a';
				pcVar2[0x29] = '\a';
			}
			pcVar1 = pcVar2 + 0x28;
			if (((*pcVar1 == '\x05') && (pcVar2[0x51] == '\f')) && (pcVar2[0x50] == '\a')) {
				*pcVar1 = '\a';
				pcVar2[0x29] = '\a';
				pcVar2[0x51] = '\a';
			}
			if (((*pcVar1 == '\x05') && (pcVar2[0x51] == '\f')) && (pcVar2[0x29] == '\a')) {
				*pcVar1 = '\a';
				pcVar2[0x50] = '\a';
				pcVar2[0x51] = '\a';
			}
			pcVar2 = pcVar2 + 0x50;
			lVar5 = lVar5 + -1;
		} while (lVar5 != 0);
		iVar4 = iVar4 + 1;
		pcVar3 = pcVar3 + 1;
	} while (iVar4 < 0x28);
	return;
}

void FUN_100349f8(int param_1, int param_2, char param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	longlong lVar3;
	longlong lVar4;
	uint *puVar7;
	longlong lVar5;
	char *pcVar8;
	longlong lVar6;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	int *piVar12;
	longlong lVar13;
	ulonglong uVar14;
	ulonglong uVar15;
	longlong lVar16;
	ulonglong uVar17;
	undefined4 in_stack_ffffffa8;

	puVar2 = PTR_DAT_100f1cc0;
	lVar13 = (longlong)param_8;
	lVar11 = (longlong)param_7;
	lVar10 = (longlong)param_6;
	lVar6 = (longlong)param_5;
	lVar9 = (longlong)param_4;
	lVar3 = (longlong)param_3;
	uVar15 = SEXT48(param_2);
	uVar14 = SEXT48(param_1);
	uVar17 = ZEXT48(PTR_DAT_100f1cc4);
	lVar16 = 0;
	lVar4 = DiabloAllocPtr(24000);
	do {
		if (0 < (int)lVar16) {
			lVar16 = lVar16 + -1;
			puVar7 = (uint *)((int)lVar4 + (int)lVar16 * 0xc);
			uVar14 = (ulonglong)*puVar7;
			uVar15 = (ulonglong)puVar7[1];
		}
		lVar5 = uVar17 + uVar14 * 0x28 + uVar15;
		lVar5._7_1_ = (undefined)lVar5;
		pcVar8 = (char *)lVar5;
		if (*pcVar8 != '\0') {
			lVar9 = lVar16 + 1;
			*pcVar8 = '\0';
			lVar6 = lVar16 + 2;
			lVar3 = lVar16 + 3;
			piVar12 = (int *)((int)lVar4 + (int)lVar16 * 0xc);
			iVar1 = (int)uVar14;
			*(int *)puVar2 = *(int *)puVar2 + 1;
			lVar16 = lVar16 + 4;
			*piVar12 = iVar1 + 1;
			piVar12[1] = (int)uVar15;
			lVar11 = lVar4 + lVar9 * 0xc;
			piVar12[2] = 4;
			piVar12 = (int *)lVar11;
			*piVar12 = iVar1 + -1;
			lVar9 = uVar15 + 1;
			lVar10 = lVar4 + lVar6 * 0xc;
			lVar5._7_1_ = (undefined)(uVar15 - 1);
			piVar12[1] = (int)uVar15;
			lVar6 = 3;
			piVar12[2] = 3;
			piVar12 = (int *)lVar10;
			*piVar12 = iVar1;
			lVar13 = lVar4 + lVar3 * 0xc;
			piVar12[1] = (int)lVar9;
			lVar3 = 2;
			piVar12[2] = 2;
			piVar12 = (int *)lVar13;
			*piVar12 = iVar1;
			piVar12[1] = (int)(uVar15 - 1);
			piVar12[2] = 1;
		}
	} while (0 < (int)lVar16);
	mem_free_dbg(lVar4, (undefined)lVar5, (char)lVar3, (char)lVar9, (char)lVar6, (char)lVar10, (char)lVar11,
	    (char)lVar13, in_stack_ffffffa8);
	return;
}

ulonglong FUN_10034b0c(int param_1, int param_2, undefined param_3, undefined param_4, undefined param_5, undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	char cVar1;
	undefined *puVar2;
	char *pcVar4;
	ulonglong uVar3;
	undefined *puVar6;
	ulonglong uVar5;
	ulonglong uVar7;
	ulonglong uVar8;
	int iVar9;
	int iVar10;
	int iVar11;
	longlong lVar12;
	undefined4 in_stack_ffffffc8;

	puVar2 = PTR_DAT_100f1cc0;
	iVar10 = 0;
	uVar7 = ZEXT48(PTR_DAT_100f1804);
	iVar11 = 0;
	uVar8 = ZEXT48(PTR_DAT_100f1cc4);
	do {
		lVar12 = 5;
		iVar9 = 0;
		uVar3 = uVar7;
		uVar5 = uVar8;
		do {
			pcVar4 = (char *)uVar3;
			puVar6 = (undefined *)uVar5;
			if (*pcVar4 == '\0') {
				*puVar6 = 0;
			} else {
				*puVar6 = 1;
				iVar11 = iVar11 + 1;
				param_2 = iVar10;
				param_1 = iVar9;
			}
			if (pcVar4[0x28] == '\0') {
				puVar6[0x28] = 0;
			} else {
				puVar6[0x28] = 1;
				iVar11 = iVar11 + 1;
				param_2 = iVar10;
				param_1 = iVar9 + 1;
			}
			if (pcVar4[0x50] == '\0') {
				puVar6[0x50] = 0;
			} else {
				puVar6[0x50] = 1;
				iVar11 = iVar11 + 1;
				param_2 = iVar10;
				param_1 = iVar9 + 2;
			}
			if (pcVar4[0x78] == '\0') {
				puVar6[0x78] = 0;
			} else {
				puVar6[0x78] = 1;
				iVar11 = iVar11 + 1;
				param_2 = iVar10;
				param_1 = iVar9 + 3;
			}
			if (pcVar4[0xa0] == '\0') {
				puVar6[0xa0] = 0;
			} else {
				puVar6[0xa0] = 1;
				iVar11 = iVar11 + 1;
				param_2 = iVar10;
				param_1 = iVar9 + 4;
			}
			if (pcVar4[200] == '\0') {
				puVar6[200] = 0;
			} else {
				puVar6[200] = 1;
				iVar11 = iVar11 + 1;
				param_2 = iVar10;
				param_1 = iVar9 + 5;
			}
			if (pcVar4[0xf0] == '\0') {
				puVar6[0xf0] = 0;
			} else {
				puVar6[0xf0] = 1;
				iVar11 = iVar11 + 1;
				param_2 = iVar10;
				param_1 = iVar9 + 6;
			}
			cVar1 = pcVar4[0x118];
			if (cVar1 == '\0') {
				puVar6[0x118] = 0;
			} else {
				puVar6[0x118] = 1;
				iVar11 = iVar11 + 1;
				param_2 = iVar10;
				param_1 = iVar9 + 7;
			}
			uVar3 = uVar3 + 0x140;
			uVar5 = uVar5 + 0x140;
			iVar9 = iVar9 + 8;
			lVar12 = lVar12 + -1;
		} while (lVar12 != 0);
		iVar10 = iVar10 + 1;
		uVar8 = uVar8 + 1;
		uVar7 = uVar7 + 1;
	} while (iVar10 < 0x28);
	*(undefined4 *)puVar2 = 0;
	FUN_100349f8(param_1, param_2, 1, cVar1, (char)uVar3, (char)uVar5, (char)uVar7, (char)uVar8,
	    in_stack_ffffffc8);
	return (ulonglong)(iVar11 == *(int *)puVar2);
}

void DRLG_L3(int param_1, char param_2, char param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	longlong lVar3;
	longlong lVar4;
	undefined8 uVar5;
	undefined uVar8;
	ulonglong uVar6;
	undefined uVar9;
	undefined *puVar7;
	undefined uVar10;
	ulonglong uVar11;
	undefined *puVar12;
	undefined uVar13;
	undefined uVar14;
	char cVar15;
	longlong lVar16;
	longlong lVar17;
	undefined uVar18;
	longlong lVar19;
	undefined uVar20;
	longlong lVar21;
	undefined uVar22;
	ulonglong uVar23;
	longlong lVar24;
	int iVar25;
	undefined *puVar26;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;
	undefined in_stack_ffffff9b;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;

	puVar2 = PTR_DAT_100f1820;
	puVar12 = PTR_DAT_100f181c;
	puVar26 = PTR_DAT_100f1804;
	puVar7 = PTR_DAT_100f17ec;
	lVar21 = (longlong)param_8;
	lVar19 = (longlong)param_7;
	lVar17 = (longlong)param_6;
	lVar16 = (longlong)param_5;
	lVar3 = (longlong)param_4;
	lVar4 = (longlong)param_3;
	uVar23 = SEXT18(param_2);
	uVar6 = SEXT48(param_1);
	uVar11 = ZEXT48(&toc);
	DAT_100f40d8 = 0;
	do {
		do {
			do {
				uVar8 = (undefined)lVar4;
				uVar13 = (undefined)lVar3;
				FUN_10031474((char)uVar6, (char)uVar23, uVar8, uVar13, (char)lVar16, (char)lVar17, (char)lVar19,
				    (char)lVar21, in_stack_ffffff88);
				lVar3 = random(0, 0x14, uVar8, uVar13, (char)lVar16, (char)lVar17, (char)lVar19, (char)lVar21, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff9b);
				lVar24 = lVar3 + 10;
				lVar4 = random(0, 0x14, uVar8, uVar13, (char)lVar16, (char)lVar17, (char)lVar19, (char)lVar21, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff9b);
				uVar23 = lVar4 + 10;
				FUN_10031528((int)lVar24, (int)uVar23, (int)(lVar3 + 0xc), (int)(lVar4 + 0xc), (char)lVar16,
				    (char)lVar17, (char)lVar19, (char)lVar21, in_stack_ffffff88);
				FUN_10031790(lVar24, uVar23, 2, 0, (char)lVar16, (char)lVar17, (char)lVar19, (char)lVar21,
				    in_stack_ffffff88);
				FUN_10031790(lVar3 + 0xc, uVar23, 2, 1, (char)lVar16, (char)lVar17, (char)lVar19, (char)lVar21,
				    in_stack_ffffff88);
				FUN_10031790(lVar24, lVar4 + 0xc, 2, 2, (char)lVar16, (char)lVar17, (char)lVar19, (char)lVar21,
				    in_stack_ffffff88);
				lVar4 = 2;
				lVar3 = 3;
				FUN_10031790(lVar24, uVar23, 2, 3, (char)lVar16, (char)lVar17, (char)lVar19, (char)lVar21,
				    in_stack_ffffff88);
				uVar5 = QuestStatus(10);
				uVar8 = (undefined)uVar5;
				uVar14 = (undefined)lVar3;
				uVar13 = (undefined)lVar4;
				if ((int)uVar5 != 0) {
					lVar24 = random(0, 10, uVar13, uVar14, (char)lVar16, (char)lVar17, (char)lVar19,
					    (char)lVar21, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff9b);
					lVar3 = random(0, 10, uVar13, uVar14, (char)lVar16, (char)lVar17, (char)lVar19,
					    (char)lVar21, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff9b);
					uVar23 = lVar3 + 10;
					lVar4 = lVar24 + 0x16;
					lVar3 = lVar3 + 0x16;
					uVar8 = FUN_100319e4(lVar24 + 10, (int)uVar23, lVar4, (int)lVar3);
				}
				FUN_10031a6c(uVar8, (char)uVar23, (char)lVar4, (char)lVar3, (char)lVar16, (char)lVar17,
				    (char)lVar19, (char)lVar21, in_stack_ffffff88);
				uVar8 = FUN_10031b48();
				uVar8 = FUN_10031c44(uVar8, (char)uVar23, (char)lVar4, (char)lVar3, (char)lVar16, (char)lVar17,
				    (char)lVar19, (char)lVar21, in_stack_ffffff88);
				FUN_10031a6c(uVar8, (char)uVar23, (char)lVar4, (char)lVar3, (char)lVar16, (char)lVar17,
				    (char)lVar19, (char)lVar21, in_stack_ffffff88);
				FUN_10031f20();
				lVar24 = FUN_1003206c();
				if ((int)lVar24 < 600) {
					uVar6 = 0;
				} else {
					uVar6 = FUN_10034b0c((int)lVar24, (int)uVar23, (char)lVar4, (char)lVar3, (char)lVar16,
					    (char)lVar17, (char)lVar19, (char)lVar21, in_stack_ffffff88);
				}
			} while ((int)uVar6 == 0);
			FUN_10032314((char)uVar6, (char)uVar23, (char)lVar4, (char)lVar3, (char)lVar16, (char)lVar17,
			    (char)lVar19, (char)lVar21, in_stack_ffffff88);
			uVar8 = (undefined)lVar21;
			if (param_1 == 0) {
				uVar23 = 1;
				lVar4 = 1;
				lVar3 = -1;
				lVar16 = -1;
				lVar17 = 1;
				lVar19 = 0;
				uVar6 = FUN_10033438(ZEXT48(&DAT_100f89cc), 1, 1, -1, -1, 1, 0, uVar8, in_stack_ffffff88,
				    in_stack_ffffff8f, in_stack_ffffffac, in_stack_ffffffb0);
				if (uVar6 == 0) {
					uVar23 = 1;
					lVar4 = 1;
					lVar3 = -1;
					lVar16 = -1;
					lVar17 = 0;
					lVar19 = 1;
					uVar6 = FUN_10033438(ZEXT48(&DAT_100f89e0), 1, 1, -1, -1, 0, 1, (char)lVar21, in_stack_ffffff88,
					    in_stack_ffffff8f, in_stack_ffffffac, in_stack_ffffffb0);
				}
				iVar25 = (int)uVar6;
				if ((iVar25 == 0) && (*puVar7 == '\t')) {
					uVar23 = 1;
					lVar4 = 1;
					lVar3 = -1;
					lVar16 = -1;
					lVar17 = 0;
					lVar19 = 6;
					uVar6 = FUN_10033438(ZEXT48(&DAT_100f89f4), 1, 1, -1, -1, 0, 6, (char)lVar21, in_stack_ffffff88,
					    in_stack_ffffff8f, in_stack_ffffffac, in_stack_ffffffb0);
					iVar25 = (int)uVar6;
				}
			} else {
				if (param_1 == 1) {
					uVar23 = 1;
					lVar4 = 1;
					lVar3 = -1;
					lVar16 = -1;
					lVar17 = 0;
					lVar19 = 0;
					uVar6 = FUN_10033438(ZEXT48(&DAT_100f89cc), 1, 1, -1, -1, 0, 0, uVar8, in_stack_ffffff88,
					    in_stack_ffffff8f, in_stack_ffffffac, in_stack_ffffffb0);
					iVar25 = (int)uVar6;
					if (uVar6 == 0) {
						lVar4 = 1;
						lVar3 = -1;
						lVar16 = -1;
						lVar17 = 1;
						lVar19 = 1;
						uVar5 = FUN_10033438(ZEXT48(&DAT_100f89e0), 1, 1, -1, -1, 1, 1, (char)lVar21, in_stack_ffffff88,
						    in_stack_ffffff8f, in_stack_ffffffac, in_stack_ffffffb0);
						iVar25 = (int)uVar5;
						uVar1 = *(uint *)puVar2;
						uVar23 = (ulonglong)uVar1;
						*(uint *)puVar2 = uVar1 + 2;
						uVar1 = *(uint *)puVar12;
						uVar6 = (ulonglong)uVar1;
						*(uint *)puVar12 = uVar1 - 2;
					}
					if ((iVar25 == 0) && (*puVar7 == '\t')) {
						uVar23 = 1;
						lVar4 = 1;
						lVar3 = -1;
						lVar16 = -1;
						lVar17 = 0;
						lVar19 = 6;
						uVar6 = FUN_10033438(ZEXT48(&DAT_100f89f4), 1, 1, -1, -1, 0, 6, (char)lVar21, in_stack_ffffff88,
						    in_stack_ffffff8f, in_stack_ffffffac, in_stack_ffffffb0);
						iVar25 = (int)uVar6;
					}
				} else {
					uVar23 = 1;
					lVar4 = 1;
					lVar3 = -1;
					lVar16 = -1;
					lVar17 = 0;
					lVar19 = 0;
					uVar6 = FUN_10033438(ZEXT48(&DAT_100f89cc), 1, 1, -1, -1, 0, 0, uVar8, in_stack_ffffff88,
					    in_stack_ffffff8f, in_stack_ffffffac, in_stack_ffffffb0);
					if (uVar6 == 0) {
						uVar23 = 1;
						lVar4 = 1;
						lVar3 = -1;
						lVar16 = -1;
						lVar17 = 0;
						lVar19 = 1;
						uVar6 = FUN_10033438(ZEXT48(&DAT_100f89e0), 1, 1, -1, -1, 0, 1, (char)lVar21, in_stack_ffffff88,
						    in_stack_ffffff8f, in_stack_ffffffac, in_stack_ffffffb0);
					}
					iVar25 = (int)uVar6;
					if ((iVar25 == 0) && (*puVar7 == '\t')) {
						uVar23 = 1;
						lVar4 = 1;
						lVar3 = -1;
						lVar16 = -1;
						lVar17 = 1;
						lVar19 = 6;
						uVar6 = FUN_10033438(ZEXT48(&DAT_100f89f4), 1, 1, -1, -1, 1, 6, (char)lVar21, in_stack_ffffff88,
						    in_stack_ffffff8f, in_stack_ffffffac, in_stack_ffffffb0);
						iVar25 = (int)uVar6;
					}
				}
			}
			if ((iVar25 == 0) && (uVar6 = QuestStatus(10), (int)uVar6 != 0)) {
				uVar6 = FUN_100344d0((char)uVar6, (char)uVar23, (char)lVar4, (char)lVar3, (char)lVar16,
				    (char)lVar17, (char)lVar19, (char)lVar21, in_stack_ffffff88);
				iVar25 = (int)uVar6;
			}
		} while (iVar25 == 1);
		uVar6 = FUN_10033164((char)uVar6, (char)uVar23, (char)lVar4, (char)lVar3, (char)lVar16, (char)lVar17,
		    (char)lVar19, (char)lVar21, in_stack_ffffff88);
		uVar22 = (undefined)lVar21;
		uVar20 = (undefined)lVar19;
		uVar18 = (undefined)lVar17;
		uVar14 = (undefined)lVar16;
		uVar13 = (undefined)lVar3;
		uVar8 = (undefined)lVar4;
		iVar25 = (int)uVar11;
	} while (*(char *)(iVar25 + -0x4ef8) == '\0');
	FUN_10033354();
	FUN_100346c4();
	FUN_1003370c(&DAT_100f8b60, 0x46, uVar8, uVar13, uVar14, uVar18, uVar20, uVar22, in_stack_ffffff88);
	FUN_1003370c(&DAT_100f8b6e, 0x46, uVar8, uVar13, uVar14, uVar18, uVar20, uVar22, in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x454), 0x1e, uVar8, uVar13, uVar14, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x446), 0x1e, uVar8, uVar13, uVar14, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c(&DAT_100f8b60, 100, uVar8, uVar13, uVar14, uVar18, uVar20, uVar22, in_stack_ffffff88);
	FUN_1003370c(&DAT_100f8b6e, 100, uVar8, uVar13, uVar14, uVar18, uVar20, uVar22, in_stack_ffffff88);
	uVar10 = 0x5a;
	FUN_1003370c((byte *)(iVar25 + -0x438), 0x5a, uVar8, uVar13, uVar14, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	uVar9 = FUN_10034780();
	FUN_10032498(uVar9, uVar10, uVar8, uVar13, uVar14, uVar18, uVar20, uVar22, in_stack_ffffff88);
	uVar5 = QuestStatus(10);
	if ((int)uVar5 != 0) {
		puVar7 = puVar26 + **(int **)(iVar25 + -0x7550) + **(int **)(iVar25 + -0x754c) * 0x28;
		puVar7[0x11d] = 7;
		puVar7[0x145] = 7;
		puVar7[0x16d] = 7;
		if ((puVar7[0x195] == '\x11') || (puVar7[0x195] == '\x12')) {
			puVar7[0x195] = 0x2d;
		}
	}
	uVar13 = 10;
	uVar14 = 7;
	uVar9 = 0;
	uVar10 = 0;
	uVar8 = DRLG_PlaceThemeRooms(5, 10, 7, 0, 0, uVar18, uVar20, uVar22, in_stack_ffffff88);
	FUN_10033e84(uVar8, uVar13, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22, in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x5c8), 10, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x5a6), 10, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x584), 10, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x562), 0x14, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x538), 0x14, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x50e), 0x14, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x4fa), 0x14, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x4e6), 0x14, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x4d2), 0x1e, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x4be), 0x14, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x4b8), 0x14, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x4b2), 0x1e, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x4ac), 0x1e, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x4a6), 0x1e, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x4a0), 0x1e, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x49a), 0x1e, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x494), 0x1e, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x48e), 0x1e, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x488), 0x1e, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x482), 0x1e, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x47c), 0x1e, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x476), 0x1e, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x4f10), 0x19, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x4f0c), 0x19, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x4f08), 0x19, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	FUN_1003370c((byte *)(iVar25 + -0x4f04), 0x19, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	uVar13 = 0x19;
	uVar8 = FUN_1003370c((byte *)(iVar25 + -0x4f00), 0x19, uVar14, uVar9, uVar10, uVar18, uVar20, uVar22,
	    in_stack_ffffff88);
	uVar11 = (ulonglong) * (uint *)(iVar25 + -0x7540);
	lVar3 = 0x14;
	cVar15 = '\0';
	do {
		puVar12 = (undefined *)uVar11;
		*puVar12 = *puVar26;
		puVar12[0x28] = puVar26[0x28];
		puVar12[0x50] = puVar26[0x50];
		puVar12[0x78] = puVar26[0x78];
		puVar12[0xa0] = puVar26[0xa0];
		puVar12[200] = puVar26[200];
		puVar12[0xf0] = puVar26[0xf0];
		puVar12[0x118] = puVar26[0x118];
		puVar12[0x140] = puVar26[0x140];
		puVar12[0x168] = puVar26[0x168];
		puVar12[400] = puVar26[400];
		puVar12[0x1b8] = puVar26[0x1b8];
		puVar12[0x1e0] = puVar26[0x1e0];
		puVar12[0x208] = puVar26[0x208];
		puVar12[0x230] = puVar26[0x230];
		puVar12[600] = puVar26[600];
		puVar12[0x280] = puVar26[0x280];
		puVar12[0x2a8] = puVar26[0x2a8];
		puVar12[0x2d0] = puVar26[0x2d0];
		puVar12[0x2f8] = puVar26[0x2f8];
		puVar12[800] = puVar26[800];
		puVar12[0x348] = puVar26[0x348];
		puVar12[0x370] = puVar26[0x370];
		puVar12[0x398] = puVar26[0x398];
		puVar12[0x3c0] = puVar26[0x3c0];
		puVar12[1000] = puVar26[1000];
		puVar12[0x410] = puVar26[0x410];
		puVar12[0x438] = puVar26[0x438];
		puVar12[0x460] = puVar26[0x460];
		puVar12[0x488] = puVar26[0x488];
		puVar12[0x4b0] = puVar26[0x4b0];
		puVar12[0x4d8] = puVar26[0x4d8];
		puVar12[0x500] = puVar26[0x500];
		puVar12[0x528] = puVar26[0x528];
		puVar12[0x550] = puVar26[0x550];
		puVar12[0x578] = puVar26[0x578];
		puVar12[0x5a0] = puVar26[0x5a0];
		puVar12[0x5c8] = puVar26[0x5c8];
		puVar12[0x5f0] = puVar26[0x5f0];
		puVar12[0x618] = puVar26[0x618];
		cVar15 = cVar15 + '\x01';
		puVar12[1] = puVar26[1];
		puVar12[0x29] = puVar26[0x29];
		puVar12[0x51] = puVar26[0x51];
		puVar12[0x79] = puVar26[0x79];
		puVar12[0xa1] = puVar26[0xa1];
		puVar12[0xc9] = puVar26[0xc9];
		puVar12[0xf1] = puVar26[0xf1];
		puVar12[0x119] = puVar26[0x119];
		puVar12[0x141] = puVar26[0x141];
		puVar12[0x169] = puVar26[0x169];
		puVar12[0x191] = puVar26[0x191];
		puVar12[0x1b9] = puVar26[0x1b9];
		puVar12[0x1e1] = puVar26[0x1e1];
		puVar12[0x209] = puVar26[0x209];
		puVar12[0x231] = puVar26[0x231];
		puVar12[0x259] = puVar26[0x259];
		puVar12[0x281] = puVar26[0x281];
		puVar12[0x2a9] = puVar26[0x2a9];
		puVar12[0x2d1] = puVar26[0x2d1];
		puVar12[0x2f9] = puVar26[0x2f9];
		puVar12[0x321] = puVar26[0x321];
		puVar12[0x349] = puVar26[0x349];
		puVar12[0x371] = puVar26[0x371];
		puVar12[0x399] = puVar26[0x399];
		puVar12[0x3c1] = puVar26[0x3c1];
		puVar12[0x3e9] = puVar26[0x3e9];
		puVar12[0x411] = puVar26[0x411];
		puVar12[0x439] = puVar26[0x439];
		puVar12[0x461] = puVar26[0x461];
		puVar12[0x489] = puVar26[0x489];
		puVar12[0x4b1] = puVar26[0x4b1];
		puVar12[0x4d9] = puVar26[0x4d9];
		puVar12[0x501] = puVar26[0x501];
		puVar12[0x529] = puVar26[0x529];
		puVar12[0x551] = puVar26[0x551];
		puVar12[0x579] = puVar26[0x579];
		puVar12[0x5a1] = puVar26[0x5a1];
		puVar12[0x5c9] = puVar26[0x5c9];
		puVar12[0x5f1] = puVar26[0x5f1];
		puVar7 = puVar26 + 0x619;
		puVar26 = puVar26 + 2;
		puVar12[0x619] = *puVar7;
		uVar11 = uVar11 + 2;
		lVar3 = lVar3 + -1;
	} while (lVar3 != 0);
	DRLG_Init_Globals(uVar8, uVar13, (char)uVar11, cVar15, uVar10, uVar18, uVar20, uVar22, in_stack_ffffff88);
	return;
}

void DRLG_L3Pass3(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	short sVar6;
	longlong lVar5;
	undefined **ppuVar7;
	ulonglong uVar8;
	ulonglong uVar9;
	short sVar11;
	longlong lVar10;
	short sVar12;
	longlong lVar13;
	short sVar17;
	int iVar14;
	int iVar15;
	int iVar16;
	int iVar18;
	int iVar19;
	longlong lVar20;
	longlong lVar21;
	undefined4 in_stack_ffffffb8;

	puVar4 = PTR_DAT_100f1a64;
	puVar3 = PTR_DAT_100f1a54;
	ppuVar7 = &toc;
	uVar8 = FUN_100b8f7c((ulonglong) * (uint *)PTR_DAT_100f1a64, param_2, param_3, param_4, param_5, param_6,
	    param_7, param_8, in_stack_ffffffb8);
	iVar2 = (int)uVar8;
	sVar11 = CONCAT11(*(undefined *)(iVar2 + 0x39), *(undefined *)(iVar2 + 0x38)) + 1;
	sVar12 = CONCAT11(*(undefined *)(iVar2 + 0x3b), *(undefined *)(iVar2 + 0x3a)) + 1;
	sVar17 = CONCAT11(*(undefined *)(iVar2 + 0x3d), *(undefined *)(iVar2 + 0x3c)) + 1;
	iVar19 = 0;
	sVar6 = CONCAT11(*(undefined *)(iVar2 + 0x3f), *(undefined *)(iVar2 + 0x3e)) + 1;
	iVar18 = 0;
	do {
		lVar20 = 0xe;
		iVar14 = 0;
		do {
			*(short *)(iVar18 + *(int *)puVar3 + iVar14) = sVar11;
			*(short *)(iVar18 + *(int *)puVar3 + iVar14 + 0xe0) = sVar12;
			*(short *)(iVar18 + *(int *)puVar3 + iVar14 + 2) = sVar17;
			iVar15 = iVar14 + 0x1c0;
			*(short *)(iVar18 + *(int *)puVar3 + iVar14 + 0xe2) = sVar6;
			*(short *)(iVar18 + *(int *)puVar3 + iVar15) = sVar11;
			*(short *)(iVar18 + *(int *)puVar3 + iVar15 + 0xe0) = sVar12;
			*(short *)(iVar18 + *(int *)puVar3 + iVar15 + 2) = sVar17;
			iVar16 = iVar14 + 0x380;
			*(short *)(iVar18 + *(int *)puVar3 + iVar15 + 0xe2) = sVar6;
			*(short *)(iVar18 + *(int *)puVar3 + iVar16) = sVar11;
			*(short *)(iVar18 + *(int *)puVar3 + iVar16 + 0xe0) = sVar12;
			*(short *)(iVar18 + *(int *)puVar3 + iVar16 + 2) = sVar17;
			iVar15 = iVar14 + 0x540;
			*(short *)(iVar18 + *(int *)puVar3 + iVar16 + 0xe2) = sVar6;
			*(short *)(iVar18 + *(int *)puVar3 + iVar15) = sVar11;
			*(short *)(iVar18 + *(int *)puVar3 + iVar15 + 0xe0) = sVar12;
			*(short *)(iVar18 + *(int *)puVar3 + iVar15 + 2) = sVar17;
			iVar14 = iVar14 + 0x700;
			*(short *)(iVar18 + *(int *)puVar3 + iVar15 + 0xe2) = sVar6;
			lVar20 = lVar20 + -1;
		} while (lVar20 != 0);
		iVar19 = iVar19 + 2;
		iVar18 = iVar18 + 4;
	} while (iVar19 < 0x70);
	uVar8 = ZEXT48(ppuVar7[-0x1df3]);
	lVar13 = 0;
	lVar20 = 0x20;
	do {
		lVar21 = 0x28;
		lVar10 = 0xe00;
		uVar9 = uVar8;
		do {
			lVar5 = (ulonglong) * (byte *)uVar9 - 1;
			if (lVar5 < 0) {
				sVar6 = 0;
				sVar11 = 0;
				sVar17 = 0;
				sVar12 = 0;
			} else {
				puVar1 = (undefined *)(iVar2 + (int)lVar5 * 8);
				sVar6 = CONCAT11(puVar1[1], *puVar1) + 1;
				sVar11 = CONCAT11(puVar1[3], puVar1[2]) + 1;
				sVar17 = CONCAT11(puVar1[5], puVar1[4]) + 1;
				sVar12 = CONCAT11(puVar1[7], puVar1[6]) + 1;
			}
			uVar9 = uVar9 + 0x28;
			iVar19 = (int)lVar10;
			iVar18 = (int)lVar20;
			*(short *)(iVar18 + *(int *)puVar3 + iVar19) = sVar6;
			*(short *)(iVar18 + *(int *)puVar3 + iVar19 + 0xe0) = sVar11;
			*(short *)(iVar18 + *(int *)puVar3 + iVar19 + 2) = sVar17;
			lVar5 = (ulonglong) * (uint *)puVar3 + lVar10;
			lVar10 = lVar10 + 0x1c0;
			*(short *)(iVar18 + (int)lVar5 + 0xe2) = sVar12;
			lVar21 = lVar21 + -1;
		} while (lVar21 != 0);
		lVar13 = lVar13 + 1;
		uVar8 = uVar8 + 1;
		lVar20 = lVar20 + 4;
	} while ((int)lVar13 < 0x28);
	FUN_100b9100(*(int *)puVar4, (char)uVar9, (char)lVar10, (char)uVar8, (char)lVar20, (char)lVar13,
	    (char)lVar5, (char)sVar12, in_stack_ffffffb8);
	return;
}

void CreateL3Dungeon(undefined4 param_1, int param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	short sVar1;
	undefined4 *puVar2;
	undefined4 *puVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	undefined8 uVar6;
	ulonglong uVar7;
	undefined8 uVar8;
	undefined7 uVar9;
	undefined uVar10;
	longlong lVar11;
	undefined uVar12;
	longlong lVar13;
	undefined uVar14;
	longlong lVar15;
	undefined uVar16;
	longlong lVar17;
	longlong lVar18;
	int iVar19;
	int iVar20;
	undefined4 in_stack_ffffffb8;

	puVar4 = PTR_DAT_100f1a54;
	uVar9 = (undefined7)((ulonglong)param_5 >> 8);
	uVar10 = (undefined)param_5;
	lVar15 = (longlong)param_8;
	lVar13 = (longlong)param_7;
	lVar11 = (longlong)param_6;
	ppuVar5 = &toc;
	SetRndSeed(param_1);
	uVar8 = 0x10;
	puVar2 = (undefined4 *)ppuVar5[-0x1d4d];
	*(undefined4 *)ppuVar5[-0x1d4c] = 0x10;
	puVar3 = (undefined4 *)ppuVar5[-0x1d4e];
	uVar7 = ZEXT48(puVar3);
	*puVar2 = 0x10;
	puVar2 = (undefined4 *)ppuVar5[-0x1d4f];
	*puVar3 = 0x60;
	*puVar2 = 0x60;
	DRLG_InitTrans((char)puVar2, (char)puVar3, 0x10, (char)param_4, uVar10, (char)lVar11, (char)lVar13,
	    (char)lVar15, in_stack_ffffffb8);
	DRLG_InitSetPC();
	uVar6 = DRLG_L3(param_2, (char)uVar7, (char)uVar8, (char)param_4, uVar10, (char)lVar11,
	    (char)lVar13, (char)lVar15, in_stack_ffffffb8);
	DRLG_L3Pass3(uVar6, uVar7, uVar8, param_4, CONCAT71(uVar9, uVar10), (int)lVar11, (int)lVar13, (int)lVar15,
	    in_stack_ffffffb8);
	lVar17 = 0;
	iVar19 = 0;
	do {
		lVar18 = 0;
		iVar20 = 0;
		do {
			sVar1 = *(short *)(iVar19 + *(int *)puVar4 + iVar20);
			uVar12 = (undefined)lVar11;
			uVar14 = (undefined)lVar13;
			uVar16 = (undefined)lVar15;
			if ((sVar1 < 0x38) || (0x93 < sVar1)) {
				if ((sVar1 < 0x9a) || (0xa1 < sVar1)) {
					if (sVar1 == 0x96) {
						DoLighting(lVar18, lVar17, 7, -1, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffb8);
					} else {
						if (sVar1 == 0x98) {
							DoLighting(lVar18, lVar17, 7, -1, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffb8);
						}
					}
				} else {
					DoLighting(lVar18, lVar17, 7, -1, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffb8);
				}
			} else {
				DoLighting(lVar18, lVar17, 7, -1, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffb8);
			}
			lVar18 = lVar18 + 1;
			iVar20 = iVar20 + 0xe0;
		} while ((int)lVar18 < 0x70);
		lVar17 = lVar17 + 1;
		iVar19 = iVar19 + 2;
	} while ((int)lVar17 < 0x70);
	DRLG_SetPC();
	return;
}

void LoadL3Dungeon(longlong param_1, undefined4 param_2, undefined4 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11, undefined4 param_12)

{
	byte bVar1;
	byte bVar2;
	short sVar3;
	undefined4 *puVar4;
	undefined4 *puVar5;
	undefined *puVar6;
	undefined **ppuVar7;
	ulonglong uVar8;
	ulonglong uVar9;
	undefined uVar10;
	undefined8 uVar11;
	char *pcVar12;
	undefined uVar13;
	undefined8 uVar14;
	longlong lVar15;
	undefined uVar16;
	ulonglong uVar17;
	int iVar19;
	longlong lVar18;
	ulonglong uVar20;
	undefined uVar21;
	ulonglong uVar22;
	undefined uVar23;
	longlong lVar24;
	undefined uVar25;
	undefined uVar26;
	undefined8 unaff_r27;
	longlong lVar27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	int iVar28;
	undefined8 unaff_r31;
	ulonglong uVar29;
	longlong lVar30;
	undefined4 in_stack_ffffffa8;
	int *local_28[5];
	undefined4 local_14;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar6 = PTR_DAT_100f1a54;
	ppuVar7 = &toc;
	local_14 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	FUN_10031474((char)param_1, (undefined)param_2, (undefined)param_3, (char)param_4, (char)param_5,
	    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffa8);
	uVar14 = 0x10;
	puVar4 = (undefined4 *)ppuVar7[-0x1d4d];
	*(undefined4 *)ppuVar7[-0x1d4c] = 0x10;
	puVar5 = (undefined4 *)ppuVar7[-0x1d4e];
	*puVar4 = 0x10;
	puVar4 = (undefined4 *)ppuVar7[-0x1d4f];
	*puVar5 = 0x60;
	*puVar4 = 0x60;
	DRLG_InitTrans((char)puVar4, (char)puVar5, 0x10, (char)param_4, (char)param_5, (char)param_6,
	    (char)param_7, (char)param_8, in_stack_ffffffa8);
	uVar11 = 0;
	uVar8 = LoadFileInMem(param_1, (undefined4 *)0x0, uVar14, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	local_28[0] = (int *)uVar8;
	uVar8 = FUN_100b8f7c(uVar8 & 0xffffffff, uVar11, uVar14, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	uVar17 = ZEXT48(ppuVar7[-0x1df3]);
	lVar24 = uVar8 + 4;
	bVar1 = *(byte *)uVar8;
	uVar20 = (ulonglong)bVar1;
	iVar19 = 0;
	bVar2 = ((byte *)uVar8)[2];
	uVar22 = (ulonglong)bVar2;
	uVar8 = uVar17;
	while (true) {
		if ((int)(uint)bVar2 <= iVar19)
			break;
		uVar9 = uVar8;
		uVar29 = uVar20;
		if (bVar1 != 0) {
			do {
				if (*(char *)lVar24 == '\0') {
					*(char *)uVar9 = '\a';
				} else {
					*(char *)uVar9 = *(char *)lVar24;
				}
				lVar24 = lVar24 + 2;
				uVar9 = uVar9 + 0x28;
				uVar29 = uVar29 - 1;
			} while (uVar29 != 0);
		}
		uVar8 = uVar8 + 1;
		iVar19 = iVar19 + 1;
	}
	lVar15 = 0;
	do {
		lVar30 = 4;
		lVar18 = 0;
		uVar8 = uVar17;
		do {
			pcVar12 = (char *)uVar8;
			if (*pcVar12 == '\0') {
				*pcVar12 = '\b';
			}
			if (pcVar12[0x28] == '\0') {
				pcVar12[0x28] = '\b';
			}
			if (pcVar12[0x50] == '\0') {
				pcVar12[0x50] = '\b';
			}
			if (pcVar12[0x78] == '\0') {
				pcVar12[0x78] = '\b';
			}
			if (pcVar12[0xa0] == '\0') {
				pcVar12[0xa0] = '\b';
			}
			if (pcVar12[200] == '\0') {
				pcVar12[200] = '\b';
			}
			if (pcVar12[0xf0] == '\0') {
				pcVar12[0xf0] = '\b';
			}
			if (pcVar12[0x118] == '\0') {
				pcVar12[0x118] = '\b';
			}
			if (pcVar12[0x140] == '\0') {
				pcVar12[0x140] = '\b';
			}
			if (pcVar12[0x168] == '\0') {
				pcVar12[0x168] = '\b';
			}
			uVar8 = uVar8 + 400;
			uVar13 = (undefined)uVar8;
			lVar18 = lVar18 + 9;
			lVar30 = lVar30 + -1;
		} while (lVar30 != 0);
		lVar15 = lVar15 + 1;
		uVar16 = (undefined)lVar15;
		uVar17 = uVar17 + 1;
	} while ((int)lVar15 < 0x28);
	ppuVar7[-0x13bd] = (undefined *)0x70;
	uVar10 = DRLG_L3Pass3(8, uVar8, lVar15, uVar17, lVar18, (uint)bVar1, (uint)bVar2, (int)lVar24,
	    in_stack_ffffffa8);
	DRLG_Init_Globals(uVar10, uVar13, uVar16, (char)uVar17, (char)lVar18, (char)uVar20, (char)uVar22, (char)lVar24, in_stack_ffffffa8);
	puVar4 = (undefined4 *)ppuVar7[-0x1ded];
	*(undefined4 *)ppuVar7[-0x1dec] = 0x1f;
	*puVar4 = 0x53;
	FUN_1006aeb8(ZEXT48(local_28[0]), 0, 0, uVar17, lVar18, (int)uVar20, (int)uVar22, (int)lVar24,
	    in_stack_ffffffa8);
	lVar15 = 0;
	uVar11 = 0;
	FUN_10083ca0(ZEXT48(local_28[0]), 0, 0, uVar17, lVar18, (int)uVar20, (int)uVar22, (int)lVar24,
	    in_stack_ffffffa8);
	lVar30 = 0;
	iVar19 = 0;
	do {
		lVar27 = 0;
		iVar28 = 0;
		do {
			sVar3 = *(short *)(iVar19 + *(int *)puVar6 + iVar28);
			uVar13 = (undefined)lVar18;
			uVar16 = (undefined)uVar20;
			uVar10 = (undefined)uVar22;
			uVar25 = (undefined)lVar24;
			if ((sVar3 < 0x38) || (0x93 < sVar3)) {
				if ((sVar3 < 0x9a) || (0xa1 < sVar3)) {
					if (sVar3 == 0x96) {
						uVar11 = 7;
						uVar17 = 0xffffffffffffffff;
						lVar15 = lVar30;
						DoLighting(lVar27, lVar30, 7, -1, uVar13, uVar16, uVar10, uVar25, in_stack_ffffffa8);
					} else {
						if (sVar3 == 0x98) {
							uVar11 = 7;
							uVar17 = 0xffffffffffffffff;
							lVar15 = lVar30;
							DoLighting(lVar27, lVar30, 7, -1, uVar13, uVar16, uVar10, uVar25, in_stack_ffffffa8);
						}
					}
				} else {
					uVar11 = 7;
					uVar17 = 0xffffffffffffffff;
					lVar15 = lVar30;
					DoLighting(lVar27, lVar30, 7, -1, uVar13, uVar16, uVar10, uVar25, in_stack_ffffffa8);
				}
			} else {
				uVar11 = 7;
				uVar17 = 0xffffffffffffffff;
				lVar15 = lVar30;
				DoLighting(lVar27, lVar30, 7, -1, uVar13, uVar16, uVar10, uVar25, in_stack_ffffffa8);
			}
			uVar26 = (undefined)lVar24;
			uVar23 = (undefined)uVar22;
			uVar21 = (undefined)uVar20;
			uVar25 = (undefined)lVar18;
			uVar10 = (undefined)uVar17;
			uVar16 = (undefined)uVar11;
			uVar13 = (undefined)lVar15;
			lVar27 = lVar27 + 1;
			iVar28 = iVar28 + 0xe0;
		} while ((int)lVar27 < 0x70);
		lVar30 = lVar30 + 1;
		iVar19 = iVar19 + 2;
	} while ((int)lVar30 < 0x70);
	FUN_100b9100((int)local_28[0], uVar13, uVar16, uVar10, uVar25, uVar21, uVar23, uVar26, in_stack_ffffffa8);
	mem_free_dbg(local_28, uVar13, uVar16, uVar10, uVar25, uVar21, uVar23, uVar26, in_stack_ffffffa8);
	return;
}

void LoadPreL3Dungeon(longlong param_1, undefined4 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11, undefined4 param_12)

{
	byte bVar1;
	undefined **ppuVar2;
	undefined uVar5;
	ulonglong uVar3;
	char *pcVar4;
	undefined8 uVar6;
	char *pcVar7;
	undefined uVar8;
	char *pcVar9;
	undefined uVar10;
	int iVar11;
	undefined uVar12;
	char cVar13;
	byte bVar14;
	longlong lVar15;
	undefined uVar16;
	longlong lVar17;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;
	int *local_18[6];

	pcVar9 = PTR_DAT_100f1804;
	ppuVar2 = &toc;
	uVar8 = SUB41(PTR_DAT_100f1804, 0);
	uVar5 = FUN_10031474((char)param_1, (undefined)param_2, (char)param_3, (char)param_4, (char)param_5,
	    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffb8);
	DRLG_InitTrans(uVar5, (undefined)param_2, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
	    (char)param_7, (char)param_8, in_stack_ffffffb8);
	uVar6 = 0;
	uVar3 = LoadFileInMem(param_1, (undefined4 *)0x0, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	uVar5 = (undefined)param_8;
	local_18[0] = (int *)uVar3;
	uVar3 = FUN_100b8f7c(uVar3 & 0xffffffff, uVar6, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	bVar1 = *(byte *)uVar3;
	bVar14 = ((byte *)uVar3)[2];
	lVar15 = uVar3 + 4;
	iVar11 = 0;
	pcVar7 = pcVar9;
	while (uVar16 = (undefined)lVar15, iVar11 < (int)(uint)bVar14) {
		uVar3 = (ulonglong)bVar1;
		pcVar4 = pcVar7;
		if (bVar1 != 0) {
			do {
				if (*(char *)lVar15 == '\0') {
					*pcVar4 = '\a';
				} else {
					*pcVar4 = *(char *)lVar15;
				}
				lVar15 = lVar15 + 2;
				pcVar4 = pcVar4 + 0x28;
				uVar3 = uVar3 - 1;
			} while (uVar3 != 0);
		}
		pcVar7 = pcVar7 + 1;
		iVar11 = iVar11 + 1;
	}
	lVar15 = 0;
	do {
		lVar17 = 4;
		cVar13 = '\0';
		pcVar7 = pcVar9;
		do {
			if (*pcVar7 == '\0') {
				*pcVar7 = '\b';
			}
			if (pcVar7[0x28] == '\0') {
				pcVar7[0x28] = '\b';
			}
			if (pcVar7[0x50] == '\0') {
				pcVar7[0x50] = '\b';
			}
			if (pcVar7[0x78] == '\0') {
				pcVar7[0x78] = '\b';
			}
			if (pcVar7[0xa0] == '\0') {
				pcVar7[0xa0] = '\b';
			}
			if (pcVar7[200] == '\0') {
				pcVar7[200] = '\b';
			}
			if (pcVar7[0xf0] == '\0') {
				pcVar7[0xf0] = '\b';
			}
			if (pcVar7[0x118] == '\0') {
				pcVar7[0x118] = '\b';
			}
			if (pcVar7[0x140] == '\0') {
				pcVar7[0x140] = '\b';
			}
			if (pcVar7[0x168] == '\0') {
				pcVar7[0x168] = '\b';
			}
			pcVar7 = pcVar7 + 400;
			cVar13 = cVar13 + '\t';
			lVar17 = lVar17 + -1;
		} while (lVar17 != 0);
		lVar15 = lVar15 + 1;
		uVar12 = (undefined)lVar15;
		pcVar9 = pcVar9 + 1;
	} while ((int)lVar15 < 0x28);
	uVar10 = 0x40;
	memcpy((char)ppuVar2[-0x1d50], uVar8, 0x40, uVar12, cVar13, bVar14, uVar16, uVar5,
	    (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
	FUN_100b9100((int)local_18[0], uVar8, uVar10, uVar12, cVar13, bVar14, uVar16, uVar5, in_stack_ffffffb8);
	mem_free_dbg(local_18, uVar8, uVar10, uVar12, cVar13, bVar14, uVar16, uVar5, in_stack_ffffffb8);
	return;
}

void FUN_10035de0(void)

{
	_DAT_100f40e0 = _DAT_100f40d4;
	return;
}

void FUN_10035dec(void)

{
	char cVar1;
	undefined *puVar2;
	char *pcVar3;
	int iVar4;
	longlong lVar5;

	iVar4 = 1;
	puVar2 = PTR_DAT_100f1804;
	do {
		pcVar3 = puVar2 + 0x29;
		lVar5 = 0xd;
		do {
			cVar1 = *pcVar3;
			if (cVar1 == '\x0f' || (cVar1 == '\b' || (cVar1 == '\x04' || cVar1 == '\x03'))) {
				if (pcVar3[-0x28] == '\x06') {
					pcVar3[-0x28] = '/';
				}
				if (pcVar3[-0x29] == '\x06') {
					pcVar3[-0x29] = '0';
				}
			}
			cVar1 = pcVar3[0x28];
			if (cVar1 == '\x0f' || (cVar1 == '\b' || (cVar1 == '\x04' || cVar1 == '\x03'))) {
				if (*pcVar3 == '\x06') {
					*pcVar3 = '/';
				}
				if (pcVar3[-1] == '\x06') {
					pcVar3[-1] = '0';
				}
			}
			cVar1 = pcVar3[0x50];
			if (cVar1 == '\x0f' || (cVar1 == '\b' || (cVar1 == '\x04' || cVar1 == '\x03'))) {
				if (pcVar3[0x28] == '\x06') {
					pcVar3[0x28] = '/';
				}
				if (pcVar3[0x27] == '\x06') {
					pcVar3[0x27] = '0';
				}
			}
			pcVar3 = pcVar3 + 0x78;
			lVar5 = lVar5 + -1;
		} while (lVar5 != 0);
		iVar4 = iVar4 + 1;
		puVar2 = puVar2 + 1;
	} while (iVar4 < 0x28);
	return;
}

void FUN_10035f64(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	int iVar5;
	longlong lVar6;
	undefined in_stack_ffffffbb;
	undefined in_stack_ffffffbf;
	int local_3c;

	memset((char)PTR_DAT_100f1d08, 0x90, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
	memset((char)*(undefined4 *)(local_3c + -0x72cc), 0, param_3, param_4, param_5, param_6, param_7,
	    param_8, in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
	puVar3 = *(undefined **)(local_3c + -0x77cc);
	iVar5 = 0;
	puVar4 = *(undefined **)(local_3c + -0x7514);
	do {
		lVar6 = 5;
		puVar1 = puVar3;
		puVar2 = puVar4;
		do {
			*puVar1 = 0x1e;
			*puVar2 = 0;
			puVar1[0x28] = 0x1e;
			puVar2[0x28] = 0;
			puVar1[0x50] = 0x1e;
			puVar2[0x50] = 0;
			puVar1[0x78] = 0x1e;
			puVar2[0x78] = 0;
			puVar1[0xa0] = 0x1e;
			puVar2[0xa0] = 0;
			puVar1[200] = 0x1e;
			puVar2[200] = 0;
			puVar1[0xf0] = 0x1e;
			puVar2[0xf0] = 0;
			puVar1[0x118] = 0x1e;
			puVar1 = puVar1 + 0x140;
			puVar2[0x118] = 0;
			puVar2 = puVar2 + 0x140;
			lVar6 = lVar6 + -1;
		} while (lVar6 != 0);
		iVar5 = iVar5 + 1;
		puVar4 = puVar4 + 1;
		puVar3 = puVar3 + 1;
	} while (iVar5 < 0x28);
	return;
}

void DRLG_LoadL4SP(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined8 uVar4;
	longlong lVar5;
	undefined4 in_stack_ffffffc8;

	puVar2 = PTR_DAT_100f1aac;
	puVar1 = PTR_DAT_100f1aa8;
	ppuVar3 = &toc;
	*(undefined4 *)PTR_DAT_100f1aac = 0;
	uVar4 = QuestStatus(0xb);
	if ((int)uVar4 != 0) {
		lVar5 = LoadFileInMem(ZEXT48(ppuVar3[-0x18b2]), (undefined4 *)0x0, param_3, param_4, param_5, param_6,
		    param_7, param_8, in_stack_ffffffc8);
		*(int *)puVar1 = (int)lVar5;
		*(undefined4 *)puVar2 = 1;
	}
	if ((*ppuVar3[-0x1df9] == '\x0f') && (*ppuVar3[-0x1dfc] != '\x01')) {
		lVar5 = LoadFileInMem(ZEXT48(ppuVar3[-0x18b3]), (undefined4 *)0x0, param_3, param_4, param_5, param_6,
		    param_7, param_8, in_stack_ffffffc8);
		*(int *)puVar1 = (int)lVar5;
		*(undefined4 *)puVar2 = 1;
	}
	return;
}

void DRLG_FreeL4SP(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	mem_free_dbg((int **)PTR_DAT_100f1aa8, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

void FUN_100360e4(int param_1, longlong param_2, undefined8 param_3, ulonglong param_4, longlong param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	byte bVar1;
	byte bVar2;
	byte bVar3;
	undefined4 *puVar4;
	uint *puVar5;
	uint *puVar6;
	undefined *puVar7;
	int iVar8;
	undefined *puVar9;
	undefined **ppuVar10;
	ulonglong uVar11;
	longlong lVar12;
	longlong lVar13;
	longlong lVar14;
	int iVar15;
	undefined4 in_stack_ffffffb8;

	puVar9 = PTR_DAT_100f1aa8;
	ppuVar10 = &toc;
	uVar11 = FUN_100b8f7c((ulonglong) * (uint *)PTR_DAT_100f1aa8, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	bVar1 = *(byte *)uVar11;
	iVar15 = 0;
	bVar2 = ((byte *)uVar11)[2];
	puVar4 = (undefined4 *)ppuVar10[-0x1d54];
	*(int *)ppuVar10[-0x1d53] = param_1;
	puVar5 = (uint *)ppuVar10[-0x1d55];
	*puVar4 = (int)param_2;
	puVar6 = (uint *)ppuVar10[-0x1d56];
	*puVar5 = (uint)bVar1;
	puVar7 = ppuVar10[-0x1df3];
	*puVar6 = (uint)bVar2;
	lVar12 = ZEXT48(puVar7) + param_2;
	param_2 = ZEXT48(ppuVar10[-0x1d45]) + param_2;
	lVar13 = (ulonglong) * (uint *)(*(int *)puVar9 + 0x88) + 4;
	while (iVar15 < (int)(uint)bVar2) {
		lVar14 = 0;
		uVar11 = (ulonglong)bVar1;
		if (bVar1 != 0) {
			do {
				bVar3 = *(byte *)lVar13;
				param_4 = (ulonglong)bVar3;
				if (bVar3 == 0) {
					*(undefined *)((int)lVar12 + (param_1 + (int)lVar14) * 0x28) = 6;
				} else {
					param_5 = ((longlong)param_1 + lVar14) * 0x28;
					iVar8 = (int)param_5;
					*(byte *)((int)lVar12 + iVar8) = bVar3;
					*(byte *)((int)param_2 + iVar8) = *(byte *)((int)param_2 + iVar8) | 0x80;
				}
				lVar13 = lVar13 + 2;
				lVar14 = lVar14 + 1;
				uVar11 = uVar11 - 1;
			} while (uVar11 != 0);
		}
		lVar12 = lVar12 + 1;
		param_2 = param_2 + 1;
		iVar15 = iVar15 + 1;
	}
	FUN_100b9100(*(int *)puVar9, (char)lVar12, (char)param_2, (char)param_4, (char)param_5, (char)lVar13,
	    bVar1, bVar2, in_stack_ffffffb8);
	return;
}

void FUN_100361e8(void)

{
	byte *pbVar1;
	byte *pbVar2;
	byte *pbVar3;
	byte *pbVar4;
	byte *pbVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	int iVar9;
	longlong lVar10;

	iVar9 = 1;
	puVar7 = PTR_DAT_100f1d04 + 1;
	puVar8 = PTR_DAT_100f1804;
	do {
		pbVar5 = puVar7 + 0x50;
		lVar10 = 0xd;
		puVar6 = puVar8;
		do {
			*puVar6 = (&DAT_100f8cc3)
			    [(uint)pbVar5[0x51] * 8 + (uint)pbVar5[1] * 4 + (uint)*pbVar5 + (uint)pbVar5[0x50] * 2];
			puVar6[0x28] = (&DAT_100f8cc3)
			    [(uint)pbVar5[0xf1] * 8 + (uint)pbVar5[0xa1] * 4 + (uint)pbVar5[0xa0] + (uint)pbVar5[0xf0] * 2];
			pbVar1 = pbVar5 + 0x191;
			pbVar2 = pbVar5 + 400;
			pbVar3 = pbVar5 + 0x141;
			pbVar4 = pbVar5 + 0x140;
			pbVar5 = pbVar5 + 0x1e0;
			puVar6[0x50] = (&DAT_100f8cc3)
			    [(uint)*pbVar1 * 8 + (uint)*pbVar3 * 4 + (uint)*pbVar4 + (uint)*pbVar2 * 2];
			puVar6 = puVar6 + 0x78;
			lVar10 = lVar10 + -1;
		} while (lVar10 != 0);
		iVar9 = iVar9 + 2;
		puVar7 = puVar7 + 2;
		puVar8 = puVar8 + 1;
	} while (iVar9 < 0x4e);
	return;
}

int FUN_100362c0(int param_1, int param_2)

{
	char cVar1;
	int iVar2;
	char *pcVar3;
	int iVar4;

	iVar4 = 1;
	while (true) {
		iVar2 = (param_1 + iVar4) * 0x28;
		pcVar3 = PTR_DAT_100f1804 + iVar2 + param_2;
		if ((((*pcVar3 != '\x06') || (PTR_DAT_100f1abc[iVar2 + param_2] != '\0')) || (pcVar3[-1] != '\x06')) || (pcVar3[1] != '\x06'))
			break;
		iVar4 = iVar4 + 1;
	}
	cVar1 = PTR_DAT_100f1804[iVar2 + param_2];
	if (3 < iVar4 && (cVar1 == '\x16' || (cVar1 == '\x15' || (cVar1 == '\x10' || (cVar1 == '\x0f' || (cVar1 == '\r' || (cVar1 == '\f' || cVar1 == '\n'))))))) {
		return iVar4;
	}
	return -1;
}

int FUN_1003639c(int param_1, int param_2)

{
	char cVar1;
	char *pcVar2;
	int iVar3;
	char *pcVar4;

	pcVar4 = PTR_DAT_100f1abc + param_1 * 0x28 + param_2 + 1;
	iVar3 = 1;
	pcVar2 = PTR_DAT_100f1804 + param_1 * 0x28 + param_2;
	while ((((pcVar2[1] == '\x06' && (*pcVar4 == '\0')) && (pcVar2[-0x27] == '\x06')) && (pcVar2[0x29] == '\x06'))) {
		pcVar4 = pcVar4 + 1;
		iVar3 = iVar3 + 1;
		pcVar2 = pcVar2 + 1;
	}
	cVar1 = (PTR_DAT_100f1804 + param_1 * 0x28 + param_2)[iVar3];
	if (3 < iVar3 && (cVar1 == '\x17' || (cVar1 == '\x15' || (cVar1 == '\x10' || (cVar1 == '\x0f' || (cVar1 == '\x0e' || (cVar1 == '\v' || (cVar1 == '\t' || cVar1 == '\b')))))))) {
		return iVar3;
	}
	return -1;
}

void FUN_10036488(int param_1, int param_2, longlong param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined *puVar1;
	int iVar2;
	undefined *puVar3;
	ulonglong uVar4;
	char *pcVar6;
	longlong lVar5;
	int iVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	ulonglong uVar11;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined1 in_stack_ffffffcb;

	puVar3 = PTR_DAT_100f1804;
	uVar11 = ZEXT48(PTR_DAT_100f1804);
	pcVar6 = PTR_DAT_100f1804 + param_1 * 0x28 + param_2;
	if (*pcVar6 == '\r') {
		*pcVar6 = '\x11';
	}
	if (*pcVar6 == '\x10') {
		*pcVar6 = '\v';
	}
	if (*pcVar6 == '\f') {
		*pcVar6 = '\x0e';
	}
	iVar7 = (int)param_3;
	lVar5 = 1;
	if (1 < iVar7) {
		if (8 < iVar7 + -1) {
			uVar4 = (ulonglong)(iVar7 - 2U >> 3);
			puVar1 = puVar3 + param_2;
			if (1 < iVar7 + -8) {
				do {
					lVar10 = (longlong)param_1 + lVar5;
					param_8 = (undefined)lVar10;
					lVar5 = lVar5 + 8;
					iVar2 = (int)lVar10;
					puVar1[iVar2 * 0x28] = 2;
					lVar9 = (lVar10 + 2) * 0x28;
					param_7 = (undefined)lVar9;
					puVar1[(iVar2 + 1) * 0x28] = 2;
					lVar8 = (lVar10 + 3) * 0x28;
					param_6 = (undefined)lVar8;
					puVar1[(int)lVar9] = 2;
					lVar9 = (lVar10 + 4) * 0x28;
					param_5 = (undefined)lVar9;
					puVar1[(int)lVar8] = 2;
					puVar1[(int)lVar9] = 2;
					puVar1[(iVar2 + 5) * 0x28] = 2;
					puVar1[(iVar2 + 6) * 0x28] = 2;
					puVar1[(iVar2 + 7) * 0x28] = 2;
					uVar4 = uVar4 - 1;
				} while (uVar4 != 0);
			}
		}
		param_4 = (undefined)(uVar11 + (longlong)param_2);
		lVar9 = param_3 - lVar5;
		if ((int)lVar5 < iVar7) {
			do {
				iVar2 = (int)lVar5;
				lVar5 = lVar5 + 1;
				*(undefined *)((int)(uVar11 + (longlong)param_2) + (param_1 + iVar2) * 0x28) = 2;
				lVar9 = lVar9 + -1;
			} while (lVar9 != 0);
		}
	}
	pcVar6 = puVar3 + (param_1 + iVar7) * 0x28 + param_2;
	if (*pcVar6 == '\x0f') {
		*pcVar6 = '\x0e';
	}
	if (*pcVar6 == '\n') {
		*pcVar6 = '\x11';
	}
	if (*pcVar6 == '\x15') {
		*pcVar6 = '\x17';
	}
	if (*pcVar6 == '\x16') {
		*pcVar6 = '\x1d';
	}
	lVar5 = random(0, param_3 + -3, (char)param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb);
	iVar7 = (param_1 + (int)lVar5 + 1) * 0x28;
	puVar1 = puVar3 + param_2 + iVar7;
	puVar3[iVar7 + param_2] = 0x39;
	puVar1[0x50] = 0x38;
	puVar1[0x28] = 0x3c;
	if (puVar1[-1] == '\x06') {
		puVar1[-1] = 0x3a;
	}
	if (puVar3[param_2 + iVar7 + 0x27] == '\x06') {
		puVar3[param_2 + iVar7 + 0x27] = ';';
	}
	return;
}

void FUN_100366b8(longlong param_1, longlong param_2, longlong param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	ulonglong uVar3;
	longlong lVar4;
	undefined *puVar5;
	char *pcVar6;
	longlong lVar7;
	int iVar8;
	longlong lVar9;
	char *pcVar10;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined1 in_stack_ffffffcb;

	puVar2 = PTR_DAT_100f1804;
	lVar9 = ZEXT48(PTR_DAT_100f1804) + param_1 * 0x28 + param_2;
	pcVar10 = (char *)lVar9;
	if (*pcVar10 == '\x0e') {
		*pcVar10 = '\x11';
	}
	if (*pcVar10 == '\b') {
		*pcVar10 = '\t';
	}
	if (*pcVar10 == '\x0f') {
		*pcVar10 = '\n';
	}
	iVar8 = (int)param_3;
	lVar7 = 1;
	if (1 < iVar8) {
		if (8 < iVar8 + -1) {
			uVar3 = (ulonglong)(iVar8 - 2U >> 3);
			lVar4 = lVar9 + 1;
			if (1 < iVar8 + -8) {
				do {
					puVar5 = (undefined *)lVar4;
					*puVar5 = 1;
					lVar7 = lVar7 + 8;
					puVar5[1] = 1;
					puVar5[2] = 1;
					puVar5[3] = 1;
					puVar5[4] = 1;
					puVar5[5] = 1;
					puVar5[6] = 1;
					puVar5[7] = 1;
					lVar4 = lVar4 + 8;
					uVar3 = uVar3 - 1;
				} while (uVar3 != 0);
			}
		}
		lVar9 = lVar9 + lVar7;
		lVar4 = param_3 - lVar7;
		if ((int)lVar7 < iVar8) {
			do {
				*(undefined *)lVar9 = 1;
				lVar9 = lVar9 + 1;
				lVar4 = lVar4 + -1;
			} while (lVar4 != 0);
		}
	}
	pcVar6 = pcVar10 + iVar8;
	if (*pcVar6 == '\v') {
		*pcVar6 = '\x11';
	}
	if (*pcVar6 == '\t') {
		*pcVar6 = '\n';
	}
	if (*pcVar6 == '\x10') {
		*pcVar6 = '\r';
	}
	if (*pcVar6 == '\x15') {
		*pcVar6 = '\x16';
	}
	if (*pcVar6 == '\x17') {
		*pcVar6 = '\x1d';
	}
	lVar9 = random(0, param_3 + -3, (char)param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb);
	iVar1 = (int)(param_1 * 0x28);
	iVar8 = (int)lVar9 + 1;
	puVar5 = puVar2 + iVar8 + (int)param_2 + iVar1;
	pcVar10[iVar8] = '5';
	puVar5[2] = 0x34;
	puVar5[1] = 6;
	if (puVar5[-0x28] == '\x06') {
		puVar5[-0x28] = 0x36;
	}
	pcVar10 = puVar2 + iVar8 + (int)param_2 + iVar1 + -0x29;
	if (*pcVar10 == '\x06') {
		*pcVar10 = '7';
	}
	return;
}

longlong FUN_100368ac(char param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	longlong lVar1;
	int iVar2;
	int iVar3;
	int iVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	char *pcVar11;
	char *pcVar12;
	char *pcVar13;
	char *pcVar14;
	longlong lVar15;
	longlong lVar16;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined in_stack_ffffffcb;

	lVar10 = (longlong)param_8;
	lVar9 = (longlong)param_7;
	lVar8 = (longlong)param_6;
	lVar7 = (longlong)param_5;
	lVar6 = (longlong)param_4;
	lVar5 = (longlong)param_3;
	lVar1 = (longlong)param_1;
	lVar15 = 0;
	pcVar11 = PTR_DAT_100f1abc;
	pcVar12 = PTR_DAT_100f1804;
	do {
		lVar16 = 0;
		pcVar13 = pcVar11;
		pcVar14 = pcVar12;
		do {
			if (*pcVar13 == '\0') {
				iVar3 = (int)lVar16;
				iVar4 = (int)lVar15;
				if ((*pcVar14 == '\n') && (lVar1 = random(0, 100, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb), (int)lVar1 < 100)) {
					iVar2 = FUN_100362c0(iVar3, iVar4);
					lVar1 = (longlong)iVar2;
					lVar5 = lVar1;
					if (iVar2 != -1) {
						lVar5 = lVar1;
						lVar1 = FUN_10036488(iVar3, iVar4, lVar1, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9,
						    (char)lVar10, in_stack_ffffffb8);
					}
				}
				if ((*pcVar14 == '\f') && (lVar1 = random(0, 100, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb), (int)lVar1 < 100)) {
					iVar2 = FUN_100362c0(iVar3, iVar4);
					lVar1 = (longlong)iVar2;
					lVar5 = lVar1;
					if (iVar2 != -1) {
						lVar5 = lVar1;
						lVar1 = FUN_10036488(iVar3, iVar4, lVar1, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9,
						    (char)lVar10, in_stack_ffffffb8);
					}
				}
				if ((*pcVar14 == '\r') && (lVar1 = random(0, 100, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb), (int)lVar1 < 100)) {
					iVar2 = FUN_100362c0(iVar3, iVar4);
					lVar1 = (longlong)iVar2;
					lVar5 = lVar1;
					if (iVar2 != -1) {
						lVar5 = lVar1;
						lVar1 = FUN_10036488(iVar3, iVar4, lVar1, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9,
						    (char)lVar10, in_stack_ffffffb8);
					}
				}
				if ((*pcVar14 == '\x0f') && (lVar1 = random(0, 100, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb), (int)lVar1 < 100)) {
					iVar2 = FUN_100362c0(iVar3, iVar4);
					lVar1 = (longlong)iVar2;
					lVar5 = lVar1;
					if (iVar2 != -1) {
						lVar5 = lVar1;
						lVar1 = FUN_10036488(iVar3, iVar4, lVar1, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9,
						    (char)lVar10, in_stack_ffffffb8);
					}
				}
				if ((*pcVar14 == '\x10') && (lVar1 = random(0, 100, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb), (int)lVar1 < 100)) {
					iVar2 = FUN_100362c0(iVar3, iVar4);
					lVar1 = (longlong)iVar2;
					lVar5 = lVar1;
					if (iVar2 != -1) {
						lVar5 = lVar1;
						lVar1 = FUN_10036488(iVar3, iVar4, lVar1, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9,
						    (char)lVar10, in_stack_ffffffb8);
					}
				}
				if ((*pcVar14 == '\x15') && (lVar1 = random(0, 100, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb), (int)lVar1 < 100)) {
					iVar2 = FUN_100362c0(iVar3, iVar4);
					lVar1 = (longlong)iVar2;
					lVar5 = lVar1;
					if (iVar2 != -1) {
						lVar5 = lVar1;
						lVar1 = FUN_10036488(iVar3, iVar4, lVar1, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9,
						    (char)lVar10, in_stack_ffffffb8);
					}
				}
				if ((*pcVar14 == '\x16') && (lVar1 = random(0, 100, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb), (int)lVar1 < 100)) {
					iVar2 = FUN_100362c0(iVar3, iVar4);
					lVar1 = (longlong)iVar2;
					lVar5 = lVar1;
					if (iVar2 != -1) {
						lVar5 = lVar1;
						lVar1 = FUN_10036488(iVar3, iVar4, lVar1, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9,
						    (char)lVar10, in_stack_ffffffb8);
					}
				}
				if ((*pcVar14 == '\b') && (lVar1 = random(0, 100, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb), (int)lVar1 < 100)) {
					iVar2 = FUN_1003639c(iVar3, iVar4);
					lVar1 = (longlong)iVar2;
					lVar5 = lVar1;
					if (iVar2 != -1) {
						lVar5 = lVar1;
						lVar1 = FUN_100366b8(lVar16, lVar15, lVar1, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8);
					}
				}
				if ((*pcVar14 == '\t') && (lVar1 = random(0, 100, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb), (int)lVar1 < 100)) {
					iVar2 = FUN_1003639c(iVar3, iVar4);
					lVar1 = (longlong)iVar2;
					lVar5 = lVar1;
					if (iVar2 != -1) {
						lVar5 = lVar1;
						lVar1 = FUN_100366b8(lVar16, lVar15, lVar1, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8);
					}
				}
				if ((*pcVar14 == '\v') && (lVar1 = random(0, 100, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb), (int)lVar1 < 100)) {
					iVar2 = FUN_1003639c(iVar3, iVar4);
					lVar1 = (longlong)iVar2;
					lVar5 = lVar1;
					if (iVar2 != -1) {
						lVar5 = lVar1;
						lVar1 = FUN_100366b8(lVar16, lVar15, lVar1, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8);
					}
				}
				if ((*pcVar14 == '\x0e') && (lVar1 = random(0, 100, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb), (int)lVar1 < 100)) {
					iVar2 = FUN_1003639c(iVar3, iVar4);
					lVar1 = (longlong)iVar2;
					lVar5 = lVar1;
					if (iVar2 != -1) {
						lVar5 = lVar1;
						lVar1 = FUN_100366b8(lVar16, lVar15, lVar1, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8);
					}
				}
				if ((*pcVar14 == '\x0f') && (lVar1 = random(0, 100, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb), (int)lVar1 < 100)) {
					iVar2 = FUN_1003639c(iVar3, iVar4);
					lVar1 = (longlong)iVar2;
					lVar5 = lVar1;
					if (iVar2 != -1) {
						lVar5 = lVar1;
						lVar1 = FUN_100366b8(lVar16, lVar15, lVar1, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8);
					}
				}
				if ((*pcVar14 == '\x10') && (lVar1 = random(0, 100, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb), (int)lVar1 < 100)) {
					iVar2 = FUN_1003639c(iVar3, iVar4);
					lVar1 = (longlong)iVar2;
					lVar5 = lVar1;
					if (iVar2 != -1) {
						lVar5 = lVar1;
						lVar1 = FUN_100366b8(lVar16, lVar15, lVar1, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8);
					}
				}
				if ((*pcVar14 == '\x15') && (lVar1 = random(0, 100, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb), (int)lVar1 < 100)) {
					iVar2 = FUN_1003639c(iVar3, iVar4);
					lVar1 = (longlong)iVar2;
					lVar5 = lVar1;
					if (iVar2 != -1) {
						lVar5 = lVar1;
						lVar1 = FUN_100366b8(lVar16, lVar15, lVar1, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8);
					}
				}
				if ((*pcVar14 == '\x17') && (lVar1 = random(0, 100, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb), (int)lVar1 < 100)) {
					iVar3 = FUN_1003639c(iVar3, iVar4);
					lVar1 = (longlong)iVar3;
					lVar5 = lVar1;
					if (iVar3 != -1) {
						lVar5 = lVar1;
						lVar1 = FUN_100366b8(lVar16, lVar15, lVar1, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8);
					}
				}
			}
			lVar16 = lVar16 + 1;
			pcVar14 = pcVar14 + 0x28;
			pcVar13 = pcVar13 + 0x28;
		} while ((int)lVar16 < 0x28);
		lVar15 = lVar15 + 1;
		pcVar12 = pcVar12 + 1;
		pcVar11 = pcVar11 + 1;
	} while ((int)lVar15 < 0x28);
	return lVar1;
}

void FUN_10036d18(void)

{
	char *pcVar1;
	char *pcVar2;
	char *pcVar3;
	char *pcVar4;
	int iVar5;
	longlong lVar6;

	pcVar4 = PTR_DAT_100f1804;
	iVar5 = 0;
	pcVar3 = PTR_DAT_100f1804;
	do {
		lVar6 = 0x14;
		pcVar2 = pcVar3;
		do {
			if ((*pcVar2 == '\x02') && (pcVar2[0x28] == '\x06')) {
				pcVar2[0x28] = '\x05';
			}
			if ((*pcVar2 == '\x02') && (pcVar2[0x28] == '\x01')) {
				pcVar2[0x28] = '\r';
			}
			if ((*pcVar2 == '\x01') && (pcVar2[1] == '\x02')) {
				pcVar2[1] = '\x0e';
			}
			pcVar1 = pcVar2 + 0x28;
			if ((*pcVar1 == '\x02') && (pcVar2[0x50] == '\x06')) {
				pcVar2[0x50] = '\x05';
			}
			if ((*pcVar1 == '\x02') && (pcVar2[0x50] == '\x01')) {
				pcVar2[0x50] = '\r';
			}
			if ((*pcVar1 == '\x01') && (pcVar2[0x29] == '\x02')) {
				pcVar2[0x29] = '\x0e';
			}
			pcVar2 = pcVar2 + 0x50;
			lVar6 = lVar6 + -1;
		} while (lVar6 != 0);
		iVar5 = iVar5 + 1;
		pcVar3 = pcVar3 + 1;
	} while (iVar5 < 0x28);
	iVar5 = 0;
	pcVar3 = pcVar4;
	do {
		lVar6 = 0x28;
		pcVar2 = pcVar3;
		do {
			if ((*pcVar2 == '\x02') && (pcVar2[0x28] == '\x06')) {
				pcVar2[0x28] = '\x02';
			}
			if ((*pcVar2 == '\x02') && (pcVar2[0x28] == '\t')) {
				pcVar2[0x28] = '\v';
			}
			if ((*pcVar2 == '\t') && (pcVar2[0x28] == '\x06')) {
				pcVar2[0x28] = '\f';
			}
			if ((*pcVar2 == '\x0e') && (pcVar2[0x28] == '\x01')) {
				pcVar2[0x28] = '\r';
			}
			if ((*pcVar2 == '\x06') && (pcVar2[0x28] == '\x0e')) {
				pcVar2[0x28] = '\x0f';
			}
			if ((*pcVar2 == '\x06') && (pcVar2[1] == '\r')) {
				pcVar2[1] = '\x10';
			}
			if ((*pcVar2 == '\x01') && (pcVar2[1] == '\t')) {
				pcVar2[1] = '\n';
			}
			if ((*pcVar2 == '\x06') && (pcVar2[-1] == '\x01')) {
				pcVar2[-1] = '\x01';
			}
			pcVar2 = pcVar2 + 0x28;
			lVar6 = lVar6 + -1;
		} while (lVar6 != 0);
		iVar5 = iVar5 + 1;
		pcVar3 = pcVar3 + 1;
	} while (iVar5 < 0x28);
	iVar5 = 0;
	pcVar3 = pcVar4;
	do {
		lVar6 = 0x28;
		pcVar2 = pcVar3;
		do {
			if ((*pcVar2 == '\r') && (pcVar2[1] == '\x1e')) {
				pcVar2[1] = '\x1b';
			}
			if ((*pcVar2 == '\x1b') && (pcVar2[0x28] == '\x1e')) {
				pcVar2[0x28] = '\x13';
			}
			if ((*pcVar2 == '\x01') && (pcVar2[1] == '\x1e')) {
				pcVar2[1] = '\x1b';
			}
			if ((*pcVar2 == '\x1b') && (pcVar2[0x28] == '\x01')) {
				pcVar2[0x28] = '\x10';
			}
			if ((*pcVar2 == '\x13') && (pcVar2[0x28] == '\x1b')) {
				pcVar2[0x28] = '\x1a';
			}
			if ((*pcVar2 == '\x1b') && (pcVar2[0x28] == '\x1e')) {
				pcVar2[0x28] = '\x13';
			}
			if ((*pcVar2 == '\x02') && (pcVar2[0x28] == '\x0f')) {
				pcVar2[0x28] = '\x0e';
			}
			if ((*pcVar2 == '\x0e') && (pcVar2[0x28] == '\x0f')) {
				pcVar2[0x28] = '\x0e';
			}
			if ((*pcVar2 == '\x16') && (pcVar2[0x28] == '\x01')) {
				pcVar2[0x28] = '\x10';
			}
			if ((*pcVar2 == '\x1b') && (pcVar2[0x28] == '\x01')) {
				pcVar2[0x28] = '\x10';
			}
			if (((*pcVar2 == '\x06') && (pcVar2[0x28] == '\x1b')) && (pcVar2[0x29] != '\0')) {
				pcVar2[0x28] = '\x16';
			}
			if ((*pcVar2 == '\x16') && (pcVar2[0x28] == '\x1e')) {
				pcVar2[0x28] = '\x13';
			}
			if (((*pcVar2 == '\x15') && (pcVar2[0x28] == '\x01')) && (pcVar2[0x27] == '\x01')) {
				pcVar2[0x28] = '\r';
			}
			if (((*pcVar2 == '\x0e') && (pcVar2[0x28] == '\x1e')) && (pcVar2[1] == '\x06')) {
				pcVar2[0x28] = '\x1c';
			}
			if (((*pcVar2 == '\x10') && (pcVar2[0x28] == '\x06')) && (pcVar2[1] == '\x1e')) {
				pcVar2[1] = '\x1b';
			}
			if (((*pcVar2 == '\x10') && (pcVar2[1] == '\x1e')) && (pcVar2[0x29] == '\x1e')) {
				pcVar2[1] = '\x1b';
			}
			if (((*pcVar2 == '\x06') && (pcVar2[0x28] == '\x1e')) && (pcVar2[0x27] == '\x06')) {
				pcVar2[0x28] = '\x15';
			}
			if (((*pcVar2 == '\x02') && (pcVar2[0x28] == '\x1b')) && (pcVar2[0x29] == '\t')) {
				pcVar2[0x28] = '\x1d';
			}
			if ((*pcVar2 == '\t') && (pcVar2[0x28] == '\x0f')) {
				pcVar2[0x28] = '\x0e';
			}
			if (((*pcVar2 == '\x0f') && (pcVar2[0x28] == '\x1b')) && (pcVar2[0x29] == '\x02')) {
				pcVar2[0x28] = '\x1d';
			}
			if ((*pcVar2 == '\x13') && (pcVar2[0x28] == '\x12')) {
				pcVar2[0x28] = '\x18';
			}
			if ((*pcVar2 == '\t') && (pcVar2[0x28] == '\x0f')) {
				pcVar2[0x28] = '\x0e';
			}
			if (((*pcVar2 == '\x13') && (pcVar2[0x28] == '\x13')) && (pcVar2[0x27] == '\x1e')) {
				pcVar2[0x28] = '\x18';
			}
			if (((*pcVar2 == '\x18') && (pcVar2[-1] == '\x1e')) && (pcVar2[-2] == '\x06')) {
				pcVar2[-1] = '\x15';
			}
			if ((*pcVar2 == '\x02') && (pcVar2[0x28] == '\x1e')) {
				pcVar2[0x28] = '\x1c';
			}
			if ((*pcVar2 == '\x0f') && (pcVar2[0x28] == '\x1e')) {
				pcVar2[0x28] = '\x1c';
			}
			if ((*pcVar2 == '\x1c') && (pcVar2[1] == '\x1e')) {
				pcVar2[1] = '\x12';
			}
			if ((*pcVar2 == '\x1c') && (pcVar2[1] == '\x02')) {
				pcVar2[1] = '\x0f';
			}
			if ((((*pcVar2 == '\x13') && (pcVar2[0x50] == '\x02')) && (pcVar2[0x27] == '\x12')) && (pcVar2[0x29] == '\x01')) {
				pcVar2[0x28] = '\x11';
			}
			if (((*pcVar2 == '\x13') && (pcVar2[0x50] == '\x02')) && ((pcVar2[0x27] == '\x16' && (pcVar2[0x29] == '\x01')))) {
				pcVar2[0x28] = '\x11';
			}
			if (((*pcVar2 == '\x13') && (pcVar2[0x50] == '\x02')) && ((pcVar2[0x27] == '\x12' && (pcVar2[0x29] == '\r')))) {
				pcVar2[0x28] = '\x11';
			}
			if ((((*pcVar2 == '\x15') && (pcVar2[0x50] == '\x02')) && (pcVar2[0x27] == '\x12')) && (pcVar2[0x29] == '\x01')) {
				pcVar2[0x28] = '\x11';
			}
			if (((*pcVar2 == '\x15') && (pcVar2[0x29] == '\x01')) && ((pcVar2[0x27] == '\x16' && (pcVar2[0x50] == '\x03')))) {
				pcVar2[0x28] = '\x11';
			}
			if (((*pcVar2 == '\x0f') && (pcVar2[0x28] == '\x1c')) && ((pcVar2[0x50] == '\x1e' && (pcVar2[0x27] == '\x06')))) {
				pcVar2[0x28] = '\x17';
			}
			if (((*pcVar2 == '\x0e') && (pcVar2[0x28] == '\x1c')) && (pcVar2[0x50] == '\x01')) {
				pcVar2[0x28] = '\x17';
			}
			if (((*pcVar2 == '\x0f') && (pcVar2[0x28] == '\x1b')) && (pcVar2[0x29] == '\x1e')) {
				pcVar2[0x28] = '\x1d';
			}
			if ((*pcVar2 == '\x1c') && (pcVar2[1] == '\t')) {
				pcVar2[1] = '\x0f';
			}
			if ((*pcVar2 == '\x15') && (pcVar2[0x27] == '\x15')) {
				pcVar2[0x28] = '\x18';
			}
			if (((*pcVar2 == '\x02') && (pcVar2[0x28] == '\x1b')) && (pcVar2[0x29] == '\x1e')) {
				pcVar2[0x28] = '\x1d';
			}
			if ((*pcVar2 == '\x02') && (pcVar2[0x28] == '\x12')) {
				pcVar2[0x28] = '\x19';
			}
			if (((*pcVar2 == '\x15') && (pcVar2[0x28] == '\t')) && (pcVar2[0x50] == '\x02')) {
				pcVar2[0x28] = '\v';
			}
			if ((*pcVar2 == '\x13') && (pcVar2[0x28] == '\n')) {
				pcVar2[0x28] = '\x11';
			}
			if ((*pcVar2 == '\x0f') && (pcVar2[1] == '\x03')) {
				pcVar2[1] = '\x04';
			}
			if ((*pcVar2 == '\x16') && (pcVar2[1] == '\t')) {
				pcVar2[1] = '\x0f';
			}
			if ((*pcVar2 == '\x12') && (pcVar2[1] == '\x1e')) {
				pcVar2[1] = '\x12';
			}
			if ((*pcVar2 == '\x18') && (pcVar2[-0x28] == '\x1e')) {
				pcVar2[-0x28] = '\x13';
			}
			if ((*pcVar2 == '\x15') && (pcVar2[1] == '\x02')) {
				pcVar2[1] = '\x0f';
			}
			if ((*pcVar2 == '\x15') && (pcVar2[1] == '\t')) {
				pcVar2[1] = '\n';
			}
			if ((*pcVar2 == '\x16') && (pcVar2[1] == '\x1e')) {
				pcVar2[1] = '\x12';
			}
			if ((*pcVar2 == '\x15') && (pcVar2[1] == '\x1e')) {
				pcVar2[1] = '\x12';
			}
			if ((*pcVar2 == '\x10') && (pcVar2[1] == '\x02')) {
				pcVar2[1] = '\x0f';
			}
			if ((*pcVar2 == '\r') && (pcVar2[1] == '\x02')) {
				pcVar2[1] = '\x0f';
			}
			if ((*pcVar2 == '\x16') && (pcVar2[1] == '\x02')) {
				pcVar2[1] = '\x0f';
			}
			if (((*pcVar2 == '\x15') && (pcVar2[0x28] == '\x12')) && (pcVar2[0x50] == '\x1e')) {
				pcVar2[0x28] = '\x18';
			}
			if (((*pcVar2 == '\x15') && (pcVar2[0x28] == '\t')) && (pcVar2[0x29] == '\x01')) {
				pcVar2[0x28] = '\x10';
			}
			if (((*pcVar2 == '\x02') && (pcVar2[0x28] == '\x1b')) && (pcVar2[0x29] == '\x02')) {
				pcVar2[0x28] = '\x1d';
			}
			if ((*pcVar2 == '\x17') && (pcVar2[1] == '\x02')) {
				pcVar2[1] = '\x0f';
			}
			if ((*pcVar2 == '\x17') && (pcVar2[1] == '\t')) {
				pcVar2[1] = '\x0f';
			}
			if ((*pcVar2 == '\x19') && (pcVar2[1] == '\x02')) {
				pcVar2[1] = '\x0f';
			}
			if ((*pcVar2 == '\x16') && (pcVar2[0x28] == '\t')) {
				pcVar2[0x28] = '\v';
			}
			if ((*pcVar2 == '\x17') && (pcVar2[0x28] == '\t')) {
				pcVar2[0x28] = '\v';
			}
			if ((*pcVar2 == '\x0f') && (pcVar2[0x28] == '\x01')) {
				pcVar2[0x28] = '\x10';
			}
			if ((*pcVar2 == '\v') && (pcVar2[0x28] == '\x0f')) {
				pcVar2[0x28] = '\x0e';
			}
			if ((*pcVar2 == '\x17') && (pcVar2[0x28] == '\x01')) {
				pcVar2[0x28] = '\x10';
			}
			if ((*pcVar2 == '\x15') && (pcVar2[0x28] == '\x1b')) {
				pcVar2[0x28] = '\x1a';
			}
			if ((*pcVar2 == '\x15') && (pcVar2[0x28] == '\x12')) {
				pcVar2[0x28] = '\x18';
			}
			if ((*pcVar2 == '\x1a') && (pcVar2[0x28] == '\x01')) {
				pcVar2[0x28] = '\x10';
			}
			if ((*pcVar2 == '\x1d') && (pcVar2[0x28] == '\x01')) {
				pcVar2[0x28] = '\x10';
			}
			if ((*pcVar2 == '\x1d') && (pcVar2[1] == '\x02')) {
				pcVar2[1] = '\x0f';
			}
			if ((*pcVar2 == '\x01') && (pcVar2[-1] == '\x0f')) {
				pcVar2[-1] = '\n';
			}
			if ((*pcVar2 == '\x12') && (pcVar2[1] == '\x02')) {
				pcVar2[1] = '\x0f';
			}
			if ((*pcVar2 == '\x17') && (pcVar2[1] == '\x1e')) {
				pcVar2[1] = '\x12';
			}
			if ((*pcVar2 == '\x12') && (pcVar2[1] == '\t')) {
				pcVar2[1] = '\n';
			}
			if (((*pcVar2 == '\x0e') && (pcVar2[0x28] == '\x1e')) && (pcVar2[0x29] == '\x1e')) {
				pcVar2[0x28] = '\x17';
			}
			if (((*pcVar2 == '\x02') && (pcVar2[0x28] == '\x1c')) && (pcVar2[0x27] == '\x06')) {
				pcVar2[0x28] = '\x17';
			}
			if (((*pcVar2 == '\x17') && (pcVar2[0x28] == '\x12')) && (pcVar2[-1] == '\x06')) {
				pcVar2[0x28] = '\x18';
			}
			if (((*pcVar2 == '\x0e') && (pcVar2[0x28] == '\x17')) && (pcVar2[0x50] == '\x1e')) {
				pcVar2[0x28] = '\x1c';
			}
			if (((*pcVar2 == '\x0e') && (pcVar2[0x28] == '\x1c')) && ((pcVar2[0x50] == '\x1e' && (pcVar2[0x27] == '\x06')))) {
				pcVar2[0x28] = '\x17';
			}
			if ((*pcVar2 == '\x17') && (pcVar2[0x28] == '\x1e')) {
				pcVar2[0x28] = '\x13';
			}
			if ((*pcVar2 == '\x1d') && (pcVar2[0x28] == '\x1e')) {
				pcVar2[0x28] = '\x13';
			}
			if ((*pcVar2 == '\x1d') && (pcVar2[1] == '\x1e')) {
				pcVar2[1] = '\x12';
			}
			if ((*pcVar2 == '\x13') && (pcVar2[0x28] == '\x1e')) {
				pcVar2[0x28] = '\x13';
			}
			if ((*pcVar2 == '\x15') && (pcVar2[0x28] == '\x1e')) {
				pcVar2[0x28] = '\x13';
			}
			if ((*pcVar2 == '\x1a') && (pcVar2[0x28] == '\x1e')) {
				pcVar2[0x28] = '\x13';
			}
			if ((*pcVar2 == '\x10') && (pcVar2[1] == '\x1e')) {
				pcVar2[1] = '\x12';
			}
			if ((*pcVar2 == '\r') && (pcVar2[1] == '\t')) {
				pcVar2[1] = '\n';
			}
			if ((*pcVar2 == '\x19') && (pcVar2[1] == '\x1e')) {
				pcVar2[1] = '\x12';
			}
			if ((*pcVar2 == '\x12') && (pcVar2[1] == '\x02')) {
				pcVar2[1] = '\x0f';
			}
			if ((*pcVar2 == '\v') && (pcVar2[0x28] == '\x03')) {
				pcVar2[0x28] = '\x05';
			}
			if ((*pcVar2 == '\x13') && (pcVar2[0x28] == '\t')) {
				pcVar2[0x28] = '\v';
			}
			if ((*pcVar2 == '\x13') && (pcVar2[0x28] == '\x01')) {
				pcVar2[0x28] = '\r';
			}
			if (((*pcVar2 == '\x13') && (pcVar2[0x28] == '\r')) && (pcVar2[0x27] == '\x06')) {
				pcVar2[0x28] = '\x10';
			}
			pcVar2 = pcVar2 + 0x28;
			lVar6 = lVar6 + -1;
		} while (lVar6 != 0);
		iVar5 = iVar5 + 1;
		pcVar3 = pcVar3 + 1;
	} while (iVar5 < 0x28);
	iVar5 = 0;
	pcVar3 = pcVar4;
	do {
		lVar6 = 0x28;
		pcVar2 = pcVar3;
		do {
			if (((*pcVar2 == '\x15') && (pcVar2[1] == '\x18')) && (pcVar2[2] == '\x01')) {
				pcVar2[1] = '\x11';
			}
			if (((*pcVar2 == '\x0f') && (pcVar2[0x29] == '\t')) && ((pcVar2[0x27] == '\x01' && (pcVar2[0x50] == '\x10')))) {
				pcVar2[0x28] = '\x1d';
			}
			if ((*pcVar2 == '\x02') && (pcVar2[-0x28] == '\x06')) {
				pcVar2[-0x28] = '\b';
			}
			if ((*pcVar2 == '\x01') && (pcVar2[-1] == '\x06')) {
				pcVar2[-1] = '\a';
			}
			if (((*pcVar2 == '\x06') && (pcVar2[0x28] == '\x0f')) && (pcVar2[0x29] == '\x04')) {
				pcVar2[0x28] = '\n';
			}
			if ((*pcVar2 == '\x01') && (pcVar2[1] == '\x03')) {
				pcVar2[1] = '\x04';
			}
			if ((*pcVar2 == '\x01') && (pcVar2[1] == '\x06')) {
				pcVar2[1] = '\x04';
			}
			if ((*pcVar2 == '\t') && (pcVar2[1] == '\x03')) {
				pcVar2[1] = '\x04';
			}
			if ((*pcVar2 == '\n') && (pcVar2[1] == '\x03')) {
				pcVar2[1] = '\x04';
			}
			if ((*pcVar2 == '\r') && (pcVar2[1] == '\x03')) {
				pcVar2[1] = '\x04';
			}
			if ((*pcVar2 == '\x01') && (pcVar2[1] == '\x05')) {
				pcVar2[1] = '\f';
			}
			if ((*pcVar2 == '\x01') && (pcVar2[1] == '\x10')) {
				pcVar2[1] = '\r';
			}
			if ((*pcVar2 == '\x06') && (pcVar2[1] == '\r')) {
				pcVar2[1] = '\x10';
			}
			if ((*pcVar2 == '\x19') && (pcVar2[1] == '\t')) {
				pcVar2[1] = '\n';
			}
			if ((*pcVar2 == '\r') && (pcVar2[1] == '\x05')) {
				pcVar2[1] = '\f';
			}
			if (((*pcVar2 == '\x1c') && (pcVar2[-1] == '\x06')) && (pcVar2[0x28] == '\x01')) {
				pcVar2[0x28] = '\x17';
			}
			if ((*pcVar2 == '\x13') && (pcVar2[0x28] == '\n')) {
				pcVar2[0x28] = '\x11';
			}
			if ((*pcVar2 == '\x15') && (pcVar2[0x28] == '\t')) {
				pcVar2[0x28] = '\v';
			}
			if ((*pcVar2 == '\v') && (pcVar2[0x28] == '\x03')) {
				pcVar2[0x28] = '\x05';
			}
			if ((*pcVar2 == '\n') && (pcVar2[0x28] == '\x04')) {
				pcVar2[0x28] = '\f';
			}
			if ((*pcVar2 == '\x0e') && (pcVar2[0x28] == '\x04')) {
				pcVar2[0x28] = '\f';
			}
			if ((*pcVar2 == '\x1b') && (pcVar2[0x28] == '\t')) {
				pcVar2[0x28] = '\v';
			}
			if ((*pcVar2 == '\x0f') && (pcVar2[0x28] == '\x04')) {
				pcVar2[0x28] = '\f';
			}
			if ((*pcVar2 == '\x15') && (pcVar2[0x28] == '\x01')) {
				pcVar2[0x28] = '\x10';
			}
			if ((*pcVar2 == '\v') && (pcVar2[0x28] == '\x04')) {
				pcVar2[0x28] = '\f';
			}
			if ((*pcVar2 == '\x02') && (pcVar2[0x28] == '\x03')) {
				pcVar2[0x28] = '\x05';
			}
			if ((*pcVar2 == '\t') && (pcVar2[0x28] == '\x03')) {
				pcVar2[0x28] = '\x05';
			}
			if ((*pcVar2 == '\x0e') && (pcVar2[0x28] == '\x03')) {
				pcVar2[0x28] = '\x05';
			}
			if ((*pcVar2 == '\x0f') && (pcVar2[0x28] == '\x03')) {
				pcVar2[0x28] = '\x05';
			}
			if (((*pcVar2 == '\x02') && (pcVar2[0x28] == '\x05')) && (pcVar2[0x27] == '\x10')) {
				pcVar2[0x28] = '\f';
			}
			if ((*pcVar2 == '\x02') && (pcVar2[0x28] == '\x04')) {
				pcVar2[0x28] = '\f';
			}
			if ((*pcVar2 == '\t') && (pcVar2[0x28] == '\x04')) {
				pcVar2[0x28] = '\f';
			}
			if ((*pcVar2 == '\x01') && (pcVar2[-1] == '\b')) {
				pcVar2[-1] = '\t';
			}
			if (((*pcVar2 == '\x1c') && (pcVar2[0x28] == '\x17')) && (pcVar2[0x29] == '\x03')) {
				pcVar2[0x28] = '\x10';
			}
			pcVar2 = pcVar2 + 0x28;
			lVar6 = lVar6 + -1;
		} while (lVar6 != 0);
		iVar5 = iVar5 + 1;
		pcVar3 = pcVar3 + 1;
	} while (iVar5 < 0x28);
	iVar5 = 0;
	pcVar3 = pcVar4;
	do {
		lVar6 = 0x28;
		pcVar2 = pcVar3;
		do {
			if ((*pcVar2 == '\x15') && (pcVar2[0x28] == '\n')) {
				pcVar2[0x28] = '\x11';
			}
			if ((*pcVar2 == '\x11') && (pcVar2[0x28] == '\x04')) {
				pcVar2[0x28] = '\f';
			}
			if ((*pcVar2 == '\n') && (pcVar2[0x28] == '\x04')) {
				pcVar2[0x28] = '\f';
			}
			if ((*pcVar2 == '\x11') && (pcVar2[1] == '\x05')) {
				pcVar2[1] = '\f';
			}
			if ((*pcVar2 == '\x1d') && (pcVar2[1] == '\t')) {
				pcVar2[1] = '\n';
			}
			if ((*pcVar2 == '\r') && (pcVar2[1] == '\x05')) {
				pcVar2[1] = '\f';
			}
			if ((*pcVar2 == '\t') && (pcVar2[1] == '\x10')) {
				pcVar2[1] = '\r';
			}
			if ((*pcVar2 == '\n') && (pcVar2[1] == '\x10')) {
				pcVar2[1] = '\r';
			}
			if ((*pcVar2 == '\x10') && (pcVar2[1] == '\x03')) {
				pcVar2[1] = '\x04';
			}
			if ((*pcVar2 == '\v') && (pcVar2[1] == '\x05')) {
				pcVar2[1] = '\f';
			}
			if (((*pcVar2 == '\n') && (pcVar2[0x28] == '\x03')) && (pcVar2[0x27] == '\x10')) {
				pcVar2[0x28] = '\f';
			}
			if ((*pcVar2 == '\x10') && (pcVar2[1] == '\x05')) {
				pcVar2[1] = '\f';
			}
			if ((*pcVar2 == '\x01') && (pcVar2[1] == '\x06')) {
				pcVar2[1] = '\x04';
			}
			if (((*pcVar2 == '\x15') && (pcVar2[0x28] == '\r')) && (pcVar2[1] == '\n')) {
				pcVar2[0x29] = '\f';
			}
			if ((*pcVar2 == '\x0f') && (pcVar2[0x28] == '\n')) {
				pcVar2[0x28] = '\x11';
			}
			if ((*pcVar2 == '\x16') && (pcVar2[1] == '\v')) {
				pcVar2[1] = '\x11';
			}
			if (((*pcVar2 == '\x0f') && (pcVar2[0x28] == '\x1c')) && (pcVar2[0x50] == '\x10')) {
				pcVar2[0x28] = '\x17';
			}
			if (((*pcVar2 == '\x1c') && (pcVar2[0x28] == '\x17')) && ((pcVar2[0x29] == '\x01' && (pcVar2[0x50] == '\x06')))) {
				pcVar2[0x28] = '\x10';
			}
			pcVar2 = pcVar2 + 0x28;
			lVar6 = lVar6 + -1;
		} while (lVar6 != 0);
		iVar5 = iVar5 + 1;
		pcVar3 = pcVar3 + 1;
	} while (iVar5 < 0x28);
	iVar5 = 0;
	do {
		lVar6 = 0x14;
		pcVar3 = pcVar4;
		do {
			if (((*pcVar3 == '\x0f') && (pcVar3[0x28] == '\x1c')) && (pcVar3[0x50] == '\x10')) {
				pcVar3[0x28] = '\x17';
			}
			if ((((*pcVar3 == '\x15') && (pcVar3[0x27] == '\x15')) && (pcVar3[0x29] == '\r')) && (pcVar3[0x50] == '\x02')) {
				pcVar3[0x28] = '\x11';
			}
			if (((*pcVar3 == '\x13') && (pcVar3[0x28] == '\x0f')) && (pcVar3[0x29] == '\f')) {
				pcVar3[0x28] = '\x11';
			}
			pcVar2 = pcVar3 + 0x28;
			if (((*pcVar2 == '\x0f') && (pcVar3[0x50] == '\x1c')) && (pcVar3[0x78] == '\x10')) {
				pcVar3[0x50] = '\x17';
			}
			if ((((*pcVar2 == '\x15') && (pcVar3[0x4f] == '\x15')) && (pcVar3[0x51] == '\r')) && (pcVar3[0x78] == '\x02')) {
				pcVar3[0x50] = '\x11';
			}
			if (((*pcVar2 == '\x13') && (pcVar3[0x50] == '\x0f')) && (pcVar3[0x51] == '\f')) {
				pcVar3[0x50] = '\x11';
			}
			pcVar3 = pcVar3 + 0x50;
			lVar6 = lVar6 + -1;
		} while (lVar6 != 0);
		iVar5 = iVar5 + 1;
		pcVar4 = pcVar4 + 1;
	} while (iVar5 < 0x28);
	return;
}

void FUN_10038554(undefined param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	char cVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	int iVar10;
	int iVar11;
	char *pcVar12;
	byte *pbVar13;
	byte *pbVar14;
	char *pcVar15;
	char *pcVar16;
	byte *pbVar17;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	pcVar12 = PTR_DAT_100f1abc;
	pbVar13 = PTR_DAT_100f1804;
	lVar9 = (longlong)param_8;
	lVar8 = (longlong)param_7;
	lVar7 = (longlong)param_6;
	lVar6 = (longlong)param_5;
	lVar5 = (longlong)param_4;
	lVar4 = (longlong)param_3;
	iVar10 = 0;
	pcVar15 = PTR_DAT_100f1abc;
	pbVar14 = PTR_DAT_100f1804;
	do {
		iVar11 = 0;
		pcVar16 = pcVar15;
		pbVar17 = pbVar14;
		do {
			lVar2 = random(0, 3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8,
			    (char)lVar9, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
			if ((((int)lVar2 == 0) && (cVar1 = (&DAT_100f8dc3)[(uint)*pbVar17], cVar1 != '\0')) && (*pcVar16 == '\0')) {
				lVar2 = random(0, 0x10, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8,
				    (char)lVar9, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
				lVar3 = -1;
				while (-1 < (int)lVar2) {
					lVar3 = lVar3 + 1;
					if ((int)lVar3 == 0x8c) {
						lVar3 = 0;
					}
					if (cVar1 == (&DAT_100f8dc3)[(int)lVar3]) {
						lVar2 = lVar2 + -1;
					}
				}
				*pbVar17 = (byte)lVar3;
			}
			iVar11 = iVar11 + 1;
			pcVar16 = pcVar16 + 0x28;
			pbVar17 = pbVar17 + 0x28;
		} while (iVar11 < 0x28);
		iVar10 = iVar10 + 1;
		pcVar15 = pcVar15 + 1;
		pbVar14 = pbVar14 + 1;
	} while (iVar10 < 0x28);
	iVar10 = 0;
	do {
		iVar11 = 0;
		pcVar15 = pcVar12;
		pbVar14 = pbVar13;
		do {
			lVar2 = random(0, 10, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8,
			    (char)lVar9, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
			if ((((int)lVar2 == 0) && ((&DAT_100f8dc3)[(uint)*pbVar14] == '\x06')) && (*pcVar15 == '\0')) {
				lVar2 = random(0, 3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8,
				    (char)lVar9, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
				*pbVar14 = (char)lVar2 + 0x5f;
			}
			iVar11 = iVar11 + 1;
			pcVar15 = pcVar15 + 0x28;
			pbVar14 = pbVar14 + 0x28;
		} while (iVar11 < 0x28);
		iVar10 = iVar10 + 1;
		pcVar12 = pcVar12 + 1;
		pbVar13 = pbVar13 + 1;
	} while (iVar10 < 0x28);
	return;
}

void FUN_100386b0(void)

{
	undefined *puVar1;
	undefined *puVar2;
	int iVar3;
	undefined *puVar4;
	undefined *puVar5;
	int iVar6;
	undefined *puVar7;
	int iVar8;
	undefined *puVar9;
	int iVar10;
	int iVar11;
	int iVar12;
	longlong lVar13;

	puVar2 = PTR_DAT_100f1d08;
	puVar1 = PTR_DAT_100f1d04;
	iVar8 = 0;
	iVar6 = 0;
	puVar5 = PTR_DAT_100f1d08;
	do {
		lVar13 = 4;
		iVar3 = 0;
		puVar4 = puVar5;
		do {
			puVar9 = puVar1 + iVar3 + iVar6;
			*puVar9 = *puVar4;
			puVar9[1] = *puVar4;
			puVar9[0x50] = *puVar4;
			puVar9[0x51] = *puVar4;
			puVar9 = puVar1 + iVar3 + 0xa0 + iVar6;
			*puVar9 = puVar4[0x14];
			puVar9[1] = puVar4[0x14];
			puVar9[0x50] = puVar4[0x14];
			puVar9[0x51] = puVar4[0x14];
			puVar9 = puVar1 + iVar3 + 0x140 + iVar6;
			*puVar9 = puVar4[0x28];
			puVar9[1] = puVar4[0x28];
			puVar9[0x50] = puVar4[0x28];
			puVar9[0x51] = puVar4[0x28];
			puVar9 = puVar1 + iVar3 + 0x1e0 + iVar6;
			*puVar9 = puVar4[0x3c];
			puVar9[1] = puVar4[0x3c];
			puVar9[0x50] = puVar4[0x3c];
			puVar9[0x51] = puVar4[0x3c];
			puVar7 = puVar1 + iVar3 + 0x280 + iVar6;
			iVar3 = iVar3 + 800;
			*puVar7 = puVar4[0x50];
			puVar7[1] = puVar4[0x50];
			puVar7[0x50] = puVar4[0x50];
			puVar9 = puVar4 + 0x50;
			puVar4 = puVar4 + 100;
			puVar7[0x51] = *puVar9;
			lVar13 = lVar13 + -1;
		} while (lVar13 != 0);
		iVar8 = iVar8 + 1;
		iVar6 = iVar6 + 2;
		puVar5 = puVar5 + 1;
	} while (iVar8 < 0x14);
	iVar8 = 0;
	iVar6 = 0;
	do {
		lVar13 = 4;
		puVar5 = puVar2 + (0x13 - iVar8);
		iVar3 = 0;
		do {
			puVar4 = puVar1 + iVar3 + iVar6;
			puVar4[0x28] = *puVar5;
			puVar4[0x29] = *puVar5;
			puVar4[0x78] = *puVar5;
			puVar4[0x79] = *puVar5;
			puVar4 = puVar1 + iVar3 + 0xa0 + iVar6;
			puVar4[0x28] = puVar5[0x14];
			puVar4[0x29] = puVar5[0x14];
			puVar4[0x78] = puVar5[0x14];
			puVar4[0x79] = puVar5[0x14];
			puVar4 = puVar1 + iVar3 + 0x140 + iVar6;
			puVar4[0x28] = puVar5[0x28];
			puVar4[0x29] = puVar5[0x28];
			puVar4[0x78] = puVar5[0x28];
			puVar4[0x79] = puVar5[0x28];
			puVar4 = puVar1 + iVar3 + 0x1e0 + iVar6;
			puVar4[0x28] = puVar5[0x3c];
			puVar4[0x29] = puVar5[0x3c];
			puVar4[0x78] = puVar5[0x3c];
			puVar4[0x79] = puVar5[0x3c];
			puVar9 = puVar1 + iVar3 + 0x280 + iVar6;
			iVar3 = iVar3 + 800;
			puVar9[0x28] = puVar5[0x50];
			puVar9[0x29] = puVar5[0x50];
			puVar9[0x78] = puVar5[0x50];
			puVar4 = puVar5 + 0x50;
			puVar5 = puVar5 + 100;
			puVar9[0x79] = *puVar4;
			lVar13 = lVar13 + -1;
		} while (lVar13 != 0);
		iVar8 = iVar8 + 1;
		iVar6 = iVar6 + 2;
	} while (iVar8 < 0x14);
	iVar8 = 0;
	iVar6 = 0;
	puVar5 = puVar2;
	do {
		lVar13 = 4;
		iVar10 = 0;
		iVar3 = 0;
		do {
			puVar7 = puVar1 + iVar3 + iVar6;
			puVar4 = puVar5 + (0x13 - iVar10) * 0x14;
			puVar7[0xc80] = *puVar4;
			iVar11 = iVar10 + 3;
			puVar7[0xc81] = *puVar4;
			puVar7[0xcd0] = *puVar4;
			puVar9 = puVar5 + (0x13 - (iVar10 + 1)) * 0x14;
			puVar7[0xcd1] = *puVar4;
			puVar7 = puVar1 + iVar3 + 0xa0 + iVar6;
			puVar7[0xc80] = *puVar9;
			iVar12 = iVar10 + 4;
			puVar7[0xc81] = *puVar9;
			puVar7[0xcd0] = *puVar9;
			puVar4 = puVar5 + (0x13 - (iVar10 + 2)) * 0x14;
			puVar7[0xcd1] = *puVar9;
			puVar7 = puVar1 + iVar3 + 0x140 + iVar6;
			puVar7[0xc80] = *puVar4;
			iVar10 = iVar10 + 5;
			puVar7[0xc81] = *puVar4;
			puVar7[0xcd0] = *puVar4;
			puVar9 = puVar5 + (0x13 - iVar11) * 0x14;
			puVar7[0xcd1] = *puVar4;
			puVar7 = puVar1 + iVar3 + 0x1e0 + iVar6;
			puVar7[0xc80] = *puVar9;
			puVar7[0xc81] = *puVar9;
			puVar7[0xcd0] = *puVar9;
			puVar4 = puVar5 + (0x13 - iVar12) * 0x14;
			puVar7[0xcd1] = *puVar9;
			puVar9 = puVar1 + iVar3 + 0x280 + iVar6;
			iVar3 = iVar3 + 800;
			puVar9[0xc80] = *puVar4;
			puVar9[0xc81] = *puVar4;
			puVar9[0xcd0] = *puVar4;
			puVar9[0xcd1] = *puVar4;
			lVar13 = lVar13 + -1;
		} while (lVar13 != 0);
		iVar8 = iVar8 + 1;
		puVar5 = puVar5 + 1;
		iVar6 = iVar6 + 2;
	} while (iVar8 < 0x14);
	iVar8 = 0;
	iVar6 = 0;
	do {
		lVar13 = 4;
		puVar5 = puVar2 + (0x13 - iVar8);
		iVar10 = 0;
		iVar3 = 0;
		do {
			puVar7 = puVar1 + iVar3 + iVar6;
			puVar4 = puVar5 + (0x13 - iVar10) * 0x14;
			puVar7[0xca8] = *puVar4;
			iVar11 = iVar10 + 3;
			puVar7[0xca9] = *puVar4;
			puVar7[0xcf8] = *puVar4;
			puVar9 = puVar5 + (0x13 - (iVar10 + 1)) * 0x14;
			puVar7[0xcf9] = *puVar4;
			puVar7 = puVar1 + iVar3 + 0xa0 + iVar6;
			puVar7[0xca8] = *puVar9;
			iVar12 = iVar10 + 4;
			puVar7[0xca9] = *puVar9;
			puVar7[0xcf8] = *puVar9;
			puVar4 = puVar5 + (0x13 - (iVar10 + 2)) * 0x14;
			puVar7[0xcf9] = *puVar9;
			puVar7 = puVar1 + iVar3 + 0x140 + iVar6;
			puVar7[0xca8] = *puVar4;
			iVar10 = iVar10 + 5;
			puVar7[0xca9] = *puVar4;
			puVar7[0xcf8] = *puVar4;
			puVar9 = puVar5 + (0x13 - iVar11) * 0x14;
			puVar7[0xcf9] = *puVar4;
			puVar7 = puVar1 + iVar3 + 0x1e0 + iVar6;
			puVar7[0xca8] = *puVar9;
			puVar7[0xca9] = *puVar9;
			puVar7[0xcf8] = *puVar9;
			puVar4 = puVar5 + (0x13 - iVar12) * 0x14;
			puVar7[0xcf9] = *puVar9;
			puVar9 = puVar1 + iVar3 + 0x280 + iVar6;
			iVar3 = iVar3 + 800;
			puVar9[0xca8] = *puVar4;
			puVar9[0xca9] = *puVar4;
			puVar9[0xcf8] = *puVar4;
			puVar9[0xcf9] = *puVar4;
			lVar13 = lVar13 + -1;
		} while (lVar13 != 0);
		iVar8 = iVar8 + 1;
		iVar6 = iVar6 + 2;
	} while (iVar8 < 0x14);
	return;
}

void FUN_10038ba8(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    char param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	char *pcVar3;
	longlong lVar4;
	int iVar5;
	undefined4 *puVar7;
	longlong lVar6;
	char cVar8;
	longlong lVar9;
	undefined uVar10;
	longlong lVar11;
	ulonglong uVar12;
	longlong lVar13;
	longlong lVar14;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined in_stack_ffffffcb;

	puVar2 = PTR_DAT_100f1d08;
	puVar1 = PTR_DAT_100f1d00;
	lVar14 = (longlong)param_5;
	uVar12 = ZEXT48(PTR_DAT_100f1d08);
	cVar8 = '\x13';
	lVar4 = uVar12 + 0x13;
	lVar11 = ZEXT48(PTR_DAT_100f1d00) + 0x4c;
	lVar13 = 10;
	lVar6 = lVar11;
	do {
		lVar9 = 0x13;
		while (puVar7 = (undefined4 *)lVar6, -1 < (int)lVar9) {
			lVar14 = lVar4 + lVar9 * 0x14;
			pcVar3 = (char *)lVar14;
			if (*pcVar3 != '\x01') {
				*puVar7 = 0;
			}
			if (*pcVar3 == '\x01') {
				if ((pcVar3[1] == '\x01') && (pcVar3[0x15] == '\0')) {
					*puVar7 = 1;
				} else {
					*puVar7 = 0;
				}
				lVar9 = 0;
			}
			lVar9 = lVar9 + -1;
		}
		lVar9 = 0x13;
		puVar7 = puVar7 + -1;
		while (uVar10 = (undefined)lVar9, -1 < (int)lVar9) {
			lVar14 = lVar4 + -1 + lVar9 * 0x14;
			pcVar3 = (char *)lVar14;
			if (*pcVar3 != '\x01') {
				*puVar7 = 0;
			}
			if (*pcVar3 == '\x01') {
				if ((pcVar3[1] == '\x01') && (pcVar3[0x15] == '\0')) {
					*puVar7 = 1;
				} else {
					*puVar7 = 0;
				}
				lVar9 = 0;
			}
			lVar9 = lVar9 + -1;
		}
		lVar4 = lVar4 + -2;
		lVar6 = lVar6 + -8;
		cVar8 = cVar8 + -1;
		lVar13 = lVar13 + -1;
	} while (lVar13 != 0);
	lVar6 = random(0, 0x13, (char)lVar4, (char)lVar6, (char)lVar14, cVar8, uVar10, param_8,
	    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb);
	lVar6 = lVar6 + 1;
	do {
		if (*(int *)(puVar1 + (int)lVar6 * 4) == 0) {
			lVar6 = lVar6 + 1;
			if ((int)lVar6 == 0x14) {
				lVar6 = 1;
			}
		} else {
			iVar5 = 0x13;
			while (-1 < iVar5) {
				pcVar3 = puVar2 + iVar5 * 0x14 + (int)lVar6;
				if (*pcVar3 == '\x01') {
					iVar5 = -1;
					lVar6 = 0;
				} else {
					*pcVar3 = '\x01';
					pcVar3[1] = '\x01';
				}
				iVar5 = iVar5 + -1;
			}
		}
	} while ((int)lVar6 != 0);
	lVar4 = uVar12 + 0x17c;
	lVar14 = 10;
	cVar8 = '\x13';
	do {
		lVar13 = 0x13;
		while (puVar7 = (undefined4 *)lVar11, -1 < (int)lVar13) {
			lVar6 = lVar4 + lVar13;
			pcVar3 = (char *)lVar6;
			if (*pcVar3 != '\x01') {
				*puVar7 = 0;
			}
			if (*pcVar3 == '\x01') {
				if ((pcVar3[0x14] == '\x01') && (pcVar3[0x15] == '\0')) {
					*puVar7 = 1;
				} else {
					*puVar7 = 0;
				}
				lVar13 = 0;
			}
			lVar13 = lVar13 + -1;
		}
		lVar13 = 0x13;
		puVar7 = puVar7 + -1;
		while (-1 < (int)lVar13) {
			lVar6 = lVar4 + -0x14 + lVar13;
			pcVar3 = (char *)lVar6;
			if (*pcVar3 != '\x01') {
				*puVar7 = 0;
			}
			if (*pcVar3 == '\x01') {
				if ((pcVar3[0x14] == '\x01') && (pcVar3[0x15] == '\0')) {
					*puVar7 = 1;
				} else {
					*puVar7 = 0;
				}
				lVar13 = 0;
			}
			lVar13 = lVar13 + -1;
		}
		lVar4 = lVar4 + -0x28;
		lVar11 = lVar11 + -8;
		cVar8 = cVar8 + -1;
		lVar14 = lVar14 + -1;
	} while (lVar14 != 0);
	lVar6 = random(0, 0x13, (char)lVar4, (char)lVar6, (char)lVar13, cVar8, uVar10, param_8,
	    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb);
	lVar6 = lVar6 + 1;
	do {
		if (*(int *)(puVar1 + (int)lVar6 * 4) == 0) {
			lVar6 = lVar6 + 1;
			if ((int)lVar6 == 0x14) {
				lVar6 = 1;
			}
		} else {
			iVar5 = 0x13;
			while (-1 < iVar5) {
				pcVar3 = puVar2 + (int)lVar6 * 0x14 + iVar5;
				if (*pcVar3 == '\x01') {
					iVar5 = -1;
					lVar6 = 0;
				} else {
					*pcVar3 = '\x01';
					pcVar3[0x14] = '\x01';
				}
				iVar5 = iVar5 + -1;
			}
		}
	} while ((int)lVar6 != 0);
	return;
}

longlong FUN_10038ed4(void)

{
	longlong lVar1;
	char *pcVar2;
	char *pcVar3;
	int iVar4;
	longlong lVar5;

	lVar1 = 0;
	iVar4 = 0;
	pcVar3 = PTR_DAT_100f1d08;
	do {
		lVar5 = 2;
		pcVar2 = pcVar3;
		do {
			if (*pcVar2 == '\x01') {
				lVar1 = lVar1 + 1;
			}
			if (pcVar2[0x14] == '\x01') {
				lVar1 = lVar1 + 1;
			}
			if (pcVar2[0x28] == '\x01') {
				lVar1 = lVar1 + 1;
			}
			if (pcVar2[0x3c] == '\x01') {
				lVar1 = lVar1 + 1;
			}
			if (pcVar2[0x50] == '\x01') {
				lVar1 = lVar1 + 1;
			}
			if (pcVar2[100] == '\x01') {
				lVar1 = lVar1 + 1;
			}
			if (pcVar2[0x78] == '\x01') {
				lVar1 = lVar1 + 1;
			}
			if (pcVar2[0x8c] == '\x01') {
				lVar1 = lVar1 + 1;
			}
			if (pcVar2[0xa0] == '\x01') {
				lVar1 = lVar1 + 1;
			}
			if (pcVar2[0xb4] == '\x01') {
				lVar1 = lVar1 + 1;
			}
			pcVar2 = pcVar2 + 200;
			lVar5 = lVar5 + -1;
		} while (lVar5 != 0);
		iVar4 = iVar4 + 1;
		pcVar3 = pcVar3 + 1;
	} while (iVar4 < 0x14);
	return lVar1;
}

void FUN_10038fd0(int param_1, int param_2, longlong param_3, int param_4)

{
	int iVar1;
	ulonglong uVar2;
	longlong lVar3;
	int iVar4;
	int iVar5;
	longlong lVar6;
	undefined *puVar7;

	iVar4 = (int)param_3;
	iVar5 = 0;
	puVar7 = PTR_DAT_100f1d08 + param_2;
	while (iVar5 < param_4) {
		lVar6 = 0;
		if (0 < iVar4) {
			if ((8 < iVar4) && (uVar2 = (ulonglong)(iVar4 - 1U >> 3), 0 < iVar4 + -8)) {
				do {
					iVar1 = param_1 + (int)lVar6;
					lVar6 = lVar6 + 8;
					puVar7[iVar1 * 0x14] = 1;
					puVar7[(iVar1 + 1) * 0x14] = 1;
					puVar7[(iVar1 + 2) * 0x14] = 1;
					puVar7[(iVar1 + 3) * 0x14] = 1;
					puVar7[(iVar1 + 4) * 0x14] = 1;
					puVar7[(iVar1 + 5) * 0x14] = 1;
					puVar7[(iVar1 + 6) * 0x14] = 1;
					puVar7[(iVar1 + 7) * 0x14] = 1;
					uVar2 = uVar2 - 1;
				} while (uVar2 != 0);
			}
			lVar3 = param_3 - lVar6;
			if ((int)lVar6 < iVar4) {
				do {
					iVar1 = (int)lVar6;
					lVar6 = lVar6 + 1;
					puVar7[(param_1 + iVar1) * 0x14] = 1;
					lVar3 = lVar3 + -1;
				} while (lVar3 != 0);
			}
		}
		puVar7 = puVar7 + 1;
		iVar5 = iVar5 + 1;
	}
	return;
}

undefined8 FUN_100390dc(longlong param_1, int param_2, longlong param_3, int param_4)

{
	int iVar1;
	undefined *puVar2;
	longlong lVar3;
	int iVar4;
	longlong lVar5;

	if (((int)param_1 < 1) || (param_2 < 1)) {
		return 0;
	}
	iVar4 = 0;
	puVar2 = PTR_DAT_100f1d08 + param_2;
	do {
		if (param_4 <= iVar4) {
			return 1;
		}
		lVar3 = 0;
		lVar5 = param_3;
		if (0 < (int)param_3) {
			do {
				if ((((param_1 + lVar3 < 0) || (iVar1 = (int)(param_1 + lVar3), 0x13 < iVar1)) || (param_2 + iVar4 < 0)) || (0x13 < param_2 + iVar4)) {
					return 0;
				}
				if (puVar2[iVar1 * 0x14] != '\0') {
					return 0;
				}
				lVar3 = lVar3 + 1;
				lVar5 = lVar5 + -1;
			} while (lVar5 != 0);
		}
		puVar2 = puVar2 + 1;
		iVar4 = iVar4 + 1;
	} while (true);
}

// WARNING: Removing unreachable block (ram,0x100391f0)

void FUN_10039178(longlong param_1, longlong param_2, ulonglong param_3, ulonglong param_4, int param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	int iVar3;
	bool bVar4;
	longlong lVar5;
	longlong lVar6;
	undefined8 uVar7;
	int iVar8;
	ulonglong uVar9;
	undefined param_6_00;
	ulonglong uVar10;
	undefined param_7_00;
	undefined param_8_00;
	longlong param_1_00;
	longlong lVar11;
	undefined uVar12;
	longlong param_2_00;
	longlong lVar13;
	longlong lVar14;
	ulonglong param_4_00;
	ulonglong param_3_00;
	undefined4 param_9_00;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	lVar14 = (longlong)param_8;
	lVar13 = (longlong)param_7;
	lVar11 = (longlong)param_6;
	lVar6 = (longlong)param_5;
	uVar9 = param_3;
	uVar10 = param_4;
	lVar5 = random(0, 4, (char)param_3, (char)param_4, (char)param_5, param_6, param_7, param_8,
	    param_9_00, in_stack_ffffffaf, in_stack_ffffffbb);
	if (param_5 == 1) {
		if ((int)lVar5 == 0) {
			bVar4 = false;
		} else {
			bVar4 = true;
		}
	} else {
		if ((int)lVar5 == 0) {
			bVar4 = true;
		} else {
			bVar4 = false;
		}
	}
	if (bVar4) {
		iVar8 = 0;
		do {
			param_6_00 = (undefined)uVar9;
			param_7_00 = (undefined)uVar10;
			lVar5 = random(0, 5, param_6_00, param_7_00, (char)lVar6, (char)lVar11, (char)lVar13,
			    (char)lVar14, param_9_00, in_stack_ffffffaf, in_stack_ffffffbb);
			uVar1 = ((int)lVar5 + 2 >> 1) << 1;
			param_3_00 = (ulonglong)uVar1;
			lVar5 = random(0, 5, param_6_00, param_7_00, (char)lVar6, (char)lVar11, (char)lVar13,
			    (char)lVar14, param_9_00, in_stack_ffffffaf, in_stack_ffffffbb);
			uVar9 = param_3_00 + 2;
			uVar2 = ((int)(lVar5 + 2U) >> 1) * 2;
			param_4_00 = (ulonglong)uVar2;
			uVar10 = param_4_00 + 1;
			param_1_00 = (param_1 + (ulonglong)(uint)((int)param_3 >> 1) + (ulonglong)((int)param_3 < 0 && (param_3 & 1) != 0)) - (lVar5 + 2U & 0xffffffff00000000 | (ulonglong)(uint)((int)uVar1 >> 1));
			iVar3 = (int)(param_2 - param_4_00);
			lVar5 = FUN_100390dc(param_1_00 + -1, iVar3 + -1, uVar9, (int)uVar10);
			param_8_00 = (undefined)lVar14;
			param_7_00 = (undefined)lVar13;
			param_6_00 = (undefined)lVar11;
			iVar8 = iVar8 + 1;
			if (lVar5 != 0)
				break;
		} while (iVar8 < 0x14);
		if ((int)lVar5 == 1) {
			FUN_10038fd0((int)param_1_00, iVar3, param_3_00, uVar2);
		}
		iVar8 = (int)(param_2 + param_4);
		uVar7 = FUN_100390dc(param_1_00 + -1, iVar8, param_3_00 + 2, uVar2 + 1);
		if ((int)uVar7 == 1) {
			FUN_10038fd0((int)param_1_00, iVar8, param_3_00, uVar2);
		}
		if ((int)lVar5 == 1) {
			FUN_10039178(param_1_00, param_2 - param_4_00, param_3_00, param_4_00, 0, param_6_00, param_7_00,
			    param_8_00, param_9_00);
		}
		if ((int)uVar7 == 1) {
			FUN_10039178(param_1_00, param_2 + param_4, param_3_00, param_4_00, 0, param_6_00, param_7_00,
			    param_8_00, param_9_00);
		}
	} else {
		if (!bVar4) {
			iVar8 = 0;
			do {
				param_6_00 = (undefined)uVar9;
				param_7_00 = (undefined)uVar10;
				param_8_00 = (undefined)lVar6;
				uVar12 = (undefined)lVar11;
				lVar6 = random(0, 5, param_6_00, param_7_00, param_8_00, uVar12, (char)lVar13, (char)lVar14,
				    param_9_00, in_stack_ffffffaf, in_stack_ffffffbb);
				param_3_00 = (ulonglong)(uint)(((int)lVar6 + 2 >> 1) << 1);
				lVar6 = random(0, 5, param_6_00, param_7_00, param_8_00, uVar12, (char)lVar13, (char)lVar14,
				    param_9_00, in_stack_ffffffaf, in_stack_ffffffbb);
				uVar10 = param_3_00 + 1;
				uVar1 = ((int)(lVar6 + 2U) >> 1) * 2;
				param_4_00 = (ulonglong)uVar1;
				uVar9 = param_4_00 + 2;
				param_2_00 = (param_2 + (ulonglong)(uint)((int)param_4 >> 1) + (ulonglong)((int)param_4 < 0 && (param_4 & 1) != 0)) - (lVar6 + 2U & 0xffffffff00000000 | (ulonglong)(uint)((int)uVar1 >> 1));
				param_1_00 = param_1 - param_3_00;
				iVar3 = (int)param_2_00;
				lVar6 = param_1_00;
				lVar11 = param_2_00;
				lVar5 = FUN_100390dc(param_1_00 + -1, iVar3 + -1, uVar9, (int)uVar10);
				param_8_00 = (undefined)lVar14;
				param_7_00 = (undefined)lVar13;
				param_6_00 = (undefined)lVar11;
				iVar8 = iVar8 + 1;
				if (lVar5 != 0)
					break;
			} while (iVar8 < 0x14);
			if ((int)lVar5 == 1) {
				FUN_10038fd0((int)param_1_00, iVar3, param_3_00, uVar1);
			}
			param_1 = param_1 + param_3;
			uVar7 = FUN_100390dc(param_1, iVar3 + -1, param_3_00 + 1, uVar1 + 2);
			if ((int)uVar7 == 1) {
				FUN_10038fd0((int)param_1, iVar3, param_3_00, uVar1);
			}
			if ((int)lVar5 == 1) {
				FUN_10039178(param_1_00, param_2_00, param_3_00, param_4_00, 1, param_6_00, param_7_00, param_8_00,
				    param_9_00);
			}
			if ((int)uVar7 == 1) {
				FUN_10039178(param_1, param_2_00, param_3_00, param_4_00, 1, param_6_00, param_7_00, param_8_00,
				    param_9_00);
			}
		}
	}
	return;
}

void FUN_1003942c(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	char cVar1;
	int *piVar2;
	int iVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined **ppuVar11;
	longlong lVar12;
	longlong lVar13;
	undefined8 uVar14;
	longlong lVar15;
	ulonglong uVar16;
	undefined uVar17;
	ulonglong uVar18;
	undefined uVar19;
	ulonglong unaff_r23;
	ulonglong uVar20;
	int iVar21;
	int iVar22;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined in_stack_ffffffab;

	puVar10 = PTR_DAT_100f1cf4;
	puVar9 = PTR_DAT_100f1cf0;
	puVar8 = PTR_DAT_100f1cec;
	puVar7 = PTR_DAT_100f1ce8;
	puVar6 = PTR_DAT_100f19cc;
	puVar5 = PTR_DAT_100f17ec;
	puVar4 = PTR_DAT_100f17e0;
	ppuVar11 = &toc;
	cVar1 = *PTR_DAT_100f17ec;
	if (cVar1 == '\x10') {
		uVar18 = 0xe;
		uVar16 = 0xe;
	} else {
		if ((cVar1 == PTR_DAT_100f19cc[0x108]) && (PTR_DAT_100f19cc[0x10a] != '\0')) {
			uVar18 = 0xb;
			uVar16 = 0xb;
		} else {
			if ((cVar1 == PTR_DAT_100f19cc[0x168]) && (*PTR_DAT_100f17e0 != '\x01')) {
				uVar18 = 0xb;
				uVar16 = 0xb;
			} else {
				ppuVar11 = &toc;
				lVar12 = random(0, 5, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff98,
				    in_stack_ffffff9f, in_stack_ffffffab);
				uVar18 = lVar12 + 2;
				lVar12 = random(0, 5, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff98,
				    in_stack_ffffff9f, in_stack_ffffffab);
				uVar16 = lVar12 + 2;
			}
		}
	}
	uVar17 = (undefined)uVar16;
	uVar19 = (undefined)uVar18;
	uVar20 = unaff_r23 & 0xffffffff00000000 | (ulonglong)(uint)(0x14 - (int)uVar18 >> 1);
	lVar12 = random(0, (-uVar20 - uVar18) + 0x14, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
	lVar12 = uVar20 + lVar12;
	if (0x13 < (int)(uVar18 + lVar12)) {
		lVar12 = (lVar12 - (uVar18 + lVar12 + -0x13)) + 1;
	}
	iVar3 = (int)uVar16;
	uVar20 = unaff_r23 & 0xffffffff00000000 | (ulonglong)(uint)(0x14 - iVar3 >> 1);
	lVar13 = random(0, (-uVar20 - uVar16) + 0x14, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
	lVar13 = uVar20 + lVar13;
	if (0x13 < (int)(uVar16 + lVar13)) {
		lVar13 = (lVar13 - (uVar16 + lVar13 + -0x13)) + 1;
	}
	iVar22 = (int)lVar12;
	iVar21 = (int)lVar13;
	if (*puVar5 == '\x10') {
		piVar2 = (int *)ppuVar11[-0x1cb6];
		*(int *)ppuVar11[-0x1cb5] = iVar22;
		*piVar2 = iVar21;
	}
	uVar14 = QuestStatus(0xb);
	if (((int)uVar14 == 0) && ((*puVar5 != puVar6[0x168] || (*puVar4 == '\x01')))) {
		*(undefined4 *)puVar10 = 0;
		*(undefined4 *)puVar9 = 0;
		*(undefined4 *)puVar8 = 0;
		*(undefined4 *)puVar7 = 0;
	} else {
		*(int *)puVar10 = iVar22 + 1;
		*(int *)puVar9 = iVar21 + 1;
		*(int *)puVar8 = *(int *)puVar10 + (int)uVar18;
		*(int *)puVar7 = *(int *)puVar9 + iVar3;
	}
	FUN_10038fd0(iVar22, iVar21, uVar18, iVar3);
	lVar15 = random(0, 2, uVar19, uVar17, param_5, param_6, param_7, param_8, in_stack_ffffff98,
	    in_stack_ffffff9f, in_stack_ffffffab);
	FUN_10039178(lVar12, lVar13, uVar18, uVar16, (int)lVar15, param_6, param_7, param_8, in_stack_ffffff98);
	return;
}

void FUN_1003962c(void)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	int iVar5;
	int iVar6;
	int iVar7;
	int iVar8;
	int iVar9;
	int iVar10;
	int iVar11;
	undefined *puVar12;
	int iVar13;
	int iVar14;
	int iVar15;
	int iVar16;
	int iVar17;
	int iVar18;
	int iVar19;
	int iVar20;
	int iVar21;
	int iVar22;
	int iVar23;
	int iVar24;
	int iVar25;
	int iVar26;

	puVar3 = PTR_DAT_100f1abc;
	iVar15 = 0;
	iVar1 = *(int *)PTR_DAT_100f1cfc;
	iVar2 = -iVar1;
	puVar4 = PTR_DAT_100f1abc + *(int *)PTR_DAT_100f1cf8;
	iVar26 = (iVar1 + 3) * 0x28;
	iVar25 = (iVar2 + 0x24) * 0x28;
	iVar24 = (iVar1 + 4) * 0x28;
	iVar23 = (iVar2 + 0x23) * 0x28;
	iVar22 = (iVar1 + 5) * 0x28;
	iVar21 = (iVar2 + 0x22) * 0x28;
	iVar20 = (iVar1 + 6) * 0x28;
	iVar6 = (iVar2 + 0x27) * 0x28;
	iVar7 = (iVar1 + 1) * 0x28;
	iVar8 = (iVar2 + 0x26) * 0x28;
	iVar9 = (iVar1 + 2) * 0x28;
	iVar10 = (iVar2 + 0x25) * 0x28;
	iVar19 = (iVar2 + 0x21) * 0x28;
	iVar18 = (iVar1 + 7) * 0x28;
	iVar17 = (iVar2 + 0x20) * 0x28;
	iVar5 = 0x27 - *(int *)PTR_DAT_100f1cf8;
	do {
		puVar4[iVar1 * 0x28] = 1;
		puVar12 = puVar3 + (iVar5 - iVar15);
		puVar4[iVar6] = 1;
		iVar16 = 8;
		puVar12[iVar1 * 0x28] = 1;
		puVar12[iVar6] = 1;
		puVar4[iVar7] = 1;
		puVar4[iVar8] = 1;
		puVar12[iVar7] = 1;
		puVar12[iVar8] = 1;
		puVar4[iVar9] = 1;
		puVar4[iVar10] = 1;
		puVar12[iVar9] = 1;
		puVar12[iVar10] = 1;
		puVar4[iVar26] = 1;
		puVar4[iVar25] = 1;
		puVar12[iVar26] = 1;
		puVar12[iVar25] = 1;
		puVar4[iVar24] = 1;
		puVar4[iVar23] = 1;
		puVar12[iVar24] = 1;
		puVar12[iVar23] = 1;
		puVar4[iVar22] = 1;
		puVar4[iVar21] = 1;
		puVar12[iVar22] = 1;
		puVar12[iVar21] = 1;
		puVar4[iVar20] = 1;
		puVar4[iVar19] = 1;
		puVar12[iVar20] = 1;
		puVar12[iVar19] = 1;
		puVar4[iVar18] = 1;
		puVar4[iVar17] = 1;
		puVar12[iVar18] = 1;
		puVar12[iVar17] = 1;
		puVar12 = puVar3 + (iVar5 - iVar15);
		iVar13 = 6;
		do {
			iVar11 = (iVar1 + iVar16) * 0x28;
			puVar4[iVar11] = 1;
			iVar14 = ((iVar2 + 0x27) - iVar16) * 0x28;
			iVar16 = iVar16 + 1;
			puVar4[iVar14] = 1;
			puVar12[iVar11] = 1;
			puVar12[iVar14] = 1;
			iVar13 = iVar13 + -1;
		} while (iVar13 != 0);
		iVar15 = iVar15 + 1;
		puVar4 = puVar4 + 1;
	} while (iVar15 < 0xe);
	return;
}

void DRLG_L4SetRoom(longlong param_1, longlong param_2, longlong param_3, ulonglong param_4,
    longlong param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	byte bVar1;
	byte bVar2;
	byte bVar3;
	int iVar4;
	undefined **ppuVar5;
	ulonglong uVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	int iVar10;
	undefined4 in_stack_ffffffb8;

	ppuVar5 = &toc;
	uVar6 = FUN_100b8f7c(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	iVar10 = 0;
	lVar8 = (ulonglong) * (uint *)((int)param_1 + 0x88) + 4;
	bVar1 = *(byte *)uVar6;
	lVar7 = ZEXT48(ppuVar5[-0x1df3]) + param_3;
	bVar2 = ((byte *)uVar6)[2];
	param_3 = ZEXT48(ppuVar5[-0x1d45]) + param_3;
	while (iVar10 < (int)(uint)bVar2) {
		lVar9 = 0;
		uVar6 = (ulonglong)bVar1;
		if (bVar1 != 0) {
			do {
				bVar3 = *(byte *)lVar8;
				param_4 = (ulonglong)bVar3;
				if (bVar3 == 0) {
					*(undefined *)((int)lVar7 + ((int)param_2 + (int)lVar9) * 0x28) = 6;
				} else {
					param_5 = (param_2 + lVar9) * 0x28;
					iVar4 = (int)param_5;
					*(byte *)((int)lVar7 + iVar4) = bVar3;
					*(byte *)((int)param_3 + iVar4) = *(byte *)((int)param_3 + iVar4) | 0x80;
				}
				lVar8 = lVar8 + 2;
				lVar9 = lVar9 + 1;
				uVar6 = uVar6 - 1;
			} while (uVar6 != 0);
		}
		lVar7 = lVar7 + 1;
		param_3 = param_3 + 1;
		iVar10 = iVar10 + 1;
	}
	FUN_100b9100((int)param_1, (char)lVar7, (char)param_3, (char)param_4, (char)param_5, (char)lVar8, bVar1,
	    bVar2, in_stack_ffffffb8);
	return;
}

void DRLG_LoadDiabQuads(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined *puVar12;
	undefined **ppuVar13;
	ulonglong uVar14;
	longlong lVar15;
	undefined uVar16;
	ulonglong uVar17;
	undefined uVar18;
	undefined7 uVar19;
	undefined uVar20;
	undefined7 uVar21;
	undefined uVar22;
	undefined uVar23;
	undefined uVar24;
	undefined uVar25;
	undefined8 unaff_r21;
	undefined8 unaff_r22;
	undefined8 unaff_r23;
	undefined8 unaff_r24;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffff98;
	int *local_38[3];
	undefined4 local_2c;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar12 = PTR_DAT_100f1cfc;
	puVar11 = PTR_DAT_100f1cf8;
	puVar10 = PTR_DAT_100f1ce4;
	puVar9 = PTR_DAT_100f1ce0;
	puVar8 = PTR_DAT_100f1cdc;
	puVar7 = PTR_DAT_100f1cd8;
	puVar6 = PTR_DAT_100f1cd4;
	puVar5 = PTR_DAT_100f1cd0;
	puVar4 = PTR_DAT_100f1ccc;
	puVar3 = PTR_DAT_100f1cc8;
	uVar21 = (undefined7)((ulonglong)param_5 >> 8);
	uVar22 = (undefined)param_5;
	uVar19 = (undefined7)((ulonglong)param_4 >> 8);
	uVar20 = (undefined)param_4;
	ppuVar13 = &toc;
	local_2c = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar14 = LoadFileInMem(ZEXT48(PTR_s_Levels_L4Data_diab1_DUN_100f2cf8), (undefined4 *)0x0, param_3,
	    param_4, param_5, param_6, param_7, param_8, in_stack_ffffff98);
	local_38[0] = (int *)uVar14;
	*(int *)puVar10 = *(int *)puVar12 + 4;
	*(int *)puVar9 = *(int *)puVar11 + 4;
	uVar1 = *(uint *)puVar10;
	uVar16 = (undefined)uVar1;
	uVar17 = (ulonglong) * (uint *)puVar9;
	DRLG_L4SetRoom(uVar14 & 0xffffffff, (ulonglong)uVar1, uVar17, CONCAT71(uVar19, uVar20),
	    CONCAT71(uVar21, uVar22), param_6, param_7, param_8, in_stack_ffffff98);
	mem_free_dbg(local_38, uVar16, (char)uVar17, uVar20, uVar22, (char)param_6, (char)param_7, (char)param_8,
	    in_stack_ffffff98);
	if (param_1 == 0) {
		lVar15 = LoadFileInMem(ZEXT48(ppuVar13[-0x18b8]), (undefined4 *)0x0, uVar17, CONCAT71(uVar19, uVar20), CONCAT71(uVar21, uVar22), param_6, param_7, param_8, in_stack_ffffff98);
		local_38[0] = (int *)lVar15;
	} else {
		lVar15 = LoadFileInMem(ZEXT48(ppuVar13[-0x18b7]), (undefined4 *)0x0, uVar17, CONCAT71(uVar19, uVar20), CONCAT71(uVar21, uVar22), param_6, param_7, param_8, in_stack_ffffff98);
		local_38[0] = (int *)lVar15;
	}
	*(int *)puVar8 = 0x1b - *(int *)puVar12;
	*(int *)puVar7 = *(int *)puVar11 + 1;
	uVar1 = *(uint *)puVar8;
	uVar16 = (undefined)uVar1;
	uVar14 = (ulonglong) * (uint *)puVar7;
	DRLG_L4SetRoom(ZEXT48(local_38[0]), (ulonglong)uVar1, uVar14, CONCAT71(uVar19, uVar20),
	    CONCAT71(uVar21, uVar22), param_6, param_7, param_8, in_stack_ffffff98);
	mem_free_dbg(local_38, uVar16, (char)uVar14, uVar20, uVar22, (char)param_6, (char)param_7, (char)param_8,
	    in_stack_ffffff98);
	if (param_1 == 0) {
		lVar15 = LoadFileInMem(ZEXT48(ppuVar13[-0x18ba]), (undefined4 *)0x0, uVar14, CONCAT71(uVar19, uVar20), CONCAT71(uVar21, uVar22), param_6, param_7, param_8, in_stack_ffffff98);
		local_38[0] = (int *)lVar15;
	} else {
		lVar15 = LoadFileInMem(ZEXT48(ppuVar13[-0x18b9]), (undefined4 *)0x0, uVar14, CONCAT71(uVar19, uVar20), CONCAT71(uVar21, uVar22), param_6, param_7, param_8, in_stack_ffffff98);
		local_38[0] = (int *)lVar15;
	}
	*(int *)puVar6 = *(int *)puVar12 + 1;
	*(int *)puVar5 = 0x1b - *(int *)puVar11;
	uVar1 = *(uint *)puVar6;
	uVar16 = (undefined)uVar1;
	uVar14 = (ulonglong) * (uint *)puVar5;
	DRLG_L4SetRoom(ZEXT48(local_38[0]), (ulonglong)uVar1, uVar14, CONCAT71(uVar19, uVar20),
	    CONCAT71(uVar21, uVar22), param_6, param_7, param_8, in_stack_ffffff98);
	mem_free_dbg(local_38, uVar16, (char)uVar14, uVar20, uVar22, (char)param_6, (char)param_7, (char)param_8,
	    in_stack_ffffff98);
	if (param_1 == 0) {
		lVar15 = LoadFileInMem(ZEXT48(ppuVar13[-0x18bc]), (undefined4 *)0x0, uVar14, CONCAT71(uVar19, uVar20), CONCAT71(uVar21, uVar22), param_6, param_7, param_8, in_stack_ffffff98);
		local_38[0] = (int *)lVar15;
	} else {
		lVar15 = LoadFileInMem(ZEXT48(ppuVar13[-0x18bb]), (undefined4 *)0x0, uVar14, CONCAT71(uVar19, uVar20), CONCAT71(uVar21, uVar22), param_6, param_7, param_8, in_stack_ffffff98);
		local_38[0] = (int *)lVar15;
	}
	uVar25 = (undefined)param_8;
	uVar24 = (undefined)param_7;
	uVar23 = (undefined)param_6;
	*(int *)puVar4 = 0x1c - *(int *)puVar12;
	*(int *)puVar3 = 0x1c - *(int *)puVar11;
	uVar1 = *(uint *)puVar4;
	uVar16 = (undefined)uVar1;
	uVar2 = *(uint *)puVar3;
	uVar18 = (undefined)uVar2;
	DRLG_L4SetRoom(ZEXT48(local_38[0]), (ulonglong)uVar1, (ulonglong)uVar2, CONCAT71(uVar19, uVar20),
	    CONCAT71(uVar21, uVar22), param_6, param_7, param_8, in_stack_ffffff98);
	mem_free_dbg(local_38, uVar16, uVar18, uVar20, uVar22, uVar23, uVar24, uVar25, in_stack_ffffff98);
	return;
}

undefined8
FUN_10039a54(byte *param_1, longlong param_2, longlong param_3, int param_4, int param_5, int param_6,
    int param_7, char param_8, undefined4 param_9, undefined param_10, undefined4 param_11,
    undefined4 param_12)

{
	byte bVar1;
	byte bVar2;
	int *piVar3;
	int iVar4;
	undefined *puVar5;
	undefined *puVar6;
	ulonglong uVar7;
	ulonglong uVar8;
	longlong lVar9;
	int iVar10;
	bool bVar12;
	longlong lVar11;
	undefined uVar13;
	longlong lVar14;
	ulonglong uVar15;
	undefined uVar17;
	longlong lVar16;
	longlong lVar18;
	ulonglong uVar19;
	ulonglong uVar20;
	ulonglong uVar21;
	longlong lVar22;
	longlong lVar23;
	int iVar24;
	longlong unaff_r29;
	longlong unaff_r31;
	ulonglong uVar25;
	undefined4 in_stack_ffffff68;
	undefined in_stack_ffffff6f;
	undefined in_stack_ffffff7b;
	int local_68;
	int local_64;

	puVar6 = PTR_DAT_100f1cec;
	puVar5 = PTR_DAT_100f1ce8;
	lVar18 = (longlong)param_8;
	lVar16 = (longlong)param_7;
	uVar15 = SEXT48(param_6);
	lVar14 = (longlong)param_5;
	lVar11 = (longlong)param_4;
	uVar7 = ZEXT48(&toc);
	uVar19 = ZEXT48(PTR_DAT_100f1cf0);
	uVar21 = ZEXT48(PTR_DAT_100f1abc);
	uVar20 = ZEXT48(PTR_DAT_100f1804);
	bVar1 = *param_1;
	bVar2 = param_1[1];
	if (param_3 - param_2 == 0) {
		local_68 = 1;
	} else {
		lVar22 = random(0, param_3 - param_2, (char)param_3, (char)param_4, (char)param_5,
		    (char)param_6, (char)param_7, param_8, in_stack_ffffff68, in_stack_ffffff6f,
		    in_stack_ffffff7b);
		local_68 = (int)param_2 + (int)lVar22;
	}
	lVar22 = 0x28 - (ulonglong)bVar1;
	local_64 = 0;
	lVar23 = 0x28 - (ulonglong)bVar2;
	while (true) {
		uVar13 = (undefined)lVar11;
		if (local_68 <= local_64) {
			iVar24 = (int)uVar7;
			iVar10 = (int)unaff_r31;
			iVar4 = (int)unaff_r29;
			if (**(char **)(iVar24 + -0x77e4) == '\x0f') {
				*(int *)(*(int *)(iVar24 + -0x7604) + 0x16c) = iVar10 + 1;
				*(int *)(*(int *)(iVar24 + -0x7604) + 0x170) = iVar4 + 1;
			}
			if (param_6 == 1) {
				piVar3 = *(int **)(iVar24 + -0x77b4);
				**(int **)(iVar24 + -0x77b0) = iVar10 * 2 + 0x15;
				*piVar3 = iVar4 * 2 + 0x16;
			}
			if (param_7 == 0) {
				piVar3 = *(int **)(iVar24 + -0x7520);
				**(int **)(iVar24 + -0x751c) = iVar10 * 2 + 0x15;
				*piVar3 = iVar4 * 2 + 0x16;
			}
			return 1;
		}
		unaff_r31 = random(0, lVar22, (char)param_3, uVar13, (char)lVar14, (char)uVar15, (char)lVar16,
		    (char)lVar18, in_stack_ffffff68, in_stack_ffffff6f, in_stack_ffffff7b);
		unaff_r29 = random(0, lVar23, (char)param_3, uVar13, (char)lVar14, (char)uVar15, (char)lVar16,
		    (char)lVar18, in_stack_ffffff68, in_stack_ffffff6f, in_stack_ffffff7b);
		bVar12 = false;
		iVar24 = 0;
		while (true) {
			uVar17 = (undefined)lVar16;
			uVar13 = (undefined)lVar14;
			if ((bVar12) || (199 < iVar24))
				break;
			bVar12 = true;
			iVar10 = (int)unaff_r31;
			if ((((**(int **)((int)uVar7 + -0x72dc) <= iVar10) && (iVar10 <= *(int *)puVar6)) && (*(int *)uVar19 <= (int)unaff_r29)) && ((int)unaff_r29 <= *(int *)puVar5)) {
				bVar12 = false;
			}
			if (((param_4 != -1) && ((int)(param_4 - (uint)bVar1) <= iVar10)) && (iVar10 <= param_4 + 0xc)) {
				unaff_r31 = random(0, lVar22, (char)param_3, bVar12, uVar13, (char)uVar15, uVar17,
				    (char)lVar18, in_stack_ffffff68, in_stack_ffffff6f, in_stack_ffffff7b);
				unaff_r29 = random(0, lVar23, (char)param_3, bVar12, uVar13, (char)uVar15, uVar17,
				    (char)lVar18, in_stack_ffffff68, in_stack_ffffff6f, in_stack_ffffff7b);
				bVar12 = false;
			}
			if (((param_5 != -1) && ((int)(param_5 - (uint)bVar2) <= (int)unaff_r29)) && ((int)unaff_r29 <= param_5 + 0xc)) {
				unaff_r31 = random(0, lVar22, (char)param_3, bVar12, uVar13, (char)uVar15, uVar17,
				    (char)lVar18, in_stack_ffffff68, in_stack_ffffff6f, in_stack_ffffff7b);
				unaff_r29 = random(0, lVar23, (char)param_3, bVar12, uVar13, (char)uVar15, uVar17,
				    (char)lVar18, in_stack_ffffff68, in_stack_ffffff6f, in_stack_ffffff7b);
				bVar12 = false;
			}
			lVar11 = uVar20 + unaff_r29;
			lVar9 = uVar21 + unaff_r29;
			lVar14 = (longlong)(int)param_1 + 2;
			lVar16 = 0;
			while (((int)lVar16 < (int)(uint)bVar2 && (bVar12))) {
				param_3 = 0;
				while ((iVar10 = (int)param_3, iVar10 < (int)(uint)bVar1 && (bVar12))) {
					if ((*(byte *)lVar14 != 0) && (uVar15 = (ulonglong) * (byte *)((int)lVar11 + ((int)unaff_r31 + iVar10) * 0x28), (ulonglong) * (byte *)lVar14 != uVar15)) {
						bVar12 = false;
					}
					if (*(char *)((int)lVar9 + ((int)unaff_r31 + iVar10) * 0x28) != '\0') {
						bVar12 = false;
					}
					lVar14 = lVar14 + 1;
					param_3 = param_3 + 1;
				}
				lVar11 = lVar11 + 1;
				lVar9 = lVar9 + 1;
				lVar16 = lVar16 + 1;
			}
			if ((!bVar12) && (unaff_r31 = unaff_r31 + 1, (int)unaff_r31 == (int)lVar22)) {
				unaff_r29 = unaff_r29 + 1;
				unaff_r31 = 0;
				if ((int)unaff_r29 == (int)lVar23) {
					unaff_r29 = 0;
				}
			}
			iVar24 = iVar24 + 1;
		}
		if (199 < iVar24)
			break;
		uVar8 = (ulonglong)((uint)bVar2 * (uint)bVar1 + 2);
		lVar11 = uVar20 + unaff_r29;
		lVar14 = uVar21 + unaff_r29;
		lVar16 = 0;
		while ((int)lVar16 < (int)(uint)bVar2) {
			param_3 = (longlong)(int)param_1 + uVar8;
			lVar9 = 0;
			uVar25 = (ulonglong)bVar1;
			if (bVar1 != 0) {
				do {
					if (*(char *)param_3 != '\0') {
						uVar15 = (unaff_r31 + lVar9) * 0x28;
						iVar24 = (int)uVar15;
						*(char *)((int)lVar11 + iVar24) = *(char *)param_3;
						*(byte *)((int)lVar14 + iVar24) = *(byte *)((int)lVar14 + iVar24) | 8;
					}
					uVar8 = uVar8 + 1;
					param_3 = param_3 + 1;
					lVar9 = lVar9 + 1;
					uVar25 = uVar25 - 1;
				} while (uVar25 != 0);
			}
			lVar11 = lVar11 + 1;
			lVar14 = lVar14 + 1;
			lVar16 = lVar16 + 1;
		}
		local_64 = local_64 + 1;
	}
	return 0;
}

undefined8 FUN_10039dc8(char param_1)

{
	if (param_1 == '\x19') {
		return 1;
	}
	if (param_1 == '\x1c') {
		return 1;
	}
	if (param_1 == '\x17') {
		return 1;
	}
	return 0;
}

undefined8 FUN_10039e04(char param_1)

{
	if (param_1 == '\x1b') {
		return 1;
	}
	if (param_1 == '\x1a') {
		return 1;
	}
	if (param_1 == '\x16') {
		return 1;
	}
	return 0;
}

void FUN_10039e40(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined8 uVar2;
	undefined *puVar3;
	int iVar4;
	int iVar5;
	int iVar6;
	int iVar7;
	char *pcVar8;
	int iVar9;
	char *pcVar10;

	puVar1 = PTR_DAT_100f1a48;
	iVar5 = 0x10;
	iVar6 = 0;
	pcVar8 = PTR_DAT_100f1804;
	do {
		iVar7 = 0;
		iVar9 = 0x700;
		pcVar10 = pcVar8;
		do {
			uVar2 = FUN_10039dc8(*pcVar10);
			if (((int)uVar2 != 0) && (pcVar10[-1] == '\x12')) {
				puVar3 = (undefined *)(iVar5 + *(int *)puVar1 + iVar9);
				puVar3[0x70] = *puVar3;
				puVar3 = (undefined *)(iVar5 + *(int *)puVar1 + iVar9);
				puVar3[0x71] = *puVar3;
			}
			uVar2 = FUN_10039e04(*pcVar10);
			if (((int)uVar2 != 0) && (pcVar10[0x28] == '\x13')) {
				puVar3 = (undefined *)(iVar5 + *(int *)puVar1 + iVar9);
				puVar3[1] = *puVar3;
				puVar3 = (undefined *)(iVar5 + *(int *)puVar1 + iVar9);
				puVar3[0x71] = *puVar3;
			}
			if (*pcVar10 == '\x12') {
				puVar3 = (undefined *)(iVar5 + *(int *)puVar1 + iVar9);
				puVar3[0x70] = *puVar3;
				puVar3 = (undefined *)(iVar5 + *(int *)puVar1 + iVar9);
				puVar3[0x71] = *puVar3;
			}
			if (*pcVar10 == '\x13') {
				puVar3 = (undefined *)(iVar5 + *(int *)puVar1 + iVar9);
				puVar3[1] = *puVar3;
				puVar3 = (undefined *)(iVar5 + *(int *)puVar1 + iVar9);
				puVar3[0x71] = *puVar3;
			}
			if (*pcVar10 == '\x18') {
				puVar3 = (undefined *)(iVar5 + *(int *)puVar1 + iVar9);
				puVar3[0x70] = *puVar3;
				puVar3 = (undefined *)(iVar5 + *(int *)puVar1 + iVar9);
				puVar3[1] = *puVar3;
				puVar3 = (undefined *)(iVar5 + *(int *)puVar1 + iVar9);
				puVar3[0x71] = *puVar3;
			}
			if (*pcVar10 == '9') {
				iVar4 = iVar5 + *(int *)puVar1 + iVar9;
				*(undefined *)(iVar4 + -0x70) = *(undefined *)(iVar4 + 1);
				puVar3 = (undefined *)(iVar5 + *(int *)puVar1 + iVar9);
				*puVar3 = puVar3[1];
			}
			if (*pcVar10 == '5') {
				iVar4 = iVar5 + *(int *)puVar1 + iVar9;
				*(undefined *)(iVar4 + -1) = *(undefined *)(iVar4 + 0x70);
				puVar3 = (undefined *)(iVar5 + *(int *)puVar1 + iVar9);
				*puVar3 = puVar3[0x70];
			}
			iVar7 = iVar7 + 1;
			pcVar10 = pcVar10 + 0x28;
			iVar9 = iVar9 + 0xe0;
		} while (iVar7 < 0x28);
		iVar6 = iVar6 + 1;
		pcVar8 = pcVar8 + 1;
		iVar5 = iVar5 + 2;
	} while (iVar6 < 0x28);
	return;
}

void FUN_1003a04c(void)

{
	byte *pbVar1;
	byte bVar2;
	undefined *puVar3;
	byte *pbVar4;
	int iVar5;
	longlong lVar6;

	iVar5 = 1;
	puVar3 = PTR_DAT_100f1804;
	do {
		pbVar4 = puVar3 + 0x29;
		lVar6 = 0x13;
		do {
			bVar2 = *pbVar4;
			if ((0x11 < bVar2) && (bVar2 < 0x1f)) {
				if (pbVar4[0x28] < 0x12) {
					*pbVar4 = bVar2 + 0x62;
				} else {
					if (pbVar4[1] < 0x12) {
						*pbVar4 = bVar2 + 0x62;
					}
				}
			}
			pbVar1 = pbVar4 + 0x28;
			bVar2 = *pbVar1;
			if ((0x11 < bVar2) && (bVar2 < 0x1f)) {
				if (pbVar4[0x50] < 0x12) {
					*pbVar1 = bVar2 + 0x62;
				} else {
					if (pbVar4[0x29] < 0x12) {
						*pbVar1 = bVar2 + 0x62;
					}
				}
			}
			pbVar4 = pbVar4 + 0x50;
			lVar6 = lVar6 + -1;
		} while (lVar6 != 0);
		iVar5 = iVar5 + 1;
		puVar3 = puVar3 + 1;
	} while (iVar5 < 0x27);
	return;
}

// WARNING: Removing unreachable block (ram,0x1003a1cc)

void FUN_1003a108(void)

{
	longlong lVar1;
	undefined *puVar2;
	undefined *puVar3;

	puVar2 = PTR_DAT_100f1d08;
	*PTR_DAT_100f1d08 = 0;
	puVar2[0x14] = 0;
	puVar2[0x28] = 0;
	puVar2[0x3c] = 0;
	puVar2[0x50] = 0;
	puVar2[100] = 0;
	puVar2[0x78] = 0;
	puVar2[0x8c] = 0;
	puVar2[0xa0] = 0;
	puVar2[0xb4] = 0;
	puVar2[200] = 0;
	puVar2[0xdc] = 0;
	puVar2[0xf0] = 0;
	puVar2[0x104] = 0;
	puVar2[0x118] = 0;
	puVar2[300] = 0;
	puVar3 = puVar2 + 0x140;
	lVar1 = 4;
	do {
		*puVar3 = 0;
		puVar3 = puVar3 + 0x14;
		lVar1 = lVar1 + -1;
	} while (lVar1 != 0);
	*puVar2 = 0;
	puVar2[1] = 0;
	puVar2[2] = 0;
	puVar2[3] = 0;
	puVar2[4] = 0;
	puVar2[5] = 0;
	puVar2[6] = 0;
	puVar2[7] = 0;
	puVar2[8] = 0;
	puVar2[9] = 0;
	puVar2[10] = 0;
	puVar2[0xb] = 0;
	puVar2[0xc] = 0;
	puVar2[0xd] = 0;
	puVar2[0xe] = 0;
	puVar2[0xf] = 0;
	puVar2 = puVar2 + 0x10;
	lVar1 = 4;
	do {
		*puVar2 = 0;
		puVar2 = puVar2 + 1;
		lVar1 = lVar1 + -1;
	} while (lVar1 != 0);
	return;
}

void FUN_1003a1f8(void)

{
	char cVar1;
	char *pcVar2;
	char *pcVar3;
	int iVar4;
	longlong lVar5;

	iVar4 = 0;
	pcVar3 = PTR_DAT_100f1804;
	do {
		lVar5 = 0xd;
		pcVar2 = pcVar3;
		do {
			if ((((*pcVar2 == '\x18') || (*pcVar2 == 'z')) && (pcVar2[0x28] == '\x02')) && (pcVar2[1] == '\x05')) {
				*pcVar2 = '\x11';
			}
			cVar1 = pcVar2[0x28];
			if (((cVar1 == '\x18') || (cVar1 == 'z')) && ((pcVar2[0x50] == '\x02' && (pcVar2[0x29] == '\x05')))) {
				pcVar2[0x28] = '\x11';
			}
			cVar1 = pcVar2[0x50];
			if (((cVar1 == '\x18') || (cVar1 == 'z')) && ((pcVar2[0x78] == '\x02' && (pcVar2[0x51] == '\x05')))) {
				pcVar2[0x50] = '\x11';
			}
			pcVar2 = pcVar2 + 0x78;
			lVar5 = lVar5 + -1;
		} while (lVar5 != 0);
		iVar4 = iVar4 + 1;
		pcVar3 = pcVar3 + 1;
	} while (iVar4 < 0x27);
	return;
}

void DRLG_L4(int param_1, ulonglong param_2, ulonglong param_3, ulonglong param_4, longlong param_5, undefined8 param_6, undefined8 param_7, int param_8, undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	ulonglong uVar8;
	undefined8 uVar9;
	undefined uVar11;
	undefined *puVar10;
	char cVar12;
	undefined uVar13;
	undefined *puVar16;
	ulonglong uVar14;
	longlong lVar15;
	undefined *puVar17;
	undefined4 uVar18;
	undefined4 uVar19;
	undefined4 uVar20;
	ulonglong uVar21;
	ulonglong uVar22;
	ulonglong uVar23;
	undefined *puVar24;
	int iVar26;
	ulonglong uVar25;
	longlong lVar27;
	undefined4 in_stack_ffffff58;
	undefined in_stack_ffffff5f;
	undefined4 in_stack_ffffff7c;
	undefined4 in_stack_ffffff80;

	puVar7 = PTR_DAT_100f1cf4;
	puVar6 = PTR_DAT_100f1cf0;
	puVar5 = PTR_DAT_100f1cec;
	puVar4 = PTR_DAT_100f1ce8;
	puVar3 = PTR_DAT_100f19cc;
	puVar2 = PTR_DAT_100f1820;
	puVar17 = PTR_DAT_100f181c;
	puVar24 = PTR_DAT_100f17ec;
	puVar16 = PTR_DAT_100f17e0;
	lVar15 = (longlong)param_8;
	uVar14 = ZEXT48(&toc);
	uVar22 = ZEXT48(PTR_DAT_100f1a90);
	uVar9 = 0;
	uVar21 = ZEXT48(PTR_DAT_100f1a80);
	uVar23 = ZEXT48(PTR_DAT_100f1804);
	do {
		uVar14._7_1_ = (undefined)param_3;
		uVar11 = (undefined)param_2;
		if ((int)uVar9 != 0) {
			FUN_1003a1f8();
			if (*puVar24 != '\x10') {
				uVar11 = 10;
				uVar14._7_1_ = 6;
				param_4 = 8;
				param_5 = 1;
				DRLG_PlaceThemeRooms(7, 10, 6, 8, 1, (char)param_6, (char)param_7, (char)lVar15, in_stack_ffffff58);
			}
			FUN_10035dec();
			uVar13 = FUN_1003a04c();
			uVar13 = FUN_10038554(uVar13, uVar11, (undefined)uVar14, (char)param_4, (char)param_5,
			    (char)param_6, (char)param_7, (char)lVar15, in_stack_ffffff58);
			DRLG_Init_Globals(uVar13, uVar11, (undefined)uVar14, (char)param_4, (char)param_5, (char)param_6,
			    (char)param_7, (char)lVar15, in_stack_ffffff58);
			uVar9 = QuestStatus(0xb);
			if ((int)uVar9 != 0) {
				lVar27 = 0x14;
				param_5 = 0;
				uVar14 = uVar23;
				param_4 = uVar22;
				do {
					puVar16 = (undefined *)uVar14;
					puVar17 = (undefined *)param_4;
					*puVar17 = *puVar16;
					puVar17[0x28] = puVar16[0x28];
					puVar17[0x50] = puVar16[0x50];
					puVar17[0x78] = puVar16[0x78];
					puVar17[0xa0] = puVar16[0xa0];
					puVar17[200] = puVar16[200];
					puVar17[0xf0] = puVar16[0xf0];
					puVar17[0x118] = puVar16[0x118];
					puVar17[0x140] = puVar16[0x140];
					puVar17[0x168] = puVar16[0x168];
					puVar17[400] = puVar16[400];
					puVar17[0x1b8] = puVar16[0x1b8];
					puVar17[0x1e0] = puVar16[0x1e0];
					puVar17[0x208] = puVar16[0x208];
					puVar17[0x230] = puVar16[0x230];
					puVar17[600] = puVar16[600];
					puVar17[0x280] = puVar16[0x280];
					puVar17[0x2a8] = puVar16[0x2a8];
					puVar17[0x2d0] = puVar16[0x2d0];
					puVar17[0x2f8] = puVar16[0x2f8];
					puVar17[800] = puVar16[800];
					puVar17[0x348] = puVar16[0x348];
					puVar17[0x370] = puVar16[0x370];
					puVar17[0x398] = puVar16[0x398];
					puVar17[0x3c0] = puVar16[0x3c0];
					puVar17[1000] = puVar16[1000];
					puVar17[0x410] = puVar16[0x410];
					puVar17[0x438] = puVar16[0x438];
					puVar17[0x460] = puVar16[0x460];
					puVar17[0x488] = puVar16[0x488];
					puVar17[0x4b0] = puVar16[0x4b0];
					puVar17[0x4d8] = puVar16[0x4d8];
					puVar17[0x500] = puVar16[0x500];
					puVar17[0x528] = puVar16[0x528];
					puVar17[0x550] = puVar16[0x550];
					puVar17[0x578] = puVar16[0x578];
					puVar17[0x5a0] = puVar16[0x5a0];
					puVar17[0x5c8] = puVar16[0x5c8];
					puVar17[0x5f0] = puVar16[0x5f0];
					puVar17[0x618] = puVar16[0x618];
					param_5 = param_5 + 1;
					puVar17[1] = puVar16[1];
					puVar17[0x29] = puVar16[0x29];
					puVar17[0x51] = puVar16[0x51];
					puVar17[0x79] = puVar16[0x79];
					puVar17[0xa1] = puVar16[0xa1];
					puVar17[0xc9] = puVar16[0xc9];
					puVar17[0xf1] = puVar16[0xf1];
					puVar17[0x119] = puVar16[0x119];
					puVar17[0x141] = puVar16[0x141];
					puVar17[0x169] = puVar16[0x169];
					puVar17[0x191] = puVar16[0x191];
					puVar17[0x1b9] = puVar16[0x1b9];
					puVar17[0x1e1] = puVar16[0x1e1];
					puVar17[0x209] = puVar16[0x209];
					puVar17[0x231] = puVar16[0x231];
					puVar17[0x259] = puVar16[0x259];
					puVar17[0x281] = puVar16[0x281];
					puVar17[0x2a9] = puVar16[0x2a9];
					puVar17[0x2d1] = puVar16[0x2d1];
					puVar17[0x2f9] = puVar16[0x2f9];
					puVar17[0x321] = puVar16[0x321];
					puVar17[0x349] = puVar16[0x349];
					puVar17[0x371] = puVar16[0x371];
					puVar17[0x399] = puVar16[0x399];
					puVar17[0x3c1] = puVar16[0x3c1];
					puVar17[0x3e9] = puVar16[0x3e9];
					puVar17[0x411] = puVar16[0x411];
					puVar17[0x439] = puVar16[0x439];
					puVar17[0x461] = puVar16[0x461];
					puVar17[0x489] = puVar16[0x489];
					puVar17[0x4b1] = puVar16[0x4b1];
					puVar17[0x4d9] = puVar16[0x4d9];
					puVar17[0x501] = puVar16[0x501];
					puVar17[0x529] = puVar16[0x529];
					puVar17[0x551] = puVar16[0x551];
					puVar17[0x579] = puVar16[0x579];
					puVar17[0x5a1] = puVar16[0x5a1];
					puVar17[0x5c9] = puVar16[0x5c9];
					puVar17[0x5f1] = puVar16[0x5f1];
					uVar14 = uVar14 + 2;
					uVar14._7_1_ = (undefined)uVar14;
					puVar17[0x619] = puVar16[0x619];
					param_4 = param_4 + 2;
					lVar27 = lVar27 + -1;
				} while (lVar27 != 0);
			}
			uVar14 = (ulonglong) * (uint *)puVar6;
			DRLG_CheckQuests((char)*(undefined4 *)puVar7, (char)*(uint *)puVar6, (undefined)uVar14, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)lVar15, in_stack_ffffff58);
			uVar20 = (undefined4)lVar15;
			uVar19 = (undefined4)param_7;
			uVar18 = (undefined4)param_6;
			if (*puVar24 == '\x0f') {
				lVar27 = 0;
				uVar21 = uVar23;
				do {
					iVar26 = 0;
					uVar25 = uVar21;
					do {
						if (*(char *)uVar25 == 'b') {
							uVar14 = lVar27 - 1;
							param_4 = 5;
							FUN_10042458(iVar26 + -1, (int)uVar14, 5, 5);
						}
						if (*(char *)uVar25 == 'k') {
							uVar14 = lVar27 - 1;
							param_4 = 5;
							FUN_10042458(iVar26 + -1, (int)uVar14, 5, 5);
						}
						uVar20 = (undefined4)lVar15;
						uVar19 = (undefined4)param_7;
						uVar18 = (undefined4)param_6;
						iVar26 = iVar26 + 1;
						uVar25 = uVar25 + 0x28;
					} while (iVar26 < 0x28);
					lVar27 = lVar27 + 1;
					uVar21 = uVar21 + 1;
				} while ((int)lVar27 < 0x28);
			}
			if (*puVar24 == '\x10') {
				lVar27 = 0x14;
				lVar15 = 0;
				do {
					puVar24 = (undefined *)uVar23;
					puVar16 = (undefined *)uVar22;
					*puVar16 = *puVar24;
					puVar16[0x28] = puVar24[0x28];
					puVar16[0x50] = puVar24[0x50];
					puVar16[0x78] = puVar24[0x78];
					puVar16[0xa0] = puVar24[0xa0];
					puVar16[200] = puVar24[200];
					puVar16[0xf0] = puVar24[0xf0];
					puVar16[0x118] = puVar24[0x118];
					puVar16[0x140] = puVar24[0x140];
					puVar16[0x168] = puVar24[0x168];
					puVar16[400] = puVar24[400];
					puVar16[0x1b8] = puVar24[0x1b8];
					puVar16[0x1e0] = puVar24[0x1e0];
					puVar16[0x208] = puVar24[0x208];
					puVar16[0x230] = puVar24[0x230];
					puVar16[600] = puVar24[600];
					puVar16[0x280] = puVar24[0x280];
					puVar16[0x2a8] = puVar24[0x2a8];
					puVar16[0x2d0] = puVar24[0x2d0];
					puVar16[0x2f8] = puVar24[0x2f8];
					puVar16[800] = puVar24[800];
					puVar16[0x348] = puVar24[0x348];
					puVar16[0x370] = puVar24[0x370];
					puVar16[0x398] = puVar24[0x398];
					puVar16[0x3c0] = puVar24[0x3c0];
					puVar16[1000] = puVar24[1000];
					puVar16[0x410] = puVar24[0x410];
					puVar16[0x438] = puVar24[0x438];
					puVar16[0x460] = puVar24[0x460];
					puVar16[0x488] = puVar24[0x488];
					puVar16[0x4b0] = puVar24[0x4b0];
					puVar16[0x4d8] = puVar24[0x4d8];
					puVar16[0x500] = puVar24[0x500];
					puVar16[0x528] = puVar24[0x528];
					puVar16[0x550] = puVar24[0x550];
					puVar16[0x578] = puVar24[0x578];
					puVar16[0x5a0] = puVar24[0x5a0];
					puVar16[0x5c8] = puVar24[0x5c8];
					puVar16[0x5f0] = puVar24[0x5f0];
					puVar16[0x618] = puVar24[0x618];
					lVar15 = lVar15 + 1;
					puVar16[1] = puVar24[1];
					puVar16[0x29] = puVar24[0x29];
					puVar16[0x51] = puVar24[0x51];
					puVar16[0x79] = puVar24[0x79];
					puVar16[0xa1] = puVar24[0xa1];
					puVar16[0xc9] = puVar24[0xc9];
					puVar16[0xf1] = puVar24[0xf1];
					puVar16[0x119] = puVar24[0x119];
					puVar16[0x141] = puVar24[0x141];
					puVar16[0x169] = puVar24[0x169];
					puVar16[0x191] = puVar24[0x191];
					puVar16[0x1b9] = puVar24[0x1b9];
					puVar16[0x1e1] = puVar24[0x1e1];
					puVar16[0x209] = puVar24[0x209];
					puVar16[0x231] = puVar24[0x231];
					puVar16[0x259] = puVar24[0x259];
					puVar16[0x281] = puVar24[0x281];
					puVar16[0x2a9] = puVar24[0x2a9];
					puVar16[0x2d1] = puVar24[0x2d1];
					puVar16[0x2f9] = puVar24[0x2f9];
					puVar16[0x321] = puVar24[0x321];
					puVar16[0x349] = puVar24[0x349];
					puVar16[0x371] = puVar24[0x371];
					puVar16[0x399] = puVar24[0x399];
					puVar16[0x3c1] = puVar24[0x3c1];
					puVar16[0x3e9] = puVar24[0x3e9];
					puVar16[0x411] = puVar24[0x411];
					puVar16[0x439] = puVar24[0x439];
					puVar16[0x461] = puVar24[0x461];
					puVar16[0x489] = puVar24[0x489];
					puVar16[0x4b1] = puVar24[0x4b1];
					puVar16[0x4d9] = puVar24[0x4d9];
					puVar16[0x501] = puVar24[0x501];
					puVar16[0x529] = puVar24[0x529];
					puVar16[0x551] = puVar24[0x551];
					puVar16[0x579] = puVar24[0x579];
					puVar16[0x5a1] = puVar24[0x5a1];
					puVar16[0x5c9] = puVar24[0x5c9];
					puVar16[0x5f1] = puVar24[0x5f1];
					uVar23 = uVar23 + 2;
					puVar16[0x619] = puVar24[0x619];
					uVar22 = uVar22 + 2;
					lVar27 = lVar27 + -1;
				} while (lVar27 != 0);
				DRLG_LoadDiabQuads(0, uVar14, lVar15, param_4, param_5, uVar18, uVar19, uVar20, in_stack_ffffff58);
			}
			return;
		}
		lVar27 = DRLG_InitTrans((char)uVar9, uVar11, (undefined)uVar14, (char)param_4, (char)param_5,
		    (char)param_6, (char)param_7, (char)lVar15, in_stack_ffffff58);
		do {
			uVar11 = FUN_10035f64((char)lVar27, (char)param_2, (char)param_3, (char)param_4, (char)param_5,
			    (char)param_6, (char)param_7, (char)lVar15, in_stack_ffffff58);
			FUN_1003942c(uVar11, (char)param_2, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
			    (char)param_7, (char)lVar15, in_stack_ffffff58);
			FUN_1003a108();
			lVar27 = FUN_10038ed4();
			iVar26 = (int)lVar27;
			if (0xac < iVar26) {
				lVar27 = FUN_10038ba8((char)lVar27, (char)param_2, (char)param_3, (char)param_4, (char)param_5,
				    (char)param_6, (char)param_7, (char)lVar15, in_stack_ffffff58);
			}
			uVar19 = (undefined4)param_7;
			uVar18 = (undefined4)param_6;
		} while (iVar26 < 0xad);
		FUN_100386b0();
		FUN_100361e8();
		FUN_10036d18();
		if (*puVar24 == '\x10') {
			FUN_1003962c();
		}
		uVar9 = QuestStatus(0xb);
		if (((int)uVar9 != 0) || ((cVar12 = *puVar24, cVar12 == puVar3[0x168] && (*puVar16 != '\x01')))) {
			param_3 = (ulonglong) * (uint *)puVar7;
			param_5 = 1;
			lVar27 = param_3 * 0x28;
			param_2 = (ulonglong) * (uint *)((int)uVar14 + -0x7514) + lVar27;
			while (cVar12 = (char)lVar27, (int)param_3 < *(int *)puVar5) {
				uVar1 = *(uint *)puVar6;
				lVar27 = param_2 + (ulonglong)uVar1;
				param_4 = (ulonglong) * (uint *)puVar4 - (ulonglong)uVar1;
				if ((int)uVar1 < (int)*(uint *)puVar4) {
					uVar1 = (uint)param_4 >> 3;
					uVar8 = (ulonglong)uVar1;
					uVar25 = param_4;
					if (uVar1 != 0) {
						do {
							puVar10 = (undefined *)lVar27;
							*puVar10 = 1;
							puVar10[1] = 1;
							puVar10[2] = 1;
							puVar10[3] = 1;
							puVar10[4] = 1;
							puVar10[5] = 1;
							puVar10[6] = 1;
							puVar10[7] = 1;
							lVar27 = lVar27 + 8;
							uVar8 = uVar8 - 1;
						} while (uVar8 != 0);
						param_4 = param_4 & 7;
						uVar25 = param_4;
						if (param_4 == 0)
							goto LAB_1003a41c;
					}
					do {
						*(undefined *)lVar27 = 1;
						lVar27 = lVar27 + 1;
						uVar25 = uVar25 - 1;
					} while (uVar25 != 0);
				}
			LAB_1003a41c:
				param_2 = param_2 + 0x28;
				param_3 = param_3 + 1;
			}
		}
		FUN_100368ac(cVar12, (char)param_2, (char)param_3, (char)param_4, (char)param_5, (char)uVar18,
		    (char)uVar19, (char)lVar15, in_stack_ffffff58);
		uVar11 = DRLG_L2FloodTVal(6, (char)param_2, (char)param_3, (char)param_4, (char)param_5, (char)uVar18,
		    (char)uVar19, (char)lVar15, in_stack_ffffff58);
		FUN_10039e40(uVar11, (char)param_2, (char)param_3, (char)param_4, (char)param_5, (char)uVar18,
		    (char)uVar19, (char)lVar15, in_stack_ffffff58);
		if (**(int **)((int)uVar14 + -0x7524) != 0) {
			param_2 = (ulonglong) * (uint *)puVar6;
			FUN_100360e4(*(int *)puVar7, param_2, param_3, param_4, param_5, uVar18, uVar19, (int)lVar15,
			    in_stack_ffffff58);
		}
		if (*puVar24 == '\x10') {
			DRLG_LoadDiabQuads(1, param_2, param_3, param_4, param_5, uVar18, uVar19, (int)lVar15, in_stack_ffffff58);
		}
		uVar9 = QuestStatus(0xb);
		uVar11 = (undefined)lVar15;
		if ((int)uVar9 == 0) {
			if (*puVar24 == '\x0f') {
				if (param_1 == 0) {
					param_3 = 1;
					param_4 = 0xffffffffffffffff;
					param_5 = -1;
					param_6 = 1;
					param_7 = 0;
					uVar9 = FUN_10039a54(&DAT_100f8cd3, 1, 1, -1, -1, 1, 0, uVar11, in_stack_ffffff58,
					    in_stack_ffffff5f, in_stack_ffffff7c, in_stack_ffffff80);
					if ((int)uVar9 != 0) {
						if ((*puVar16 == '\x01') && (puVar3[0x7a] != '\x02')) {
							param_3 = 1;
							param_4 = 0xffffffffffffffff;
							param_5 = -1;
							param_6 = 0;
							param_7 = 1;
							uVar9 = FUN_10039a54(&DAT_100f8d5b, 1, 1, -1, -1, 0, 1, (char)lVar15, in_stack_ffffff58,
							    in_stack_ffffff5f, in_stack_ffffff7c, in_stack_ffffff80);
						} else {
							param_3 = 1;
							param_4 = 0xffffffffffffffff;
							param_5 = -1;
							param_6 = 0;
							param_7 = 1;
							uVar9 = FUN_10039a54(&DAT_100f8d8f, 1, 1, -1, -1, 0, 1, (char)lVar15, in_stack_ffffff58,
							    in_stack_ffffff5f, in_stack_ffffff7c, in_stack_ffffff80);
						}
					}
					param_2 = (ulonglong) * (uint *)puVar2;
					*(uint *)puVar2 = *(uint *)puVar2 + 1;
				} else {
					param_3 = 1;
					param_4 = 0xffffffffffffffff;
					param_5 = -1;
					param_6 = 0;
					param_7 = 0;
					uVar9 = FUN_10039a54(&DAT_100f8cd3, 1, 1, -1, -1, 0, 0, uVar11, in_stack_ffffff58,
					    in_stack_ffffff5f, in_stack_ffffff7c, in_stack_ffffff80);
					if ((int)uVar9 != 0) {
						if ((*puVar16 == '\x01') && (puVar3[0x7a] != '\x02')) {
							param_3 = 1;
							param_4 = 0xffffffffffffffff;
							param_5 = -1;
							param_6 = 1;
							param_7 = 1;
							uVar9 = FUN_10039a54(&DAT_100f8d5b, 1, 1, -1, -1, 1, 1, (char)lVar15, in_stack_ffffff58,
							    in_stack_ffffff5f, in_stack_ffffff7c, in_stack_ffffff80);
						} else {
							param_3 = 1;
							param_4 = 0xffffffffffffffff;
							param_5 = -1;
							param_6 = 1;
							param_7 = 1;
							uVar9 = FUN_10039a54(&DAT_100f8d8f, 1, 1, -1, -1, 1, 1, (char)lVar15, in_stack_ffffff58,
							    in_stack_ffffff5f, in_stack_ffffff7c, in_stack_ffffff80);
						}
					}
					param_2 = (ulonglong) * (uint *)puVar17;
					*(uint *)puVar17 = *(uint *)puVar17 + 1;
				}
			} else {
				if (param_1 == 0) {
					param_3 = 1;
					param_4 = 0xffffffffffffffff;
					param_5 = -1;
					param_6 = 1;
					param_7 = 0;
					uVar9 = FUN_10039a54(&DAT_100f8cd3, 1, 1, -1, -1, 1, 0, uVar11, in_stack_ffffff58,
					    in_stack_ffffff5f, in_stack_ffffff7c, in_stack_ffffff80);
					if (((int)uVar9 != 0) && (*puVar24 != '\x10')) {
						param_3 = 1;
						param_4 = 0xffffffffffffffff;
						param_5 = -1;
						param_6 = 0;
						param_7 = 1;
						uVar9 = FUN_10039a54(&DAT_100f8d27, 1, 1, -1, -1, 0, 1, (char)lVar15, in_stack_ffffff58,
						    in_stack_ffffff5f, in_stack_ffffff7c, in_stack_ffffff80);
					}
					if (((int)uVar9 != 0) && (*puVar24 == '\r')) {
						param_3 = 1;
						param_4 = 0xffffffffffffffff;
						param_5 = -1;
						param_6 = 0;
						param_7 = 6;
						uVar9 = FUN_10039a54(&DAT_100f8cfd, 1, 1, -1, -1, 0, 6, (char)lVar15, in_stack_ffffff58,
						    in_stack_ffffff5f, in_stack_ffffff7c, in_stack_ffffff80);
					}
					param_2 = (ulonglong) * (uint *)puVar2;
					*(uint *)puVar2 = *(uint *)puVar2 + 1;
				} else {
					if (param_1 == 1) {
						param_3 = 1;
						param_4 = 0xffffffffffffffff;
						param_5 = -1;
						param_6 = 0;
						param_7 = 0;
						uVar9 = FUN_10039a54(&DAT_100f8cd3, 1, 1, -1, -1, 0, 0, uVar11, in_stack_ffffff58,
						    in_stack_ffffff5f, in_stack_ffffff7c, in_stack_ffffff80);
						if (((int)uVar9 != 0) && (*puVar24 != '\x10')) {
							param_3 = 1;
							param_4 = 0xffffffffffffffff;
							param_5 = -1;
							param_6 = 1;
							param_7 = 1;
							uVar9 = FUN_10039a54(&DAT_100f8d27, 1, 1, -1, -1, 1, 1, (char)lVar15, in_stack_ffffff58,
							    in_stack_ffffff5f, in_stack_ffffff7c, in_stack_ffffff80);
						}
						if (((int)uVar9 != 0) && (*puVar24 == '\r')) {
							param_3 = 1;
							param_4 = 0xffffffffffffffff;
							param_5 = -1;
							param_6 = 0;
							param_7 = 6;
							uVar9 = FUN_10039a54(&DAT_100f8cfd, 1, 1, -1, -1, 0, 6, (char)lVar15, in_stack_ffffff58,
							    in_stack_ffffff5f, in_stack_ffffff7c, in_stack_ffffff80);
						}
						param_2 = (ulonglong) * (uint *)puVar17;
						*(uint *)puVar17 = *(uint *)puVar17 + 1;
					} else {
						param_3 = 1;
						param_4 = 0xffffffffffffffff;
						param_5 = -1;
						param_6 = 0;
						param_7 = 0;
						uVar9 = FUN_10039a54(&DAT_100f8cd3, 1, 1, -1, -1, 0, 0, uVar11, in_stack_ffffff58,
						    in_stack_ffffff5f, in_stack_ffffff7c, in_stack_ffffff80);
						if (((int)uVar9 != 0) && (*puVar24 != '\x10')) {
							param_3 = 1;
							param_4 = 0xffffffffffffffff;
							param_5 = -1;
							param_6 = 0;
							param_7 = 1;
							uVar9 = FUN_10039a54(&DAT_100f8d27, 1, 1, -1, -1, 0, 1, (char)lVar15, in_stack_ffffff58,
							    in_stack_ffffff5f, in_stack_ffffff7c, in_stack_ffffff80);
						}
						if (((int)uVar9 != 0) && (*puVar24 == '\r')) {
							param_3 = 1;
							param_4 = 0xffffffffffffffff;
							param_5 = -1;
							param_6 = 1;
							param_7 = 6;
							uVar9 = FUN_10039a54(&DAT_100f8cfd, 1, 1, -1, -1, 1, 6, (char)lVar15, in_stack_ffffff58,
							    in_stack_ffffff5f, in_stack_ffffff7c, in_stack_ffffff80);
						}
						param_2 = (ulonglong) * (uint *)puVar2;
						*(uint *)puVar2 = *(uint *)puVar2 + 1;
					}
				}
			}
		} else {
			if (param_1 == 0) {
				param_3 = 1;
				param_4 = 0xffffffffffffffff;
				param_5 = -1;
				param_6 = 1;
				param_7 = 0;
				uVar9 = FUN_10039a54(&DAT_100f8cd3, 1, 1, -1, -1, 1, 0, uVar11, in_stack_ffffff58, in_stack_ffffff5f,
				    in_stack_ffffff7c, in_stack_ffffff80);
				if (((int)uVar9 != 0) && (*puVar24 == '\r')) {
					param_3 = 1;
					param_4 = 0xffffffffffffffff;
					param_5 = -1;
					param_6 = 0;
					param_7 = 6;
					uVar9 = FUN_10039a54(&DAT_100f8cfd, 1, 1, -1, -1, 0, 6, (char)lVar15, in_stack_ffffff58,
					    in_stack_ffffff5f, in_stack_ffffff7c, in_stack_ffffff80);
				}
				param_2 = (ulonglong) * (uint *)puVar2;
				*(uint *)puVar2 = *(uint *)puVar2 + 1;
			} else {
				if (param_1 == 1) {
					param_3 = 1;
					param_4 = 0xffffffffffffffff;
					param_5 = -1;
					param_6 = 0;
					param_7 = 0;
					uVar9 = FUN_10039a54(&DAT_100f8cd3, 1, 1, -1, -1, 0, 0, uVar11, in_stack_ffffff58,
					    in_stack_ffffff5f, in_stack_ffffff7c, in_stack_ffffff80);
					if (((int)uVar9 != 0) && (*puVar24 == '\r')) {
						param_3 = 1;
						param_4 = 0xffffffffffffffff;
						param_5 = -1;
						param_6 = 0;
						param_7 = 6;
						uVar9 = FUN_10039a54(&DAT_100f8cfd, 1, 1, -1, -1, 0, 6, (char)lVar15, in_stack_ffffff58,
						    in_stack_ffffff5f, in_stack_ffffff7c, in_stack_ffffff80);
					}
					*(int *)puVar2 = **(int **)((int)uVar14 + -0x754c) * 2 + 0x16;
					uVar1 = *(int *)uVar21 * 2;
					param_2 = (ulonglong)uVar1;
					*(uint *)puVar17 = uVar1 + 0x16;
				} else {
					param_3 = 1;
					param_4 = 0xffffffffffffffff;
					param_5 = -1;
					param_6 = 0;
					param_7 = 0;
					uVar9 = FUN_10039a54(&DAT_100f8cd3, 1, 1, -1, -1, 0, 0, uVar11, in_stack_ffffff58,
					    in_stack_ffffff5f, in_stack_ffffff7c, in_stack_ffffff80);
					if (((int)uVar9 != 0) && (*puVar24 == '\r')) {
						param_3 = 1;
						param_4 = 0xffffffffffffffff;
						param_5 = -1;
						param_6 = 1;
						param_7 = 6;
						uVar9 = FUN_10039a54(&DAT_100f8cfd, 1, 1, -1, -1, 1, 6, (char)lVar15, in_stack_ffffff58,
						    in_stack_ffffff5f, in_stack_ffffff7c, in_stack_ffffff80);
					}
					param_2 = (ulonglong) * (uint *)puVar2;
					*(uint *)puVar2 = *(uint *)puVar2 + 1;
				}
			}
		}
	} while (true);
}

void DRLG_L4Pass3(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	short sVar6;
	longlong lVar5;
	undefined **ppuVar7;
	ulonglong uVar8;
	ulonglong uVar9;
	short sVar11;
	longlong lVar10;
	short sVar12;
	longlong lVar13;
	short sVar17;
	int iVar14;
	int iVar15;
	int iVar16;
	int iVar18;
	int iVar19;
	longlong lVar20;
	longlong lVar21;
	undefined4 in_stack_ffffffb8;

	puVar4 = PTR_DAT_100f1a64;
	puVar3 = PTR_DAT_100f1a54;
	ppuVar7 = &toc;
	uVar8 = FUN_100b8f7c((ulonglong) * (uint *)PTR_DAT_100f1a64, param_2, param_3, param_4, param_5, param_6,
	    param_7, param_8, in_stack_ffffffb8);
	iVar2 = (int)uVar8;
	sVar11 = CONCAT11(*(undefined *)(iVar2 + 0xe9), *(undefined *)(iVar2 + 0xe8)) + 1;
	sVar12 = CONCAT11(*(undefined *)(iVar2 + 0xeb), *(undefined *)(iVar2 + 0xea)) + 1;
	sVar17 = CONCAT11(*(undefined *)(iVar2 + 0xed), *(undefined *)(iVar2 + 0xec)) + 1;
	iVar19 = 0;
	sVar6 = CONCAT11(*(undefined *)(iVar2 + 0xef), *(undefined *)(iVar2 + 0xee)) + 1;
	iVar18 = 0;
	do {
		lVar20 = 0xe;
		iVar14 = 0;
		do {
			*(short *)(iVar18 + *(int *)puVar3 + iVar14) = sVar11;
			*(short *)(iVar18 + *(int *)puVar3 + iVar14 + 0xe0) = sVar12;
			*(short *)(iVar18 + *(int *)puVar3 + iVar14 + 2) = sVar17;
			iVar15 = iVar14 + 0x1c0;
			*(short *)(iVar18 + *(int *)puVar3 + iVar14 + 0xe2) = sVar6;
			*(short *)(iVar18 + *(int *)puVar3 + iVar15) = sVar11;
			*(short *)(iVar18 + *(int *)puVar3 + iVar15 + 0xe0) = sVar12;
			*(short *)(iVar18 + *(int *)puVar3 + iVar15 + 2) = sVar17;
			iVar16 = iVar14 + 0x380;
			*(short *)(iVar18 + *(int *)puVar3 + iVar15 + 0xe2) = sVar6;
			*(short *)(iVar18 + *(int *)puVar3 + iVar16) = sVar11;
			*(short *)(iVar18 + *(int *)puVar3 + iVar16 + 0xe0) = sVar12;
			*(short *)(iVar18 + *(int *)puVar3 + iVar16 + 2) = sVar17;
			iVar15 = iVar14 + 0x540;
			*(short *)(iVar18 + *(int *)puVar3 + iVar16 + 0xe2) = sVar6;
			*(short *)(iVar18 + *(int *)puVar3 + iVar15) = sVar11;
			*(short *)(iVar18 + *(int *)puVar3 + iVar15 + 0xe0) = sVar12;
			*(short *)(iVar18 + *(int *)puVar3 + iVar15 + 2) = sVar17;
			iVar14 = iVar14 + 0x700;
			*(short *)(iVar18 + *(int *)puVar3 + iVar15 + 0xe2) = sVar6;
			lVar20 = lVar20 + -1;
		} while (lVar20 != 0);
		iVar19 = iVar19 + 2;
		iVar18 = iVar18 + 4;
	} while (iVar19 < 0x70);
	uVar8 = ZEXT48(ppuVar7[-0x1df3]);
	lVar13 = 0;
	lVar20 = 0x20;
	do {
		lVar21 = 0x28;
		lVar10 = 0xe00;
		uVar9 = uVar8;
		do {
			lVar5 = (ulonglong) * (byte *)uVar9 - 1;
			if (lVar5 < 0) {
				sVar6 = 0;
				sVar11 = 0;
				sVar17 = 0;
				sVar12 = 0;
			} else {
				puVar1 = (undefined *)(iVar2 + (int)lVar5 * 8);
				sVar6 = CONCAT11(puVar1[1], *puVar1) + 1;
				sVar11 = CONCAT11(puVar1[3], puVar1[2]) + 1;
				sVar17 = CONCAT11(puVar1[5], puVar1[4]) + 1;
				sVar12 = CONCAT11(puVar1[7], puVar1[6]) + 1;
			}
			uVar9 = uVar9 + 0x28;
			iVar19 = (int)lVar10;
			iVar18 = (int)lVar20;
			*(short *)(iVar18 + *(int *)puVar3 + iVar19) = sVar6;
			*(short *)(iVar18 + *(int *)puVar3 + iVar19 + 0xe0) = sVar11;
			*(short *)(iVar18 + *(int *)puVar3 + iVar19 + 2) = sVar17;
			lVar5 = (ulonglong) * (uint *)puVar3 + lVar10;
			lVar10 = lVar10 + 0x1c0;
			*(short *)(iVar18 + (int)lVar5 + 0xe2) = sVar12;
			lVar21 = lVar21 + -1;
		} while (lVar21 != 0);
		lVar13 = lVar13 + 1;
		uVar8 = uVar8 + 1;
		lVar20 = lVar20 + 4;
	} while ((int)lVar13 < 0x28);
	FUN_100b9100(*(int *)puVar4, (char)uVar9, (char)lVar10, (char)uVar8, (char)lVar20, (char)lVar13,
	    (char)lVar5, (char)sVar12, in_stack_ffffffb8);
	return;
}

void CreateL4Dungeon(undefined4 param_1, int param_2, undefined8 param_3, undefined8 param_4,
    longlong param_5, undefined8 param_6, undefined8 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined4 *puVar2;
	undefined **ppuVar3;
	undefined8 uVar4;
	undefined8 extraout_r3;
	undefined uVar5;
	ulonglong uVar6;
	undefined uVar7;
	ulonglong uVar8;
	undefined uVar9;
	ulonglong uVar10;
	undefined uVar11;
	undefined7 uVar12;
	undefined uVar13;
	undefined4 uVar14;
	undefined uVar15;
	undefined4 uVar16;
	undefined uVar17;
	undefined uVar18;
	undefined4 in_stack_ffffffc8;

	uVar12 = (undefined7)((ulonglong)param_5 >> 8);
	uVar13 = (undefined)param_5;
	ppuVar3 = &toc;
	SetRndSeed(param_1);
	uVar10 = 0x10;
	puVar1 = (undefined4 *)ppuVar3[-0x1d4d];
	uVar8 = 0x60;
	*(undefined4 *)ppuVar3[-0x1d4c] = 0x10;
	puVar2 = (undefined4 *)ppuVar3[-0x1d4e];
	*puVar1 = 0x10;
	puVar1 = (undefined4 *)ppuVar3[-0x1d4f];
	*puVar2 = 0x60;
	puVar2 = (undefined4 *)ppuVar3[-0x1dec];
	uVar6 = ZEXT48(puVar2);
	*puVar1 = 0x60;
	puVar1 = (undefined4 *)ppuVar3[-0x1ded];
	*puVar2 = 0x28;
	*puVar1 = 0x28;
	uVar4 = DRLG_InitSetPC();
	DRLG_LoadL4SP(uVar4, uVar6, uVar8, uVar10, CONCAT71(uVar12, uVar13), (int)param_6, (int)param_7, param_8,
	    in_stack_ffffffc8);
	uVar16 = (undefined4)param_7;
	uVar14 = (undefined4)param_6;
	DRLG_L4(param_2, uVar6, uVar8, uVar10, CONCAT71(uVar12, uVar13), param_6, param_7, param_8,
	    in_stack_ffffffc8);
	uVar18 = (undefined)param_8;
	uVar17 = (undefined)uVar16;
	uVar15 = (undefined)uVar14;
	uVar11 = (undefined)uVar10;
	uVar9 = (undefined)uVar8;
	uVar7 = (undefined)uVar6;
	uVar5 = DRLG_L4Pass3(extraout_r3, uVar6, uVar8, uVar10, CONCAT71(uVar12, uVar13), uVar14, uVar16, param_8,
	    in_stack_ffffffc8);
	DRLG_FreeL4SP(uVar5, uVar7, uVar9, uVar11, uVar13, uVar15, uVar17, uVar18, in_stack_ffffffc8);
	DRLG_SetPC();
	return;
}

void FUN_1003b270(void)

{
	_DAT_100f40e8 = _DAT_100f40e4;
	return;
}

void FUN_1003b398(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined uVar2;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	int local_2c;

	uVar2 = (undefined)_DAT_100f2d20;
	EnterCriticalSection(uVar2, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffcb,
	    in_stack_ffffffcf, local_2c);
	puVar1 = *(undefined4 **)(local_2c + -0x4ed0);
	while (puVar1 != (undefined4 *)0x0) {
		if (puVar1[1] == param_1) {
			puVar1[1] = 4;
		}
		puVar1 = (undefined4 *)*puVar1;
	}
	LeaveCriticalSection(uVar2, 0, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffcb,
	    in_stack_ffffffcf, local_2c);
	return;
}

void dthread_send_delta(undefined4 param_1, undefined param_2, undefined8 param_3, longlong param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 uVar1;
	undefined4 *puVar2;
	undefined4 *puVar3;
	undefined4 *puVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined in_stack_ffffffbb;
	undefined in_stack_ffffffbf;
	int local_3c;

	uVar1 = _DAT_100f2d20;
	uVar5 = (undefined)param_4;
	uVar7 = SUB41(PTR_DAT_100f17e0, 0);
	if (*PTR_DAT_100f17e0 != '\x01') {
		uVar6 = uVar5;
		puVar3 = (undefined4 *)DiabloAllocPtr(param_4 + 0x14);
		*puVar3 = 0;
		puVar3[1] = param_1;
		*(undefined *)(puVar3 + 2) = param_2;
		puVar3[3] = (int)param_4;
		memcpy((char)puVar3 + '\x10', (undefined)param_3, uVar5, uVar6, uVar7, param_6, param_7, param_8,
		    in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
		EnterCriticalSection((char)uVar1, (undefined)param_3, uVar5, uVar6, uVar7, param_6, param_7, param_8,
		    in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
		puVar2 = (undefined4 *)(local_3c + -0x4ed0);
		do {
			puVar4 = puVar2;
			puVar2 = (undefined4 *)*puVar4;
		} while (puVar2 != (undefined4 *)0x0);
		*(undefined4 **)puVar4 = puVar3;
		SetEvent((char)*(undefined4 *)(local_3c + -0x4edc), (undefined)param_3, uVar5, uVar6, uVar7, param_6,
		    param_7, param_8, in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
		LeaveCriticalSection((char)uVar1, (undefined)param_3, uVar5, uVar6, uVar7, param_6, param_7, param_8,
		    in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
	}
	return;
}

void dthread_start(void)

{
	int iVar1;
	ulonglong uVar2;
	ulonglong uVar3;
	uint uVar4;
	undefined8 uVar5;
	undefined8 uVar6;
	undefined8 uVar7;
	undefined8 in_r7;
	undefined8 in_r8;
	undefined4 uVar8;
	undefined8 in_r9;
	undefined4 uVar9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	uint local_2c;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	uVar9 = (undefined4)in_r9;
	uVar8 = (undefined4)in_r8;
	if (*PTR_DAT_100f17e0 != '\x01') {
		uVar5 = 1;
		uVar6 = 0;
		uVar7 = 0;
		uVar3 = CreateEvent(0, 1, 0, 0, (char)in_r7, (char)in_r8, (char)in_r9, (char)in_r10,
		    (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
		uVar2 = (ulonglong)local_2c;
		*(undefined4 *)(local_2c - 0x4edc) = (int)uVar3;
		if ((uVar3 & 0xffffffff) == 0) {
			uVar4 = TraceLastError(uVar3, uVar5, uVar6, uVar7, in_r7, uVar8, uVar9, in_r10, in_stack_ffffffc8);
			app_fatal(*(int *)((int)uVar2 + -0x62b4), (longlong)(int)uVar4, uVar6, uVar7, in_r7, uVar8, uVar9, in_r10, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8, in_stack_ffffffdc,
			    in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8, in_stack_ffffffec,
			    in_stack_fffffff0, in_stack_fffffff4);
		}
		iVar1 = (int)uVar2;
		uVar3 = (ulonglong) * (uint *)(iVar1 + -0x72c4);
		*(undefined *)(iVar1 + -0x4ed4) = 1;
		uVar9 = (undefined4)(uVar2 - 0x4ee0);
		uVar8 = *(undefined4 *)(iVar1 + -0x62b8);
		uVar5 = 0;
		uVar6 = 0;
		uVar7 = 0;
		uVar2 = FUN_100dbaac(0, 0, (char)*(uint *)(iVar1 + -0x72c4), 0, 0, (char)(uVar2 - 0x4ee0), (char)uVar8, (char)in_r10, (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
		*(undefined4 *)(local_2c - 0x4ed8) = (int)uVar2;
		if ((uVar2 & 0xffffffff) == 0) {
			uVar4 = TraceLastError(uVar2, uVar5, uVar3, uVar6, uVar7, uVar9, uVar8, in_r10, in_stack_ffffffc8);
			app_fatal(*(int *)(local_2c - 0x62bc), (longlong)(int)uVar4, uVar3, uVar6, uVar7, uVar9, uVar8,
			    in_r10, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8, in_stack_ffffffdc,
			    in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8, in_stack_ffffffec,
			    in_stack_fffffff0, in_stack_fffffff4);
		}
	}
	return;
}

void dthread_cleanup(undefined8 param_1, longlong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	undefined4 *puVar1;
	undefined4 uVar2;
	int iVar3;
	undefined uVar7;
	ulonglong uVar4;
	longlong lVar5;
	uint uVar6;
	undefined7 uVar8;
	undefined uVar9;
	undefined7 uVar10;
	undefined uVar11;
	undefined7 uVar12;
	undefined uVar13;
	longlong lVar14;
	longlong lVar15;
	longlong lVar16;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	uint local_2c;
	uint uVar17;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	uVar12 = (undefined7)((ulonglong)param_5 >> 8);
	uVar13 = (undefined)param_5;
	uVar10 = (undefined7)((ulonglong)param_4 >> 8);
	uVar11 = (undefined)param_4;
	uVar8 = (undefined7)((ulonglong)param_3 >> 8);
	uVar9 = (undefined)param_3;
	lVar16 = (longlong)param_8;
	lVar15 = (longlong)param_7;
	lVar14 = (longlong)param_6;
	if (_DAT_100f40f4 != 0) {
		DAT_100f40fc = 0;
		uVar7 = SetEvent((char)_DAT_100f40f4, (char)param_2, uVar9, uVar11, uVar13, (char)param_6,
		    (char)param_7, (char)param_8, (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
		uVar17 = local_2c;
		if (*(int *)(local_2c - 0x4ed8) != 0) {
			uVar4 = GetCurrentThreadId(uVar7, (char)param_2, uVar9, uVar11, uVar13, (char)lVar14, (char)lVar15,
			    (char)lVar16, (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
			uVar17 = local_2c;
			if ((ulonglong) * (uint *)(local_2c - 0x4ee0) != (uVar4 & 0xffffffff)) {
				param_2 = -1;
				lVar5 = WaitForSingleObject((char)*(undefined4 *)(local_2c - 0x4ed8), 0xff, uVar9, uVar11,
				    uVar13, (char)lVar14, (char)lVar15, (char)lVar16,
				    (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
				uVar17 = local_2c;
				if ((lVar5 + 0x10000U & 0xffffffff) == 0xffff) {
					uVar17 = local_2c;
					uVar6 = TraceLastError(lVar5, param_2, CONCAT71(uVar8, uVar9), CONCAT71(uVar10, uVar11),
					    CONCAT71(uVar12, uVar13), (int)lVar14, (int)lVar15, (int)lVar16,
					    in_stack_ffffffc8);
					param_2 = (longlong)(int)uVar6;
					app_fatal(*(int *)(local_2c - 0x62c0), param_2, CONCAT71(uVar8, uVar9),
					    CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13), (int)lVar14, (int)lVar15,
					    (int)lVar16, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8,
					    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8,
					    in_stack_ffffffec, in_stack_fffffff0, in_stack_fffffff4);
				}
				CloseHandle((char)*(undefined4 *)(local_2c - 0x4ed8), (char)param_2, uVar9, uVar11, uVar13,
				    (char)lVar14, (char)lVar15, (char)lVar16, (char)in_stack_ffffffc8, in_stack_ffffffcf, uVar17);
				*(undefined4 *)(uVar17 - 0x4ed8) = 0;
			}
		}
		CloseHandle((char)*(undefined4 *)(uVar17 - 0x4edc), (char)param_2, uVar9, uVar11, uVar13,
		    (char)lVar14, (char)lVar15, (char)lVar16, (char)in_stack_ffffffc8, in_stack_ffffffcf,
		    uVar17);
		uVar4 = (ulonglong)uVar17;
		*(undefined4 *)(uVar17 - 0x4edc) = 0;
		while (iVar3 = (int)uVar4, *(int *)(iVar3 + -0x4ed0) != 0) {
			puVar1 = *(undefined4 **)(iVar3 + -0x4ed0);
			uVar2 = *puVar1;
			*(undefined4 *)(iVar3 + -0x4ed0) = 0;
			mem_free_dbg(ZEXT48(puVar1), (char)param_2, uVar9, uVar11, uVar13, (char)lVar14, (char)lVar15,
			    (char)lVar16, in_stack_ffffffc8);
			*(undefined4 *)((int)uVar4 + -0x4ed0) = uVar2;
		}
	}
	return;
}

void FUN_1003b650(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined uVar1;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	int local_2c;

	_DAT_100f4104 = _DAT_100f40ec;
	uVar1 = (undefined)_DAT_100f2d20;
	InitializeCriticalSection(uVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, (char)in_stack_ffffffc8,
	    in_stack_ffffffcf, local_2c);
	FUN_1000058c(uVar1, (char)*(undefined4 *)(local_2c + -0x7810),
	    (char)*(undefined4 *)(local_2c + -0x62c4), param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

ulonglong effect_is_playing(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	byte *pbVar1;
	undefined8 uVar2;
	ulonglong uVar3;
	longlong lVar4;
	undefined4 in_stack_ffffffc8;

	lVar4 = ZEXT48(&DAT_100f8e50) + (longlong)param_1 * 0xc;
	pbVar1 = (byte *)lVar4;
	if (*(int *)(pbVar1 + 8) == 0) {
		if ((*pbVar1 & 1) == 0) {
			uVar3 = 0;
		} else {
			uVar2 = countLeadingZeros(_DAT_100f410c - (int)pbVar1);
			uVar3 = (ulonglong)((uint)uVar2 >> 5 & 0xff);
		}
	} else {
		uVar3 = snd_playing(*(int *)(pbVar1 + 8), (char)lVar4, param_3, param_4, param_5, param_6, param_7,
		    param_8, in_stack_ffffffc8);
	}
	return uVar3;
}

void sfx_stop(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	int local_2c;

	if (_DAT_100f4110 != 0) {
		SFileDdaEnd((char)_DAT_100f4110, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
		SFileCloseFile((char)*(undefined4 *)(local_2c + -0x4ec0), param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
		*(undefined4 *)(local_2c + -0x4ec0) = 0;
		*(undefined4 *)(local_2c + -0x4ec4) = 0;
	}
	return;
}

void stream_play(int param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	char cVar1;
	ulonglong uVar2;
	int iVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	int local_3c;

	cVar1 = -0x30;
	uVar4 = param_3;
	sfx_stop((char)param_1, (char)param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	uVar2 = sound_get_or_set_sound_volume(1);
	uVar7 = (undefined)((longlong)param_2 + uVar2);
	iVar3 = (int)((longlong)param_2 + uVar2);
	if (-0x641 < iVar3) {
		if (0 < iVar3) {
			uVar7 = 0;
		}
		iVar3 = SFileOpenFile((char)*(undefined4 *)(param_1 + 4), cVar1 + '@', uVar4, param_4, param_5,
		    param_6, param_7, param_8, (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
		if (iVar3 == 0) {
			*(undefined4 *)(local_3c + -0x4ec0) = 0;
		} else {
			uVar4 = 0;
			uVar5 = 0;
			uVar6 = 0;
			uVar8 = 0;
			iVar3 = SFileDdaBeginEx((char)*(undefined4 *)(local_3c + -0x4ec0), 0, 0, 0, uVar7, param_3, 0,
			    param_8, (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
			if (iVar3 == 0) {
				sfx_stop(0, uVar4, uVar5, uVar6, uVar7, param_3, uVar8, param_8, in_stack_ffffffb8);
			} else {
				*(int *)(local_3c + -0x4ec4) = param_1;
			}
		}
	}
	return;
}

void effects_update(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined uVar2;
	undefined uVar3;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;
	uint local_8;
	uint local_4;

	if (_DAT_100f4110 != 0) {
		uVar2 = 0xfc;
		uVar3 = 0xf8;
		iVar1 = SFileDdaGetPos((char)_DAT_100f4110, 0xfc, 0xf8, param_4, param_5, param_6, param_7, param_8,
		    (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
		if ((iVar1 != 0) && (local_8 <= local_4)) {
			sfx_stop((char)local_4, uVar2, uVar3, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffc8);
		}
	}
	return;
}

void sound_stop(undefined param_1, char param_2, char param_3, char param_4, char param_5, char param_6, char param_7, char param_8, undefined4 param_9)

{
	bool bVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	int iVar9;
	undefined *puVar10;
	undefined4 in_stack_ffffffc8;

	lVar8 = (longlong)param_8;
	lVar7 = (longlong)param_7;
	lVar6 = (longlong)param_6;
	lVar5 = (longlong)param_5;
	lVar4 = (longlong)param_4;
	lVar3 = (longlong)param_3;
	lVar2 = (longlong)param_2;
	puVar10 = &DAT_100f8e50;
	iVar9 = 0x359;
	do {
		if (*(int *)(puVar10 + 8) != 0) {
			snd_stop_snd(*(int *)(puVar10 + 8), (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, in_stack_ffffffc8);
		}
		bVar1 = iVar9 != 0;
		puVar10 = puVar10 + 0xc;
		iVar9 = iVar9 + -1;
	} while (bVar1);
	return;
}

void InitMonsterSND(int iParm1)

{
	int iVar3;
	longlong lVar1;
	ulonglong uVar2;
	longlong lVar4;
	undefined uVar5;
	longlong lVar6;
	undefined uVar7;
	longlong lVar8;
	undefined uVar9;
	undefined4 uVar10;
	undefined8 in_r7;
	undefined4 uVar11;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	longlong lVar12;
	undefined8 unaff_r27;
	int iVar13;
	undefined8 unaff_r28;
	byte *pbVar14;
	undefined8 unaff_r29;
	int iVar15;
	undefined8 unaff_r30;
	char *pcVar16;
	undefined8 unaff_r31;
	byte *pbVar17;
	undefined4 in_stack_fffffea8;
	undefined in_stack_fffffeaf;
	undefined4 in_stack_fffffebc;
	undefined4 in_stack_fffffec0;
	undefined4 in_stack_fffffec4;
	undefined4 in_stack_fffffec8;
	undefined4 in_stack_fffffecc;
	undefined4 in_stack_fffffed0;
	undefined4 in_stack_fffffed4;
	undefined auStack296[268];
	undefined4 local_1c;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	uVar11 = (undefined4)in_r7;
	uVar10 = (undefined4)((ulonglong)in_r7 >> 0x20);
	local_1c = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	if (*_DAT_100f1d20 != '\0') {
		pcVar16 = &DAT_100fb688;
		pbVar14 = PTR_DAT_100f19c0 + iParm1 * 0x208;
		iVar13 = 0;
		iVar15 = _DAT_100f1d1c + (uint)*pbVar14 * 0x80;
		do {
			if ((*pcVar16 != 's') || (*(int *)(iVar15 + 0x14) != 0)) {
				lVar12 = 0;
				pbVar17 = pbVar14;
				do {
					lVar8 = lVar12 + 1;
					lVar6 = (longlong)*pcVar16;
					sprintf((int)auStack296, *(undefined4 *)(iVar15 + 0x10), (int)*pcVar16, (int)lVar8,
					    uVar11, in_r8, in_r9, in_r10, in_stack_fffffea8, in_stack_fffffeaf,
					    in_stack_fffffebc, in_stack_fffffec0, in_stack_fffffec4, in_stack_fffffec8,
					    in_stack_fffffecc, in_stack_fffffed0, in_stack_fffffed4);
					iVar3 = strlen((uint)auStack296);
					lVar1 = DiabloAllocPtr((longlong)iVar3 + 1);
					lVar4 = ZEXT48(register0x0000000c) - 0x128;
					strcpy((int)lVar1, (int)lVar4);
					uVar9 = (undefined)lVar8;
					uVar7 = (undefined)lVar6;
					uVar5 = (undefined)lVar4;
					uVar2 = sound_file_load(lVar1, lVar4, lVar6, lVar8, CONCAT44(uVar10, uVar11), in_r8, in_r9, in_r10,
					    in_stack_fffffea8);
					*(int *)(pbVar17 + 0x1cc) = (int)uVar2;
					if ((uVar2 & 0xffffffff) == 0) {
						mem_free_dbg(lVar1, uVar5, uVar7, uVar9, (char)uVar11, (char)in_r8, (char)in_r9, (char)in_r10,
						    in_stack_fffffea8);
					}
					lVar12 = lVar12 + 1;
					pbVar17 = pbVar17 + 4;
				} while ((int)lVar12 < 2);
			}
			iVar13 = iVar13 + 1;
			pbVar14 = pbVar14 + 8;
			pcVar16 = pcVar16 + 1;
		} while (iVar13 < 4);
	}
	return;
}

ulonglong FreeEffects(char param_1, char param_2, char param_3, char param_4, char param_5, char param_6, char param_7, char param_8, undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	undefined *puVar3;
	ulonglong uVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	int iVar12;
	int iVar13;
	int iVar14;
	undefined *puVar15;
	undefined *puVar16;
	undefined *puVar17;
	undefined4 in_stack_ffffff98;

	puVar3 = PTR_DAT_100f19b8;
	lVar11 = (longlong)param_8;
	lVar10 = (longlong)param_7;
	lVar9 = (longlong)param_6;
	lVar8 = (longlong)param_5;
	lVar7 = (longlong)param_4;
	lVar6 = (longlong)param_3;
	lVar5 = (longlong)param_2;
	uVar4 = SEXT18(param_1);
	iVar14 = 0;
	puVar15 = PTR_DAT_100f19c0;
	while (iVar14 < *(int *)puVar3) {
		iVar13 = 0;
		puVar16 = puVar15;
		do {
			iVar12 = 0;
			puVar17 = puVar16;
			do {
				uVar1 = *(uint *)(puVar17 + 0x1cc);
				uVar4 = (ulonglong)uVar1;
				if (uVar1 != 0) {
					*(undefined4 *)(puVar17 + 0x1cc) = 0;
					uVar2 = *(uint *)(uVar1 + 0x1c);
					*(undefined4 *)(uVar1 + 0x1c) = 0;
					sound_file_cleanup(uVar4, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9,
					    (char)lVar10, (char)lVar11, in_stack_ffffff98);
					uVar4 = mem_free_dbg((ulonglong)uVar2, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8,
					    (char)lVar9, (char)lVar10, (char)lVar11, in_stack_ffffff98);
				}
				iVar12 = iVar12 + 1;
				puVar17 = puVar17 + 4;
			} while (iVar12 < 2);
			iVar13 = iVar13 + 1;
			puVar16 = puVar16 + 8;
		} while (iVar13 < 4);
		puVar15 = puVar15 + 0x208;
		iVar14 = iVar14 + 1;
	}
	return uVar4;
}

undefined8
calc_snd_position(longlong param_1, longlong param_2, int *param_3, uint *param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	longlong lVar1;
	undefined8 uVar2;
	longlong lVar3;
	int iVar4;

	param_1 = param_1 - (ulonglong) * (uint *)(PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec + 0x38);
	param_2 = param_2 - (ulonglong) * (uint *)(PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec + 0x3c);
	*param_4 = ((int)param_1 - (int)param_2) * 0x100;
	lVar1 = abs((ulonglong)*param_4);
	if ((int)lVar1 < 0x1901) {
		lVar1 = abs(param_2);
		lVar3 = abs(param_1);
		if ((int)lVar1 < (int)lVar3) {
			lVar1 = abs(param_1);
			iVar4 = (int)lVar1;
		} else {
			lVar1 = abs(param_2);
			iVar4 = (int)lVar1;
		}
		*param_3 = iVar4 << 6;
		if (*param_3 < 0x1900) {
			*param_3 = -*param_3;
			uVar2 = 1;
		} else {
			uVar2 = 0;
		}
	} else {
		uVar2 = 0;
	}
	return uVar2;
}

void PlaySFX_priv(byte *param_1, longlong param_2, longlong param_3, longlong param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	undefined8 uVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	ulonglong uVar6;
	undefined4 in_stack_ffffffb8;

	uVar6 = ZEXT48(PTR_DAT_100f1824);
	if (((((PTR_DAT_100f1828[*(int *)PTR_DAT_100f1824 * 0x55ec + 0x5592] == '\0') || (*PTR_DAT_100f17e0 == '\x01')) && (*_DAT_100f1d20 != '\0')) && ((*_DAT_100f1d18 != '\0' && (*_DAT_100f1d14 == '\0')))) && (((lVar3 = param_2, lVar4 = param_3, lVar5 = param_4, (*param_1 & 1) != 0 || ((lVar3 = param_2, lVar4 = param_3, lVar5 = param_4, (*param_1 & 2) != 0 || (lVar3 = param_2, lVar4 = param_3, lVar5 = param_4, *(int *)(param_1 + 8) == 0)))) || (lVar3 = param_2, lVar4 = param_3, lVar5 = param_4, uVar1 = snd_playing(*(int *)(param_1 + 8), (char)param_2, (char)param_3, (char)param_4, (char)PTR_DAT_100f1824, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffb8), (int)uVar1 == 0)))) {
		if ((int)param_2 != 0) {
			lVar4 = ZEXT48(register0x0000000c) - 0x18;
			lVar5 = ZEXT48(register0x0000000c) - 0x14;
			uVar2 = calc_snd_position(param_3, param_4, (int *)lVar4, (uint *)lVar5, (char)uVar6, (char)param_6,
			    (char)param_7, (char)param_8, in_stack_ffffffb8);
			lVar3 = param_4;
			if ((int)uVar2 == 0) {
				return;
			}
		}
		if ((*param_1 & 1) == 0) {
			if (*(int *)(param_1 + 8) == 0) {
				lVar3 = sound_file_load((ulonglong) * (uint *)(param_1 + 4), lVar3, lVar4, lVar5, uVar6, param_6,
				    param_7, param_8, in_stack_ffffffb8);
				*(int *)(param_1 + 8) = (int)lVar3;
			}
			if (*(uint *)(param_1 + 8) != 0) {
				snd_play_snd((ulonglong) * (uint *)(param_1 + 8), 0, 0);
			}
		} else {
			stream_play(param_1, 0, 0, (char)lVar5, (char)uVar6, (char)param_6, (char)param_7, (char)param_8,
			    in_stack_ffffffb8);
		}
	}
	return;
}

void FUN_1003bc74(int param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	uint uVar1;
	int iVar2;
	undefined **ppuVar3;
	longlong lVar4;
	ulonglong uVar5;
	undefined8 uVar6;
	undefined *puVar7;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined1 in_stack_ffffffbb;
	uint local_28;
	uint local_24[9];

	puVar7 = PTR_DAT_100f187c;
	ppuVar3 = &toc;
	if ((((PTR_DAT_100f1828[*(int *)PTR_DAT_100f1824 * 0x55ec + 0x5592] == '\0') && (lVar4 = random(0xa4, 2, (char)PTR_DAT_100f1824, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb), *ppuVar3[-0x1cac] != '\0')) && (*ppuVar3[-0x1cae] != '\0')) && (*ppuVar3[-0x1caf] == '\0')) {
		iVar2 = *(int *)(puVar7 + param_1 * 0xe8);
		uVar1 = *(uint *)(ppuVar3[-0x1d84] + (int)lVar4 * 4 + param_2 * 8 + iVar2 * 0x208 + 0x1cc);
		if (((uVar1 != 0) && (uVar5 = snd_playing(uVar1, (char)(param_2 * 8), (char)iVar2, (char)ppuVar3[-0x1d84], param_5, param_6, param_7, param_8, in_stack_ffffffa8), (int)uVar5 == 0)) && (puVar7 = puVar7 + param_1 * 0xe8, uVar6 = calc_snd_position((ulonglong) * (uint *)(puVar7 + 0x20), (ulonglong) * (uint *)(puVar7 + 0x24), (int *)&local_28, local_24, param_5, param_6, param_7, param_8, in_stack_ffffffa8), (int)uVar6 != 0)) {
			snd_play_snd((ulonglong)uVar1, (ulonglong)local_28, (ulonglong)local_24[0]);
		}
	}
	return;
}

longlong RndSFX(longlong param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	longlong lVar1;
	int iVar2;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined1 in_stack_ffffffdb;

	iVar2 = (int)param_1;
	if (iVar2 == 0x314) {
		lVar1 = 2;
	} else {
		if (iVar2 == 0x2d7) {
			lVar1 = 3;
		} else {
			if (iVar2 == 0x2da) {
				lVar1 = 3;
			} else {
				if (iVar2 == 0x2dd) {
					lVar1 = 3;
				} else {
					if (iVar2 == 0x240) {
						lVar1 = 2;
					} else {
						if (iVar2 == 0x2a7) {
							lVar1 = 2;
						} else {
							if (iVar2 == 9) {
								lVar1 = 2;
							} else {
								if (iVar2 == 0x56) {
									lVar1 = 2;
								} else {
									if (iVar2 == 0x1e) {
										lVar1 = 2;
									} else {
										if (iVar2 == 0x3f) {
											lVar1 = 2;
										} else {
											if (iVar2 == 0x10) {
												lVar1 = 2;
											} else {
												if (iVar2 != 0x2cb) {
													return param_1;
												}
												lVar1 = 3;
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	lVar1 = random(0xa5, lVar1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8,
	    in_stack_ffffffcf, in_stack_ffffffdb);
	return param_1 + lVar1;
}

void PlaySFX(longlong lParm1, undefined param_2, undefined param_3, undefined param_4,
    undefined8 uParm5, undefined4 uParm6, undefined4 uParm7, undefined4 uParm8)

{
	undefined **ppuVar1;
	longlong lVar2;
	undefined7 uVar3;
	undefined uVar4;
	undefined4 in_stack_ffffffc8;

	uVar4 = (undefined)uParm5;
	uVar3 = (undefined7)((ulonglong)uParm5 >> 8);
	ppuVar1 = &toc;
	lVar2 = RndSFX(lParm1, param_2, param_3, param_4, uVar4, (char)uParm6, (char)uParm7, (char)uParm8,
	    in_stack_ffffffc8);
	PlaySFX_priv((byte *)(ppuVar1 + (int)lVar2 * 3 + -0x60), 0, 0, 0, CONCAT71(uVar3, uVar4), uParm6, uParm7,
	    uParm8, in_stack_ffffffc8);
	return;
}

void PlaySfxLoc(longlong param_1, longlong param_2, longlong param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	longlong lVar2;
	int iVar3;
	undefined7 uVar4;
	undefined uVar5;
	undefined4 in_stack_ffffffb8;

	uVar4 = (undefined7)((ulonglong)param_5 >> 8);
	uVar5 = (undefined)param_5;
	lVar2 = RndSFX(param_1, (char)param_2, (char)param_3, (undefined)param_4, uVar5, (char)param_6,
	    (char)param_7, (char)param_8, in_stack_ffffffb8);
	iVar3 = (int)lVar2;
	if (((-1 < iVar3) && (iVar3 < 4)) && (iVar1 = *(int *)(iVar3 * 0xc + 0x100f8e58), iVar1 != 0)) {
		*(undefined4 *)(iVar1 + 0x24) = 0;
	}
	PlaySFX_priv(&DAT_100f8e50 + iVar3 * 0xc, 1, param_2, param_3, CONCAT71(uVar4, uVar5), param_6, param_7,
	    param_8, in_stack_ffffffb8);
	return;
}

void FreeMonsterSnd(undefined param_1, char param_2, char param_3, char param_4, char param_5, char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined **ppuVar2;
	undefined uVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	int iVar11;
	int iVar12;
	int iVar13;
	undefined *puVar14;
	undefined *puVar15;
	undefined *puVar16;
	undefined4 in_stack_ffffffa8;

	puVar1 = PTR_DAT_100f19b8;
	lVar10 = (longlong)param_8;
	lVar9 = (longlong)param_7;
	lVar8 = (longlong)param_6;
	lVar7 = (longlong)param_5;
	lVar6 = (longlong)param_4;
	lVar5 = (longlong)param_3;
	lVar4 = (longlong)param_2;
	ppuVar2 = &toc;
	uVar3 = snd_update(1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	uVar3 = sfx_stop(uVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffa8);
	sound_stop(uVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9,
	    (char)lVar10, in_stack_ffffffa8);
	puVar14 = ppuVar2[-0x1d84];
	iVar13 = 0;
	while (iVar13 < *(int *)puVar1) {
		iVar12 = 0;
		puVar15 = puVar14;
		do {
			iVar11 = 0;
			puVar16 = puVar15;
			do {
				snd_stop_snd(*(int *)(puVar16 + 0x1cc), (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7,
				    (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffa8);
				iVar11 = iVar11 + 1;
				puVar16 = puVar16 + 4;
			} while (iVar11 < 2);
			iVar12 = iVar12 + 1;
			puVar15 = puVar15 + 8;
		} while (iVar12 < 4);
		puVar14 = puVar14 + 0x208;
		iVar13 = iVar13 + 1;
	}
	return;
}

void sound_update(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined uVar1;
	undefined4 in_stack_ffffffc8;

	if (*_DAT_100f1d20 != '\0') {
		uVar1 = snd_update(0, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
		effects_update(uVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return;
}

void effects_cleanup_sfx(undefined param_1, char param_2, char param_3, char param_4, char param_5, char param_6, char param_7, char param_8, undefined4 param_9)

{
	uint uVar1;
	ulonglong uVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	uint uVar10;
	longlong lVar11;
	undefined4 in_stack_ffffffb8;

	lVar9 = (longlong)param_8;
	lVar8 = (longlong)param_7;
	lVar7 = (longlong)param_6;
	lVar6 = (longlong)param_5;
	lVar5 = (longlong)param_4;
	lVar4 = (longlong)param_3;
	lVar3 = (longlong)param_2;
	uVar2 = ZEXT48(&toc);
	FreeMonsterSnd(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	lVar11 = uVar2 - 0x180;
	uVar10 = 0;
	do {
		uVar1 = *(uint *)((int)lVar11 + 8);
		if (uVar1 != 0) {
			sound_file_cleanup((ulonglong)uVar1, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7,
			    (char)lVar8, (char)lVar9, in_stack_ffffffb8);
			*(undefined4 *)((int)lVar11 + 8) = 0;
		}
		uVar10 = uVar10 + 1;
		lVar11 = lVar11 + 0xc;
	} while (uVar10 < 0x35a);
	return;
}

void priv_sound_init(byte param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	byte bVar1;
	byte bVar2;
	longlong lVar3;
	ulonglong uVar4;
	undefined7 uVar5;
	undefined uVar6;
	undefined7 uVar7;
	undefined uVar8;
	undefined7 uVar9;
	undefined uVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	uint uVar14;
	byte *pbVar15;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	uVar9 = (undefined7)((ulonglong)param_5 >> 8);
	uVar10 = (undefined)param_5;
	uVar7 = (undefined7)((ulonglong)param_4 >> 8);
	uVar8 = (undefined)param_4;
	uVar5 = (undefined7)((ulonglong)param_3 >> 8);
	uVar6 = (undefined)param_3;
	lVar13 = (longlong)param_8;
	lVar12 = (longlong)param_7;
	lVar11 = (longlong)param_6;
	uVar4 = ZEXT48(_DAT_100f1d20);
	if (*_DAT_100f1d20 != '\0') {
		pbVar15 = &DAT_100f8e50;
		bVar2 = param_1 ^ param_1 & 0x70;
		uVar14 = 0;
		do {
			if (*(int *)(pbVar15 + 8) == 0) {
				bVar1 = *pbVar15;
				if ((bVar1 & 1) == 0) {
					if ((bVar2 == 0) || ((bVar2 & bVar1) != 0)) {
						if (((bVar1 & 0x70) == 0) || ((param_1 & 0x70 & bVar1) != 0)) {
							Sleep(1, (char)uVar4, uVar6, uVar8, uVar10, (char)lVar11, (char)lVar12, (char)lVar13,
							    (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
							lVar3 = sound_file_load((ulonglong) * (uint *)(pbVar15 + 4), uVar4, CONCAT71(uVar5, uVar6),
							    CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10), (int)lVar11,
							    (int)lVar12, (int)lVar13, in_stack_ffffffb8);
							*(int *)(pbVar15 + 8) = (int)lVar3;
						}
					}
				}
			}
			uVar14 = uVar14 + 1;
			pbVar15 = pbVar15 + 0xc;
		} while (uVar14 < 0x35a);
		Sleep(1, (char)uVar4, uVar6, uVar8, uVar10, (char)lVar11, (char)lVar12, (char)lVar13,
		    (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
	}
	return;
}

void stream_update(undefined8 param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	char cVar1;
	byte bVar2;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	bVar2 = 0;
	if ((byte)*PTR_DAT_100f17e0 < 2) {
		param_2 = ZEXT48(PTR_DAT_100f1828);
		cVar1 = PTR_DAT_100f1828[*(int *)PTR_DAT_100f1824 * 0x55ec + 0x15c];
		if (cVar1 == '\0') {
			bVar2 = 0x20;
		} else {
			if (cVar1 == '\x01') {
				bVar2 = 0x10;
			} else {
				if (cVar1 == '\x02') {
					bVar2 = 0x40;
				} else {
					app_fatal((int)PTR_s_effects_1_100f2d28, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8,
					    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8,
					    in_stack_ffffffec, in_stack_fffffff0, in_stack_fffffff4);
				}
			}
		}
	} else {
		bVar2 = 0x70;
	}
	priv_sound_init(bVar2, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void sound_init(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	priv_sound_init(4, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void effects_play_sound(undefined param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	uint *puVar1;
	int iVar3;
	ulonglong uVar2;
	undefined uVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	uint uVar11;
	undefined *puVar12;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	lVar10 = (longlong)param_8;
	lVar9 = (longlong)param_7;
	lVar8 = (longlong)param_6;
	lVar7 = (longlong)param_5;
	lVar6 = (longlong)param_4;
	lVar5 = (longlong)param_3;
	if ((*_DAT_100f1d20 != '\0') && (*_DAT_100f1d18 != '\0')) {
		uVar11 = 0;
		puVar12 = &DAT_100f8e50;
		do {
			uVar4 = param_1;
			iVar3 = _stricmp((char)*(undefined4 *)(puVar12 + 4), param_1, (char)lVar5, (char)lVar6,
			    (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, (char)in_stack_ffffffb8,
			    in_stack_ffffffbf, local_3c);
			if ((iVar3 == 0) && (*(int *)(puVar12 + 8) != 0)) {
				puVar1 = (uint *)(uVar11 * 0xc + 0x100f8e58);
				uVar2 = snd_playing(*puVar1, uVar4, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8,
				    (char)lVar9, (char)lVar10, in_stack_ffffffb8);
				if ((int)uVar2 != 0) {
					return;
				}
				snd_play_snd((ulonglong)*puVar1, 0, 0);
				return;
			}
			uVar11 = uVar11 + 1;
			puVar12 = puVar12 + 0xc;
		} while (uVar11 < 0x35a);
	}
	return;
}

void FUN_1003c2d4(void)

{
	_DAT_100f4114 = _DAT_100f4108;
	return;
}

void Decrypt(uint *param_1, uint param_2, uint param_3)

{
	uint uVar1;
	int iVar2;
	ulonglong uVar3;
	uint *puVar4;
	ulonglong uVar5;
	ulonglong uVar6;
	uint uVar7;
	uint uVar8;
	int iVar9;

	iVar2 = _DAT_100f2d3c;
	uVar1 = param_2 >> 2;
	uVar3 = (ulonglong)uVar1;
	iVar9 = -0x11111112;
	if (uVar1 != 0) {
		uVar5 = (ulonglong)(param_2 >> 5);
		uVar6 = uVar3;
		puVar4 = param_1;
		if (param_2 >> 5 != 0) {
			do {
				*puVar4 = (uint) * (byte *)((int)puVar4 + 3) << 0x18 | (uint) * (byte *)((int)puVar4 + 2) << 0x10 | (uint) * (byte *)((int)puVar4 + 1) << 8 | (uint) * (byte *)puVar4;
				puVar4[1] = (uint) * (byte *)((int)puVar4 + 7) << 0x18 | (uint) * (byte *)((int)puVar4 + 6) << 0x10 | (uint) * (byte *)((int)puVar4 + 5) << 8
				    | (uint) * (byte *)(puVar4 + 1);
				puVar4[2] = (uint) * (byte *)((int)puVar4 + 0xb) << 0x18 | (uint) * (byte *)((int)puVar4 + 10) << 0x10 | (uint) * (byte *)((int)puVar4 + 9) << 8 | (uint) * (byte *)(puVar4 + 2);
				puVar4[3] = (uint) * (byte *)((int)puVar4 + 0xf) << 0x18 | (uint) * (byte *)((int)puVar4 + 0xe) << 0x10 | (uint) * (byte *)((int)puVar4 + 0xd) << 8 | (uint) * (byte *)(puVar4 + 3);
				puVar4[4] = (uint) * (byte *)((int)puVar4 + 0x13) << 0x18 | (uint) * (byte *)((int)puVar4 + 0x12) << 0x10 | (uint) * (byte *)((int)puVar4 + 0x11) << 8 | (uint) * (byte *)(puVar4 + 4);
				puVar4[5] = (uint) * (byte *)((int)puVar4 + 0x17) << 0x18 | (uint) * (byte *)((int)puVar4 + 0x16) << 0x10 | (uint) * (byte *)((int)puVar4 + 0x15) << 8 | (uint) * (byte *)(puVar4 + 5);
				puVar4[6] = (uint) * (byte *)((int)puVar4 + 0x1b) << 0x18 | (uint) * (byte *)((int)puVar4 + 0x1a) << 0x10 | (uint) * (byte *)((int)puVar4 + 0x19) << 8 | (uint) * (byte *)(puVar4 + 6);
				puVar4[7] = (uint) * (byte *)((int)puVar4 + 0x1f) << 0x18 | (uint) * (byte *)((int)puVar4 + 0x1e) << 0x10 | (uint) * (byte *)((int)puVar4 + 0x1d) << 8 | (uint) * (byte *)(puVar4 + 7);
				puVar4 = puVar4 + 8;
				uVar5 = uVar5 - 1;
			} while (uVar5 != 0);
			uVar6 = uVar3 & 7;
			if ((uVar1 & 7) == 0)
				goto LAB_1003c398;
		}
		do {
			*puVar4 = (uint) * (byte *)((int)puVar4 + 3) << 0x18 | (uint) * (byte *)((int)puVar4 + 2) << 0x10
			    | (uint) * (byte *)((int)puVar4 + 1) << 8 | (uint) * (byte *)puVar4;
			uVar6 = uVar6 - 1;
			puVar4 = puVar4 + 1;
		} while (uVar6 != 0);
	}
LAB_1003c398:
	if (uVar1 != 0) {
		uVar5 = (ulonglong)(param_2 >> 4);
		uVar6 = uVar3;
		puVar4 = param_1;
		if (param_2 >> 4 != 0) {
			do {
				iVar9 = iVar9 + *(int *)(iVar2 + (param_3 & 0xff) * 4 + 0x1000);
				uVar7 = *puVar4 ^ iVar9 + param_3;
				*puVar4 = uVar7;
				uVar8 = param_3 >> 0xb | (param_3 << 0x15 ^ 0xffe00000) + 0x11111111;
				iVar9 = uVar7 + 3 + iVar9 * 0x21 + *(int *)(iVar2 + (uVar8 & 0xff) * 4 + 0x1000);
				uVar7 = puVar4[1] ^ iVar9 + uVar8;
				puVar4[1] = uVar7;
				uVar8 = uVar8 >> 0xb | (uVar8 << 0x15 ^ 0xffe00000) + 0x11111111;
				iVar9 = uVar7 + 3 + iVar9 * 0x21 + *(int *)(iVar2 + (uVar8 & 0xff) * 4 + 0x1000);
				uVar7 = puVar4[2] ^ iVar9 + uVar8;
				puVar4[2] = uVar7;
				uVar8 = uVar8 >> 0xb | (uVar8 << 0x15 ^ 0xffe00000) + 0x11111111;
				iVar9 = uVar7 + 3 + iVar9 * 0x21 + *(int *)(iVar2 + (uVar8 & 0xff) * 4 + 0x1000);
				uVar7 = puVar4[3] ^ iVar9 + uVar8;
				puVar4[3] = uVar7;
				iVar9 = uVar7 + 3 + iVar9 * 0x21;
				puVar4 = puVar4 + 4;
				param_3 = uVar8 >> 0xb | (uVar8 << 0x15 ^ 0xffe00000) + 0x11111111;
				uVar5 = uVar5 - 1;
			} while (uVar5 != 0);
			uVar6 = uVar3 & 3;
			if ((uVar1 & 3) == 0)
				goto LAB_1003c534;
		}
		do {
			iVar9 = iVar9 + *(int *)(iVar2 + (param_3 & 0xff) * 4 + 0x1000);
			uVar8 = *puVar4 ^ iVar9 + param_3;
			*puVar4 = uVar8;
			iVar9 = uVar8 + 3 + iVar9 * 0x21;
			param_3 = param_3 >> 0xb | (param_3 << 0x15 ^ 0xffe00000) + 0x11111111;
			uVar6 = uVar6 - 1;
			puVar4 = puVar4 + 1;
		} while (uVar6 != 0);
	}
LAB_1003c534:
	if (uVar1 != 0) {
		uVar6 = (ulonglong)(param_2 >> 5);
		if (param_2 >> 5 != 0) {
			do {
				*param_1 = (uint) * (byte *)((int)param_1 + 3) << 0x18 | (uint) * (byte *)((int)param_1 + 2) << 0x10 | (uint) * (byte *)((int)param_1 + 1) << 8 | (uint) * (byte *)param_1;
				param_1[1] = (uint) * (byte *)((int)param_1 + 7) << 0x18 | (uint) * (byte *)((int)param_1 + 6) << 0x10 | (uint) * (byte *)((int)param_1 + 5) << 8 | (uint) * (byte *)(param_1 + 1);
				param_1[2] = (uint) * (byte *)((int)param_1 + 0xb) << 0x18 | (uint) * (byte *)((int)param_1 + 10) << 0x10 | (uint) * (byte *)((int)param_1 + 9) << 8 | (uint) * (byte *)(param_1 + 2);
				param_1[3] = (uint) * (byte *)((int)param_1 + 0xf) << 0x18 | (uint) * (byte *)((int)param_1 + 0xe) << 0x10 | (uint) * (byte *)((int)param_1 + 0xd) << 8 | (uint) * (byte *)(param_1 + 3);
				param_1[4] = (uint) * (byte *)((int)param_1 + 0x13) << 0x18 | (uint) * (byte *)((int)param_1 + 0x12) << 0x10 | (uint) * (byte *)((int)param_1 + 0x11) << 8 | (uint) * (byte *)(param_1 + 4);
				param_1[5] = (uint) * (byte *)((int)param_1 + 0x17) << 0x18 | (uint) * (byte *)((int)param_1 + 0x16) << 0x10 | (uint) * (byte *)((int)param_1 + 0x15) << 8 | (uint) * (byte *)(param_1 + 5);
				param_1[6] = (uint) * (byte *)((int)param_1 + 0x1b) << 0x18 | (uint) * (byte *)((int)param_1 + 0x1a) << 0x10 | (uint) * (byte *)((int)param_1 + 0x19) << 8 | (uint) * (byte *)(param_1 + 6);
				param_1[7] = (uint) * (byte *)((int)param_1 + 0x1f) << 0x18 | (uint) * (byte *)((int)param_1 + 0x1e) << 0x10 | (uint) * (byte *)((int)param_1 + 0x1d) << 8 | (uint) * (byte *)(param_1 + 7);
				param_1 = param_1 + 8;
				uVar6 = uVar6 - 1;
			} while (uVar6 != 0);
			uVar3 = uVar3 & 7;
			if ((uVar1 & 7) == 0) {
				return;
			}
		}
		do {
			*param_1 = (uint) * (byte *)((int)param_1 + 3) << 0x18 | (uint) * (byte *)((int)param_1 + 2) << 0x10 | (uint) * (byte *)((int)param_1 + 1) << 8
			    | (uint) * (byte *)param_1;
			param_1 = param_1 + 1;
			uVar3 = uVar3 - 1;
		} while (uVar3 != 0);
	}
	return;
}

void FUN_1003c5dc(uint *param_1, uint param_2, uint param_3)

{
	uint uVar1;
	uint uVar2;
	uint uVar3;
	int iVar4;
	ulonglong uVar5;
	uint *puVar6;
	ulonglong uVar7;
	uint uVar8;
	uint uVar9;
	ulonglong uVar10;
	int iVar11;

	iVar4 = _DAT_100f2d3c;
	uVar3 = param_2 >> 2;
	uVar10 = (ulonglong)uVar3;
	iVar11 = -0x11111112;
	if (uVar3 != 0) {
		uVar5 = (ulonglong)(param_2 >> 5);
		uVar7 = uVar10;
		puVar6 = param_1;
		if (param_2 >> 5 != 0) {
			do {
				*puVar6 = (uint) * (byte *)((int)puVar6 + 3) << 0x18 | (uint) * (byte *)((int)puVar6 + 2) << 0x10 | (uint) * (byte *)((int)puVar6 + 1) << 8 | (uint) * (byte *)puVar6;
				puVar6[1] = (uint) * (byte *)((int)puVar6 + 7) << 0x18 | (uint) * (byte *)((int)puVar6 + 6) << 0x10 | (uint) * (byte *)((int)puVar6 + 5) << 8
				    | (uint) * (byte *)(puVar6 + 1);
				puVar6[2] = (uint) * (byte *)((int)puVar6 + 0xb) << 0x18 | (uint) * (byte *)((int)puVar6 + 10) << 0x10 | (uint) * (byte *)((int)puVar6 + 9) << 8 | (uint) * (byte *)(puVar6 + 2);
				puVar6[3] = (uint) * (byte *)((int)puVar6 + 0xf) << 0x18 | (uint) * (byte *)((int)puVar6 + 0xe) << 0x10 | (uint) * (byte *)((int)puVar6 + 0xd) << 8 | (uint) * (byte *)(puVar6 + 3);
				puVar6[4] = (uint) * (byte *)((int)puVar6 + 0x13) << 0x18 | (uint) * (byte *)((int)puVar6 + 0x12) << 0x10 | (uint) * (byte *)((int)puVar6 + 0x11) << 8 | (uint) * (byte *)(puVar6 + 4);
				puVar6[5] = (uint) * (byte *)((int)puVar6 + 0x17) << 0x18 | (uint) * (byte *)((int)puVar6 + 0x16) << 0x10 | (uint) * (byte *)((int)puVar6 + 0x15) << 8 | (uint) * (byte *)(puVar6 + 5);
				puVar6[6] = (uint) * (byte *)((int)puVar6 + 0x1b) << 0x18 | (uint) * (byte *)((int)puVar6 + 0x1a) << 0x10 | (uint) * (byte *)((int)puVar6 + 0x19) << 8 | (uint) * (byte *)(puVar6 + 6);
				puVar6[7] = (uint) * (byte *)((int)puVar6 + 0x1f) << 0x18 | (uint) * (byte *)((int)puVar6 + 0x1e) << 0x10 | (uint) * (byte *)((int)puVar6 + 0x1d) << 8 | (uint) * (byte *)(puVar6 + 7);
				puVar6 = puVar6 + 8;
				uVar5 = uVar5 - 1;
			} while (uVar5 != 0);
			uVar7 = uVar10 & 7;
			if ((uVar3 & 7) == 0)
				goto LAB_1003c694;
		}
		do {
			*puVar6 = (uint) * (byte *)((int)puVar6 + 3) << 0x18 | (uint) * (byte *)((int)puVar6 + 2) << 0x10
			    | (uint) * (byte *)((int)puVar6 + 1) << 8 | (uint) * (byte *)puVar6;
			uVar7 = uVar7 - 1;
			puVar6 = puVar6 + 1;
		} while (uVar7 != 0);
	}
LAB_1003c694:
	if (uVar3 != 0) {
		uVar5 = (ulonglong)(param_2 >> 4);
		uVar7 = uVar10;
		puVar6 = param_1;
		if (param_2 >> 4 != 0) {
			do {
				uVar1 = *puVar6;
				iVar11 = iVar11 + *(int *)(iVar4 + (param_3 & 0xff) * 4 + 0x1000);
				uVar8 = param_3 >> 0xb | (param_3 << 0x15 ^ 0xffe00000) + 0x11111111;
				*puVar6 = uVar1 ^ iVar11 + param_3;
				uVar2 = puVar6[1];
				iVar11 = uVar1 + iVar11 * 0x21 + 3 + *(int *)(iVar4 + (uVar8 & 0xff) * 4 + 0x1000);
				uVar9 = uVar8 >> 0xb | (uVar8 << 0x15 ^ 0xffe00000) + 0x11111111;
				puVar6[1] = uVar2 ^ iVar11 + uVar8;
				uVar1 = puVar6[2];
				iVar11 = uVar2 + iVar11 * 0x21 + 3 + *(int *)(iVar4 + (uVar9 & 0xff) * 4 + 0x1000);
				uVar8 = uVar9 >> 0xb | (uVar9 << 0x15 ^ 0xffe00000) + 0x11111111;
				puVar6[2] = uVar1 ^ iVar11 + uVar9;
				uVar2 = puVar6[3];
				iVar11 = uVar1 + iVar11 * 0x21 + 3 + *(int *)(iVar4 + (uVar8 & 0xff) * 4 + 0x1000);
				puVar6[3] = uVar2 ^ iVar11 + uVar8;
				iVar11 = uVar2 + iVar11 * 0x21 + 3;
				param_3 = uVar8 >> 0xb | (uVar8 << 0x15 ^ 0xffe00000) + 0x11111111;
				puVar6 = puVar6 + 4;
				uVar5 = uVar5 - 1;
			} while (uVar5 != 0);
			uVar7 = uVar10 & 3;
			if ((uVar3 & 3) == 0)
				goto LAB_1003c830;
		}
		do {
			uVar1 = *puVar6;
			iVar11 = iVar11 + *(int *)(iVar4 + (param_3 & 0xff) * 4 + 0x1000);
			*puVar6 = uVar1 ^ iVar11 + param_3;
			iVar11 = uVar1 + iVar11 * 0x21 + 3;
			param_3 = param_3 >> 0xb | (param_3 << 0x15 ^ 0xffe00000) + 0x11111111;
			uVar7 = uVar7 - 1;
			puVar6 = puVar6 + 1;
		} while (uVar7 != 0);
	}
LAB_1003c830:
	if (uVar3 != 0) {
		uVar7 = (ulonglong)(param_2 >> 5);
		if (param_2 >> 5 != 0) {
			do {
				*param_1 = (uint) * (byte *)((int)param_1 + 3) << 0x18 | (uint) * (byte *)((int)param_1 + 2) << 0x10 | (uint) * (byte *)((int)param_1 + 1) << 8 | (uint) * (byte *)param_1;
				param_1[1] = (uint) * (byte *)((int)param_1 + 7) << 0x18 | (uint) * (byte *)((int)param_1 + 6) << 0x10 | (uint) * (byte *)((int)param_1 + 5) << 8 | (uint) * (byte *)(param_1 + 1);
				param_1[2] = (uint) * (byte *)((int)param_1 + 0xb) << 0x18 | (uint) * (byte *)((int)param_1 + 10) << 0x10 | (uint) * (byte *)((int)param_1 + 9) << 8 | (uint) * (byte *)(param_1 + 2);
				param_1[3] = (uint) * (byte *)((int)param_1 + 0xf) << 0x18 | (uint) * (byte *)((int)param_1 + 0xe) << 0x10 | (uint) * (byte *)((int)param_1 + 0xd) << 8 | (uint) * (byte *)(param_1 + 3);
				param_1[4] = (uint) * (byte *)((int)param_1 + 0x13) << 0x18 | (uint) * (byte *)((int)param_1 + 0x12) << 0x10 | (uint) * (byte *)((int)param_1 + 0x11) << 8 | (uint) * (byte *)(param_1 + 4);
				param_1[5] = (uint) * (byte *)((int)param_1 + 0x17) << 0x18 | (uint) * (byte *)((int)param_1 + 0x16) << 0x10 | (uint) * (byte *)((int)param_1 + 0x15) << 8 | (uint) * (byte *)(param_1 + 5);
				param_1[6] = (uint) * (byte *)((int)param_1 + 0x1b) << 0x18 | (uint) * (byte *)((int)param_1 + 0x1a) << 0x10 | (uint) * (byte *)((int)param_1 + 0x19) << 8 | (uint) * (byte *)(param_1 + 6);
				param_1[7] = (uint) * (byte *)((int)param_1 + 0x1f) << 0x18 | (uint) * (byte *)((int)param_1 + 0x1e) << 0x10 | (uint) * (byte *)((int)param_1 + 0x1d) << 8 | (uint) * (byte *)(param_1 + 7);
				param_1 = param_1 + 8;
				uVar7 = uVar7 - 1;
			} while (uVar7 != 0);
			uVar10 = uVar10 & 7;
			if ((uVar3 & 7) == 0) {
				return;
			}
		}
		do {
			*param_1 = (uint) * (byte *)((int)param_1 + 3) << 0x18 | (uint) * (byte *)((int)param_1 + 2) << 0x10 | (uint) * (byte *)((int)param_1 + 1) << 8
			    | (uint) * (byte *)param_1;
			param_1 = param_1 + 1;
			uVar10 = uVar10 - 1;
		} while (uVar10 != 0);
	}
	return;
}

ulonglong Hash(char *param_1, int param_2)

{
	char cVar1;
	ulonglong uVar2;
	longlong lVar3;

	uVar2 = 0x7fed7fed;
	lVar3 = -0x11111112;
	while (true) {
		if ((param_1 == (char *)0x0) || (*param_1 == '\0'))
			break;
		cVar1 = *param_1;
		param_1 = param_1 + 1;
		if ((int)cVar1 == 0xffffffff) {
			cVar1 = -1;
		} else {
			cVar1 = *(char *)(_DAT_100f1d24 + ((int)cVar1 & 0xffU));
		}
		uVar2 = uVar2 + lVar3 ^ (ulonglong) * (uint *)(_DAT_100f2d3c + param_2 * 0x400 + (int)cVar1 * 4);
		lVar3 = (longlong)cVar1 + uVar2 + (ulonglong)(uint)((int)lVar3 << 5) + 3 + lVar3;
	}
	return uVar2;
}

void InitHash(void)

{
	int iVar1;
	int iVar2;
	uint *puVar3;
	uint uVar4;
	uint uVar5;
	uint uVar6;
	uint uVar7;
	uint uVar8;
	uint uVar9;
	longlong lVar10;

	iVar1 = _DAT_100f2d3c;
	lVar10 = 0x100;
	uVar4 = 0x100001;
	iVar2 = 0;
	do {
		puVar3 = (uint *)(iVar1 + iVar2);
		uVar8 = (uVar4 * 0x7d + 3) % 0x2aaaab;
		uVar7 = (uVar8 * 0x7d + 3) % 0x2aaaab;
		uVar6 = (uVar7 * 0x7d + 3) % 0x2aaaab;
		uVar5 = (uVar6 * 0x7d + 3) % 0x2aaaab;
		uVar4 = (uVar5 * 0x7d + 3) % 0x2aaaab;
		uVar9 = (uVar4 * 0x7d + 3) % 0x2aaaab;
		*puVar3 = uVar8 * 0x10000 | uVar7 & 0xffff;
		puVar3[0x100] = uVar6 * 0x10000 | uVar5 & 0xffff;
		puVar3[0x200] = uVar4 * 0x10000 | uVar9 & 0xffff;
		uVar5 = (uVar9 * 0x7d + 3) % 0x2aaaab;
		iVar2 = iVar2 + 4;
		uVar7 = (uVar5 * 0x7d + 3) % 0x2aaaab;
		uVar6 = (uVar7 * 0x7d + 3) % 0x2aaaab;
		uVar4 = (uVar6 * 0x7d + 3) % 0x2aaaab;
		puVar3[0x300] = uVar5 * 0x10000 | uVar7 & 0xffff;
		puVar3[0x400] = uVar6 * 0x10000 | uVar4 & 0xffff;
		lVar10 = lVar10 + -1;
	} while (lVar10 != 0);
	return;
}

ulonglong PkwareCompress(undefined4 param_1, ulonglong param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	ulonglong uVar2;
	undefined **ppuVar3;
	longlong lVar4;
	longlong lVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 local_4c;

	ppuVar3 = &toc;
	lVar4 = DiabloAllocPtr(0x8dd8, param_2, 0x10000, param_4, param_5, param_6);
	uVar1 = (int)param_2 << 1;
	uVar2 = (ulonglong)uVar1;
	if (uVar1 < 0x2000) {
		uVar2 = 0x2000;
	}
	lVar5 = DiabloAllocPtr(uVar2);
	uVar6 = SUB41(ppuVar3[-0x18a7], 0);
	uVar8 = (undefined)(ZEXT48(register0x0000000c) - 0x28);
	uVar9 = 0;
	uVar10 = 0;
	implode(ppuVar3[-0x18a6], ppuVar3[-0x18a7], lVar4, (int)(ZEXT48(register0x0000000c) - 0x28), 0,
	    0x1000, param_7, param_8, in_stack_ffffffa8);
	uVar7 = 0;
	if ((param_2 & 0xffffffff) != 0) {
		uVar6 = (char)lVar5;
		memcpy((undefined)param_1, (char)lVar5, 0, uVar8, uVar9, uVar10, param_7, param_8,
		    (char)in_stack_ffffffa8, in_stack_ffffffaf, local_4c);
		param_2 = 0;
	}
	mem_free_dbg(lVar4, uVar6, uVar7, uVar8, uVar9, uVar10, param_7, param_8, in_stack_ffffffa8);
	mem_free_dbg(lVar5, uVar6, uVar7, uVar8, uVar9, uVar10, param_7, param_8, in_stack_ffffffa8);
	return param_2;
}

void FUN_1003cd04(undefined4 param_1, undefined4 param_2, undefined8 param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	longlong lVar2;
	longlong lVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 local_4c;

	ppuVar1 = &toc;
	lVar2 = DiabloAllocPtr(0x8dd8);
	lVar3 = DiabloAllocPtr(param_3);
	uVar6 = (undefined)(ZEXT48(register0x0000000c) - 0x28);
	FUN_100d22a4(ppuVar1[-0x18a6], ppuVar1[-0x18a7], lVar2, (int)(ZEXT48(register0x0000000c) - 0x28),
	    param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	uVar5 = 0;
	uVar4 = (undefined)lVar3;
	memcpy((undefined)param_1, uVar4, 0, uVar6, param_5, param_6, param_7, param_8,
	    (char)in_stack_ffffffa8, in_stack_ffffffaf, local_4c);
	mem_free_dbg(lVar2, uVar4, uVar5, uVar6, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	mem_free_dbg(lVar3, uVar4, uVar5, uVar6, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	return;
}

void FUN_1003cdbc(void)

{
	_DAT_100f411c = _DAT_100f4118;
	return;
}

ulonglong FUN_1003cdc8(byte *param_1)

{
	return (ulonglong)param_1[3] << 0x18 | (ulonglong)param_1[2] << 0x10 | (ulonglong)param_1[1] << 8
	    | (ulonglong)*param_1;
}

ulonglong FUN_1003cdd0(int param_1, int param_2)

{
	byte *pbVar1;

	pbVar1 = (byte *)(param_1 + param_2 * 4);
	return (ulonglong)pbVar1[3] << 0x18 | (ulonglong)pbVar1[2] << 0x10 | (ulonglong)pbVar1[1] << 8 | (ulonglong)*pbVar1;
}

longlong FUN_1003cddc(int param_1, int param_2)

{
	byte *pbVar1;
	byte *pbVar2;

	pbVar1 = (byte *)(param_1 + param_2 * 4);
	pbVar2 = (byte *)(param_1 + (param_2 + 1) * 4);
	return ((ulonglong)pbVar2[3] << 0x18 | (ulonglong)pbVar2[2] << 0x10 | (ulonglong)pbVar2[1] << 8 | (ulonglong)*pbVar2) - ((ulonglong)pbVar1[3] << 0x18 | (ulonglong)pbVar1[2] << 0x10 | (ulonglong)pbVar1[1] << 8 | (ulonglong)*pbVar1);
}

longlong FUN_1003cdf8(longlong param_1, int param_2, int *param_3)

{
	byte *pbVar1;
	ulonglong uVar2;

	pbVar1 = (byte *)((int)param_1 + param_2 * 4);
	uVar2 = (ulonglong)pbVar1[3] << 0x18 | (ulonglong)pbVar1[2] << 0x10 | (ulonglong)pbVar1[1] << 8 | (ulonglong)*pbVar1;
	pbVar1 = (byte *)((int)param_1 + (param_2 + 1) * 4);
	*param_3 = ((uint)pbVar1[3] << 0x18 | (uint)pbVar1[2] << 0x10 | (uint)pbVar1[1] << 8 | (uint)*pbVar1) - (int)uVar2;
	return param_1 + uVar2;
}

longlong FUN_1003ce1c(longlong param_1, int param_2, int param_3, int param_4, int *param_5)

{
	byte *pbVar1;
	short sVar2;
	undefined *puVar3;
	int iVar4;
	ulonglong uVar5;
	longlong lVar6;

	pbVar1 = (byte *)((int)param_1 + param_2 * 4);
	uVar5 = (ulonglong)pbVar1[3] << 0x18 | (ulonglong)pbVar1[2] << 0x10 | (ulonglong)pbVar1[1] << 8 | (ulonglong)*pbVar1;
	lVar6 = param_1 + uVar5;
	iVar4 = (int)lVar6;
	puVar3 = (undefined *)(iVar4 + param_3);
	sVar2 = CONCAT11(puVar3[1], *puVar3);
	if ((longlong)sVar2 != 0) {
		if (param_4 == 8) {
			iVar4 = 0;
		} else {
			puVar3 = (undefined *)(iVar4 + param_4);
			iVar4 = (int)CONCAT11(puVar3[1], *puVar3);
		}
		if (iVar4 == 0) {
			pbVar1 = (byte *)((int)param_1 + (param_2 + 1) * 4);
			iVar4 = ((uint)pbVar1[3] << 0x18 | (uint)pbVar1[2] << 0x10 | (uint)pbVar1[1] << 8 | (uint)*pbVar1) - (int)uVar5;
		}
		*param_5 = iVar4 - (int)sVar2;
		return lVar6 + (longlong)sVar2;
	}
	return 0;
}

void CelDrawDatOnly(undefined4 *param_1, undefined4 *param_2, int param_3, longlong param_4)

{
	byte bVar1;
	byte bVar2;
	undefined2 uVar3;
	undefined4 uVar4;
	undefined4 *puVar5;
	undefined4 *puVar7;
	ulonglong uVar6;
	undefined4 *puVar9;
	uint uVar10;
	ulonglong uVar8;
	undefined4 *puVar11;
	longlong lVar12;
	longlong lVar13;
	undefined4 *local_10;
	undefined4 *local_c;

	if (param_1 == (undefined4 *)0x0) {
		return;
	}
	if (param_2 == (undefined4 *)0x0) {
		return;
	}
	lVar12 = param_4;
	local_10 = param_1;
	local_c = param_2;
	do {
		puVar11 = (undefined4 *)((int)local_c + 1);
		bVar1 = *(byte *)local_c;
		lVar13 = (longlong)(char)bVar1;
		uVar10 = SEXT14((char)bVar1);
		if (lVar13 < 0) {
			lVar12 = lVar12 + lVar13;
			puVar9 = (undefined4 *)((int)local_10 - (int)(char)bVar1);
			local_c = puVar11;
		} else {
			lVar12 = lVar12 - lVar13;
			puVar9 = (undefined4 *)((int)local_10 + (int)(char)bVar1);
			puVar7 = (undefined4 *)((int)puVar11 + (int)(char)bVar1);
			if ((bVar1 & 1) != 0) {
				bVar2 = *(byte *)puVar11;
				puVar11 = (undefined4 *)((int)local_c + 2);
				uVar10 = (int)(char)bVar1 - 1;
				*(byte *)local_10 = bVar2;
				local_10 = (undefined4 *)((int)local_10 + 1);
			}
			if ((uVar10 & 2) != 0) {
				uVar3 = *(undefined2 *)puVar11;
				puVar11 = (undefined4 *)((int)puVar11 + 2);
				uVar10 = uVar10 - 2;
				*(undefined2 *)local_10 = uVar3;
				local_10 = (undefined4 *)((int)local_10 + 2);
			}
			uVar8 = (ulonglong)(uVar10 >> 2);
			local_c = puVar7;
			if (3 < (int)uVar10) {
				uVar6 = (ulonglong)(uVar10 >> 5);
				if (uVar10 >> 5 != 0) {
					do {
						*local_10 = *puVar11;
						local_10[1] = puVar11[1];
						local_10[2] = puVar11[2];
						local_10[3] = puVar11[3];
						local_10[4] = puVar11[4];
						local_10[5] = puVar11[5];
						local_10[6] = puVar11[6];
						puVar5 = puVar11 + 7;
						puVar11 = puVar11 + 8;
						local_10[7] = *puVar5;
						local_10 = local_10 + 8;
						uVar6 = uVar6 - 1;
					} while (uVar6 != 0);
					uVar8 = uVar8 & 7;
					local_c = puVar7;
					if ((uVar10 >> 2 & 7) == 0)
						goto LAB_1003cfb8;
				}
				do {
					uVar4 = *puVar11;
					puVar11 = puVar11 + 1;
					*local_10 = uVar4;
					local_10 = local_10 + 1;
					uVar8 = uVar8 - 1;
					local_c = puVar7;
				} while (uVar8 != 0);
			}
		}
	LAB_1003cfb8:
		local_10 = puVar9;
		if (((int)lVar12 == 0) && (local_10 = (undefined4 *)((int)local_10 - ((int)param_4 + 0x300)), lVar12 = param_4, (undefined4 *)((int)param_2 + param_3) == local_c)) {
			return;
		}
	} while (true);
}

void CelDecodeOnly(int param_1, undefined8 param_2, longlong param_3, undefined8 param_4,
    longlong param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined **ppuVar2;
	ulonglong uVar3;
	longlong lVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffffa8;
	int local_28[4];
	undefined4 local_18;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar1 = PTR_DAT_100f17cc;
	uVar7 = (undefined)param_4;
	uVar6 = (undefined)param_3;
	uVar5 = (undefined)param_2;
	uVar11 = (undefined)param_8;
	uVar10 = (undefined)param_7;
	uVar9 = (undefined)param_6;
	ppuVar2 = &toc;
	local_18 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar8 = (char)param_5;
	uVar3 = FUN_100b8f7c(param_3, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	if ((((uVar3 & 0xffffffff) != 0) && (*(int *)puVar1 != 0)) && ((uVar3 & 0xffffffff) != 0)) {
		lVar4 = FUN_1003cdf8(uVar3, (int)param_4, local_28);
		uVar5 = (undefined)lVar4;
		uVar6 = (undefined)local_28[0];
		uVar7 = (char)param_5;
		CelDrawDatOnly((undefined4 *)(*(int *)puVar1 + *(int *)(ppuVar2[-0x1da6] + (int)param_2 * 4) + param_1),
		    (undefined4 *)lVar4, local_28[0], param_5);
	}
	FUN_100b9100((int)param_3, uVar5, uVar6, uVar7, uVar8, uVar9, uVar10, uVar11, in_stack_ffffffa8);
	return;
}

void CelDecDatOnly(undefined4 *param_1, longlong param_2, undefined8 param_3, longlong param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	bool bVar1;
	ulonglong uVar2;
	longlong lVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined4 in_stack_ffffffb8;
	int local_18[6];

	uVar5 = (undefined)param_3;
	uVar4 = (undefined)param_2;
	uVar7 = (undefined)param_5;
	uVar10 = (undefined)param_8;
	uVar9 = (undefined)param_7;
	uVar8 = (undefined)param_6;
	uVar6 = (char)param_4;
	uVar2 = FUN_100b8f7c(param_2, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	bVar1 = (uVar2 & 0xffffffff) != 0;
	if (((bVar1) && (bVar1)) && (param_1 != (undefined4 *)0x0)) {
		lVar3 = FUN_1003cdf8(uVar2, (int)param_3, local_18);
		uVar4 = (undefined)lVar3;
		uVar5 = (undefined)local_18[0];
		uVar6 = (char)param_4;
		CelDrawDatOnly(param_1, (undefined4 *)lVar3, local_18[0], param_4);
	}
	FUN_100b9100((int)param_2, uVar4, uVar5, uVar6, uVar7, uVar8, uVar9, uVar10, in_stack_ffffffb8);
	return;
}

void CelDrawHdrOnly(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    longlong param_5, int param_6, int param_7, undefined4 param_8, undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	FUN_1003d138(param_1, param_2, ZEXT48(register0x0000000c) - 8, param_4, param_5, param_6, param_7,
	    param_8, in_stack_ffffffc8);
	return;
}

void FUN_1003d138(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    longlong param_5, int param_6, int param_7, undefined4 param_8, undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	ulonglong uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined4 in_stack_ffffffa8;
	int local_28;

	puVar2 = PTR_DAT_100f17cc;
	uVar6 = (undefined)param_3;
	uVar5 = (undefined)param_2;
	uVar11 = (undefined)param_8;
	ppuVar3 = &toc;
	uVar7 = (char)param_4;
	uVar8 = (char)param_5;
	uVar9 = (char)param_6;
	uVar10 = (char)param_7;
	uVar4 = FUN_100b915c((uint *)param_3, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	if ((((uVar4 & 0xffffffff) != 0) && (*(int *)puVar2 != 0)) && ((uVar4 & 0xffffffff) != 0)) {
		uVar8 = (undefined)(ZEXT48(register0x0000000c) - 0x28);
		uVar5 = (char)param_4;
		uVar6 = (char)param_6;
		uVar7 = (char)param_7;
		uVar4 = FUN_1003ce1c(uVar4, (int)param_4, param_6, param_7,
		    (int *)(ZEXT48(register0x0000000c) - 0x28));
		if ((uVar4 & 0xffffffff) != 0) {
			iVar1 = *(int *)puVar2;
			uVar8 = (undefined)iVar1;
			uVar6 = (undefined)local_28;
			uVar5 = (char)uVar4;
			uVar7 = (char)param_5;
			CelDrawDatOnly((undefined4 *)(iVar1 + *(int *)(ppuVar3[-0x1da6] + ((int)param_2 + param_6 * -0x10) * 4) + param_1), (undefined4 *)uVar4, local_28, param_5);
		}
	}
	FUN_100b91a4((int *)(uint *)param_3, uVar5, uVar6, uVar7, uVar8, uVar9, uVar10, uVar11, in_stack_ffffffa8);
	return;
}

void CelDecodeHdrOnly(undefined4 *param_1, longlong param_2, undefined8 param_3, longlong param_4,
    undefined8 param_5, int param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	bool bVar1;
	ulonglong uVar2;
	longlong lVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined4 in_stack_ffffffa8;
	int local_28;

	uVar4 = (undefined)param_3;
	lVar3._7_1_ = (undefined)param_2;
	uVar9 = (undefined)param_8;
	uVar8 = (undefined)param_7;
	uVar5 = (char)param_4;
	uVar6 = (char)param_5;
	uVar7 = (char)param_6;
	uVar2 = FUN_100b8f7c(param_2, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	bVar1 = (uVar2 & 0xffffffff) != 0;
	if (((bVar1) && (bVar1)) && (param_1 != (undefined4 *)0x0)) {
		uVar6 = (undefined)(ZEXT48(register0x0000000c) - 0x28);
		uVar4 = (char)param_5;
		uVar5 = (char)param_6;
		lVar3 = FUN_1003ce1c(uVar2, (int)param_3, (int)param_5, param_6,
		    (int *)(ZEXT48(register0x0000000c) - 0x28));
		lVar3._7_1_ = (undefined)lVar3;
		if (lVar3 != 0) {
			uVar4 = (undefined)local_28;
			uVar5 = (char)param_4;
			CelDrawDatOnly(param_1, (undefined4 *)lVar3, local_28, param_4);
		}
	}
	FUN_100b9100((int)param_2, (undefined)lVar3, uVar4, uVar5, uVar6, uVar7, uVar8, uVar9, in_stack_ffffffa8);
	return;
}

void FUN_1003d280(int param_1, byte *param_2, int param_3, longlong param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	byte bVar1;
	int iVar2;
	int iVar3;
	longlong lVar4;
	undefined8 unaff_r27;
	longlong lVar5;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	int local_28;
	byte *local_24[4];
	undefined4 local_14;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	local_14 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	if ((param_1 != 0) && (param_2 != (byte *)0x0)) {
		iVar2 = *(int *)PTR_DAT_100f1860;
		iVar3 = *_DAT_100f1d40;
		lVar5 = param_4;
		local_28 = param_1;
		local_24[0] = param_2;
		do {
			bVar1 = *local_24[0];
			lVar4 = (longlong)(char)bVar1;
			if (lVar4 < 0) {
				local_28 = local_28 - (int)(char)bVar1;
				local_24[0] = local_24[0] + 1;
			} else {
				lVar4 = -lVar4;
				local_24[0] = local_24[0] + 1;
				FUN_100c996c(&local_28, local_24, iVar2 + iVar3 * 0x100, (int)(char)bVar1);
			}
			lVar5 = lVar5 + lVar4;
		} while (((int)lVar5 != 0) || (local_28 = local_28 - ((int)param_4 + 0x300), lVar5 = param_4, param_2 + param_3 != local_24[0]));
	}
	return;
}

void FUN_1003d34c(ulonglong param_1, byte *param_2, int param_3, longlong param_4)

{
	byte bVar1;
	byte bVar2;
	int iVar3;
	byte *pbVar4;
	ulonglong uVar5;
	uint uVar6;
	undefined *puVar7;
	int iVar8;
	byte *pbVar9;
	longlong lVar10;
	ulonglong uVar11;
	uint uVar12;

	if (((param_1 & 0xffffffff) != 0) && (param_2 != (byte *)0x0)) {
		pbVar9 = param_2 + param_3;
		iVar8 = *(int *)PTR_DAT_100f1860 + *_DAT_100f1d40 * 0x100;
		uVar6 = (uint)param_1;
		do {
			lVar10 = param_4;
			do {
				bVar1 = *param_2;
				param_2 = param_2 + 1;
				uVar11 = SEXT18((char)bVar1);
				if ((longlong)uVar11 < 0) {
					param_1 = param_1 - uVar11;
					lVar10 = lVar10 + uVar11;
				} else {
					lVar10 = lVar10 - uVar11;
					uVar11 = (uVar11 & 0xffffffff00000000 | (ulonglong)(uint)((int)(char)bVar1 >> 1)) + (ulonglong)((char)bVar1 < '\0' && ((int)(char)bVar1 & 1U) != 0);
					uVar12 = (uint)uVar11;
					if (((uint)param_1 & 1) == (uVar6 & 1)) {
						if (uVar12 != 0) {
							uVar5 = (ulonglong)(uVar12 >> 3);
							if (uVar12 >> 3 != 0) {
								do {
									iVar3 = (int)param_1;
									*(undefined *)(iVar3 + 1) = *(undefined *)(iVar8 + (uint)param_2[1]);
									*(undefined *)(iVar3 + 3) = *(undefined *)(iVar8 + (uint)param_2[3]);
									*(undefined *)(iVar3 + 5) = *(undefined *)(iVar8 + (uint)param_2[5]);
									*(undefined *)(iVar3 + 7) = *(undefined *)(iVar8 + (uint)param_2[7]);
									*(undefined *)(iVar3 + 9) = *(undefined *)(iVar8 + (uint)param_2[9]);
									*(undefined *)(iVar3 + 0xb) = *(undefined *)(iVar8 + (uint)param_2[0xb]);
									*(undefined *)(iVar3 + 0xd) = *(undefined *)(iVar8 + (uint)param_2[0xd]);
									pbVar4 = param_2 + 0xf;
									param_2 = param_2 + 0x10;
									*(undefined *)(iVar3 + 0xf) = *(undefined *)(iVar8 + (uint)*pbVar4);
									param_1 = param_1 + 0x10;
									uVar5 = uVar5 - 1;
								} while (uVar5 != 0);
								uVar11 = uVar11 & 7;
								if (uVar11 == 0)
									goto LAB_1003d46c;
							}
							do {
								pbVar4 = param_2 + 1;
								param_2 = param_2 + 2;
								*(undefined *)((int)param_1 + 1) = *(undefined *)(iVar8 + (uint)*pbVar4);
								param_1 = param_1 + 2;
								uVar11 = uVar11 - 1;
							} while (uVar11 != 0);
						}
					LAB_1003d46c:
						if ((bVar1 & 1) != 0) {
							param_2 = param_2 + 1;
							param_1 = param_1 + 1;
						}
					} else {
						if (uVar12 != 0) {
							uVar5 = (ulonglong)(uVar12 >> 3);
							if (uVar12 >> 3 != 0) {
								do {
									puVar7 = (undefined *)param_1;
									*puVar7 = *(undefined *)(iVar8 + (uint)*param_2);
									puVar7[2] = *(undefined *)(iVar8 + (uint)param_2[2]);
									puVar7[4] = *(undefined *)(iVar8 + (uint)param_2[4]);
									puVar7[6] = *(undefined *)(iVar8 + (uint)param_2[6]);
									puVar7[8] = *(undefined *)(iVar8 + (uint)param_2[8]);
									puVar7[10] = *(undefined *)(iVar8 + (uint)param_2[10]);
									puVar7[0xc] = *(undefined *)(iVar8 + (uint)param_2[0xc]);
									pbVar4 = param_2 + 0xe;
									param_2 = param_2 + 0x10;
									puVar7[0xe] = *(undefined *)(iVar8 + (uint)*pbVar4);
									param_1 = param_1 + 0x10;
									uVar5 = uVar5 - 1;
								} while (uVar5 != 0);
								uVar11 = uVar11 & 7;
								if (uVar11 == 0)
									goto LAB_1003d528;
							}
							do {
								bVar2 = *param_2;
								param_2 = param_2 + 2;
								*(undefined *)param_1 = *(undefined *)(iVar8 + (uint)bVar2);
								param_1 = param_1 + 2;
								uVar11 = uVar11 - 1;
							} while (uVar11 != 0);
						}
					LAB_1003d528:
						if ((bVar1 & 1) != 0) {
							bVar1 = *param_2;
							param_2 = param_2 + 1;
							*(undefined *)param_1 = *(undefined *)(iVar8 + (uint)bVar1);
							param_1 = param_1 + 1;
						}
					}
				}
			} while ((int)lVar10 != 0);
			uVar6 = (uVar6 & 1) + 1;
			param_1 = param_1 - (param_4 + 0x300);
		} while (pbVar9 != param_2);
	}
	return;
}

void FUN_1003d568(int param_1, undefined8 param_2, longlong param_3, undefined8 param_4,
    longlong param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined **ppuVar2;
	ulonglong uVar3;
	longlong lVar4;
	undefined4 *puVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffffa8;
	int local_28[4];
	undefined4 local_18;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar1 = PTR_DAT_100f17cc;
	uVar9 = (undefined)param_5;
	uVar8 = (undefined)param_4;
	uVar7 = (undefined)param_3;
	uVar6 = (undefined)param_2;
	uVar13 = (undefined)param_8;
	uVar12 = (undefined)param_7;
	uVar11 = (undefined)param_6;
	ppuVar2 = &toc;
	local_18 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar10 = uVar9;
	uVar3 = FUN_100b8f7c(param_3, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	if ((((uVar3 & 0xffffffff) != 0) && (*(int *)puVar1 != 0)) && ((uVar3 & 0xffffffff) != 0)) {
		lVar4 = FUN_1003cdf8(uVar3, (int)param_4, local_28);
		uVar6 = (undefined)lVar4;
		puVar5 = (undefined4 *)(*(int *)puVar1 + *(int *)(ppuVar2[-0x1da6] + (int)param_2 * 4) + param_1);
		uVar7 = (undefined)local_28[0];
		if (*(int *)ppuVar2[-0x1ca4] == 0) {
			uVar8 = uVar9;
			CelDrawDatOnly(puVar5, (undefined4 *)lVar4, local_28[0], param_5);
		} else {
			uVar8 = uVar9;
			FUN_1003d280((int)puVar5, (byte *)(undefined4 *)lVar4, local_28[0], param_5, uVar10, uVar11, uVar12,
			    uVar13, in_stack_ffffffa8);
		}
	}
	FUN_100b9100((int)param_3, uVar6, uVar7, uVar8, uVar10, uVar11, uVar12, uVar13, in_stack_ffffffa8);
	return;
}

void CelDecodeHdrLightOnly(int param_1, undefined8 param_2, longlong param_3, undefined8 param_4,
    longlong param_5, int param_6, int param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined **ppuVar2;
	ulonglong uVar3;
	longlong lVar4;
	undefined4 *puVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined4 in_stack_ffffffa8;
	int local_28;

	puVar1 = PTR_DAT_100f17cc;
	uVar8 = (undefined)param_5;
	uVar7 = (undefined)param_4;
	uVar6 = (undefined)param_3;
	lVar4._7_1_ = (undefined)param_2;
	uVar12 = (undefined)param_8;
	ppuVar2 = &toc;
	uVar9 = uVar8;
	uVar10 = (char)param_6;
	uVar11 = (char)param_7;
	uVar3 = FUN_100b8f7c(param_3, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	if ((((uVar3 & 0xffffffff) != 0) && (*(int *)puVar1 != 0)) && ((uVar3 & 0xffffffff) != 0)) {
		uVar9 = (undefined)(ZEXT48(register0x0000000c) - 0x28);
		uVar6 = (char)param_6;
		uVar7 = (char)param_7;
		lVar4 = FUN_1003ce1c(uVar3, (int)param_4, param_6, param_7,
		    (int *)(ZEXT48(register0x0000000c) - 0x28));
		lVar4._7_1_ = (undefined)lVar4;
		if (lVar4 != 0) {
			puVar5 = (undefined4 *)(*(int *)puVar1 + *(int *)(ppuVar2[-0x1da6] + ((int)param_2 + param_6 * -0x10) * 4) + param_1);
			uVar6 = (undefined)local_28;
			if (*(int *)ppuVar2[-0x1ca4] == 0) {
				uVar7 = uVar8;
				CelDrawDatOnly(puVar5, (undefined4 *)lVar4, local_28, param_5);
			} else {
				uVar7 = uVar8;
				FUN_1003d280((int)puVar5, (byte *)(undefined4 *)lVar4, local_28, param_5, uVar9, uVar10, uVar11,
				    uVar12, in_stack_ffffffa8);
			}
		}
	}
	FUN_100b9100((int)param_3, (undefined)lVar4, uVar6, uVar7, uVar9, uVar10, uVar11, uVar12,
	    in_stack_ffffffa8);
	return;
}

void CelDecodeHdrLightTrans(ulonglong param_1, longlong param_2, undefined8 param_3, longlong param_4,
    undefined8 param_5, int param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	bool bVar1;
	undefined **ppuVar2;
	ulonglong uVar3;
	longlong lVar4;
	undefined4 *puVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined4 in_stack_ffffffa8;
	int local_28;

	uVar7 = (undefined)param_4;
	uVar6 = (undefined)param_3;
	lVar4._7_1_ = (undefined)param_2;
	uVar12 = (undefined)param_8;
	uVar11 = (undefined)param_7;
	ppuVar2 = &toc;
	uVar8 = uVar7;
	uVar9 = (char)param_5;
	uVar10 = (char)param_6;
	uVar3 = FUN_100b8f7c(param_2, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	bVar1 = (uVar3 & 0xffffffff) != 0;
	if (((bVar1) && (bVar1)) && ((param_1 & 0xffffffff) != 0)) {
		uVar9 = (undefined)(ZEXT48(register0x0000000c) - 0x28);
		uVar6 = (char)param_5;
		uVar8 = (char)param_6;
		lVar4 = FUN_1003ce1c(uVar3, (int)param_3, (int)param_5, param_6,
		    (int *)(ZEXT48(register0x0000000c) - 0x28));
		lVar4._7_1_ = (undefined)lVar4;
		if (lVar4 != 0) {
			puVar5 = (undefined4 *)lVar4;
			uVar6 = (undefined)local_28;
			if (*(int *)ppuVar2[-0x1ca5] == 0) {
				if (*(int *)ppuVar2[-0x1ca4] == 0) {
					uVar8 = uVar7;
					CelDrawDatOnly((undefined4 *)param_1, puVar5, local_28, param_4);
				} else {
					uVar8 = uVar7;
					FUN_1003d280((int)(undefined4 *)param_1, (byte *)puVar5, local_28, param_4, uVar9, uVar10,
					    uVar11, uVar12, in_stack_ffffffa8);
				}
			} else {
				uVar8 = uVar7;
				FUN_1003d34c(param_1, (byte *)puVar5, local_28, param_4);
			}
		}
	}
	FUN_100b9100((int)param_2, (undefined)lVar4, uVar6, uVar8, uVar9, uVar10, uVar11, uVar12,
	    in_stack_ffffffa8);
	return;
}

void CelDrawHdrLightRed(longlong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    longlong param_5, int param_6, int param_7, undefined4 param_8, undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	CelDrawHdrLightRed_part(param_1, param_2, ZEXT48(register0x0000000c) - 8, param_4, param_5, param_6, param_7,
	    param_8, in_stack_ffffffc8);
	return;
}

void CelDrawHdrLightRed_part(longlong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    longlong param_5, int param_6, int param_7, undefined4 param_8, undefined4 param_9)

{
	uint uVar1;
	longlong lVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	ulonglong uVar5;
	byte *pbVar6;
	longlong lVar7;
	char cVar8;
	longlong lVar9;
	undefined uVar10;
	longlong lVar11;
	undefined uVar12;
	ulonglong uVar13;
	longlong lVar14;
	char cVar15;
	char cVar16;
	char cVar17;
	undefined4 in_stack_ffffff98;
	uint local_38;

	puVar3 = PTR_DAT_100f17cc;
	uVar12 = (undefined)param_5;
	uVar10 = (undefined)param_3;
	cVar8 = (char)param_2;
	cVar16 = (char)param_8;
	ppuVar4 = &toc;
	lVar11._7_1_ = (char)param_4;
	uVar13._7_1_ = (char)param_6;
	cVar15 = (char)param_7;
	cVar17 = cVar16;
	uVar5 = FUN_100b915c((uint *)param_3, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffff98);
	if ((((uVar5 & 0xffffffff) != 0) && (*(int *)puVar3 != 0)) && ((uVar5 & 0xffffffff) != 0)) {
		uVar12 = (undefined)(ZEXT48(register0x0000000c) - 0x38);
		cVar8 = (char)param_4;
		uVar10 = (char)param_6;
		lVar11._7_1_ = (char)param_7;
		uVar5 = FUN_1003ce1c(uVar5, (int)param_4, param_6, param_7,
		    (int *)(ZEXT48(register0x0000000c) - 0x38));
		if ((uVar5 & 0xffffffff) != 0) {
			lVar9 = (ulonglong) * (uint *)puVar3 + (ulonglong) * (uint *)(ppuVar4[-0x1da6] + ((int)param_2 + param_6 * -0x10) * 4) + param_1;
			if (*(int *)ppuVar4[-0x1ddb] == 0) {
				lVar7 = 0x1000;
			} else {
				lVar7 = 0x400;
			}
			if (cVar16 == '\x02') {
				lVar7 = lVar7 + 0x100;
			}
			if ('\x03' < cVar16) {
				lVar7 = (ulonglong)(uint)(((int)cVar16 + -4) * 0x100) + lVar7 + 0x300;
			}
			uVar10 = (undefined)(param_5 + 0x300);
			uVar1 = *(uint *)ppuVar4[-0x1ddc];
			uVar13 = uVar5 + (ulonglong)local_38;
			uVar13._7_1_ = (undefined)uVar13;
			cVar8 = (char)((ulonglong)uVar1 + lVar7);
			lVar11 = param_5;
			do {
				do {
					cVar15 = *(char *)uVar5;
					uVar5 = uVar5 + 1;
					lVar14 = (longlong)cVar15;
					if (lVar14 < 0) {
						lVar9 = lVar9 - lVar14;
						lVar2 = lVar14;
					} else {
						lVar2 = -lVar14;
						do {
							pbVar6 = (byte *)uVar5;
							lVar14 = lVar14 + -1;
							cVar15 = (char)lVar14;
							uVar5 = uVar5 + 1;
							*(undefined *)lVar9 = *(undefined *)((int)((ulonglong)uVar1 + lVar7) + (uint)*pbVar6);
							lVar9 = lVar9 + 1;
						} while (lVar14 != 0);
					}
					lVar11 = lVar11 + lVar2;
					lVar11._7_1_ = (char)lVar11;
				} while ((int)lVar11 != 0);
				lVar9 = lVar9 - (param_5 + 0x300);
				uVar12 = (undefined)lVar9;
				lVar11 = param_5;
			} while ((uVar13 & 0xffffffff) != (uVar5 & 0xffffffff));
		}
	}
	FUN_100b91a4((int *)(uint *)param_3, cVar8, uVar10, (char)lVar11, uVar12, (undefined)uVar13, cVar15,
	    cVar17, in_stack_ffffff98);
	return;
}

void FUN_1003d96c(undefined4 *param_1, undefined4 *param_2, int param_3, longlong param_4)

{
	byte bVar1;
	byte bVar2;
	undefined2 uVar3;
	undefined4 uVar4;
	undefined4 *puVar5;
	undefined *puVar6;
	undefined4 *puVar8;
	ulonglong uVar7;
	undefined4 *puVar10;
	uint uVar11;
	ulonglong uVar9;
	undefined4 *puVar12;
	longlong lVar13;
	longlong lVar14;
	undefined4 *local_10;
	undefined4 *local_c;

	puVar6 = PTR_DAT_100f17c8;
	if (param_1 == (undefined4 *)0x0) {
		return;
	}
	if (param_2 == (undefined4 *)0x0) {
		return;
	}
	if (*(int *)PTR_DAT_100f17cc == 0) {
		return;
	}
	lVar13 = param_4;
	local_10 = param_1;
	local_c = param_2;
	do {
		puVar12 = (undefined4 *)((int)local_c + 1);
		bVar1 = *(byte *)local_c;
		lVar14 = (longlong)(char)bVar1;
		uVar11 = SEXT14((char)bVar1);
		if (lVar14 < 0) {
			lVar13 = lVar13 + lVar14;
			puVar10 = (undefined4 *)((int)local_10 - (int)(char)bVar1);
			local_c = puVar12;
		} else {
			lVar13 = lVar13 - lVar14;
			if (local_10 < *(undefined4 **)puVar6) {
				puVar10 = (undefined4 *)((int)local_10 + (int)(char)bVar1);
				puVar8 = (undefined4 *)((int)puVar12 + (int)(char)bVar1);
				if ((bVar1 & 1) != 0) {
					bVar2 = *(byte *)puVar12;
					puVar12 = (undefined4 *)((int)local_c + 2);
					uVar11 = (int)(char)bVar1 - 1;
					*(byte *)local_10 = bVar2;
					local_10 = (undefined4 *)((int)local_10 + 1);
				}
				if ((uVar11 & 2) != 0) {
					uVar3 = *(undefined2 *)puVar12;
					puVar12 = (undefined4 *)((int)puVar12 + 2);
					uVar11 = uVar11 - 2;
					*(undefined2 *)local_10 = uVar3;
					local_10 = (undefined4 *)((int)local_10 + 2);
				}
				uVar9 = (ulonglong)(uVar11 >> 2);
				local_c = puVar8;
				if (3 < (int)uVar11) {
					uVar7 = (ulonglong)(uVar11 >> 5);
					if (uVar11 >> 5 != 0) {
						do {
							*local_10 = *puVar12;
							local_10[1] = puVar12[1];
							local_10[2] = puVar12[2];
							local_10[3] = puVar12[3];
							local_10[4] = puVar12[4];
							local_10[5] = puVar12[5];
							local_10[6] = puVar12[6];
							puVar5 = puVar12 + 7;
							puVar12 = puVar12 + 8;
							local_10[7] = *puVar5;
							local_10 = local_10 + 8;
							uVar7 = uVar7 - 1;
						} while (uVar7 != 0);
						uVar9 = uVar9 & 7;
						local_c = puVar8;
						if ((uVar11 >> 2 & 7) == 0)
							goto LAB_1003dad8;
					}
					do {
						uVar4 = *puVar12;
						puVar12 = puVar12 + 1;
						*local_10 = uVar4;
						local_10 = local_10 + 1;
						uVar9 = uVar9 - 1;
						local_c = puVar8;
					} while (uVar9 != 0);
				}
			} else {
				puVar10 = (undefined4 *)((int)local_10 + (int)(char)bVar1);
				local_c = (undefined4 *)((int)puVar12 + (int)(char)bVar1);
			}
		}
	LAB_1003dad8:
		local_10 = puVar10;
		if (((int)lVar13 == 0) && (local_10 = (undefined4 *)((int)local_10 - ((int)param_4 + 0x300)), lVar13 = param_4, (undefined4 *)((int)param_2 + param_3) == local_c)) {
			return;
		}
	} while (true);
}

void Cel2DrawHdrOnly(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    longlong param_5, int param_6, int param_7, undefined4 param_8, undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	Cel2DrawHdrOnly_part(param_1, param_2, ZEXT48(register0x0000000c) - 8, param_4, param_5, param_6, param_7,
	    param_8, in_stack_ffffffc8);
	return;
}

void Cel2DrawHdrOnly_part(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    longlong param_5, int param_6, int param_7, undefined4 param_8, undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	ulonglong uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined4 in_stack_ffffffa8;
	int local_28;

	puVar2 = PTR_DAT_100f17cc;
	uVar6 = (undefined)param_3;
	uVar5 = (undefined)param_2;
	uVar11 = (undefined)param_8;
	ppuVar3 = &toc;
	uVar7 = (char)param_4;
	uVar8 = (char)param_5;
	uVar9 = (char)param_6;
	uVar10 = (char)param_7;
	uVar4 = FUN_100b915c((uint *)param_3, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	if ((((uVar4 & 0xffffffff) != 0) && (*(int *)puVar2 != 0)) && ((uVar4 & 0xffffffff) != 0)) {
		uVar8 = (undefined)(ZEXT48(register0x0000000c) - 0x28);
		uVar5 = (char)param_4;
		uVar6 = (char)param_6;
		uVar7 = (char)param_7;
		uVar4 = FUN_1003ce1c(uVar4, (int)param_4, param_6, param_7,
		    (int *)(ZEXT48(register0x0000000c) - 0x28));
		if ((uVar4 & 0xffffffff) != 0) {
			iVar1 = *(int *)puVar2;
			uVar8 = (undefined)iVar1;
			uVar6 = (undefined)local_28;
			uVar5 = (char)uVar4;
			uVar7 = (char)param_5;
			FUN_1003d96c((undefined4 *)(iVar1 + *(int *)(ppuVar3[-0x1da6] + ((int)param_2 + param_6 * -0x10) * 4) + param_1), (undefined4 *)uVar4, local_28, param_5);
		}
	}
	FUN_100b91a4((int *)(uint *)param_3, uVar5, uVar6, uVar7, uVar8, uVar9, uVar10, uVar11, in_stack_ffffffa8);
	return;
}

void FUN_1003dbe8(undefined4 *param_1, longlong param_2, undefined8 param_3, longlong param_4,
    undefined8 param_5, int param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	bool bVar1;
	ulonglong uVar2;
	longlong lVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined4 in_stack_ffffffa8;
	int local_28;

	uVar4 = (undefined)param_3;
	lVar3._7_1_ = (undefined)param_2;
	uVar9 = (undefined)param_8;
	uVar8 = (undefined)param_7;
	uVar5 = (char)param_4;
	uVar6 = (char)param_5;
	uVar7 = (char)param_6;
	uVar2 = FUN_100b8f7c(param_2, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	bVar1 = (uVar2 & 0xffffffff) != 0;
	if (((bVar1) && (bVar1)) && (param_1 != (undefined4 *)0x0)) {
		uVar6 = (undefined)(ZEXT48(register0x0000000c) - 0x28);
		uVar4 = (char)param_5;
		uVar5 = (char)param_6;
		lVar3 = FUN_1003ce1c(uVar2, (int)param_3, (int)param_5, param_6,
		    (int *)(ZEXT48(register0x0000000c) - 0x28));
		lVar3._7_1_ = (undefined)lVar3;
		if (lVar3 != 0) {
			uVar4 = (undefined)local_28;
			uVar5 = (char)param_4;
			FUN_1003d96c(param_1, (undefined4 *)lVar3, local_28, param_4);
		}
	}
	FUN_100b9100((int)param_2, (undefined)lVar3, uVar4, uVar5, uVar6, uVar7, uVar8, uVar9, in_stack_ffffffa8);
	return;
}

void FUN_1003dc74(uint param_1, byte *param_2, int param_3, longlong param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	byte bVar1;
	int iVar2;
	int iVar3;
	undefined *puVar4;
	byte *pbVar5;
	longlong lVar6;
	undefined8 unaff_r26;
	longlong lVar7;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	uint local_28;
	byte *local_24[3];
	undefined4 local_18;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar4 = PTR_DAT_100f17c8;
	local_18 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	if (((param_1 != 0) && (param_2 != (byte *)0x0)) && (*(int *)PTR_DAT_100f17cc != 0)) {
		iVar2 = *(int *)PTR_DAT_100f1860;
		iVar3 = *_DAT_100f1d40;
		lVar7 = param_4;
		local_28 = param_1;
		local_24[0] = param_2;
		do {
			pbVar5 = local_24[0] + 1;
			bVar1 = *local_24[0];
			lVar6 = (longlong)(char)bVar1;
			if (lVar6 < 0) {
				lVar7 = lVar7 + lVar6;
				local_28 = local_28 - (int)(char)bVar1;
				local_24[0] = pbVar5;
			} else {
				lVar7 = lVar7 - lVar6;
				if (local_28 < *(uint *)puVar4) {
					local_24[0] = pbVar5;
					FUN_100c996c(&local_28, local_24, iVar2 + iVar3 * 0x100, (int)(char)bVar1);
				} else {
					local_28 = local_28 + (int)(char)bVar1;
					local_24[0] = pbVar5 + (int)(char)bVar1;
				}
			}
		} while (((int)lVar7 != 0) || (local_28 = local_28 - ((int)param_4 + 0x300), lVar7 = param_4, param_2 + param_3 != local_24[0]));
	}
	return;
}

void FUN_1003dd7c(ulonglong param_1, ulonglong param_2, longlong param_3, longlong param_4)

{
	byte bVar1;
	int iVar2;
	int iVar3;
	undefined *puVar4;
	ulonglong uVar5;
	uint uVar6;
	undefined *puVar7;
	byte *pbVar8;
	int iVar9;
	ulonglong uVar10;
	longlong lVar11;
	ulonglong uVar12;
	uint uVar13;

	puVar4 = PTR_DAT_100f17c8;
	if ((((param_1 & 0xffffffff) != 0) && ((param_2 & 0xffffffff) != 0)) && (*(int *)PTR_DAT_100f17cc != 0)) {
		uVar10 = param_2 + param_3;
		iVar9 = *(int *)PTR_DAT_100f1860 + *_DAT_100f1d40 * 0x100;
		uVar6 = (uint)param_1;
		do {
			lVar11 = param_4;
			do {
				bVar1 = *(byte *)param_2;
				param_2 = param_2 + 1;
				uVar12 = SEXT18((char)bVar1);
				if ((longlong)uVar12 < 0) {
					param_1 = param_1 - uVar12;
					lVar11 = lVar11 + uVar12;
				} else {
					lVar11 = lVar11 - uVar12;
					if ((param_1 & 0xffffffff) < (ulonglong) * (uint *)puVar4) {
						uVar12 = (uVar12 & 0xffffffff00000000 | (ulonglong)(uint)((int)(char)bVar1 >> 1)) + (ulonglong)((char)bVar1 < '\0' && ((int)(char)bVar1 & 1U) != 0);
						uVar13 = (uint)uVar12;
						if (((uint)param_1 & 1) == (uVar6 & 1)) {
							if (uVar13 != 0) {
								uVar5 = (ulonglong)(uVar13 >> 3);
								if (uVar13 >> 3 != 0) {
									do {
										iVar2 = (int)param_2;
										iVar3 = (int)param_1;
										*(undefined *)(iVar3 + 1) = *(undefined *)(iVar9 + (uint) * (byte *)(iVar2 + 1));
										*(undefined *)(iVar3 + 3) = *(undefined *)(iVar9 + (uint) * (byte *)(iVar2 + 3));
										*(undefined *)(iVar3 + 5) = *(undefined *)(iVar9 + (uint) * (byte *)(iVar2 + 5));
										*(undefined *)(iVar3 + 7) = *(undefined *)(iVar9 + (uint) * (byte *)(iVar2 + 7));
										*(undefined *)(iVar3 + 9) = *(undefined *)(iVar9 + (uint) * (byte *)(iVar2 + 9));
										*(undefined *)(iVar3 + 0xb) = *(undefined *)(iVar9 + (uint) * (byte *)(iVar2 + 0xb));
										*(undefined *)(iVar3 + 0xd) = *(undefined *)(iVar9 + (uint) * (byte *)(iVar2 + 0xd));
										param_2 = param_2 + 0x10;
										*(undefined *)(iVar3 + 0xf) = *(undefined *)(iVar9 + (uint) * (byte *)(iVar2 + 0xf));
										param_1 = param_1 + 0x10;
										uVar5 = uVar5 - 1;
									} while (uVar5 != 0);
									uVar12 = uVar12 & 7;
									if (uVar12 == 0)
										goto LAB_1003decc;
								}
								do {
									iVar2 = (int)param_2;
									param_2 = param_2 + 2;
									*(undefined *)((int)param_1 + 1) = *(undefined *)(iVar9 + (uint) * (byte *)(iVar2 + 1));
									param_1 = param_1 + 2;
									uVar12 = uVar12 - 1;
								} while (uVar12 != 0);
							}
						LAB_1003decc:
							if ((bVar1 & 1) != 0) {
								param_2 = param_2 + 1;
								param_1 = param_1 + 1;
							}
						} else {
							if (uVar13 != 0) {
								uVar5 = (ulonglong)(uVar13 >> 3);
								if (uVar13 >> 3 != 0) {
									do {
										pbVar8 = (byte *)param_2;
										puVar7 = (undefined *)param_1;
										*puVar7 = *(undefined *)(iVar9 + (uint)*pbVar8);
										puVar7[2] = *(undefined *)(iVar9 + (uint)pbVar8[2]);
										puVar7[4] = *(undefined *)(iVar9 + (uint)pbVar8[4]);
										puVar7[6] = *(undefined *)(iVar9 + (uint)pbVar8[6]);
										puVar7[8] = *(undefined *)(iVar9 + (uint)pbVar8[8]);
										puVar7[10] = *(undefined *)(iVar9 + (uint)pbVar8[10]);
										puVar7[0xc] = *(undefined *)(iVar9 + (uint)pbVar8[0xc]);
										param_2 = param_2 + 0x10;
										puVar7[0xe] = *(undefined *)(iVar9 + (uint)pbVar8[0xe]);
										param_1 = param_1 + 0x10;
										uVar5 = uVar5 - 1;
									} while (uVar5 != 0);
									uVar12 = uVar12 & 7;
									if (uVar12 == 0)
										goto LAB_1003df88;
								}
								do {
									pbVar8 = (byte *)param_2;
									param_2 = param_2 + 2;
									*(undefined *)param_1 = *(undefined *)(iVar9 + (uint)*pbVar8);
									param_1 = param_1 + 2;
									uVar12 = uVar12 - 1;
								} while (uVar12 != 0);
							}
						LAB_1003df88:
							if ((bVar1 & 1) != 0) {
								pbVar8 = (byte *)param_2;
								param_2 = param_2 + 1;
								*(undefined *)param_1 = *(undefined *)(iVar9 + (uint)*pbVar8);
								param_1 = param_1 + 1;
							}
						}
					} else {
						param_2 = param_2 + uVar12;
						param_1 = param_1 + uVar12;
					}
				}
			} while ((int)lVar11 != 0);
			uVar6 = (uVar6 & 1) + 1;
			param_1 = param_1 - (param_4 + 0x300);
		} while ((uVar10 & 0xffffffff) != (param_2 & 0xffffffff));
	}
	return;
}

void FUN_1003dfcc(int param_1, undefined8 param_2, longlong param_3, undefined8 param_4,
    longlong param_5, int param_6, int param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined **ppuVar2;
	ulonglong uVar3;
	longlong lVar4;
	undefined4 *puVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined4 in_stack_ffffffa8;
	int local_28;

	puVar1 = PTR_DAT_100f17cc;
	uVar8 = (undefined)param_5;
	uVar7 = (undefined)param_4;
	uVar6 = (undefined)param_3;
	lVar4._7_1_ = (undefined)param_2;
	uVar12 = (undefined)param_8;
	ppuVar2 = &toc;
	uVar9 = uVar8;
	uVar10 = (char)param_6;
	uVar11 = (char)param_7;
	uVar3 = FUN_100b8f7c(param_3, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	if ((((uVar3 & 0xffffffff) != 0) && (*(int *)puVar1 != 0)) && ((uVar3 & 0xffffffff) != 0)) {
		uVar9 = (undefined)(ZEXT48(register0x0000000c) - 0x28);
		uVar6 = (char)param_6;
		uVar7 = (char)param_7;
		lVar4 = FUN_1003ce1c(uVar3, (int)param_4, param_6, param_7,
		    (int *)(ZEXT48(register0x0000000c) - 0x28));
		lVar4._7_1_ = (undefined)lVar4;
		if (lVar4 != 0) {
			puVar5 = (undefined4 *)(*(int *)puVar1 + *(int *)(ppuVar2[-0x1da6] + ((int)param_2 + param_6 * -0x10) * 4) + param_1);
			uVar6 = (undefined)local_28;
			if (*(int *)ppuVar2[-0x1ca4] == 0) {
				uVar7 = uVar8;
				FUN_1003d96c(puVar5, (undefined4 *)lVar4, local_28, param_5);
			} else {
				uVar7 = uVar8;
				FUN_1003dc74((uint)puVar5, (byte *)(undefined4 *)lVar4, local_28, param_5, uVar9, uVar10, uVar11,
				    uVar12, in_stack_ffffffa8);
			}
		}
	}
	FUN_100b9100((int)param_3, (undefined)lVar4, uVar6, uVar7, uVar9, uVar10, uVar11, uVar12,
	    in_stack_ffffffa8);
	return;
}

void FUN_1003e0a4(ulonglong param_1, longlong param_2, undefined8 param_3, longlong param_4,
    undefined8 param_5, int param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	bool bVar1;
	undefined **ppuVar2;
	ulonglong uVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined4 in_stack_ffffffa8;
	uint local_28;

	uVar6 = (undefined)param_4;
	uVar5 = (undefined)param_3;
	uVar4 = (undefined)param_2;
	uVar11 = (undefined)param_8;
	uVar10 = (undefined)param_7;
	ppuVar2 = &toc;
	uVar7 = uVar6;
	uVar8 = (char)param_5;
	uVar9 = (char)param_6;
	uVar3 = FUN_100b8f7c(param_2, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	bVar1 = (uVar3 & 0xffffffff) != 0;
	if ((bVar1) && (bVar1)) {
		uVar8 = (undefined)(ZEXT48(register0x0000000c) - 0x28);
		uVar5 = (char)param_5;
		uVar7 = (char)param_6;
		uVar3 = FUN_1003ce1c(uVar3, (int)param_3, (int)param_5, param_6,
		    (int *)(ZEXT48(register0x0000000c) - 0x28));
		uVar4 = (undefined)uVar3;
		if (uVar3 != 0) {
			uVar5 = (undefined)local_28;
			if (*(int *)ppuVar2[-0x1ca5] == 0) {
				if (*(int *)ppuVar2[-0x1ca4] == 0) {
					uVar7 = uVar6;
					FUN_1003d96c((undefined4 *)param_1, (undefined4 *)uVar3, local_28, param_4);
				} else {
					uVar7 = uVar6;
					FUN_1003dc74((uint)(undefined4 *)param_1, (byte *)(undefined4 *)uVar3, local_28, param_4,
					    uVar8, uVar9, uVar10, uVar11, in_stack_ffffffa8);
				}
			} else {
				uVar7 = uVar6;
				FUN_1003dd7c(param_1, uVar3, (ulonglong)local_28, param_4);
			}
		}
	}
	FUN_100b9100((int)param_2, uVar4, uVar5, uVar7, uVar8, uVar9, uVar10, uVar11, in_stack_ffffffa8);
	return;
}

void FUN_1003e170(longlong param_1, undefined8 param_2, longlong param_3, undefined8 param_4,
    longlong param_5, int param_6, int param_7, undefined4 param_8, undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	ulonglong uVar5;
	byte *pbVar6;
	longlong lVar7;
	char cVar8;
	ulonglong uVar9;
	undefined uVar10;
	longlong lVar11;
	char cVar12;
	undefined uVar13;
	ulonglong uVar14;
	longlong lVar15;
	char cVar16;
	char cVar17;
	char cVar18;
	undefined4 in_stack_ffffff98;
	uint local_38;

	puVar3 = PTR_DAT_100f17cc;
	puVar2 = PTR_DAT_100f17c8;
	uVar13 = (undefined)param_5;
	uVar10 = (undefined)param_3;
	cVar8 = (char)param_2;
	cVar17 = (char)param_8;
	ppuVar4 = &toc;
	cVar12 = (char)param_4;
	uVar14._7_1_ = (char)param_6;
	cVar16 = (char)param_7;
	cVar18 = cVar17;
	uVar5 = FUN_100b8f7c(param_3, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffff98);
	if ((((uVar5 & 0xffffffff) != 0) && (*(int *)puVar3 != 0)) && ((uVar5 & 0xffffffff) != 0)) {
		uVar13 = (undefined)(ZEXT48(register0x0000000c) - 0x38);
		cVar8 = (char)param_4;
		uVar10 = (char)param_6;
		cVar12 = (char)param_7;
		uVar5 = FUN_1003ce1c(uVar5, (int)param_4, param_6, param_7,
		    (int *)(ZEXT48(register0x0000000c) - 0x38));
		if ((uVar5 & 0xffffffff) != 0) {
			uVar9 = (ulonglong) * (uint *)puVar3 + (ulonglong) * (uint *)(ppuVar4[-0x1da6] + ((int)param_2 + param_6 * -0x10) * 4) + param_1;
			if (*(int *)ppuVar4[-0x1ddb] == 0) {
				lVar7 = 0x1000;
			} else {
				lVar7 = 0x400;
			}
			if (cVar17 == '\x02') {
				lVar7 = lVar7 + 0x100;
			}
			if ('\x03' < cVar17) {
				lVar7 = (ulonglong)(uint)(((int)cVar17 + -4) * 0x100) + lVar7 + 0x300;
			}
			uVar10 = (undefined)(param_5 + 0x300);
			uVar1 = *(uint *)ppuVar4[-0x1ddc];
			uVar14 = uVar5 + (ulonglong)local_38;
			uVar14._7_1_ = (undefined)uVar14;
			cVar8 = (char)((ulonglong)uVar1 + lVar7);
			lVar11 = param_5;
			do {
				do {
					cVar16 = *(char *)uVar5;
					uVar5 = uVar5 + 1;
					lVar15 = (longlong)cVar16;
					if (lVar15 < 0) {
						uVar9 = uVar9 - lVar15;
						lVar11 = lVar11 + lVar15;
					} else {
						lVar11 = lVar11 - lVar15;
						if ((uVar9 & 0xffffffff) < (ulonglong) * (uint *)puVar2) {
							do {
								pbVar6 = (byte *)uVar5;
								lVar15 = lVar15 + -1;
								cVar16 = (char)lVar15;
								uVar5 = uVar5 + 1;
								*(undefined *)uVar9 = *(undefined *)((int)((ulonglong)uVar1 + lVar7) + (uint)*pbVar6);
								uVar9 = uVar9 + 1;
							} while (lVar15 != 0);
						} else {
							uVar5 = uVar5 + lVar15;
							uVar9 = uVar9 + lVar15;
						}
					}
					cVar12 = (char)lVar11;
				} while ((int)lVar11 != 0);
				uVar9 = uVar9 - (param_5 + 0x300);
				uVar13 = (undefined)uVar9;
				lVar11 = param_5;
			} while ((uVar14 & 0xffffffff) != (uVar5 & 0xffffffff));
		}
	}
	FUN_100b9100((int)param_3, cVar8, uVar10, cVar12, uVar13, (undefined)uVar14, cVar16, cVar18,
	    in_stack_ffffff98);
	return;
}

void FUN_1003e2f8(int param_1, longlong param_2, undefined8 param_3, undefined8 param_4,
    longlong param_5, int param_6, uint param_7, undefined4 param_8, undefined4 param_9)

{
	bool bVar1;
	byte *pbVar3;
	ulonglong uVar2;
	ulonglong uVar4;
	byte *pbVar6;
	uint uVar7;
	ulonglong uVar5;
	ulonglong uVar8;
	undefined2 *puVar9;
	undefined4 *puVar10;
	undefined uVar11;
	ulonglong uVar12;
	undefined4 *puVar13;
	undefined uVar14;
	undefined uVar15;
	longlong lVar16;
	undefined uVar17;
	longlong lVar18;
	byte bVar19;
	undefined uVar20;
	undefined uVar21;
	undefined4 in_stack_ffffff98;
	byte *local_38;
	byte *local_34;
	uint local_30;

	uVar17 = (undefined)param_5;
	uVar15 = (undefined)param_4;
	uVar14 = (undefined)param_3;
	uVar11 = (undefined)param_2;
	uVar21 = (undefined)param_8;
	uVar20 = (undefined)param_7;
	bVar19 = (byte)param_6;
	uVar4 = FUN_100b8f7c(param_5, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffff98);
	bVar1 = (uVar4 & 0xffffffff) != 0;
	if (((bVar1) && (bVar1)) && (param_1 != 0)) {
		uVar12 = ZEXT48(register0x0000000c) - 0x30;
		uVar4 = FUN_1003cdf8(uVar4, param_6, (int *)uVar12);
		local_34 = (byte *)uVar4;
		uVar8 = (longlong)(int)param_4 * (longlong)(int)param_3 + param_2;
		uVar4 = (uVar4 & 0xffffffff) + (ulonglong)local_30;
		uVar15 = (undefined)uVar4;
		local_38 = (byte *)(param_1 + (int)uVar8);
		lVar16 = (longlong)(int)param_7;
		do {
			pbVar3 = local_34 + 1;
			bVar19 = *local_34;
			lVar18 = (longlong)(char)bVar19;
			uVar7 = SEXT14((char)bVar19);
			if (lVar18 < 0) {
				lVar16 = lVar16 + lVar18;
				local_38 = local_38 + -(int)(char)bVar19;
				local_34 = pbVar3;
			} else {
				uVar12 = ZEXT48(local_38);
				uVar8 = ZEXT48(pbVar3);
				lVar16 = lVar16 - lVar18;
				pbVar6 = local_38 + (int)(char)bVar19;
				local_34 = pbVar3 + (int)(char)bVar19;
				if ((bVar19 & 1) != 0) {
					uVar8 = uVar8 + 1;
					uVar7 = (int)(char)bVar19 - 1;
					*local_38 = *pbVar3;
					uVar12 = uVar12 + 1;
				}
				if ((uVar7 & 2) != 0) {
					puVar9 = (undefined2 *)uVar8;
					uVar8 = uVar8 + 2;
					uVar7 = uVar7 - 2;
					*(undefined2 *)uVar12 = *puVar9;
					uVar12 = uVar12 + 2;
				}
				uVar5 = (ulonglong)(uVar7 >> 2);
				local_38 = pbVar6;
				if (3 < (int)uVar7) {
					uVar2 = (ulonglong)(uVar7 >> 5);
					if (uVar7 >> 5 != 0) {
						do {
							puVar10 = (undefined4 *)uVar8;
							puVar13 = (undefined4 *)uVar12;
							*puVar13 = *puVar10;
							puVar13[1] = puVar10[1];
							puVar13[2] = puVar10[2];
							puVar13[3] = puVar10[3];
							puVar13[4] = puVar10[4];
							puVar13[5] = puVar10[5];
							puVar13[6] = puVar10[6];
							uVar8 = uVar8 + 0x20;
							puVar13[7] = puVar10[7];
							uVar12 = uVar12 + 0x20;
							uVar2 = uVar2 - 1;
						} while (uVar2 != 0);
						uVar5 = uVar5 & 7;
						local_38 = pbVar6;
						if ((uVar7 >> 2 & 7) == 0)
							goto LAB_1003e47c;
					}
					do {
						puVar10 = (undefined4 *)uVar8;
						uVar8 = uVar8 + 4;
						*(undefined4 *)uVar12 = *puVar10;
						uVar12 = uVar12 + 4;
						uVar5 = uVar5 - 1;
						local_38 = pbVar6;
					} while (uVar5 != 0);
				}
			}
		LAB_1003e47c:
			uVar17 = (undefined)lVar16;
			uVar14 = (undefined)uVar12;
			uVar11 = (undefined)uVar8;
		} while (((int)lVar16 != 0) || (local_38 = local_38 + -((int)param_4 + param_7), lVar16 = (longlong)(int)param_7, (uVar4 & 0xffffffff) != ZEXT48(local_34)));
	}
	FUN_100b9100((int)param_5, uVar11, uVar14, uVar15, uVar17, bVar19, uVar20, uVar21, in_stack_ffffff98);
	return;
}

void CelDecodeClr(undefined param_1, longlong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, longlong param_6, int param_7, int param_8, undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	FUN_1003e4e8(param_1, param_2, param_3, ZEXT48(register0x0000000c) - 8, param_5, param_6, param_7,
	    param_8, in_stack_ffffffc8);
	return;
}

void FUN_1003e4e8(undefined param_1, longlong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, longlong param_6, int param_7, int param_8, undefined4 param_9)

{
	bool bVar1;
	longlong lVar2;
	int iVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	ulonglong uVar6;
	char *pcVar7;
	longlong lVar8;
	undefined uVar9;
	undefined uVar10;
	longlong lVar11;
	ulonglong uVar12;
	longlong lVar13;
	char cVar14;
	undefined uVar15;
	undefined uVar16;
	undefined4 in_stack_ffffff98;
	uint local_38;

	puVar4 = PTR_DAT_100f17cc;
	cVar14 = (char)param_6;
	lVar11._7_1_ = (undefined)param_4;
	uVar10 = (undefined)param_3;
	uVar9 = (undefined)param_2;
	ppuVar5 = &toc;
	uVar12._7_1_ = (char)param_5;
	uVar15 = (char)param_7;
	uVar16 = (char)param_8;
	uVar6 = FUN_100b915c((uint *)param_4, param_2, param_3, param_4, param_5, (int)param_6, param_7, param_8,
	    in_stack_ffffff98);
	bVar1 = (uVar6 & 0xffffffff) != 0;
	if (((bVar1) && (bVar1)) && (*(int *)puVar4 != 0)) {
		uVar12._7_1_ = (undefined)(ZEXT48(register0x0000000c) - 0x38);
		uVar9 = (char)param_5;
		uVar10 = (char)param_7;
		lVar11._7_1_ = (char)param_8;
		uVar6 = FUN_1003ce1c(uVar6, (int)param_5, param_7, param_8,
		    (int *)(ZEXT48(register0x0000000c) - 0x38));
		if ((uVar6 & 0xffffffff) != 0) {
			uVar10 = (undefined)(param_6 + 0x300);
			uVar12 = uVar6 + (ulonglong)local_38;
			uVar12._7_1_ = (undefined)uVar12;
			lVar8 = (ulonglong) * (uint *)puVar4 + (ulonglong) * (uint *)(ppuVar5[-0x1da6] + ((int)param_3 + param_7 * -0x10) * 4) + param_2;
			lVar11 = param_6;
			do {
				do {
					cVar14 = *(char *)uVar6;
					uVar6 = uVar6 + 1;
					lVar13 = (longlong)cVar14;
					if (lVar13 < 0) {
						lVar8 = lVar8 - lVar13;
						lVar2 = lVar13;
					} else {
						lVar2 = -lVar13;
						do {
							pcVar7 = (char *)uVar6;
							uVar6 = uVar6 + 1;
							if (*pcVar7 != '\0') {
								iVar3 = (int)lVar8;
								*(undefined *)(iVar3 + -0x300) = param_1;
								*(undefined *)(iVar3 + -1) = param_1;
								*(undefined *)(iVar3 + 1) = param_1;
								*(undefined *)(iVar3 + 0x300) = param_1;
							}
							lVar13 = lVar13 + -1;
							cVar14 = (char)lVar13;
							lVar8 = lVar8 + 1;
						} while (lVar13 != 0);
					}
					lVar11 = lVar11 + lVar2;
					lVar11._7_1_ = (undefined)lVar11;
				} while ((int)lVar11 != 0);
				lVar8 = lVar8 - (param_6 + 0x300);
				uVar9 = (undefined)lVar8;
				lVar11 = param_6;
			} while ((uVar12 & 0xffffffff) != (uVar6 & 0xffffffff));
		}
	}
	FUN_100b91a4((int *)(uint *)param_4, uVar9, uVar10, (undefined)lVar11, (undefined)uVar12, cVar14, uVar15, uVar16, in_stack_ffffff98);
	return;
}

void CelDrawHdrClrHL(undefined param_1, longlong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, longlong param_6, int param_7, int param_8, undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	CelDrawHdrClrHL_part(param_1, param_2, param_3, ZEXT48(register0x0000000c) - 8, param_5, param_6, param_7,
	    param_8, in_stack_ffffffc8);
	return;
}

void CelDrawHdrClrHL_part(undefined param_1, longlong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, longlong param_6, int param_7, int param_8, undefined4 param_9)

{
	bool bVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	ulonglong uVar6;
	char *pcVar7;
	ulonglong uVar8;
	undefined uVar9;
	char cVar10;
	longlong lVar11;
	undefined uVar12;
	ulonglong uVar13;
	undefined uVar14;
	ulonglong uVar15;
	longlong lVar16;
	char cVar17;
	undefined uVar18;
	undefined4 in_stack_ffffff98;
	uint local_38;

	puVar4 = PTR_DAT_100f17cc;
	puVar3 = PTR_DAT_100f17c8;
	uVar15._7_1_ = (undefined)param_6;
	uVar12 = (undefined)param_4;
	cVar10 = (char)param_3;
	uVar9 = (undefined)param_2;
	ppuVar5 = &toc;
	uVar14 = (char)param_5;
	cVar17 = (char)param_7;
	uVar18 = (char)param_8;
	uVar6 = FUN_100b915c((uint *)param_4, param_2, param_3, param_4, param_5, (int)param_6, param_7, param_8,
	    in_stack_ffffff98);
	bVar1 = (uVar6 & 0xffffffff) != 0;
	if (((bVar1) && (bVar1)) && (*(int *)puVar4 != 0)) {
		uVar14 = (undefined)(ZEXT48(register0x0000000c) - 0x38);
		uVar9 = (char)param_5;
		cVar10 = (char)param_7;
		uVar12 = (char)param_8;
		uVar6 = FUN_1003ce1c(uVar6, (int)param_5, param_7, param_8,
		    (int *)(ZEXT48(register0x0000000c) - 0x38));
		if ((uVar6 & 0xffffffff) != 0) {
			uVar8 = (ulonglong) * (uint *)(ppuVar5[-0x1da6] + ((int)param_3 + param_7 * -0x10) * 4);
			uVar15 = uVar6 + (ulonglong)local_38;
			uVar15._7_1_ = (undefined)uVar15;
			cVar10 = (char)(param_6 + 0x300);
			uVar13 = (ulonglong) * (uint *)puVar4 + uVar8 + param_2;
			lVar11 = param_6;
			do {
				do {
					cVar17 = *(char *)uVar6;
					uVar6 = uVar6 + 1;
					lVar16 = (longlong)cVar17;
					if (lVar16 < 0) {
						uVar13 = uVar13 - lVar16;
						lVar11 = lVar11 + lVar16;
					} else {
						uVar8 = (ulonglong) * (uint *)puVar3;
						lVar11 = lVar11 - lVar16;
						if ((uVar13 & 0xffffffff) < uVar8) {
							if ((uVar13 & 0xffffffff) < (uVar8 - 0x300 & 0xffffffff)) {
								do {
									pcVar7 = (char *)uVar6;
									uVar6 = uVar6 + 1;
									if (*pcVar7 != '\0') {
										iVar2 = (int)uVar13;
										*(undefined *)(iVar2 + -0x300) = param_1;
										*(undefined *)(iVar2 + -1) = param_1;
										*(undefined *)(iVar2 + 1) = param_1;
										*(undefined *)(iVar2 + 0x300) = param_1;
									}
									lVar16 = lVar16 + -1;
									cVar17 = (char)lVar16;
									uVar13 = uVar13 + 1;
								} while (lVar16 != 0);
							} else {
								do {
									pcVar7 = (char *)uVar6;
									uVar6 = uVar6 + 1;
									if (*pcVar7 != '\0') {
										iVar2 = (int)uVar13;
										*(undefined *)(iVar2 + -0x300) = param_1;
										*(undefined *)(iVar2 + -1) = param_1;
										*(undefined *)(iVar2 + 1) = param_1;
									}
									lVar16 = lVar16 + -1;
									cVar17 = (char)lVar16;
									uVar13 = uVar13 + 1;
								} while (lVar16 != 0);
							}
						} else {
							uVar6 = uVar6 + lVar16;
							uVar13 = uVar13 + lVar16;
						}
					}
					uVar12 = (undefined)lVar11;
					uVar9 = (undefined)uVar8;
				} while ((int)lVar11 != 0);
				uVar13 = uVar13 - (param_6 + 0x300);
				uVar14 = (undefined)uVar13;
				lVar11 = param_6;
			} while ((uVar15 & 0xffffffff) != (uVar6 & 0xffffffff));
		}
	}
	FUN_100b91a4((int *)(uint *)param_4, uVar9, cVar10, uVar12, uVar14, (undefined)uVar15, cVar17, uVar18,
	    in_stack_ffffff98);
	return;
}

void ENG_set_pixel(int param_1, int param_2, undefined param_3)

{
	undefined *puVar1;

	if (param_2 < 0) {
		return;
	}
	if (0x27f < param_2) {
		return;
	}
	if (param_1 < 0x40) {
		return;
	}
	if (0x2bf < param_1) {
		return;
	}
	puVar1 = (undefined *)(*(int *)PTR_DAT_100f17cc + *(int *)(PTR_DAT_100f1938 + param_2 * 4) + param_1);
	if (*(undefined **)PTR_DAT_100f17c8 <= puVar1) {
		return;
	}
	*puVar1 = param_3;
	return;
}

void engine_draw_pixel(int param_1, int param_2)

{
	undefined *puVar1;

	if (*_DAT_100f1d38 == 0) {
		if (*_DAT_100f1d34 != 0) {
			if (param_2 < 0) {
				return;
			}
			if (0x27f < param_2) {
				return;
			}
			if (param_1 < 0x40) {
				return;
			}
			if (0x2bf < param_1) {
				return;
			}
		}
		puVar1 = (undefined *)(*(int *)PTR_DAT_100f17cc + *(int *)(PTR_DAT_100f1938 + param_2 * 4) + param_1);
	} else {
		if (*_DAT_100f1d34 != 0) {
			if (param_1 < 0) {
				return;
			}
			if (0x27f < param_1) {
				return;
			}
			if (param_2 < 0x40) {
				return;
			}
			if (0x2bf < param_2) {
				return;
			}
		}
		puVar1 = (undefined *)(*(int *)PTR_DAT_100f17cc + *(int *)(PTR_DAT_100f1938 + param_1 * 4) + param_2);
	}
	if (*(undefined **)PTR_DAT_100f17c8 <= puVar1) {
		return;
	}
	*puVar1 = *_DAT_100f1d30;
	return;
}

void DrawLine(ulonglong param_1, ulonglong param_2, ulonglong param_3, ulonglong param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	int iVar2;
	undefined4 *puVar3;
	undefined4 *puVar4;
	int iVar6;
	ulonglong uVar5;
	int iVar7;
	int iVar8;
	int iVar9;
	int iVar10;
	int iVar11;
	longlong lVar12;
	int iVar13;
	longlong lVar14;
	int iVar15;
	int iVar16;
	int iVar17;
	ulonglong uVar18;
	ulonglong uVar19;
	ulonglong uVar20;
	ulonglong uVar21;
	int iVar22;

	puVar3 = _DAT_100f1d34;
	*_DAT_100f1d30 = param_5;
	puVar4 = _DAT_100f1d38;
	*puVar3 = 0;
	if (((int)param_1 < 0x40) || (0x2bf < (int)param_1)) {
		*puVar3 = 1;
	}
	if (((int)param_3 < 0x40) || (0x2bf < (int)param_3)) {
		*puVar3 = 1;
	}
	if (((int)param_2 < 0xa0) || (0x1ff < (int)param_2)) {
		*puVar3 = 1;
	}
	if (((int)param_4 < 0xa0) || (0x1ff < (int)param_4)) {
		*puVar3 = 1;
	}
	if ((longlong)(param_3 - param_1) < 0) {
		iVar6 = -1;
	} else {
		iVar6 = 1;
	}
	uVar21 = (longlong)(int)(param_3 - param_1) * (longlong)iVar6;
	if ((longlong)(param_4 - param_2) < 0) {
		iVar15 = -1;
	} else {
		iVar15 = 1;
	}
	uVar18 = (longlong)(int)(param_4 - param_2) * (longlong)iVar15;
	iVar8 = (int)uVar18;
	if (iVar6 == iVar15) {
		lVar14 = 1;
	} else {
		lVar14 = -1;
	}
	if ((int)uVar21 < iVar8) {
		param_1 = param_1 ^ param_2;
		param_3 = param_3 ^ param_4;
		param_2 = param_2 ^ param_1;
		*puVar4 = 1;
		param_4 = param_4 ^ param_3;
		uVar19 = uVar18 ^ uVar21 ^ uVar18;
		iVar8 = (int)uVar19;
		param_1 = param_1 ^ param_2;
		param_3 = param_3 ^ param_4;
		uVar21 = uVar21 ^ uVar18 ^ uVar19;
	} else {
		*puVar4 = 0;
	}
	uVar18 = param_4;
	uVar19 = param_3;
	if ((int)param_3 < (int)param_1) {
		uVar18 = param_2;
		uVar19 = param_1;
		param_2 = param_4;
		param_1 = param_3;
	}
	uVar5 = uVar21 - 1;
	iVar7 = (int)uVar5;
	iVar17 = (iVar7 >> 2) + (uint)(iVar7 < 0 && (uVar5 & 3) != 0);
	iVar15 = (iVar7 >> 2) + (uint)(iVar7 < 0 && (uVar5 & 3) != 0);
	iVar6 = iVar15 * 4;
	iVar16 = iVar7 + iVar15 * -4;
	engine_draw_pixel((int)param_1, (int)param_2);
	engine_draw_pixel((int)uVar19, (int)uVar18);
	uVar5 = (ulonglong)(uint)(iVar8 << 2) - (ulonglong)(uint)((int)uVar21 << 1);
	iVar15 = (int)lVar14;
	if ((longlong)uVar5 < 0) {
		lVar12 = (ulonglong)(uint)(iVar8 << 2) - uVar21;
		iVar22 = 0;
		while (true) {
			iVar13 = (int)lVar12;
			iVar11 = (int)param_2;
			iVar11 = (int)uVar18;
			iVar1 = (int)param_1;
			iVar2 = (int)uVar19;
			if (iVar17 <= iVar22)
				break;
			iVar9 = iVar1 + 1;
			iVar10 = iVar2 + -1;
			if (iVar13 < 0) {
				engine_draw_pixel(iVar9, iVar11);
				engine_draw_pixel(iVar1 + 2, iVar11);
				engine_draw_pixel(iVar10, iVar11);
				engine_draw_pixel(iVar2 + -2, iVar11);
				uVar21 = (ulonglong)(uint)(iVar8 << 2);
			} else {
				if (iVar13 < iVar8 << 1) {
					engine_draw_pixel(iVar9, iVar11);
					engine_draw_pixel(iVar1 + 2, iVar11 + iVar15);
					engine_draw_pixel(iVar10, iVar11);
					uVar18 = uVar18 - lVar14;
					engine_draw_pixel(iVar2 + -2, (int)uVar18);
				} else {
					engine_draw_pixel(iVar9, iVar11 + iVar15);
					engine_draw_pixel(iVar1 + 2, iVar11 + iVar15);
					uVar18 = uVar18 - lVar14;
					engine_draw_pixel(iVar10, (int)uVar18);
					engine_draw_pixel(iVar2 + -2, (int)uVar18);
				}
				param_2 = param_2 + lVar14;
				uVar21 = uVar5;
			}
			param_1 = param_1 + 2;
			uVar19 = uVar19 - 2;
			lVar12 = lVar12 + uVar21;
			iVar22 = iVar22 + 1;
		}
		if (iVar7 != iVar6) {
			if (iVar13 < 0) {
				engine_draw_pixel(iVar1 + 1, iVar11);
				if (1 < iVar16) {
					engine_draw_pixel(iVar1 + 2, iVar11);
				}
				if (2 < iVar16) {
					engine_draw_pixel(iVar2 + -1, iVar11);
				}
			} else {
				if (iVar13 < iVar8 << 1) {
					engine_draw_pixel(iVar1 + 1, iVar11);
					if (1 < iVar16) {
						engine_draw_pixel(iVar1 + 2, iVar11 + iVar15);
					}
					if (2 < iVar16) {
						engine_draw_pixel(iVar2 + -1, iVar11);
					}
				} else {
					engine_draw_pixel(iVar1 + 1, iVar11 + iVar15);
					if (1 < iVar16) {
						engine_draw_pixel(iVar1 + 2, iVar11 + iVar15);
					}
					if (2 < iVar16) {
						engine_draw_pixel(iVar2 + -1, iVar11 - iVar15);
					}
				}
			}
		}
	} else {
		iVar8 = iVar8 - (int)uVar21;
		iVar22 = iVar8 * 2;
		uVar20 = (ulonglong)(uint)(iVar8 * 4);
		lVar12 = uVar20 + uVar21;
		iVar8 = 0;
		while (true) {
			iVar13 = (int)lVar12;
			iVar11 = (int)param_2;
			iVar11 = (int)uVar18;
			iVar1 = (int)param_1;
			iVar2 = (int)uVar19;
			if (iVar17 <= iVar8)
				break;
			iVar9 = iVar1 + 1;
			iVar10 = iVar2 + -1;
			if (iVar13 < 1) {
				if (iVar13 < iVar22) {
					engine_draw_pixel(iVar9, iVar11);
					engine_draw_pixel(iVar1 + 2, iVar11 + iVar15);
					engine_draw_pixel(iVar10, iVar11);
					uVar18 = uVar18 - lVar14;
					engine_draw_pixel(iVar2 + -2, (int)uVar18);
				} else {
					engine_draw_pixel(iVar9, iVar11 + iVar15);
					engine_draw_pixel(iVar1 + 2, iVar11 + iVar15);
					uVar18 = uVar18 - lVar14;
					engine_draw_pixel(iVar10, (int)uVar18);
					engine_draw_pixel(iVar2 + -2, (int)uVar18);
				}
				param_2 = param_2 + lVar14;
				uVar21 = uVar5;
			} else {
				engine_draw_pixel(iVar9, (int)(param_2 + lVar14));
				param_2 = param_2 + lVar14 + lVar14;
				engine_draw_pixel(iVar1 + 2, (int)param_2);
				engine_draw_pixel(iVar10, (int)(uVar18 - lVar14));
				uVar18 = (uVar18 - lVar14) - lVar14;
				engine_draw_pixel(iVar2 + -2, (int)uVar18);
				uVar21 = uVar20;
			}
			lVar12 = lVar12 + uVar21;
			param_1 = param_1 + 2;
			uVar19 = uVar19 - 2;
			iVar8 = iVar8 + 1;
		}
		if (iVar7 != iVar6) {
			if (iVar13 < 1) {
				if (iVar13 < iVar22) {
					engine_draw_pixel(iVar1 + 1, iVar11);
					if (1 < iVar16) {
						engine_draw_pixel(iVar1 + 2, iVar11 + iVar15);
					}
					if (2 < iVar16) {
						engine_draw_pixel(iVar2 + -1, iVar11);
					}
				} else {
					engine_draw_pixel(iVar1 + 1, iVar11 + iVar15);
					if (1 < iVar16) {
						engine_draw_pixel(iVar1 + 2, iVar11 + iVar15);
					}
					if (2 < iVar16) {
						if (iVar22 < iVar13) {
							engine_draw_pixel(iVar2 + -1, iVar11 - iVar15);
						} else {
							engine_draw_pixel(iVar2 + -1, iVar11);
						}
					}
				}
			} else {
				engine_draw_pixel(iVar1 + 1, iVar11 + iVar15);
				if (1 < iVar16) {
					engine_draw_pixel(iVar1 + 2, iVar11 + iVar15 + iVar15);
				}
				if (2 < iVar16) {
					engine_draw_pixel(iVar2 + -1, iVar11 - iVar15);
				}
			}
		}
	}
	return;
}

ulonglong GetDirection(longlong param_1, int param_2, longlong param_3, int param_4)

{
	ulonglong uVar1;
	int iVar2;

	param_4 = param_4 - param_2;
	iVar2 = (int)(param_3 - param_1);
	if (-1 < param_3 - param_1) {
		if (-1 < param_4) {
			if (iVar2 <= param_4 * 2) {
				return (ulonglong)(iVar2 << 1 < param_4);
			}
			return 7;
		}
		uVar1 = 6;
		if (iVar2 << 1 < -param_4) {
			uVar1 = 5;
		}
		if (iVar2 <= param_4 * -2) {
			return uVar1;
		}
		return 7;
	}
	if (param_4 < 0) {
		uVar1 = 4;
		if (iVar2 * -2 < -param_4) {
			uVar1 = 5;
		}
		if (-iVar2 <= param_4 * -2) {
			return uVar1;
		}
		return 3;
	}
	uVar1 = 2;
	if (iVar2 * -2 < param_4) {
		uVar1 = 1;
	}
	if (-iVar2 <= param_4 * 2) {
		return uVar1;
	}
	return 3;
}

void SetRndSeed(undefined4 param_1)

{
	undefined4 *puVar1;

	puVar1 = _DAT_100f1d28;
	_DAT_100f4128 = param_1;
	*_DAT_100f1d2c = param_1;
	*puVar1 = 0;
	return;
}

void GetRndSeed(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	*_DAT_100f1d28 = *_DAT_100f1d28 + 1;
	_DAT_100f4128 = _DAT_100f4128 * 0x15a4e35 + 1;
	abs((ulonglong)_DAT_100f4128);
	return;
}

longlong random(undefined param_1, longlong param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9, undefined param_10, undefined1 param_11)

{
	uint uVar1;
	longlong lVar2;
	ulonglong uVar3;
	int iVar4;
	undefined4 in_stack_ffffffc8;

	if (param_2 < 1) {
		lVar2 = 0;
	} else {
		iVar4 = (int)param_2;
		if (iVar4 < 0xffff) {
			uVar3 = GetRndSeed(0, (char)param_2, param_3, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffc8);
			uVar1 = (int)uVar3 >> 0x10;
			lVar2 = (uVar3 & 0xffffffff00000000 | (ulonglong)uVar1) - (longlong)((int)uVar1 / iVar4) * (longlong)iVar4;
		} else {
			lVar2 = GetRndSeed(0, (char)param_2, param_3, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffc8);
			lVar2 = lVar2 - (longlong)((int)lVar2 / iVar4) * (longlong)iVar4;
		}
	}
	return lVar2;
}

ulonglong DiabloAllocPtr(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined8 uParm5, undefined4 uParm6, undefined4 uParm7, undefined4 uParm8)

{
	ulonglong uVar1;
	undefined uVar3;
	undefined8 uVar2;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined7 uVar7;
	undefined uVar8;
	ulonglong uVar9;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;
	undefined4 in_stack_ffffffc8;

	uVar8 = (undefined)uParm5;
	uVar7 = (undefined7)((ulonglong)uParm5 >> 8);
	uVar9 = (ulonglong)_DAT_100f2d54;
	uVar4 = (undefined)_DAT_100f2d54;
	uVar3 = SUB41(PTR_DAT_100f2d58, 0);
	EnterCriticalSection(uVar3, param_2, param_3, param_4, uVar8, (char)uParm6, (char)uParm7, (char)uParm8,
	    (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
	uVar5 = 0xd2;
	uVar6 = 0;
	uVar1 = SMemAlloc(param_1, uVar4, 0xd2, 0, uVar8, (char)uParm6, (char)uParm7, (char)uParm8,
	    (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
	uVar3 = LeaveCriticalSection(uVar3, uVar4, uVar5, uVar6, uVar8, (char)uParm6, (char)uParm7, (char)uParm8,
	    (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
	if ((uVar1 & 0xffffffff) == 0) {
		uVar2 = SErrGetLastError(uVar3, uVar4, uVar5, uVar6, uVar8, (char)uParm6, (char)uParm7, (char)uParm8,
		    (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
		ErrDlg(0x69, uVar2, uVar9, 0xef3, CONCAT71(uVar7, uVar8), uParm6, uParm7, uParm8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8);
	}
	return uVar1;
}

void mem_free_dbg(longlong param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined uVar1;
	undefined uVar2;
	undefined uVar3;
	undefined uVar4;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	int local_2c;

	if (param_1 != 0) {
		uVar1 = SUB41(PTR_DAT_100f2d58, 0);
		EnterCriticalSection(uVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffcb,
		    in_stack_ffffffcf, local_2c);
		uVar2 = (undefined) * (undefined4 *)(local_2c + -0x627c);
		uVar3 = 0x23;
		uVar4 = 0;
		SMemFree((char)param_1, uVar2, 0x23, 0, param_5, param_6, param_7, param_8, in_stack_ffffffcb,
		    in_stack_ffffffcf, local_2c);
		LeaveCriticalSection(uVar1, uVar2, uVar3, uVar4, param_5, param_6, param_7, param_8, in_stack_ffffffcb,
		    in_stack_ffffffcf, local_2c);
	}
	return;
}

longlong LoadFileInMem(longlong param_1, undefined4 *param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	ulonglong extraout_r3;
	int iVar3;
	ulonglong uVar2;
	undefined uVar4;
	undefined8 uVar5;
	undefined uVar6;
	undefined7 uVar7;
	undefined uVar8;
	undefined7 uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	uint local_18;

	uVar9 = (undefined7)((ulonglong)param_5 >> 8);
	uVar10 = (undefined)param_5;
	uVar7 = (undefined7)((ulonglong)param_4 >> 8);
	uVar8 = (undefined)param_4;
	ppuVar1 = &toc;
	uVar5 = 0;
	WOpenFile(param_1, ZEXT48(register0x0000000c) - 0x18, 0, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	WGetFileSize(local_18, 0, uVar5, CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10), param_6, param_7, param_8, in_stack_ffffffb8);
	uVar6 = (undefined)extraout_r3;
	if (param_2 != (undefined4 *)0x0) {
		*param_2 = (int)extraout_r3;
	}
	if ((extraout_r3 & 0xffffffff) == 0) {
		app_fatal((int)ppuVar1[-0x18a0], param_1, uVar5, CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10),
		    param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	uVar5 = 0;
	uVar2 = extraout_r3;
	iVar3 = DiabloAllocPtr((int)param_1, extraout_r3, 0, CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10),
	    param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffd0);
	uVar13 = (undefined)param_8;
	uVar12 = (undefined)param_7;
	uVar11 = (undefined)param_6;
	uVar2 = FUN_100b8f7c((longlong)iVar3, uVar2, uVar5, CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10),
	    param_6, param_7, param_8, in_stack_ffffffb8);
	uVar4 = (undefined)uVar2;
	WReadFile((ulonglong)local_18);
	WCloseFile((char)local_18, uVar4, uVar6, uVar8, uVar10, uVar11, uVar12, uVar13, in_stack_ffffffb8);
	FUN_100b9100(iVar3, uVar4, uVar6, uVar8, uVar10, uVar11, uVar12, uVar13, in_stack_ffffffb8);
	return (longlong)iVar3;
}

ulonglong LoadFileWithMem(longlong param_1, longlong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	ulonglong uVar2;
	ulonglong extraout_r3;
	undefined uVar3;
	undefined8 uVar4;
	undefined uVar5;
	undefined7 uVar6;
	undefined uVar7;
	undefined7 uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	uint local_18;

	uVar8 = (undefined7)((ulonglong)param_5 >> 8);
	uVar9 = (undefined)param_5;
	uVar6 = (undefined7)((ulonglong)param_4 >> 8);
	uVar7 = (undefined)param_4;
	ppuVar1 = &toc;
	uVar2 = FUN_100b8f7c(param_2, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	uVar3 = (undefined)uVar2;
	if (uVar2 == 0) {
		app_fatal((int)ppuVar1[-0x18a1], param_1, param_3, CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9),
		    param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	uVar4 = 0;
	WOpenFile(param_1, ZEXT48(register0x0000000c) - 0x18, 0, CONCAT71(uVar6, uVar7),
	    CONCAT71(uVar8, uVar9), param_6, param_7, param_8, in_stack_ffffffb8);
	WGetFileSize(local_18, 0, uVar4, CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9), param_6, param_7, param_8,
	    in_stack_ffffffb8);
	uVar5 = (undefined)extraout_r3;
	if (extraout_r3 == 0) {
		app_fatal((int)ppuVar1[-0x18a0], param_1, uVar4, CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9),
		    param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	uVar12 = (undefined)param_8;
	uVar11 = (undefined)param_7;
	uVar10 = (undefined)param_6;
	if ((ulonglong) * (uint *)((int)param_2 + 0x90) < (extraout_r3 & 0xffffffff)) {
		app_fatal((int)ppuVar1[-0x18a2], param_1, uVar4, CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9),
		    param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	WReadFile((ulonglong)local_18);
	WCloseFile((char)local_18, uVar3, uVar5, uVar7, uVar9, uVar10, uVar11, uVar12, in_stack_ffffffb8);
	FUN_100b9100((int)param_2, uVar3, uVar5, uVar7, uVar9, uVar10, uVar11, uVar12, in_stack_ffffffb8);
	return extraout_r3;
}

longlong FUN_1003f2a8(longlong param_1, longlong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	longlong extraout_r3;
	undefined uVar2;
	undefined8 uVar3;
	undefined7 uVar4;
	undefined uVar5;
	undefined7 uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	uint local_18;

	uVar2 = (undefined)param_2;
	uVar6 = (undefined7)((ulonglong)param_5 >> 8);
	uVar7 = (undefined)param_5;
	uVar4 = (undefined7)((ulonglong)param_4 >> 8);
	uVar5 = (undefined)param_4;
	ppuVar1 = &toc;
	if (param_2 == 0) {
		ppuVar1 = &toc;
		app_fatal(_DAT_100f2d44, param_1, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4);
	}
	uVar3 = 0;
	WOpenFile(param_1, ZEXT48(register0x0000000c) - 0x18, 0, CONCAT71(uVar4, uVar5),
	    CONCAT71(uVar6, uVar7), param_6, param_7, param_8, in_stack_ffffffb8);
	WGetFileSize(local_18, 0, uVar3, CONCAT71(uVar4, uVar5), CONCAT71(uVar6, uVar7), param_6, param_7, param_8,
	    in_stack_ffffffb8);
	uVar10 = (undefined)param_8;
	uVar9 = (undefined)param_7;
	uVar8 = (undefined)param_6;
	extraout_r3._7_1_ = (undefined)extraout_r3;
	if (extraout_r3 == 0) {
		app_fatal((int)ppuVar1[-0x18a0], param_1, uVar3, CONCAT71(uVar4, uVar5), CONCAT71(uVar6, uVar7),
		    param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	WReadFile((ulonglong)local_18);
	WCloseFile((char)local_18, uVar2, (undefined)extraout_r3, uVar5, uVar7, uVar8, uVar9, uVar10,
	    in_stack_ffffffb8);
	return extraout_r3;
}

void FUN_1003f340(uint *param_1, longlong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	bool bVar1;
	longlong lVar2;
	longlong lVar3;
	ulonglong uVar4;
	ulonglong uVar5;
	ulonglong uVar6;
	longlong lVar7;
	char cVar8;
	undefined uVar9;
	undefined7 uVar10;
	undefined uVar11;
	undefined7 uVar12;
	undefined uVar13;
	undefined7 uVar14;
	undefined uVar15;
	longlong lVar16;
	undefined uVar17;
	longlong lVar18;
	undefined uVar19;
	longlong lVar20;
	undefined uVar21;
	int iVar22;
	longlong lVar23;
	longlong lVar24;
	undefined4 in_stack_ffffffa8;

	uVar14 = (undefined7)((ulonglong)param_5 >> 8);
	uVar15 = (undefined)param_5;
	uVar12 = (undefined7)((ulonglong)param_4 >> 8);
	uVar13 = (undefined)param_4;
	uVar10 = (undefined7)((ulonglong)param_3 >> 8);
	uVar11 = (undefined)param_3;
	lVar20 = (longlong)param_8;
	lVar18 = (longlong)param_7;
	lVar16 = (longlong)param_6;
	lVar7 = param_2;
	uVar4 = FUN_100b915c(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	uVar5 = FUN_100b8f7c(param_2, lVar7, CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13),
	    CONCAT71(uVar14, uVar15), (int)lVar16, (int)lVar18, (int)lVar20, in_stack_ffffffa8);
	iVar22 = 1;
	while (true) {
		uVar21 = (undefined)lVar20;
		uVar19 = (undefined)lVar18;
		uVar17 = (undefined)lVar16;
		uVar9 = (undefined)lVar7;
		if ((int)param_3 < iVar22)
			break;
		uVar6 = FUN_1003cdd0((int)uVar4, iVar22);
		lVar7 = FUN_1003cddc((int)uVar4, iVar22);
		lVar2 = lVar7 + -10;
		lVar23 = uVar4 + uVar6 + 10;
		while (true) {
			lVar24 = lVar23;
			lVar7 = lVar2;
			if ((int)lVar7 == 0)
				break;
			lVar23 = lVar24 + 1;
			lVar2 = lVar7 + -1;
			if (*(char *)lVar24 < '\0') {
				cVar8 = -*(char *)lVar24;
				lVar3 = (longlong)cVar8;
				if (cVar8 < 'B') {
					while (true) {
						bVar1 = cVar8 == '\0';
						cVar8 = cVar8 + -1;
						lVar2 = (lVar7 + -1) - lVar3;
						if (bVar1)
							break;
						*(byte *)lVar23 = *(byte *)((int)uVar5 + (uint) * (byte *)lVar23);
						lVar23 = lVar23 + 1;
					}
				} else {
					*(byte *)lVar23 = *(byte *)((int)uVar5 + (uint) * (byte *)lVar23);
					lVar2 = lVar7 + -2;
					lVar23 = lVar24 + 2;
				}
			}
		}
		iVar22 = iVar22 + 1;
	}
	FUN_100b9100((int)param_2, uVar9, uVar11, uVar13, uVar15, uVar17, uVar19, uVar21, in_stack_ffffffa8);
	FUN_100b91a4((int *)param_1, uVar9, uVar11, uVar13, uVar15, uVar17, uVar19, uVar21, in_stack_ffffffa8);
	return;
}

void Cl2DecDatFrm1(longlong param_1, char *param_2, longlong param_3, longlong param_4)

{
	char cVar1;
	longlong lVar2;
	char *pcVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;

	lVar6 = param_4;
	do {
		pcVar3 = param_2 + 1;
		lVar4 = param_3 + -1;
		lVar2 = (longlong)*param_2;
		if (lVar2 < 0) {
			lVar5 = -lVar2;
			if ((int)lVar5 < 0x42) {
				lVar4 = lVar4 + lVar2;
				do {
					cVar1 = *pcVar3;
					lVar5 = lVar5 + -1;
					pcVar3 = pcVar3 + 1;
					*(char *)param_1 = cVar1;
					param_1 = param_1 + 1;
				} while (lVar5 != 0);
			} else {
				cVar1 = *pcVar3;
				lVar5 = lVar5 + -0x41;
				lVar2 = -lVar5;
				pcVar3 = param_2 + 2;
				lVar4 = param_3 + -2;
				do {
					lVar5 = lVar5 + -1;
					*(char *)param_1 = cVar1;
					param_1 = param_1 + 1;
				} while (lVar5 != 0);
			}
			lVar6 = lVar6 + lVar2;
			if ((int)lVar6 == 0) {
				param_1 = (param_1 + -0x300) - param_4;
				lVar6 = param_4;
			}
		} else {
			do {
				if ((int)lVar6 < (int)lVar2) {
					lVar5 = lVar2 - lVar6;
					lVar2 = lVar6;
				} else {
					lVar5 = 0;
				}
				param_1 = param_1 + lVar2;
				lVar6 = lVar6 - lVar2;
				if (lVar6 == 0) {
					param_1 = (param_1 + -0x300) - param_4;
					lVar6 = param_4;
				}
				lVar2 = lVar5;
			} while ((int)lVar5 != 0);
		}
		param_3 = lVar4;
		param_2 = pcVar3;
	} while ((int)lVar4 != 0);
	return;
}

void FUN_1003f50c(longlong param_1, char *param_2, longlong param_3, longlong param_4, undefined param_5)

{
	char cVar1;
	int iVar2;
	char *pcVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;

	lVar5 = param_4;
	do {
		pcVar3 = param_2 + 1;
		lVar4 = param_3 + -1;
		lVar6 = (longlong)*param_2;
		if (lVar6 < 0) {
			lVar7 = -lVar6;
			if ((int)lVar7 < 0x42) {
				lVar4 = lVar4 + lVar6;
				do {
					cVar1 = *pcVar3;
					pcVar3 = pcVar3 + 1;
					if (cVar1 != '\0') {
						iVar2 = (int)param_1;
						*(undefined *)(iVar2 + -1) = param_5;
						*(undefined *)(iVar2 + 1) = param_5;
						*(undefined *)(iVar2 + -0x300) = param_5;
						*(undefined *)(iVar2 + 0x300) = param_5;
					}
					lVar7 = lVar7 + -1;
					param_1 = param_1 + 1;
				} while (lVar7 != 0);
			} else {
				cVar1 = *pcVar3;
				lVar7 = lVar7 + -0x41;
				lVar4 = param_3 + -2;
				pcVar3 = param_2 + 2;
				lVar6 = lVar7;
				if (cVar1 == '\0')
					goto LAB_1003f5b8;
				*(undefined *)((int)param_1 + -1) = param_5;
				lVar6 = -lVar7;
				*(undefined *)((int)param_1 + (int)lVar7) = param_5;
				do {
					*(undefined *)((int)param_1 + -0x300) = param_5;
					lVar7 = lVar7 + -1;
					*(undefined *)((int)param_1 + 0x300) = param_5;
					param_1 = param_1 + 1;
				} while (lVar7 != 0);
			}
			lVar5 = lVar5 + lVar6;
			if ((int)lVar5 == 0) {
				param_1 = (param_1 + -0x300) - param_4;
				lVar5 = param_4;
			}
		} else {
		LAB_1003f5b8:
			do {
				if ((int)lVar5 < (int)lVar6) {
					lVar7 = lVar6 - lVar5;
					lVar6 = lVar5;
				} else {
					lVar7 = 0;
				}
				param_1 = param_1 + lVar6;
				lVar5 = lVar5 - lVar6;
				if (lVar5 == 0) {
					param_1 = (param_1 + -0x300) - param_4;
					lVar5 = param_4;
				}
				lVar6 = lVar7;
			} while ((int)lVar7 != 0);
		}
		param_3 = lVar4;
		param_2 = pcVar3;
		if ((int)lVar4 == 0) {
			return;
		}
	} while (true);
}

void Cl2DecDatLightTbl1(longlong param_1, byte *param_2, longlong param_3, longlong param_4, int param_5)

{
	byte bVar1;
	undefined uVar2;
	longlong lVar3;
	byte *pbVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;

	_DAT_100f4124 = (undefined4)param_4;
	lVar7 = param_4;
	do {
		pbVar4 = param_2 + 1;
		lVar5 = param_3 + -1;
		lVar3 = (longlong)(char)*param_2;
		if (lVar3 < 0) {
			lVar6 = -lVar3;
			if ((int)lVar6 < 0x42) {
				lVar5 = lVar5 + lVar3;
				do {
					bVar1 = *pbVar4;
					lVar6 = lVar6 + -1;
					pbVar4 = pbVar4 + 1;
					*(undefined *)param_1 = *(undefined *)(param_5 + (uint)bVar1);
					param_1 = param_1 + 1;
				} while (lVar6 != 0);
			} else {
				lVar6 = lVar6 + -0x41;
				lVar3 = -lVar6;
				lVar5 = param_3 + -2;
				uVar2 = *(undefined *)(param_5 + (uint)*pbVar4);
				pbVar4 = param_2 + 2;
				do {
					lVar6 = lVar6 + -1;
					*(undefined *)param_1 = uVar2;
					param_1 = param_1 + 1;
				} while (lVar6 != 0);
			}
			lVar7 = lVar7 + lVar3;
			if ((int)lVar7 == 0) {
				param_1 = (param_1 + -0x300) - param_4;
				lVar7 = param_4;
			}
		} else {
			do {
				if ((int)lVar7 < (int)lVar3) {
					lVar6 = lVar3 - lVar7;
					lVar3 = lVar7;
				} else {
					lVar6 = 0;
				}
				param_1 = param_1 + lVar3;
				lVar7 = lVar7 - lVar3;
				if (lVar7 == 0) {
					param_1 = (param_1 + -0x300) - param_4;
					lVar7 = param_4;
				}
				lVar3 = lVar6;
			} while ((int)lVar6 != 0);
		}
		param_3 = lVar5;
		param_2 = pbVar4;
	} while ((int)lVar5 != 0);
	return;
}

void Cl2DecDatFrm4(ulonglong param_1, longlong param_2, longlong param_3, longlong param_4)

{
	undefined uVar1;
	undefined *puVar2;
	longlong lVar3;
	undefined *puVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;

	puVar2 = PTR_DAT_100f17c8;
	lVar6 = param_4;
	do {
		lVar3 = param_2 + 1;
		lVar5 = param_3 + -1;
		lVar7 = (longlong) * (char *)param_2;
		lVar8 = lVar7;
		if (lVar7 < 0) {
			lVar8 = -lVar7;
			if ((int)lVar8 < 0x42) {
				lVar5 = lVar5 + lVar7;
				if ((ulonglong) * (uint *)puVar2 <= (param_1 & 0xffffffff)) {
					lVar3 = lVar3 + lVar8;
					goto LAB_1003f78c;
				}
				do {
					puVar4 = (undefined *)lVar3;
					lVar8 = lVar8 + -1;
					lVar3 = lVar3 + 1;
					*(undefined *)param_1 = *puVar4;
					param_1 = param_1 + 1;
				} while (lVar8 != 0);
			} else {
				lVar8 = lVar8 + -0x41;
				uVar1 = *(undefined *)lVar3;
				lVar3 = param_2 + 2;
				lVar5 = param_3 + -2;
				if ((ulonglong) * (uint *)puVar2 <= (param_1 & 0xffffffff))
					goto LAB_1003f78c;
				lVar7 = -lVar8;
				do {
					lVar8 = lVar8 + -1;
					*(undefined *)param_1 = uVar1;
					param_1 = param_1 + 1;
				} while (lVar8 != 0);
			}
			lVar6 = lVar6 + lVar7;
			if ((int)lVar6 == 0) {
				param_1 = (param_1 - 0x300) - param_4;
				lVar6 = param_4;
			}
		} else {
		LAB_1003f78c:
			do {
				if ((int)lVar6 < (int)lVar8) {
					lVar7 = lVar8 - lVar6;
					lVar8 = lVar6;
				} else {
					lVar7 = 0;
				}
				param_1 = param_1 + lVar8;
				lVar6 = lVar6 - lVar8;
				if (lVar6 == 0) {
					param_1 = (param_1 - 0x300) - param_4;
					lVar6 = param_4;
				}
				lVar8 = lVar7;
			} while ((int)lVar7 != 0);
		}
		param_2 = lVar3;
		param_3 = lVar5;
		if ((int)lVar5 == 0) {
			return;
		}
	} while (true);
}

void FUN_1003f7d8(ulonglong param_1, longlong param_2, longlong param_3, longlong param_4,
    undefined param_5)

{
	int iVar1;
	undefined *puVar2;
	longlong lVar3;
	char *pcVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;

	puVar2 = PTR_DAT_100f17c8;
	lVar6 = param_4;
	do {
		lVar3 = param_2 + 1;
		lVar5 = param_3 + -1;
		lVar7 = (longlong) * (char *)param_2;
		lVar8 = lVar7;
		if (lVar7 < 0) {
			lVar8 = -lVar7;
			if ((int)lVar8 < 0x42) {
				lVar5 = lVar5 + lVar7;
				if ((ulonglong) * (uint *)puVar2 <= (param_1 & 0xffffffff)) {
					lVar3 = lVar3 + lVar8;
					goto LAB_1003f8a8;
				}
				do {
					pcVar4 = (char *)lVar3;
					lVar3 = lVar3 + 1;
					if (*pcVar4 != '\0') {
						iVar1 = (int)param_1;
						*(undefined *)(iVar1 + -1) = param_5;
						*(undefined *)(iVar1 + 1) = param_5;
						*(undefined *)(iVar1 + -0x300) = param_5;
						*(undefined *)(iVar1 + 0x300) = param_5;
					}
					lVar8 = lVar8 + -1;
					param_1 = param_1 + 1;
				} while (lVar8 != 0);
			} else {
				pcVar4 = (char *)lVar3;
				lVar8 = lVar8 + -0x41;
				lVar5 = param_3 + -2;
				lVar3 = param_2 + 2;
				if ((*pcVar4 == '\0') || ((ulonglong) * (uint *)puVar2 <= (param_1 & 0xffffffff)))
					goto LAB_1003f8a8;
				*(undefined *)((int)param_1 + -1) = param_5;
				lVar7 = -lVar8;
				*(undefined *)((int)param_1 + (int)lVar8) = param_5;
				do {
					*(undefined *)((int)param_1 + -0x300) = param_5;
					lVar8 = lVar8 + -1;
					*(undefined *)((int)param_1 + 0x300) = param_5;
					param_1 = param_1 + 1;
				} while (lVar8 != 0);
			}
			lVar6 = lVar6 + lVar7;
			if ((int)lVar6 == 0) {
				param_1 = (param_1 - 0x300) - param_4;
				lVar6 = param_4;
			}
		} else {
		LAB_1003f8a8:
			do {
				if ((int)lVar6 < (int)lVar8) {
					lVar7 = lVar8 - lVar6;
					lVar8 = lVar6;
				} else {
					lVar7 = 0;
				}
				param_1 = param_1 + lVar8;
				lVar6 = lVar6 - lVar8;
				if (lVar6 == 0) {
					param_1 = (param_1 - 0x300) - param_4;
					lVar6 = param_4;
				}
				lVar8 = lVar7;
			} while ((int)lVar7 != 0);
		}
		param_2 = lVar3;
		param_3 = lVar5;
		if ((int)lVar5 == 0) {
			return;
		}
	} while (true);
}

void Cl2DecDatLightTbl2(ulonglong param_1, longlong param_2, longlong param_3, longlong param_4, int param_5)

{
	undefined uVar1;
	undefined *puVar2;
	longlong lVar3;
	byte *pbVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;

	puVar2 = PTR_DAT_100f17c8;
	lVar6 = param_4;
	do {
		lVar3 = param_2 + 1;
		lVar5 = param_3 + -1;
		lVar7 = (longlong) * (char *)param_2;
		lVar8 = lVar7;
		if (lVar7 < 0) {
			lVar8 = -lVar7;
			if ((int)lVar8 < 0x42) {
				lVar5 = lVar5 + lVar7;
				if ((ulonglong) * (uint *)puVar2 <= (param_1 & 0xffffffff)) {
					lVar3 = lVar3 + lVar8;
					goto LAB_1003f9a4;
				}
				do {
					pbVar4 = (byte *)lVar3;
					lVar8 = lVar8 + -1;
					lVar3 = lVar3 + 1;
					*(undefined *)param_1 = *(undefined *)(param_5 + (uint)*pbVar4);
					param_1 = param_1 + 1;
				} while (lVar8 != 0);
			} else {
				lVar8 = lVar8 + -0x41;
				pbVar4 = (byte *)lVar3;
				lVar3 = param_2 + 2;
				uVar1 = *(undefined *)(param_5 + (uint)*pbVar4);
				lVar5 = param_3 + -2;
				if ((ulonglong) * (uint *)puVar2 <= (param_1 & 0xffffffff))
					goto LAB_1003f9a4;
				lVar7 = -lVar8;
				do {
					lVar8 = lVar8 + -1;
					*(undefined *)param_1 = uVar1;
					param_1 = param_1 + 1;
				} while (lVar8 != 0);
			}
			lVar6 = lVar6 + lVar7;
			if ((int)lVar6 == 0) {
				param_1 = (param_1 - 0x300) - param_4;
				lVar6 = param_4;
			}
		} else {
		LAB_1003f9a4:
			do {
				if ((int)lVar6 < (int)lVar8) {
					lVar7 = lVar8 - lVar6;
					lVar8 = lVar6;
				} else {
					lVar7 = 0;
				}
				param_1 = param_1 + lVar8;
				lVar6 = lVar6 - lVar8;
				if (lVar6 == 0) {
					param_1 = (param_1 - 0x300) - param_4;
					lVar6 = param_4;
				}
				lVar8 = lVar7;
			} while ((int)lVar7 != 0);
		}
		param_2 = lVar3;
		param_3 = lVar5;
		if ((int)lVar5 == 0) {
			return;
		}
	} while (true);
}

void Cl2DecodeFrm1(longlong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    longlong param_5, int param_6, int param_7, undefined4 param_8, undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	ulonglong uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined4 in_stack_ffffffa8;
	uint local_28;

	puVar2 = PTR_DAT_100f17cc;
	uVar6 = (undefined)param_3;
	uVar5 = (undefined)param_2;
	uVar11 = (undefined)param_8;
	ppuVar3 = &toc;
	uVar7 = (char)param_4;
	uVar8 = (char)param_5;
	uVar9 = (char)param_6;
	uVar10 = (char)param_7;
	uVar4 = FUN_100b915c((uint *)param_3, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	if (((*(int *)puVar2 != 0) && ((uVar4 & 0xffffffff) != 0)) && (0 < (int)param_4)) {
		uVar8 = (undefined)(ZEXT48(register0x0000000c) - 0x28);
		uVar5 = (char)param_4;
		uVar6 = (char)param_6;
		uVar7 = (char)param_7;
		uVar4 = FUN_1003ce1c(uVar4, (int)param_4, param_6, param_7,
		    (int *)(ZEXT48(register0x0000000c) - 0x28));
		if ((uVar4 & 0xffffffff) != 0) {
			uVar1 = *(uint *)puVar2;
			uVar8 = (undefined)uVar1;
			uVar6 = (undefined)local_28;
			uVar5 = (char)uVar4;
			uVar7 = (char)param_5;
			Cl2DecDatFrm1((ulonglong)uVar1 + (ulonglong) * (uint *)(ppuVar3[-0x1da6] + ((int)param_2 + param_6 * -0x10) * 4) + param_1, (char *)uVar4, (ulonglong)local_28, param_5);
		}
	}
	FUN_100b91a4((int *)(uint *)param_3, uVar5, uVar6, uVar7, uVar8, uVar9, uVar10, uVar11, in_stack_ffffffa8);
	return;
}

void Cl2DecodeFrm2(undefined param_1, longlong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, longlong param_6, int param_7, int param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined **ppuVar2;
	ulonglong uVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined4 in_stack_ffffff98;
	uint local_38;

	puVar1 = PTR_DAT_100f17cc;
	uVar6 = (undefined)param_4;
	uVar5 = (undefined)param_3;
	uVar4 = (undefined)param_2;
	ppuVar2 = &toc;
	uVar7 = (char)param_5;
	uVar8 = (char)param_6;
	uVar9 = (char)param_7;
	uVar10 = (char)param_8;
	uVar3 = FUN_100b915c((uint *)param_4, param_2, param_3, param_4, param_5, (int)param_6, param_7, param_8,
	    in_stack_ffffff98);
	if (((*(int *)puVar1 != 0) && ((uVar3 & 0xffffffff) != 0)) && (0 < (int)param_5)) {
		uVar7 = (undefined)(ZEXT48(register0x0000000c) - 0x38);
		uVar4 = (char)param_5;
		uVar5 = (char)param_7;
		uVar6 = (char)param_8;
		uVar3 = FUN_1003ce1c(uVar3, (int)param_5, param_7, param_8,
		    (int *)(ZEXT48(register0x0000000c) - 0x38));
		if ((uVar3 & 0xffffffff) != 0) {
			uVar5 = (undefined)local_38;
			uVar4 = (char)uVar3;
			uVar6 = (char)param_6;
			uVar7 = param_1;
			FUN_1003f50c((ulonglong) * (uint *)puVar1 + (ulonglong) * (uint *)(ppuVar2[-0x1da6] + ((int)param_3 + param_7 * -0x10) * 4) + param_2, (char *)uVar3, (ulonglong)local_38, param_6, param_1);
		}
	}
	FUN_100b91a4((int *)(uint *)param_4, uVar4, uVar5, uVar6, uVar7, uVar8, uVar9, uVar10, in_stack_ffffff98);
	return;
}

void Cl2DecodeFrm3(longlong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    longlong param_5, int param_6, int param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined **ppuVar2;
	ulonglong uVar3;
	longlong lVar4;
	longlong lVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	char cVar11;
	char cVar12;
	undefined4 in_stack_ffffff98;
	uint local_38;

	puVar1 = PTR_DAT_100f17cc;
	uVar7 = (undefined)param_4;
	uVar6 = (undefined)param_3;
	lVar4._7_1_ = (undefined)param_2;
	cVar11 = (char)param_8;
	ppuVar2 = &toc;
	uVar8 = (char)param_5;
	uVar9 = (char)param_6;
	uVar10 = (char)param_7;
	cVar12 = cVar11;
	uVar3 = FUN_100b915c((uint *)param_3, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffff98);
	if ((*(int *)puVar1 != 0) && ((uVar3 & 0xffffffff) != 0)) {
		if (0 < (int)param_4) {
			uVar8 = (undefined)(ZEXT48(register0x0000000c) - 0x38);
			uVar6 = (char)param_6;
			uVar7 = (char)param_7;
			lVar4 = FUN_1003ce1c(uVar3, (int)param_4, param_6, param_7,
			    (int *)(ZEXT48(register0x0000000c) - 0x38));
			lVar4._7_1_ = (undefined)lVar4;
			if (lVar4 != 0) {
				if (*(int *)ppuVar2[-0x1ddb] == 0) {
					lVar5 = 0x1000;
				} else {
					lVar5 = 0x400;
				}
				if (cVar11 == '\x02') {
					lVar5 = lVar5 + 0x100;
				}
				if ('\x03' < cVar11) {
					lVar5 = (ulonglong)(uint)(((int)cVar11 + -4) * 0x100) + lVar5 + 0x300;
				}
				uVar6 = (undefined)local_38;
				uVar8 = (undefined)((ulonglong) * (uint *)ppuVar2[-0x1ddc] + lVar5);
				uVar7 = (char)param_5;
				Cl2DecDatLightTbl1((ulonglong) * (uint *)puVar1 + (ulonglong) * (uint *)(ppuVar2[-0x1da6] + ((int)param_2 + param_6 * -0x10) * 4) + param_1, (byte *)lVar4, (ulonglong)local_38, param_5,
				    (int)((ulonglong) * (uint *)ppuVar2[-0x1ddc] + lVar5));
			}
		}
	}
	FUN_100b91a4((int *)(uint *)param_3, (undefined)lVar4, uVar6, uVar7, uVar8, uVar9, uVar10, cVar12,
	    in_stack_ffffff98);
	return;
}

void Cl2DecodeLightTbl(longlong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    longlong param_5, int param_6, int param_7, undefined4 param_8, undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	ulonglong uVar4;
	longlong lVar5;
	longlong lVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar10;
	longlong lVar9;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined uVar14;
	undefined4 in_stack_ffffffa8;
	uint local_28;

	puVar2 = PTR_DAT_100f17cc;
	uVar10 = (undefined)param_5;
	uVar8 = (undefined)param_4;
	uVar7 = (undefined)param_3;
	lVar5._7_1_ = (undefined)param_2;
	uVar14 = (undefined)param_8;
	ppuVar3 = &toc;
	uVar11 = uVar10;
	uVar12 = (char)param_6;
	uVar13 = (char)param_7;
	uVar4 = FUN_100b915c((uint *)param_3, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	if ((*(int *)puVar2 != 0) && ((uVar4 & 0xffffffff) != 0)) {
		if (0 < (int)param_4) {
			uVar11 = (undefined)(ZEXT48(register0x0000000c) - 0x28);
			uVar7 = (char)param_6;
			uVar8 = (char)param_7;
			lVar5 = FUN_1003ce1c(uVar4, (int)param_4, param_6, param_7,
			    (int *)(ZEXT48(register0x0000000c) - 0x28));
			lVar5._7_1_ = (undefined)lVar5;
			if (lVar5 != 0) {
				iVar1 = *(int *)ppuVar3[-0x1ca4];
				uVar11 = (undefined)iVar1;
				lVar6 = (ulonglong) * (uint *)puVar2 + (ulonglong) * (uint *)(ppuVar3[-0x1da6] + ((int)param_2 + param_6 * -0x10) * 4) + param_1;
				uVar7 = (undefined)local_28;
				if (iVar1 == 0) {
					uVar8 = uVar10;
					Cl2DecDatFrm1(lVar6, (char *)(byte *)lVar5, (ulonglong)local_28, param_5);
				} else {
					lVar9 = (ulonglong) * (uint *)ppuVar3[-0x1ddc] + (ulonglong)(uint)(iVar1 << 8);
					uVar11 = (undefined)lVar9;
					uVar8 = uVar10;
					Cl2DecDatLightTbl1(lVar6, (byte *)lVar5, (ulonglong)local_28, param_5, (int)lVar9);
				}
			}
		}
	}
	FUN_100b91a4((int *)(uint *)param_3, (undefined)lVar5, uVar7, uVar8, uVar11, uVar12, uVar13, uVar14,
	    in_stack_ffffffa8);
	return;
}

void Cl2DecodeFrm4(longlong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    longlong param_5, int param_6, int param_7, undefined4 param_8, undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	ulonglong uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined4 in_stack_ffffffa8;
	uint local_28;

	puVar2 = PTR_DAT_100f17cc;
	uVar6 = (undefined)param_3;
	uVar5 = (undefined)param_2;
	uVar11 = (undefined)param_8;
	ppuVar3 = &toc;
	uVar7 = (char)param_4;
	uVar8 = (char)param_5;
	uVar9 = (char)param_6;
	uVar10 = (char)param_7;
	uVar4 = FUN_100b915c((uint *)param_3, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	if (((*(int *)puVar2 != 0) && ((uVar4 & 0xffffffff) != 0)) && (0 < (int)param_4)) {
		uVar8 = (undefined)(ZEXT48(register0x0000000c) - 0x28);
		uVar5 = (char)param_4;
		uVar6 = (char)param_6;
		uVar7 = (char)param_7;
		uVar4 = FUN_1003ce1c(uVar4, (int)param_4, param_6, param_7,
		    (int *)(ZEXT48(register0x0000000c) - 0x28));
		if ((uVar4 & 0xffffffff) != 0) {
			uVar1 = *(uint *)puVar2;
			uVar8 = (undefined)uVar1;
			uVar6 = (undefined)local_28;
			uVar5 = (char)uVar4;
			uVar7 = (char)param_5;
			Cl2DecDatFrm4((ulonglong)uVar1 + (ulonglong) * (uint *)(ppuVar3[-0x1da6] + ((int)param_2 + param_6 * -0x10) * 4) + param_1, uVar4, (ulonglong)local_28, param_5);
		}
	}
	FUN_100b91a4((int *)(uint *)param_3, uVar5, uVar6, uVar7, uVar8, uVar9, uVar10, uVar11, in_stack_ffffffa8);
	return;
}

void Cl2DecodeClrHL(undefined param_1, longlong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, longlong param_6, int param_7, int param_8, undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	ulonglong uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined4 in_stack_ffffff98;
	uint local_38;

	puVar4 = PTR_DAT_100f17cc;
	puVar3 = PTR_DAT_100f17c8;
	uVar9 = (undefined)param_4;
	uVar8 = (undefined)param_3;
	uVar7 = (undefined)param_2;
	ppuVar5 = &toc;
	uVar10 = (char)param_5;
	uVar11 = (char)param_6;
	uVar12 = (char)param_7;
	uVar13 = (char)param_8;
	uVar6 = FUN_100b915c((uint *)param_4, param_2, param_3, param_4, param_5, (int)param_6, param_7, param_8,
	    in_stack_ffffff98);
	if (((*(int *)puVar4 != 0) && ((uVar6 & 0xffffffff) != 0)) && (0 < (int)param_5)) {
		uVar10 = (undefined)(ZEXT48(register0x0000000c) - 0x38);
		uVar7 = (char)param_5;
		uVar8 = (char)param_7;
		uVar9 = (char)param_8;
		uVar6 = FUN_1003ce1c(uVar6, (int)param_5, param_7, param_8,
		    (int *)(ZEXT48(register0x0000000c) - 0x38));
		if ((uVar6 & 0xffffffff) != 0) {
			uVar1 = *(uint *)puVar4;
			uVar2 = *(uint *)(ppuVar5[-0x1da6] + ((int)param_3 + param_7 * -0x10) * 4);
			*(int *)puVar3 = *(int *)puVar3 + -0x300;
			uVar8 = (undefined)local_38;
			uVar7 = (char)uVar6;
			uVar9 = (char)param_6;
			uVar10 = param_1;
			FUN_1003f7d8((ulonglong)uVar1 + (ulonglong)uVar2 + param_2, uVar6, (ulonglong)local_38, param_6,
			    param_1);
			*(int *)puVar3 = *(int *)puVar3 + 0x300;
		}
	}
	FUN_100b91a4((int *)(uint *)param_4, uVar7, uVar8, uVar9, uVar10, uVar11, uVar12, uVar13,
	    in_stack_ffffff98);
	return;
}

void Cl2DecodeFrm5(longlong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    longlong param_5, int param_6, int param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined **ppuVar2;
	ulonglong uVar3;
	longlong lVar4;
	longlong lVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	char cVar11;
	char cVar12;
	undefined4 in_stack_ffffff98;
	uint local_38;

	puVar1 = PTR_DAT_100f17cc;
	uVar7 = (undefined)param_4;
	uVar6 = (undefined)param_3;
	lVar4._7_1_ = (undefined)param_2;
	cVar11 = (char)param_8;
	ppuVar2 = &toc;
	uVar8 = (char)param_5;
	uVar9 = (char)param_6;
	uVar10 = (char)param_7;
	cVar12 = cVar11;
	uVar3 = FUN_100b915c((uint *)param_3, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffff98);
	if ((*(int *)puVar1 != 0) && ((uVar3 & 0xffffffff) != 0)) {
		if (0 < (int)param_4) {
			uVar8 = (undefined)(ZEXT48(register0x0000000c) - 0x38);
			uVar6 = (char)param_6;
			uVar7 = (char)param_7;
			lVar4 = FUN_1003ce1c(uVar3, (int)param_4, param_6, param_7,
			    (int *)(ZEXT48(register0x0000000c) - 0x38));
			lVar4._7_1_ = (undefined)lVar4;
			if (lVar4 != 0) {
				if (*(int *)ppuVar2[-0x1ddb] == 0) {
					lVar5 = 0x1000;
				} else {
					lVar5 = 0x400;
				}
				if (cVar11 == '\x02') {
					lVar5 = lVar5 + 0x100;
				}
				if ('\x03' < cVar11) {
					lVar5 = (ulonglong)(uint)(((int)cVar11 + -4) * 0x100) + lVar5 + 0x300;
				}
				uVar6 = (undefined)local_38;
				uVar8 = (undefined)((ulonglong) * (uint *)ppuVar2[-0x1ddc] + lVar5);
				uVar7 = (char)param_5;
				Cl2DecDatLightTbl2((ulonglong) * (uint *)puVar1 + (ulonglong) * (uint *)(ppuVar2[-0x1da6] + ((int)param_2 + param_6 * -0x10) * 4) + param_1, lVar4, (ulonglong)local_38, param_5,
				    (int)((ulonglong) * (uint *)ppuVar2[-0x1ddc] + lVar5));
			}
		}
	}
	FUN_100b91a4((int *)(uint *)param_3, (undefined)lVar4, uVar6, uVar7, uVar8, uVar9, uVar10, cVar12,
	    in_stack_ffffff98);
	return;
}

void Cl2DecodeFrm6(longlong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    longlong param_5, int param_6, int param_7, undefined4 param_8, undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	ulonglong uVar4;
	longlong lVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar9;
	longlong lVar8;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined4 in_stack_ffffffa8;
	uint local_28;

	puVar2 = PTR_DAT_100f17cc;
	uVar9 = (undefined)param_5;
	uVar7 = (undefined)param_4;
	uVar6 = (undefined)param_3;
	lVar5._7_1_ = (undefined)param_2;
	uVar13 = (undefined)param_8;
	ppuVar3 = &toc;
	uVar10 = uVar9;
	uVar11 = (char)param_6;
	uVar12 = (char)param_7;
	uVar4 = FUN_100b915c((uint *)param_3, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	if ((*(int *)puVar2 != 0) && ((uVar4 & 0xffffffff) != 0)) {
		if (0 < (int)param_4) {
			uVar10 = (undefined)(ZEXT48(register0x0000000c) - 0x28);
			uVar6 = (char)param_6;
			uVar7 = (char)param_7;
			lVar5 = FUN_1003ce1c(uVar4, (int)param_4, param_6, param_7,
			    (int *)(ZEXT48(register0x0000000c) - 0x28));
			lVar5._7_1_ = (undefined)lVar5;
			if (lVar5 != 0) {
				iVar1 = *(int *)ppuVar3[-0x1ca4];
				uVar10 = (undefined)iVar1;
				uVar4 = (ulonglong) * (uint *)puVar2 + (ulonglong) * (uint *)(ppuVar3[-0x1da6] + ((int)param_2 + param_6 * -0x10) * 4) + param_1;
				uVar6 = (undefined)local_28;
				if (iVar1 == 0) {
					uVar7 = uVar9;
					Cl2DecDatFrm4(uVar4, lVar5, (ulonglong)local_28, param_5);
				} else {
					lVar8 = (ulonglong) * (uint *)ppuVar3[-0x1ddc] + (ulonglong)(uint)(iVar1 << 8);
					uVar10 = (undefined)lVar8;
					uVar7 = uVar9;
					Cl2DecDatLightTbl2(uVar4, lVar5, (ulonglong)local_28, param_5, (int)lVar8);
				}
			}
		}
	}
	FUN_100b91a4((int *)(uint *)param_3, (undefined)lVar5, uVar6, uVar7, uVar10, uVar11, uVar12, uVar13,
	    in_stack_ffffffa8);
	return;
}

void PlayInGameMovie(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined8 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined8 uVar2;
	undefined uVar3;
	undefined7 uVar4;
	undefined uVar5;
	undefined7 uVar6;
	undefined uVar7;
	undefined7 uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined4 in_stack_ffffffc8;

	puVar1 = PTR_DAT_100f1914;
	uVar8 = (undefined7)((ulonglong)param_5 >> 8);
	uVar9 = (undefined)param_5;
	uVar6 = (undefined7)((ulonglong)param_4 >> 8);
	uVar7 = (undefined)param_4;
	uVar4 = (undefined7)((ulonglong)param_3 >> 8);
	uVar5 = (undefined)param_3;
	PaletteFadeOut(8, (undefined)param_2, uVar5, uVar7, uVar9, (char)param_6, (char)param_7, (char)param_8,
	    in_stack_ffffffc8);
	uVar2 = 0;
	play_movie(param_1, 0, CONCAT71(uVar4, uVar5), CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9), param_6,
	    (int)param_7, param_8, in_stack_ffffffc8);
	ClearScreenBuffer();
	uVar12 = (undefined)param_8;
	uVar10 = (undefined)param_6;
	uVar3 = (undefined)uVar2;
	uVar11 = (undefined)param_7;
	*(undefined4 *)puVar1 = 0xff;
	scrollrt_draw_game_screen(1, uVar2, CONCAT71(uVar4, uVar5), CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9), param_6,
	    param_7, param_8, in_stack_ffffffc8);
	PaletteFadeIn(8, uVar3, uVar5, uVar7, uVar9, uVar10, uVar11, uVar12, in_stack_ffffffc8);
	*(undefined4 *)puVar1 = 0xff;
	return;
}

void FUN_1004016c(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined uVar1;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	int local_2c;

	_DAT_100f412c = _DAT_100f4120;
	uVar1 = SUB41(PTR_DAT_100f2d58, 0);
	InitializeCriticalSection(uVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, (char)in_stack_ffffffc8,
	    in_stack_ffffffcf, local_2c);
	FUN_1000058c(uVar1, (char)*(undefined4 *)(local_2c + -0x7810),
	    (char)*(undefined4 *)(local_2c + -0x6290), param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

void InitDiabloMsg(char param_1)

{
	char cVar1;
	undefined *puVar2;
	char *pcVar3;
	char *pcVar4;
	longlong lVar5;
	char *pcVar6;

	pcVar4 = _DAT_100f1d50;
	pcVar3 = _DAT_100f1d4c;
	cVar1 = *_DAT_100f1d4c;
	lVar5 = (longlong)cVar1;
	pcVar6 = _DAT_100f1d50;
	if (0 < lVar5) {
		do {
			if (*pcVar6 == param_1) {
				return;
			}
			pcVar6 = pcVar6 + 1;
			lVar5 = lVar5 + -1;
		} while (lVar5 != 0);
	}
	_DAT_100f1d50[(int)cVar1] = param_1;
	if (cVar1 < 'P') {
		*pcVar3 = *pcVar3 + '\x01';
	}
	puVar2 = PTR_DAT_100f19f4;
	*PTR_DAT_100f19f8 = *pcVar4;
	*puVar2 = 0x46;
	return;
}

void FUN_10040228(void)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;

	puVar3 = _DAT_100f1d50;
	puVar1 = PTR_DAT_100f19f8;
	*_DAT_100f1d50 = 0;
	puVar2 = _DAT_100f1d4c;
	puVar3[1] = 0;
	puVar3[2] = 0;
	puVar3[3] = 0;
	puVar3[4] = 0;
	puVar3[5] = 0;
	puVar3[6] = 0;
	puVar3[7] = 0;
	puVar3[8] = 0;
	puVar3[9] = 0;
	puVar3[10] = 0;
	puVar3[0xb] = 0;
	puVar3[0xc] = 0;
	puVar3[0xd] = 0;
	puVar3[0xe] = 0;
	puVar3[0xf] = 0;
	puVar3[0x10] = 0;
	puVar3[0x11] = 0;
	puVar3[0x12] = 0;
	puVar3[0x13] = 0;
	puVar3[0x14] = 0;
	puVar3[0x15] = 0;
	puVar3[0x16] = 0;
	puVar3[0x17] = 0;
	puVar3[0x18] = 0;
	puVar3[0x19] = 0;
	puVar3[0x1a] = 0;
	puVar3[0x1b] = 0;
	puVar3[0x1c] = 0;
	puVar3[0x1d] = 0;
	puVar3[0x1e] = 0;
	puVar3[0x1f] = 0;
	puVar3[0x20] = 0;
	puVar3[0x21] = 0;
	puVar3[0x22] = 0;
	puVar3[0x23] = 0;
	puVar3[0x24] = 0;
	puVar3[0x25] = 0;
	puVar3[0x26] = 0;
	puVar3[0x27] = 0;
	puVar3[0x28] = 0;
	puVar3[0x29] = 0;
	puVar3[0x2a] = 0;
	puVar3[0x2b] = 0;
	puVar3[0x2c] = 0;
	puVar3[0x2d] = 0;
	puVar3[0x2e] = 0;
	puVar3[0x2f] = 0;
	puVar3[0x30] = 0;
	puVar3[0x31] = 0;
	puVar3[0x32] = 0;
	puVar3[0x33] = 0;
	puVar3[0x34] = 0;
	puVar3[0x35] = 0;
	puVar3[0x36] = 0;
	puVar3[0x37] = 0;
	puVar3[0x38] = 0;
	puVar3[0x39] = 0;
	puVar3[0x3a] = 0;
	puVar3[0x3b] = 0;
	puVar3[0x3c] = 0;
	puVar3[0x3d] = 0;
	puVar3[0x3e] = 0;
	puVar3[0x3f] = 0;
	puVar3[0x40] = 0;
	puVar3[0x41] = 0;
	puVar3[0x42] = 0;
	puVar3[0x43] = 0;
	puVar3[0x44] = 0;
	puVar3[0x45] = 0;
	puVar3[0x46] = 0;
	puVar3[0x47] = 0;
	puVar3[0x48] = 0;
	puVar3[0x49] = 0;
	puVar3[0x4a] = 0;
	puVar3[0x4b] = 0;
	puVar3[0x4c] = 0;
	puVar3[0x4d] = 0;
	puVar3[0x4e] = 0;
	puVar3[0x4f] = 0;
	*puVar1 = 0;
	*puVar2 = 0;
	return;
}

void DrawDiabloMsg(void)

{
	byte bVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	uint *puVar5;
	char *pcVar6;
	ulonglong uVar7;
	longlong lVar8;
	ulonglong uVar9;
	longlong lVar10;
	int iVar13;
	byte *pbVar14;
	ulonglong uVar11;
	longlong lVar12;
	undefined *puVar15;
	undefined *puVar16;
	ulonglong uVar17;
	ulonglong uVar18;
	ulonglong in_r8;
	ulonglong in_r9;
	undefined4 in_r10;
	longlong lVar19;
	int iVar20;
	longlong lVar21;
	ulonglong uVar22;
	undefined4 in_stack_ffffff98;

	pcVar6 = _DAT_100f1d4c;
	puVar5 = _DAT_100f1d48;
	puVar4 = PTR_DAT_100f19f8;
	puVar3 = PTR_DAT_100f19f4;
	puVar2 = PTR_DAT_100f191c;
	uVar9 = ZEXT48(&toc);
	uVar22 = ZEXT48(PTR_DAT_100f191c);
	CelDecodeOnly(0xa5, 0x13e, (ulonglong)*_DAT_100f1d48, 1, 0xc, (int)in_r8, (int)in_r9, in_r10,
	    in_stack_ffffff98);
	CelDecodeOnly(0x24f, 0x13e, (ulonglong)*puVar5, 4, 0xc, (int)in_r8, (int)in_r9, in_r10, in_stack_ffffff98);
	CelDecodeOnly(0xa5, 0x16e, (ulonglong)*puVar5, 2, 0xc, (int)in_r8, (int)in_r9, in_r10, in_stack_ffffff98);
	CelDecodeOnly(0x24f, 0x16e, (ulonglong)*puVar5, 3, 0xc, (int)in_r8, (int)in_r9, in_r10, in_stack_ffffff98);
	iVar20 = 0xad;
	iVar13 = 0;
	do {
		CelDecodeOnly(iVar20, 0x13e, (ulonglong)*puVar5, 5, 0xc, (int)in_r8, (int)in_r9, in_r10,
		    in_stack_ffffff98);
		CelDecodeOnly(iVar20, 0x16e, (ulonglong)*puVar5, 7, 0xc, (int)in_r8, (int)in_r9, in_r10,
		    in_stack_ffffff98);
		iVar13 = iVar13 + 1;
		iVar20 = iVar20 + 0xc;
	} while (iVar13 < 0x23);
	lVar19 = 0x14a;
	iVar13 = 0;
	do {
		CelDecodeOnly(0xa5, lVar19, (ulonglong)*puVar5, 6, 0xc, (int)in_r8, (int)in_r9, in_r10, in_stack_ffffff98);
		uVar17 = 8;
		uVar18 = 0xc;
		CelDecodeOnly(0x24f, lVar19, (ulonglong)*puVar5, 8, 0xc, (int)in_r8, (int)in_r9, in_r10,
		    in_stack_ffffff98);
		iVar13 = iVar13 + 1;
		lVar19 = lVar19 + 0xc;
	} while (iVar13 < 3);
	lVar19 = 0x1b;
	puVar16 = (undefined *)(**(int **)((int)uVar9 + -0x7804) + 0x441a8);
	do {
		lVar10 = 0xd8;
		do {
			puVar15 = puVar16;
			lVar10 = lVar10 + -1;
			*puVar15 = 0;
			puVar16 = puVar15 + 2;
		} while (lVar10 != 0);
		lVar10 = 0xd8;
		puVar15 = puVar15 + -0x4ae;
		do {
			puVar16 = puVar15;
			lVar10 = lVar10 + -1;
			puVar16[1] = 0;
			puVar15 = puVar16 + 2;
		} while (lVar10 != 0);
		lVar19 = lVar19 + -1;
		puVar16 = puVar16 + -0x4ae;
	} while (lVar19 != 0);
	strcpy((int)puVar2, *(int *)((int)uVar9 + 0x26c0 + (int)(char)*puVar4 * 4));
	lVar21 = (ulonglong) * (uint *)(*(int *)((int)uVar9 + -0x7698) + 0x558) + 0xa5;
	iVar13 = strlen((uint)puVar2);
	lVar10 = 0;
	lVar19 = 0;
	if (0 < (longlong)iVar13) {
		if ((8 < iVar13) && (uVar7 = (ulonglong)(iVar13 - 1U >> 3), uVar11 = uVar22, 0 < iVar13 + -8)) {
			do {
				pbVar14 = (byte *)uVar11;
				lVar19 = lVar19 + 8;
				in_r9 = (ulonglong)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)pbVar14[5]]];
				in_r8 = (ulonglong)(byte)(&DAT_100f64e8)[(uint)pbVar14[6]];
				uVar11 = uVar11 + 8;
				uVar18 = (ulonglong)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)pbVar14[6]]];
				uVar17 = (ulonglong)(byte)(&DAT_100f6230)
				    [(uint)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)pbVar14[6]]]];
				lVar10 = (ulonglong)(byte)(&DAT_100f6230)
				             [(uint)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)pbVar14[7]]]]
				    + uVar17 + (ulonglong)(byte)(&DAT_100f6230)[(uint)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)pbVar14[5]]]] + (ulonglong)(byte)(&DAT_100f6230)[(uint)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)pbVar14[4]]]] + (ulonglong)(byte)(&DAT_100f6230)[(uint)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)pbVar14[3]]]] + (ulonglong)(byte)(&DAT_100f6230)[(uint)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)pbVar14[2]]]] + (ulonglong)(byte)(&DAT_100f6230)[(uint)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)pbVar14[1]]]] + (ulonglong)(byte)(&DAT_100f6230)[(uint)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)*pbVar14]]] + lVar10 + 8;
				uVar7 = uVar7 - 1;
			} while (uVar7 != 0);
		}
		lVar12 = uVar22 + lVar19;
		lVar8 = (longlong)iVar13 - lVar19;
		if ((int)lVar19 < iVar13) {
			do {
				pbVar14 = (byte *)lVar12;
				lVar12 = lVar12 + 1;
				lVar10 = (ulonglong)(byte)(&DAT_100f6230)
				             [(uint)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)*pbVar14]]]
				    + lVar10 + 1;
				lVar8 = lVar8 + -1;
			} while (lVar8 != 0);
		}
	}
	if ((int)lVar10 < 0x1ba) {
		lVar21 = lVar21 + (0x1baU - lVar10 & 0xffffffff00000000 | (ulonglong)(uint)((int)(0x1baU - lVar10) >> 1));
	}
	iVar20 = 0;
	while (iVar20 < iVar13) {
		bVar1 = (&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint) * (byte *)uVar22]];
		if (bVar1 != 0) {
			CPrintString(lVar21, (ulonglong)bVar1, 3, uVar17, uVar18, (int)in_r8, (int)in_r9, in_r10,
			    in_stack_ffffff98);
		}
		uVar22 = uVar22 + 1;
		iVar20 = iVar20 + 1;
		lVar21 = (ulonglong)(byte)(&DAT_100f6230)[(uint)bVar1] + lVar21 + 1;
	}
	if ('\0' < (char)*puVar3) {
		*puVar3 = *puVar3 + -1;
	}
	if (*puVar3 == '\0') {
		*pcVar6 = *pcVar6 + -1;
		*puVar3 = 0x46;
		if (*pcVar6 == '\0') {
			*puVar4 = 0;
		} else {
			*puVar4 = *(undefined *)(*(int *)((int)uVar9 + -0x7280) + (int)*pcVar6);
		}
	}
	return;
}

void FUN_10040730(void)

{
	_DAT_100f4134 = _DAT_100f4130;
	return;
}

undefined8
gamemenu_previous(int param_1, undefined8 param_2, ulonglong param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined8 uVar2;
	ulonglong uVar3;
	undefined7 uVar4;
	undefined uVar5;
	undefined7 uVar6;
	undefined uVar7;
	undefined8 uVar8;
	undefined4 in_stack_ffffffc8;

	uVar6 = (undefined7)((ulonglong)param_5 >> 8);
	uVar7 = (undefined)param_5;
	uVar4 = (undefined7)((ulonglong)param_4 >> 8);
	uVar5 = (undefined)param_4;
	uVar8 = 1;
	if (*PTR_DAT_100f17e0 != '\x01') {
		puVar1 = &DAT_100fb788;
		uVar3 = (ulonglong)_DAT_100f2d6c;
		if (param_1 == 3) {
			param_3 = 1;
			goto LAB_100408b4;
		}
		if (param_1 < 3) {
			if (param_1 == 1) {
				uVar8 = 0;
				goto LAB_100408b4;
			}
		} else {
			if (param_1 == 5) {
				param_3 = 3;
				goto LAB_100408b4;
			}
			if (param_1 < 5) {
				param_3 = 2;
				goto LAB_100408b4;
			}
		}
		param_3 = 0;
		goto LAB_100408b4;
	}
	puVar1 = &DAT_100fb740;
	uVar3 = ZEXT48(PTR_PTR_LAB_100f2d70);
	if (param_1 == 3) {
		param_3 = 2;
		goto LAB_100408b4;
	}
	if (param_1 < 3) {
		if (param_1 == 1) {
			param_3 = 0;
			goto LAB_100408b4;
		}
	} else {
		if (param_1 == 5) {
			param_3 = 4;
			goto LAB_100408b4;
		}
		if (param_1 < 5) {
			param_3 = 3;
			goto LAB_100408b4;
		}
	}
	param_3 = 0;
LAB_100408b4:
	if ((int)uVar8 != 0) {
		uVar2 = gmenu_call_proc((int)puVar1, (int)uVar3, (int)param_3, uVar5, uVar7, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffc8);
		PressEscKey(uVar2, uVar3, param_3, CONCAT71(uVar4, uVar5), CONCAT71(uVar6, uVar7), param_6, param_7,
		    param_8, in_stack_ffffffc8);
	}
	return uVar8;
}

void gamemenu_off(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	gmenu_call_proc(0, 0, 0, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void gamemenu_handle_previous(int param_1, undefined8 param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	undefined7 uVar2;
	undefined uVar3;
	undefined7 uVar4;
	undefined uVar5;
	undefined7 uVar6;
	undefined uVar7;
	undefined7 uVar8;
	undefined uVar9;
	undefined4 in_stack_ffffffc8;

	uVar8 = (undefined7)((ulonglong)param_5 >> 8);
	uVar9 = (undefined)param_5;
	uVar6 = (undefined7)((ulonglong)param_4 >> 8);
	uVar7 = (undefined)param_4;
	uVar4 = (undefined7)(param_3 >> 8);
	uVar5 = (undefined)param_3;
	uVar2 = (undefined7)((ulonglong)param_2 >> 8);
	uVar3 = (undefined)param_2;
	uVar1 = gmenu_exception();
	if ((int)uVar1 == 0) {
		gamemenu_previous(param_1, CONCAT71(uVar2, uVar3), CONCAT71(uVar4, uVar5), CONCAT71(uVar6, uVar7),
		    CONCAT71(uVar8, uVar9), param_6, param_7, param_8, in_stack_ffffffc8);
	} else {
		gamemenu_off((char)uVar1, uVar3, uVar5, uVar7, uVar9, (char)param_6, (char)param_7, (char)param_8,
		    in_stack_ffffffc8);
	}
	return;
}

void FUN_10040974(void)

{
	undefined4 *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	ulonglong uVar6;
	ulonglong uVar7;
	longlong lVar8;
	undefined uVar9;
	undefined uVar10;
	ulonglong uVar11;
	undefined4 in_r10;
	undefined uVar12;
	undefined4 in_stack_ffffffb8;

	puVar4 = PTR_DAT_100f1a04;
	puVar2 = PTR_DAT_100f1828;
	uVar12 = (undefined)in_r10;
	ppuVar5 = &toc;
	uVar11 = ZEXT48(PTR_DAT_100f1828);
	uVar11._7_1_ = SUB41(PTR_DAT_100f1828, 0);
	uVar10 = 0xb;
	uVar9 = 1;
	lVar8 = uVar11 + 0x10000;
	lVar8._7_1_ = (undefined)lVar8;
	uVar7 = ZEXT48(PTR_DAT_100f1a04);
	uVar7._7_1_ = SUB41(PTR_DAT_100f1a04, 0);
	*(undefined4 *)PTR_DAT_100f1828 = 0xb;
	puVar3 = PTR_DAT_100f1914;
	uVar6 = ZEXT48(PTR_DAT_100f1914);
	uVar6._7_1_ = SUB41(PTR_DAT_100f1914, 0);
	puVar2[0x139] = 1;
	*(undefined4 *)(puVar2 + 0x55ec) = 0xb;
	puVar2[0x5725] = 1;
	*(undefined4 *)(puVar2 + 0xabd8) = 0xb;
	puVar2[0xad11] = 1;
	*(undefined4 *)(puVar2 + 0x101c4) = 0xb;
	puVar2[0x102fd] = 1;
	*(undefined4 *)puVar4 = 0;
	*(undefined4 *)puVar3 = 0xff;
	scrollrt_draw_game_screen(1, uVar6, uVar7, lVar8, 1, 0xb, uVar11, in_r10, in_stack_ffffffb8);
	puVar1 = (undefined4 *)ppuVar5[-0x1d69];
	*puVar1 = 0;
	gamemenu_off((char)puVar1, (undefined)uVar6, (undefined)uVar7, (undefined)lVar8, uVar9, uVar10,
	    (undefined)uVar11, uVar12, in_stack_ffffffb8);
	return;
}

void FUN_10040bb8(uint *param_1, uint *param_2, int param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	if (*_DAT_100f1d20 == '\0') {
		*param_2 = *param_2 & 0x3fffffff;
		param_2[1] = param_1[1];
	} else {
		*param_2 = *param_2 | 0xc0000000;
		param_2[1] = *param_1;
		FUN_10043c28(param_2, 0x11);
		FUN_10043b9c(param_2, -0x640, 0, param_3);
	}
	return;
}

void FUN_10040c48(uint *param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	FUN_10043bec(param_1, -0x640, 0);
	return;
}

void FUN_10040c70(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	ulonglong uVar2;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	uVar2 = sound_get_or_set_music_volume(&DAT_00000001, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	FUN_10040bb8((uint *)(ppuVar1 + 0xa0f), (uint *)(ppuVar1 + 0x9fd), (int)uVar2, param_4, param_5,
	    param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_10040ca4(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	ulonglong uVar2;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	uVar2 = sound_get_or_set_sound_volume(1);
	FUN_10040bb8((uint *)(ppuVar1 + 0xa11), (uint *)(ppuVar1 + 0xa00), (int)uVar2, param_4, param_5,
	    param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_10040cdc(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	ulonglong uVar2;

	ppuVar1 = &toc;
	uVar2 = FUN_1008e73c();
	ppuVar1[0xa07] = ppuVar1[((uint)uVar2 & 1) + 0xa13];
	return;
}

void FUN_10040d10(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	longlong lVar1;
	undefined uVar2;
	undefined4 in_stack_ffffffc8;

	uVar2 = 0xf;
	FUN_10043c28((uint *)0x100fb7dc, 0xf);
	lVar1 = DecreaseGamma(0, uVar2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	FUN_10043b9c((uint *)0x100fb7dc, 0x1e, 100, (int)lVar1);
	return;
}

void FUN_10040d64(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	FUN_10043bec((uint *)0x100fb7dc, 0x1e, 100);
	return;
}

void FUN_10041000(void)

{
	_DAT_100f413c = _DAT_100f4138;
	return;
}

// WARNING: Removing unreachable block (ram,0x100410a0)

void FillSolidBlockTbls(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	uint uVar3;
	uint uVar4;
	ulonglong uVar5;
	ulonglong uVar6;
	longlong lVar7;
	undefined uVar8;
	longlong lVar9;
	undefined uVar10;
	longlong lVar11;
	undefined uVar12;
	longlong lVar13;
	undefined uVar14;
	longlong lVar15;
	undefined uVar16;
	longlong lVar17;
	undefined uVar18;
	byte bVar19;
	undefined8 unaff_r27;
	ulonglong uVar20;
	undefined8 unaff_r28;
	ulonglong uVar21;
	undefined8 unaff_r29;
	ulonglong uVar22;
	undefined8 unaff_r30;
	ulonglong uVar23;
	undefined8 unaff_r31;
	ulonglong uVar24;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	int local_4c;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	int *local_28;
	uint local_24;
	undefined4 local_14;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	uVar4 = _DAT_100f1da4;
	uVar3 = _DAT_100f1da0;
	puVar2 = PTR_DAT_100f1d9c;
	puVar1 = PTR_DAT_100f1d98;
	uVar5 = ZEXT48(register0x0000000c);
	local_14 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar24 = (ulonglong)_DAT_100f1da8;
	uVar20 = ZEXT48(PTR_DAT_100f1d98);
	uVar21 = ZEXT48(PTR_DAT_100f1d9c);
	uVar22 = (ulonglong)_DAT_100f1da0;
	uVar23 = (ulonglong)_DAT_100f1da4;
	memset((char)_DAT_100f1da8, 1, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
	    (char)param_7, (char)param_8, (char)in_stack_ffffffa8, in_stack_ffffffaf, local_4c);
	memset((char)uVar4, 1, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7,
	    (char)param_8, (char)in_stack_ffffffa8, in_stack_ffffffaf, local_4c);
	memset((char)uVar3, 1, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7,
	    (char)param_8, (char)in_stack_ffffffa8, in_stack_ffffffaf, local_4c);
	memset((char)puVar2, 1, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7,
	    (char)param_8, (char)in_stack_ffffffa8, in_stack_ffffffaf, local_4c);
	lVar7 = 0x801;
	memset((char)puVar1, 1, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7,
	    (char)param_8, (char)in_stack_ffffffa8, in_stack_ffffffaf, local_4c);
	bVar19 = **(byte **)(local_4c + -0x7794);
	if (bVar19 == 2) {
		lVar7 = uVar5 - 0x24;
		lVar9 = LoadFileInMem((ulonglong) * (uint *)(local_4c + -0x6240), (undefined4 *)lVar7, param_3,
		    param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
		local_28 = (int *)lVar9;
	} else {
		if (bVar19 < 2) {
			if (bVar19 == 0) {
				lVar7 = uVar5 - 0x24;
				lVar9 = LoadFileInMem((ulonglong) * (uint *)(local_4c + -0x6238), (undefined4 *)lVar7, param_3,
				    param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
				local_28 = (int *)lVar9;
			} else {
				lVar7 = uVar5 - 0x24;
				lVar9 = LoadFileInMem((ulonglong) * (uint *)(local_4c + -0x623c), (undefined4 *)lVar7, param_3,
				    param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
				local_28 = (int *)lVar9;
			}
		} else {
			if (bVar19 == 4) {
				lVar7 = uVar5 - 0x24;
				lVar9 = LoadFileInMem((ulonglong) * (uint *)(local_4c + -0x6248), (undefined4 *)lVar7, param_3,
				    param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
				local_28 = (int *)lVar9;
			} else {
				if (bVar19 < 4) {
					lVar7 = uVar5 - 0x24;
					lVar9 = LoadFileInMem((ulonglong) * (uint *)(local_4c + -0x6244), (undefined4 *)lVar7, param_3,
					    param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
					local_28 = (int *)lVar9;
				} else {
					app_fatal(*(int *)(local_4c + -0x624c), lVar7, param_3, param_4, param_5, param_6, param_7,
					    param_8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffb8,
					    in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4, in_stack_ffffffc8,
					    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
				}
			}
		}
	}
	bVar19 = (byte)param_8;
	uVar6 = FUN_100b8f7c(ZEXT48(local_28), lVar7, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	uVar5 = (ulonglong)local_24;
	lVar9 = uVar23 + 1;
	uVar10 = (undefined)lVar9;
	lVar11 = uVar24 + 1;
	uVar12 = (undefined)lVar11;
	lVar13 = uVar21 + 1;
	uVar14 = (undefined)lVar13;
	lVar15 = uVar22 + 1;
	uVar16 = (undefined)lVar15;
	lVar17 = uVar20 + 1;
	uVar18 = (undefined)lVar17;
	lVar7 = (ulonglong) * (uint *)(local_4c + -0x723c) + 1;
	uVar8 = (undefined)lVar7;
	if (local_24 != 0) {
		do {
			bVar19 = *(byte *)uVar6;
			uVar6 = uVar6 + 1;
			if ((bVar19 & 1) != 0) {
				*(undefined *)lVar9 = 1;
			}
			if ((bVar19 & 2) != 0) {
				*(undefined *)lVar11 = 1;
			}
			if ((bVar19 & 4) != 0) {
				*(undefined *)lVar13 = 1;
			}
			if ((bVar19 & 8) != 0) {
				*(undefined *)lVar15 = 1;
			}
			if ((bVar19 & 0x80) != 0) {
				*(undefined *)lVar17 = 1;
			}
			lVar15 = lVar15 + 1;
			uVar16 = (undefined)lVar15;
			*(byte *)lVar7 = bVar19 >> 4 & 7;
			lVar17 = lVar17 + 1;
			uVar18 = (undefined)lVar17;
			lVar7 = lVar7 + 1;
			uVar8 = (undefined)lVar7;
			lVar9 = lVar9 + 1;
			uVar10 = (undefined)lVar9;
			lVar11 = lVar11 + 1;
			uVar12 = (undefined)lVar11;
			lVar13 = lVar13 + 1;
			uVar14 = (undefined)lVar13;
			uVar5 = uVar5 - 1;
		} while (uVar5 != 0);
	}
	FUN_100b9100((int)local_28, uVar8, uVar10, uVar12, uVar14, uVar16, uVar18, bVar19, in_stack_ffffffa8);
	mem_free_dbg(&local_28, uVar8, uVar10, uVar12, uVar14, uVar16, uVar18, bVar19, in_stack_ffffffa8);
	return;
}

void FUN_100411f4(int param_1, int param_2)

{
	undefined2 uVar1;
	undefined4 uVar2;
	int iVar3;
	int iVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined2 *puVar7;
	undefined2 *puVar8;
	undefined4 *puVar9;
	undefined4 *puVar10;
	undefined4 *puVar11;

	puVar6 = PTR_DAT_100f2d80;
	iVar3 = param_1 * 4;
	iVar4 = param_2 * 4;
	puVar9 = (undefined4 *)(PTR_DAT_100f1d90 + iVar4);
	uVar2 = *(undefined4 *)(PTR_DAT_100f1d90 + iVar3);
	*(undefined4 *)(PTR_DAT_100f1d90 + iVar3) = *puVar9;
	puVar5 = PTR_DAT_100f1d8c;
	puVar10 = (undefined4 *)(puVar6 + iVar3);
	puVar11 = (undefined4 *)(puVar6 + iVar4);
	*puVar9 = uVar2;
	puVar6 = PTR_DAT_100f2d7c;
	puVar8 = (undefined2 *)(puVar5 + param_2 * 2);
	puVar7 = (undefined2 *)(puVar5 + param_1 * 2);
	uVar2 = *puVar10;
	*puVar10 = *puVar11;
	puVar9 = (undefined4 *)(puVar6 + iVar3);
	puVar10 = (undefined4 *)(puVar6 + iVar4);
	*puVar11 = uVar2;
	uVar1 = *puVar7;
	*puVar7 = *puVar8;
	*puVar8 = uVar1;
	uVar2 = *puVar9;
	*puVar9 = *puVar10;
	*puVar10 = uVar2;
	return;
}

void SortTiles(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	bool bVar1;
	undefined *puVar2;
	int iVar3;
	int *piVar4;

	puVar2 = PTR_DAT_100f1d90;
	bVar1 = false;
	while ((0 < param_1 && (!bVar1))) {
		bVar1 = true;
		iVar3 = 0;
		piVar4 = (int *)puVar2;
		while (iVar3 < param_1) {
			if (*piVar4 < piVar4[1]) {
				FUN_100411f4(iVar3, iVar3 + 1);
				bVar1 = false;
			}
			piVar4 = piVar4 + 1;
			iVar3 = iVar3 + 1;
		}
		param_1 = param_1 + -1;
	}
	return;
}

void MakeSpeedCels(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	byte bVar1;
	ushort uVar2;
	longlong lVar3;
	uint uVar4;
	bool bVar5;
	bool bVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined *puVar12;
	undefined *puVar13;
	undefined *puVar14;
	longlong lVar15;
	uint uVar16;
	ulonglong uVar17;
	ulonglong uVar18;
	char *pcVar20;
	ulonglong uVar19;
	byte *pbVar21;
	ushort *puVar22;
	undefined4 *puVar24;
	ulonglong uVar23;
	undefined uVar26;
	undefined *puVar25;
	undefined2 *puVar28;
	longlong lVar27;
	undefined uVar30;
	int iVar29;
	ulonglong uVar31;
	int iVar32;
	undefined uVar33;
	longlong lVar34;
	undefined uVar35;
	char cVar36;
	ulonglong uVar37;
	undefined uVar39;
	uint uVar38;
	longlong lVar40;
	undefined uVar41;
	longlong lVar42;
	undefined uVar43;
	ulonglong uVar44;
	uint *puVar45;
	int *piVar46;
	uint *puVar47;
	int iVar48;
	ulonglong uVar49;
	int iVar50;
	short *psVar51;
	int *piVar52;
	int iVar53;
	uint uVar54;
	longlong lVar55;
	longlong lVar56;
	undefined4 in_stack_ffffff68;
	short *local_5c;
	int *local_58;

	puVar14 = PTR_DAT_100f2d80;
	puVar47 = (uint *)PTR_DAT_100f2d7c;
	puVar13 = PTR_DAT_100f1d90;
	puVar12 = PTR_DAT_100f1d8c;
	puVar11 = PTR_DAT_100f1a58;
	puVar10 = PTR_DAT_100f1a54;
	puVar9 = PTR_DAT_100f1a50;
	puVar8 = PTR_DAT_100f19e8;
	puVar7 = PTR_DAT_100f1860;
	puVar25 = PTR_DAT_100f183c;
	uVar19 = ZEXT48(&toc);
	uVar31 = 0;
	uVar44 = ZEXT48(PTR_DAT_100f1d88);
	lVar55 = 0x100;
	piVar46 = (int *)PTR_DAT_100f2d80;
	puVar24 = (undefined4 *)PTR_DAT_100f1d90;
	puVar28 = (undefined2 *)PTR_DAT_100f1d8c;
	do {
		iVar32 = (int)uVar31;
		*piVar46 = iVar32;
		lVar34 = uVar31 + 1;
		*puVar24 = 0;
		*puVar28 = 0;
		piVar46[1] = (int)lVar34;
		uVar31 = uVar31 + 8;
		puVar24[1] = 0;
		puVar28[1] = 0;
		piVar46[2] = iVar32 + 2;
		puVar24[2] = 0;
		puVar28[2] = 0;
		piVar46[3] = iVar32 + 3;
		puVar24[3] = 0;
		puVar28[3] = 0;
		piVar46[4] = iVar32 + 4;
		puVar24[4] = 0;
		puVar28[4] = 0;
		piVar46[5] = iVar32 + 5;
		puVar24[5] = 0;
		puVar28[5] = 0;
		piVar46[6] = iVar32 + 6;
		puVar24[6] = 0;
		puVar28[6] = 0;
		piVar46[7] = iVar32 + 7;
		piVar46 = piVar46 + 8;
		puVar24[7] = 0;
		puVar24 = puVar24 + 8;
		puVar28[7] = 0;
		puVar28 = puVar28 + 8;
		lVar55 = lVar55 + -1;
	} while (lVar55 != 0);
	if (*puVar25 == '\x04') {
		lVar55 = 0xc;
	} else {
		lVar55 = 10;
	}
	uVar54 = *(uint *)puVar9;
	lVar42 = 0;
	lVar40 = 0;
	do {
		lVar27 = 0;
		uVar37 = (ulonglong)uVar54;
		do {
			uVar23 = uVar37 + lVar40;
			lVar56 = lVar55;
			if ((int)lVar55 != 0) {
				do {
					uVar2 = *(ushort *)uVar23;
					uVar31 = (ulonglong)uVar2;
					if (uVar2 != 0) {
						iVar32 = ((uint)uVar2 & 0xfff) * 4;
						lVar34 = 0;
						uVar38 = ((uint)uVar2 & 0xfff) * 2;
						uVar31 = (ulonglong)uVar38;
						*(int *)(puVar13 + iVar32) = *(int *)(puVar13 + iVar32) + 1;
						*(ushort *)(puVar12 + uVar38) = uVar2 & 0x7000;
					}
					uVar23 = uVar23 + 2;
					lVar56 = lVar56 + -1;
				} while (lVar56 != 0);
			}
			lVar27 = lVar27 + 1;
			uVar37 = uVar37 + 0xe00;
		} while ((int)lVar27 < 0x70);
		lVar42 = lVar42 + 1;
		lVar40 = lVar40 + 0x20;
	} while ((int)lVar42 < 0x70);
	uVar17 = FUN_1003cdc8(*(byte **)puVar8);
	*(uint *)uVar44 = (uint)uVar17 & 0xffff;
	uVar17 = 1;
	puVar45 = puVar47;
	while (true) {
		iVar32 = (int)uVar19;
		uVar43 = (undefined)lVar42;
		uVar41 = (undefined)lVar40;
		uVar39 = (undefined)uVar37;
		uVar35 = (undefined)lVar34;
		uVar33 = (undefined)uVar31;
		uVar30 = (undefined)lVar27;
		uVar26 = (undefined)uVar23;
		puVar45 = puVar45 + 1;
		if (*(int *)uVar44 <= (int)uVar17)
			break;
		uVar23 = uVar17;
		lVar56 = FUN_1003cddc(*(int *)puVar8, (int)uVar17);
		uVar17 = uVar17 + 1;
		*puVar45 = (uint)lVar56 & 0xffff;
	}
	uVar17 = 0;
	*puVar47 = 0;
	piVar46 = (int *)puVar13;
	psVar51 = (short *)puVar12;
	puVar45 = puVar47;
	if (*puVar25 == '\x04') {
		while (true) {
			iVar32 = (int)uVar19;
			uVar43 = (undefined)lVar42;
			uVar41 = (undefined)lVar40;
			uVar39 = (undefined)uVar37;
			uVar35 = (undefined)lVar34;
			uVar33 = (undefined)uVar31;
			uVar30 = (undefined)lVar27;
			uVar26 = (undefined)uVar23;
			iVar48 = (int)uVar17;
			if (*(int *)uVar44 <= iVar48)
				break;
			if (iVar48 == 0) {
				*(undefined4 *)puVar13 = 0;
			}
			bVar5 = true;
			if (*piVar46 != 0) {
				if (*psVar51 == 0x1000) {
					uVar18 = FUN_1003cdd0(*(int *)puVar8, iVar48);
					uVar23 = 0x20;
					lVar56 = (ulonglong) * (uint *)puVar8 + uVar18;
					bVar5 = true;
					do {
						lVar27 = 0x20;
						do {
							pcVar20 = (char *)lVar56;
							lVar56 = lVar56 + 1;
							lVar15 = (longlong)*pcVar20;
							lVar3 = lVar15;
							if (-1 < lVar15) {
								lVar3 = -lVar15;
								do {
									bVar1 = *(byte *)lVar56;
									uVar31 = (ulonglong)bVar1;
									lVar56 = lVar56 + 1;
									if ((bVar1 != 0) && (bVar1 < 0x20)) {
										bVar5 = false;
									}
									lVar15 = lVar15 + -1;
								} while (lVar15 != 0);
							}
							lVar27 = lVar27 + lVar3;
						} while ((int)lVar27 != 0);
						uVar23 = uVar23 - 1;
					} while (uVar23 != 0);
				} else {
					uVar54 = *puVar45;
					uVar49 = (ulonglong)uVar54;
					uVar23 = uVar17;
					uVar18 = FUN_1003cdd0(*(int *)puVar8, iVar48);
					lVar56 = (ulonglong) * (uint *)puVar8 + uVar18;
					bVar6 = true;
					if (uVar54 != 0) {
						do {
							bVar1 = *(byte *)lVar56;
							uVar23 = (ulonglong)bVar1;
							lVar56 = lVar56 + 1;
							bVar5 = bVar6;
							if (('\0' < (char)bVar1) && (bVar5 = bVar6, (char)bVar1 < ' ')) {
								bVar5 = false;
							}
							uVar49 = uVar49 - 1;
							bVar6 = bVar5;
						} while (uVar49 != 0);
					}
				}
				if (!bVar5) {
					*piVar46 = 0;
				}
			}
			uVar17 = uVar17 + 1;
			piVar46 = piVar46 + 1;
			psVar51 = psVar51 + 1;
			puVar45 = puVar45 + 1;
		}
	}
	SortTiles(0x7ff, uVar26, uVar30, uVar33, uVar35, uVar39, uVar41, uVar43, in_stack_ffffff68);
	iVar48 = 0;
	uVar54 = 0;
	piVar46 = (int *)puVar47;
	if (**(int **)(iVar32 + -0x776c) == 0) {
		while (iVar48 < 0x100000) {
			uVar54 = uVar54 + 1;
			iVar48 = iVar48 + *piVar46 * 0xe;
			piVar46 = piVar46 + 1;
		}
	} else {
		while (iVar48 < 0x100000) {
			uVar54 = uVar54 + 1;
			iVar48 = iVar48 + *piVar46 * 2;
			piVar46 = piVar46 + 1;
		}
	}
	uVar54 = uVar54 - 1;
	if (0x80 < (int)uVar54) {
		uVar54 = 0x80;
	}
	iVar48 = 0;
	if (**(int **)(iVar32 + -0x776c) == 0) {
		uVar54 = 0xf;
	} else {
		uVar54 = 3;
	}
	piVar46 = *(int **)(iVar32 + -0x724c);
	lVar34 = 0;
	local_58 = (int *)puVar14;
	local_5c = (short *)puVar12;
	do {
		if ((int)uVar54 <= (int)lVar34) {
			uVar54 = 0;
			iVar48 = 0;
			iVar32 = 0;
			do {
				iVar53 = 0;
				iVar29 = 0;
				iVar50 = 0;
				do {
					if ((*(short *)(iVar48 + *(int *)puVar10 + iVar29) != 0) && (puVar22 = (ushort *)(*(int *)puVar9 + iVar50 + iVar32), lVar34 = lVar55, (int)lVar55 != 0)) {
						do {
							if (*puVar22 != 0) {
								uVar38 = 0;
								while (uVar16 = uVar38 & 0xffff, (int)uVar16 < (int)uVar54) {
									uVar4 = uVar38 & 0xffff;
									if (((uint)*puVar22 & 0xfff) == *(uint *)(puVar14 + (uVar38 & 0xffff) * 4)) {
										uVar38 = uVar54 & 0xffff;
										*puVar22 = *(short *)(puVar12 + uVar4 * 2) + (short)uVar16 + 0x8000;
									}
									uVar38 = uVar38 + 1;
								}
							}
							puVar22 = puVar22 + 1;
							lVar34 = lVar34 + -1;
						} while (lVar34 != 0);
					}
					iVar53 = iVar53 + 1;
					iVar50 = iVar50 + 0xe00;
					iVar29 = iVar29 + 0xe0;
				} while (iVar53 < 0x70);
				uVar54 = uVar54 + 1;
				iVar32 = iVar32 + 0x20;
				iVar48 = iVar48 + 2;
			} while (uVar54 < 0x70);
			return;
		}
		iVar32 = *local_58;
		*piVar46 = iVar32;
		if (*local_5c == 0x1000) {
			iVar50 = 1;
			iVar53 = 0x100;
			piVar52 = piVar46;
			while (piVar52 = piVar52 + 1, iVar50 < uVar54) {
				*piVar52 = iVar48;
				uVar19 = FUN_1003cdd0(*(int *)puVar8, iVar32);
				lVar42 = 0x20;
				iVar29 = *(int *)puVar7;
				lVar40 = (ulonglong) * (uint *)puVar8 + uVar19;
				pcVar20 = (char *)(*(int *)puVar11 + iVar48);
				do {
					lVar27 = 0x20;
					do {
						cVar36 = *(char *)lVar40;
						lVar40 = lVar40 + 1;
						*pcVar20 = cVar36;
						pcVar20 = pcVar20 + 1;
						if (cVar36 < '\0') {
							lVar56 = (longlong)cVar36;
						} else {
							lVar56 = -(longlong)cVar36;
							do {
								pbVar21 = (byte *)lVar40;
								cVar36 = cVar36 + -1;
								lVar40 = lVar40 + 1;
								*pcVar20 = *(char *)(iVar29 + iVar53 + (uint)*pbVar21);
								pcVar20 = pcVar20 + 1;
							} while (cVar36 != '\0');
						}
						lVar27 = lVar27 + lVar56;
					} while ((int)lVar27 != 0);
					lVar42 = lVar42 + -1;
				} while (lVar42 != 0);
				iVar53 = iVar53 + 0x100;
				iVar50 = iVar50 + 1;
				iVar48 = iVar48 + *puVar47;
			}
		} else {
			uVar38 = *puVar47;
			iVar53 = 1;
			iVar50 = 0x100;
			piVar52 = piVar46;
			while (piVar52 = piVar52 + 1, iVar53 < uVar54) {
				*piVar52 = iVar48;
				uVar19 = FUN_1003cdd0(*(int *)puVar8, iVar32);
				lVar40 = (ulonglong) * (uint *)puVar8 + uVar19;
				puVar25 = (undefined *)(*(int *)puVar11 + iVar48);
				iVar29 = *(int *)puVar7 + iVar50;
				if (uVar38 != 0) {
					uVar19 = (ulonglong)(uVar38 >> 3);
					uVar16 = uVar38;
					if (uVar38 >> 3 != 0) {
						do {
							pbVar21 = (byte *)lVar40;
							*puVar25 = *(undefined *)(iVar29 + (uint)*pbVar21);
							puVar25[1] = *(undefined *)(iVar29 + (uint)pbVar21[1]);
							puVar25[2] = *(undefined *)(iVar29 + (uint)pbVar21[2]);
							puVar25[3] = *(undefined *)(iVar29 + (uint)pbVar21[3]);
							puVar25[4] = *(undefined *)(iVar29 + (uint)pbVar21[4]);
							puVar25[5] = *(undefined *)(iVar29 + (uint)pbVar21[5]);
							puVar25[6] = *(undefined *)(iVar29 + (uint)pbVar21[6]);
							lVar40 = lVar40 + 8;
							puVar25[7] = *(undefined *)(iVar29 + (uint)pbVar21[7]);
							puVar25 = puVar25 + 8;
							uVar19 = uVar19 - 1;
						} while (uVar19 != 0);
						uVar16 = uVar38 & 7;
						if ((uVar38 & 7) == 0)
							goto LAB_100417c8;
					}
					do {
						pbVar21 = (byte *)lVar40;
						lVar40 = lVar40 + 1;
						*puVar25 = *(undefined *)(iVar29 + (uint)*pbVar21);
						puVar25 = puVar25 + 1;
						uVar16 = uVar16 - 1;
					} while (uVar16 != 0);
				}
			LAB_100417c8:
				iVar48 = iVar48 + uVar38;
				iVar50 = iVar50 + 0x100;
				iVar53 = iVar53 + 1;
			}
		}
		piVar46 = piVar46 + 0x10;
		puVar47 = puVar47 + 1;
		lVar34 = lVar34 + 1;
		local_58 = local_58 + 1;
		local_5c = local_5c + 1;
	} while (true);
}

longlong IsometricCoord(longlong param_1, int param_2)

{
	int iVar1;
	uint uVar2;
	ulonglong uVar3;

	if ((int)param_1 < 0x70 - param_2) {
		iVar1 = (int)param_1 + param_2;
		uVar2 = (int)(param_1 * 3) + iVar1 * iVar1 + param_2;
		return (param_1 * 3 & 0xffffffff00000000U | (ulonglong)(uint)((int)uVar2 >> 1)) + (ulonglong)((int)uVar2 < 0 && (uVar2 & 1) != 0);
	}
	iVar1 = (int)(0x6f - param_1) + (0x6f - param_2);
	uVar3 = (0x6f - param_1) * 3;
	uVar2 = (int)uVar3 + iVar1 * iVar1 + (0x6f - param_2);
	return 0x3100 - ((uVar3 & 0xffffffff00000000 | (ulonglong)(uint)((int)uVar2 >> 1)) + (ulonglong)((int)uVar2 < 0 && (uVar2 & 1) != 0) + 1);
}

void SetSpeedCels(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined4 uVar2;
	undefined *puVar3;
	undefined *puVar4;
	longlong lVar5;
	undefined4 *puVar6;
	undefined4 *puVar7;
	int iVar8;
	longlong lVar9;
	int iVar10;
	int iVar11;

	puVar4 = PTR_DAT_100f1a50;
	puVar3 = PTR_DAT_100f1a4c;
	lVar9 = 0;
	iVar10 = 0;
	do {
		iVar8 = 0;
		iVar11 = 0;
		do {
			iVar1 = *(int *)puVar4;
			lVar5 = IsometricCoord(lVar9, iVar8);
			puVar6 = (undefined4 *)(iVar10 + iVar1 + iVar11);
			uVar2 = puVar6[1];
			puVar7 = (undefined4 *)(*(int *)puVar3 + (int)lVar5 * 0x20);
			iVar8 = iVar8 + 1;
			iVar11 = iVar11 + 0x20;
			*puVar7 = *puVar6;
			puVar7[1] = uVar2;
			uVar2 = puVar6[3];
			puVar7[2] = puVar6[2];
			puVar7[3] = uVar2;
			uVar2 = puVar6[5];
			puVar7[4] = puVar6[4];
			puVar7[5] = uVar2;
			uVar2 = puVar6[7];
			puVar7[6] = puVar6[6];
			puVar7[7] = uVar2;
		} while (iVar8 < 0x70);
		lVar9 = lVar9 + 1;
		iVar10 = iVar10 + 0xe00;
	} while ((int)lVar9 < 0x70);
	return;
}

void SetDungeonMicros(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	short sVar1;
	uint uVar2;
	int iVar3;
	undefined *puVar4;
	int iVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined4 *puVar10;
	undefined4 *puVar11;
	undefined4 *puVar12;
	undefined4 *puVar13;
	undefined **ppuVar14;
	undefined4 uVar16;
	ulonglong uVar15;
	undefined uVar17;
	undefined uVar18;
	ulonglong uVar19;
	undefined2 *puVar21;
	longlong lVar20;
	undefined uVar22;
	longlong lVar23;
	undefined uVar24;
	longlong lVar25;
	undefined uVar26;
	longlong lVar27;
	undefined uVar28;
	longlong lVar29;
	undefined uVar30;
	longlong lVar31;
	undefined uVar32;
	int iVar33;
	int iVar34;
	ulonglong uVar35;
	longlong lVar36;
	uint uVar37;
	ulonglong uVar38;
	undefined4 in_stack_ffffff78;
	undefined in_stack_ffffff7f;
	undefined **local_7c;

	puVar13 = _DAT_100f1d78;
	puVar12 = _DAT_100f1d74;
	puVar11 = _DAT_100f1d70;
	puVar10 = _DAT_100f1d6c;
	puVar9 = PTR_DAT_100f1a60;
	puVar8 = PTR_DAT_100f1a54;
	puVar7 = PTR_DAT_100f1a50;
	puVar6 = PTR_DAT_100f183c;
	uVar18 = (undefined)param_2;
	ppuVar14 = &toc;
	if (*PTR_DAT_100f183c == '\x04') {
		*_DAT_100f1d80 = 0xc;
		uVar38 = 0x10;
	} else {
		*_DAT_100f1d80 = 10;
		uVar38 = 10;
	}
	if (*(int *)puVar7 == 0) {
		uVar16 = DiabloAllocPtr(0x62000);
		*(undefined4 *)puVar7 = uVar16;
		ppuVar14 = local_7c;
		if (*(int *)puVar7 == 0) {
			ExitProcess(0, uVar18, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7,
			    (char)param_8, (char)in_stack_ffffff78, in_stack_ffffff7f, local_7c);
			ppuVar14 = local_7c;
		}
		param_2 = 0x62000;
		memset((char)*(undefined4 *)puVar7, 0, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, (char)in_stack_ffffff78, in_stack_ffffff7f, ppuVar14);
	}
	uVar15 = FUN_100b8f7c((ulonglong) * (uint *)puVar9, param_2, param_3, param_4, param_5, param_6, param_7,
	    param_8, in_stack_ffffff78);
	lVar27 = 0;
	uVar2 = (uint)uVar38;
	iVar3 = uVar2 - 2;
	lVar29 = 0;
	uVar18 = (undefined)(uVar38 - 8);
	iVar34 = 0;
	do {
		lVar23 = 0;
		lVar25 = 0;
		iVar33 = 0;
		do {
			uVar22 = (undefined) * (uint *)puVar7;
			sVar1 = *(short *)((int)lVar27 + *(int *)puVar8 + (int)lVar23);
			lVar36 = (ulonglong) * (uint *)puVar7 + lVar25 + lVar29;
			if (sVar1 == 0) {
				lVar31 = 0;
				uVar32 = 0;
				if (uVar2 != 0) {
					if ((8 < uVar2) && (uVar19 = (ulonglong)(uVar2 - 1 >> 3), lVar20 = lVar36, 0 < (int)(uVar38 - 8))) {
						do {
							puVar21 = (undefined2 *)lVar20;
							*puVar21 = 0;
							lVar31 = lVar31 + 8;
							puVar21[1] = 0;
							puVar21[2] = 0;
							puVar21[3] = 0;
							puVar21[4] = 0;
							puVar21[5] = 0;
							puVar21[6] = 0;
							puVar21[7] = 0;
							lVar20 = lVar20 + 0x10;
							uVar19 = uVar19 - 1;
						} while (uVar19 != 0);
					}
					uVar32 = (undefined)lVar31;
					lVar36 = lVar36 + (ulonglong)(uint)((int)lVar31 << 1);
					lVar20 = uVar38 - lVar31;
					uVar22 = 0;
					if ((int)lVar31 < (int)uVar2) {
						do {
							*(undefined2 *)lVar36 = 0;
							lVar36 = lVar36 + 2;
							lVar20 = lVar20 + -1;
						} while (lVar20 != 0);
					}
				}
			} else {
				if (*puVar6 == '\x04') {
					uVar19 = (ulonglong)(uint)(((int)sVar1 + -1) * 0x20);
				} else {
					uVar19 = ((longlong)sVar1 + -1) * 0x14;
				}
				uVar32 = (undefined)(uVar15 + uVar19);
				uVar37 = 0;
				uVar22 = (char)lVar36;
				if (uVar2 != 0) {
					uVar35 = (ulonglong)(uVar2 >> 3);
					iVar5 = (int)(uVar15 + uVar19);
					uVar19 = uVar38;
					if (uVar2 >> 3 != 0) {
						do {
							puVar4 = (undefined *)(iVar5 + (iVar3 - (uVar37 & 0xe)) * 2);
							puVar21 = (undefined2 *)lVar36;
							*puVar21 = CONCAT11(puVar4[1], *puVar4);
							puVar4 = (undefined *)(iVar5 + ((uVar37 + 1 & 1) + (iVar3 - (uVar37 + 1 & 0xe))) * 2);
							puVar21[1] = CONCAT11(puVar4[1], *puVar4);
							puVar4 = (undefined *)(iVar5 + (iVar3 - (uVar37 + 2 & 0xe)) * 2);
							puVar21[2] = CONCAT11(puVar4[1], *puVar4);
							puVar4 = (undefined *)(iVar5 + ((uVar37 + 3 & 1) + (iVar3 - (uVar37 + 3 & 0xe))) * 2);
							puVar21[3] = CONCAT11(puVar4[1], *puVar4);
							puVar4 = (undefined *)(iVar5 + (iVar3 - (uVar37 + 4 & 0xe)) * 2);
							puVar21[4] = CONCAT11(puVar4[1], *puVar4);
							puVar4 = (undefined *)(iVar5 + ((uVar37 + 5 & 1) + (iVar3 - (uVar37 + 5 & 0xe))) * 2);
							puVar21[5] = CONCAT11(puVar4[1], *puVar4);
							puVar4 = (undefined *)(iVar5 + (iVar3 - (uVar37 + 6 & 0xe)) * 2);
							puVar21[6] = CONCAT11(puVar4[1], *puVar4);
							puVar4 = (undefined *)(iVar5 + ((uVar37 + 7 & 1) + (iVar3 - (uVar37 + 7 & 0xe))) * 2);
							uVar37 = uVar37 + 8;
							puVar21[7] = CONCAT11(puVar4[1], *puVar4);
							lVar36 = lVar36 + 0x10;
							uVar22 = (undefined)lVar36;
							uVar35 = uVar35 - 1;
						} while (uVar35 != 0);
						uVar19 = uVar38 & 7;
						if (uVar19 == 0)
							goto LAB_10041dfc;
					}
					do {
						puVar4 = (undefined *)(iVar5 + ((uVar37 & 1) + (iVar3 - (uVar37 & 0xe))) * 2);
						uVar37 = uVar37 + 1;
						*(undefined2 *)lVar36 = CONCAT11(puVar4[1], *puVar4);
						lVar36 = lVar36 + 2;
						uVar22 = (undefined)lVar36;
						uVar19 = uVar19 - 1;
					} while (uVar19 != 0);
				}
			}
		LAB_10041dfc:
			iVar33 = iVar33 + 1;
			lVar25 = lVar25 + 0xe00;
			uVar26 = 0;
			lVar23 = lVar23 + 0xe0;
			uVar24 = (undefined)lVar23;
		} while (iVar33 < 0x70);
		iVar34 = iVar34 + 1;
		lVar29 = lVar29 + 0x20;
		uVar30 = (undefined)lVar29;
		lVar27 = lVar27 + 2;
		uVar28 = (undefined)lVar27;
		if (0x6f < iVar34) {
			uVar17 = FUN_100b9100(*(int *)puVar9, uVar18, uVar22, uVar24, 0, uVar28, uVar30, uVar32,
			    in_stack_ffffff78);
			uVar17 = MakeSpeedCels(uVar17, uVar18, uVar22, uVar24, uVar26, uVar28, uVar30, uVar32,
			    in_stack_ffffff78);
			SetSpeedCels(uVar17, uVar18, uVar22, uVar24, uVar26, uVar28, uVar30, uVar32, in_stack_ffffff78);
			if (ppuVar14[0xa15] != (undefined *)0x0) {
				uVar2 = *(uint *)puVar7;
				*(undefined4 *)puVar7 = 0;
				mem_free_dbg((ulonglong)uVar2, uVar18, uVar22, uVar24, uVar26, uVar28, uVar30, uVar32,
				    in_stack_ffffff78);
				*(undefined4 *)puVar7 = 0;
			}
			if (*(int *)ppuVar14[-0x1d9b] == 0) {
				*puVar13 = 0x180;
				*puVar12 = 0xe0;
				*puVar11 = 6;
				*puVar10 = 7;
			} else {
				*puVar13 = 0x280;
				*puVar12 = 0x160;
				*puVar11 = 10;
				*puVar10 = 0xb;
			}
			return;
		}
	} while (true);
}

void DRLG_InitTrans(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	int local_2c;

	memset((char)*(undefined4 *)PTR_DAT_100f1a48, 0, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	memset((char)*(undefined4 *)(local_2c + -0x7268), 0, param_3, param_4, param_5, param_6, param_7,
	    param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	**(undefined **)(local_2c + -0x7518) = 1;
	return;
}

void DRLG_MRectTrans(int param_1, int param_2, int param_3, int param_4)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	ulonglong uVar4;
	uint uVar5;
	int iVar6;
	int iVar7;
	int iVar8;

	puVar3 = PTR_DAT_100f1ab8;
	puVar2 = PTR_DAT_100f1a48;
	iVar7 = param_2 * 2 + 0x11;
	iVar8 = param_1 * 2 + 0x11;
	do {
		if (param_4 * 2 + 0x10 < iVar7) {
			*puVar3 = *puVar3 + '\x01';
			return;
		}
		iVar6 = iVar8 * 0x70;
		uVar5 = (param_3 * 2 + 0x11) - iVar8;
		if (iVar8 <= param_3 * 2 + 0x10) {
			uVar4 = (ulonglong)(uVar5 >> 3);
			if (uVar5 >> 3 != 0) {
				do {
					*(undefined *)(iVar7 + *(int *)puVar2 + iVar6) = *puVar3;
					*(undefined *)(iVar7 + *(int *)puVar2 + iVar6 + 0x70) = *puVar3;
					*(undefined *)(iVar7 + *(int *)puVar2 + iVar6 + 0xe0) = *puVar3;
					*(undefined *)(iVar7 + *(int *)puVar2 + iVar6 + 0x150) = *puVar3;
					*(undefined *)(iVar7 + *(int *)puVar2 + iVar6 + 0x1c0) = *puVar3;
					*(undefined *)(iVar7 + *(int *)puVar2 + iVar6 + 0x230) = *puVar3;
					iVar1 = iVar6 + 0x310;
					*(undefined *)(iVar7 + *(int *)puVar2 + iVar6 + 0x2a0) = *puVar3;
					iVar6 = iVar6 + 0x380;
					*(undefined *)(iVar7 + *(int *)puVar2 + iVar1) = *puVar3;
					uVar4 = uVar4 - 1;
				} while (uVar4 != 0);
				uVar5 = uVar5 & 7;
				if (uVar5 == 0)
					goto LAB_10042034;
			}
			do {
				iVar1 = *(int *)puVar2 + iVar6;
				iVar6 = iVar6 + 0x70;
				*(undefined *)(iVar7 + iVar1) = *puVar3;
				uVar5 = uVar5 - 1;
			} while (uVar5 != 0);
		}
	LAB_10042034:
		iVar7 = iVar7 + 1;
	} while (true);
}

void DRLG_RectTrans(int param_1, int param_2, int param_3, int param_4)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	ulonglong uVar4;
	uint uVar5;
	int iVar6;

	puVar3 = PTR_DAT_100f1ab8;
	puVar2 = PTR_DAT_100f1a48;
	do {
		if (param_4 < param_2) {
			*puVar3 = *puVar3 + '\x01';
			return;
		}
		iVar6 = param_1 * 0x70;
		uVar5 = (param_3 + 1) - param_1;
		if (param_1 <= param_3) {
			uVar4 = (ulonglong)(uVar5 >> 3);
			if (uVar5 >> 3 != 0) {
				do {
					*(undefined *)(param_2 + *(int *)puVar2 + iVar6) = *puVar3;
					*(undefined *)(param_2 + *(int *)puVar2 + iVar6 + 0x70) = *puVar3;
					*(undefined *)(param_2 + *(int *)puVar2 + iVar6 + 0xe0) = *puVar3;
					*(undefined *)(param_2 + *(int *)puVar2 + iVar6 + 0x150) = *puVar3;
					*(undefined *)(param_2 + *(int *)puVar2 + iVar6 + 0x1c0) = *puVar3;
					*(undefined *)(param_2 + *(int *)puVar2 + iVar6 + 0x230) = *puVar3;
					iVar1 = iVar6 + 0x310;
					*(undefined *)(param_2 + *(int *)puVar2 + iVar6 + 0x2a0) = *puVar3;
					iVar6 = iVar6 + 0x380;
					*(undefined *)(param_2 + *(int *)puVar2 + iVar1) = *puVar3;
					uVar4 = uVar4 - 1;
				} while (uVar4 != 0);
				uVar5 = uVar5 & 7;
				if (uVar5 == 0)
					goto LAB_10042144;
			}
			do {
				iVar1 = *(int *)puVar2 + iVar6;
				iVar6 = iVar6 + 0x70;
				*(undefined *)(param_2 + iVar1) = *puVar3;
				uVar5 = uVar5 - 1;
			} while (uVar5 != 0);
		}
	LAB_10042144:
		param_2 = param_2 + 1;
	} while (true);
}

void FUN_10042160(int param_1, int param_2, int param_3, int param_4)

{
	*(undefined *)(*(int *)PTR_DAT_100f1a48 + param_3 * 0x70 + param_4) = *(undefined *)(*(int *)PTR_DAT_100f1a48 + param_1 * 0x70 + param_2);
	return;
}

void DRLG_ListTrans(int param_1, byte *param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	byte bVar1;
	byte *pbVar2;
	byte *pbVar3;
	byte *pbVar4;
	int iVar5;

	iVar5 = 0;
	while (iVar5 < param_1) {
		bVar1 = *param_2;
		pbVar2 = param_2 + 1;
		pbVar3 = param_2 + 2;
		pbVar4 = param_2 + 3;
		param_2 = param_2 + 4;
		DRLG_RectTrans((uint)bVar1, (uint)*pbVar2, (uint)*pbVar3, (uint)*pbVar4);
		iVar5 = iVar5 + 1;
	}
	return;
}

void DRLG_AreaTrans(int param_1, byte *param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	byte bVar1;
	byte *pbVar2;
	byte *pbVar3;
	byte *pbVar4;
	undefined *puVar5;
	int iVar6;

	puVar5 = PTR_DAT_100f1ab8;
	iVar6 = 0;
	while (iVar6 < param_1) {
		bVar1 = *param_2;
		pbVar2 = param_2 + 1;
		pbVar3 = param_2 + 2;
		pbVar4 = param_2 + 3;
		param_2 = param_2 + 4;
		DRLG_RectTrans((uint)bVar1, (uint)*pbVar2, (uint)*pbVar3, (uint)*pbVar4);
		iVar6 = iVar6 + 1;
		*puVar5 = *puVar5 + -1;
	}
	*puVar5 = *puVar5 + '\x01';
	return;
}

void DRLG_InitSetPC(void)

{
	undefined *puVar1;
	undefined *puVar2;

	puVar1 = PTR_DAT_100f1a80;
	*(undefined4 *)PTR_DAT_100f1a84 = 0;
	puVar2 = PTR_DAT_100f1a7c;
	*(undefined4 *)puVar1 = 0;
	puVar1 = PTR_DAT_100f1a78;
	*(undefined4 *)puVar2 = 0;
	*(undefined4 *)puVar1 = 0;
	return;
}

void DRLG_SetPC(void)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	int iVar4;
	int iVar5;
	int iVar6;
	int iVar7;
	int iVar8;
	ulonglong uVar9;
	int iVar10;
	int iVar11;

	puVar3 = PTR_DAT_100f1834;
	iVar7 = 0;
	iVar1 = *(int *)PTR_DAT_100f1a78;
	iVar2 = *(int *)PTR_DAT_100f1a7c * 2;
	iVar4 = *(int *)PTR_DAT_100f1a84 * 2 + 0x10;
	iVar8 = *(int *)PTR_DAT_100f1a80 * 2 + 0x10;
	while (iVar7 < iVar1 << 1) {
		iVar6 = 0;
		if (0 < iVar2) {
			if (8 < iVar2) {
				uVar9 = (ulonglong)(iVar2 - 1U >> 3);
				iVar5 = iVar8 + iVar7;
				if (0 < iVar2 + -8) {
					do {
						iVar10 = iVar4 + iVar6;
						iVar11 = *(int *)puVar3 + iVar10 * 0x70;
						*(byte *)(iVar5 + iVar11) = *(byte *)(iVar5 + iVar11) | 8;
						iVar6 = iVar6 + 8;
						iVar11 = *(int *)puVar3 + (iVar10 + 1) * 0x70;
						*(byte *)(iVar5 + iVar11) = *(byte *)(iVar5 + iVar11) | 8;
						iVar11 = *(int *)puVar3 + (iVar10 + 2) * 0x70;
						*(byte *)(iVar5 + iVar11) = *(byte *)(iVar5 + iVar11) | 8;
						iVar11 = *(int *)puVar3 + (iVar10 + 3) * 0x70;
						*(byte *)(iVar5 + iVar11) = *(byte *)(iVar5 + iVar11) | 8;
						iVar11 = *(int *)puVar3 + (iVar10 + 4) * 0x70;
						*(byte *)(iVar5 + iVar11) = *(byte *)(iVar5 + iVar11) | 8;
						iVar11 = *(int *)puVar3 + (iVar10 + 5) * 0x70;
						*(byte *)(iVar5 + iVar11) = *(byte *)(iVar5 + iVar11) | 8;
						iVar11 = *(int *)puVar3 + (iVar10 + 6) * 0x70;
						*(byte *)(iVar5 + iVar11) = *(byte *)(iVar5 + iVar11) | 8;
						iVar10 = *(int *)puVar3 + (iVar10 + 7) * 0x70;
						*(byte *)(iVar5 + iVar10) = *(byte *)(iVar5 + iVar10) | 8;
						uVar9 = uVar9 - 1;
					} while (uVar9 != 0);
				}
			}
			iVar10 = iVar8 + iVar7;
			iVar5 = iVar2 - iVar6;
			if (iVar6 < iVar2) {
				do {
					iVar11 = iVar4 + iVar6;
					iVar6 = iVar6 + 1;
					iVar11 = *(int *)puVar3 + iVar11 * 0x70;
					*(byte *)(iVar10 + iVar11) = *(byte *)(iVar10 + iVar11) | 8;
					iVar5 = iVar5 + -1;
				} while (iVar5 != 0);
			}
		}
		iVar7 = iVar7 + 1;
	}
	return;
}

void FUN_10042458(int param_1, int param_2, int param_3, int param_4)

{
	undefined *puVar1;
	int iVar2;
	int iVar3;
	int iVar4;
	int iVar5;
	int iVar6;
	ulonglong uVar7;
	int iVar8;
	int iVar9;

	puVar1 = PTR_DAT_100f1834;
	param_3 = param_3 * 2;
	iVar2 = param_1 * 2 + 0x10;
	iVar6 = param_2 * 2 + 0x10;
	iVar5 = 0;
	while (iVar5 < param_4 << 1) {
		iVar4 = 0;
		if (0 < param_3) {
			if (8 < param_3) {
				uVar7 = (ulonglong)(param_3 - 1U >> 3);
				iVar3 = iVar6 + iVar5;
				if (0 < param_3 + -8) {
					do {
						iVar8 = iVar2 + iVar4;
						iVar9 = *(int *)puVar1 + iVar8 * 0x70;
						*(byte *)(iVar3 + iVar9) = *(byte *)(iVar3 + iVar9) | 8;
						iVar4 = iVar4 + 8;
						iVar9 = *(int *)puVar1 + (iVar8 + 1) * 0x70;
						*(byte *)(iVar3 + iVar9) = *(byte *)(iVar3 + iVar9) | 8;
						iVar9 = *(int *)puVar1 + (iVar8 + 2) * 0x70;
						*(byte *)(iVar3 + iVar9) = *(byte *)(iVar3 + iVar9) | 8;
						iVar9 = *(int *)puVar1 + (iVar8 + 3) * 0x70;
						*(byte *)(iVar3 + iVar9) = *(byte *)(iVar3 + iVar9) | 8;
						iVar9 = *(int *)puVar1 + (iVar8 + 4) * 0x70;
						*(byte *)(iVar3 + iVar9) = *(byte *)(iVar3 + iVar9) | 8;
						iVar9 = *(int *)puVar1 + (iVar8 + 5) * 0x70;
						*(byte *)(iVar3 + iVar9) = *(byte *)(iVar3 + iVar9) | 8;
						iVar9 = *(int *)puVar1 + (iVar8 + 6) * 0x70;
						*(byte *)(iVar3 + iVar9) = *(byte *)(iVar3 + iVar9) | 8;
						iVar8 = *(int *)puVar1 + (iVar8 + 7) * 0x70;
						*(byte *)(iVar3 + iVar8) = *(byte *)(iVar3 + iVar8) | 8;
						uVar7 = uVar7 - 1;
					} while (uVar7 != 0);
				}
			}
			iVar8 = iVar6 + iVar5;
			iVar3 = param_3 - iVar4;
			if (iVar4 < param_3) {
				do {
					iVar9 = iVar2 + iVar4;
					iVar4 = iVar4 + 1;
					iVar9 = *(int *)puVar1 + iVar9 * 0x70;
					*(byte *)(iVar8 + iVar9) = *(byte *)(iVar8 + iVar9) | 8;
					iVar3 = iVar3 + -1;
				} while (iVar3 != 0);
			}
		}
		iVar5 = iVar5 + 1;
	}
	return;
}

undefined8
DRLG_WillThemeRoomFit(uint param_1, int param_2, int param_3, longlong param_4, int param_5, int *param_6,
    int *param_7, undefined param_8, undefined4 param_9)

{
	bool bVar1;
	bool bVar2;
	undefined *puVar3;
	int iVar4;
	ulonglong uVar5;
	undefined8 uVar6;
	longlong lVar7;
	longlong lVar8;
	int iVar10;
	longlong lVar9;
	undefined uVar12;
	longlong lVar11;
	undefined uVar14;
	byte *pbVar13;
	undefined uVar16;
	undefined *puVar15;
	undefined uVar17;
	int iVar18;
	int iVar19;
	int iVar20;
	int iVar21;
	undefined4 in_stack_fffffef8;
	int local_d8;
	int local_88;

	puVar3 = PTR_DAT_100f1804;
	uVar12 = (undefined)param_4;
	uVar17 = SUB41(param_7, 0);
	uVar16 = SUB41(param_6, 0);
	uVar14 = (undefined)param_5;
	uVar5 = ZEXT48(register0x0000000c);
	iVar21 = 0;
	iVar20 = 0;
	bVar2 = true;
	bVar1 = true;
	if ((0x28 - param_5 < param_2) && (0x28 - param_5 < param_3)) {
		uVar6 = 0;
	} else {
		uVar6 = SkipThemeRoom(param_2, param_3);
		if ((int)uVar6 == 0) {
			uVar6 = 0;
		} else {
			memset(uVar5 - 0x88, 0, 0x50, uVar12, uVar14, uVar16, uVar17, param_8, in_stack_fffffef8);
			memset(uVar5 - 0xd8, 0, 0x50, uVar12, uVar14, uVar16, uVar17, param_8, in_stack_fffffef8);
			lVar7 = uVar5 - 0x88;
			lVar8 = uVar5 - 0xd8;
			puVar15 = puVar3 + param_3;
			iVar10 = 0;
			lVar9 = lVar7;
			lVar11 = lVar8;
			while (iVar19 = (int)param_4, iVar10 < param_5) {
				if (bVar1) {
					pbVar13 = puVar15 + param_2 * 0x28;
					iVar4 = (param_2 + param_5) - param_2;
					iVar18 = param_2;
					if (param_2 < param_2 + param_5) {
						do {
							if (param_1 == (uint)*pbVar13) {
								iVar21 = iVar21 + 1;
							} else {
								if (iVar19 <= iVar18)
									break;
								bVar1 = false;
							}
							pbVar13 = pbVar13 + 0x28;
							iVar18 = iVar18 + 1;
							iVar4 = iVar4 + -1;
						} while (iVar4 != 0);
					}
					if (bVar1) {
						*(int *)lVar9 = iVar21;
						iVar21 = 0;
					}
				}
				if (bVar2) {
					iVar4 = (param_3 + param_5) - param_3;
					pbVar13 = puVar3 + (param_2 + iVar10) * 0x28 + param_3;
					iVar18 = param_3;
					if (param_3 < param_3 + param_5) {
						do {
							if (param_1 == (uint)*pbVar13) {
								iVar20 = iVar20 + 1;
							} else {
								if (iVar19 <= iVar18)
									break;
								bVar2 = false;
							}
							pbVar13 = pbVar13 + 1;
							iVar18 = iVar18 + 1;
							iVar4 = iVar4 + -1;
						} while (iVar4 != 0);
					}
					if (bVar2) {
						*(int *)lVar11 = iVar20;
						iVar20 = 0;
					}
				}
				puVar15 = puVar15 + 1;
				lVar9 = lVar9 + 4;
				lVar11 = lVar11 + 4;
				iVar10 = iVar10 + 1;
			}
			lVar9 = lVar7;
			lVar11 = lVar8;
			if (0 < iVar19) {
				do {
					if ((*(int *)lVar9 < iVar19) || (*(int *)lVar11 < iVar19)) {
						return 0;
					}
					lVar9 = lVar9 + 4;
					lVar11 = lVar11 + 4;
					param_4 = param_4 + -1;
				} while (param_4 != 0);
			}
			if (0 < param_5) {
				do {
					iVar20 = *(int *)lVar7;
					if ((iVar20 < iVar19) || (iVar21 = *(int *)lVar8, iVar21 < iVar19))
						break;
					if (iVar20 < local_88) {
						local_88 = iVar20;
					}
					if (iVar21 < local_d8) {
						local_d8 = iVar21;
					}
					lVar7 = lVar7 + 4;
					lVar8 = lVar8 + 4;
					param_5 = param_5 + -1;
				} while (param_5 != 0);
			}
			*param_6 = local_88 + -2;
			uVar6 = 1;
			*param_7 = local_d8 + -2;
		}
	}
	return uVar6;
}

void DRLG_CreateThemeRoom(int param_1, undefined param_2, char param_3, char param_4, char param_5, char param_6,
    undefined param_7, undefined param_8, undefined4 param_9)

{
	char cVar1;
	uint uVar2;
	uint uVar3;
	uint *puVar4;
	uint *puVar5;
	int iVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	longlong lVar10;
	ulonglong uVar11;
	uint uVar12;
	longlong lVar13;
	undefined *puVar14;
	int iVar15;
	int iVar16;
	undefined uVar17;
	longlong lVar18;
	uint uVar19;
	undefined uVar20;
	longlong lVar21;
	uint uVar23;
	longlong lVar22;
	undefined uVar24;
	longlong lVar25;
	undefined uVar26;
	undefined uVar27;
	ulonglong uVar28;
	int iVar29;
	uint uVar30;
	longlong lVar31;
	ulonglong uVar32;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	puVar9 = PTR_DAT_100f1d64;
	puVar8 = PTR_DAT_100f183c;
	puVar7 = PTR_DAT_100f1804;
	lVar21 = (longlong)param_6;
	lVar18 = (longlong)param_5;
	lVar22 = (longlong)param_4;
	lVar31 = (longlong)param_1 * 0x14;
	uVar32 = ZEXT48(PTR_DAT_100f1d64);
	iVar6 = (int)lVar31;
	puVar5 = (uint *)(PTR_DAT_100f1d64 + iVar6);
	puVar4 = (uint *)(PTR_DAT_100f1d64 + iVar6 + 4);
	uVar11 = (ulonglong)*puVar4;
	lVar25 = ZEXT48(PTR_DAT_100f1804) + uVar11;
	while (true) {
		uVar20 = (undefined)lVar18;
		uVar26 = (undefined)lVar25;
		uVar24 = (undefined)lVar21;
		uVar17 = (undefined)lVar22;
		uVar3 = puVar5[1];
		uVar27 = (undefined)uVar3;
		iVar29 = uVar3 + puVar5[4];
		uVar12 = (uint)uVar11;
		if (iVar29 <= (int)uVar12)
			break;
		uVar2 = *puVar5;
		uVar28 = (ulonglong)uVar2;
		lVar18 = (ulonglong)puVar5[4] + (ulonglong)uVar3 + -1;
		lVar22 = uVar28 + (ulonglong)puVar5[3];
		param_3 = *puVar8;
		iVar16 = (int)lVar22;
		lVar21 = lVar22 + -1;
		lVar10 = lVar22 - uVar28;
		lVar13 = lVar25 + uVar28 * 0x28;
		if ((int)uVar2 < iVar16) {
			do {
				uVar19 = (uint)lVar18;
				uVar30 = (uint)uVar28;
				uVar23 = (uint)lVar21;
				puVar14 = (undefined *)lVar13;
				if (param_3 == '\x02') {
					if ((((uVar12 == uVar3) && ((int)uVar2 <= (int)uVar30)) && ((int)uVar30 <= iVar16)) || (((uVar12 == uVar19 && ((int)uVar2 <= (int)uVar30)) && ((int)uVar30 <= iVar16)))) {
						*puVar14 = 2;
					} else {
						if ((((uVar30 == uVar2) && ((int)uVar3 <= (int)uVar12)) && ((int)uVar12 <= iVar29)) || (((uVar30 == uVar23 && ((int)uVar3 <= (int)uVar12)) && ((int)uVar12 <= iVar29)))) {
							*puVar14 = 1;
						} else {
							*puVar14 = 3;
						}
					}
				}
				if (param_3 == '\x03') {
					if ((((uVar12 == uVar3) && ((int)uVar2 <= (int)uVar30)) && ((int)uVar30 <= iVar16)) || (((uVar12 == uVar19 && ((int)uVar2 <= (int)uVar30)) && ((int)uVar30 <= iVar16)))) {
						*puVar14 = 0x86;
					} else {
						if ((((uVar30 == uVar2) && ((int)uVar3 <= (int)uVar12)) && ((int)uVar12 <= iVar29)) || (((uVar30 == uVar23 && ((int)uVar3 <= (int)uVar12)) && ((int)uVar12 <= iVar29)))) {
							*puVar14 = 0x89;
						} else {
							*puVar14 = 7;
						}
					}
				}
				if (param_3 == '\x04') {
					if ((((uVar12 == uVar3) && ((int)uVar2 <= (int)uVar30)) && ((int)uVar30 <= iVar16)) || (((uVar12 == uVar19 && ((int)uVar2 <= (int)uVar30)) && ((int)uVar30 <= iVar16)))) {
						*puVar14 = 2;
					} else {
						if ((((uVar30 == uVar2) && ((int)uVar3 <= (int)uVar12)) && ((int)uVar12 <= iVar29)) || (((uVar30 == uVar23 && ((int)uVar3 <= (int)uVar12)) && ((int)uVar12 <= iVar29)))) {
							*puVar14 = 1;
						} else {
							*puVar14 = 6;
						}
					}
				}
				lVar13 = lVar13 + 0x28;
				uVar28 = uVar28 + 1;
				lVar10 = lVar10 + -1;
			} while (lVar10 != 0);
		}
		lVar25 = lVar25 + 1;
		uVar11 = uVar11 + 1;
	}
	cVar1 = *puVar8;
	if (cVar1 == '\x02') {
		uVar3 = *puVar5;
		uVar27 = (undefined)uVar3;
		uVar12 = *puVar4;
		uVar26 = (undefined)uVar12;
		lVar22 = (ulonglong)uVar3 * 0x28 + (ulonglong)uVar12;
		uVar24 = (undefined)lVar22;
		puVar7[(int)lVar22] = 8;
		uVar17 = 9;
		iVar29 = (*(int *)(puVar9 + iVar6 + 0xc) + uVar3 + -1) * 0x28 + uVar12;
		puVar7[iVar29] = 7;
		uVar3 = *(uint *)(puVar9 + iVar6 + 0x10);
		uVar20 = (undefined)uVar3;
		param_3 = (char)(lVar22 + (ulonglong)uVar3);
		(puVar7 + -1)[(int)(lVar22 + (ulonglong)uVar3)] = 9;
		(puVar7 + -1)[iVar29 + uVar3] = 6;
	}
	if (cVar1 == '\x03') {
		uVar3 = *puVar5;
		uVar27 = (undefined)uVar3;
		uVar12 = *puVar4;
		uVar26 = (undefined)uVar12;
		lVar22 = (ulonglong)uVar3 * 0x28 + (ulonglong)uVar12;
		uVar24 = (undefined)lVar22;
		puVar7[(int)lVar22] = 0x96;
		uVar17 = 0x98;
		iVar29 = (*(int *)(puVar9 + iVar6 + 0xc) + uVar3 + -1) * 0x28 + uVar12;
		puVar7[iVar29] = 0x97;
		uVar3 = *(uint *)(puVar9 + iVar6 + 0x10);
		uVar20 = (undefined)uVar3;
		param_3 = (char)(lVar22 + (ulonglong)uVar3);
		(puVar7 + -1)[(int)(lVar22 + (ulonglong)uVar3)] = 0x98;
		(puVar7 + -1)[iVar29 + uVar3] = 0x8a;
	}
	if (cVar1 == '\x04') {
		uVar3 = *puVar5;
		uVar27 = (undefined)uVar3;
		uVar12 = *puVar4;
		uVar26 = (undefined)uVar12;
		lVar22 = (ulonglong)uVar3 * 0x28 + (ulonglong)uVar12;
		uVar24 = (undefined)lVar22;
		puVar7[(int)lVar22] = 9;
		uVar17 = 0xf;
		iVar29 = (*(int *)(puVar9 + iVar6 + 0xc) + uVar3 + -1) * 0x28 + uVar12;
		puVar7[iVar29] = 0x10;
		uVar3 = *(uint *)(puVar9 + iVar6 + 0x10);
		uVar20 = (undefined)uVar3;
		param_3 = (char)(lVar22 + (ulonglong)uVar3);
		(puVar7 + -1)[(int)(lVar22 + (ulonglong)uVar3)] = 0xf;
		(puVar7 + -1)[iVar29 + uVar3] = 0xc;
	}
	if (cVar1 == '\x02') {
		lVar22 = random(0, 2, param_3, uVar17, uVar20, uVar24, uVar26, uVar27, in_stack_ffffffa8,
		    in_stack_ffffffaf, in_stack_ffffffbb);
		iVar29 = (int)lVar22;
		if (iVar29 == 1) {
			lVar22 = uVar32 + lVar31;
			param_3 = (char)lVar22;
			uVar17 = (undefined)*puVar5;
			iVar29 = (int)lVar22;
			uVar3 = *(uint *)(iVar29 + 0xc);
			uVar20 = 5;
			puVar7[*(int *)(iVar29 + 0x10) + *puVar4 + (*puVar5 + ((int)uVar3 >> 1) + (uint)((int)uVar3 < 0 && (uVar3 & 1) != 0)) * 0x28 + -1] = 5;
		} else {
			if ((iVar29 < 1) && (-1 < iVar29)) {
				param_3 = (char)*puVar5;
				uVar17 = 4;
				uVar3 = *(uint *)(puVar9 + iVar6 + 0x10);
				puVar7[(*(int *)(puVar9 + iVar6 + 0xc) + *puVar5 + -1) * 0x28 + *puVar4 + ((int)uVar3 >> 1) + (uint)((int)uVar3 < 0 && (uVar3 & 1) != 0)] = 4;
			}
		}
	}
	if (*puVar8 == '\x03') {
		lVar22 = random(0, 2, param_3, uVar17, uVar20, uVar24, uVar26, uVar27, in_stack_ffffffa8,
		    in_stack_ffffffaf, in_stack_ffffffbb);
		iVar29 = (int)lVar22;
		if (iVar29 == 1) {
			lVar31 = uVar32 + lVar31;
			param_3 = (char)lVar31;
			uVar17 = (undefined)*puVar5;
			iVar29 = (int)lVar31;
			uVar3 = *(uint *)(iVar29 + 0xc);
			uVar20 = 0x92;
			puVar7[*(int *)(iVar29 + 0x10) + *puVar4 + (*puVar5 + ((int)uVar3 >> 1) + (uint)((int)uVar3 < 0 && (uVar3 & 1) != 0)) * 0x28 + -1] = 0x92;
		} else {
			if ((iVar29 < 1) && (-1 < iVar29)) {
				param_3 = (char)*puVar5;
				uVar17 = 0x93;
				uVar3 = *(uint *)(puVar9 + iVar6 + 0x10);
				puVar7[(*(int *)(puVar9 + iVar6 + 0xc) + *puVar5 + -1) * 0x28 + *puVar4 + ((int)uVar3 >> 1) + (uint)((int)uVar3 < 0 && (uVar3 & 1) != 0)] = 0x93;
			}
		}
	}
	if (*puVar8 == '\x04') {
		lVar31 = random(0, 2, param_3, uVar17, uVar20, uVar24, uVar26, uVar27, in_stack_ffffffa8,
		    in_stack_ffffffaf, in_stack_ffffffbb);
		iVar29 = (int)lVar31;
		if (iVar29 == 1) {
			uVar3 = *(uint *)(puVar9 + iVar6 + 0xc);
			puVar7 = puVar7 + *(int *)(puVar9 + iVar6 + 0x10) + *puVar4 + (*puVar5 + ((int)uVar3 >> 1) + (uint)((int)uVar3 < 0 && (uVar3 & 1) != 0)) * 0x28;
			puVar7[-0x29] = 0x39;
			puVar7[-1] = 6;
			puVar7[0x27] = 0x38;
			puVar7[-2] = 0x3b;
			puVar7[-0x2a] = 0x3a;
		} else {
			if ((iVar29 < 1) && (-1 < iVar29)) {
				uVar3 = *(uint *)(puVar9 + iVar6 + 0x10);
				iVar16 = *(int *)(puVar9 + iVar6 + 0xc) + *puVar5;
				iVar15 = (iVar16 + -1) * 0x28;
				uVar12 = *puVar4;
				iVar29 = ((int)uVar3 >> 1) + (uint)((int)uVar3 < 0 && (uVar3 & 1) != 0);
				iVar6 = iVar15 + uVar12 + iVar29;
				(puVar7 + -1)[iVar6] = 0x35;
				puVar7[iVar6] = 6;
				puVar7[iVar29 + uVar12 + iVar15 + 1] = 0x34;
				(puVar7 + -1)[(iVar16 + -2) * 0x28 + uVar12 + iVar29] = 0x36;
			}
		}
	}
	return;
}

void DRLG_PlaceThemeRooms(longlong param_1, int param_2, uint param_3, longlong param_4, int param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	char cVar1;
	int iVar2;
	int iVar3;
	uint uVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	uint uVar9;
	undefined **ppuVar10;
	longlong lVar11;
	undefined8 uVar12;
	int *piVar13;
	longlong lVar14;
	undefined uVar15;
	undefined uVar17;
	longlong lVar16;
	longlong lVar18;
	longlong lVar19;
	longlong lVar20;
	longlong lVar21;
	byte *pbVar22;
	longlong lVar23;
	longlong lVar24;
	int iVar25;
	byte *pbVar26;
	ulonglong uVar27;
	undefined4 in_stack_ffffff78;
	undefined in_stack_ffffff7f;
	undefined in_stack_ffffff8b;
	uint local_58;
	uint local_54;

	puVar8 = PTR_DAT_100f1d64;
	puVar7 = PTR_DAT_100f1d60;
	puVar6 = PTR_DAT_100f1ab8;
	puVar5 = PTR_DAT_100f183c;
	lVar21 = (longlong)param_8;
	lVar20 = (longlong)param_7;
	lVar19 = (longlong)param_6;
	lVar18 = (longlong)param_5;
	ppuVar10 = &toc;
	uVar27 = ZEXT48(PTR_DAT_100f1d64);
	lVar14 = 0x14;
	*(undefined4 *)PTR_DAT_100f1d60 = 0;
	lVar16 = param_4;
	memset(uVar27, 0, 0x14, (char)param_4, (char)param_5, param_6, param_7, param_8, in_stack_ffffff78);
	pbVar22 = ppuVar10[-0x1df3];
	lVar23 = param_1 + -2;
	lVar24 = 0;
	do {
		iVar3 = (int)lVar24;
		iVar25 = 0;
		pbVar26 = pbVar22;
		do {
			if ((param_3 == (uint)*pbVar26) && (lVar11 = random(0, param_4, (char)lVar14, (char)lVar16, (char)lVar18, (char)lVar19, (char)lVar20, (char)lVar21, in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8b), (int)lVar11 == 0)) {
				lVar19 = ZEXT48(register0x0000000c) - 0x54;
				lVar20 = ZEXT48(register0x0000000c) - 0x58;
				lVar14 = lVar24;
				lVar16 = param_1;
				lVar18 = (longlong)param_2;
				uVar12 = DRLG_WillThemeRoomFit(param_3, iVar25, iVar3, param_1, param_2, (int *)lVar19, (int *)lVar20,
				    (char)lVar21, in_stack_ffffff78);
				uVar17 = (undefined)lVar16;
				uVar15 = (undefined)lVar14;
				if ((int)uVar12 != 0) {
					if (param_5 != 0) {
						lVar14 = random(0, ((ulonglong)local_54 - lVar23) + 1, uVar15, uVar17, (char)lVar18,
						    (char)lVar19, (char)lVar20, (char)lVar21, in_stack_ffffff78,
						    in_stack_ffffff7f, in_stack_ffffff8b);
						lVar14 = random(0, lVar14, uVar15, uVar17, (char)lVar18, (char)lVar19, (char)lVar20,
						    (char)lVar21, in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8b);
						uVar4 = (uint)lVar23;
						local_54 = uVar4 + (int)lVar14;
						if (((int)local_54 < (int)uVar4) || (param_2 + -2 < (int)local_54)) {
							local_54 = uVar4;
						}
						lVar14 = random(0, ((ulonglong)local_58 - lVar23) + 1, uVar15, uVar17, (char)lVar18,
						    (char)lVar19, (char)lVar20, (char)lVar21, in_stack_ffffff78,
						    in_stack_ffffff7f, in_stack_ffffff8b);
						lVar14 = random(0, lVar14, uVar15, uVar17, (char)lVar18, (char)lVar19, (char)lVar20,
						    (char)lVar21, in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8b);
						uVar9 = uVar4 + (int)lVar14;
						local_58 = uVar4;
						if (((int)uVar4 <= (int)uVar9) && (local_58 = uVar4, (int)uVar9 <= param_2 + -2)) {
							local_58 = uVar9;
						}
					}
					piVar13 = (int *)(puVar8 + *(int *)puVar7 * 0x14);
					*piVar13 = iVar25 + 1;
					piVar13[1] = iVar3 + 1;
					piVar13[3] = local_54;
					piVar13[4] = local_58;
					if (*puVar5 == '\x03') {
						lVar16 = (ulonglong)((iVar3 + (local_58 - 1)) * 2) + 0x11;
						DRLG_RectTrans((iVar25 + 2) * 2 + 0x10, (iVar3 + 2) * 2 + 0x10,
						    (iVar25 + (local_54 - 1)) * 2 + 0x11, (int)lVar16);
					} else {
						lVar16 = lVar24 + (ulonglong)local_58;
						DRLG_MRectTrans(iVar25 + 1, iVar3 + 1, iVar25 + local_54, (int)lVar16);
					}
					iVar2 = *(int *)puVar7;
					cVar1 = *puVar6;
					lVar14 = (longlong)cVar1;
					*(int *)(puVar8 + iVar2 * 0x14 + 8) = (int)(lVar14 + -1);
					DRLG_CreateThemeRoom(iVar2, (char)(lVar14 + -1), cVar1, (char)lVar16, (char)lVar18, (char)lVar19,
					    (char)lVar20, (char)lVar21, in_stack_ffffff78);
					*(int *)puVar7 = *(int *)puVar7 + 1;
				}
			}
			iVar25 = iVar25 + 1;
			pbVar26 = pbVar26 + 0x28;
		} while (iVar25 < 0x28);
		lVar24 = lVar24 + 1;
		pbVar22 = pbVar22 + 1;
	} while ((int)lVar24 < 0x28);
	return;
}

void DRLG_HoldThemeRooms(void)

{
	undefined *puVar1;
	undefined *puVar2;
	int iVar3;
	int *piVar4;
	int iVar5;
	int iVar6;
	int iVar7;
	int iVar8;
	int iVar9;

	puVar2 = PTR_DAT_100f1d60;
	puVar1 = PTR_DAT_100f1834;
	if (0 < *(int *)PTR_DAT_100f1d60) {
		iVar5 = 0;
		piVar4 = (int *)PTR_DAT_100f1d64;
		while (iVar5 < *(int *)puVar2) {
			iVar6 = piVar4[1];
			iVar3 = iVar6 * 2 + 0x10;
			while (iVar6 < piVar4[1] + piVar4[4] + -1) {
				iVar8 = *piVar4;
				iVar7 = (iVar8 * 2 + 0x10) * 0x70;
				while (iVar8 < *piVar4 + piVar4[3] + -1) {
					iVar9 = iVar7 + iVar3;
					iVar7 = iVar7 + 0xe0;
					iVar8 = iVar8 + 1;
					*(byte *)(*(int *)puVar1 + iVar9) = *(byte *)(*(int *)puVar1 + iVar9) | 8;
					*(byte *)(*(int *)puVar1 + iVar9 + 0x70) = *(byte *)(*(int *)puVar1 + iVar9 + 0x70) | 8;
					*(byte *)(*(int *)puVar1 + iVar9 + 1) = *(byte *)(*(int *)puVar1 + iVar9 + 1) | 8;
					*(byte *)(*(int *)puVar1 + iVar9 + 0x71) = *(byte *)(*(int *)puVar1 + iVar9 + 0x71) | 8;
				}
				iVar3 = iVar3 + 2;
				iVar6 = iVar6 + 1;
			}
			piVar4 = piVar4 + 5;
			iVar5 = iVar5 + 1;
		}
	}
	return;
}

undefined8 SkipThemeRoom(int param_1, int param_2)

{
	ulonglong uVar1;
	int *piVar2;

	uVar1 = (ulonglong) * (uint *)PTR_DAT_100f1d60;
	piVar2 = (int *)PTR_DAT_100f1d64;
	if (0 < (int)*(uint *)PTR_DAT_100f1d60) {
		do {
			if ((((*piVar2 + -2 <= param_1) && (param_1 <= *piVar2 + piVar2[3] + 2)) && (piVar2[1] + -2 <= param_2)) && (param_2 <= piVar2[1] + piVar2[4] + 2)) {
				return 0;
			}
			piVar2 = piVar2 + 5;
			uVar1 = uVar1 - 1;
		} while (uVar1 != 0);
	}
	return 1;
}

void InitLevels(void)

{
	undefined *puVar1;
	undefined *puVar2;

	puVar2 = PTR_DAT_100f183c;
	if (*(int *)PTR_DAT_100f1d5c != 0) {
		return;
	}
	*PTR_DAT_100f17ec = 0;
	puVar1 = PTR_DAT_100f17f8;
	*puVar2 = 0;
	*puVar1 = 0;
	return;
}

void FUN_100431bc(void)

{
	_DAT_100f4144 = _DAT_100f4140;
	return;
}

void gmenu_print_text(longlong param_1, undefined8 param_2, byte *param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	byte bVar1;
	ulonglong uVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	undefined4 in_stack_ffffffa8;

	lVar5 = (longlong)param_8;
	lVar4 = (longlong)param_7;
	lVar3 = (longlong)param_6;
	uVar2 = ZEXT48(&toc);
	while (*param_3 != 0) {
		bVar1 = *param_3;
		param_3 = param_3 + 1;
		bVar1 = (&DAT_100fb828)[(uint)(byte)(&DAT_100f64e8)[(uint)bVar1]];
		if (bVar1 != 0) {
			FUN_1003d568((int)param_1, param_2, (ulonglong) * (uint *)((int)uVar2 + -0x4e64), (ulonglong)bVar1,
			    0x2e, (int)lVar3, (int)lVar4, (int)lVar5, in_stack_ffffffa8);
		}
		param_1 = (ulonglong)(byte)(&DAT_100fb8a8)[(uint)bVar1] + param_1 + 2;
	}
	return;
}

void gmenu_draw_pause(undefined8 uParm1, undefined param_2, undefined param_3, undefined8 uParm4,
    undefined8 uParm5, undefined4 uParm6, undefined4 uParm7, undefined4 uParm8)

{
	byte *pbVar1;
	undefined **ppuVar2;
	undefined7 uVar3;
	undefined uVar4;
	undefined7 uVar5;
	undefined uVar6;
	undefined4 in_stack_ffffffc8;

	uVar6 = (undefined)uParm5;
	uVar5 = (undefined7)((ulonglong)uParm5 >> 8);
	uVar4 = (undefined)uParm4;
	uVar3 = (undefined7)((ulonglong)uParm4 >> 8);
	ppuVar2 = &toc;
	if (*PTR_DAT_100f17ec != '\0') {
		ppuVar2 = &toc;
		RedBack((char)PTR_DAT_100f17ec, param_2, param_3, uVar4, uVar6, (char)uParm6, (char)uParm7,
		    (char)uParm8, in_stack_ffffffc8);
	}
	if (ppuVar2[-0x139c] == (undefined *)0x0) {
		pbVar1 = ppuVar2[-0x1887];
		*(undefined4 *)ppuVar2[-0x1ca4] = 0;
		gmenu_print_text(0x13c, 0x150, pbVar1, CONCAT71(uVar3, uVar4), CONCAT71(uVar5, uVar6), uParm6, uParm7, uParm8, in_stack_ffffffc8);
	}
	return;
}

void FreeGMenu(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	mem_free_dbg((int **)&DAT_100f4174, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	mem_free_dbg((int **)(ppuVar1 + -0x1399), param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	mem_free_dbg((int **)(ppuVar1 + -0x1398), param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	mem_free_dbg((int **)(ppuVar1 + -0x139a), param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	mem_free_dbg((int **)(ppuVar1 + -0x139b), param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

void gmenu_init_menu(void)

{
	undefined **ppuVar1;
	longlong lVar2;
	undefined8 uVar3;
	undefined8 in_r6;
	undefined8 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	uVar3 = 1;
	_DAT_100f4160 = 0;
	DAT_100f4178 = 1;
	_DAT_100f4158 = 0;
	_DAT_100f415c = 0;
	_DAT_100f4154 = 0;
	DAT_100f414c = 0;
	lVar2 = LoadFileInMem(ZEXT48(PTR_s_Data_Diabsmal_CEL_100f2db0), (undefined4 *)0x0, 1, in_r6, in_r7,
	    in_r8, in_r9, in_r10, in_stack_ffffffc8);
	ppuVar1[-0x1397] = (undefined *)lVar2;
	lVar2 = LoadFileInMem(ZEXT48(ppuVar1[-0x1889]), (undefined4 *)0x0, uVar3, in_r6, in_r7, in_r8, in_r9,
	    in_r10, in_stack_ffffffc8);
	ppuVar1[-0x1399] = (undefined *)lVar2;
	lVar2 = LoadFileInMem(ZEXT48(ppuVar1[-0x188a]), (undefined4 *)0x0, uVar3, in_r6, in_r7, in_r8, in_r9,
	    in_r10, in_stack_ffffffc8);
	ppuVar1[-0x1398] = (undefined *)lVar2;
	lVar2 = LoadFileInMem(ZEXT48(ppuVar1[-0x188b]), (undefined4 *)0x0, uVar3, in_r6, in_r7, in_r8, in_r9,
	    in_r10, in_stack_ffffffc8);
	ppuVar1[-0x139a] = (undefined *)lVar2;
	lVar2 = LoadFileInMem(ZEXT48(ppuVar1[-0x188c]), (undefined4 *)0x0, uVar3, in_r6, in_r7, in_r8, in_r9,
	    in_r10, in_stack_ffffffc8);
	ppuVar1[-0x139b] = (undefined *)lVar2;
	return;
}

ulonglong gmenu_exception(void)

{
	return (ulonglong)(_DAT_100f4160 != 0);
}

void gmenu_up_down(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	bool bVar1;
	uint *puVar2;
	int iVar3;

	if (_DAT_100f4158 != (uint *)0x0) {
		DAT_100f414c = 0;
		iVar3 = _DAT_100f4154;
		do {
			bVar1 = iVar3 == 0;
			iVar3 = iVar3 + -1;
			if (bVar1) {
				DAT_100f414c = 0;
				return;
			}
			if (param_1 == 0) {
				if (_DAT_100f4158 == _DAT_100f4160) {
					_DAT_100f4158 = _DAT_100f4160 + _DAT_100f4154 * 3;
				}
				_DAT_100f4158 = _DAT_100f4158 + -3;
			} else {
				puVar2 = _DAT_100f4158 + 5;
				_DAT_100f4158 = _DAT_100f4158 + 3;
				if (*puVar2 == 0) {
					_DAT_100f4158 = _DAT_100f4160;
				}
			}
		} while ((*_DAT_100f4158 & 0x80000000) == 0);
		if (iVar3 != 0) {
			PlaySFX(0x45);
		}
	}
	return;
}

void gmenu_call_proc(int param_1, int param_2, int param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined **ppuVar1;
	longlong lVar2;
	undefined uVar3;
	undefined uVar4;
	undefined uVar5;
	undefined4 in_stack_ffffffc8;
	undefined **local_2c;

	uVar4 = (undefined)param_3;
	lVar2 = (longlong)param_1;
	uVar5 = SUB41(PTR_DAT_100f1a00, 0);
	*(undefined4 *)PTR_DAT_100f1a00 = 0;
	DAT_100f414c = 0;
	_DAT_100f4154 = 0;
	_DAT_100f4158 = param_1;
	_DAT_100f415c = param_2;
	_DAT_100f4160 = param_1;
	if (lVar2 != 0) {
		_DAT_100f4158 = param_1;
		_DAT_100f415c = param_2;
		_DAT_100f4160 = param_1;
		ppuVar1 = &toc;
		if (param_2 != 0) {
			_DAT_100f4158 = param_1;
			_DAT_100f415c = param_2;
			_DAT_100f4160 = param_1;
			FUN_100dbf44(lVar2);
			ppuVar1 = local_2c;
		}
		while (uVar3 = (undefined)lVar2, *(int *)((int)lVar2 + 8) != 0) {
			lVar2 = lVar2 + 0xc;
			ppuVar1[-0x139f] = ppuVar1[-0x139f] + 1;
		}
		ppuVar1[-0x139e] = (undefined *)(param_1 + param_3 * 0xc);
		gmenu_up_down(0, uVar3, uVar4, uVar5, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
		gmenu_up_down(1, uVar3, uVar4, uVar5, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return;
}

void gmenu_clear_buffer(longlong lParm1, int iParm2, undefined param_3, ulonglong uParm4, undefined8 uParm5,
    undefined param_6, undefined param_7, undefined param_8)

{
	ulonglong uVar1;
	undefined uVar2;
	ulonglong uVar3;
	longlong lVar4;
	undefined in_stack_ffffffbb;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	uVar2 = (undefined)uParm4;
	uVar3 = ZEXT48(PTR_DAT_100f1938);
	lVar4 = (ulonglong) * (uint *)PTR_DAT_100f17cc + (ulonglong) * (uint *)(PTR_DAT_100f1938 + iParm2 * 4) + lParm1;
	while (uVar1 = uParm4 & 0xffffffff, uParm4 = uParm4 - 1, uVar1 != 0) {
		memset((char)lVar4, param_3, 0xcd, uVar2, (char)uVar3, param_6, param_7, param_8, in_stack_ffffffbb,
		    in_stack_ffffffbf, local_3c);
		lVar4 = lVar4 + -0x300;
	}
	return;
}

longlong gmenu_get_lfont(uint *param_1)

{
	byte bVar1;
	longlong lVar2;
	byte *pbVar3;

	if ((*param_1 & 0x40000000) != 0) {
		return 0x1ea;
	}
	pbVar3 = (byte *)param_1[1];
	lVar2 = 0;
	while (true) {
		if (*pbVar3 == 0)
			break;
		bVar1 = *pbVar3;
		pbVar3 = pbVar3 + 1;
		lVar2 = (ulonglong)(byte)(&DAT_100fb8a8)
		            [(uint)(byte)(&DAT_100fb828)[(uint)(byte)(&DAT_100f64e8)[(uint)bVar1]]]
		    + lVar2 + 2;
	}
	return lVar2 + -2;
}

void gmenu_draw_menu_item(uint *param_1, longlong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 uVar1;
	undefined **ppuVar2;
	longlong lVar3;
	int iVar4;
	uint uVar5;
	ulonglong uVar6;
	uint uVar7;
	undefined4 in_stack_ffffffb8;

	ppuVar2 = &toc;
	lVar3 = gmenu_get_lfont(param_1);
	uVar7 = (uint)lVar3;
	if ((*param_1 & 0x40000000) != 0) {
		iVar4 = (uVar7 >> 1) + 0x50;
		CelDecodeOnly(iVar4, param_2 + -10, ZEXT48(ppuVar2[-0x139b]), 1, 0x11f, param_6, param_7, param_8,
		    in_stack_ffffffb8);
		uVar5 = *param_1 >> 0xc & 0xfff;
		if (uVar5 < 2) {
			uVar5 = 2;
		}
		uVar6 = (ulonglong)((*param_1 & 0xfff) << 8) / (ulonglong)uVar5;
		gmenu_clear_buffer((ulonglong)(uVar7 >> 1) + 0x52, param_2 + -0xc, uVar6 + 0xd, 0x1c);
		param_4 = 1;
		param_5 = 0x1b;
		CelDecodeOnly(iVar4 + (int)uVar6 + 2, param_2 + -0xc, ZEXT48(ppuVar2[-0x139a]), 1, 0x1b, param_6,
		    param_7, param_8, in_stack_ffffffb8);
	}
	lVar3 = -(ulonglong)(uVar7 >> 1) + 0x180;
	if ((*param_1 & 0x80000000) == 0) {
		uVar1 = 0xf;
	} else {
		uVar1 = 0;
	}
	*(undefined4 *)ppuVar2[-0x1ca4] = uVar1;
	gmenu_print_text(lVar3, param_2, (byte *)param_1[1], param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	if (param_1 == (uint *)ppuVar2[-0x139e]) {
		CelDecodeOnly((int)-(ulonglong)(uVar7 >> 1) + 0x14a, param_2 + 1, ZEXT48(ppuVar2[-0x1398]),
		    (ulonglong) * (byte *)(ppuVar2 + -0x1396), 0x30, param_6, param_7, param_8,
		    in_stack_ffffffb8);
		CelDecodeOnly((int)lVar3 + uVar7 + 4, param_2 + 1, ZEXT48(ppuVar2[-0x1398]),
		    (ulonglong) * (byte *)(ppuVar2 + -0x1396), 0x30, param_6, param_7, param_8,
		    in_stack_ffffffb8);
	}
	return;
}

void gmenu_draw(void)

{
	undefined **ppuVar1;
	undefined8 uVar2;
	undefined *puVar3;
	longlong lVar4;
	ulonglong uVar5;
	undefined8 uVar6;
	undefined8 uVar7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	longlong lVar8;
	uint *puVar9;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined **local_2c;

	ppuVar1 = &toc;
	if (_DAT_100f4160 != 0) {
		if (_DAT_100f415c != 0) {
			ppuVar1 = local_2c;
			FUN_100dbf44();
			local_2c = ppuVar1;
		}
		uVar5 = ZEXT48(ppuVar1[-0x1397]);
		lVar4 = 0x106;
		uVar6 = 1;
		uVar7 = 0x128;
		uVar2 = CelDecodeOnly(0xec, 0x106, uVar5, 1, 0x128, in_r8, in_r9, in_r10, in_stack_ffffffc8);
		puVar9 = (uint *)ppuVar1[-0x139c];
		lVar8 = 0x140;
		while (puVar9[2] != 0) {
			lVar4 = lVar8;
			uVar2 = gmenu_draw_menu_item(puVar9, lVar8, uVar5, uVar6, uVar7, in_r8, in_r9, in_r10, in_stack_ffffffc8);
			lVar8 = lVar8 + 0x2d;
			puVar9 = puVar9 + 3;
		}
		puVar3 = (undefined *)
		    GetTickCount((char)uVar2, (char)lVar4, (char)uVar5, (char)uVar6, (char)uVar7, (char)in_r8,
		        (char)in_r9, (char)in_r10, (char)in_stack_ffffffc8, in_stack_ffffffcf,
		        local_2c);
		if (0x19 < (int)(puVar3 + -(int)local_2c[-0x13a0])) {
			*(char *)(local_2c + -0x1396) = *(char *)(local_2c + -0x1396) + '\x01';
			if (*(char *)(local_2c + -0x1396) == '\t') {
				*(undefined *)(local_2c + -0x1396) = 1;
			}
			local_2c[-0x13a0] = puVar3;
		}
	}
	return;
}

void gmenu_left_right(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	longlong lVar3;

	uVar1 = *_DAT_100f4158;
	if ((uVar1 & 0x40000000) != 0) {
		uVar2 = uVar1 & 0xfff;
		if (param_1 == 0) {
			if (uVar2 == 0) {
				return;
			}
			lVar3 = (ulonglong)uVar2 - 1;
		} else {
			if (uVar2 == (uVar1 >> 0xc & 0xfff)) {
				return;
			}
			lVar3 = (ulonglong)uVar2 + 1;
		}
		*_DAT_100f4158 = *_DAT_100f4158 & 0xfffff000;
		*_DAT_100f4158 = *_DAT_100f4158 | (uint)lVar3;
		FUN_100dbf44(0, _DAT_100f4158, lVar3, param_4, param_5, param_6, param_7, param_8);
	}
	return;
}

undefined8
gmenu_presskeys(undefined4 param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined8 uVar1;
	undefined4 in_stack_ffffffc8;

	if (_DAT_100f4160 == 0) {
		uVar1 = 0;
	} else {
		switch (param_1) {
		case 0xd:
			if ((*_DAT_100f4158 & 0x80000000) != 0) {
				PlaySFX(0x45);
				FUN_100dbf44(1);
			}
			break;
		case 0x1b:
			PlaySFX(0x45);
			gmenu_call_proc(0, 0, 0, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
			break;
		case 0x20:
			return 0;
		case 0x25:
			gmenu_left_right(0, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
			break;
		case 0x26:
			gmenu_up_down(0, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
			break;
		case 0x27:
			gmenu_left_right(1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
			break;
		case 0x28:
			gmenu_up_down(1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
		}
		uVar1 = 1;
	}
	return uVar1;
}

undefined8 gmenu_valid_mouse_pos(int *param_1)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;

	puVar3 = PTR_DAT_100f1928;
	*param_1 = 0x11a;
	iVar1 = *(int *)puVar3;
	iVar2 = *param_1;
	if (iVar1 < iVar2) {
		*param_1 = 0;
		return 0;
	}
	if (iVar2 + 0x100 < iVar1) {
		*param_1 = 0x100;
		return 0;
	}
	*param_1 = iVar1 - iVar2;
	return 1;
}

ulonglong gmenu_on_mouse_move(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	bool bVar1;
	uint *puVar2;
	undefined **ppuVar3;
	uint local_8[2];

	ppuVar3 = &toc;
	bVar1 = DAT_100f414c != '\0';
	if (bVar1) {
		gmenu_valid_mouse_pos((int *)local_8);
		puVar2 = (uint *)ppuVar3[-0x139e];
		local_8[0] = local_8[0] * (*puVar2 >> 0xc & 0xfff);
		local_8[0] = ((int)local_8[0] >> 8) + (uint)((int)local_8[0] < 0 && (local_8[0] & 0xff) != 0);
		*puVar2 = *puVar2 & 0xfffff000;
		*(uint *)ppuVar3[-0x139e] = *(uint *)ppuVar3[-0x139e] | local_8[0];
		FUN_100dbf44(0);
	}
	return (ulonglong)bVar1;
}

undefined8
gmenu_left_mouse(int param_1, undefined param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	uint uVar1;
	undefined **ppuVar2;
	undefined8 uVar3;
	uint uVar4;
	longlong lVar5;
	int iVar6;
	undefined uVar7;
	undefined uVar8;
	uint *puVar9;
	undefined4 in_stack_ffffffb8;
	int aiStack24[6];

	ppuVar2 = &toc;
	if (param_1 == 0) {
		if (DAT_100f414c == '\0') {
			uVar3 = 0;
		} else {
			DAT_100f414c = '\0';
			uVar3 = 1;
		}
	} else {
		uVar8 = (undefined)_DAT_100f4160;
		if (_DAT_100f4160 == 0) {
			uVar3 = 0;
		} else {
			if ((int)*(uint *)PTR_DAT_100f1924 < 0x160) {
				lVar5 = (ulonglong) * (uint *)PTR_DAT_100f1924 - 0x75;
				if (lVar5 < 0) {
					uVar3 = 1;
				} else {
					iVar6 = (int)lVar5;
					uVar4 = iVar6 / 0x2d + (iVar6 >> 0x1f);
					uVar4 = uVar4 + (uVar4 >> 0x1f);
					if (uVar4 < _DAT_100f4154) {
						puVar9 = (uint *)(_DAT_100f4160 + uVar4 * 0xc);
						if ((*puVar9 & 0x80000000) == 0) {
							uVar3 = 1;
						} else {
							lVar5 = gmenu_get_lfont(puVar9);
							uVar1 = (uint)lVar5 >> 1;
							uVar4 = *(uint *)ppuVar2[-0x1daa];
							uVar7 = (undefined)uVar4;
							if (uVar4 < 0x140 - uVar1) {
								uVar3 = 1;
							} else {
								if (uVar1 + 0x140 < uVar4) {
									uVar3 = 1;
								} else {
									*(uint **)(ppuVar2 + -0x139e) = puVar9;
									PlaySFX(0x45);
									if ((*puVar9 & 0x40000000) == 0) {
										FUN_100dbf44(1);
									} else {
										uVar3 = gmenu_valid_mouse_pos(aiStack24);
										*(char *)(ppuVar2 + -0x13a1) = (char)uVar3;
										gmenu_on_mouse_move((char)uVar3, uVar7, uVar8, param_4, param_5, param_6, param_7, param_8,
										    in_stack_ffffffb8);
									}
									uVar3 = 1;
								}
							}
						}
					} else {
						uVar3 = 1;
					}
				}
			} else {
				uVar3 = 0;
			}
		}
	}
	return uVar3;
}

void FUN_10043b74(uint *param_1, int param_2)

{
	if (param_2 != 0) {
		*param_1 = *param_1 | 0x80000000;
		return;
	}
	*param_1 = *param_1 & 0x7fffffff;
	return;
}

void FUN_10043b9c(uint *param_1, int param_2, int param_3, int param_4)

{
	uint uVar1;
	uint uVar2;

	uVar2 = *param_1 >> 0xc & 0xfff;
	if (uVar2 < 2) {
		uVar2 = 2;
	}
	uVar1 = (param_3 - param_2) - 1;
	*param_1 = *param_1 & 0xfffff000;
	*param_1 = *param_1 | (int)((param_4 - param_2) * uVar2 + ((int)uVar1 >> 1) + (uint)((int)uVar1 < 0 && (uVar1 & 1) != 0)) / (param_3 - param_2);
	return;
}

longlong FUN_10043bec(uint *param_1, longlong param_2, int param_3)

{
	uint uVar1;
	uint uVar2;

	uVar2 = *param_1 >> 0xc & 0xfff;
	if (uVar2 < 2) {
		uVar2 = 2;
	}
	uVar1 = uVar2 - 1;
	return (longlong)((int)((*param_1 & 0xfff) * (param_3 - (int)param_2) + ((int)uVar1 >> 1) + (uint)((int)uVar1 < 0 && (uVar1 & 1) != 0)) / (int)uVar2) + param_2;
}

void FUN_10043c28(uint *param_1, uint param_2)

{
	*param_1 = *param_1 & 0xff000fff;
	*param_1 = *param_1 | (param_2 & 0xfff) << 0xc;
	return;
}

void FUN_10043c48(void)

{
	_DAT_100f417c = _DAT_100f4148;
	return;
}

void InitHelp(void)

{
	undefined *puVar1;
	undefined *puVar2;

	puVar2 = PTR_DAT_100f1dbc;
	*(undefined4 *)PTR_DAT_100f19fc = 0;
	puVar1 = PTR_DAT_100f1db8;
	*(undefined4 *)puVar2 = 0;
	*(undefined4 *)puVar1 = 0;
	return;
}

void DrawHelpLine(longlong param_1, int param_2, byte *param_3, undefined8 param_4, undefined8 param_5,
    int param_6, int param_7, int param_8, undefined4 param_9)

{
	byte bVar1;
	undefined8 uVar2;
	ulonglong uVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	undefined4 in_stack_ffffffa8;

	lVar6 = (longlong)param_8;
	lVar5 = (longlong)param_7;
	lVar4 = (longlong)param_6;
	uVar3 = ZEXT48(PTR_DAT_100f1db4);
	lVar7 = 0;
	param_1 = param_1 + (ulonglong) * (uint *)(PTR_DAT_100f1938 + *(int *)(PTR_DAT_100f1db4 + param_2 * 4) * 4 + 0x330) + 0x60;
	uVar2 = param_4;
	while (*param_3 != 0) {
		bVar1 = *param_3;
		param_3 = param_3 + 1;
		bVar1 = (&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)bVar1]];
		lVar7 = (ulonglong)(byte)(&DAT_100f6230)[(uint)bVar1] + lVar7 + 1;
		if (bVar1 != 0) {
			if ((int)lVar7 < 0x242) {
				CPrintString(param_1, (ulonglong)bVar1, param_4, uVar2, uVar3, (int)lVar4, (int)lVar5, (int)lVar6,
				    in_stack_ffffffa8);
			}
		}
		param_1 = (ulonglong)(byte)(&DAT_100f6230)[(uint)bVar1] + param_1 + 1;
	}
	return;
}

void DrawHelp(void)

{
	undefined *puVar1;
	int *piVar2;
	int *piVar3;
	ulonglong uVar4;
	int iVar5;
	byte *pbVar6;
	char *pcVar7;
	int iVar8;
	undefined8 uVar9;
	longlong lVar10;
	undefined8 uVar11;
	undefined4 in_r9;
	undefined4 in_r10;
	longlong lVar12;
	undefined4 in_stack_ffffffa8;

	piVar3 = _DAT_100f1db0;
	piVar2 = _DAT_100f1dac;
	puVar1 = PTR_DAT_100f191c;
	uVar4 = ZEXT48(&toc);
	DrawSTextHelp();
	DrawQTextBack();
	uVar11 = 0;
	PrintSString(0, 2, 1, (ulonglong) * (uint *)((int)uVar4 + -0x6208), 3);
	DrawSLine(5);
	lVar12 = uVar4 + 0x2980;
	iVar5 = 0;
	while (iVar5 < *piVar3) {
		iVar8 = 0;
		lVar10 = 0;
		while (*(char *)lVar12 == '\0') {
			lVar12 = lVar12 + 1;
		}
		if (*(char *)lVar12 == '$') {
			lVar12 = lVar12 + 1;
		}
		pbVar6 = puVar1;
		if (*(char *)lVar12 != '&') {
			while ((*(char *)lVar12 != '|' && ((int)lVar10 < 0x241))) {
				while (*(byte *)lVar12 == 0) {
					lVar12 = lVar12 + 1;
				}
				*pbVar6 = *(byte *)lVar12;
				iVar8 = iVar8 + 1;
				lVar12 = lVar12 + 1;
				lVar10 = (ulonglong)(byte)(&DAT_100f6230)
				             [(uint)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)*pbVar6]]]
				    + lVar10 + 1;
				pbVar6 = pbVar6 + 1;
			}
			if (0x240 < (int)lVar10) {
				pcVar7 = puVar1 + iVar8;
				while (pcVar7 = pcVar7 + -1, *pcVar7 != ' ') {
					lVar12 = lVar12 + -1;
				}
			}
			if (*(char *)lVar12 == '|') {
				lVar12 = lVar12 + 1;
			}
		}
		iVar5 = iVar5 + 1;
	}
	iVar5 = 7;
	do {
		iVar8 = 0;
		lVar10 = 0;
		while (*(char *)lVar12 == '\0') {
			lVar12 = lVar12 + 1;
		}
		if (*(char *)lVar12 == '$') {
			uVar9 = 2;
			lVar12 = lVar12 + 1;
		} else {
			uVar9 = 0;
		}
		pbVar6 = puVar1;
		if (*(char *)lVar12 == '&') {
			*piVar2 = *piVar3;
		} else {
			while ((*(char *)lVar12 != '|' && ((int)lVar10 < 0x241))) {
				while (*(byte *)lVar12 == 0) {
					lVar12 = lVar12 + 1;
				}
				*pbVar6 = *(byte *)lVar12;
				iVar8 = iVar8 + 1;
				lVar12 = lVar12 + 1;
				lVar10 = (ulonglong)(byte)(&DAT_100f6230)
				             [(uint)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)*pbVar6]]]
				    + lVar10 + 1;
				pbVar6 = pbVar6 + 1;
			}
			if (0x240 < (int)lVar10) {
				pcVar7 = puVar1 + iVar8;
				while (true) {
					pcVar7 = pcVar7 + -1;
					iVar8 = iVar8 + -1;
					if (*pcVar7 == ' ')
						break;
					lVar12 = lVar12 + -1;
				}
			}
			if (iVar8 != 0) {
				puVar1[iVar8] = 0;
				DrawHelpLine(0, iVar5, puVar1, uVar9, lVar10, (int)uVar11, in_r9, in_r10, in_stack_ffffffa8);
			}
			if (*(char *)lVar12 == '|') {
				lVar12 = lVar12 + 1;
			}
		}
		iVar5 = iVar5 + 1;
	} while (iVar5 < 0x16);
	PrintSString(0, 0x17, 1, (ulonglong) * (uint *)((int)uVar4 + -0x6210), 3, 0);
	return;
}

void FUN_10043f98(void)

{
	undefined4 *puVar1;
	undefined4 *puVar2;

	puVar2 = _DAT_100f1db0;
	*(undefined4 *)PTR_DAT_100f19fc = 1;
	puVar1 = _DAT_100f1dac;
	*puVar2 = 0;
	*puVar1 = 5000;
	return;
}

void HelpScrollUp(void)

{
	if (*_DAT_100f1db0 < 1) {
		return;
	}
	*_DAT_100f1db0 = *_DAT_100f1db0 + -1;
	return;
}

void HelpScrollDown(void)

{
	if (*_DAT_100f1dac <= *_DAT_100f1db0) {
		return;
	}
	*_DAT_100f1db0 = *_DAT_100f1db0 + 1;
	return;
}

void FUN_10044000(void)

{
	_DAT_100f4184 = _DAT_100f4180;
	return;
}

void init_cleanup(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined **ppuVar2;
	int *piVar3;
	undefined **ppuVar4;
	undefined uVar6;
	undefined8 uVar5;
	undefined7 uVar7;
	undefined uVar8;
	undefined7 uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined uVar14;
	undefined uVar15;
	undefined4 in_stack_ffffffc8;
	undefined uVar16;
	undefined in_stack_ffffffcf;
	undefined **local_2c;

	piVar3 = _DAT_100f1dcc;
	uVar9 = (undefined7)((ulonglong)param_3 >> 8);
	uVar10 = (undefined)param_3;
	uVar7 = (undefined7)((ulonglong)param_2 >> 8);
	uVar8 = (undefined)param_2;
	ppuVar4 = &toc;
	pfile_flush_W(param_1, param_2, param_3, (int)param_4, (int)param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	iVar1 = *piVar3;
	if (iVar1 != 0) {
		ppuVar4 = local_2c;
		SFileCloseArchive((char)iVar1, uVar8, uVar10, (char)param_4, (char)param_5, (char)param_6,
		    (char)param_7, (char)param_8, (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
		*piVar3 = 0;
		local_2c = ppuVar4;
	}
	ppuVar2 = ppuVar4 + -0x1390;
	if (*ppuVar2 != (undefined *)0x0) {
		ppuVar4 = local_2c;
		SFileCloseArchive((char)*ppuVar2, uVar8, uVar10, (char)param_4, (char)param_5, (char)param_6,
		    (char)param_7, (char)param_8, (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
		ppuVar4[-0x1390] = (undefined *)0x0;
		local_2c = ppuVar4;
	}
	uVar6 = SUB41(ppuVar4[-0x1391], 0);
	if (ppuVar4[-0x1391] != (undefined *)0x0) {
		uVar6 = SFileCloseArchive(uVar6, uVar8, uVar10, (char)param_4, (char)param_5, (char)param_6,
		    (char)param_7, (char)param_8, (char)in_stack_ffffffc8, in_stack_ffffffcf,
		    local_2c);
		local_2c[-0x1391] = (undefined *)0x0;
	}
	uVar6 = UiDestroy(uVar6, uVar8, uVar10, (char)param_4, (char)param_5, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffffc8);
	uVar6 = effects_cleanup_sfx(uVar6, uVar8, uVar10, (char)param_4, (char)param_5, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffffc8);
	uVar5 = sound_cleanup(uVar6, uVar8, uVar10, (char)param_4, (char)param_5, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffffc8);
	uVar15 = (undefined)param_8;
	uVar14 = (undefined)param_7;
	uVar13 = (undefined)param_6;
	uVar12 = (undefined)param_5;
	uVar11 = (undefined)param_4;
	uVar6 = NetClose(uVar5, CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10), param_4, param_5, param_6,
	    param_7, param_8, in_stack_ffffffc8);
	uVar16 = (undefined)in_stack_ffffffc8;
	dx_cleanup(uVar6, uVar8, uVar10, uVar11, uVar12, uVar13, uVar14, uVar15, in_stack_ffffffc8);
	uVar6 = StormDestroy();
	InitCursor(uVar6, uVar8, uVar10, uVar11, uVar12, uVar13, uVar14, uVar15, uVar16, in_stack_ffffffcf, local_2c);
	return;
}

void init_strip_trailing_slash(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	char *pcVar1;

	pcVar1 = strrchr(param_1, '\\');
	if ((pcVar1 != (char *)0x0) && (pcVar1[1] == '\0')) {
		*pcVar1 = '\0';
	}
	return;
}

undefined8
init_read_test_file(undefined8 param_1, char *param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	longlong lVar1;
	undefined4 uVar2;
	undefined *puVar3;
	char cVar4;
	char *pcVar6;
	short sVar8;
	undefined8 uVar5;
	int iVar7;
	undefined4 *puVar9;
	undefined uVar10;
	longlong lVar11;
	undefined uVar12;
	undefined uVar13;
	undefined uVar14;
	longlong lVar15;

	uVar13 = 0x2a;
	lVar15 = 0x20;
	lVar1 = ZEXT48(register0x0000000c) - 400;
	puVar3 = (undefined *)lVar1;
	*(BADSPACEBASE **)puVar3 = register0x0000000c;
	lVar11 = ZEXT48(register0x0000000c) - 0x160;
	puVar9 = (undefined4 *)0x100fc422;
	do {
		uVar2 = puVar9[3];
		lVar11 = lVar11 + 8;
		uVar14 = (undefined)lVar11;
		*(undefined4 *)lVar11 = puVar9[2];
		((undefined4 *)lVar11)[1] = uVar2;
		lVar15 = lVar15 + -1;
		puVar9 = puVar9 + 2;
	} while (lVar15 != 0);
	uVar12 = param_4;
	pcVar6 = strrchr(param_2, 0x5c, *puVar3);
	lVar11 = (longlong)(int)pcVar6;
	if ((longlong)(int)pcVar6 == 0) {
		lVar11 = (longlong)(int)param_2;
	}
	uVar10 = (undefined)(lVar11 + 1);
	strcat(puVar3 + 0x38, (int)(lVar11 + 1), *puVar3);
	cVar4 = (char)lVar1;
	c2pstr(cVar4 + '8', uVar10, uVar14, uVar12, uVar13, param_6, param_7, param_8, puVar3[0xb], puVar3[0xf],
	    *(undefined4 *)(puVar3 + 0x14));
	sVar8 = FSMakeFSSpec(0, 0, cVar4 + '8', cVar4 + '8', uVar13, param_6, param_7, param_8, puVar3[0xb],
	    puVar3[0xf], *(undefined4 *)(puVar3 + 0x14));
	if (sVar8 == 0) {
		uVar14 = 0x3f;
		uVar13 = uVar14;
		MakeFilepath((undefined)param_1, cVar4 + '>', (char)*(undefined2 *)(puVar3 + 0x138),
		    (char)*(undefined4 *)(puVar3 + 0x13a), 0x3f, 0x3f, param_7, param_8, puVar3[0xb],
		    puVar3[0xf], *(undefined4 *)(puVar3 + 0x14));
		iVar7 = SFileOpenArchive((undefined)param_1, param_3, 1, param_4, uVar14, uVar13, param_7, param_8,
		    puVar3[0xb], puVar3[0xf], *(undefined4 *)(puVar3 + 0x14));
		if (iVar7 == 0) {
			uVar5 = 0;
		} else {
			uVar5 = 1;
		}
	} else {
		uVar5 = 0;
	}
	return uVar5;
}

ulonglong init_test_access(int param_1, char *param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11)

{
	undefined *puVar1;
	char cVar2;
	ulonglong uVar3;
	int iVar5;
	char *pcVar6;
	int iVar7;
	ulonglong uVar4;
	longlong lVar8;
	undefined uVar9;
	undefined8 uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined7 uVar14;
	undefined uVar15;
	undefined uVar16;
	undefined uVar17;
	undefined uVar18;
	undefined uVar19;

	uVar14 = (undefined7)((ulonglong)param_5 >> 8);
	uVar15 = (undefined)param_5;
	uVar4 = ZEXT48(register0x0000000c);
	puVar1 = (undefined *)(uVar4 - 0x360);
	*(BADSPACEBASE **)puVar1 = register0x0000000c;
	*(int *)(puVar1 + 0x380) = (int)param_3;
	lVar8 = uVar4 - 0x120;
	uVar12 = (undefined)param_4;
	uVar16 = uVar15;
	uVar3 = GetCurrentDirectory(4, (char)lVar8, (char)param_3, uVar12, uVar15, (char)param_6, (char)param_7,
	    (char)param_8, puVar1[0xb], puVar1[0xf], *(undefined4 *)(puVar1 + 0x14));
	if ((uVar3 & 0xffffffff) == 0) {
		app_fatal(*(int *)(*(int *)(puVar1 + 0x14) + -0x61c0), lVar8, param_3, param_4,
		    CONCAT71(uVar14, uVar16), param_6, param_7, param_8, *(undefined4 *)(puVar1 + 8),
		    puVar1[0xf], *(undefined4 *)(puVar1 + 0x18), *(undefined4 *)(puVar1 + 0x1c),
		    *(undefined4 *)(puVar1 + 0x20), *(undefined4 *)(puVar1 + 0x24),
		    *(undefined4 *)(puVar1 + 0x28), *(undefined4 *)(puVar1 + 0x2c),
		    *(undefined4 *)(puVar1 + 0x30), *(undefined4 *)(puVar1 + 0x34));
	}
	init_strip_trailing_slash((int)(puVar1 + 0x240), (char)lVar8, (char)param_3, (char)param_4, uVar16, (char)param_6,
	    (char)param_7, (char)param_8, *(undefined4 *)(puVar1 + 8));
	cVar2 = (char)(uVar4 - 0x360);
	iVar5 = FUN_100dad5c(cVar2 + '@', (char)lVar8, (char)param_3, (char)param_4, uVar16, (char)param_6,
	    (char)param_7, (char)param_8, puVar1[0xb], puVar1[0xf],
	    *(undefined4 *)(puVar1 + 0x14));
	iVar7 = *(int *)(puVar1 + 0x14);
	if (iVar5 == 0) {
		app_fatal(*(int *)(iVar7 + -0x61c4), lVar8, param_3, param_4, CONCAT71(uVar14, uVar16), param_6,
		    param_7, param_8, *(undefined4 *)(puVar1 + 8), puVar1[0xf],
		    *(undefined4 *)(puVar1 + 0x18), *(undefined4 *)(puVar1 + 0x1c),
		    *(undefined4 *)(puVar1 + 0x20), *(undefined4 *)(puVar1 + 0x24),
		    *(undefined4 *)(puVar1 + 0x28), *(undefined4 *)(puVar1 + 0x2c),
		    *(undefined4 *)(puVar1 + 0x30), *(undefined4 *)(puVar1 + 0x34));
	}
	lVar8 = uVar4 - 0x224;
	uVar10 = 0x104;
	uVar3 = GetModuleFileName((char)**(undefined4 **)(iVar7 + -0x75c4), (char)lVar8, 4, (char)param_4,
	    uVar16, (char)param_6, (char)param_7, (char)param_8, puVar1[0xb], puVar1[0xf], *(undefined4 *)(puVar1 + 0x14));
	uVar19 = (undefined)param_8;
	uVar18 = (undefined)param_7;
	uVar17 = (undefined)param_6;
	uVar13 = (undefined)param_4;
	uVar11 = (undefined)uVar10;
	if ((uVar3 & 0xffffffff) == 0) {
		app_fatal(*(int *)(*(int *)(puVar1 + 0x14) + -0x61c8), lVar8, uVar10, param_4,
		    CONCAT71(uVar14, uVar16), param_6, param_7, param_8, *(undefined4 *)(puVar1 + 8),
		    puVar1[0xf], *(undefined4 *)(puVar1 + 0x18), *(undefined4 *)(puVar1 + 0x1c),
		    *(undefined4 *)(puVar1 + 0x20), *(undefined4 *)(puVar1 + 0x24),
		    *(undefined4 *)(puVar1 + 0x28), *(undefined4 *)(puVar1 + 0x2c),
		    *(undefined4 *)(puVar1 + 0x30), *(undefined4 *)(puVar1 + 0x34));
	}
	uVar9 = 0x5c;
	pcVar6 = strrchr(puVar1 + 0x13c, 0x5c, *puVar1);
	if (pcVar6 != (char *)0x0) {
		*pcVar6 = '\0';
	}
	init_strip_trailing_slash((int)(puVar1 + 0x13c), uVar9, uVar11, uVar13, uVar16, uVar17, uVar18, uVar19,
	    *(undefined4 *)(puVar1 + 8));
	strcpy(param_1, puVar1 + 0x240, *puVar1);
	strcat(param_1, param_2, *puVar1);
	iVar7 = SFileOpenArchive((char)param_1, uVar12, uVar15, cVar2 + 'D', uVar16, uVar17, uVar18, uVar19,
	    puVar1[0xb], puVar1[0xf], *(undefined4 *)(puVar1 + 0x14));
	if (iVar7 == 0) {
		uVar3 = strcmp(puVar1 + 0x13c, puVar1 + 0x240, *puVar1);
		if ((int)uVar3 != 0) {
			strcpy(param_1, puVar1 + 0x13c, *puVar1);
			strcat(param_1, param_2, *puVar1);
			iVar7 = SFileOpenArchive((char)param_1, uVar12, uVar15, cVar2 + 'D', uVar16, uVar17, uVar18, uVar19,
			    puVar1[0xb], puVar1[0xf], *(undefined4 *)(puVar1 + 0x14));
			if (iVar7 != 0) {
				return (ulonglong) * (uint *)(puVar1 + 0x344);
			}
		}
		puVar1[0x38] = 0;
		if (((int)param_5 == 0) || (uVar10 = init_read_test_file(uVar4 - 0x328, param_2, uVar12, cVar2 + 'D', uVar16, uVar17, uVar18, uVar19, *(undefined4 *)(puVar1 + 8)), (int)uVar10 == 0)) {
			uVar4 = 0;
		} else {
			strcpy(param_1, puVar1 + 0x38, *puVar1);
			uVar4 = (ulonglong) * (uint *)(puVar1 + 0x344);
		}
	} else {
		uVar4 = (ulonglong) * (uint *)(puVar1 + 0x344);
	}
	return uVar4;
}

void init_get_file_info(void)

{
	uint uVar1;
	uint uVar2;
	undefined4 uVar3;
	int iVar4;
	undefined *puVar5;
	undefined *puVar6;
	ulonglong uVar7;
	longlong lVar8;
	int iVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined param_4;
	undefined uVar13;
	undefined uVar14;
	undefined param_5;
	longlong lVar15;
	undefined param_6;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined uVar16;

	puVar6 = PTR_DAT_100f2e04;
	puVar5 = PTR_DAT_100f1a0c;
	uVar12 = 4;
	iVar4 = (int)(ZEXT48(register0x0000000c) - 0x60);
	*(BADSPACEBASE **)iVar4 = register0x0000000c;
	uVar10 = SUB41(puVar6, 0);
	uVar7 = GetModuleFileName((char)*(undefined4 *)puVar5, uVar10, 4, param_4, param_5, param_6, (char)in_r9, (char)in_r10, *(undefined *)(iVar4 + 0xb), *(undefined *)(iVar4 + 0xf),
	    *(undefined4 *)(iVar4 + 0x14));
	if ((uVar7 & 0xffffffff) != 0) {
		lVar8 = GetFileVersionInfoSize(uVar10, (char)(ZEXT48(register0x0000000c) - 0x60) + '@', uVar12, param_4, param_5, param_6, (char)in_r9, (char)in_r10, *(undefined *)(iVar4 + 0xb),
		    *(undefined *)(iVar4 + 0xf), *(undefined4 *)(iVar4 + 0x14));
		uVar12 = (undefined)lVar8;
		if (lVar8 != 0) {
			lVar8 = DiabloAllocPtr(lVar8);
			uVar11 = 0;
			uVar13 = (undefined)lVar8;
			uVar14 = uVar13;
			iVar9 = GetFileVersionInfo(uVar10, 0, uVar12, uVar13, param_5, param_6, (char)in_r9, (char)in_r10,
			    *(undefined *)(iVar4 + 0xb), *(undefined *)(iVar4 + 0xf),
			    *(undefined4 *)(iVar4 + 0x14));
			uVar16 = (undefined)in_r10;
			uVar10 = (undefined)in_r9;
			if (iVar9 != 0) {
				uVar11 = (undefined) * (undefined4 *)(*(int *)(iVar4 + 0x14) + -0x61d0);
				uVar12 = 0xd8;
				uVar14 = 0xdc;
				iVar9 = VerQueryValue(uVar13, uVar11, 0xd8, 0xdc, param_5, param_6, uVar10, uVar16,
				    *(undefined *)(iVar4 + 0xb), *(undefined *)(iVar4 + 0xf),
				    *(undefined4 *)(iVar4 + 0x14));
				uVar16 = (undefined)in_r10;
				uVar10 = (undefined)in_r9;
				if (iVar9 != 0) {
					uVar1 = *(uint *)(*(int *)(iVar4 + 0x38) + 0x14);
					uVar2 = *(uint *)(*(int *)(iVar4 + 0x38) + 0x10);
					uVar3 = *(undefined4 *)(*(int *)(iVar4 + 0x14) + -0x61d4);
					uVar11 = (undefined)uVar3;
					uVar12 = (undefined)(uVar2 >> 0x10);
					lVar15 = (ulonglong)(uVar1 & 0xffff) + 0x40;
					param_5 = (undefined)lVar15;
					uVar14 = (undefined)(uVar2 & 0xffff);
					param_6 = (undefined)(uVar1 >> 0x10);
					sprintf(*(int *)(iVar4 + 0x14) + 0x3252, uVar3, uVar2 >> 0x10, uVar2 & 0xffff,
					    (int)lVar15, uVar1 >> 0x10, in_r9, in_r10, *(undefined4 *)(iVar4 + 8),
					    *(undefined *)(iVar4 + 0xf), *(undefined4 *)(iVar4 + 0x1c),
					    *(undefined4 *)(iVar4 + 0x20), *(undefined4 *)(iVar4 + 0x24),
					    *(undefined4 *)(iVar4 + 0x28), *(undefined4 *)(iVar4 + 0x2c),
					    *(undefined4 *)(iVar4 + 0x30), *(undefined4 *)(iVar4 + 0x34));
				}
			}
			mem_free_dbg(lVar8, uVar11, uVar12, uVar14, param_5, param_6, uVar10, uVar16,
			    *(undefined4 *)(iVar4 + 8));
		}
	}
	return;
}

void init_archives(undefined8 uParm1, undefined8 uParm2, undefined param_3, undefined param_4,
    undefined param_5, undefined4 uParm6, undefined4 uParm7, undefined4 uParm8)

{
	undefined4 uVar1;
	undefined *puVar2;
	int *piVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	ulonglong uVar8;
	int iVar9;
	ulonglong uVar10;
	undefined8 uVar11;
	ulonglong uVar12;
	longlong lVar13;
	undefined uVar14;
	ulonglong uVar15;
	undefined8 uVar16;
	undefined uVar17;
	undefined8 uVar18;
	undefined uVar19;
	undefined8 uVar20;
	undefined uVar21;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	ulonglong uVar22;
	undefined8 unaff_r27;
	ulonglong uVar23;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	uint local_4c;
	undefined4 in_stack_ffffffc0;
	undefined uStack37;
	int local_24[2];
	undefined4 local_1c;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar7 = PTR_DAT_100f2df8;
	puVar6 = PTR_DAT_100f2df4;
	puVar5 = PTR_s__diabdat_mpq_100f2df0;
	puVar4 = PTR_s_diabdat_mpq_100f2de8;
	piVar3 = _DAT_100f1dcc;
	puVar2 = PTR_DAT_100f1dc8;
	local_1c = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar22 = ZEXT48(PTR_s_DiabloCD_100f2dec);
	uVar23 = ZEXT48(PTR_s__diabdat_mpq_100f2df0);
	memset((char)PTR_DAT_100f1dc8, 0x14, param_3, param_4, param_5, (char)uParm6, (char)uParm7,
	    (char)uParm8, (char)in_stack_ffffffa8, in_stack_ffffffaf, local_4c);
	uVar8 = (ulonglong)local_4c;
	*(undefined4 *)puVar2 = 0x14;
	uVar1 = *(undefined4 *)(local_4c - 0x61cc);
	*(uint *)(puVar2 + 4) = local_4c + 0x3252;
	*(undefined4 *)(puVar2 + 8) = uVar1;
	*(undefined **)(puVar2 + 0xc) = puVar7;
	*(undefined **)(puVar2 + 0x10) = puVar6;
	init_get_file_info();
	while (true) {
		uVar18 = 1000;
		uVar20 = 1;
		uVar12 = uVar23;
		uVar15 = uVar22;
		uVar10 = init_test_access((int)puVar7, puVar5, uVar22, 1000, 1, uParm6, uParm7, uParm8, in_stack_ffffffa8,
		    in_stack_ffffffaf, in_stack_ffffffc0);
		iVar9 = (int)uVar8;
		*piVar3 = (int)uVar10;
		if (*piVar3 != 0)
			break;
		UiCopyProtError(local_24, (char)uVar12, (char)uVar15, (char)uVar18, (char)uVar20, (char)uParm6,
		    (char)uParm7, (char)uParm8, in_stack_ffffffa8);
		if (local_24[0] == 2) {
			FileErrDlg(puVar4, uVar12, uVar15, uVar18, uVar20, uParm6, uParm7, uParm8, in_stack_ffffffa8);
		}
	}
	lVar13 = ZEXT48(register0x0000000c) - 0x28;
	uVar16 = 1;
	uVar11 = WOpenFile((ulonglong) * (uint *)(iVar9 + -0x61ec), lVar13, 1, uVar18, uVar20, uParm6, uParm7,
	    uParm8, in_stack_ffffffa8);
	uVar21 = (undefined)uVar20;
	uVar19 = (undefined)uVar18;
	uVar17 = (undefined)uVar16;
	uVar14 = (undefined)lVar13;
	if ((int)uVar11 == 0) {
		FileErrDlg(puVar4, lVar13, uVar16, uVar18, uVar20, uParm6, uParm7, uParm8, in_stack_ffffffa8);
	}
	WCloseFile(uStack37, uVar14, uVar17, uVar19, uVar21, (char)uParm6, (char)uParm7, (char)uParm8,
	    in_stack_ffffffa8);
	uVar22 = ZEXT48(*(char **)(iVar9 + -0x61f0));
	uVar23 = (ulonglong) * (uint *)(iVar9 + -0x61f4);
	uVar18 = 2000;
	uVar20 = 0;
	uVar8 = init_test_access((int)puVar6, *(char **)(iVar9 + -0x61f0), uVar23, 2000, 0, uParm6, uParm7, uParm8,
	    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffc0);
	*(undefined4 *)(iVar9 + -0x4e40) = (int)uVar8;
	if (*(int *)(iVar9 + -0x4e40) == 0) {
		FileErrDlg(*(undefined **)(iVar9 + -0x61f8), uVar22, uVar23, uVar18, uVar20, uParm6, uParm7, uParm8,
		    in_stack_ffffffa8);
	}
	return;
}

void init_create_window(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	char cVar2;
	undefined *puVar3;
	undefined4 uVar4;
	uint uVar5;
	undefined uVar6;
	longlong lVar7;
	ulonglong uVar8;
	undefined uVar9;
	undefined8 uVar10;
	undefined uVar11;
	undefined8 uVar12;
	undefined uVar13;
	undefined8 uVar14;
	undefined uVar15;
	undefined uVar16;
	undefined4 uVar17;
	undefined uVar18;
	undefined4 uVar19;
	undefined uVar20;

	puVar3 = PTR_DAT_100f1a0c;
	uVar8 = ZEXT48(s_DIABLO_100fc21b);
	iVar1 = (int)(ZEXT48(register0x0000000c) - 0x90);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	pfile_init_save_directory(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    *(undefined4 *)(iVar1 + 8));
	cVar2 = (char)(ZEXT48(register0x0000000c) - 0x90);
	lVar7 = 0x30;
	memset(cVar2 + 'H', 0x30, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7,
	    (char)param_8, *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
	    *(undefined4 *)(iVar1 + 0x14));
	uVar4 = *(undefined4 *)(*(int *)(iVar1 + 0x14) + -0x61fc);
	*(undefined4 *)(iVar1 + 0x48) = 0x30;
	*(undefined4 *)(iVar1 + 0x4c) = 3;
	*(undefined4 *)(iVar1 + 0x50) = uVar4;
	*(undefined4 *)(iVar1 + 0x5c) = *(undefined4 *)puVar3;
	*(undefined4 *)(iVar1 + 0x60) = 0;
	*(undefined4 *)(iVar1 + 100) = 0;
	uVar4 = GetStockObject(4, (char)lVar7, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
	    (char)param_7, (char)param_8, *(undefined *)(iVar1 + 0xb),
	    *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14));
	*(undefined4 *)(iVar1 + 0x68) = uVar4;
	*(undefined4 *)(iVar1 + 0x6c) = 0x100fc21b;
	*(undefined4 *)(iVar1 + 0x70) = 0x100fc21b;
	*(undefined4 *)(iVar1 + 0x74) = 0;
	uVar5 = RegisterClassEx(cVar2 + 'H', (char)lVar7, (char)param_3, (char)param_4, (char)param_5,
	    (char)param_6, (char)param_7, (char)param_8, *(undefined *)(iVar1 + 0xb),
	    *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14));
	if ((uVar5 & 0xffff) == 0) {
		app_fatal(*(int *)(*(int *)(iVar1 + 0x14) + -0x6200), lVar7, param_3, param_4, param_5, param_6,
		    param_7, param_8, *(undefined4 *)(iVar1 + 8), *(undefined *)(iVar1 + 0xf),
		    *(undefined4 *)(iVar1 + 0x18), *(undefined4 *)(iVar1 + 0x1c),
		    *(undefined4 *)(iVar1 + 0x20), *(undefined4 *)(iVar1 + 0x24),
		    *(undefined4 *)(iVar1 + 0x28), *(undefined4 *)(iVar1 + 0x2c),
		    *(undefined4 *)(iVar1 + 0x30), *(undefined4 *)(iVar1 + 0x34));
	}
	*(undefined4 *)(iVar1 + 0x38) = 0;
	uVar10 = 0;
	uVar12 = 0;
	*(undefined4 *)(iVar1 + 0x3c) = *(undefined4 *)puVar3;
	uVar14 = 0;
	uVar4 = 0x280;
	*(undefined4 *)(iVar1 + 0x40) = 0;
	uVar17 = 0x1e0;
	uVar19 = 0;
	lVar7 = CreateWindow(0x1b, 0x1b, 0, 0, 0, 0x80, 0xe0, 0, *(undefined *)(iVar1 + 0xb),
	    *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14));
	uVar20 = (undefined)uVar19;
	uVar18 = (undefined)uVar17;
	uVar16 = (undefined)uVar4;
	uVar15 = (undefined)uVar14;
	uVar13 = (undefined)uVar12;
	uVar11 = (undefined)uVar10;
	if (lVar7 == 0) {
		app_fatal(*(int *)(*(int *)(iVar1 + 0x14) + -0x6204), uVar8, uVar10, uVar12, uVar14, uVar4, uVar17,
		    uVar19, *(undefined4 *)(iVar1 + 8), *(undefined *)(iVar1 + 0xf),
		    *(undefined4 *)(iVar1 + 0x18), *(undefined4 *)(iVar1 + 0x1c),
		    *(undefined4 *)(iVar1 + 0x20), *(undefined4 *)(iVar1 + 0x24),
		    *(undefined4 *)(iVar1 + 0x28), *(undefined4 *)(iVar1 + 0x2c),
		    *(undefined4 *)(iVar1 + 0x30), *(undefined4 *)(iVar1 + 0x34));
	}
	uVar9 = 1;
	uVar6 = (undefined)lVar7;
	ShowWindow(uVar6, 1, uVar11, uVar13, uVar15, uVar16, uVar18, uVar20, *(undefined *)(iVar1 + 0xb),
	    *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14));
	UpdateWindow(uVar6, uVar9, uVar11, uVar13, uVar15, uVar16, uVar18, uVar20, *(undefined *)(iVar1 + 0xb),
	    *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14));
	uVar6 = dx_init(uVar6, uVar9, uVar11, uVar13, uVar15, uVar16, uVar18, uVar20,
	    *(undefined4 *)(iVar1 + 8));
	BlackPalette(uVar6, uVar9, uVar11, uVar13, uVar15, uVar16, uVar18, uVar20, *(undefined4 *)(iVar1 + 8));
	snd_init(lVar7);
	init_archives();
	return;
}

void init_activate_window(undefined4 param_1, undefined4 param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11)

{
	undefined4 *puVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined uVar4;
	undefined4 in_stack_ffffffc8;

	puVar2 = PTR_DAT_100f1dc0;
	uVar4 = (undefined)param_2;
	ppuVar3 = &toc;
	*(undefined4 *)PTR_DAT_100f1dc0 = param_2;
	UiAppActivate(param_2);
	if (*(int *)puVar2 != 0) {
		puVar1 = (undefined4 *)ppuVar3[-0x1daf];
		*puVar1 = 0xff;
		ResetPal((char)puVar1, uVar4, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	}
	return;
}

undefined8
MainWndProc(uint param_1, undefined8 param_2, ulonglong param_3, undefined8 param_4, undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined uVar3;
	undefined8 uVar2;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	int iVar14;
	undefined4 in_stack_ffffffb8;
	undefined uVar15;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;
	undefined4 in_stack_ffffffc8;

	puVar1 = PTR_DAT_100f17c4;
	uVar15 = (undefined)in_stack_ffffffb8;
	uVar8 = (undefined)param_4;
	uVar6 = (undefined)param_3;
	uVar4 = (undefined)param_2;
	uVar10 = (undefined)param_5;
	uVar13 = (undefined)param_8;
	uVar12 = (undefined)param_7;
	uVar11 = (undefined)param_6;
	iVar14 = (int)param_2;
	if (iVar14 == 0x14) {
		uVar2 = 0;
	} else {
		uVar3 = (undefined)param_1;
		if (iVar14 < 0x14) {
			if (iVar14 == 0xf) {
				*(undefined4 *)PTR_DAT_100f1914 = 0xff;
			} else {
				if (iVar14 < 0xf) {
					if (iVar14 == 2) {
						uVar5 = uVar4;
						uVar7 = uVar6;
						uVar9 = uVar8;
						init_cleanup(1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
						*(undefined4 *)puVar1 = 0;
						PostQuitMessage(0, uVar5, uVar7, uVar9, uVar10, uVar11, uVar12, uVar13, uVar15, in_stack_ffffffbf, local_3c);
					} else {
						if ((iVar14 < 2) && (0 < iVar14)) {
							*(uint *)PTR_DAT_100f17c4 = param_1;
						}
					}
				} else {
					if (iVar14 < 0x11) {
						return 0;
					}
				}
			}
		} else {
			if (iVar14 == 0x30f) {
				SDrawRealizePalette(uVar3, uVar4, uVar6, uVar8, uVar10, uVar11, uVar12, uVar13, uVar15,
				    in_stack_ffffffbf, local_3c);
				return 1;
			}
			if (iVar14 < 0x30f) {
				if (iVar14 == 0x1c) {
					init_activate_window(param_1, (int)param_3, uVar6, uVar8, uVar10, uVar11, uVar12, uVar13,
					    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8);
				}
			} else {
				if ((iVar14 == 0x311) && ((param_3 & 0xffffffff) != ((longlong)(int)param_1 & 0xffffffffU))) {
					SDrawRealizePalette(uVar3, uVar4, uVar6, uVar8, uVar10, uVar11, uVar12, uVar13, uVar15,
					    in_stack_ffffffbf, local_3c);
				}
			}
		}
		uVar2 = DefWindowProc(uVar3, uVar4, uVar6, uVar8, uVar10, uVar11, uVar12, uVar13, uVar15,
		    in_stack_ffffffbf, local_3c);
	}
	return uVar2;
}

ulonglong SetWindowProc(undefined *param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	int iVar2;
	undefined *puVar3;
	ulonglong uVar4;

	puVar3 = PTR_PTR_LAB_100f1a30;
	iVar2 = (int)(ZEXT48(register0x0000000c) - 0x50);
	*(BADSPACEBASE **)iVar2 = register0x0000000c;
	uVar4 = ZEXT48(_DAT_100f4194);
	_DAT_100f4194 = param_1;
	if (param_1 == puVar3) {
		_DAT_100f4194 = param_1;
		GetCursorPos((char)(ZEXT48(register0x0000000c) - 0x50) + '8', param_2, param_3, param_4, param_5,
		    param_6, param_7, param_8, *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf),
		    *(undefined4 *)(iVar2 + 0x14));
		puVar1 = *(undefined4 **)(*(int *)(iVar2 + 0x14) + -0x76ac);
		**(undefined4 **)(*(int *)(iVar2 + 0x14) + -0x76a8) = *(undefined4 *)(iVar2 + 0x38);
		*puVar1 = *(undefined4 *)(iVar2 + 0x3c);
	}
	return uVar4;
}

void FUN_10044920(void)

{
	_DAT_100f4198 = _DAT_100f4188;
	return;
}

void FreeInterface(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	mem_free_dbg((int **)&DAT_100f41ac, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

void InitCutscene(int param_1, longlong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined7 uVar2;
	undefined uVar3;
	undefined7 uVar4;
	undefined uVar5;
	undefined7 uVar6;
	undefined uVar7;
	undefined7 uVar8;
	undefined uVar9;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;
	undefined4 in_stack_ffffff98;
	undefined4 in_stack_ffffff9c;
	undefined4 in_stack_ffffffa0;
	undefined4 in_stack_ffffffa4;
	undefined4 in_stack_ffffffa8;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;

	uVar8 = (undefined7)((ulonglong)param_5 >> 8);
	uVar9 = (undefined)param_5;
	uVar6 = (undefined7)((ulonglong)param_4 >> 8);
	uVar7 = (undefined)param_4;
	uVar4 = (undefined7)((ulonglong)param_3 >> 8);
	uVar5 = (undefined)param_3;
	uVar2 = (undefined7)((ulonglong)param_2 >> 8);
	uVar3 = (undefined)param_2;
	ppuVar1 = &toc;
	if (_DAT_100f41ac != 0) {
		ppuVar1 = &toc;
		mem_free_dbg((int **)&DAT_100f41ac, uVar3, uVar5, uVar7, uVar9, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffff88);
	}
	if (param_1 - 0x402U < 10) {
		// WARNING: Could not recover jumptable at 0x100449d8. Too many branches
		// WARNING: Treating indirect jump as call
		(*(code *)ppuVar1[param_1 + 0x955])();
		return;
	}
	app_fatal((int)ppuVar1[-0x186b], CONCAT71(uVar2, uVar3), CONCAT71(uVar4, uVar5),
	    CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9), param_6, param_7, param_8, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff98, in_stack_ffffff9c, in_stack_ffffffa0,
	    in_stack_ffffffa4, in_stack_ffffffa8, in_stack_ffffffac, in_stack_ffffffb0,
	    in_stack_ffffffb4);
	ppuVar1[-0x138a] = (undefined *)0x0;
	return;
}

// WARNING: Removing unreachable block (ram,0x10044fa0)

void DrawProgress(int param_1, int param_2, int param_3)

{
	longlong lVar1;
	undefined *puVar2;
	undefined *puVar3;

	puVar3 = (undefined *)(param_3 + 0x100f419c);
	puVar2 = (undefined *)(*(int *)PTR_DAT_100f17cc + *(int *)(PTR_DAT_100f1938 + param_2 * 4) + param_1);
	*puVar2 = *puVar3;
	puVar2[0x300] = *puVar3;
	puVar2[0x600] = *puVar3;
	puVar2[0x900] = *puVar3;
	puVar2[0xc00] = *puVar3;
	puVar2[0xf00] = *puVar3;
	puVar2[0x1200] = *puVar3;
	puVar2[0x1500] = *puVar3;
	puVar2[0x1800] = *puVar3;
	puVar2[0x1b00] = *puVar3;
	puVar2[0x1e00] = *puVar3;
	puVar2[0x2100] = *puVar3;
	puVar2[0x2400] = *puVar3;
	puVar2[0x2700] = *puVar3;
	puVar2[0x2a00] = *puVar3;
	puVar2[0x2d00] = *puVar3;
	puVar2 = puVar2 + 0x3000;
	lVar1 = 6;
	do {
		*puVar2 = *puVar3;
		puVar2 = puVar2 + 0x300;
		lVar1 = lVar1 + -1;
	} while (lVar1 != 0);
	return;
}

void DrawCutscene(undefined8 uParm1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined4 uParm6, undefined8 uParm7, undefined4 uParm8)

{
	uint uVar1;
	undefined4 *puVar2;
	ulonglong uVar3;
	int iVar4;
	longlong lVar5;
	ulonglong uVar6;
	undefined8 uVar7;
	undefined8 uVar8;
	undefined4 uVar9;
	undefined4 uVar10;
	uint uVar11;
	undefined4 in_stack_ffffffc8;

	uVar10 = (undefined4)uParm7;
	uVar9 = (undefined4)((ulonglong)uParm7 >> 0x20);
	uVar3 = ZEXT48(&toc);
	lock_buf(1, param_2, param_3, param_4, param_5, (char)uParm6, (char)uParm7, (char)uParm8,
	    in_stack_ffffffc8);
	uVar6 = (ulonglong) * (uint *)((int)uVar3 + -0x4e24);
	lVar5 = 0x27f;
	uVar7 = 1;
	uVar8 = 0x280;
	CelDecodeOnly(0x40, 0x27f, uVar6, 1, 0x280, uParm6, uVar10, uParm8, in_stack_ffffffc8);
	uVar11 = 0;
	while (iVar4 = (int)uVar3, uVar11 < *(uint *)(iVar4 + -0x4e28)) {
		uVar1 = *(uint *)(iVar4 + -0x4e2c);
		uVar6 = (ulonglong)uVar1;
		lVar5 = (ulonglong) * (uint *)(uVar1 * 8 + 0x100fc558) + 0xa0;
		DrawProgress(*(int *)(&DAT_100fc554 + uVar1 * 8) + uVar11 + 0x40, (int)lVar5, uVar1);
		uVar11 = uVar11 + 1;
	}
	unlock_buf(1, lVar5, uVar6, uVar7, uVar8, uParm6, uVar10, uParm8, in_stack_ffffffc8);
	puVar2 = *(undefined4 **)(iVar4 + -0x76bc);
	*puVar2 = 0xff;
	scrollrt_draw_game_screen(0, ZEXT48(puVar2), uVar6, uVar7, uVar8, uParm6, CONCAT44(uVar9, uVar10), uParm8,
	    in_stack_ffffffc8);
	return;
}

void interface_msg_pump(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, char param_6, char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	char cVar2;
	int iVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;

	lVar10 = (longlong)param_8;
	lVar9 = (longlong)param_7;
	lVar8 = (longlong)param_6;
	iVar1 = (int)(ZEXT48(register0x0000000c) - 0x60);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	while (true) {
		cVar2 = (char)(ZEXT48(register0x0000000c) - 0x60);
		uVar4 = 0;
		uVar5 = 0;
		uVar6 = 0;
		uVar7 = 1;
		iVar3 = PeekMessage(cVar2 + '8', 0, 0, 0, 1, (char)lVar8, (char)lVar9, (char)lVar10,
		    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
		    *(undefined4 *)(iVar1 + 0x14));
		if (iVar3 == 0)
			break;
		if (*(int *)(iVar1 + 0x3c) != 0x12) {
			TranslateMessage(cVar2 + '8', uVar4, uVar5, uVar6, uVar7, (char)lVar8, (char)lVar9, (char)lVar10,
			    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
			    *(undefined4 *)(iVar1 + 0x14));
			DispatchMessage(cVar2 + '8', uVar4, uVar5, uVar6, uVar7, (char)lVar8, (char)lVar9, (char)lVar10,
			    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
			    *(undefined4 *)(iVar1 + 0x14));
		}
	}
	return;
}

ulonglong IncProgress(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	interface_msg_pump(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	ppuVar1[-0x138a] = ppuVar1[-0x138a] + 0xf;
	if ((undefined *)0x216 < ppuVar1[-0x138a]) {
		ppuVar1[-0x138a] = (undefined *)0x216;
	}
	if (ppuVar1[-0x1389] != (undefined *)0x0) {
		DrawCutscene();
	}
	return (ulonglong)(-((uint)(ppuVar1[-0x138a] < (undefined *)0x216) - 1) & 0xff);
}

void ShowProgress(int param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined8 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	uint uVar3;
	undefined *puVar4;
	char *pcVar5;
	int iVar6;
	undefined **ppuVar7;
	ulonglong uVar8;
	undefined uVar10;
	ulonglong uVar9;
	undefined uVar11;
	undefined uVar12;
	undefined uVar14;
	undefined *puVar13;
	undefined uVar15;
	undefined uVar16;
	undefined4 uVar17;
	undefined uVar18;
	undefined uVar19;
	undefined *puVar20;
	undefined4 in_stack_ffffffa8;

	pcVar5 = _DAT_100f1dd4;
	puVar13 = PTR_DAT_100f1828;
	puVar4 = PTR_DAT_100f1824;
	ppuVar7 = &toc;
	*_DAT_100f1dd4 = '\0';
	plrmsg_delay(1, (char)param_2, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffa8);
	uVar8 = SetWindowProc(ppuVar7[-0x1c9e], (char)param_2, (char)param_3, (char)param_4, (char)param_5,
	    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffa8);
	interface_msg_pump((char)uVar8, (char)param_2, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
	    (char)param_7, (char)param_8, in_stack_ffffffa8);
	ClearScreenBuffer();
	uVar17 = (undefined4)param_7;
	scrollrt_draw_game_screen(1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	uVar10 = InitCutscene(param_1, param_2, param_3, param_4, param_5, param_6, uVar17, param_8,
	    in_stack_ffffffa8);
	BlackPalette(uVar10, (char)param_2, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
	    (char)uVar17, (char)param_8, in_stack_ffffffa8);
	DrawCutscene();
	uVar10 = PaletteFadeIn(8, (char)param_2, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
	    (char)uVar17, (char)param_8, in_stack_ffffffa8);
	uVar9 = IncProgress(uVar10, (char)param_2, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
	    (char)uVar17, (char)param_8, in_stack_ffffffa8);
	uVar15 = (undefined)param_5;
	uVar14 = (undefined)param_4;
	uVar12 = (undefined)param_3;
	uVar11 = (undefined)param_2;
	uVar10 = stream_update(uVar9, param_2, param_3, param_4, param_5, param_6, uVar17, param_8,
	    in_stack_ffffffa8);
	IncProgress(uVar10, uVar11, uVar12, uVar14, uVar15, (char)param_6, (char)uVar17, (char)param_8,
	    in_stack_ffffffa8);
	if (param_1 - 0x402U < 10) {
		// WARNING: Could not recover jumptable at 0x100451d8. Too many branches
		// WARNING: Treating indirect jump as call
		(*(code *)ppuVar7[param_1 + 0x965])();
		return;
	}
	uVar10 = PaletteFadeOut(8, uVar11, uVar12, uVar14, uVar15, (char)param_6, (char)uVar17, (char)param_8,
	    in_stack_ffffffa8);
	FreeInterface(uVar10, uVar11, uVar12, uVar14, uVar15, (char)param_6, (char)uVar17, (char)param_8,
	    in_stack_ffffffa8);
	SetWindowProc((undefined *)uVar8, uVar11, uVar12, uVar14, uVar15, (char)param_6, (char)uVar17,
	    (char)param_8, in_stack_ffffffa8);
	uVar19 = (undefined)param_8;
	uVar18 = (undefined)uVar17;
	uVar16 = (undefined)param_6;
	puVar20 = puVar13 + 0x34;
	iVar6 = *(int *)puVar4 * 0x55ec;
	puVar13 = puVar13 + iVar6;
	uVar11 = 0x35;
	uVar1 = *(uint *)(puVar20 + iVar6) & 0xffff;
	uVar15 = (undefined)uVar1;
	uVar2 = *(uint *)(puVar13 + 0x38) & 0xff;
	uVar12 = (undefined)uVar2;
	uVar3 = *(uint *)(puVar13 + 0x3c) & 0xff;
	uVar14 = (undefined)uVar3;
	NetSendCmdLocParam1(1, 0x35, (ulonglong)uVar2, (ulonglong)uVar3, (ulonglong)uVar1, param_6, uVar17, param_8,
	    in_stack_ffffffa8);
	uVar10 = plrmsg_delay(0, uVar11, uVar12, uVar14, uVar15, uVar16, uVar18, uVar19, in_stack_ffffffa8);
	ResetPal(uVar10, uVar11, uVar12, uVar14, uVar15, uVar16, uVar18, uVar19, in_stack_ffffffa8);
	if ((*pcVar5 != '\0') && (*(int *)(puVar20 + *(int *)puVar4 * 0x55ec) == 0x10)) {
		PrepDoEnding();
	}
	*pcVar5 = '\0';
	return;
}

void FUN_1004552c(void)

{
	_DAT_100f41b0 = _DAT_100f41a0;
	return;
}

void FreeInvGFX(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	mem_free_dbg((int **)&DAT_100f41bc, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

void InitInv(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	char cVar1;
	undefined4 *puVar2;
	undefined **ppuVar3;
	longlong lVar4;
	undefined4 in_stack_ffffffc8;

	ppuVar3 = &toc;
	cVar1 = PTR_DAT_100f1828[*(int *)PTR_DAT_100f1824 * 0x55ec + 0x15c];
	if (cVar1 == '\0') {
		ppuVar3 = &toc;
		lVar4 = LoadFileInMem((ulonglong)_DAT_100f2e8c, (undefined4 *)0x0, param_3, param_4, param_5, param_6,
		    param_7, param_8, in_stack_ffffffc8);
		ppuVar3[-0x1385] = (undefined *)lVar4;
	} else {
		if (cVar1 == '\x01') {
			ppuVar3 = &toc;
			lVar4 = LoadFileInMem((ulonglong)_DAT_100f2e88, (undefined4 *)0x0, param_3, param_4, param_5,
			    param_6, param_7, param_8, in_stack_ffffffc8);
			ppuVar3[-0x1385] = (undefined *)lVar4;
		} else {
			if (cVar1 == '\x02') {
				ppuVar3 = &toc;
				lVar4 = LoadFileInMem((ulonglong)_DAT_100f2e84, (undefined4 *)0x0, param_3, param_4, param_5,
				    param_6, param_7, param_8, in_stack_ffffffc8);
				ppuVar3[-0x1385] = (undefined *)lVar4;
			}
		}
	}
	puVar2 = (undefined4 *)ppuVar3[-0x1d9c];
	*(undefined4 *)ppuVar3[-0x1def] = 0;
	*puVar2 = 0;
	return;
}

void InvDrawSlotBack(int param_1, int param_2, int param_3, longlong param_4)

{
	byte bVar1;
	byte *pbVar2;
	int iVar3;
	byte *pbVar4;

	pbVar2 = (byte *)(*(int *)PTR_DAT_100f17cc + *(int *)(PTR_DAT_100f1938 + param_2 * 4) + param_1);
	iVar3 = param_3;
	do {
		do {
			pbVar4 = pbVar2;
			bVar1 = *pbVar4;
			if (0xaf < bVar1) {
				if (bVar1 < 0xc0) {
					*pbVar4 = bVar1 - 0x10;
				} else {
					if (0xef < bVar1) {
						*pbVar4 = bVar1 + 0xb0;
					}
				}
			}
			iVar3 = iVar3 + -1;
			pbVar2 = pbVar4 + 1;
		} while (iVar3 != 0);
		param_4 = param_4 + -1;
		pbVar2 = pbVar4 + (-0x2ff - param_3);
		iVar3 = param_3;
	} while (param_4 != 0);
	return;
}

void DrawInv(void)

{
	char cVar1;
	uint uVar2;
	undefined *puVar3;
	int iVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined4 *puVar9;
	undefined **ppuVar10;
	longlong lVar11;
	ulonglong uVar12;
	undefined uVar14;
	int iVar13;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 uVar15;
	undefined8 in_r10;
	undefined8 uVar16;
	undefined *puVar17;
	longlong lVar18;
	ulonglong uVar19;
	undefined4 in_stack_fffffef8;

	puVar9 = _DAT_100f1d3c;
	puVar8 = PTR_DAT_100f199c;
	puVar7 = PTR_DAT_100f18a4;
	puVar6 = PTR_DAT_100f1828;
	puVar5 = PTR_DAT_100f1824;
	puVar17 = PTR_DAT_100f17cc;
	ppuVar10 = &toc;
	CelDecodeOnly(0x180, 0x1ff, (ulonglong)_DAT_100f41bc, 1, 0x140, in_r8, in_r9, (int)in_r10,
	    in_stack_fffffef8);
	if (*(int *)(puVar6 + *(int *)puVar5 * 0x55ec + 0x4a0) != -1) {
		InvDrawSlotBack(0x205, 0xdb, 0x38, 0x38);
		lVar11 = (ulonglong) * (uint *)(puVar6 + *(int *)puVar5 * 0x55ec + 0x558) + 0xc;
		uVar19 = (ulonglong)
		    * (uint *)(s__AAAAAAACEEEEIIIIDNOOOOOX0UUUUYb_100f65a7 + (int)lVar11 * 4 + 0x41);
		if (*puVar7 == '\0') {
			uVar14 = 0xc5;
			if ((puVar6 + *(int *)puVar5 * 0x55ec)[0x4d4] != '\0') {
				uVar14 = 0xb5;
			}
			if (*(int *)(puVar6 + *(int *)puVar5 * 0x55ec + 0x5fc) == 0) {
				uVar14 = 0xe5;
			}
			in_r10 = 8;
			CelDecodeClr(uVar14, 0x205, 0xdb, (ulonglong) * (uint *)puVar8, lVar11, uVar19, 0, 8, in_stack_fffffef8);
		}
		if (*(int *)(puVar6 + *(int *)puVar5 * 0x55ec + 0x5fc) == 0) {
			in_r10 = 1;
			CelDrawHdrLightRed(0x205, 0xdb, (ulonglong) * (uint *)puVar8, lVar11, uVar19, 0, 8, 1, in_stack_fffffef8);
		} else {
			CelDrawHdrOnly(0x205, 0xdb, (ulonglong) * (uint *)puVar8, lVar11, uVar19, 0, 8, (int)in_r10,
			    in_stack_fffffef8);
		}
	}
	if (*(int *)(puVar6 + *(int *)puVar5 * 0x55ec + 0x610) != -1) {
		InvDrawSlotBack(0x1b0, 0x16d, 0x1c, 0x1c);
		lVar11 = (ulonglong) * (uint *)(puVar6 + *(int *)puVar5 * 0x55ec + 0x6c8) + 0xc;
		uVar19 = (ulonglong)
		    * (uint *)(s__AAAAAAACEEEEIIIIDNOOOOOX0UUUUYb_100f65a7 + (int)lVar11 * 4 + 0x41);
		if (*puVar7 == '\x01') {
			uVar14 = 0xc5;
			if ((puVar6 + *(int *)puVar5 * 0x55ec)[0x644] != '\0') {
				uVar14 = 0xb5;
			}
			if (*(int *)(puVar6 + *(int *)puVar5 * 0x55ec + 0x76c) == 0) {
				uVar14 = 0xe5;
			}
			in_r10 = 8;
			CelDecodeClr(uVar14, 0x1b0, 0x16d, (ulonglong) * (uint *)puVar8, lVar11, uVar19, 0, 8, in_stack_fffffef8);
		}
		if (*(int *)(puVar6 + *(int *)puVar5 * 0x55ec + 0x76c) == 0) {
			in_r10 = 1;
			CelDrawHdrLightRed(0x1b0, 0x16d, (ulonglong) * (uint *)puVar8, lVar11, uVar19, 0, 8, 1, in_stack_fffffef8);
		} else {
			CelDrawHdrOnly(0x1b0, 0x16d, (ulonglong) * (uint *)puVar8, lVar11, uVar19, 0, 8, (int)in_r10,
			    in_stack_fffffef8);
		}
	}
	if (*(int *)(puVar6 + *(int *)puVar5 * 0x55ec + 0x780) != -1) {
		InvDrawSlotBack(0x279, 0x16d, 0x1c, 0x1c);
		lVar11 = (ulonglong) * (uint *)(puVar6 + *(int *)puVar5 * 0x55ec + 0x838) + 0xc;
		uVar19 = (ulonglong)
		    * (uint *)(s__AAAAAAACEEEEIIIIDNOOOOOX0UUUUYb_100f65a7 + (int)lVar11 * 4 + 0x41);
		if (*puVar7 == '\x02') {
			uVar14 = 0xc5;
			if ((puVar6 + *(int *)puVar5 * 0x55ec)[0x7b4] != '\0') {
				uVar14 = 0xb5;
			}
			if (*(int *)(puVar6 + *(int *)puVar5 * 0x55ec + 0x8dc) == 0) {
				uVar14 = 0xe5;
			}
			in_r10 = 8;
			CelDecodeClr(uVar14, 0x279, 0x16d, (ulonglong) * (uint *)puVar8, lVar11, uVar19, 0, 8, in_stack_fffffef8);
		}
		if (*(int *)(puVar6 + *(int *)puVar5 * 0x55ec + 0x8dc) == 0) {
			in_r10 = 1;
			CelDrawHdrLightRed(0x279, 0x16d, (ulonglong) * (uint *)puVar8, lVar11, uVar19, 0, 8, 1, in_stack_fffffef8);
		} else {
			CelDrawHdrOnly(0x279, 0x16d, (ulonglong) * (uint *)puVar8, lVar11, uVar19, 0, 8, (int)in_r10,
			    in_stack_fffffef8);
		}
	}
	if (*(int *)(puVar6 + *(int *)puVar5 * 0x55ec + 0x8f0) != -1) {
		InvDrawSlotBack(0x24d, 0xdc, 0x1c, 0x1c);
		lVar11 = (ulonglong) * (uint *)(puVar6 + *(int *)puVar5 * 0x55ec + 0x9a8) + 0xc;
		uVar19 = (ulonglong)
		    * (uint *)(s__AAAAAAACEEEEIIIIDNOOOOOX0UUUUYb_100f65a7 + (int)lVar11 * 4 + 0x41);
		if (*puVar7 == '\x03') {
			uVar14 = 0xc5;
			if ((puVar6 + *(int *)puVar5 * 0x55ec)[0x924] != '\0') {
				uVar14 = 0xb5;
			}
			if (*(int *)(puVar6 + *(int *)puVar5 * 0x55ec + 0xa4c) == 0) {
				uVar14 = 0xe5;
			}
			in_r10 = 8;
			CelDecodeClr(uVar14, 0x24d, 0xdc, (ulonglong) * (uint *)puVar8, lVar11, uVar19, 0, 8, in_stack_fffffef8);
		}
		if (*(int *)(puVar6 + *(int *)puVar5 * 0x55ec + 0xa4c) == 0) {
			in_r10 = 1;
			CelDrawHdrLightRed(0x24d, 0xdc, (ulonglong) * (uint *)puVar8, lVar11, uVar19, 0, 8, 1, in_stack_fffffef8);
		} else {
			CelDrawHdrOnly(0x24d, 0xdc, (ulonglong) * (uint *)puVar8, lVar11, uVar19, 0, 8, (int)in_r10,
			    in_stack_fffffef8);
		}
	}
	if (*(int *)(puVar6 + *(int *)puVar5 * 0x55ec + 0xa60) != -1) {
		InvDrawSlotBack(0x191, 0x140, 0x38, 0x54);
		iVar13 = *(int *)puVar5 * 0x55ec;
		lVar11 = (ulonglong) * (uint *)(puVar6 + iVar13 + 0xb18) + 0xc;
		uVar2 = *(uint *)(s__AAAAAAACEEEEIIIIDNOOOOOX0UUUUYb_100f65a7 + (int)lVar11 * 4 + 0x41);
		uVar19 = (ulonglong)uVar2;
		if (uVar2 == 0x1c) {
			lVar18 = 0x19f;
		} else {
			lVar18 = 0x191;
		}
		if (*(int *)(&DAT_100f68b8 + (int)lVar11 * 4) == 0x54) {
			uVar16 = 0x140;
		} else {
			uVar16 = 0x132;
		}
		if (*puVar7 == '\x04') {
			uVar14 = 0xc5;
			if (puVar6[iVar13 + 0xa94] != '\0') {
				uVar14 = 0xb5;
			}
			if (*(int *)(puVar6 + iVar13 + 0xbbc) == 0) {
				uVar14 = 0xe5;
			}
			in_r10 = 8;
			CelDecodeClr(uVar14, lVar18, uVar16, (ulonglong) * (uint *)puVar8, lVar11, uVar19, 0, 8,
			    in_stack_fffffef8);
		}
		if (*(int *)(puVar6 + *(int *)puVar5 * 0x55ec + 0xbbc) == 0) {
			uVar15 = 8;
			in_r10 = 1;
			CelDrawHdrLightRed(lVar18, uVar16, (ulonglong) * (uint *)puVar8, lVar11, uVar19, 0, 8, 1, in_stack_fffffef8);
		} else {
			uVar15 = 8;
			CelDrawHdrOnly((int)lVar18, uVar16, (ulonglong) * (uint *)puVar8, lVar11, uVar19, 0, 8, (int)in_r10,
			    in_stack_fffffef8);
		}
		if (puVar6[*(int *)puVar5 * 0x55ec + 0xb15] == '\x02') {
			InvDrawSlotBack(0x277, 0x140, 0x38, 0x54);
			*(undefined4 *)ppuVar10[-0x1ca4] = 0;
			*puVar9 = 1;
			if (uVar2 == 0x1c) {
				uVar12 = (ulonglong) * (uint *)puVar17 + 0x3c285;
			} else {
				uVar12 = (ulonglong) * (uint *)puVar17 + 0x3c277;
			}
			CelDecodeHdrLightTrans(uVar12, (ulonglong) * (uint *)puVar8, lVar11, uVar19, 0, 8, uVar15, (int)in_r10,
			    in_stack_fffffef8);
			*puVar9 = 0;
		}
	}
	if (*(int *)(puVar6 + *(int *)puVar5 * 0x55ec + 0xbd0) != -1) {
		InvDrawSlotBack(0x277, 0x140, 0x38, 0x54);
		iVar13 = *(int *)puVar5 * 0x55ec;
		lVar11 = (ulonglong) * (uint *)(puVar6 + iVar13 + 0xc88) + 0xc;
		uVar19 = (ulonglong)
		    * (uint *)(s__AAAAAAACEEEEIIIIDNOOOOOX0UUUUYb_100f65a7 + (int)lVar11 * 4 + 0x41);
		if (*(uint *)(s__AAAAAAACEEEEIIIIDNOOOOOX0UUUUYb_100f65a7 + (int)lVar11 * 4 + 0x41) == 0x1c) {
			lVar18 = 0x285;
		} else {
			lVar18 = 0x279;
		}
		if (*(int *)(&DAT_100f68b8 + (int)lVar11 * 4) == 0x54) {
			uVar16 = 0x140;
		} else {
			uVar16 = 0x132;
		}
		if (*puVar7 == '\x05') {
			uVar14 = 0xc5;
			if (puVar6[iVar13 + 0xc04] != '\0') {
				uVar14 = 0xb5;
			}
			if (*(int *)(puVar6 + iVar13 + 0xd2c) == 0) {
				uVar14 = 0xe5;
			}
			in_r10 = 8;
			CelDecodeClr(uVar14, lVar18, uVar16, (ulonglong) * (uint *)puVar8, lVar11, uVar19, 0, 8,
			    in_stack_fffffef8);
		}
		if (*(int *)(puVar6 + *(int *)puVar5 * 0x55ec + 0xd2c) == 0) {
			in_r10 = 1;
			CelDrawHdrLightRed(lVar18, uVar16, (ulonglong) * (uint *)puVar8, lVar11, uVar19, 0, 8, 1, in_stack_fffffef8);
		} else {
			CelDrawHdrOnly((int)lVar18, uVar16, (ulonglong) * (uint *)puVar8, lVar11, uVar19, 0, 8, (int)in_r10,
			    in_stack_fffffef8);
		}
	}
	if (*(int *)(puVar6 + *(int *)puVar5 * 0x55ec + 0xd40) != -1) {
		InvDrawSlotBack(0x205, 0x140, 0x38, 0x54);
		lVar11 = (ulonglong) * (uint *)(puVar6 + *(int *)puVar5 * 0x55ec + 0xdf8) + 0xc;
		uVar19 = (ulonglong)
		    * (uint *)(s__AAAAAAACEEEEIIIIDNOOOOOX0UUUUYb_100f65a7 + (int)lVar11 * 4 + 0x41);
		if (*puVar7 == '\x06') {
			uVar14 = 0xc5;
			if ((puVar6 + *(int *)puVar5 * 0x55ec)[0xd74] != '\0') {
				uVar14 = 0xb5;
			}
			if (*(int *)(puVar6 + *(int *)puVar5 * 0x55ec + 0xe9c) == 0) {
				uVar14 = 0xe5;
			}
			in_r10 = 8;
			CelDecodeClr(uVar14, 0x205, 0x140, (ulonglong) * (uint *)puVar8, lVar11, uVar19, 0, 8, in_stack_fffffef8);
		}
		if (*(int *)(puVar6 + *(int *)puVar5 * 0x55ec + 0xe9c) == 0) {
			in_r10 = 1;
			CelDrawHdrLightRed(0x205, 0x140, (ulonglong) * (uint *)puVar8, lVar11, uVar19, 0, 8, 1, in_stack_fffffef8);
		} else {
			CelDrawHdrOnly(0x205, 0x140, (ulonglong) * (uint *)puVar8, lVar11, uVar19, 0, 8, (int)in_r10,
			    in_stack_fffffef8);
		}
	}
	iVar13 = 0;
	puVar17 = &DAT_100fc5bc;
	do {
		if (puVar6[*(int *)puVar5 * 0x55ec + iVar13 + 0x482c] != '\0') {
			InvDrawSlotBack(*(int *)(puVar17 + 200) + 0x40, *(int *)(puVar17 + 0xcc) + 0x9f, 0x1c, 0x1c);
		}
		iVar13 = iVar13 + 1;
		puVar17 = puVar17 + 8;
	} while (iVar13 < 0x28);
	iVar13 = 0;
	puVar17 = &DAT_100fc5bc;
	do {
		cVar1 = (puVar6 + *(int *)puVar5 * 0x55ec)[iVar13 + 0x482c];
		if ('\0' < cVar1) {
			iVar4 = ((int)cVar1 + -1) * 0x170;
			puVar3 = puVar6 + *(int *)puVar5 * 0x55ec + iVar4;
			lVar11 = (ulonglong) * (uint *)(puVar3 + 0xf68) + 0xc;
			uVar19 = (ulonglong)
			    * (uint *)(s__AAAAAAACEEEEIIIIDNOOOOOX0UUUUYb_100f65a7 + (int)lVar11 * 4 + 0x41);
			if ((int)(char)*puVar7 == (int)cVar1 + 6) {
				uVar14 = 0xc5;
				if (puVar3[0xee4] != '\0') {
					uVar14 = 0xb5;
				}
				if (*(int *)(puVar3 + 0x100c) == 0) {
					uVar14 = 0xe5;
				}
				in_r10 = 8;
				CelDecodeClr(uVar14, (ulonglong) * (uint *)(puVar17 + 200) + 0x40,
				    (ulonglong) * (uint *)(puVar17 + 0xcc) + 0x9f, (ulonglong) * (uint *)puVar8, lVar11,
				    uVar19, 0, 8, in_stack_fffffef8);
			}
			if (*(int *)(puVar6 + *(int *)puVar5 * 0x55ec + iVar4 + 0x100c) == 0) {
				in_r10 = 1;
				CelDrawHdrLightRed((ulonglong) * (uint *)(puVar17 + 200) + 0x40,
				    (ulonglong) * (uint *)(puVar17 + 0xcc) + 0x9f, (ulonglong) * (uint *)puVar8, lVar11,
				    uVar19, 0, 8, 1, in_stack_fffffef8);
			} else {
				CelDrawHdrOnly(*(int *)(puVar17 + 200) + 0x40, (ulonglong) * (uint *)(puVar17 + 0xcc) + 0x9f,
				    (ulonglong) * (uint *)puVar8, lVar11, uVar19, 0, 8, (int)in_r10, in_stack_fffffef8);
			}
		}
		iVar13 = iVar13 + 1;
		puVar17 = puVar17 + 8;
	} while (iVar13 < 0x28);
	return;
}

void DrawInvBelt(void)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	longlong lVar7;
	longlong lVar8;
	undefined uVar9;
	undefined *puVar10;
	undefined4 uVar11;
	undefined4 uVar12;
	undefined8 in_r10;
	ulonglong uVar13;
	int iVar14;
	int iVar15;
	undefined4 in_stack_ffffff88;

	puVar6 = PTR_DAT_100f199c;
	puVar5 = PTR_DAT_100f1938;
	puVar4 = PTR_DAT_100f18a4;
	puVar3 = PTR_DAT_100f1828;
	puVar2 = PTR_DAT_100f1824;
	uVar13 = ZEXT48(&toc);
	if (*(int *)PTR_DAT_100f1900 == 0) {
		DrawPanelBox(0xcd, 0x15, 0xe8, 0x1c, 0x10d, 0x205);
		iVar14 = 0;
		lVar7 = uVar13 + 0x35ec;
		iVar15 = 0;
		do {
			if (*(int *)(puVar3 + *(int *)puVar2 * 0x55ec + iVar15 + 0x485c) != -1) {
				iVar1 = (int)lVar7;
				InvDrawSlotBack(*(int *)(iVar1 + 0x208) + 0x40, *(int *)(iVar1 + 0x20c) + 0x9f, 0x1c, 0x1c);
				puVar10 = puVar3 + *(int *)puVar2 * 0x55ec + iVar15;
				lVar8 = (ulonglong) * (uint *)(puVar10 + 0x4914) + 0xc;
				uVar13 = (ulonglong)
				    * (uint *)(s__AAAAAAACEEEEIIIIDNOOOOOX0UUUUYb_100f65a7 + (int)lVar8 * 4 + 0x41);
				if ((int)(char)*puVar4 == iVar14 + 0x2f) {
					uVar9 = 0xc5;
					if (puVar10[0x4890] != '\0') {
						uVar9 = 0xb5;
					}
					if (*(int *)(puVar10 + 0x49b8) == 0) {
						uVar9 = 0xe5;
					}
					in_r10 = 8;
					CelDecodeClr(uVar9, (ulonglong) * (uint *)(iVar1 + 0x208) + 0x40,
					    (ulonglong) * (uint *)(iVar1 + 0x20c) + 0x9f, (ulonglong) * (uint *)puVar6, lVar8,
					    uVar13, 0, 8, in_stack_ffffff88);
				}
				if (*(int *)(puVar3 + *(int *)puVar2 * 0x55ec + iVar15 + 0x49b8) == 0) {
					uVar11 = 0;
					uVar12 = 8;
					in_r10 = 1;
					CelDrawHdrLightRed((ulonglong) * (uint *)(iVar1 + 0x208) + 0x40,
					    (ulonglong) * (uint *)(iVar1 + 0x20c) + 0x9f, (ulonglong) * (uint *)puVar6, lVar8,
					    uVar13, 0, 8, 1, in_stack_ffffff88);
				} else {
					uVar11 = 0;
					uVar12 = 8;
					CelDrawHdrOnly(*(int *)(iVar1 + 0x208) + 0x40, (ulonglong) * (uint *)(iVar1 + 0x20c) + 0x9f,
					    (ulonglong) * (uint *)puVar6, lVar8, uVar13, 0, 8, (int)in_r10, in_stack_ffffff88);
				}
				puVar10 = puVar3 + *(int *)puVar2 * 0x55ec + iVar15;
				if (((*(int *)(*(int *)(puVar10 + 0x49bc) * 0x4c + 0x100fc868) != 0) && (*(int *)(puVar10 + 0x49b8) != 0)) && (*(int *)(puVar10 + 0x485c) != 0xb)) {
					CPrintString(((ulonglong) * (uint *)(iVar1 + 0x208) + (ulonglong) * (uint *)(puVar5 + *(int *)(iVar1 + 0x20c) * 4 + 0x27c) + 0x5c) - (ulonglong)(byte)(&DAT_100f6230)[(uint)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[iVar14 + 0x31U & 0xff]]],
					    (ulonglong)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[iVar14 + 0x31U & 0xff]], 0,
					    (ulonglong) * (uint *)(iVar1 + 0x208), uVar13, uVar11, uVar12, (int)in_r10,
					    in_stack_ffffff88);
				}
			}
			iVar14 = iVar14 + 1;
			lVar7 = lVar7 + 8;
			iVar15 = iVar15 + 0x170;
		} while (iVar14 < 8);
	}
	return;
}

ulonglong AutoPlace(int param_1, int param_2, longlong param_3, int param_4, int param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined4 uVar1;
	uint uVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	undefined8 uVar7;
	longlong lVar8;
	int *piVar9;
	int iVar10;
	int iVar11;
	longlong lVar12;
	ulonglong uVar13;
	longlong lVar14;
	undefined4 in_stack_ffffffb8;

	uVar2 = param_2 / 10 + (param_2 >> 0x1f);
	lVar5 = ((ulonglong)uVar2 + (ulonglong)(uVar2 >> 0x1f)) * 10;
	uVar13 = 1;
	lVar6 = lVar5;
	if ((int)lVar5 < 0) {
		lVar6 = 0;
	}
	uVar2 = param_2 / 10 + (param_2 >> 0x1f);
	lVar4 = ZEXT48(PTR_DAT_100f1828) + (longlong)param_1 * 0x55ec;
	lVar12 = lVar4 + lVar6;
	lVar3 = (longlong)param_2 + ((ulonglong)uVar2 + (ulonglong)(uVar2 >> 0x1f)) * -10;
	iVar10 = 0;
	while (true) {
		if ((param_4 <= iVar10) || ((int)uVar13 == 0))
			break;
		if (0x27 < (int)lVar6) {
			uVar13 = 0;
		}
		lVar14 = lVar3;
		if ((int)lVar3 < 0) {
			lVar14 = 0;
		}
		lVar8 = lVar12 + lVar14;
		iVar11 = 0;
		while ((iVar11 < (int)param_3 && ((int)uVar13 != 0))) {
			if ((int)lVar14 < 10) {
				uVar7 = countLeadingZeros(-(int)*(char *)((int)lVar8 + 0x482c));
				uVar13 = (ulonglong)((uint)uVar7 >> 5 & 0xff);
			} else {
				uVar13 = 0;
			}
			lVar8 = lVar8 + 1;
			lVar14 = lVar14 + 1;
			iVar11 = iVar11 + 1;
		}
		lVar12 = lVar12 + 10;
		lVar6 = lVar6 + 10;
		iVar10 = iVar10 + 1;
	}
	if (((int)uVar13 != 0) && (param_5 != 0)) {
		lVar12 = ZEXT48(PTR_DAT_100f1828) + (longlong)param_1 * 0x55ec;
		piVar9 = (int *)((int)lVar12 + 0x4828);
		lVar6 = lVar12 + 0x53cc;
		lVar14 = 0x2e;
		lVar12 = lVar12 + (ulonglong) * (uint *)((int)lVar12 + 0x4828) * 0x170 + 0xea0;
		do {
			lVar6 = lVar6 + 8;
			uVar1 = ((undefined4 *)lVar6)[1];
			lVar12 = lVar12 + 8;
			*(undefined4 *)lVar12 = *(undefined4 *)lVar6;
			((undefined4 *)lVar12)[1] = uVar1;
			lVar14 = lVar14 + -1;
		} while (lVar14 != 0);
		*piVar9 = *piVar9 + 1;
		if ((int)lVar5 < 0) {
			lVar5 = 0;
		}
		lVar6 = lVar4 + lVar5;
		iVar10 = 0;
		while (iVar10 < param_4) {
			lVar5 = lVar3;
			if ((int)lVar3 < 0) {
				lVar5 = 0;
			}
			lVar5 = lVar6 + lVar5;
			iVar11 = 0;
			lVar12 = param_3;
			if (0 < (int)param_3) {
				do {
					if ((iVar11 == 0) && (iVar10 == (int)((longlong)param_4 + -1))) {
						*(undefined *)((int)lVar5 + 0x482c) = (char)*(undefined4 *)((int)lVar4 + 0x4828);
					} else {
						*(char *)((int)lVar5 + 0x482c) = -(char)*(undefined4 *)((int)lVar4 + 0x4828);
					}
					lVar5 = lVar5 + 1;
					iVar11 = iVar11 + 1;
					lVar12 = lVar12 + -1;
				} while (lVar12 != 0);
			}
			lVar6 = lVar6 + 10;
			iVar10 = iVar10 + 1;
		}
		CalcPlrScrolls(param_1, (char)lVar3, (char)param_3, (char)param_4, (char)((longlong)param_4 + -1),
		    (char)lVar4, (char)lVar5, (char)lVar6, in_stack_ffffffb8);
	}
	return uVar13;
}

ulonglong FUN_10046494(int param_1, int param_2, longlong param_3, int param_4, int param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined4 uVar1;
	uint uVar2;
	longlong lVar3;
	int iVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	undefined8 uVar8;
	longlong lVar9;
	int *piVar10;
	int iVar11;
	int iVar12;
	int iVar13;
	longlong lVar14;
	ulonglong uVar15;
	longlong lVar16;
	undefined4 in_stack_ffffffb8;

	iVar4 = (int)param_3;
	uVar2 = param_2 / 10 + (param_2 >> 0x1f);
	lVar6 = ((ulonglong)uVar2 + (ulonglong)(uVar2 >> 0x1f)) * 10;
	uVar15 = 1;
	lVar7 = lVar6;
	if ((int)lVar6 < 0) {
		lVar7 = 0;
	}
	uVar2 = param_2 / 10 + (param_2 >> 0x1f);
	lVar5 = ZEXT48(PTR_DAT_100f1828) + (longlong)param_1 * 0x55ec;
	lVar14 = lVar5 + lVar7;
	lVar3 = (longlong)param_2 + ((ulonglong)uVar2 + (ulonglong)(uVar2 >> 0x1f)) * -10;
	iVar12 = 0;
	while (true) {
		if ((param_4 <= iVar12) || ((int)uVar15 == 0))
			break;
		if (0x27 < (int)lVar7) {
			uVar15 = 0;
		}
		lVar16 = lVar3;
		if ((int)lVar3 < 0) {
			lVar16 = 0;
		}
		lVar9 = lVar14 + lVar16;
		iVar13 = 0;
		while ((iVar13 < iVar4 && ((int)uVar15 != 0))) {
			if ((int)lVar16 < 10) {
				uVar8 = countLeadingZeros(-(int)*(char *)((int)lVar9 + 0x482c));
				uVar15 = (ulonglong)((uint)uVar8 >> 5 & 0xff);
			} else {
				uVar15 = 0;
			}
			lVar9 = lVar9 + 1;
			lVar16 = lVar16 + 1;
			iVar13 = iVar13 + 1;
		}
		lVar14 = lVar14 + 10;
		lVar7 = lVar7 + 10;
		iVar12 = iVar12 + 1;
	}
	iVar12 = (int)lVar5;
	if ((int)uVar15 == 0) {
		if ((iVar4 < 2) && (param_4 < 2)) {
			if (*(int *)(iVar12 + 0x485c) == -1) {
				uVar15 = 1;
			} else {
				if (*(int *)(iVar12 + 0x49cc) == -1) {
					uVar15 = 1;
				} else {
					if (*(int *)(iVar12 + 0x4b3c) == -1) {
						uVar15 = 1;
					} else {
						if (*(int *)(iVar12 + 0x4cac) == -1) {
							uVar15 = 1;
						} else {
							if (*(int *)(iVar12 + 0x4e1c) == -1) {
								uVar15 = 1;
							} else {
								if (*(int *)(iVar12 + 0x4f8c) == -1) {
									uVar15 = 1;
								} else {
									if (*(int *)(iVar12 + 0x50fc) == -1) {
										uVar15 = 1;
									} else {
										if (*(int *)(iVar12 + 0x526c) == -1) {
											uVar15 = 1;
										}
									}
								}
							}
						}
					}
				}
			}
		} else {
			uVar15 = 0;
		}
	}
	if (((int)uVar15 != 0) && (param_5 != 0)) {
		lVar14 = ZEXT48(PTR_DAT_100f1828) + (longlong)param_1 * 0x55ec;
		piVar10 = (int *)((int)lVar14 + 0x4828);
		lVar7 = lVar14 + 0x53cc;
		lVar16 = 0x2e;
		lVar14 = lVar14 + (ulonglong) * (uint *)((int)lVar14 + 0x4828) * 0x170 + 0xea0;
		do {
			lVar7 = lVar7 + 8;
			uVar1 = ((undefined4 *)lVar7)[1];
			lVar14 = lVar14 + 8;
			*(undefined4 *)lVar14 = *(undefined4 *)lVar7;
			((undefined4 *)lVar14)[1] = uVar1;
			lVar16 = lVar16 + -1;
		} while (lVar16 != 0);
		*piVar10 = *piVar10 + 1;
		if ((int)lVar6 < 0) {
			lVar6 = 0;
		}
		lVar7 = lVar5 + lVar6;
		iVar13 = 0;
		while (iVar13 < param_4) {
			lVar6 = lVar3;
			if ((int)lVar3 < 0) {
				lVar6 = 0;
			}
			lVar6 = lVar7 + lVar6;
			iVar11 = 0;
			lVar14 = param_3;
			if (0 < iVar4) {
				do {
					if ((iVar11 == 0) && (iVar13 == (int)((longlong)param_4 + -1))) {
						*(undefined *)((int)lVar6 + 0x482c) = (char)*(undefined4 *)(iVar12 + 0x4828);
					} else {
						*(char *)((int)lVar6 + 0x482c) = -(char)*(undefined4 *)(iVar12 + 0x4828);
					}
					lVar6 = lVar6 + 1;
					iVar11 = iVar11 + 1;
					lVar14 = lVar14 + -1;
				} while (lVar14 != 0);
			}
			lVar7 = lVar7 + 10;
			iVar13 = iVar13 + 1;
		}
		CalcPlrScrolls(param_1, (char)lVar3, (char)param_3, (char)param_4, (char)((longlong)param_4 + -1),
		    (char)lVar5, (char)lVar6, (char)lVar7, in_stack_ffffffb8);
	}
	return uVar15;
}

void GoldAutoPlace(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined4 uVar2;
	uint uVar3;
	bool bVar4;
	int iVar5;
	ulonglong uVar6;
	undefined4 *puVar7;
	undefined4 *puVar8;
	int iVar9;
	undefined *puVar10;
	undefined *puVar11;
	int iVar12;
	longlong lVar13;

	iVar12 = 0;
	puVar11 = PTR_DAT_100f1828 + param_1 * 0x55ec;
	bVar4 = false;
	puVar10 = puVar11;
	while ((iVar12 < *(int *)(puVar11 + 0x4828) && (!bVar4))) {
		if ((*(int *)(puVar10 + 0xeb0) == 0xb) && (iVar5 = *(int *)(puVar11 + 0x5498) + *(int *)(puVar10 + 0xf6c), iVar5 < 0x1389)) {
			*(int *)(puVar10 + 0xf6c) = iVar5;
			if (iVar5 < 0x9c4) {
				if (iVar5 < 0x3e9) {
					*(undefined4 *)(puVar10 + 0xf68) = 4;
				} else {
					*(undefined4 *)(puVar10 + 0xf68) = 5;
				}
			} else {
				*(undefined4 *)(puVar10 + 0xf68) = 6;
			}
			uVar6 = CalculateGold(param_1);
			*(int *)(puVar11 + 0x1c8) = (int)uVar6;
			bVar4 = true;
		}
		puVar10 = puVar10 + 0x170;
		iVar12 = iVar12 + 1;
	}
	if (!bVar4) {
		iVar12 = 0;
		puVar10 = puVar11;
		while ((iVar12 < *(int *)(puVar11 + 0x4828) && (!bVar4))) {
			if ((*(int *)(puVar10 + 0xeb0) == 0xb) && ((*(int *)(puVar10 + 0xf6c) < 5000 && (iVar5 = *(int *)(puVar10 + 0xf6c) + *(int *)(puVar11 + 0x5498), iVar5 < 0x1389)))) {
				*(int *)(puVar10 + 0xf6c) = iVar5;
				if (iVar5 < 0x9c4) {
					if (iVar5 < 0x3e9) {
						*(undefined4 *)(puVar10 + 0xf68) = 4;
					} else {
						*(undefined4 *)(puVar10 + 0xf68) = 5;
					}
				} else {
					*(undefined4 *)(puVar10 + 0xf68) = 6;
				}
				uVar6 = CalculateGold(param_1);
				*(int *)(puVar11 + 0x1c8) = (int)uVar6;
				bVar4 = true;
			}
			puVar10 = puVar10 + 0x170;
			iVar12 = iVar12 + 1;
		}
	}
	if (!bVar4) {
		iVar12 = 0x27;
		while (-1 < iVar12) {
			if (bVar4) {
				return;
			}
			uVar3 = iVar12 / 10 + (iVar12 >> 0x1f);
			iVar9 = (uVar3 + (uVar3 >> 0x1f)) * 10;
			iVar5 = iVar12 + (uVar3 + (uVar3 >> 0x1f)) * -10;
			if (puVar11[iVar5 + iVar9 + 0x482c] == '\0') {
				iVar1 = *(int *)(puVar11 + 0x4828);
				lVar13 = 0x2e;
				puVar8 = (undefined4 *)(puVar11 + iVar1 * 0x170 + 0xea0);
				puVar7 = (undefined4 *)(puVar11 + 0x53cc);
				do {
					uVar2 = puVar7[3];
					puVar8[2] = puVar7[2];
					puVar8[3] = uVar2;
					lVar13 = lVar13 + -1;
					puVar8 = puVar8 + 2;
					puVar7 = puVar7 + 2;
				} while (lVar13 != 0);
				*(int *)(puVar11 + 0x4828) = *(int *)(puVar11 + 0x4828) + 1;
				puVar11[iVar5 + iVar9 + 0x482c] = (char)*(undefined4 *)(puVar11 + 0x4828);
				if (*(int *)(puVar11 + 0x5498) < 0x9c4) {
					if (*(int *)(puVar11 + 0x5498) < 0x3e9) {
						*(undefined4 *)(puVar11 + iVar1 * 0x170 + 0xf68) = 4;
					} else {
						*(undefined4 *)(puVar11 + iVar1 * 0x170 + 0xf68) = 5;
					}
				} else {
					*(undefined4 *)(puVar11 + iVar1 * 0x170 + 0xf68) = 6;
				}
				uVar6 = CalculateGold(param_1);
				*(int *)(puVar11 + 0x1c8) = (int)uVar6;
				bVar4 = true;
			}
			iVar12 = iVar12 + -1;
		}
	}
	return;
}

undefined8
WeaponAutoPlace(int param_1, undefined param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	uint uVar1;
	undefined4 uVar2;
	undefined8 uVar3;
	undefined4 *puVar4;
	undefined4 *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	longlong lVar8;

	puVar7 = PTR_DAT_100f1828;
	param_1 = param_1 * 0x55ec;
	puVar6 = PTR_DAT_100f1828 + param_1;
	if (puVar6[0x5491] == '\x02') {
		if ((*(int *)(puVar6 + 0xa60) == -1) && (*(int *)(puVar6 + 0xbd0) == -1)) {
			FUN_1007b26c(1, 4, param_3, param_4, param_5, param_6, param_7, param_8);
			lVar8 = 0x2e;
			puVar4 = (undefined4 *)(puVar6 + 0x53cc);
			puVar5 = (undefined4 *)(puVar6 + 0xa50);
			do {
				uVar2 = puVar4[3];
				puVar5[2] = puVar4[2];
				puVar5[3] = uVar2;
				lVar8 = lVar8 + -1;
				puVar4 = puVar4 + 2;
				puVar5 = puVar5 + 2;
			} while (lVar8 != 0);
			uVar3 = 1;
		} else {
			uVar3 = 0;
		}
	} else {
		if ((*(int *)(puVar6 + 0xa60) == -1) || (puVar6[0xb16] != '\x01')) {
			uVar1 = *(uint *)(PTR_DAT_100f1828 + param_1 + 0xbd0);
			if ((uVar1 == 0xffffffff) || ((PTR_DAT_100f1828 + param_1)[0xc86] != '\x01')) {
				if (*(int *)(puVar6 + 0xa60) == -1) {
					FUN_1007b26c(1, 4, (ulonglong)uVar1, param_4, param_5, param_6, param_7, param_8);
					lVar8 = 0x2e;
					puVar4 = (undefined4 *)(puVar7 + param_1 + 0x53cc);
					puVar5 = (undefined4 *)(puVar7 + param_1 + 0xa50);
					do {
						uVar2 = puVar4[3];
						puVar5[2] = puVar4[2];
						puVar5[3] = uVar2;
						lVar8 = lVar8 + -1;
						puVar4 = puVar4 + 2;
						puVar5 = puVar5 + 2;
					} while (lVar8 != 0);
				} else {
					if ((uVar1 != 0xffffffff) || (puVar7 = PTR_DAT_100f1828 + param_1, puVar7[0xb15] == '\x02')) {
						return 0;
					}
					FUN_1007b26c(1, 5, (ulonglong)uVar1, param_4, param_5, param_6, param_7, param_8);
					lVar8 = 0x2e;
					puVar4 = (undefined4 *)(puVar7 + 0x53cc);
					puVar5 = (undefined4 *)(puVar7 + 0xbc0);
					do {
						uVar2 = puVar4[3];
						puVar5[2] = puVar4[2];
						puVar5[3] = uVar2;
						lVar8 = lVar8 + -1;
						puVar4 = puVar4 + 2;
						puVar5 = puVar5 + 2;
					} while (lVar8 != 0);
				}
				uVar3 = 1;
			} else {
				uVar3 = 0;
			}
		} else {
			uVar3 = 0;
		}
	}
	return uVar3;
}

longlong FUN_10046b70(int param_1, int param_2)

{
	undefined4 uVar1;
	undefined4 *puVar2;
	undefined4 *puVar3;
	longlong lVar4;
	undefined4 auStack376[50];
	uint local_b0;

	lVar4 = 0x2e;
	puVar2 = auStack376;
	puVar3 = (undefined4 *)(param_1 + -8);
	do {
		uVar1 = puVar3[3];
		puVar2[2] = puVar3[2];
		puVar2[3] = uVar1;
		lVar4 = lVar4 + -1;
		puVar2 = puVar2 + 2;
		puVar3 = puVar3 + 2;
	} while (lVar4 != 0);
	lVar4 = 0x2e;
	puVar2 = (undefined4 *)(param_1 + -8);
	puVar3 = (undefined4 *)(param_2 + -8);
	do {
		uVar1 = puVar3[3];
		puVar2[2] = puVar3[2];
		puVar2[3] = uVar1;
		lVar4 = lVar4 + -1;
		puVar2 = puVar2 + 2;
		puVar3 = puVar3 + 2;
	} while (lVar4 != 0);
	lVar4 = 0x2e;
	puVar2 = auStack376;
	puVar3 = (undefined4 *)(param_2 + -8);
	do {
		uVar1 = puVar2[3];
		puVar3[2] = puVar2[2];
		puVar3[3] = uVar1;
		lVar4 = lVar4 + -1;
		puVar2 = puVar2 + 2;
		puVar3 = puVar3 + 2;
	} while (lVar4 != 0);
	return (ulonglong)local_b0 + 0xc;
}

void CheckInvPaste(ulonglong param_1, longlong param_2, longlong param_3, ulonglong param_4,
    undefined8 param_5, undefined8 param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	bool bVar1;
	byte bVar2;
	uint uVar3;
	uint uVar4;
	uint uVar5;
	int *piVar6;
	int iVar7;
	bool bVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined *puVar12;
	int iVar13;
	int iVar14;
	undefined **ppuVar15;
	longlong lVar16;
	longlong lVar17;
	char cVar18;
	ulonglong uVar19;
	longlong lVar20;
	char cVar21;
	undefined uVar22;
	ulonglong uVar23;
	undefined uVar24;
	ulonglong uVar25;
	undefined uVar26;
	undefined uVar27;
	undefined uVar28;
	uint uVar29;
	ulonglong uVar30;
	ulonglong uVar31;
	longlong lVar32;
	undefined4 in_stack_fffffe28;
	undefined in_stack_fffffe2f;
	undefined4 local_1cc;

	puVar12 = PTR_DAT_100f1988;
	puVar11 = PTR_DAT_100f1984;
	puVar10 = PTR_DAT_100f1828;
	puVar9 = PTR_DAT_100f1824;
	ppuVar15 = &toc;
	uVar31 = ZEXT48(PTR_DAT_100f1828);
	iVar7 = (int)(param_1 * 0x55ec);
	piVar6 = (int *)(PTR_DAT_100f1828 + iVar7 + 0x5494);
	SetICursor(*piVar6 + 0xc);
	bVar1 = false;
	uVar30 = 0;
	uVar3 = *(uint *)puVar12;
	uVar4 = *(uint *)puVar11;
	uVar23 = param_2 + (ulonglong)(uint)(*(int *)ppuVar15[-0x1d8e] >> 1);
	uVar25 = param_3 + (ulonglong)(uint)(*(int *)ppuVar15[-0x1d90] >> 1);
	uVar29 = uVar4 & 1;
	uVar19 = (ulonglong)uVar29;
	while ((iVar14 = (int)uVar30, (uVar30 & 0xffffffff) < 0x49 && (!bVar1))) {
		param_4 = ZEXT48(&DAT_100fc5bc) + (ulonglong)(uint)(iVar14 << 3);
		iVar14 = *(int *)param_4;
		if ((iVar14 <= (int)uVar23) && ((int)uVar23 < iVar14 + 0x1c)) {
			uVar5 = ((int *)param_4)[1];
			param_4 = (ulonglong)uVar5;
			if (((int)(uVar5 - 0x1d) <= (int)uVar25) && ((int)uVar25 < (int)uVar5)) {
				bVar1 = true;
				uVar30 = uVar30 - 1;
			}
		}
		if ((int)uVar30 == 0x18) {
			if ((uVar3 & 1) == 0) {
				uVar23 = uVar23 - 0xe;
			}
			if (uVar29 == 0) {
				uVar25 = uVar25 - 0xe;
			}
		}
		if (((int)uVar30 == 0x40) && (uVar29 == 0)) {
			uVar25 = uVar25 + 0xe;
		}
		uVar30 = uVar30 + 1;
	}
	if (bVar1) {
		uVar29 = 7;
		if ((-1 < iVar14) && (iVar14 < 4)) {
			uVar29 = 4;
		}
		if ((3 < iVar14) && (iVar14 < 6)) {
			uVar29 = 5;
		}
		if (iVar14 == 6) {
			uVar29 = 6;
		}
		if ((6 < iVar14) && (iVar14 < 0x13)) {
			uVar29 = 1;
		}
		if ((0x12 < iVar14) && (iVar14 < 0x19)) {
			uVar29 = 3;
		}
		if ((0x40 < iVar14) && (iVar14 < 0x49)) {
			uVar29 = 8;
		}
		cVar18 = puVar10[iVar7 + 0x5491];
		bVar1 = uVar29 == (int)cVar18;
		if ((uVar29 == 1) && (cVar18 == '\x02')) {
			uVar29 = 2;
			bVar1 = true;
		}
		if ((((cVar18 == '\a') && (uVar29 == 8)) && (uVar3 == 1)) && ((uVar4 == 1 && (bVar1 = *(int *)(puVar10 + iVar7 + 0x5538) != 0 && ppuVar15[*(int *)(puVar10 + iVar7 + 0x553c) * 0x13 + 0xe26] != (undefined *)0x0, *(int *)(puVar10 + iVar7 + 0x53dc) == 0xb)))) {
			bVar1 = false;
		}
		if (uVar29 == 7) {
			lVar32 = 0;
			bVar8 = true;
			bVar1 = true;
			iVar13 = (int)(uVar30 - 0x19);
			iVar14 = iVar13 >> 0x1f;
			if (*(int *)(puVar10 + iVar7 + 0x53dc) == 0xb) {
				uVar3 = iVar13 / 10 + iVar14;
				uVar23 = uVar23 & 0xffffffff00000000 | (ulonglong)uVar3;
				uVar25 = (ulonglong)(uVar3 >> 0x1f);
				uVar19 = (((longlong)(int)((ulonglong)((longlong)iVar13 * 0x66666667) >> 0x20) & 0xffffffff00000000U | (ulonglong)uVar3) + (ulonglong)(uVar3 >> 0x1f)) * 10;
				param_4 = (uVar23 + uVar25) * 10;
			} else {
				uVar5 = iVar13 / 10 + iVar14;
				lVar17 = ((((longlong)(int)((ulonglong)((longlong)iVar13 * 0x66666667) >> 0x20) & 0xffffffff00000000U | (ulonglong)uVar5) + (ulonglong)(uVar5 >> 0x1f)) - (ulonglong)(uint)((int)(uVar4 - 1) >> 1)) * 10;
				if ((int)lVar17 < 0) {
					lVar17 = 0;
				}
				lVar16 = uVar31 + param_1 * 0x55ec + lVar17;
				uVar23 = uVar23 & 0xffffffff00000000 | (ulonglong)(uint)((int)(uVar3 - 1) >> 1);
				uVar5 = iVar13 / 10 + iVar14;
				lVar20 = ((longlong)(int)((ulonglong)((longlong)iVar13 * 0x66666667) >> 0x20) & 0xffffffff00000000U | (ulonglong)uVar5) + (ulonglong)(uVar5 >> 0x1f);
				uVar19 = lVar20 * 10;
				param_4 = ((uVar30 - 0x19) + lVar20 * -10) - uVar23;
				param_8 = 0;
				while ((bVar1 = bVar8, (int)param_8 < (int)uVar4 && (bVar1 = bVar8, bVar8))) {
					if (0x27 < (int)lVar17) {
						bVar8 = false;
					}
					uVar25 = param_4;
					if ((int)param_4 < 0) {
						uVar25 = 0;
					}
					uVar19 = lVar16 + uVar25;
					param_7 = 0;
					while (((int)param_7 < (int)uVar3 && (bVar8))) {
						if ((int)uVar25 < 10) {
							bVar2 = *(byte *)((int)uVar19 + 0x482c);
							uVar23 = (ulonglong)bVar2;
							lVar20 = lVar32;
							if (bVar2 != 0) {
								lVar20 = (longlong)(char)bVar2;
								if (lVar20 < 0) {
									lVar20 = -lVar20;
								}
								if (((int)lVar32 != 0) && (iVar14 = (int)lVar20, lVar20 = lVar32, (int)lVar32 != iVar14)) {
									bVar8 = false;
									lVar20 = lVar32;
								}
							}
						} else {
							bVar8 = false;
							lVar20 = lVar32;
						}
						uVar19 = uVar19 + 1;
						uVar25 = uVar25 + 1;
						param_7 = param_7 + 1;
						lVar32 = lVar20;
					}
					lVar16 = lVar16 + 10;
					lVar17 = lVar17 + 10;
					param_8 = param_8 + 1;
				}
			}
		}
		if ((((bVar1) && (uVar29 != 7)) && (uVar29 != 8)) && (*(int *)(puVar10 + iVar7 + 0x5538) == 0)) {
			cVar18 = (puVar10 + iVar7)[0x15c];
			bVar1 = false;
			if (cVar18 == '\0') {
				PlaySFX(0x2d6);
			} else {
				if (cVar18 == '\x01') {
					PlaySFX(0x26f);
				} else {
					if (cVar18 == '\x02') {
						PlaySFX(0x208);
					}
				}
			}
		}
		if (bVar1) {
			if ((int)param_1 == *(int *)puVar9) {
				PlaySFX((ulonglong)
				    * (uint *)(ppuVar15[-0x1c75] + (uint)(byte)ppuVar15[-0x1c74][*piVar6] * 4));
			}
			uVar28 = (undefined)param_8;
			uVar27 = (undefined)param_7;
			uVar26 = (undefined)uVar25;
			uVar24 = (undefined)uVar23;
			if (uVar29 < 9) {
				// WARNING: Could not recover jumptable at 0x10047084. Too many branches
				// WARNING: Treating indirect jump as call
				(*(code *)ppuVar15[uVar29 + 0xe0d])();
				return;
			}
			CalcPlrInv(param_1, 1, uVar19, param_4, uVar23, uVar25, param_7, param_8, in_stack_fffffe28);
			if ((int)param_1 == *(int *)puVar9) {
				uVar22 = SUB41(ppuVar15[-0x1daa], 0);
				cVar21 = (char)*(undefined4 *)ppuVar15[-0x1daa];
				cVar18 = (char)*(undefined4 *)ppuVar15[-0x1dab] + (char)(*(int *)ppuVar15[-0x1d95] >> 1);
				SetCursorPos(cVar21 + (char)(*(int *)ppuVar15[-0x1d94] >> 1), cVar18, cVar21, uVar22, uVar24,
				    uVar26, uVar27, uVar28, (char)in_stack_fffffe28, in_stack_fffffe2f, local_1cc);
				SetCursor_(1, cVar18, cVar21, uVar22, uVar24, uVar26, uVar27, uVar28, in_stack_fffffe28);
			}
		}
	}
	return;
}

void FUN_10047e6c(ulonglong param_1, byte param_2, int param_3, ulonglong param_4, ulonglong param_5,
    ulonglong param_6, ulonglong param_7, ulonglong param_8, undefined4 param_9)

{
	undefined4 uVar1;
	int iVar2;
	undefined **ppuVar3;
	undefined4 *puVar4;
	ulonglong uVar5;
	ulonglong uVar6;
	ulonglong uVar7;
	undefined7 uVar8;
	undefined uVar9;
	undefined7 uVar10;
	undefined uVar11;
	undefined7 uVar12;
	undefined uVar13;
	longlong lVar14;
	longlong lVar15;
	undefined4 in_stack_ffffffb8;

	uVar12 = (undefined7)(param_8 >> 8);
	uVar13 = (undefined)param_8;
	uVar10 = (undefined7)(param_7 >> 8);
	uVar11 = (undefined)param_7;
	uVar8 = (undefined7)(param_6 >> 8);
	uVar9 = (undefined)param_6;
	ppuVar3 = &toc;
	uVar7 = 0;
	FUN_1004fbc4(0x7f, param_3, param_4, param_5, 0, uVar9, uVar11, uVar13, in_stack_ffffffb8);
	uVar6 = ZEXT48(ppuVar3[-0x1dea]) + param_1 * 0x55ec;
	lVar14 = 0x2e;
	uVar5 = uVar6 + 0x53cc;
	puVar4 = (undefined4 *)(ppuVar3[-0x1da4] + 0xb688);
	do {
		uVar1 = puVar4[3];
		uVar5 = uVar5 + 8;
		*(undefined4 *)uVar5 = puVar4[2];
		((undefined4 *)uVar5)[1] = uVar1;
		lVar14 = lVar14 + -1;
		puVar4 = puVar4 + 2;
	} while (lVar14 != 0);
	iVar2 = (int)uVar6;
	if ((int)param_6 != 0) {
		*(undefined4 *)(iVar2 + 0x540c) = 1;
	}
	if (param_2 < 7) {
		lVar14 = uVar6 + 0x53cc;
		lVar15 = 0x2e;
		uVar5 = uVar6 + (ulonglong)param_2 * 0x170 + 0x490;
		do {
			lVar14 = lVar14 + 8;
			uVar1 = ((undefined4 *)lVar14)[1];
			uVar5 = uVar5 + 8;
			*(undefined4 *)uVar5 = *(undefined4 *)lVar14;
			((undefined4 *)uVar5)[1] = uVar1;
			lVar15 = lVar15 + -1;
		} while (lVar15 != 0);
		if (param_2 == 4) {
			if (*(char *)(iVar2 + 0x5491) == '\x02') {
				*(undefined4 *)(iVar2 + 0xbd0) = 0xffffffff;
			}
		} else {
			if ((param_2 == 5) && (*(char *)(iVar2 + 0x5491) == '\x02')) {
				*(undefined4 *)(iVar2 + 0xa60) = 0xffffffff;
			}
		}
	}
	CalcPlrInv(param_1, 1, uVar5, uVar6, uVar7, CONCAT71(uVar8, uVar9), CONCAT71(uVar10, uVar11),
	    CONCAT71(uVar12, uVar13), in_stack_ffffffb8);
	return;
}

void CheckInvCut(ulonglong param_1, int param_2, int param_3, undefined8 param_4, undefined8 param_5,
    ulonglong param_6, ulonglong param_7, ulonglong param_8, undefined4 param_9)

{
	undefined4 uVar1;
	uint uVar2;
	undefined4 *puVar3;
	undefined *puVar4;
	int iVar5;
	undefined *puVar6;
	int iVar7;
	undefined uVar8;
	undefined **ppuVar9;
	int iVar10;
	char cVar12;
	int iVar11;
	longlong lVar13;
	ulonglong uVar14;
	ulonglong uVar15;
	undefined uVar16;
	undefined uVar17;
	ulonglong uVar18;
	longlong lVar19;
	undefined uVar20;
	undefined uVar21;
	undefined uVar22;
	undefined uVar23;
	ulonglong uVar24;
	int iVar25;
	ulonglong uVar26;
	int *piVar27;
	longlong lVar28;
	ulonglong uVar29;
	longlong lVar30;
	longlong lVar31;
	undefined4 in_stack_ffffffa8;
	undefined uVar32;
	undefined in_stack_ffffffaf;
	int local_4c;

	puVar4 = PTR_DAT_100f18c8;
	puVar6 = PTR_DAT_100f1828;
	ppuVar9 = &toc;
	uVar29 = ZEXT48(PTR_DAT_100f1828);
	lVar28 = param_1 * 0x55ec;
	uVar18 = ZEXT48(PTR_DAT_100f18cc);
	uVar15 = ZEXT48(&DAT_100fc5bc);
	uVar26 = uVar29 + lVar28;
	piVar27 = (int *)uVar26;
	if (*piVar27 < 4) {
		if (*(int *)PTR_DAT_100f18cc != 0) {
			*(undefined4 *)PTR_DAT_100f18cc = 0;
			*(undefined4 *)puVar4 = 0;
		}
		uVar14 = 0;
		uVar24 = 0;
		while (true) {
			iVar25 = (int)uVar24;
			if ((0x48 < (uVar24 & 0xffffffff)) || ((int)uVar14 != 0))
				break;
			if ((*(int *)(&DAT_100fc5bc + iVar25 * 8) <= param_2) && (((param_2 < *(int *)(&DAT_100fc5bc + iVar25 * 8) + 0x1d && (iVar25 = *(int *)(iVar25 * 8 + 0x100fc5c0), iVar25 + -0x1d <= param_3)) && (param_3 < iVar25)))) {
				uVar14 = 1;
				uVar24 = uVar24 - 1;
			}
			uVar24 = uVar24 + 1;
		}
		if ((int)uVar14 != 0) {
			iVar5 = (int)lVar28;
			*(int *)(puVar6 + iVar5 + 0x53dc) = -1;
			if (((-1 < iVar25) && (iVar25 < 4)) && (*(int *)(puVar6 + iVar5 + 0x4a0) != -1)) {
				ppuVar9 = &toc;
				NetSendCmdDelItem(0, 0, uVar14, ZEXT48(&DAT_100fc5bc), uVar18, (int)param_6, (int)param_7, (int)param_8,
				    in_stack_ffffffa8);
				lVar30 = 0x2e;
				uVar14 = uVar29 + lVar28 + 0x53cc;
				lVar13 = uVar29 + lVar28 + 0x490;
				do {
					lVar13 = lVar13 + 8;
					uVar1 = ((undefined4 *)lVar13)[1];
					uVar14 = uVar14 + 8;
					*(undefined4 *)uVar14 = *(undefined4 *)lVar13;
					((undefined4 *)uVar14)[1] = uVar1;
					lVar30 = lVar30 + -1;
				} while (lVar30 != 0);
				*(int *)(puVar6 + iVar5 + 0x4a0) = -1;
			}
			if ((iVar25 == 4) && (*(int *)(puVar6 + iVar5 + 0x610) != -1)) {
				NetSendCmdDelItem(0, 1, uVar14, uVar15, uVar18, (int)param_6, (int)param_7, (int)param_8,
				    in_stack_ffffffa8);
				lVar30 = 0x2e;
				uVar14 = uVar29 + lVar28 + 0x53cc;
				lVar13 = uVar29 + lVar28 + 0x600;
				do {
					lVar13 = lVar13 + 8;
					uVar1 = ((undefined4 *)lVar13)[1];
					uVar14 = uVar14 + 8;
					*(undefined4 *)uVar14 = *(undefined4 *)lVar13;
					((undefined4 *)uVar14)[1] = uVar1;
					lVar30 = lVar30 + -1;
				} while (lVar30 != 0);
				*(int *)(puVar6 + iVar5 + 0x610) = -1;
			}
			if ((iVar25 == 5) && (*(int *)(puVar6 + iVar5 + 0x780) != -1)) {
				NetSendCmdDelItem(0, 2, uVar14, uVar15, uVar18, (int)param_6, (int)param_7, (int)param_8,
				    in_stack_ffffffa8);
				lVar30 = 0x2e;
				uVar14 = uVar29 + lVar28 + 0x53cc;
				lVar13 = uVar29 + lVar28 + 0x770;
				do {
					lVar13 = lVar13 + 8;
					uVar1 = ((undefined4 *)lVar13)[1];
					uVar14 = uVar14 + 8;
					*(undefined4 *)uVar14 = *(undefined4 *)lVar13;
					((undefined4 *)uVar14)[1] = uVar1;
					lVar30 = lVar30 + -1;
				} while (lVar30 != 0);
				*(int *)(puVar6 + iVar5 + 0x780) = -1;
			}
			if ((iVar25 == 6) && (*(int *)(puVar6 + iVar5 + 0x8f0) != -1)) {
				NetSendCmdDelItem(0, 3, uVar14, uVar15, uVar18, (int)param_6, (int)param_7, (int)param_8,
				    in_stack_ffffffa8);
				lVar30 = 0x2e;
				uVar14 = uVar29 + lVar28 + 0x53cc;
				lVar13 = uVar29 + lVar28 + 0x8e0;
				do {
					lVar13 = lVar13 + 8;
					uVar1 = ((undefined4 *)lVar13)[1];
					uVar14 = uVar14 + 8;
					*(undefined4 *)uVar14 = *(undefined4 *)lVar13;
					((undefined4 *)uVar14)[1] = uVar1;
					lVar30 = lVar30 + -1;
				} while (lVar30 != 0);
				*(int *)(puVar6 + iVar5 + 0x8f0) = -1;
			}
			if (((6 < iVar25) && (iVar25 < 0xd)) && (*(int *)(puVar6 + iVar5 + 0xa60) != -1)) {
				NetSendCmdDelItem(0, 4, uVar14, uVar15, uVar18, (int)param_6, (int)param_7, (int)param_8,
				    in_stack_ffffffa8);
				lVar30 = 0x2e;
				uVar14 = uVar29 + lVar28 + 0x53cc;
				lVar13 = uVar29 + lVar28 + 0xa50;
				do {
					lVar13 = lVar13 + 8;
					uVar1 = ((undefined4 *)lVar13)[1];
					uVar14 = uVar14 + 8;
					*(undefined4 *)uVar14 = *(undefined4 *)lVar13;
					((undefined4 *)uVar14)[1] = uVar1;
					lVar30 = lVar30 + -1;
				} while (lVar30 != 0);
				*(int *)(puVar6 + iVar5 + 0xa60) = -1;
			}
			if (((0xc < iVar25) && (iVar25 < 0x13)) && (*(int *)(puVar6 + iVar5 + 0xbd0) != -1)) {
				NetSendCmdDelItem(0, 5, uVar14, uVar15, uVar18, (int)param_6, (int)param_7, (int)param_8,
				    in_stack_ffffffa8);
				lVar30 = 0x2e;
				uVar14 = uVar29 + lVar28 + 0x53cc;
				lVar13 = uVar29 + lVar28 + 0xbc0;
				do {
					lVar13 = lVar13 + 8;
					uVar1 = ((undefined4 *)lVar13)[1];
					uVar14 = uVar14 + 8;
					*(undefined4 *)uVar14 = *(undefined4 *)lVar13;
					((undefined4 *)uVar14)[1] = uVar1;
					lVar30 = lVar30 + -1;
				} while (lVar30 != 0);
				*(int *)(puVar6 + iVar5 + 0xbd0) = -1;
			}
			if (((0x12 < iVar25) && (iVar25 < 0x19)) && (*(int *)(puVar6 + iVar5 + 0xd40) != -1)) {
				NetSendCmdDelItem(0, 6, uVar14, uVar15, uVar18, (int)param_6, (int)param_7, (int)param_8,
				    in_stack_ffffffa8);
				lVar30 = 0x2e;
				uVar14 = uVar29 + lVar28 + 0x53cc;
				lVar13 = uVar29 + lVar28 + 0xd30;
				do {
					lVar13 = lVar13 + 8;
					uVar1 = ((undefined4 *)lVar13)[1];
					uVar14 = uVar14 + 8;
					*(undefined4 *)uVar14 = *(undefined4 *)lVar13;
					((undefined4 *)uVar14)[1] = uVar1;
					lVar30 = lVar30 + -1;
				} while (lVar30 != 0);
				*(int *)(puVar6 + iVar5 + 0xd40) = -1;
			}
			if (0x18 < iVar25) {
				if (iVar25 < 0x41) {
					uVar14 = uVar24 - 0x19;
					if ((puVar6 + iVar5 + 0x482c)[iVar25 + -0x19] != '\0') {
						cVar12 = (puVar6 + iVar5 + 0x482c)[(int)uVar14];
						if (cVar12 < '\x01') {
							lVar13 = -(longlong)cVar12;
						} else {
							lVar13 = (longlong)cVar12;
						}
						lVar30 = 4;
						uVar15 = uVar26;
						do {
							iVar11 = (int)uVar15;
							iVar10 = (int)lVar13;
							iVar7 = (int)-lVar13;
							if ((iVar10 == (int)*(char *)(iVar11 + 0x482c)) || (iVar7 == (int)*(char *)(iVar11 + 0x482c))) {
								*(undefined *)(iVar11 + 0x482c) = 0;
							}
							if ((iVar10 == (int)*(char *)(iVar11 + 0x482d)) || (iVar7 == (int)*(char *)(iVar11 + 0x482d))) {
								*(undefined *)(iVar11 + 0x482d) = 0;
							}
							if ((iVar10 == (int)*(char *)(iVar11 + 0x482e)) || (iVar7 == (int)*(char *)(iVar11 + 0x482e))) {
								*(undefined *)(iVar11 + 0x482e) = 0;
							}
							if ((iVar10 == (int)*(char *)(iVar11 + 0x482f)) || (iVar7 == (int)*(char *)(iVar11 + 0x482f))) {
								*(undefined *)(iVar11 + 0x482f) = 0;
							}
							if ((iVar10 == (int)*(char *)(iVar11 + 0x4830)) || (iVar7 == (int)*(char *)(iVar11 + 0x4830))) {
								*(undefined *)(iVar11 + 0x4830) = 0;
							}
							if ((iVar10 == (int)*(char *)(iVar11 + 0x4831)) || (iVar7 == (int)*(char *)(iVar11 + 0x4831))) {
								*(undefined *)(iVar11 + 0x4831) = 0;
							}
							if ((iVar10 == (int)*(char *)(iVar11 + 0x4832)) || (iVar7 == (int)*(char *)(iVar11 + 0x4832))) {
								*(undefined *)(iVar11 + 0x4832) = 0;
							}
							if ((iVar10 == (int)*(char *)(iVar11 + 0x4833)) || (iVar7 == (int)*(char *)(iVar11 + 0x4833))) {
								*(undefined *)(iVar11 + 0x4833) = 0;
							}
							if ((iVar10 == (int)*(char *)(iVar11 + 0x4834)) || (iVar7 == (int)*(char *)(iVar11 + 0x4834))) {
								*(undefined *)(iVar11 + 0x4834) = 0;
							}
							if ((iVar10 == (int)*(char *)(iVar11 + 0x4835)) || (iVar7 == (int)*(char *)(iVar11 + 0x4835))) {
								*(undefined *)(iVar11 + 0x4835) = 0;
							}
							uVar15 = uVar15 + 10;
							lVar30 = lVar30 + -1;
						} while (lVar30 != 0);
						uVar18 = uVar29 + lVar28 + 0x53cc;
						param_6 = uVar29 + lVar28 + 0xea8;
						param_7 = param_6 + (lVar13 + -1) * 0x170;
						lVar30 = 0x2e;
						uVar15 = param_7 - 8;
						do {
							uVar15 = uVar15 + 8;
							uVar1 = ((undefined4 *)uVar15)[1];
							uVar18 = uVar18 + 8;
							*(undefined4 *)uVar18 = *(undefined4 *)uVar15;
							((undefined4 *)uVar18)[1] = uVar1;
							lVar30 = lVar30 + -1;
						} while (lVar30 != 0);
						puVar4 = puVar6 + iVar5;
						*(int *)(puVar4 + 0x4828) = *(int *)(puVar4 + 0x4828) + -1;
						uVar2 = *(uint *)(puVar4 + 0x4828);
						uVar14 = (ulonglong)uVar2;
						if ((0 < (int)uVar2) && (iVar10 - 1U != uVar2)) {
							lVar19 = param_7 - 8;
							lVar31 = 0x2e;
							lVar30 = param_6 + uVar14 * 0x170 + -8;
							do {
								lVar30 = lVar30 + 8;
								uVar1 = ((undefined4 *)lVar30)[1];
								lVar19 = lVar19 + 8;
								*(undefined4 *)lVar19 = *(undefined4 *)lVar30;
								((undefined4 *)lVar19)[1] = uVar1;
								lVar31 = lVar31 + -1;
							} while (lVar31 != 0);
							lVar30 = 8;
							cVar12 = (char)lVar13;
							uVar14 = SEXT18(cVar12);
							uVar8 = (undefined)-lVar13;
							uVar18 = 0;
							uVar15 = uVar26;
							do {
								iVar11 = (int)uVar15;
								if ((int)*(char *)(iVar11 + 0x482c) == piVar27[0x120a] + 1) {
									*(char *)(iVar11 + 0x482c) = cVar12;
								}
								if ((int)*(char *)(iVar11 + 0x482c) == -(piVar27[0x120a] + 1)) {
									*(undefined *)(iVar11 + 0x482c) = uVar8;
								}
								if ((int)*(char *)(iVar11 + 0x482d) == piVar27[0x120a] + 1) {
									*(char *)(iVar11 + 0x482d) = cVar12;
								}
								if ((int)*(char *)(iVar11 + 0x482d) == -(piVar27[0x120a] + 1)) {
									*(undefined *)(iVar11 + 0x482d) = uVar8;
								}
								if ((int)*(char *)(iVar11 + 0x482e) == piVar27[0x120a] + 1) {
									*(char *)(iVar11 + 0x482e) = cVar12;
								}
								if ((int)*(char *)(iVar11 + 0x482e) == -(piVar27[0x120a] + 1)) {
									*(undefined *)(iVar11 + 0x482e) = uVar8;
								}
								if ((int)*(char *)(iVar11 + 0x482f) == piVar27[0x120a] + 1) {
									*(char *)(iVar11 + 0x482f) = cVar12;
								}
								if ((int)*(char *)(iVar11 + 0x482f) == -(piVar27[0x120a] + 1)) {
									*(undefined *)(iVar11 + 0x482f) = uVar8;
								}
								if ((int)*(char *)(iVar11 + 0x4830) == piVar27[0x120a] + 1) {
									*(char *)(iVar11 + 0x4830) = cVar12;
								}
								if ((int)*(char *)(iVar11 + 0x4830) == -(piVar27[0x120a] + 1)) {
									*(undefined *)(iVar11 + 0x4830) = uVar8;
								}
								uVar15 = uVar15 + 5;
								uVar18 = uVar18 + 4;
								lVar30 = lVar30 + -1;
							} while (lVar30 != 0);
						}
					}
				}
			}
			if (0x40 < iVar25) {
				uVar15 = (uVar24 - 0x41) * 0x170;
				uVar18 = uVar29 + lVar28 + 0x485c;
				if (*(int *)((int)uVar18 + (int)uVar15) != -1) {
					lVar13 = 0x2e;
					uVar14 = uVar29 + lVar28 + 0x53cc;
					lVar28 = uVar29 + lVar28 + uVar15 + 0x484c;
					do {
						lVar28 = lVar28 + 8;
						uVar1 = ((undefined4 *)lVar28)[1];
						uVar14 = uVar14 + 8;
						*(undefined4 *)uVar14 = *(undefined4 *)lVar28;
						((undefined4 *)uVar14)[1] = uVar1;
						lVar13 = lVar13 + -1;
					} while (lVar13 != 0);
					puVar3 = (undefined4 *)ppuVar9[-0x1d9c];
					*(undefined4 *)((int)uVar18 + (int)uVar15) = 0xffffffff;
					*puVar3 = 1;
				}
			}
			iVar25 = *(int *)(puVar6 + iVar5 + 0x53dc);
			if (iVar25 != -1) {
				iVar11 = (int)param_1;
				if (iVar25 == 0xb) {
					uVar26 = CalculateGold(iVar11);
					*(int *)(puVar6 + iVar5 + 0x1c8) = (int)uVar26;
				}
				uVar22 = (undefined)param_7;
				uVar21 = (undefined)param_6;
				uVar20 = (undefined)uVar18;
				uVar17 = (undefined)uVar15;
				uVar16 = (undefined)uVar14;
				uVar23 = (undefined)param_8;
				uVar8 = 1;
				CalcPlrInv(param_1, 1, uVar14, uVar15, uVar18, param_6, param_7, param_8, in_stack_ffffffa8);
				CheckItemStats(iVar11);
				if (iVar11 == *(int *)ppuVar9[-0x1deb]) {
					PlaySFX(0x32);
					uVar32 = (undefined)in_stack_ffffffa8;
					SetCursor_(*(int *)(puVar6 + iVar5 + 0x5494) + 0xc, uVar8, uVar16, uVar17, uVar20, uVar21,
					    uVar22, uVar23, in_stack_ffffffa8);
					lVar28 = (longlong)param_2 - (ulonglong)(uint)(*(int *)ppuVar9[-0x1d94] >> 1);
					lVar13 = (longlong)param_3 - (ulonglong)(uint)(*(int *)ppuVar9[-0x1d95] >> 1);
					SetCursorPos((char)lVar28, (char)lVar13, uVar16, uVar17, uVar20, uVar21, uVar22, uVar23, uVar32,
					    in_stack_ffffffaf, local_4c);
					puVar3 = *(undefined4 **)(local_4c + -0x76ac);
					**(undefined4 **)(local_4c + -0x76a8) = (int)lVar28;
					*puVar3 = (int)lVar13;
				}
			}
		}
	}
	return;
}

void FUN_100487a4(ulonglong param_1, uint param_2, undefined8 param_3, ulonglong param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	ulonglong uVar2;
	undefined4 in_stack_ffffffc8;

	puVar1 = PTR_DAT_100f1828;
	uVar2 = ZEXT48(PTR_DAT_100f1828);
	if ((param_2 & 0xff) < 7) {
		*(undefined4 *)(PTR_DAT_100f1828 + (param_2 & 0xff) * 0x170 + (int)param_1 * 0x55ec + 0x4a0) = 0xffffffff;
	}
	if (*(int *)(puVar1 + (int)param_1 * 0x55ec) == 8) {
		CalcPlrInv(param_1, 0, uVar2, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	} else {
		CalcPlrInv(param_1, 1, uVar2, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return;
}

void RemoveInvItem(longlong param_1, longlong param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined4 uVar2;
	int iVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	char cVar6;
	longlong lVar7;
	int iVar8;
	char cVar9;
	longlong lVar10;
	char cVar11;
	char cVar12;
	longlong lVar13;
	int iVar14;
	char cVar15;
	char cVar16;
	longlong lVar17;
	ulonglong uVar18;
	longlong lVar19;
	undefined4 in_stack_ffffffc8;

	puVar4 = PTR_DAT_100f1828;
	cVar6 = (char)param_2;
	ppuVar5 = &toc;
	uVar18 = ZEXT48(PTR_DAT_100f1828);
	lVar17 = param_1 * 0x55ec;
	lVar7 = uVar18 + lVar17;
	lVar19 = 4;
	lVar13 = -(param_2 + 1);
	lVar13._7_1_ = (char)lVar13;
	cVar16 = '\0';
	lVar10 = lVar7;
	do {
		iVar3 = (int)lVar10;
		iVar8 = (int)(param_2 + 1);
		iVar14 = (int)lVar13;
		if ((iVar8 == (int)*(char *)(iVar3 + 0x482c)) || (iVar14 == (int)*(char *)(iVar3 + 0x482c))) {
			*(undefined *)(iVar3 + 0x482c) = 0;
		}
		if ((iVar8 == (int)*(char *)(iVar3 + 0x482d)) || (iVar14 == (int)*(char *)(iVar3 + 0x482d))) {
			*(undefined *)(iVar3 + 0x482d) = 0;
		}
		if ((iVar8 == (int)*(char *)(iVar3 + 0x482e)) || (iVar14 == (int)*(char *)(iVar3 + 0x482e))) {
			*(undefined *)(iVar3 + 0x482e) = 0;
		}
		if ((iVar8 == (int)*(char *)(iVar3 + 0x482f)) || (iVar14 == (int)*(char *)(iVar3 + 0x482f))) {
			*(undefined *)(iVar3 + 0x482f) = 0;
		}
		if ((iVar8 == (int)*(char *)(iVar3 + 0x4830)) || (iVar14 == (int)*(char *)(iVar3 + 0x4830))) {
			*(undefined *)(iVar3 + 0x4830) = 0;
		}
		if ((iVar8 == (int)*(char *)(iVar3 + 0x4831)) || (iVar14 == (int)*(char *)(iVar3 + 0x4831))) {
			*(undefined *)(iVar3 + 0x4831) = 0;
		}
		if ((iVar8 == (int)*(char *)(iVar3 + 0x4832)) || (iVar14 == (int)*(char *)(iVar3 + 0x4832))) {
			*(undefined *)(iVar3 + 0x4832) = 0;
		}
		if ((iVar8 == (int)*(char *)(iVar3 + 0x4833)) || (iVar14 == (int)*(char *)(iVar3 + 0x4833))) {
			*(undefined *)(iVar3 + 0x4833) = 0;
		}
		if ((iVar8 == (int)*(char *)(iVar3 + 0x4834)) || (iVar14 == (int)*(char *)(iVar3 + 0x4834))) {
			*(undefined *)(iVar3 + 0x4834) = 0;
		}
		cVar12 = *(char *)(iVar3 + 0x4835);
		if ((iVar8 == (int)cVar12) || (iVar14 == (int)cVar12)) {
			*(undefined *)(iVar3 + 0x4835) = 0;
		}
		lVar10 = lVar10 + 10;
		cVar16 = cVar16 + '\t';
		lVar19 = lVar19 + -1;
	} while (lVar19 != 0);
	cVar11 = (char)(uVar18 + lVar17);
	iVar3 = (int)(uVar18 + lVar17);
	cVar9 = (char)*(int *)(iVar3 + 0x4828);
	*(int *)(iVar3 + 0x4828) = *(int *)(iVar3 + 0x4828) + -1;
	uVar1 = *(uint *)(iVar3 + 0x4828);
	cVar15 = (char)lVar13;
	if ((0 < (int)uVar1) && (cVar15 = (char)lVar13, (uint)param_2 != uVar1)) {
		lVar13 = uVar18 + lVar17 + 0xea8;
		lVar10 = lVar13 + (ulonglong)uVar1 * 0x170 + -8;
		lVar19 = 0x2e;
		lVar13 = lVar13 + param_2 * 0x170 + -8;
		do {
			lVar10 = lVar10 + 8;
			uVar2 = ((undefined4 *)lVar10)[1];
			lVar13 = lVar13 + 8;
			*(undefined4 *)lVar13 = *(undefined4 *)lVar10;
			((undefined4 *)lVar13)[1] = uVar2;
			lVar19 = lVar19 + -1;
		} while (lVar19 != 0);
		cVar11 = cVar6 + '\x01';
		lVar13 = 8;
		cVar15 = '\0';
		lVar10 = lVar7;
		do {
			iVar3 = (int)lVar10;
			iVar8 = (int)lVar7;
			if ((int)*(char *)(iVar3 + 0x482c) == *(int *)(iVar8 + 0x4828) + 1) {
				*(char *)(iVar3 + 0x482c) = cVar11;
			}
			if ((int)*(char *)(iVar3 + 0x482c) == -(*(int *)(iVar8 + 0x4828) + 1)) {
				*(char *)(iVar3 + 0x482c) = (char)lVar13;
			}
			if ((int)*(char *)(iVar3 + 0x482d) == *(int *)(iVar8 + 0x4828) + 1) {
				*(char *)(iVar3 + 0x482d) = cVar11;
			}
			if ((int)*(char *)(iVar3 + 0x482d) == -(*(int *)(iVar8 + 0x4828) + 1)) {
				*(char *)(iVar3 + 0x482d) = (char)lVar13;
			}
			if ((int)*(char *)(iVar3 + 0x482e) == *(int *)(iVar8 + 0x4828) + 1) {
				*(char *)(iVar3 + 0x482e) = cVar11;
			}
			if ((int)*(char *)(iVar3 + 0x482e) == -(*(int *)(iVar8 + 0x4828) + 1)) {
				*(char *)(iVar3 + 0x482e) = (char)lVar13;
			}
			if ((int)*(char *)(iVar3 + 0x482f) == *(int *)(iVar8 + 0x4828) + 1) {
				*(char *)(iVar3 + 0x482f) = cVar11;
			}
			if ((int)*(char *)(iVar3 + 0x482f) == -(*(int *)(iVar8 + 0x4828) + 1)) {
				*(char *)(iVar3 + 0x482f) = (char)lVar13;
			}
			if ((int)*(char *)(iVar3 + 0x4830) == *(int *)(iVar8 + 0x4828) + 1) {
				*(char *)(iVar3 + 0x4830) = cVar11;
			}
			cVar9 = *(char *)(iVar3 + 0x4830);
			lVar19 = -((ulonglong) * (uint *)(iVar8 + 0x4828) + 1);
			cVar6 = (char)lVar19;
			if ((int)cVar9 == (int)lVar19) {
				*(char *)(iVar3 + 0x4830) = (char)lVar13;
			}
			lVar10 = lVar10 + 5;
			cVar12 = (char)lVar10;
			cVar15 = cVar15 + '\x04';
			lVar13 = lVar13 + -1;
		} while (lVar13 != 0);
	}
	CalcPlrScrolls((int)param_1, cVar6, (char)lVar7, cVar9, cVar11, cVar12, cVar15, cVar16, in_stack_ffffffc8);
	puVar4 = puVar4 + (int)lVar17;
	if (puVar4[0xb8] == '\x02') {
		if (*(uint *)(puVar4 + 0xb4) != 0xffffffff) {
			uVar1 = 1 << (ulonglong) * (uint *)(puVar4 + 0xb4) - 1;
			if ((uVar1 & *(uint *)(puVar4 + 0x118) | (int)uVar1 >> 0x1f & *(uint *)(puVar4 + 0x114)) == 0) {
				*(undefined4 *)(puVar4 + 0xb4) = 0xffffffff;
			}
			*(undefined4 *)ppuVar5[-0x1daf] = 0xff;
		}
	}
	return;
}

void RemoveSpdBarItem(int param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	uint uVar1;
	int iVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	longlong lVar5;
	longlong lVar6;
	undefined4 in_stack_ffffffc8;

	puVar3 = PTR_DAT_100f1828;
	ppuVar4 = &toc;
	lVar6 = ZEXT48(PTR_DAT_100f1828) + (longlong)param_1 * 0x55ec;
	lVar5 = lVar6 + (longlong)param_2 * 0x170;
	*(undefined4 *)((int)lVar5 + 0x485c) = 0xffffffff;
	CalcPlrScrolls(param_1, (char)lVar5, (char)puVar3, (char)((longlong)param_1 * 0x55ec), param_5, param_6,
	    param_7, param_8, in_stack_ffffffc8);
	iVar2 = (int)lVar6;
	if (*(char *)(iVar2 + 0xb8) == '\x02') {
		if ((*(uint *)(iVar2 + 0xb4) != 0xffffffff) && (uVar1 = 1 << (ulonglong) * (uint *)(iVar2 + 0xb4) - 1, (uVar1 & *(uint *)(iVar2 + 0x118) | (int)uVar1 >> 0x1f & *(uint *)(iVar2 + 0x114)) == 0)) {
			*(undefined4 *)(iVar2 + 0xb4) = 0xffffffff;
		}
	}
	*(undefined4 *)ppuVar4[-0x1daf] = 0xff;
	return;
}

void CheckInvItem(void)

{
	ulonglong in_r6;
	undefined8 in_r7;
	ulonglong in_r8;
	ulonglong in_r9;
	ulonglong in_r10;
	undefined4 in_stack_ffffffc8;

	if (*(int *)PTR_DAT_100f188c < 0xc) {
		CheckInvCut((ulonglong) * (uint *)PTR_DAT_100f1824, *(int *)PTR_DAT_100f1928,
		    *(int *)PTR_DAT_100f1924, in_r6, in_r7, in_r8, in_r9, in_r10, in_stack_ffffffc8);
	} else {
		CheckInvPaste((ulonglong) * (uint *)PTR_DAT_100f1824, (ulonglong) * (uint *)PTR_DAT_100f1928,
		    (ulonglong) * (uint *)PTR_DAT_100f1924, in_r6, in_r7, in_r8, in_r9, in_r10,
		    in_stack_ffffffc8);
	}
	return;
}

void CheckInvScrn(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	if ((0xbe < *(int *)PTR_DAT_100f1928) && (*(int *)PTR_DAT_100f1928 < 0x1b5)) {
		if ((0x160 < *(int *)PTR_DAT_100f1924) && (*(int *)PTR_DAT_100f1924 < 0x181)) {
			CheckInvItem(PTR_DAT_100f1924, param_2, param_3, param_4, param_5, param_6, param_7, param_8);
		}
	}
	return;
}

void CheckItemStats(int param_1)

{
	undefined *puVar1;

	puVar1 = PTR_DAT_100f1828 + param_1 * 0x55ec;
	*(undefined4 *)(puVar1 + 0x5538) = 0;
	if (*(int *)(puVar1 + 0x160) < (int)(char)puVar1[0x5534]) {
		return;
	}
	if (*(int *)(puVar1 + 0x168) < (int)(uint)(byte)puVar1[0x5535]) {
		return;
	}
	if (*(int *)(puVar1 + 0x170) < (int)(char)puVar1[0x5536]) {
		return;
	}
	*(undefined4 *)(puVar1 + 0x5538) = 1;
	return;
}

void CheckBookLevel(int param_1)

{
	uint uVar1;
	undefined *puVar2;
	longlong lVar3;

	puVar2 = PTR_DAT_100f1828 + param_1 * 0x55ec;
	if (*(int *)(puVar2 + 0x54b0) != 0x18) {
		return;
	}
	puVar2[0x5535] = (char)*(undefined4 *)(PTR_DAT_100f1934 + *(int *)(puVar2 + 0x54b4) * 0x38 + 0x1c);
	lVar3 = (longlong)(char)puVar2[*(int *)(puVar2 + 0x54b4) + 0xc1];
	while ((int)lVar3 != 0) {
		lVar3 = lVar3 + -1;
		puVar2[0x5535] = puVar2[0x5535] + (char)((int)((uint)(byte)puVar2[0x5535] * 0x14) / 100);
		uVar1 = (int)((uint)(byte)puVar2[0x5535] * 0x14) / 100;
		if (0xff < (int)((uint)(byte)puVar2[0x5535] + uVar1 + (uVar1 >> 0x1f))) {
			puVar2[0x5535] = 0xff;
			lVar3 = 0;
		}
	}
	return;
}

void CheckQuestItem(int param_1)

{
	char cVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined4 *puVar6;
	undefined4 *puVar7;

	puVar7 = _DAT_100f1df8;
	puVar6 = _DAT_100f1df4;
	puVar5 = PTR_DAT_100f19cc;
	puVar4 = PTR_DAT_100f1828;
	puVar3 = PTR_DAT_100f1824;
	iVar2 = *(int *)(PTR_DAT_100f1828 + param_1 * 0x55ec + 0x553c);
	if (iVar2 == 10) {
		PTR_DAT_100f19cc[0xc2] = 3;
	}
	if ((iVar2 == 0x11) && (puVar5[0x1a] == '\x02')) {
		if (puVar5[0x27] == '\x03') {
			*puVar7 = 10;
			cVar1 = puVar4[param_1 * 0x55ec + 0x15c];
			if (cVar1 == '\0') {
				*puVar6 = 0x32f;
			} else {
				if (cVar1 == '\x01') {
					*puVar6 = 0x2c2;
				} else {
					if (cVar1 == '\x02') {
						*puVar6 = 0x25b;
					}
				}
			}
			puVar5[0x27] = 4;
		}
	}
	if (iVar2 == 0x10) {
		if (puVar5[0xf2] == '\x01') {
			puVar5[0xf2] = 2;
			puVar5[0xff] = 1;
		}
		if (*(int *)(puVar5 + 0x104) == 1) {
			*puVar7 = 10;
			cVar1 = puVar4[*(int *)puVar3 * 0x55ec + 0x15c];
			if (cVar1 == '\0') {
				*puVar6 = 0x329;
			} else {
				if (cVar1 == '\x01') {
					*puVar6 = 700;
				} else {
					if (cVar1 == '\x02') {
						*puVar6 = 0x255;
					}
				}
			}
		}
	}
	if (iVar2 == 0xf) {
		*puVar7 = 0x1e;
		cVar1 = puVar4[*(int *)puVar3 * 0x55ec + 0x15c];
		if (cVar1 == '\0') {
			*puVar6 = 0x328;
		} else {
			if (cVar1 == '\x01') {
				*puVar6 = 699;
			} else {
				if (cVar1 == '\x02') {
					*puVar6 = 0x254;
				}
			}
		}
	}
	if (iVar2 == 9) {
		if (puVar5[2] == '\x01') {
			puVar5[2] = 2;
			puVar5[0xf] = 1;
		}
		if (*(int *)(puVar5 + 0x14) == 1) {
			*puVar7 = 10;
			cVar1 = puVar4[*(int *)puVar3 * 0x55ec + 0x15c];
			if (cVar1 == '\0') {
				*puVar6 = 0x327;
			} else {
				if (cVar1 == '\x01') {
					*puVar6 = 0x2ba;
				} else {
					if (cVar1 == '\x02') {
						*puVar6 = 0x253;
					}
				}
			}
		}
	}
	if (iVar2 != 0x1c) {
		return;
	}
	puVar5[0xda] = 3;
	*puVar7 = 0x14;
	cVar1 = puVar4[*(int *)puVar3 * 0x55ec + 0x15c];
	if (cVar1 == '\0') {
		*puVar6 = 0x32b;
		return;
	}
	if (cVar1 == '\x01') {
		*puVar6 = 0x2be;
		return;
	}
	if (cVar1 != '\x02') {
		return;
	}
	*puVar6 = 599;
	return;
}

void FUN_100490dc(int param_1, int param_2, undefined8 param_3, undefined8 param_4, longlong param_5,
    uint param_6, int param_7, int param_8, undefined4 param_9)

{
	undefined4 uVar1;
	uint uVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	int *piVar6;
	int iVar7;
	ulonglong uVar8;
	undefined4 *puVar9;
	int iVar10;
	undefined4 *puVar12;
	ulonglong uVar11;
	undefined *puVar14;
	undefined8 uVar13;
	undefined uVar15;
	longlong lVar16;
	longlong lVar17;
	longlong lVar18;
	int iVar19;
	longlong lVar20;
	undefined4 in_stack_ffffffa8;

	iVar7 = _DAT_100f1df0;
	piVar6 = _DAT_100f1dec;
	puVar5 = PTR_DAT_100f1944;
	puVar4 = PTR_DAT_100f1940;
	puVar14 = PTR_DAT_100f18c8;
	puVar3 = PTR_DAT_100f1828;
	uVar15 = (undefined)param_5;
	lVar18 = (longlong)param_8;
	lVar17 = (longlong)param_7;
	lVar16 = (longlong)(int)param_6;
	uVar8 = ZEXT48(&toc);
	if (*(int *)PTR_DAT_100f18cc != 0) {
		*(undefined4 *)PTR_DAT_100f18cc = 0;
		*(undefined4 *)puVar14 = 0;
	}
	iVar19 = param_2 * 0x170;
	if (*(char *)(*(int *)puVar5 + *(int *)(puVar4 + iVar19 + 0xc) * 0x70 + *(int *)(puVar4 + iVar19 + 0x10)) != '\0') {
		if ((*(int *)PTR_DAT_100f1824 == param_1) && (0xb < *(int *)PTR_DAT_100f188c)) {
			NetSendCmdPItem(1, 0x56, (ulonglong)(*(uint *)(puVar3 + *(int *)PTR_DAT_100f1824 * 0x55ec + 0x38) & 0xff),
			    (ulonglong)(*(uint *)(puVar3 + *(int *)PTR_DAT_100f1824 * 0x55ec + 0x3c) & 0xff),
			    param_5, param_6, param_7, param_8, in_stack_ffffffa8);
		}
		puVar14 = puVar4 + iVar19;
		*(ushort *)(puVar14 + 4) = *(ushort *)(puVar14 + 4) & 0x7fff;
		lVar20 = 0x2e;
		puVar9 = (undefined4 *)(puVar14 + -8);
		puVar12 = (undefined4 *)(puVar3 + param_1 * 0x55ec + 0x53cc);
		do {
			uVar1 = puVar9[3];
			puVar12[2] = puVar9[2];
			puVar12[3] = uVar1;
			lVar20 = lVar20 + -1;
			puVar9 = puVar9 + 2;
			puVar12 = puVar12 + 2;
		} while (lVar20 != 0);
		CheckQuestItem(param_1);
		CheckBookLevel(param_1);
		CheckItemStats(param_1);
		uVar13 = 0;
		iVar10 = 0;
		uVar2 = *(uint *)puVar5;
		uVar11 = (ulonglong)uVar2;
		*(undefined *)(uVar2 + *(int *)(puVar4 + iVar19 + 0xc) * 0x70 + *(int *)(puVar4 + iVar19 + 0x10)) = 0;
		while (iVar10 < *piVar6) {
			iVar19 = *(int *)(iVar7 + iVar10 * 4);
			if (iVar19 == param_2) {
				DeleteItem(iVar19, iVar10);
				iVar10 = 0;
			} else {
				iVar10 = iVar10 + 1;
			}
		}
		puVar14 = *(undefined **)((int)uVar8 + -0x7748);
		*puVar14 = 0xff;
		NewCursor(*(int *)(puVar3 + param_1 * 0x55ec + 0x5494) + 0xc, (char)puVar14, (char)uVar11,
		    (char)uVar13, uVar15, (char)lVar16, (char)lVar17, (char)lVar18, in_stack_ffffffa8);
	}
	return;
}

void AutoGetItem(ulonglong param_1, longlong param_2, undefined8 param_3, ulonglong param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	char cVar1;
	uint uVar2;
	uint uVar3;
	undefined4 uVar4;
	uint uVar5;
	uint uVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	int *piVar11;
	int iVar12;
	ulonglong uVar13;
	ulonglong uVar14;
	int iVar15;
	longlong lVar16;
	int iVar17;
	int iVar18;
	longlong lVar19;
	int iVar20;
	ulonglong uVar21;
	undefined uVar22;
	undefined uVar23;
	undefined uVar24;
	uint uVar25;
	undefined uVar26;
	undefined4 uVar27;
	undefined uVar28;
	undefined4 uVar29;
	undefined uVar30;
	ulonglong uVar31;
	longlong lVar32;
	longlong lVar33;
	ulonglong uVar34;
	longlong lVar35;
	int iVar36;
	int iVar37;
	int iVar38;
	ulonglong uVar39;
	ulonglong uVar40;
	longlong lVar41;
	longlong lVar42;
	undefined4 in_stack_ffffff78;
	undefined in_stack_ffffff7f;
	undefined in_stack_ffffff8b;

	iVar12 = _DAT_100f1df0;
	piVar11 = _DAT_100f1dec;
	puVar10 = PTR_DAT_100f1960;
	puVar9 = PTR_DAT_100f1940;
	puVar7 = PTR_DAT_100f18c8;
	puVar8 = PTR_DAT_100f1828;
	uVar14 = ZEXT48(&toc);
	uVar31 = ZEXT48(PTR_DAT_100f1940);
	uVar34 = ZEXT48(PTR_DAT_100f1828);
	if (*(int *)PTR_DAT_100f18cc != 0) {
		*(undefined4 *)PTR_DAT_100f18cc = 0;
		*(undefined4 *)puVar7 = 0;
	}
	iVar36 = (int)param_2;
	if ((iVar36 == 0x7f) || (*(char *)(*(int *)PTR_DAT_100f1944 + *(int *)(puVar9 + iVar36 * 0x170 + 0xc) * 0x70 + *(int *)(puVar9 + iVar36 * 0x170 + 0x10)) != '\0')) {
		lVar33 = uVar31 + param_2 * 0x170;
		lVar35 = param_1 * 0x55ec;
		lVar16 = lVar33 + -8;
		lVar32 = uVar34 + lVar35;
		*(ushort *)((int)lVar33 + 4) = *(ushort *)((int)lVar33 + 4) & 0x7fff;
		lVar19 = lVar32 + 0x53cc;
		lVar41 = 0x2e;
		do {
			lVar16 = lVar16 + 8;
			uVar5 = *(uint *)lVar16;
			uVar21 = (ulonglong)uVar5;
			uVar25 = ((uint *)lVar16)[1];
			lVar19 = lVar19 + 8;
			uVar24 = (undefined)lVar19;
			*(uint *)lVar19 = uVar5;
			((uint *)lVar19)[1] = uVar25;
			lVar41 = lVar41 + -1;
		} while (lVar41 != 0);
		iVar17 = (int)param_1;
		CheckQuestItem(iVar17);
		CheckBookLevel(iVar17);
		CheckItemStats(iVar17);
		iVar20 = (int)lVar35;
		puVar7 = puVar8 + iVar20;
		SetICursor(*(int *)(puVar7 + 0x5494) + 0xc);
		iVar37 = (int)uVar31;
		iVar15 = (int)uVar14;
		uVar29 = (undefined4)param_8;
		uVar27 = (undefined4)param_7;
		uVar25 = (uint)param_6;
		uVar22 = (undefined)uVar21;
		uVar23 = (undefined)param_4;
		if (*(int *)(puVar7 + 0x53dc) == 0xb) {
			iVar18 = GoldAutoPlace(iVar17, uVar24, uVar22, uVar23, (char)param_5, (char)param_6, (char)param_7,
			    (char)param_8, in_stack_ffffff78);
		} else {
			uVar40 = 0;
			if (((((*(uint *)(puVar7 + 0x78) & 0xf) == 0) || ((*(uint *)(puVar7 + 0x78) & 0xf) == 1)) && (*(int *)(puVar8 + iVar20) < 4)) && ((*(int *)(puVar8 + iVar20 + 0x5538) != 0 && ((puVar8 + iVar20)[0x5492] == '\x01')))) {
				uVar40 = WeaponAutoPlace(iVar17, uVar24, uVar22, uVar23, (char)param_5, (char)param_6, (char)param_7,
				    (char)param_8, in_stack_ffffff78);
				uVar29 = (undefined4)param_8;
				uVar27 = (undefined4)param_7;
				uVar25 = (uint)param_6;
				if (uVar40 != 0) {
					CalcPlrInv(param_1, 1, uVar21, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff78);
				}
			}
			iVar37 = (int)uVar31;
			uVar23 = (undefined)param_4;
			uVar22 = (undefined)uVar21;
			iVar15 = (int)uVar14;
			iVar18 = (int)uVar40;
			if (iVar18 == 0) {
				uVar5 = **(uint **)(iVar15 + -0x7648);
				uVar13 = (ulonglong)uVar5;
				uVar2 = **(uint **)(iVar15 + -0x764c);
				uVar39 = (ulonglong)uVar2;
				if ((uVar5 == 1) && (uVar2 == 1)) {
					lVar35 = uVar34 + lVar35;
					if ((*(int *)((int)lVar35 + 0x5538) != 0) && (*(int *)(iVar15 + *(int *)((int)lVar35 + 0x553c) * 0x4c + 0x3898) != 0)) {
						iVar37 = 0;
						lVar16 = lVar35;
						while ((iVar37 < 8 && ((int)uVar40 == 0))) {
							if (*(int *)((int)lVar16 + 0x485c) == -1) {
								lVar42 = 0x2e;
								lVar41 = lVar16 + 0x484c;
								lVar19 = lVar35 + 0x53cc;
								do {
									lVar19 = lVar19 + 8;
									uVar6 = *(uint *)lVar19;
									uVar21 = (ulonglong)uVar6;
									uVar3 = ((uint *)lVar19)[1];
									lVar41 = lVar41 + 8;
									*(uint *)lVar41 = uVar6;
									((uint *)lVar41)[1] = uVar3;
									lVar42 = lVar42 + -1;
								} while (lVar42 != 0);
								CalcPlrScrolls(iVar17, (char)lVar41, (char)uVar6, (char)param_4, (char)param_5,
								    (char)uVar25, (char)uVar27, (char)uVar29, in_stack_ffffff78);
								*(undefined4 *)puVar10 = 1;
								uVar40 = 1;
							}
							lVar16 = lVar16 + 0x170;
							iVar37 = iVar37 + 1;
						}
					}
					iVar37 = 0x1e;
					while ((iVar37 < 0x28 && ((int)uVar40 == 0))) {
						param_5 = 1;
						uVar21 = uVar13;
						param_4 = uVar39;
						uVar40 = AutoPlace(iVar17, iVar37, uVar13, 1, 1, (char)uVar25, (char)uVar27, (char)uVar29,
						    in_stack_ffffff78);
						iVar37 = iVar37 + 1;
					}
					iVar37 = 0x14;
					while ((iVar37 < 0x1e && ((int)uVar40 == 0))) {
						param_5 = 1;
						uVar21 = uVar13;
						param_4 = uVar39;
						uVar40 = AutoPlace(iVar17, iVar37, uVar13, 1, 1, (char)uVar25, (char)uVar27, (char)uVar29,
						    in_stack_ffffff78);
						iVar37 = iVar37 + 1;
					}
					iVar37 = 10;
					while ((iVar37 < 0x14 && ((int)uVar40 == 0))) {
						param_5 = 1;
						uVar21 = uVar13;
						param_4 = uVar39;
						uVar40 = AutoPlace(iVar17, iVar37, uVar13, 1, 1, (char)uVar25, (char)uVar27, (char)uVar29,
						    in_stack_ffffff78);
						iVar37 = iVar37 + 1;
					}
					iVar37 = 0;
					while ((iVar37 < 10 && ((int)uVar40 == 0))) {
						param_5 = 1;
						uVar21 = uVar13;
						param_4 = uVar39;
						uVar40 = AutoPlace(iVar17, iVar37, uVar13, 1, 1, (char)uVar25, (char)uVar27, (char)uVar29,
						    in_stack_ffffff78);
						iVar37 = iVar37 + 1;
					}
				}
				if ((uVar5 == 1) && (uVar2 == 2)) {
					iVar37 = 0x1d;
					while ((0x13 < iVar37 && ((int)uVar40 == 0))) {
						param_5 = 1;
						uVar21 = uVar13;
						param_4 = uVar39;
						uVar40 = AutoPlace(iVar17, iVar37, uVar13, 2, 1, (char)uVar25, (char)uVar27, (char)uVar29,
						    in_stack_ffffff78);
						iVar37 = iVar37 + -1;
					}
					iVar37 = 9;
					while ((-1 < iVar37 && ((int)uVar40 == 0))) {
						param_5 = 1;
						uVar21 = uVar13;
						param_4 = uVar39;
						uVar40 = AutoPlace(iVar17, iVar37, uVar13, 2, 1, (char)uVar25, (char)uVar27, (char)uVar29,
						    in_stack_ffffff78);
						iVar37 = iVar37 + -1;
					}
					iVar37 = 0x13;
					while ((9 < iVar37 && ((int)uVar40 == 0))) {
						param_5 = 1;
						uVar21 = uVar13;
						param_4 = uVar39;
						uVar40 = AutoPlace(iVar17, iVar37, uVar13, 2, 1, (char)uVar25, (char)uVar27, (char)uVar29,
						    in_stack_ffffff78);
						iVar37 = iVar37 + -1;
					}
				}
				if ((uVar5 == 1) && (uVar2 == 3)) {
					iVar37 = 0;
					while ((iVar37 < 0x14 && ((int)uVar40 == 0))) {
						param_5 = 1;
						uVar21 = uVar13;
						param_4 = uVar39;
						uVar40 = AutoPlace(iVar17, iVar37, uVar13, 3, 1, (char)uVar25, (char)uVar27, (char)uVar29,
						    in_stack_ffffff78);
						iVar37 = iVar37 + 1;
					}
				}
				if ((uVar5 == 2) && (uVar2 == 2)) {
					iVar37 = 0;
					lVar16 = uVar14 + 0x35c4;
					while ((iVar37 < 10 && ((int)uVar40 == 0))) {
						param_5 = 1;
						uVar21 = uVar13;
						param_4 = uVar39;
						uVar40 = AutoPlace(iVar17, *(int *)lVar16, uVar13, 2, 1, (char)uVar25, (char)uVar27,
						    (char)uVar29, in_stack_ffffff78);
						iVar37 = iVar37 + 1;
						lVar16 = lVar16 + 4;
					}
					iVar37 = 0x15;
					while ((iVar37 < 0x1d && ((int)uVar40 == 0))) {
						param_5 = 1;
						uVar21 = uVar13;
						param_4 = uVar39;
						uVar40 = AutoPlace(iVar17, iVar37, uVar13, 2, 1, (char)uVar25, (char)uVar27, (char)uVar29,
						    in_stack_ffffff78);
						iVar37 = iVar37 + 2;
					}
					iVar37 = 1;
					while ((iVar37 < 9 && ((int)uVar40 == 0))) {
						param_5 = 1;
						uVar21 = uVar13;
						param_4 = uVar39;
						uVar40 = AutoPlace(iVar17, iVar37, uVar13, 2, 1, (char)uVar25, (char)uVar27, (char)uVar29,
						    in_stack_ffffff78);
						iVar37 = iVar37 + 2;
					}
					iVar37 = 10;
					while ((iVar37 < 0x13 && ((int)uVar40 == 0))) {
						param_5 = 1;
						uVar21 = uVar13;
						param_4 = uVar39;
						uVar40 = AutoPlace(iVar17, iVar37, uVar13, 2, 1, (char)uVar25, (char)uVar27, (char)uVar29,
						    in_stack_ffffff78);
						iVar37 = iVar37 + 1;
					}
				}
				iVar37 = (int)uVar31;
				uVar23 = (undefined)param_4;
				uVar22 = (undefined)uVar21;
				iVar15 = (int)uVar14;
				iVar18 = (int)uVar40;
				if ((uVar5 == 2) && (uVar2 == 3)) {
					iVar37 = 0;
					while ((iVar37 < 9 && ((int)uVar40 == 0))) {
						param_5 = 1;
						uVar21 = uVar13;
						param_4 = uVar39;
						uVar40 = AutoPlace(iVar17, iVar37, uVar13, 3, 1, (char)uVar25, (char)uVar27, (char)uVar29,
						    in_stack_ffffff78);
						iVar37 = iVar37 + 1;
					}
					iVar38 = 10;
					while (true) {
						iVar37 = (int)uVar31;
						uVar23 = (undefined)param_4;
						uVar22 = (undefined)uVar21;
						iVar15 = (int)uVar14;
						iVar18 = (int)uVar40;
						if ((0x12 < iVar38) || (iVar18 != 0))
							break;
						param_5 = 1;
						uVar21 = uVar13;
						param_4 = uVar39;
						uVar40 = AutoPlace(iVar17, iVar38, uVar13, 3, 1, (char)uVar25, (char)uVar27, (char)uVar29,
						    in_stack_ffffff78);
						iVar38 = iVar38 + 1;
					}
				}
			}
		}
		iVar38 = (int)(param_2 * 0x170);
		if (iVar18 == 0) {
			if (iVar17 == **(int **)(iVar15 + -0x77ac)) {
				cVar1 = puVar8[iVar20 + 0x15c];
				uVar24 = (undefined)param_5;
				uVar26 = (undefined)uVar25;
				uVar28 = (undefined)uVar27;
				uVar30 = (undefined)uVar29;
				if (cVar1 == '\0') {
					lVar16 = random(0, 3, uVar22, uVar23, uVar24, uVar26, uVar28, uVar30, in_stack_ffffff78,
					    in_stack_ffffff7f, in_stack_ffffff8b);
					PlaySFX(lVar16 + 0x2d7);
				} else {
					if (cVar1 == '\x01') {
						lVar16 = random(0, 3, uVar22, uVar23, uVar24, uVar26, uVar28, uVar30, in_stack_ffffff78,
						    in_stack_ffffff7f, in_stack_ffffff8b);
						PlaySFX(lVar16 + 0x270);
					} else {
						if (cVar1 == '\x02') {
							lVar16 = random(0, 3, uVar22, uVar23, uVar24, uVar26, uVar28, uVar30, in_stack_ffffff78,
							    in_stack_ffffff7f, in_stack_ffffff8b);
							PlaySFX(lVar16 + 0x209);
						}
					}
				}
			}
			lVar32 = lVar32 + 0x53cc;
			lVar16 = 0x2e;
			lVar33 = lVar33 + -8;
			do {
				lVar33 = lVar33 + 8;
				uVar4 = ((undefined4 *)lVar33)[1];
				lVar32 = lVar32 + 8;
				*(undefined4 *)lVar32 = *(undefined4 *)lVar33;
				((undefined4 *)lVar32)[1] = uVar4;
				lVar16 = lVar16 + -1;
			} while (lVar16 != 0);
			RespawnItem(param_2, 1, (char)lVar32, uVar23, (char)param_5, (char)uVar25, (char)uVar27,
			    (char)uVar29, in_stack_ffffff78);
			iVar37 = iVar37 + iVar38;
			NetSendCmdPItem(1, 0xb, (ulonglong)(*(uint *)(iVar37 + 0xc) & 0xff),
			    (ulonglong)(*(uint *)(iVar37 + 0x10) & 0xff), param_5, uVar25, uVar27, uVar29,
			    in_stack_ffffff78);
			*(int *)(puVar7 + 0x53dc) = -1;
		} else {
			iVar37 = iVar37 + iVar38;
			iVar20 = 0;
			*(undefined *)(**(int **)(iVar15 + -0x768c) + *(int *)(iVar37 + 0xc) * 0x70 + *(int *)(iVar37 + 0x10)) = 0;
			while (iVar20 < *piVar11) {
				iVar37 = *(int *)(iVar12 + iVar20 * 4);
				if (iVar37 == iVar36) {
					DeleteItem(iVar37, iVar20);
					iVar20 = 0;
				} else {
					iVar20 = iVar20 + 1;
				}
			}
		}
	}
	return;
}

int FindGetItem(int param_1, short param_2, int param_3)

{
	ulonglong uVar1;
	int iVar2;
	int *piVar3;

	uVar1 = (ulonglong)*_DAT_100f1dec;
	piVar3 = _DAT_100f1df0;
	if (0 < (int)*_DAT_100f1dec) {
		do {
			iVar2 = *piVar3 * 0x170;
			if (((param_1 == *(int *)(PTR_DAT_100f1940 + iVar2 + 0x168)) && (param_3 == *(int *)(PTR_DAT_100f1940 + iVar2))) && (param_2 == *(short *)(PTR_DAT_100f1940 + iVar2 + 1))) {
				return *piVar3;
			}
			piVar3 = piVar3 + 1;
			uVar1 = uVar1 - 1;
		} while (uVar1 != 0);
	}
	return -1;
}

int SyncGetItem(int param_1, int param_2, int param_3, short param_4, int param_5, undefined4 param_6,
    undefined param_7, undefined param_8, undefined4 param_9, undefined param_10,
    undefined4 param_11)

{
	char cVar1;
	undefined *puVar2;
	undefined *puVar3;
	int *piVar4;
	int iVar5;
	int iVar6;
	int iVar7;
	int iVar8;

	iVar5 = _DAT_100f1df0;
	piVar4 = _DAT_100f1dec;
	puVar3 = PTR_DAT_100f1944;
	puVar2 = PTR_DAT_100f1940;
	cVar1 = *(char *)(*(int *)PTR_DAT_100f1944 + param_1 * 0x70 + param_2);
	if (cVar1 == '\0') {
		iVar6 = FindGetItem(param_3, param_4, param_5);
		iVar8 = iVar6;
	} else {
		iVar8 = (int)cVar1 + -1;
		iVar6 = iVar8 * 0x170;
		if (((param_3 == *(int *)(PTR_DAT_100f1940 + iVar6 + 0x168)) && (param_5 == *(int *)(PTR_DAT_100f1940 + iVar6))) && (param_4 == *(short *)(PTR_DAT_100f1940 + iVar6 + 4))) {
			iVar6 = FindGetItem(param_3, param_4, param_5);
		} else {
			iVar6 = FindGetItem(param_3, param_4, param_5);
			iVar8 = iVar6;
		}
	}
	if (iVar8 != -1) {
		iVar7 = 0;
		iVar6 = *(int *)(puVar2 + iVar8 * 0x170 + 0xc) * 0x70;
		*(undefined *)(*(int *)puVar3 + iVar6 + *(int *)(puVar2 + iVar8 * 0x170 + 0x10)) = 0;
		while (iVar7 < *piVar4) {
			iVar6 = *(int *)(iVar5 + iVar7 * 4);
			if (iVar6 == iVar8) {
				DeleteItem(iVar6, iVar7);
				iVar6 = FindGetItem(param_3, param_4, param_5);
				iVar7 = 0;
			} else {
				iVar7 = iVar7 + 1;
			}
		}
	}
	return iVar6;
}

undefined8 CanPut(int param_1, int param_2)

{
	char cVar1;
	char cVar2;
	int iVar3;
	int iVar4;
	int iVar5;
	int iVar6;

	iVar5 = param_1 * 0x70;
	if (*(char *)(*(int *)PTR_DAT_100f1944 + iVar5 + param_2) != '\0') {
		return 0;
	}
	param_1 = param_1 * 0xe0;
	iVar4 = param_2 * 2;
	if (*(char *)(_DAT_100f1da4 + (int)*(short *)(*(int *)PTR_DAT_100f1a54 + param_1 + iVar4)) != '\0') {
		return 0;
	}
	iVar3 = *(int *)PTR_DAT_100f194c;
	cVar2 = *(char *)(iVar3 + iVar5 + param_2);
	if (cVar2 != '\0') {
		if (cVar2 < '\x01') {
			iVar6 = -((int)cVar2 + 1);
		} else {
			iVar6 = (int)cVar2 + -1;
		}
		if (*(int *)(PTR_DAT_100f1948 + iVar6 * 0x78 + 0x38) != 0) {
			return 0;
		}
	}
	cVar2 = *(char *)(iVar3 + iVar5 + param_2 + 0x71);
	if ('\0' < cVar2) {
		if (PTR_DAT_100f1948[((int)cVar2 + -1) * 0x78 + 0x40] != '\0') {
			return 0;
		}
	}
	if (cVar2 < '\0') {
		if (PTR_DAT_100f1948[((int)cVar2 + 1) * -0x78 + 0x40] != '\0') {
			return 0;
		}
	}
	param_2 = iVar3 + iVar5 + param_2;
	cVar2 = *(char *)(param_2 + 0x70);
	if ('\0' < cVar2) {
		cVar1 = *(char *)(param_2 + 1);
		if ('\0' < cVar1) {
			if (((PTR_DAT_100f1948 + 0x40)[((int)cVar2 + -1) * 0x78] != '\0') && ((PTR_DAT_100f1948 + 0x40)[((int)cVar1 + -1) * 0x78] != '\0')) {
				return 0;
			}
		}
	}
	if (((*PTR_DAT_100f17ec != '\0') || (*(short *)(*(int *)PTR_DAT_100f1954 + param_1 + iVar4) == 0))
	    && ((*PTR_DAT_100f17ec != '\0' || (*(short *)(*(int *)PTR_DAT_100f1954 + param_1 + iVar4 + 0xe2) == 0)))) {
		return 1;
	}
	return 0;
}

undefined8
TryInvPut(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	uint uVar2;
	undefined *puVar3;
	int iVar4;
	int iVar5;
	undefined8 uVar6;
	ulonglong uVar7;
	uint uVar8;
	undefined *puVar9;
	undefined *puVar10;

	iVar5 = _DAT_100f1de4;
	iVar4 = _DAT_100f1de0;
	puVar3 = PTR_DAT_100f1824;
	if (*_DAT_100f1dec < 0x7f) {
		puVar10 = PTR_DAT_100f1828 + 0x38;
		puVar9 = PTR_DAT_100f1828 + 0x3c;
		uVar7 = GetDirection((ulonglong) * (uint *)(puVar10 + *(int *)PTR_DAT_100f1824 * 0x55ec),
		    *(int *)(puVar9 + *(int *)PTR_DAT_100f1824 * 0x55ec),
		    (ulonglong) * (uint *)PTR_DAT_100f1978, *(int *)PTR_DAT_100f1974);
		iVar1 = (int)uVar7 * 4;
		uVar6 = CanPut(*(int *)(puVar10 + *(int *)puVar3 * 0x55ec) + *(int *)(iVar5 + iVar1),
		    *(int *)(puVar9 + *(int *)puVar3 * 0x55ec) + *(int *)(iVar4 + iVar1));
		if ((int)uVar6 == 0) {
			uVar8 = (int)uVar7 - 1;
			uVar2 = uVar8 * 4 & 0x1c;
			uVar6 = CanPut(*(int *)(puVar10 + *(int *)puVar3 * 0x55ec) + *(int *)(iVar5 + uVar2),
			    *(int *)(puVar9 + *(int *)puVar3 * 0x55ec) + *(int *)(iVar4 + uVar2));
			if ((int)uVar6 == 0) {
				uVar2 = ((uVar8 & 7) + 2) * 4 & 0x1c;
				uVar6 = CanPut(*(int *)(puVar10 + *(int *)puVar3 * 0x55ec) + *(int *)(iVar5 + uVar2),
				    *(int *)(puVar9 + *(int *)puVar3 * 0x55ec) + *(int *)(iVar4 + uVar2));
				if ((int)uVar6 == 0) {
					uVar6 = CanPut(*(int *)(puVar10 + *(int *)puVar3 * 0x55ec),
					    *(int *)(puVar9 + *(int *)puVar3 * 0x55ec));
				} else {
					uVar6 = 1;
				}
			} else {
				uVar6 = 1;
			}
		} else {
			uVar6 = 1;
		}
	} else {
		uVar6 = 0;
	}
	return uVar6;
}

void FUN_10049e0c(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	longlong lVar1;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	int local_2c;

	lVar1 = GetTickCount((char)param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
	if (4999 < (lVar1 - (ulonglong) * (uint *)(local_2c + -0x4e18) & 0xffffffff)) {
		*(undefined4 *)(local_2c + -0x4e18) = (int)lVar1;
		FUN_1009ada8(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return;
}

ulonglong FUN_10049e58(int param_1, longlong param_2, longlong param_3, undefined param_4,
    undefined param_5, undefined param_6, char param_7, char param_8,
    undefined4 param_9)

{
	int *piVar1;
	short *psVar2;
	uint *puVar3;
	uint *puVar4;
	short sVar5;
	uint uVar6;
	undefined4 uVar7;
	bool bVar8;
	undefined *puVar9;
	uint *puVar10;
	int *piVar11;
	uint uVar12;
	ulonglong uVar13;
	int iVar17;
	ulonglong uVar14;
	longlong lVar15;
	undefined8 uVar16;
	undefined uVar19;
	undefined4 *puVar18;
	undefined uVar21;
	longlong lVar20;
	undefined uVar22;
	undefined uVar23;
	undefined uVar24;
	longlong lVar25;
	int iVar26;
	int iVar27;
	undefined *puVar28;
	int iVar29;
	int iVar30;
	int iVar31;
	ulonglong uVar32;
	int iVar33;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined4 in_stack_ffffffbc;

	piVar11 = _DAT_100f1dec;
	iVar30 = _DAT_100f1de4;
	iVar29 = _DAT_100f1de0;
	puVar10 = _DAT_100f1ddc;
	puVar9 = PTR_DAT_100f1828;
	iVar27 = (int)param_3;
	iVar26 = (int)param_2;
	lVar25 = (longlong)param_8;
	lVar20 = (longlong)param_7;
	uVar13 = ZEXT48(&toc);
	uVar32 = ZEXT48(PTR_DAT_100f1940);
	if (*_DAT_100f1dec < 0x7f) {
		param_1 = param_1 * 0x55ec;
		puVar28 = PTR_DAT_100f1828 + param_1;
		piVar1 = (int *)(PTR_DAT_100f1828 + param_1 + 0x553c);
		psVar2 = (short *)(PTR_DAT_100f1828 + param_1 + 0x53d8);
		sVar5 = *psVar2;
		uVar19 = (undefined)sVar5;
		iVar17 = *(int *)(puVar28 + 0x53d4);
		uVar21 = (undefined)iVar17;
		iVar17 = FindGetItem(*piVar1, sVar5, iVar17);
		if (iVar17 != -1) {
			FUN_10049e0c(*(int *)((int)uVar13 + -0x6158), uVar19, uVar21, param_4, param_5, param_6,
			    (char)lVar20, (char)lVar25, in_stack_ffffff98);
			SyncGetItem(iVar26, iVar27, *piVar1, *psVar2, *(int *)(puVar28 + 0x53d4), 1, (char)lVar20,
			    (char)lVar25, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffbc);
		}
		puVar3 = (uint *)(puVar9 + param_1 + 0x38);
		puVar4 = (uint *)(puVar9 + param_1 + 0x3c);
		uVar14 = GetDirection((ulonglong)*puVar3, *puVar4, param_2, iVar27);
		uVar6 = *puVar4;
		lVar15 = abs(param_2 - (ulonglong)*puVar3);
		if ((1 < (int)lVar15) || (lVar15 = abs(param_3 - (ulonglong)uVar6), 1 < (int)lVar15)) {
			iVar27 = (int)uVar14 * 4;
			iVar26 = *puVar3 + *(int *)(iVar30 + iVar27);
			iVar27 = *puVar4 + *(int *)(iVar29 + iVar27);
		}
		uVar16 = CanPut(iVar26, iVar27);
		uVar21 = (undefined)lVar25;
		uVar19 = (undefined)lVar20;
		iVar17 = (int)uVar13;
		if ((int)uVar16 == 0) {
			uVar12 = (int)uVar14 - 1;
			uVar6 = uVar12 * 4 & 0x1c;
			iVar26 = *puVar3 + *(int *)(iVar30 + uVar6);
			iVar27 = *puVar4 + *(int *)(iVar29 + uVar6);
			uVar16 = CanPut(iVar26, iVar27);
			uVar21 = (undefined)lVar25;
			uVar19 = (undefined)lVar20;
			iVar17 = (int)uVar13;
			if ((int)uVar16 == 0) {
				uVar6 = ((uVar12 & 7) + 2) * 4 & 0x1c;
				iVar26 = *puVar3 + *(int *)(iVar30 + uVar6);
				iVar27 = *puVar4 + *(int *)(iVar29 + uVar6);
				uVar16 = CanPut(iVar26, iVar27);
				uVar21 = (undefined)lVar25;
				uVar19 = (undefined)lVar20;
				iVar17 = (int)uVar13;
				if ((int)uVar16 == 0) {
					bVar8 = false;
					iVar29 = 1;
					while (true) {
						uVar21 = (undefined)lVar25;
						uVar19 = (undefined)lVar20;
						iVar17 = (int)uVar13;
						if ((0x31 < iVar29) || (bVar8))
							break;
						iVar30 = -iVar29;
						while ((iVar30 <= iVar29 && (!bVar8))) {
							iVar31 = iVar30 + *(int *)(puVar9 + param_1 + 0x3c);
							iVar17 = -iVar29;
							while ((iVar17 <= iVar29 && (!bVar8))) {
								iVar33 = iVar17 + *(int *)(puVar9 + param_1 + 0x38);
								uVar16 = CanPut(iVar33, iVar31);
								if ((int)uVar16 != 0) {
									bVar8 = true;
									iVar27 = iVar31;
									iVar26 = iVar33;
								}
								iVar17 = iVar17 + 1;
							}
							iVar30 = iVar30 + 1;
						}
						iVar29 = iVar29 + 1;
					}
					if (!bVar8) {
						return 0xffffffffffffffff;
					}
				}
			}
		}
		uVar6 = *puVar10;
		uVar13 = (ulonglong)uVar6;
		*(char *)(**(int **)(iVar17 + -0x768c) + iVar26 * 0x70 + iVar27) = (char)uVar6 + '\x01';
		lVar25 = uVar13 * 0x170;
		lVar25._7_1_ = (undefined)lVar25;
		iVar29 = *(int *)(iVar17 + -0x71e0);
		uVar23 = (undefined)iVar29;
		iVar30 = *piVar11;
		lVar20 = uVar32 + lVar25 + -8;
		uVar24 = (undefined)puVar10[0x7e - iVar30];
		lVar15 = 0x2e;
		*puVar10 = puVar10[0x7e - iVar30];
		*(uint *)(iVar29 + iVar30 * 4) = uVar6;
		puVar18 = (undefined4 *)(puVar28 + 0x53cc);
		do {
			uVar7 = puVar18[3];
			lVar20 = lVar20 + 8;
			*(undefined4 *)lVar20 = puVar18[2];
			((undefined4 *)lVar20)[1] = uVar7;
			lVar15 = lVar15 + -1;
			puVar18 = puVar18 + 2;
		} while (lVar15 != 0);
		lVar25 = uVar32 + lVar25;
		iVar29 = (int)lVar25;
		*(int *)(iVar29 + 0xc) = iVar26;
		*(int *)(iVar29 + 0x10) = iVar27;
		uVar22 = (undefined)lVar25;
		RespawnItem(uVar13, 1, uVar22, uVar23, uVar24, (undefined)lVar25, uVar19, uVar21, in_stack_ffffff98);
		iVar29 = *piVar11;
		*piVar11 = iVar29 + 1;
		NewCursor(1, (char)iVar29, uVar22, uVar23, uVar24, (undefined)lVar25, uVar19, uVar21,
		    in_stack_ffffff98);
	} else {
		uVar13 = 0xffffffffffffffff;
	}
	return uVar13;
}

ulonglong FUN_1004a11c(int param_1, longlong param_2, longlong param_3, int param_4, ulonglong param_5,
    ulonglong param_6, int param_7, int param_8, undefined4 param_9,
    undefined param_10, undefined4 param_11, uint param_12, undefined4 param_13,
    int param_14, undefined4 param_15)

{
	uint *puVar1;
	uint *puVar2;
	uint uVar3;
	bool bVar4;
	undefined *puVar5;
	int *piVar6;
	uint uVar7;
	ulonglong uVar8;
	int iVar12;
	ulonglong uVar9;
	longlong lVar10;
	undefined8 uVar11;
	undefined uVar13;
	int iVar15;
	longlong lVar14;
	undefined uVar16;
	undefined uVar17;
	undefined uVar18;
	undefined uVar19;
	ulonglong uVar20;
	undefined uVar21;
	longlong lVar22;
	undefined uVar23;
	ulonglong uVar24;
	undefined4 uVar25;
	int iVar26;
	int iVar27;
	int iVar28;
	int iVar29;
	int iVar30;
	int iVar31;
	undefined4 in_stack_ffffff78;
	undefined in_stack_ffffff7f;
	undefined4 in_stack_ffffff9c;

	piVar6 = _DAT_100f1dec;
	iVar26 = _DAT_100f1de4;
	iVar29 = _DAT_100f1de0;
	puVar5 = PTR_DAT_100f1828;
	iVar27 = (int)param_3;
	iVar28 = (int)param_2;
	uVar13 = (undefined)param_5;
	lVar22 = (longlong)param_8;
	uVar19 = (undefined)param_8;
	lVar14 = (longlong)param_7;
	uVar17 = (undefined)param_7;
	uVar16 = (undefined)param_4;
	uVar8 = ZEXT48(&toc);
	uVar21 = (undefined)param_11;
	uVar24 = (ulonglong)param_12;
	uVar23 = (undefined)param_13;
	if (*_DAT_100f1dec < 0x7f) {
		iVar15 = (int)param_6;
		uVar20 = param_6;
		iVar15._3_1_ = (char)param_6;
		uVar18 = uVar13;
		iVar12 = FindGetItem(param_4, (short)param_5, iVar15);
		if (iVar12 != -1) {
			FUN_10049e0c(*(int *)((int)uVar8 + -0x615c), uVar13, (undefined)iVar15, uVar16, uVar18,
			    (char)uVar20, (char)lVar14, (char)lVar22, in_stack_ffffff78);
			uVar20 = 2;
			SyncGetItem(iVar28, iVar27, param_4, (short)param_5, iVar15, 2, (char)lVar14, (char)lVar22,
			    in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff9c);
		}
		param_1 = param_1 * 0x55ec;
		puVar1 = (uint *)(puVar5 + param_1 + 0x38);
		puVar2 = (uint *)(puVar5 + param_1 + 0x3c);
		uVar9 = GetDirection((ulonglong)*puVar1, *puVar2, param_2, iVar27);
		uVar3 = *puVar2;
		lVar10 = abs(param_2 - (ulonglong)*puVar1);
		if ((1 < (int)lVar10) || (lVar10 = abs(param_3 - (ulonglong)uVar3), 1 < (int)lVar10)) {
			iVar27 = (int)uVar9 * 4;
			iVar28 = *puVar1 + *(int *)(iVar26 + iVar27);
			iVar27 = *puVar2 + *(int *)(iVar29 + iVar27);
		}
		uVar11 = CanPut(iVar28, iVar27);
		iVar15._3_1_ = (undefined)lVar22;
		uVar16 = (undefined)lVar14;
		uVar13 = (undefined)uVar20;
		uVar25 = (undefined4)uVar24;
		iVar12 = (int)uVar8;
		if ((int)uVar11 == 0) {
			uVar7 = (int)uVar9 - 1;
			uVar3 = uVar7 * 4 & 0x1c;
			iVar28 = *puVar1 + *(int *)(iVar26 + uVar3);
			iVar27 = *puVar2 + *(int *)(iVar29 + uVar3);
			uVar11 = CanPut(iVar28, iVar27);
			iVar15._3_1_ = (undefined)lVar22;
			uVar16 = (undefined)lVar14;
			uVar13 = (undefined)uVar20;
			uVar25 = (undefined4)uVar24;
			iVar12 = (int)uVar8;
			if ((int)uVar11 == 0) {
				uVar3 = ((uVar7 & 7) + 2) * 4 & 0x1c;
				iVar28 = *puVar1 + *(int *)(iVar26 + uVar3);
				iVar27 = *puVar2 + *(int *)(iVar29 + uVar3);
				uVar11 = CanPut(iVar28, iVar27);
				iVar15._3_1_ = (undefined)lVar22;
				uVar16 = (undefined)lVar14;
				uVar13 = (undefined)uVar20;
				uVar25 = (undefined4)uVar24;
				iVar12 = (int)uVar8;
				if ((int)uVar11 == 0) {
					bVar4 = false;
					iVar29 = 1;
					while (true) {
						iVar15._3_1_ = (undefined)lVar22;
						uVar16 = (undefined)lVar14;
						uVar13 = (undefined)uVar20;
						uVar25 = (undefined4)uVar24;
						iVar12 = (int)uVar8;
						if ((0x31 < iVar29) || (bVar4))
							break;
						iVar26 = -iVar29;
						while ((iVar26 <= iVar29 && (!bVar4))) {
							iVar30 = iVar26 + *(int *)(puVar5 + param_1 + 0x3c);
							iVar12 = -iVar29;
							while ((iVar12 <= iVar29 && (!bVar4))) {
								iVar31 = iVar12 + *(int *)(puVar5 + param_1 + 0x38);
								uVar11 = CanPut(iVar31, iVar30);
								if ((int)uVar11 != 0) {
									bVar4 = true;
									iVar27 = iVar30;
									iVar28 = iVar31;
								}
								iVar12 = iVar12 + 1;
							}
							iVar26 = iVar26 + 1;
						}
						iVar29 = iVar29 + 1;
					}
					if (!bVar4) {
						return 0xffffffffffffffff;
					}
				}
			}
		}
		uVar18 = (undefined)uVar25;
		uVar3 = **(uint **)(iVar12 + -0x71f4);
		uVar8 = (ulonglong)uVar3;
		*(char *)(**(int **)(iVar12 + -0x768c) + iVar28 * 0x70 + iVar27) = (char)uVar3 + '\x01';
		iVar29 = *piVar6;
		iVar26 = *(int *)(iVar12 + -0x71e0);
		**(undefined4 **)(iVar12 + -0x71f4) = *(undefined4 *)(*(int *)(iVar12 + -0x71f4) + (0x7e - iVar29) * 4);
		*(uint *)(iVar26 + iVar29 * 4) = uVar3;
		if (param_4 == 0x17) {
			FUN_1004fd24(uVar3, param_5, iVar15, param_7, param_8, param_11, uVar25, param_13, in_stack_ffffff78,
			    in_stack_ffffff7f, param_14, param_15);
		} else {
			uVar19 = (undefined)param_14;
			uVar17 = (char)param_6;
			uVar21 = uVar13;
			uVar18 = uVar16;
			uVar23 = (undefined)iVar15;
			FUN_1004fbc4(uVar8, param_4, param_5, param_6, param_14, uVar13, uVar16, (undefined)iVar15,
			    in_stack_ffffff78);
			if (param_7 != 0) {
				*(undefined4 *)(*(int *)(iVar12 + -0x7690) + uVar3 * 0x170 + 0x38) = 1;
			}
			iVar29 = *(int *)(iVar12 + -0x7690) + uVar3 * 0x170;
			*(int *)(iVar29 + 0xec) = param_8;
			*(undefined4 *)(iVar29 + 0xf0) = param_11;
			*(undefined4 *)(iVar29 + 0xe4) = uVar25;
			*(undefined4 *)(iVar29 + 0xe8) = param_13;
		}
		lVar14 = (ulonglong) * (uint *)(iVar12 + -0x7690) + uVar8 * 0x170;
		iVar29 = (int)lVar14;
		*(int *)(iVar29 + 0xc) = iVar28;
		*(int *)(iVar29 + 0x10) = iVar27;
		RespawnItem(uVar8, 1, (char)lVar14, uVar17, uVar19, uVar21, uVar18, uVar23, in_stack_ffffff78);
		*piVar6 = *piVar6 + 1;
	} else {
		uVar8 = 0xffffffffffffffff;
	}
	return uVar8;
}

longlong CheckInvHLight(void)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	ulonglong uVar6;
	int iVar7;
	int in_r7;
	int in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	longlong lVar8;
	longlong lVar9;
	ulonglong uVar10;
	int iVar11;
	longlong lVar12;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar4 = PTR_DAT_100f192c;
	puVar3 = PTR_DAT_100f18a8;
	puVar2 = PTR_DAT_100f1824;
	ppuVar5 = &toc;
	uVar10 = 0;
	uVar6 = ZEXT48(&DAT_100fc5bc);
	lVar12 = 0x49;
	do {
		iVar7 = *(int *)uVar6;
		if ((((iVar7 <= *(int *)PTR_DAT_100f1928) && (*(int *)PTR_DAT_100f1928 < iVar7 + 0x1d)) && (iVar7 = ((int *)uVar6)[1], iVar7 + -0x1d <= *(int *)PTR_DAT_100f1924)) && (*(int *)PTR_DAT_100f1924 < iVar7))
			break;
		uVar6 = uVar6 + 8;
		uVar10 = uVar10 + 1;
		lVar12 = lVar12 + -1;
	} while (lVar12 != 0);
	if (0x48 < (uVar10 & 0xffffffff)) {
		return 0xffffffffffffffff;
	}
	*PTR_DAT_100f18a8 = 0;
	lVar9 = -1;
	lVar12 = 0;
	lVar8 = ZEXT48(PTR_DAT_100f1828) + (ulonglong) * (uint *)puVar2 * 0x55ec;
	ClearPanel();
	iVar11 = (int)uVar10;
	if ((iVar11 < 0) || (3 < iVar11)) {
		if (iVar11 == 4) {
			lVar12 = lVar8 + 0x608;
			lVar9 = 1;
		} else {
			if (iVar11 == 5) {
				lVar12 = lVar8 + 0x778;
				lVar9 = 2;
			} else {
				if (iVar11 == 6) {
					lVar12 = lVar8 + 0x8e8;
					lVar9 = 3;
				} else {
					if ((iVar11 < 7) || (0xc < iVar11)) {
						iVar1 = (int)lVar8;
						if ((iVar11 < 0xd) || (0x12 < iVar11)) {
							if ((iVar11 < 0x13) || (0x18 < iVar11)) {
								if ((iVar11 < 0x19) || (0x40 < iVar11)) {
									if (0x40 < iVar11) {
										lVar12 = lVar8 + (uVar10 - 0x41) * 0x170 + 0x4854;
										*(undefined4 *)ppuVar5[-0x1d9c] = 1;
										if (*(int *)((int)lVar12 + 8) == -1) {
											return 0xffffffffffffffff;
										}
										lVar9 = uVar10 - 0x12;
									}
								} else {
									lVar12 = abs((longlong) * (char *)(iVar1 + iVar11 + 0x4813));
									if ((int)lVar12 == 0) {
										return 0xffffffffffffffff;
									}
									lVar9 = lVar12 + 6;
									lVar12 = lVar8 + (lVar12 + -1) * 0x170 + 0xea8;
								}
							} else {
								lVar12 = lVar8 + 0xd38;
								lVar9 = 6;
							}
						} else {
							lVar12 = lVar8 + 0xa58;
							if ((*(int *)(iVar1 + 0xa60) == -1) || (*(char *)(iVar1 + 0xb15) != '\x02')) {
								lVar12 = lVar8 + 0xbc8;
								lVar9 = 5;
							} else {
								lVar9 = 4;
							}
						}
					} else {
						lVar12 = lVar8 + 0xa58;
						lVar9 = 4;
					}
				}
			}
		}
	} else {
		lVar12 = lVar8 + 0x498;
		lVar9 = 0;
	}
	iVar11 = (int)lVar12;
	if (*(int *)(iVar11 + 8) == -1) {
		lVar9 = -1;
	} else {
		if (*(int *)(iVar11 + 8) == 0xb) {
			iVar7 = *(int *)(iVar11 + 0xc4);
			uVar6 = get_pieces_str(iVar7);
			sprintf((int)puVar4, ppuVar5[-0x1858], iVar7, (int)uVar6, in_r7, in_r8, in_r9, in_r10,
			    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc, in_stack_ffffffd0,
			    in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0,
			    in_stack_ffffffe4);
		} else {
			if (*(char *)(iVar11 + 0x3c) == '\x01') {
				*puVar3 = 1;
			} else {
				if (*(char *)(iVar11 + 0x3c) == '\x02') {
					*puVar3 = 3;
				}
			}
			lVar8 = lVar12 + 0x3d;
			strcpy((int)puVar4, (int)lVar8);
			if (*(int *)(iVar11 + 0x38) == 0) {
				PrintItemDur(iVar11, lVar8, uVar6, iVar7, in_r7, in_r8, in_r9, in_r10, in_stack_ffffffb8);
			} else {
				lVar8 = lVar12 + 0x7d;
				strcpy((int)puVar4, (int)lVar8);
				PrintItemDetails(lVar12, lVar8, uVar6, iVar7, in_r7, in_r8, in_r9, in_r10, in_stack_ffffffb8);
			}
		}
	}
	return lVar9;
}

void RemoveScroll(longlong param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	int iVar2;
	int iVar3;
	ulonglong uVar4;
	int iVar6;
	longlong lVar5;
	longlong lVar7;
	undefined uVar8;
	longlong lVar9;
	undefined uVar10;
	undefined4 in_stack_ffffffc8;

	lVar9 = ZEXT48(PTR_DAT_100f1828) + param_1 * 0x55ec;
	lVar9._7_1_ = (undefined)lVar9;
	uVar1 = *(uint *)((int)lVar9 + 0x4828);
	uVar4 = (ulonglong)uVar1;
	iVar2 = *(int *)((int)lVar9 + 0xa4);
	lVar7 = 0;
	uVar10 = (undefined)iVar2;
	iVar6 = (int)param_1;
	lVar5 = lVar9;
	if (0 < (int)uVar1) {
		do {
			uVar8 = (undefined)lVar7;
			iVar3 = (int)lVar5;
			if ((*(int *)(iVar3 + 0xeb0) != -1) && (((*(int *)(iVar3 + 0xf84) == 0x15 || (*(int *)(iVar3 + 0xf84) == 0x16)) && (*(int *)(iVar3 + 0xf88) == iVar2)))) {
				RemoveInvItem(param_1, lVar7, (undefined)lVar9, uVar10, param_5, param_6, param_7, param_8,
				    in_stack_ffffffc8);
				CalcPlrScrolls(iVar6, uVar8, (undefined)lVar9, uVar10, param_5, param_6, param_7, param_8,
				    in_stack_ffffffc8);
				return;
			}
			lVar5 = lVar5 + 0x170;
			lVar7 = lVar7 + 1;
			uVar4 = uVar4 - 1;
		} while (uVar4 != 0);
	}
	lVar7 = 8;
	lVar5 = 0;
	while (true) {
		uVar8 = (undefined)lVar9;
		lVar9._7_1_ = (undefined)lVar5;
		iVar3 = (int)lVar9;
		if (((*(int *)(iVar3 + 0x485c) != -1) && ((*(int *)(iVar3 + 0x4930) == 0x15 || (*(int *)(iVar3 + 0x4930) == 0x16)))) && (*(int *)(iVar3 + 0x4934) == iVar2))
			break;
		lVar9 = lVar9 + 0x170;
		lVar5 = lVar5 + 1;
		lVar7 = lVar7 + -1;
		if (lVar7 == 0) {
			return;
		}
	}
	RemoveSpdBarItem(iVar6, (int)lVar5, uVar8, uVar10, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	CalcPlrScrolls(iVar6, (undefined)lVar9, uVar8, uVar10, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

undefined8 UseScroll(void)

{
	int iVar1;
	ulonglong uVar2;
	undefined *puVar3;
	undefined *puVar4;
	longlong lVar5;

	if (*(int *)PTR_DAT_100f188c != 1) {
		return 0;
	}
	if ((*PTR_DAT_100f183c == '\0') && (*(int *)(PTR_DAT_100f1934 + *(int *)(PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec + 0xb4) * 0x38 + 0x18) == 0)) {
		return 0;
	}
	puVar4 = PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec;
	uVar2 = (ulonglong) * (uint *)(puVar4 + 0x4828);
	iVar1 = *(int *)(puVar4 + 0xb4);
	puVar3 = puVar4;
	if (0 < (int)*(uint *)(puVar4 + 0x4828)) {
		do {
			if ((*(int *)(puVar3 + 0xeb0) != -1) && (((*(int *)(puVar3 + 0xf84) == 0x15 || (*(int *)(puVar3 + 0xf84) == 0x16)) && (*(int *)(puVar3 + 0xf88) == iVar1)))) {
				return 1;
			}
			puVar3 = puVar3 + 0x170;
			uVar2 = uVar2 - 1;
		} while (uVar2 != 0);
	}
	lVar5 = 2;
	while (true) {
		if (((*(int *)(puVar4 + 0x485c) != -1) && ((*(int *)(puVar4 + 0x4930) == 0x15 || (*(int *)(puVar4 + 0x4930) == 0x16)))) && (*(int *)(puVar4 + 0x4934) == iVar1)) {
			return 1;
		}
		if (((*(int *)(puVar4 + 0x49cc) != -1) && ((*(int *)(puVar4 + 0x4aa0) == 0x15 || (*(int *)(puVar4 + 0x4aa0) == 0x16)))) && (*(int *)(puVar4 + 0x4aa4) == iVar1)) {
			return 1;
		}
		if ((*(int *)(puVar4 + 0x4b3c) != -1) && (((*(int *)(puVar4 + 0x4c10) == 0x15 || (*(int *)(puVar4 + 0x4c10) == 0x16)) && (*(int *)(puVar4 + 0x4c14) == iVar1)))) {
			return 1;
		}
		if ((*(int *)(puVar4 + 0x4cac) != -1) && (((*(int *)(puVar4 + 0x4d80) == 0x15 || (*(int *)(puVar4 + 0x4d80) == 0x16)) && (*(int *)(puVar4 + 0x4d84) == iVar1))))
			break;
		puVar4 = puVar4 + 0x5c0;
		lVar5 = lVar5 + -1;
		if (lVar5 == 0) {
			return 0;
		}
	}
	return 1;
}

void UseStaffCharge(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	int *piVar2;
	longlong lVar3;
	undefined4 in_stack_ffffffc8;

	lVar3 = ZEXT48(PTR_DAT_100f1828) + (longlong)param_1 * 0x55ec;
	iVar1 = (int)lVar3;
	if (((*(int *)(iVar1 + 0xa60) != -1) && (*(int *)(iVar1 + 0xb34) == 0x17)) && (*(int *)(iVar1 + 0xb38) == *(int *)(iVar1 + 0xb4))) {
		lVar3 = lVar3 + 0xb3c;
		piVar2 = (int *)lVar3;
		iVar1 = *piVar2;
		if (0 < iVar1) {
			*piVar2 = iVar1 + -1;
			CalcPlrStaff(param_1, (char)iVar1, (char)lVar3, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffc8);
		}
	}
	return;
}

undefined8 UseStaff(void)

{
	undefined *puVar1;

	if (*(int *)PTR_DAT_100f188c != 1) {
		return 0;
	}
	puVar1 = PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec;
	if ((((*(int *)(puVar1 + 0xa60) != -1) && (*(int *)(puVar1 + 0xb34) == 0x17)) && (*(int *)(puVar1 + 0xb38) == *(int *)(puVar1 + 0xb4))) && (0 < *(int *)(puVar1 + 0xb3c))) {
		return 1;
	}
	return 0;
}

void StartGoldDrop(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	char cVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;

	puVar4 = PTR_DAT_100f18c4;
	puVar3 = PTR_DAT_100f1828;
	puVar2 = PTR_DAT_100f1824;
	cVar1 = *PTR_DAT_100f18a4;
	*(int *)PTR_DAT_100f18c0 = (int)cVar1;
	if ((int)cVar1 < 0x2f) {
		*(undefined4 *)puVar4 = *(undefined4 *)(puVar3 + (int)cVar1 * 0x170 + *(int *)puVar2 * 0x55ec + 0x55c);
	} else {
		*(undefined4 *)puVar4 = *(undefined4 *)(puVar3 + (int)cVar1 * 0x170 + *(int *)puVar2 * 0x55ec + 0x588);
	}
	puVar2 = PTR_DAT_100f18c8;
	*(undefined4 *)PTR_DAT_100f18cc = 1;
	puVar3 = PTR_DAT_100f1900;
	*(undefined4 *)puVar2 = 0;
	if (*(int *)puVar3 != 0) {
		control_reset_talk();
	}
	return;
}

undefined8
UseInvItem(longlong param_1, longlong param_2, undefined param_3, undefined param_4, undefined param_5, undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	char cVar1;
	undefined *puVar2;
	int iVar3;
	bool bVar4;
	int iVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined4 *puVar11;
	undefined4 *puVar12;
	undefined8 uVar13;
	undefined uVar14;
	undefined uVar15;
	undefined uVar16;
	int iVar17;
	undefined4 in_stack_ffffffa8;

	puVar12 = _DAT_100f1df8;
	puVar11 = _DAT_100f1df4;
	puVar10 = PTR_DAT_100f1934;
	puVar9 = PTR_DAT_100f18c8;
	puVar8 = PTR_DAT_100f1828;
	puVar7 = PTR_DAT_100f1824;
	puVar6 = PTR_DAT_100f17ec;
	iVar5 = (int)param_1;
	iVar3 = iVar5 * 0x55ec;
	uVar15 = SUB41(PTR_DAT_100f17ec, 0);
	if ((((PTR_DAT_100f1828 + iVar3)[0x139] == '\0') || (*(int *)(PTR_DAT_100f1828 + iVar3 + 0x194) != 0)) || (iVar5 != *(int *)PTR_DAT_100f1824)) {
		if (*(int *)PTR_DAT_100f188c == 1) {
			if (*PTR_DAT_100f186c == '\0') {
				if ((int)param_2 < 6) {
					uVar13 = 0;
				} else {
					if ((int)param_2 < 0x2f) {
						param_2 = param_2 + -7;
						iVar17 = iVar3 + (int)param_2 * 0x170 + 0xea8;
						bVar4 = false;
					} else {
						if (*(int *)PTR_DAT_100f1900 != 0) {
							return 1;
						}
						param_2 = param_2 + -0x2f;
						iVar17 = iVar3 + (int)param_2 * 0x170 + 0x4854;
						bVar4 = true;
					}
					puVar2 = PTR_DAT_100f1828 + iVar17;
					iVar17 = *(int *)(puVar2 + 0x168);
					if (iVar17 != 0x12) {
						if (iVar17 < 0x12) {
							if (0x10 < iVar17) {
								*_DAT_100f1df8 = 10;
								cVar1 = puVar8[iVar3 + 0x15c];
								if (cVar1 == '\0') {
									*puVar11 = 0x32f;
								} else {
									if (cVar1 == '\x01') {
										*puVar11 = 0x2c2;
									} else {
										if (cVar1 == '\x02') {
											*puVar11 = 0x25b;
										}
									}
								}
								return 1;
							}
						} else {
							if (iVar17 < 0x14) {
								PlaySFX(0x2f);
								*puVar12 = 10;
								cVar1 = puVar8[iVar3 + 0x15c];
								if (cVar1 == '\0') {
									*puVar11 = 0x2ec;
								} else {
									if (cVar1 == '\x01') {
										*puVar11 = 0x27f;
									} else {
										if (cVar1 == '\x02') {
											*puVar11 = 0x218;
										}
									}
								}
								return 1;
							}
						}
					}
					uVar16 = 0x28;
					if (*(int *)(iVar17 * 0x4c + 0x100fc868) == 0) {
						uVar13 = 0;
					} else {
						if (*(int *)(puVar2 + 0x164) == 0) {
							cVar1 = PTR_DAT_100f1828[iVar3 + 0x15c];
							if (cVar1 == '\0') {
								PlaySFX(0x2d6);
							} else {
								if (cVar1 == '\x01') {
									PlaySFX(0x26f);
								} else {
									if (cVar1 == '\x02') {
										PlaySFX(0x208);
									}
								}
							}
							uVar13 = 1;
						} else {
							if ((*(int *)(puVar2 + 0xdc) == 0) && (*(int *)(puVar2 + 8) == 0xb)) {
								StartGoldDrop((char)PTR_DAT_100f1824, 0xb, (char)PTR_DAT_100f18cc, uVar15, 0x28, param_6,
								    param_7, param_8, in_stack_ffffffa8);
								uVar13 = 1;
							} else {
								if (*(int *)PTR_DAT_100f18cc != 0) {
									uVar16 = 0;
									*(undefined4 *)PTR_DAT_100f18cc = 0;
									*(undefined4 *)puVar9 = 0;
								}
								iVar17 = *(int *)(puVar2 + 0xdc);
								if (((iVar17 == 0x15) && (*puVar6 == '\0')) && (*(int *)(puVar10 + *(int *)(puVar2 + 0xe0) * 0x38 + 0x18) == 0)) {
									uVar13 = 1;
								} else {
									if (((iVar17 == 0x16) && (*puVar6 == '\0')) && (*(int *)(puVar10 + *(int *)(puVar2 + 0xe0) * 0x38 + 0x18) == 0)) {
										uVar13 = 1;
									} else {
										if (iVar17 == 0x18) {
											PlaySFX(0x41);
										} else {
											if (iVar5 == *(int *)puVar7) {
												PlaySFX((ulonglong)
												    * (uint *)(_DAT_100f1dfc + (uint)(byte)PTR_DAT_100f1e00[*(int *)(puVar2 + 0xc0)] * 4));
											}
										}
										uVar14 = (undefined) * (undefined4 *)(puVar2 + 0xe0);
										UseItem(param_1, *(uint *)(puVar2 + 0xdc), uVar14, uVar15, uVar16, param_6,
										    param_7, param_8, in_stack_ffffffa8);
										if (bVar4) {
											RemoveSpdBarItem(iVar5, (int)param_2, uVar14, uVar15, uVar16, param_6, param_7, param_8,
											    in_stack_ffffffa8);
										} else {
											if (*(int *)(puVar8 + (int)param_2 * 0x170 + iVar3 + 0xf84) == 0x2a) {
												return 1;
											}
											RemoveInvItem(param_1, param_2, uVar14, uVar15, uVar16, param_6, param_7, param_8,
											    in_stack_ffffffa8);
										}
										uVar13 = 1;
									}
								}
							}
						}
					}
				}
			} else {
				uVar13 = 1;
			}
		} else {
			uVar13 = 1;
		}
	} else {
		uVar13 = 1;
	}
	return uVar13;
}

void DoTelekinesis(undefined8 uParm1, undefined param_2, undefined8 uParm3, ulonglong uParm4,
    undefined8 uParm5, undefined4 uParm6, undefined4 uParm7, undefined4 uParm8)

{
	int iVar1;
	uint uVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	undefined8 uVar5;
	char cVar6;
	undefined uVar7;
	ulonglong uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined4 in_stack_ffffffc8;

	puVar3 = PTR_DAT_100f1880;
	ppuVar4 = &toc;
	cVar6 = *PTR_DAT_100f1884;
	if (cVar6 != -1) {
		param_2 = 0x1b;
		ppuVar4 = &toc;
		NetSendCmdParam1(1, 0x1b, (longlong)cVar6, uParm4, uParm5, uParm6, uParm7, uParm8, in_stack_ffffffc8);
	}
	uVar8 = (ulonglong)(byte)*ppuVar4[-0x1dd2];
	if (*ppuVar4[-0x1dd2] != 0xff) {
		param_2 = 0x28;
		uParm4 = (ulonglong)(*(uint *)ppuVar4[-0x1deb] & 0xff);
		cVar6 = (char)(*(uint *)ppuVar4[-0x1deb] & 0xff);
		NetSendCmdGItem(1);
	}
	uVar12 = (undefined)uParm8;
	uVar11 = (undefined)uParm7;
	uVar10 = (undefined)uParm6;
	uVar9 = (undefined)uVar8;
	uVar7 = (undefined)uParm4;
	iVar1 = *(int *)puVar3;
	if (iVar1 != -1) {
		uVar5 = M_Talker(iVar1);
		uVar12 = (undefined)uParm8;
		uVar11 = (undefined)uParm7;
		uVar10 = (undefined)uParm6;
		uVar9 = (undefined)uVar8;
		uVar7 = (undefined)uParm4;
		if ((int)uVar5 == 0) {
			uVar2 = *(uint *)puVar3;
			param_2 = (undefined)uVar2;
			if (*(int *)(ppuVar4[-0x1dd5] + uVar2 * 0xe8 + 0xd4) == 0) {
				cVar6 = (char)(uVar2 & 0xffff);
				param_2 = 0x1c;
				NetSendCmdParam1(1, 0x1c, (ulonglong)(uVar2 & 0xffff), uParm4, uVar8, uParm6, uParm7, uParm8,
				    in_stack_ffffffc8);
			}
		}
	}
	NewCursor(1, param_2, cVar6, uVar7, uVar9, uVar10, uVar11, uVar12, in_stack_ffffffc8);
	return;
}

ulonglong CalculateGold(int param_1)

{
	uint uVar1;
	undefined *puVar2;
	ulonglong uVar3;
	ulonglong uVar4;
	undefined *puVar5;

	puVar2 = PTR_DAT_100f1914;
	puVar5 = PTR_DAT_100f1828 + param_1 * 0x55ec;
	uVar4 = 0;
	if (*(int *)(puVar5 + 0x485c) == 0xb) {
		uVar4 = (ulonglong) * (uint *)(puVar5 + 0x4918);
		*(undefined4 *)PTR_DAT_100f1914 = 0xff;
	}
	if (*(int *)(puVar5 + 0x49cc) == 0xb) {
		uVar1 = *(uint *)(puVar5 + 0x4a88);
		*(undefined4 *)puVar2 = 0xff;
		uVar4 = uVar4 + (ulonglong)uVar1;
	}
	if (*(int *)(puVar5 + 0x4b3c) == 0xb) {
		uVar1 = *(uint *)(puVar5 + 0x4bf8);
		*(undefined4 *)puVar2 = 0xff;
		uVar4 = uVar4 + (ulonglong)uVar1;
	}
	if (*(int *)(puVar5 + 0x4cac) == 0xb) {
		uVar1 = *(uint *)(puVar5 + 0x4d68);
		*(undefined4 *)puVar2 = 0xff;
		uVar4 = uVar4 + (ulonglong)uVar1;
	}
	if (*(int *)(puVar5 + 0x4e1c) == 0xb) {
		uVar1 = *(uint *)(puVar5 + 0x4ed8);
		*(undefined4 *)puVar2 = 0xff;
		uVar4 = uVar4 + (ulonglong)uVar1;
	}
	if (*(int *)(puVar5 + 0x4f8c) == 0xb) {
		uVar1 = *(uint *)(puVar5 + 0x5048);
		*(undefined4 *)puVar2 = 0xff;
		uVar4 = uVar4 + (ulonglong)uVar1;
	}
	if (*(int *)(puVar5 + 0x50fc) == 0xb) {
		uVar1 = *(uint *)(puVar5 + 0x51b8);
		*(undefined4 *)puVar2 = 0xff;
		uVar4 = uVar4 + (ulonglong)uVar1;
	}
	if (*(int *)(puVar5 + 0x526c) == 0xb) {
		uVar1 = *(uint *)(puVar5 + 0x5328);
		*(undefined4 *)puVar2 = 0xff;
		uVar4 = uVar4 + (ulonglong)uVar1;
	}
	uVar3 = (ulonglong) * (uint *)(puVar5 + 0x4828);
	if ((int)*(uint *)(puVar5 + 0x4828) < 1) {
		return uVar4;
	}
	do {
		if (*(int *)(puVar5 + 0xeb0) == 0xb) {
			uVar4 = uVar4 + (ulonglong) * (uint *)(puVar5 + 0xf6c);
		}
		puVar5 = puVar5 + 0x170;
		uVar3 = uVar3 - 1;
	} while (uVar3 != 0);
	return uVar4;
}

ulonglong DropItemBeforeTrig(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined8 uParm5, uint uParm6, undefined4 uParm7, undefined4 uParm8)

{
	bool bVar1;
	undefined **ppuVar2;
	undefined8 uVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined7 uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined4 in_stack_ffffffc8;

	uVar8 = (undefined)uParm5;
	uVar7 = (undefined7)((ulonglong)uParm5 >> 8);
	ppuVar2 = &toc;
	uVar3 = TryInvPut(param_1, param_2, param_3, param_4, uVar8, (char)uParm6, (char)uParm7, (char)uParm8,
	    in_stack_ffffffc8);
	uVar11 = (undefined)uParm8;
	uVar10 = (undefined)uParm7;
	uVar9 = (undefined)uParm6;
	bVar1 = (int)uVar3 != 0;
	if (bVar1) {
		uVar4 = 10;
		uVar5 = (undefined)(*(uint *)ppuVar2[-0x1d96] & 0xff);
		uVar6 = (undefined)(*(uint *)ppuVar2[-0x1d97] & 0xff);
		NetSendCmdPItem(1, 10, (ulonglong)(*(uint *)ppuVar2[-0x1d96] & 0xff),
		    (ulonglong)(*(uint *)ppuVar2[-0x1d97] & 0xff), CONCAT71(uVar7, uVar8), uParm6, uParm7,
		    uParm8, in_stack_ffffffc8);
		NewCursor(1, uVar4, uVar5, uVar6, uVar8, uVar9, uVar10, uVar11, in_stack_ffffffc8);
	}
	return (ulonglong)bVar1;
}

void FUN_1004b144(void)

{
	_DAT_100f41c0 = _DAT_100f41b4;
	return;
}

void FUN_1004b150(void)

{
	_DAT_100f41c8 = _DAT_100f41c4;
	return;
}

void InitItemGFX(void)

{
	undefined4 uVar1;
	ulonglong uVar2;
	longlong lVar3;
	ulonglong uVar4;
	undefined uVar5;
	undefined4 uVar6;
	undefined8 in_r6;
	undefined4 uVar7;
	undefined4 uVar8;
	undefined8 in_r7;
	undefined4 uVar9;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	int iVar10;
	undefined4 *puVar11;
	uint *puVar12;
	undefined4 in_stack_ffffff78;
	undefined in_stack_ffffff7f;
	undefined4 local_7c;
	undefined4 in_stack_ffffff8c;
	undefined4 in_stack_ffffff90;
	undefined4 in_stack_ffffff94;
	undefined4 in_stack_ffffff98;
	undefined4 in_stack_ffffff9c;
	undefined4 in_stack_ffffffa0;
	undefined4 in_stack_ffffffa4;
	undefined auStack88[88];

	uVar1 = _DAT_100f3060;
	uVar9 = (undefined4)in_r7;
	uVar8 = (undefined4)((ulonglong)in_r7 >> 0x20);
	uVar7 = (undefined4)in_r6;
	uVar6 = (undefined4)((ulonglong)in_r6 >> 0x20);
	uVar2 = ZEXT48(&toc);
	iVar10 = 0;
	puVar12 = (uint *)PTR_PTR_s_Armor2_100f1e64;
	puVar11 = (undefined4 *)PTR_DAT_100f3064;
	do {
		uVar4 = (ulonglong)*puVar12;
		sprintf((int)auStack88, uVar1, *puVar12, uVar7, uVar9, in_r8, in_r9, in_r10, in_stack_ffffff78,
		    in_stack_ffffff7f, in_stack_ffffff8c, in_stack_ffffff90, in_stack_ffffff94,
		    in_stack_ffffff98, in_stack_ffffff9c, in_stack_ffffffa0, in_stack_ffffffa4);
		uVar5 = (undefined)uVar4;
		lVar3 = LoadFileInMem(ZEXT48(register0x0000000c) - 0x58, (undefined4 *)0x0, uVar4,
		    CONCAT44(uVar6, uVar7), CONCAT44(uVar8, uVar9), in_r8, in_r9, in_r10,
		    in_stack_ffffff78);
		iVar10 = iVar10 + 1;
		*puVar11 = (int)lVar3;
		puVar12 = puVar12 + 1;
		puVar11 = puVar11 + 1;
	} while (iVar10 < 0x23);
	memset((char)*(undefined4 *)((int)uVar2 + -0x7170), 0, uVar5, (char)uVar7, (char)uVar9, (char)in_r8, (char)in_r9, (char)in_r10, (char)in_stack_ffffff78, in_stack_ffffff7f, local_7c);
	return;
}

undefined8 ItemPlace(int param_1, int param_2)

{
	int iVar1;

	iVar1 = param_1 * 0xe0 + param_2 * 2;
	if (*(short *)(*(int *)PTR_DAT_100f1954 + iVar1) != 0) {
		return 0;
	}
	param_2 = param_1 * 0x70 + param_2;
	if (*(char *)(*(int *)PTR_DAT_100f1950 + param_2) != '\0') {
		return 0;
	}
	if (*(char *)(*(int *)PTR_DAT_100f1944 + param_2) != '\0') {
		return 0;
	}
	if (*(char *)(*(int *)PTR_DAT_100f194c + param_2) != '\0') {
		return 0;
	}
	if ((*(byte *)(*(int *)PTR_DAT_100f1834 + param_2) & 8) != 0) {
		return 0;
	}
	if (*(char *)(_DAT_100f1da4 + (int)*(short *)(*(int *)PTR_DAT_100f1a54 + iVar1)) != '\0') {
		return 0;
	}
	return 1;
}

void AddInitItems(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    char param_5, char param_6, char param_7, char param_8, undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	int iVar3;
	uint uVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	uint *puVar8;
	uint *puVar9;
	int iVar10;
	longlong lVar11;
	longlong lVar12;
	int iVar15;
	longlong lVar13;
	undefined8 uVar14;
	undefined4 uVar16;
	int iVar17;
	char cVar18;
	ulonglong uVar19;
	undefined uVar20;
	ulonglong uVar21;
	undefined uVar22;
	longlong lVar23;
	longlong lVar24;
	longlong lVar25;
	longlong lVar26;
	int iVar27;
	undefined4 *puVar28;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined in_stack_ffffffab;

	iVar10 = _DAT_100f1df0;
	puVar9 = _DAT_100f1dec;
	puVar8 = _DAT_100f1ddc;
	puVar7 = PTR_DAT_100f1944;
	puVar6 = PTR_DAT_100f1940;
	puVar5 = PTR_DAT_100f17ec;
	lVar26 = (longlong)param_8;
	lVar25 = (longlong)param_7;
	lVar24 = (longlong)param_6;
	lVar23 = (longlong)param_5;
	lVar11 = random(0xb, 3, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff98,
	    in_stack_ffffff9f, in_stack_ffffffab);
	iVar27 = 0;
	while (iVar27 < (int)lVar11 + 3) {
		uVar1 = *puVar9;
		uVar21 = (ulonglong)uVar1;
		uVar2 = *puVar8;
		uVar4 = puVar8[0x7e - uVar1];
		uVar19 = (ulonglong)uVar4;
		*puVar8 = uVar4;
		*(uint *)(iVar10 + uVar1 * 4) = uVar2;
		lVar12 = random(0xc, 0x50, (char)uVar4, (char)uVar1, (char)lVar23, (char)lVar24, (char)lVar25,
		    (char)lVar26, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
		lVar13 = random(0xc, 0x50, (char)uVar19, (char)uVar21, (char)lVar23, (char)lVar24, (char)lVar25,
		    (char)lVar26, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
		while (true) {
			iVar15 = (int)lVar12 + 0x10;
			iVar17 = (int)lVar13 + 0x10;
			uVar14 = ItemPlace(iVar15, iVar17);
			uVar20 = (undefined)uVar19;
			uVar22 = (undefined)uVar21;
			if ((int)uVar14 != 0)
				break;
			lVar12 = random(0xc, 0x50, uVar20, uVar22, (char)lVar23, (char)lVar24, (char)lVar25,
			    (char)lVar26, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
			lVar13 = random(0xc, 0x50, (char)uVar19, (char)uVar21, (char)lVar23, (char)lVar24,
			    (char)lVar25, (char)lVar26, in_stack_ffffff98, in_stack_ffffff9f,
			    in_stack_ffffffab);
		}
		cVar18 = (char)uVar2 + '\x01';
		puVar28 = (undefined4 *)(puVar6 + uVar2 * 0x170);
		puVar28[3] = iVar15;
		puVar28[4] = iVar17;
		iVar3 = *(int *)puVar7;
		*(char *)(iVar3 + iVar15 * 0x70 + iVar17) = cVar18;
		uVar16 = GetRndSeed((char)iVar3, cVar18, uVar20, uVar22, (char)lVar23, (char)lVar24, (char)lVar25,
		    (char)lVar26, in_stack_ffffff98);
		*puVar28 = uVar16;
		SetRndSeed(*puVar28);
		lVar12 = random(0xc, 2, uVar20, uVar22, (char)lVar23, (char)lVar24, (char)lVar25, (char)lVar26,
		    in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
		if ((int)lVar12 == 0) {
			GetItemAttrs(uVar2, 0x19, (ulonglong)(byte)*puVar5, uVar22, (char)lVar23, (char)lVar24, (char)lVar25, (char)lVar26, in_stack_ffffff98);
		} else {
			GetItemAttrs(uVar2, 0x18, (ulonglong)(byte)*puVar5, uVar22, (char)lVar23, (char)lVar24, (char)lVar25, (char)lVar26, in_stack_ffffff98);
		}
		*(ushort *)(puVar28 + 1) = (ushort)(byte)*puVar5 + 0x8000;
		SetupItem(uVar2);
		puVar28[8] = puVar28[7];
		puVar28[5] = 0;
		*(undefined *)(puVar28 + 0xc) = 1;
		FUN_1007a03c(uVar2);
		iVar27 = iVar27 + 1;
		*puVar9 = *puVar9 + 1;
	}
	return;
}

void InitItems(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	byte bVar1;
	undefined4 uVar2;
	int iVar3;
	undefined **ppuVar4;
	undefined8 uVar5;
	undefined *puVar6;
	undefined uVar8;
	undefined *puVar7;
	undefined4 *puVar10;
	longlong lVar9;
	undefined uVar11;
	longlong lVar12;
	undefined uVar13;
	longlong lVar14;
	undefined uVar15;
	undefined uVar16;
	int *piVar18;
	ulonglong uVar17;
	undefined uVar19;
	undefined4 *puVar21;
	ulonglong uVar20;
	undefined uVar22;
	int iVar23;
	ulonglong uVar24;
	ulonglong uVar25;
	longlong lVar26;
	longlong lVar27;
	undefined4 in_stack_ffffffa8;

	puVar6 = PTR_DAT_100f1e5c;
	puVar7 = PTR_DAT_100f1940;
	ppuVar4 = &toc;
	uVar25 = (ulonglong)_DAT_100f1ddc;
	uVar24 = (ulonglong)_DAT_100f1df0;
	GetItemAttrs(0, 0, 1, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	lVar26 = 0x2e;
	puVar21 = (undefined4 *)(puVar7 + -8);
	puVar10 = (undefined4 *)(puVar6 + -8);
	do {
		uVar2 = puVar21[3];
		puVar10[2] = puVar21[2];
		puVar10[3] = uVar2;
		lVar26 = lVar26 + -1;
		puVar21 = puVar21 + 2;
		puVar10 = puVar10 + 2;
	} while (lVar26 != 0);
	puVar21 = (undefined4 *)ppuVar4[-0x1c79];
	*(undefined4 *)(puVar6 + 0x164) = 1;
	*puVar21 = 0;
	lVar26 = 0xf;
	iVar23 = 0;
	puVar6 = puVar7;
	do {
		iVar23 = iVar23 + 8;
		*(undefined4 *)(puVar6 + 8) = 0;
		*(undefined4 *)(puVar6 + 0xc) = 0;
		*(undefined4 *)(puVar6 + 0x10) = 0;
		*(undefined4 *)(puVar6 + 0x14) = 0;
		puVar6[0x30] = 0;
		*(undefined4 *)(puVar6 + 0x38) = 0;
		*(undefined4 *)(puVar6 + 0x34) = 0;
		*(undefined4 *)(puVar6 + 0x178) = 0;
		*(undefined4 *)(puVar6 + 0x17c) = 0;
		*(undefined4 *)(puVar6 + 0x180) = 0;
		*(undefined4 *)(puVar6 + 0x184) = 0;
		puVar6[0x1a0] = 0;
		*(undefined4 *)(puVar6 + 0x1a8) = 0;
		*(undefined4 *)(puVar6 + 0x1a4) = 0;
		*(undefined4 *)(puVar6 + 0x2e8) = 0;
		*(undefined4 *)(puVar6 + 0x2ec) = 0;
		*(undefined4 *)(puVar6 + 0x2f0) = 0;
		*(undefined4 *)(puVar6 + 0x2f4) = 0;
		puVar6[0x310] = 0;
		*(undefined4 *)(puVar6 + 0x318) = 0;
		*(undefined4 *)(puVar6 + 0x314) = 0;
		*(undefined4 *)(puVar6 + 0x458) = 0;
		*(undefined4 *)(puVar6 + 0x45c) = 0;
		*(undefined4 *)(puVar6 + 0x460) = 0;
		*(undefined4 *)(puVar6 + 0x464) = 0;
		puVar6[0x480] = 0;
		*(undefined4 *)(puVar6 + 0x488) = 0;
		*(undefined4 *)(puVar6 + 0x484) = 0;
		*(undefined4 *)(puVar6 + 0x5c8) = 0;
		*(undefined4 *)(puVar6 + 0x5cc) = 0;
		*(undefined4 *)(puVar6 + 0x5d0) = 0;
		*(undefined4 *)(puVar6 + 0x5d4) = 0;
		puVar6[0x5f0] = 0;
		*(undefined4 *)(puVar6 + 0x5f8) = 0;
		*(undefined4 *)(puVar6 + 0x5f4) = 0;
		*(undefined4 *)(puVar6 + 0x738) = 0;
		*(undefined4 *)(puVar6 + 0x73c) = 0;
		*(undefined4 *)(puVar6 + 0x740) = 0;
		*(undefined4 *)(puVar6 + 0x744) = 0;
		puVar6[0x760] = 0;
		*(undefined4 *)(puVar6 + 0x768) = 0;
		*(undefined4 *)(puVar6 + 0x764) = 0;
		*(undefined4 *)(puVar6 + 0x8a8) = 0;
		*(undefined4 *)(puVar6 + 0x8ac) = 0;
		*(undefined4 *)(puVar6 + 0x8b0) = 0;
		*(undefined4 *)(puVar6 + 0x8b4) = 0;
		puVar6[0x8d0] = 0;
		*(undefined4 *)(puVar6 + 0x8d8) = 0;
		*(undefined4 *)(puVar6 + 0x8d4) = 0;
		*(undefined4 *)(puVar6 + 0xa18) = 0;
		*(undefined4 *)(puVar6 + 0xa1c) = 0;
		*(undefined4 *)(puVar6 + 0xa20) = 0;
		*(undefined4 *)(puVar6 + 0xa24) = 0;
		puVar6[0xa40] = 0;
		*(undefined4 *)(puVar6 + 0xa48) = 0;
		*(undefined4 *)(puVar6 + 0xa44) = 0;
		puVar6 = puVar6 + 0xb80;
		lVar26 = lVar26 + -1;
	} while (lVar26 != 0);
	puVar7 = puVar7 + iVar23 * 0x170;
	iVar3 = 0x7f - iVar23;
	if (iVar23 < 0x7f) {
		do {
			*(undefined4 *)(puVar7 + 8) = 0;
			*(undefined4 *)(puVar7 + 0xc) = 0;
			*(undefined4 *)(puVar7 + 0x10) = 0;
			*(undefined4 *)(puVar7 + 0x14) = 0;
			puVar7[0x30] = 0;
			*(undefined4 *)(puVar7 + 0x38) = 0;
			*(undefined4 *)(puVar7 + 0x34) = 0;
			puVar7 = puVar7 + 0x170;
			iVar3 = iVar3 + -1;
		} while (iVar3 != 0);
	}
	lVar27 = 0xf;
	lVar26 = 0;
	uVar17 = uVar25;
	uVar20 = uVar24;
	do {
		iVar23 = (int)lVar26;
		piVar18 = (int *)uVar17;
		*piVar18 = iVar23;
		uVar16 = 0;
		lVar14 = lVar26 + 2;
		uVar15 = (undefined)lVar14;
		puVar21 = (undefined4 *)uVar20;
		*puVar21 = 0;
		lVar12 = lVar26 + 3;
		uVar13 = (undefined)lVar12;
		lVar9 = lVar26 + 4;
		uVar11 = (undefined)lVar9;
		piVar18[1] = iVar23 + 1;
		puVar21[1] = 0;
		lVar26 = lVar26 + 8;
		piVar18[2] = (int)lVar14;
		puVar21[2] = 0;
		piVar18[3] = (int)lVar12;
		puVar21[3] = 0;
		piVar18[4] = (int)lVar9;
		puVar21[4] = 0;
		piVar18[5] = iVar23 + 5;
		puVar21[5] = 0;
		piVar18[6] = iVar23 + 6;
		puVar21[6] = 0;
		piVar18[7] = iVar23 + 7;
		uVar17 = uVar17 + 0x20;
		uVar19 = (undefined)uVar17;
		puVar21[7] = 0;
		uVar20 = uVar20 + 0x20;
		uVar22 = (undefined)uVar20;
		lVar27 = lVar27 + -1;
	} while (lVar27 != 0);
	uVar17 = (ulonglong)(uint)((int)lVar26 << 2);
	lVar9 = uVar25 + uVar17;
	lVar12 = uVar24 + uVar17;
	uVar8 = (undefined)lVar12;
	lVar27 = 0x7f - lVar26;
	if ((int)lVar26 < 0x7f) {
		do {
			*(undefined4 *)lVar9 = (int)lVar26;
			lVar9 = lVar9 + 4;
			lVar26 = lVar26 + 1;
			*(undefined4 *)lVar12 = 0;
			lVar12 = lVar12 + 4;
			uVar8 = (undefined)lVar12;
			lVar27 = lVar27 + -1;
		} while (lVar27 != 0);
	}
	if (*ppuVar4[-0x1df6] == '\0') {
		GetRndSeed((char)ppuVar4[-0x1df6], uVar8, uVar11, uVar13, uVar15, 0, uVar19, uVar22, in_stack_ffffffa8);
		uVar5 = QuestStatus(0);
		if ((int)uVar5 != 0) {
			SpawnRock();
		}
		uVar5 = QuestStatus(10);
		if ((int)uVar5 != 0) {
			uVar13 = 0;
			uVar15 = 1;
			lVar26 = (ulonglong)(uint)(*(int *)ppuVar4[-0x1d53] << 1) + 0x1b;
			uVar8 = (undefined)lVar26;
			lVar27 = (ulonglong)(uint)(*(int *)ppuVar4[-0x1d54] << 1) + 0x1b;
			uVar11 = (undefined)lVar27;
			SpawnQuestItem(0x10, (int)lVar26, (int)lVar27, 0, 1, uVar16, uVar19, uVar22, in_stack_ffffffa8);
		}
		bVar1 = *ppuVar4[-0x1df9];
		if ((bVar1 != 0) && (bVar1 < 0x10)) {
			AddInitItems((char)ppuVar4[-0x1df9], uVar8, uVar11, uVar13, uVar15, uVar16, uVar19, uVar22,
			    in_stack_ffffffa8);
		}
	}
	*(undefined4 *)ppuVar4[-0x1d9d] = 0;
	return;
}

void CalcPlrItemVals(ulonglong param_1, int param_2, ulonglong param_3, ulonglong param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11)

{
	undefined4 *puVar1;
	undefined *puVar2;
	longlong lVar3;
	int iVar4;
	int iVar5;
	uint uVar6;
	int iVar7;
	int *piVar8;
	ulonglong uVar9;
	char cVar13;
	ulonglong uVar10;
	undefined8 uVar11;
	undefined *puVar12;
	undefined4 uVar14;
	undefined4 uVar15;
	undefined4 uVar16;
	ulonglong uVar17;
	int iVar18;
	undefined uVar19;
	int iVar20;
	undefined uVar21;
	int iVar22;
	undefined uVar23;
	uint uVar24;
	int iVar25;
	longlong lVar26;
	int iVar27;
	int iVar28;
	int iVar29;
	int iVar30;
	longlong lVar31;
	longlong lVar32;
	longlong lVar33;
	undefined4 in_stack_ffffff28;
	uint local_98;
	int local_90;
	int local_8c;
	int local_88;
	int local_84;
	int local_80;
	int local_78;
	int local_74;
	int local_70;
	int local_6c;
	int local_68;
	int local_64;
	int local_60;
	int local_5c;

	puVar2 = PTR_DAT_100f196c;
	uVar10 = ZEXT48(&toc);
	iVar4 = 0;
	iVar25 = 0;
	uVar24 = 0;
	iVar28 = 0;
	iVar29 = 0;
	uVar17 = 0;
	iVar18 = 0;
	iVar20 = 0;
	iVar22 = 0;
	lVar31 = 10;
	lVar26 = 0;
	iVar27 = 0;
	iVar30 = 0;
	lVar33 = ZEXT48(PTR_DAT_100f1828) + param_1 * 0x55ec;
	local_5c = 0;
	local_60 = 0;
	local_64 = 0;
	local_68 = 0;
	local_6c = 0;
	local_70 = 0;
	local_98 = 0;
	local_74 = 0;
	local_78 = 0;
	cVar13 = '\0';
	local_80 = 0;
	local_84 = 0;
	local_88 = 0;
	local_8c = 0;
	local_90 = 0;
	lVar32 = lVar33;
	do {
		iVar5 = (int)lVar32;
		if ((*(int *)(iVar5 + 0x4a0) != -1) && (*(int *)(iVar5 + 0x5fc) != 0)) {
			iVar25 = iVar25 + *(int *)(iVar5 + 0x568);
			iVar7 = *(int *)(iVar5 + 0x56c);
			local_5c = local_5c + iVar7;
			iVar4 = iVar4 + *(int *)(iVar5 + 0x564);
			if (*(uint *)(iVar5 + 0x578) != 0) {
				param_3 = (ulonglong) * (uint *)(iVar5 + 0x578) - 1;
				uVar9 = 1;
				uVar6 = SetCursorPos(0);
				uVar17 = uVar17 | uVar9;
				local_98 = local_98 | uVar6;
			}
			if ((*(char *)(iVar5 + 0x4d4) == '\0') || (*(int *)(iVar5 + 0x4d0) != 0)) {
				local_60 = local_60 + *(int *)(iVar5 + 0x58c);
				local_64 = local_64 + *(int *)(iVar5 + 0x590);
				if (*(int *)(iVar5 + 0x594) != 0) {
					iVar7 = iVar7 * *(int *)(iVar5 + 0x594);
					uVar6 = iVar7 / 100 + (iVar7 >> 0x1f);
					lVar3 = ((longlong)(int)((ulonglong)((longlong)iVar7 * 0x51eb851f) >> 0x20) & 0xffffffff00000000U | (ulonglong)uVar6) + (ulonglong)(uVar6 >> 0x1f);
					iVar7 = (int)lVar3;
					if (lVar3 == 0) {
						iVar7 = 1;
					}
					local_68 = local_68 + iVar7;
				}
				uVar24 = uVar24 | *(uint *)(iVar5 + 0x570);
				local_6c = local_6c + *(int *)(iVar5 + 0x598);
				iVar28 = iVar28 + *(int *)(iVar5 + 0x59c);
				iVar20 = iVar20 + *(int *)(iVar5 + 0x5ac);
				iVar27 = iVar27 + *(int *)(iVar5 + 0x5b4);
				iVar22 = iVar22 + *(int *)(iVar5 + 0x5b0);
				cVar13 = cVar13 + *(char *)(iVar5 + 0x5c8);
				param_8 = (ulonglong) * (uint *)(iVar5 + 0x5e0);
				iVar29 = iVar29 + *(int *)(iVar5 + 0x5a4);
				local_80 = local_80 + *(uint *)(iVar5 + 0x5e0);
				local_70 = local_70 + *(int *)(iVar5 + 0x5a0);
				param_7 = (ulonglong) * (uint *)(iVar5 + 0x5d0);
				local_84 = local_84 + *(uint *)(iVar5 + 0x5d0);
				local_74 = local_74 + *(int *)(iVar5 + 0x5bc);
				param_4 = (ulonglong) * (uint *)(iVar5 + 0x5c4);
				iVar18 = iVar18 + *(int *)(iVar5 + 0x5a8);
				param_3 = (ulonglong) * (uint *)(iVar5 + 0x5b8);
				lVar31 = lVar31 + param_4;
				lVar26 = lVar26 + param_3;
				param_5 = (ulonglong) * (uint *)(iVar5 + 0x5c0);
				local_88 = local_88 + *(int *)(iVar5 + 0x5d4);
				param_6 = (ulonglong) * (uint *)(iVar5 + 0x5d8);
				local_78 = local_78 + *(uint *)(iVar5 + 0x5c0);
				local_8c = local_8c + *(uint *)(iVar5 + 0x5d8);
				local_90 = local_90 + *(int *)(iVar5 + 0x5dc);
			}
		}
		iVar5 = (int)uVar10;
		uVar16 = (undefined4)param_8;
		uVar15 = (undefined4)param_7;
		uVar14 = (undefined4)param_6;
		iVar7 = (int)lVar31;
		iVar30 = iVar30 + 1;
		lVar32 = lVar32 + 0x170;
	} while (iVar30 < 7);
	iVar30 = (int)lVar33;
	if ((iVar4 == 0) && (iVar25 == 0)) {
		iVar4 = 1;
		iVar25 = 1;
		if ((*(int *)(iVar30 + 0xa60) == 5) && (*(int *)(iVar30 + 0xbbc) != 0)) {
			iVar25 = 3;
		}
		if ((*(int *)(iVar30 + 0xbd0) == 5) && (*(int *)(iVar30 + 0xd2c) != 0)) {
			iVar25 = 3;
		}
	}
	*(int *)(iVar30 + 0x5544) = iVar4;
	*(int *)(iVar30 + 0x5548) = iVar25;
	*(int *)(iVar30 + 0x554c) = local_5c;
	*(int *)(iVar30 + 0x5550) = local_60;
	*(int *)(iVar30 + 0x5554) = local_64;
	*(int *)(iVar30 + 0x5558) = local_68;
	*(uint *)(iVar30 + 0x5568) = uVar24;
	*(int *)(iVar30 + 0x555c) = local_74;
	*(int *)(iVar30 + 0x556c) = local_78;
	if (iVar7 < 2) {
		iVar7 = 2;
	}
	if (0xf < iVar7) {
		iVar7 = 0xf;
	}
	if (((int)*(char *)(iVar30 + 0x13a) != iVar7) && ((int)param_1 == **(int **)(iVar5 + -0x77ac))) {
		FUN_100baf64(*(int *)(iVar30 + 0x9c), iVar7);
		if (iVar7 < 10) {
			FUN_100bb3b4(*(int *)(iVar30 + 0xa0), 10);
		} else {
			FUN_100bb3b4(*(int *)(iVar30 + 0xa0), iVar7);
		}
		*(undefined *)(iVar30 + 0x13a) = (char)iVar7;
	}
	piVar8 = *(int **)(iVar5 + -0x77ac);
	*(int *)(iVar30 + 0x160) = *(int *)(iVar30 + 0x164) + local_6c;
	piVar8 = (int *)(*(int *)(iVar5 + -0x77a8) + *piVar8 * 0x55ec + 0x160);
	if (*piVar8 < 1) {
		*piVar8 = 0;
	}
	piVar8 = *(int **)(iVar5 + -0x77ac);
	*(int *)(iVar30 + 0x168) = *(int *)(iVar30 + 0x16c) + iVar28;
	piVar8 = (int *)(*(int *)(iVar5 + -0x77a8) + *piVar8 * 0x55ec + 0x168);
	if (*piVar8 < 1) {
		*piVar8 = 0;
	}
	piVar8 = *(int **)(iVar5 + -0x77ac);
	*(int *)(iVar30 + 0x170) = *(int *)(iVar30 + 0x174) + local_70;
	piVar8 = (int *)(*(int *)(iVar5 + -0x77a8) + *piVar8 * 0x55ec + 0x170);
	if (*piVar8 < 1) {
		*piVar8 = 0;
	}
	piVar8 = *(int **)(iVar5 + -0x77ac);
	*(int *)(iVar30 + 0x178) = *(int *)(iVar30 + 0x17c) + iVar29;
	piVar8 = (int *)(*(int *)(iVar5 + -0x77a8) + *piVar8 * 0x55ec + 0x178);
	if (*piVar8 < 1) {
		*piVar8 = 0;
	}
	if (*(char *)(iVar30 + 0x15c) == '\x01') {
		param_3 = 0x51eb851f;
		iVar4 = (int)*(char *)(iVar30 + 0x1b4) * (*(int *)(iVar30 + 0x160) + *(int *)(iVar30 + 0x170));
		uVar6 = iVar4 / 200 + (iVar4 >> 0x1f);
		*(int *)(iVar30 + 0x184) = uVar6 + (uVar6 >> 0x1f);
	} else {
		iVar4 = *(int *)(iVar30 + 0x160) * (int)*(char *)(iVar30 + 0x1b4);
		uVar6 = iVar4 / 100 + (iVar4 >> 0x1f);
		*(int *)(iVar30 + 0x184) = uVar6 + (uVar6 >> 0x1f);
	}
	*(undefined4 *)(iVar30 + 0x5564) = (int)uVar17;
	*(uint *)(iVar30 + 0x5560) = local_98;
	if (*(char *)(iVar30 + 0xb8) == '\x03') {
		uVar10 = 1;
		param_4 = SetCursorPos(0, 1, (ulonglong) * (uint *)(iVar30 + 0xb4) - 1);
		param_3 = (ulonglong) * (uint *)(iVar30 + 0x5564);
		param_4 = (ulonglong) * (uint *)(iVar30 + 0x5560) & param_4;
		if ((param_3 & uVar10 | param_4) == 0) {
			puVar1 = *(undefined4 **)(iVar5 + -0x76bc);
			*(undefined4 *)(iVar30 + 0xb4) = 0xffffffff;
			*(undefined *)(iVar30 + 0xb8) = 4;
			*puVar1 = 0xff;
		}
	}
	*(char *)(iVar30 + 0x5570) = cVar13;
	*(int *)(iVar30 + 0x5578) = local_80;
	if ((uVar24 & 0x80000000) != 0) {
		iVar22 = 0;
		iVar18 = 0;
		iVar20 = 0;
	}
	uVar21 = (undefined)iVar20;
	uVar19 = (undefined)iVar18;
	uVar23 = (undefined)iVar22;
	if (0x4b < iVar22) {
		uVar23 = 0x4b;
	}
	*(undefined *)(iVar30 + 0x1c5) = uVar23;
	if (0x4b < iVar18) {
		uVar19 = 0x4b;
	}
	*(undefined *)(iVar30 + 0x1c6) = uVar19;
	if (0x4b < iVar20) {
		uVar21 = 0x4b;
	}
	*(undefined *)(iVar30 + 0x1c7) = uVar21;
	cVar13 = *(char *)(iVar30 + 0x15c);
	if (cVar13 == '\0') {
		iVar29 = iVar29 << 1;
	}
	if (cVar13 == '\x01') {
		iVar29 = iVar29 + (iVar29 >> 1);
	}
	iVar29 = (int)lVar26 + iVar29 * 0x40;
	if (cVar13 == '\x02') {
		iVar28 = iVar28 << 1;
	}
	if (cVar13 == '\x01') {
		iVar28 = iVar28 + (iVar28 >> 1);
	}
	iVar27 = iVar27 + iVar28 * 0x40;
	piVar8 = *(int **)(iVar5 + -0x77ac);
	*(int *)(iVar30 + 0x194) = *(int *)(iVar30 + 0x18c) + iVar29;
	*(int *)(iVar30 + 0x198) = *(int *)(iVar30 + 400) + iVar29;
	if (((int)param_1 == *piVar8) && (*(int *)(iVar30 + 0x194) >> 6 == 0)) {
		SetPlayerHitPoints(param_1, 0, param_3, param_4, param_5, uVar14, uVar15, uVar16, in_stack_ffffff28);
	}
	iVar29 = (int)param_1;
	*(int *)(iVar30 + 0x1a8) = *(int *)(iVar30 + 0x1a0) + iVar27;
	*(int *)(iVar30 + 0x1ac) = *(int *)(iVar30 + 0x1a4) + iVar27;
	*(int *)(iVar30 + 0x557c) = local_84;
	*(int *)(iVar30 + 0x5580) = local_88;
	*(int *)(iVar30 + 0x5584) = local_8c;
	*(int *)(iVar30 + 0x5588) = local_90;
	if ((uVar24 & 1) == 0) {
		*(undefined4 *)(iVar30 + 0x1cc) = 0;
	} else {
		*(undefined4 *)(iVar30 + 0x1cc) = 1;
	}
	*(undefined *)(iVar30 + 0x138) = 0;
	iVar28 = 0;
	*(undefined4 *)(iVar30 + 0x134) = 0;
	if (((*(int *)(iVar30 + 0xa60) != -1) && (*(char *)(iVar30 + 0xb16) == '\x01')) && (*(int *)(iVar30 + 0xbbc) != 0)) {
		iVar28 = *(int *)(iVar30 + 0xa60);
	}
	if (((*(int *)(iVar30 + 0xbd0) != -1) && (*(char *)(iVar30 + 0xc86) == '\x01')) && (*(int *)(iVar30 + 0xd2c) != 0)) {
		iVar28 = *(int *)(iVar30 + 0xbd0);
	}
	if (iVar28 == 4) {
		iVar28 = 6;
	} else {
		if (iVar28 < 4) {
			if (iVar28 == 2) {
				iVar28 = 5;
			} else {
				if (iVar28 < 2) {
					if (0 < iVar28) {
						iVar28 = 2;
					}
				} else {
					*(undefined4 *)(iVar30 + 0x134) = 1;
					iVar28 = 4;
				}
			}
		} else {
			if (iVar28 == 10) {
				iVar28 = 8;
			}
		}
	}
	if ((*(int *)(iVar30 + 0xa60) == 5) && (*(int *)(iVar30 + 0xbbc) != 0)) {
		iVar28 = iVar28 + 1;
		*(undefined *)(iVar30 + 0x138) = 1;
	}
	if ((*(int *)(iVar30 + 0xbd0) == 5) && (*(int *)(iVar30 + 0xd2c) != 0)) {
		iVar28 = iVar28 + 1;
		*(undefined *)(iVar30 + 0x138) = 1;
	}
	if ((*(int *)(iVar30 + 0xd40) == 8) && (*(int *)(iVar30 + 0xe9c) != 0)) {
		iVar28 = iVar28 + 0x10;
	}
	if ((*(int *)(iVar30 + 0xd40) == 9) && (*(int *)(iVar30 + 0xe9c) != 0)) {
		iVar28 = iVar28 + 0x20;
	}
	if ((*(int *)(iVar30 + 0x78) == iVar28) || (param_2 == 0)) {
		*(int *)(iVar30 + 0x78) = iVar28;
	} else {
		*(int *)(iVar30 + 0x78) = iVar28;
		*(undefined4 *)(iVar30 + 0x214) = 0;
		uVar11 = 1;
		LoadPlrGFX(param_1);
		iVar29 = (int)param_1;
		SetPlrAnims(param_1, uVar11, param_3, param_4, param_5, uVar14, uVar15, uVar16, in_stack_ffffff28);
		*(int *)(iVar30 + 0x7c) = iVar30 + *(int *)(iVar30 + 0x70) * 8 + 0x218;
		*(undefined4 *)(iVar30 + 0x88) = *(undefined4 *)(iVar30 + 600);
		*(undefined4 *)(iVar30 + 0x8c) = 1;
		*(undefined4 *)(iVar30 + 0x84) = 0;
		*(undefined4 *)(iVar30 + 0x80) = 3;
		*(undefined4 *)(iVar30 + 0x90) = *(undefined4 *)(iVar30 + 0x25c);
		*(int *)(iVar30 + 0x94) = *(int *)(iVar30 + 0x25c) + -0x40 >> 1;
	}
	piVar8 = *(int **)(iVar5 + -0x7660);
	uVar10 = (ulonglong) * *(uint **)(iVar5 + -0x7668);
	if (0 < (int)**(uint **)(iVar5 + -0x7668)) {
		do {
			if ((*(int *)(puVar2 + *piVar8 * 0xb4) == 0xd) && (puVar12 = puVar2 + *piVar8 * 0xb4, iVar29 == *(int *)(puVar12 + 0x78))) {
				*(undefined4 *)(puVar12 + 0x94) = *(undefined4 *)(iVar30 + 0x194);
				*(undefined4 *)(puVar12 + 0x98) = *(undefined4 *)(iVar30 + 0x18c);
			}
			piVar8 = piVar8 + 1;
			uVar10 = uVar10 - 1;
		} while (uVar10 != 0);
	}
	puVar1 = *(undefined4 **)(iVar5 + -0x76f0);
	**(undefined4 **)(iVar5 + -0x76f4) = 1;
	*puVar1 = 1;
	return;
}

void CalcPlrScrolls(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	char *pcVar1;
	uint *puVar2;
	undefined4 *puVar3;
	undefined *puVar4;
	ulonglong uVar5;
	uint uVar6;
	uint uVar7;
	int iVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;

	puVar4 = PTR_DAT_100f1828;
	uVar5 = ZEXT48(&toc);
	param_1 = param_1 * 0x55ec;
	puVar11 = PTR_DAT_100f1828 + param_1;
	puVar10 = PTR_DAT_100f1828 + param_1;
	iVar8 = 0;
	*(undefined4 *)(puVar10 + 0x118) = 0;
	*(uint *)(puVar10 + 0x114) = 0;
	puVar9 = puVar11;
	while (iVar8 < *(int *)(puVar11 + 0x4828)) {
		if ((*(int *)(puVar9 + 0xeb0) != -1) && (((*(int *)(puVar9 + 0xf84) == 0x15 || (*(int *)(puVar9 + 0xf84) == 0x16)) && (*(int *)(puVar9 + 0x100c) != 0)))) {
			uVar7 = 1;
			uVar6 = SetCursorPos(0, 1, (ulonglong) * (uint *)(puVar9 + 0xf88) - 1);
			*(uint *)(puVar11 + 0x118) = *(uint *)(puVar11 + 0x118) | uVar7;
			*(uint *)(puVar11 + 0x114) = *(uint *)(puVar11 + 0x114) | uVar6;
		}
		puVar9 = puVar9 + 0x170;
		iVar8 = iVar8 + 1;
	}
	iVar8 = 0;
	puVar9 = puVar11;
	do {
		if (((*(int *)(puVar9 + 0x485c) != -1) && ((*(int *)(puVar9 + 0x4930) == 0x15 || (*(int *)(puVar9 + 0x4930) == 0x16)))) && (*(int *)(puVar9 + 0x49b8) != 0)) {
			uVar7 = 1;
			uVar6 = SetCursorPos(0, 1, (ulonglong) * (uint *)(puVar9 + 0x4934) - 1);
			*(uint *)(puVar11 + 0x118) = *(uint *)(puVar11 + 0x118) | uVar7;
			*(uint *)(puVar11 + 0x114) = *(uint *)(puVar11 + 0x114) | uVar6;
		}
		iVar8 = iVar8 + 1;
		puVar9 = puVar9 + 0x170;
	} while (iVar8 < 8);
	pcVar1 = puVar4 + param_1 + 0xb8;
	if ((*pcVar1 == '\x02') && (puVar2 = (uint *)(puVar4 + param_1 + 0xb4), uVar6 = 1 << (ulonglong)*puVar2 - 1, (uVar6 & *(uint *)(puVar10 + 0x118) | (int)uVar6 >> 0x1f & *(uint *)(puVar10 + 0x114)) == 0)) {
		puVar3 = *(undefined4 **)((int)uVar5 + -0x76bc);
		*puVar2 = 0xffffffff;
		*pcVar1 = '\x04';
		*puVar3 = 0xff;
	}
	return;
}

void CalcPlrStaff(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint *puVar1;
	undefined *puVar2;
	uint uVar3;
	uint uVar4;
	undefined *puVar5;

	puVar5 = PTR_DAT_100f1828 + param_1 * 0x55ec;
	puVar2 = PTR_DAT_100f1828 + param_1 * 0x55ec;
	*(undefined4 *)(puVar5 + 0x5564) = 0;
	puVar1 = (uint *)(puVar5 + 0x5560);
	*puVar1 = 0;
	if (((*(int *)(puVar2 + 0xa60) != -1) && (*(int *)(puVar2 + 0xbbc) != 0)) && (0 < *(int *)(puVar2 + 0xb3c))) {
		uVar4 = 1;
		uVar3 = SetCursorPos(0, 1, (ulonglong) * (uint *)(puVar2 + 0xb38) - 1, param_4, param_5, param_6,
		    param_7, param_8);
		*(uint *)(puVar5 + 0x5564) = *(uint *)(puVar5 + 0x5564) | uVar4;
		*puVar1 = *puVar1 | uVar3;
	}
	return;
}

void CalcSelfItems(int param_1)

{
	bool bVar1;
	int iVar2;
	undefined *puVar3;
	int iVar4;
	int iVar5;
	undefined *puVar6;
	longlong lVar7;

	puVar3 = PTR_DAT_100f1828 + param_1 * 0x55ec;
	lVar7 = 7;
	puVar6 = puVar3 + 0x498;
	iVar2 = 0;
	iVar4 = 0;
	iVar5 = 0;
	do {
		if ((*(int *)(puVar6 + 8) != -1) && (*(undefined4 *)(puVar6 + 0x164) = 1, *(int *)(puVar6 + 0x38) != 0)) {
			iVar2 = iVar2 + *(int *)(puVar6 + 0x100);
			iVar4 = iVar4 + *(int *)(puVar6 + 0x104);
			iVar5 = iVar5 + *(int *)(puVar6 + 0x108);
		}
		puVar6 = puVar6 + 0x170;
		lVar7 = lVar7 + -1;
	} while (lVar7 != 0);
	do {
		puVar6 = puVar3 + 0x498;
		lVar7 = 7;
		bVar1 = false;
		do {
			if (((*(int *)(puVar6 + 8) != -1) && (*(int *)(puVar6 + 0x164) != 0)) && (*(int *)(puVar3 + 0x174) + iVar5 < (int)(char)puVar6[0x162] || (*(int *)(puVar3 + 0x16c) + iVar4 < (int)(uint)(byte)puVar6[0x161] || *(int *)(puVar3 + 0x164) + iVar2 < (int)(char)puVar6[0x160]))) {
				*(undefined4 *)(puVar6 + 0x164) = 0;
				bVar1 = true;
				if (*(int *)(puVar6 + 0x38) != 0) {
					iVar2 = iVar2 - *(int *)(puVar6 + 0x100);
					iVar4 = iVar4 - *(int *)(puVar6 + 0x104);
					iVar5 = iVar5 - *(int *)(puVar6 + 0x108);
				}
			}
			puVar6 = puVar6 + 0x170;
			lVar7 = lVar7 + -1;
		} while (lVar7 != 0);
	} while (bVar1);
	return;
}

undefined8 FUN_1004c3b8(int param_1, int param_2)

{
	if (*(int *)(param_1 + 0x168) < (int)(uint) * (byte *)(param_2 + 0x161)) {
		return 0;
	}
	if (*(int *)(param_1 + 0x160) < (int)*(char *)(param_2 + 0x160)) {
		return 0;
	}
	if (*(int *)(param_1 + 0x170) < (int)*(char *)(param_2 + 0x162)) {
		return 0;
	}
	return 1;
}

void CalcPlrItemMin(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	bool bVar1;
	undefined8 uVar2;
	undefined *puVar3;
	int iVar4;
	undefined *puVar5;

	puVar3 = PTR_DAT_100f1828 + param_1 * 0x55ec;
	iVar4 = *(int *)(puVar3 + 0x4828);
	puVar5 = puVar3 + 0xea8;
	while (true) {
		bVar1 = iVar4 == 0;
		iVar4 = iVar4 + -1;
		if (bVar1)
			break;
		uVar2 = FUN_1004c3b8((int)puVar3, (int)puVar5);
		*(int *)(puVar5 + 0x164) = (int)uVar2;
		puVar5 = puVar5 + 0x170;
	}
	puVar5 = puVar3 + 0x4854;
	iVar4 = 7;
	do {
		if (*(int *)(puVar5 + 8) != -1) {
			uVar2 = FUN_1004c3b8((int)puVar3, (int)puVar5);
			*(int *)(puVar5 + 0x164) = (int)uVar2;
		}
		bVar1 = iVar4 != 0;
		puVar5 = puVar5 + 0x170;
		iVar4 = iVar4 + -1;
	} while (bVar1);
	return;
}

void CalcPlrBookVals(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	ulonglong uVar3;
	undefined **ppuVar4;
	ulonglong uVar5;
	undefined8 uVar6;
	longlong lVar7;
	int iVar8;
	undefined *puVar9;
	undefined *puVar10;

	puVar2 = PTR_DAT_100f1934;
	uVar3 = ZEXT48(&toc);
	ppuVar4 = &toc;
	if (*PTR_DAT_100f17ec == '\0') {
		iVar8 = 1;
		puVar10 = PTR_DAT_100f1e58;
		while (true) {
			ppuVar4 = (undefined **)uVar3;
			if (*(int *)(puVar10 + 0x178) == -1)
				break;
			FUN_10052e38(iVar8);
			uVar5 = StoreStatOk((int)(puVar10 + 0x170));
			*(int *)(puVar10 + 0x2d4) = (int)uVar5;
			iVar8 = iVar8 + 1;
			puVar10 = puVar10 + 0x170;
		}
	}
	puVar9 = ppuVar4[-0x1dea] + param_1 * 0x55ec;
	iVar8 = 0;
	puVar10 = puVar9;
	while (iVar8 < *(int *)(puVar9 + 0x4828)) {
		if ((*(int *)(puVar10 + 0xeb0) == 0) && (*(int *)(puVar10 + 0xf84) == 0x18)) {
			puVar10[0x1009] = (char)*(undefined4 *)(puVar2 + *(int *)(puVar10 + 0xf88) * 0x38 + 0x1c);
			lVar7 = (longlong)(char)puVar9[*(int *)(puVar10 + 0xf88) + 0xc1];
			while ((int)lVar7 != 0) {
				lVar7 = lVar7 + -1;
				puVar10[0x1009] = puVar10[0x1009] + (char)((int)((uint)(byte)puVar10[0x1009] * 0x14) / 100);
				uVar1 = (int)((uint)(byte)puVar10[0x1009] * 0x14) / 100;
				if (0xff < (int)((uint)(byte)puVar10[0x1009] + uVar1 + (uVar1 >> 0x1f))) {
					puVar10[0x1009] = 0xff;
					lVar7 = 0;
				}
			}
			uVar6 = FUN_1004c3b8((int)puVar9, (int)(puVar10 + 0xea8));
			*(int *)(puVar10 + 0x100c) = (int)uVar6;
		}
		puVar10 = puVar10 + 0x170;
		iVar8 = iVar8 + 1;
	}
	return;
}

void CalcPlrInv(ulonglong param_1, int param_2, ulonglong param_3, ulonglong param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined **ppuVar2;
	int iVar3;
	undefined uVar4;
	undefined7 uVar5;
	undefined uVar6;
	undefined7 uVar7;
	undefined uVar8;
	undefined7 uVar9;
	undefined uVar10;
	undefined7 uVar11;
	undefined uVar12;
	undefined7 uVar13;
	undefined uVar14;
	undefined7 uVar15;
	undefined uVar16;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffcc;

	puVar1 = PTR_DAT_100f1824;
	uVar15 = (undefined7)(param_8 >> 8);
	uVar16 = (undefined)param_8;
	uVar13 = (undefined7)(param_7 >> 8);
	uVar14 = (undefined)param_7;
	uVar11 = (undefined7)(param_6 >> 8);
	uVar12 = (undefined)param_6;
	uVar9 = (undefined7)(param_5 >> 8);
	uVar10 = (undefined)param_5;
	uVar7 = (undefined7)(param_4 >> 8);
	uVar8 = (undefined)param_4;
	uVar5 = (undefined7)(param_3 >> 8);
	uVar6 = (undefined)param_3;
	uVar4 = (undefined)param_2;
	ppuVar2 = &toc;
	iVar3 = (int)param_1;
	CalcPlrItemMin(iVar3, uVar4, uVar6, uVar8, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffb8);
	CalcSelfItems(iVar3);
	CalcPlrItemVals(param_1, param_2, CONCAT71(uVar5, uVar6), CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10),
	    CONCAT71(uVar11, uVar12), CONCAT71(uVar13, uVar14), CONCAT71(uVar15, uVar16),
	    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc);
	CalcPlrItemMin(iVar3, uVar4, uVar6, uVar8, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffb8);
	if (iVar3 == *(int *)puVar1) {
		CalcPlrBookVals(iVar3, uVar4, uVar6, uVar8, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffb8);
		CalcPlrScrolls(iVar3, uVar4, uVar6, uVar8, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffb8);
		CalcPlrStaff(iVar3, uVar4, uVar6, uVar8, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffb8);
	}
	if ((iVar3 == *(int *)puVar1) && (*ppuVar2[-0x1df9] == '\0')) {
		RecalcStoreStats((char)ppuVar2[-0x1df9], uVar4, uVar6, uVar8, uVar10, uVar12, uVar14, uVar16,
		    in_stack_ffffffb8);
	}
	return;
}

void SetPlrHandItem(int param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int iVar1;
	undefined in_stack_ffffffbb;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	iVar1 = param_2 * 0x4c;
	memset((char)param_1, 0x70, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffbb,
	    in_stack_ffffffbf, local_3c);
	*(int *)(param_1 + 8) = (int)*(char *)(iVar1 + 0x100fc834);
	*(undefined4 *)(param_1 + 0xc0) = *(undefined4 *)(iVar1 + 0x100fc830);
	strcpy(param_1 + 0x3d, *(int *)(iVar1 + 0x100fc838));
	strcpy(param_1 + 0x7d, *(int *)(iVar1 + 0x100fc838));
	*(undefined *)(param_1 + 0xbd) = *(undefined *)(iVar1 + 0x100fc82d);
	*(undefined *)(param_1 + 0xbe) = *(undefined *)(iVar1 + 0x100fc82c);
	*(undefined4 *)(param_1 + 0xcc) = *(undefined4 *)(iVar1 + 0x100fc848);
	*(undefined4 *)(param_1 + 0xd0) = *(undefined4 *)(iVar1 + 0x100fc84c);
	*(undefined4 *)(param_1 + 0xd4) = *(undefined4 *)(iVar1 + 0x100fc850);
	*(undefined4 *)(param_1 + 0xdc) = *(undefined4 *)(iVar1 + 0x100fc860);
	*(undefined4 *)(param_1 + 0xe0) = *(undefined4 *)(iVar1 + 0x100fc864);
	if (*(int *)(iVar1 + 0x100fc860) == 0x17) {
		*(undefined4 *)(param_1 + 0xe4) = 0x28;
	}
	*(undefined4 *)(param_1 + 0xe8) = *(undefined4 *)(param_1 + 0xe4);
	*(undefined4 *)(param_1 + 0xec) = *(undefined4 *)(iVar1 + 0x100fc844);
	*(undefined4 *)(param_1 + 0xf0) = *(undefined4 *)(iVar1 + 0x100fc844);
	*(undefined *)(param_1 + 0x160) = *(undefined *)(iVar1 + 0x100fc858);
	*(undefined *)(param_1 + 0x161) = *(undefined *)(iVar1 + 0x100fc859);
	*(undefined *)(param_1 + 0x162) = *(undefined *)(iVar1 + 0x100fc85a);
	*(undefined4 *)(param_1 + 0xc4) = *(undefined4 *)(iVar1 + 0x100fc86c);
	*(undefined4 *)(param_1 + 200) = *(undefined4 *)(iVar1 + 0x100fc86c);
	*(undefined *)(param_1 + 0x14c) = 0xff;
	*(undefined *)(param_1 + 0x14d) = 0xff;
	*(int *)(param_1 + 0x168) = param_2;
	*(undefined *)(param_1 + 0x3c) = 0;
	return;
}

void FUN_1004c7d0(undefined4 *param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 uVar1;
	undefined4 in_stack_ffffffc8;

	uVar1 = GetRndSeed((char)param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	*param_1 = uVar1;
	return;
}

void GetGoldSeed(int param_1, int *param_2, char param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	uint uVar1;
	bool bVar2;
	undefined *puVar3;
	undefined *puVar4;
	uint *puVar5;
	ulonglong uVar6;
	ulonglong uVar7;
	int iVar8;
	ulonglong uVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	longlong lVar14;
	longlong lVar15;
	ulonglong uVar16;
	ulonglong uVar17;
	undefined4 in_stack_ffffffa8;

	puVar5 = _DAT_100f1dec;
	puVar4 = PTR_DAT_100f1940;
	puVar3 = PTR_DAT_100f1824;
	lVar15 = (longlong)param_8;
	lVar14 = (longlong)param_7;
	lVar13 = (longlong)param_6;
	lVar12 = (longlong)param_5;
	lVar11 = (longlong)param_4;
	lVar10 = (longlong)param_3;
	uVar9 = SEXT48((int)param_2);
	uVar7 = ZEXT48(PTR_DAT_100f1828);
	uVar17 = (ulonglong)_DAT_100f1df0;
	uVar16 = uVar7 + (longlong)param_1 * 0x55ec;
	do {
		bVar2 = true;
		uVar7 = GetRndSeed((char)uVar7, (char)uVar9, (char)lVar10, (char)lVar11, (char)lVar12, (char)lVar13, (char)lVar14, (char)lVar15, in_stack_ffffffa8);
		uVar6 = (ulonglong)*puVar5;
		iVar8 = (int)uVar7;
		uVar9 = uVar17;
		if (0 < (int)*puVar5) {
			do {
				if (iVar8 == *(int *)(puVar4 + *(int *)uVar9 * 0x170)) {
					bVar2 = false;
				}
				uVar9 = uVar9 + 4;
				uVar6 = uVar6 - 1;
			} while (uVar6 != 0);
		}
		if ((param_1 == *(int *)puVar3) && (uVar1 = *(uint *)((int)uVar16 + 0x4828), uVar6 = (ulonglong)uVar1, uVar9 = uVar16, 0 < (int)uVar1)) {
			do {
				if (iVar8 == *(int *)((int)uVar9 + 0xea8)) {
					bVar2 = false;
				}
				uVar9 = uVar9 + 0x170;
				uVar6 = uVar6 - 1;
			} while (uVar6 != 0);
		}
	} while (!bVar2);
	*param_2 = iVar8;
	return;
}

void FUN_1004c8c8(undefined4 *param_1, undefined4 param_2)

{
	*param_1 = param_2;
	return;
}

void FUN_1004c8d0(int param_1)

{
	if (0x9c3 < *(int *)(param_1 + 0xc4)) {
		*(undefined4 *)(param_1 + 0xc0) = 6;
		return;
	}
	if (*(int *)(param_1 + 0xc4) < 0x3e9) {
		*(undefined4 *)(param_1 + 0xc0) = 4;
		return;
	}
	*(undefined4 *)(param_1 + 0xc0) = 5;
	return;
}

void FUN_1004c908(ulonglong uParm1, undefined8 uParm2, undefined param_3, undefined param_4,
    ulonglong uParm5, undefined8 uParm6, undefined8 uParm7, undefined8 uParm8)

{
	char cVar1;
	undefined4 uVar2;
	int iVar3;
	int iVar4;
	uint *puVar5;
	undefined *puVar6;
	undefined4 *puVar7;
	undefined uVar8;
	undefined uVar9;
	undefined7 uVar10;
	undefined uVar11;
	undefined7 uVar12;
	undefined uVar13;
	undefined7 uVar14;
	undefined uVar15;
	longlong lVar16;
	longlong lVar17;
	ulonglong uVar18;
	longlong lVar19;
	longlong lVar20;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 local_4c;
	undefined4 in_stack_ffffffbc;

	puVar6 = PTR_DAT_100f1828;
	uVar15 = (undefined)uParm8;
	uVar14 = (undefined7)((ulonglong)uParm8 >> 8);
	uVar13 = (undefined)uParm7;
	uVar12 = (undefined7)((ulonglong)uParm7 >> 8);
	uVar11 = (undefined)uParm6;
	uVar10 = (undefined7)((ulonglong)uParm6 >> 8);
	uVar18 = ZEXT48(PTR_DAT_100f1828);
	lVar17 = uParm1 * 0x55ec;
	lVar16 = uVar18 + lVar17;
	iVar3 = (int)lVar16;
	*(undefined4 *)(iVar3 + 0x4a0) = 0xffffffff;
	*(undefined4 *)(iVar3 + 0x610) = 0xffffffff;
	*(undefined4 *)(iVar3 + 0x780) = 0xffffffff;
	*(undefined4 *)(iVar3 + 0x8f0) = 0xffffffff;
	*(undefined4 *)(iVar3 + 0xa60) = 0xffffffff;
	*(undefined4 *)(iVar3 + 0xbd0) = 0xffffffff;
	*(undefined4 *)(iVar3 + 0xd40) = 0xffffffff;
	memset((char)lVar16 + ',', 0x28, param_3, param_4, (char)uParm5, uVar11, uVar13, uVar15,
	    (char)in_stack_ffffffa8, in_stack_ffffffaf, local_4c);
	uVar9 = (undefined)uParm5;
	lVar16 = lVar16 + 0xea8;
	lVar19 = 4;
	do {
		iVar4 = (int)lVar16;
		*(undefined4 *)(iVar4 + 8) = 0xffffffff;
		*(undefined4 *)(iVar4 + 0x178) = 0xffffffff;
		*(undefined4 *)(iVar4 + 0x2e8) = 0xffffffff;
		*(undefined4 *)(iVar4 + 0x458) = 0xffffffff;
		*(undefined4 *)(iVar4 + 0x5c8) = 0xffffffff;
		*(undefined4 *)(iVar4 + 0x738) = 0xffffffff;
		*(undefined4 *)(iVar4 + 0x8a8) = 0xffffffff;
		*(undefined4 *)(iVar4 + 0xa18) = 0xffffffff;
		*(undefined4 *)(iVar4 + 0xb88) = 0xffffffff;
		*(undefined4 *)(iVar4 + 0xcf8) = 0xffffffff;
		lVar16 = lVar16 + 0xe60;
		lVar19 = lVar19 + -1;
	} while (lVar19 != 0);
	puVar5 = (uint *)(puVar6 + (int)lVar17 + 0x4828);
	*puVar5 = 0;
	puVar7 = (undefined4 *)(iVar3 + 0x4854);
	*(undefined4 *)(iVar3 + 0x485c) = 0xffffffff;
	*(undefined4 *)(iVar3 + 0x49cc) = 0xffffffff;
	*(undefined4 *)(iVar3 + 0x4b3c) = 0xffffffff;
	*(undefined4 *)(iVar3 + 0x4cac) = 0xffffffff;
	*(undefined4 *)(iVar3 + 0x4e1c) = 0xffffffff;
	*(undefined4 *)(iVar3 + 0x4f8c) = 0xffffffff;
	*(undefined4 *)(iVar3 + 0x50fc) = 0xffffffff;
	*(undefined4 *)(iVar3 + 0x526c) = 0xffffffff;
	cVar1 = puVar6[(int)lVar17 + 0x15c];
	if (cVar1 == '\x01') {
		uVar8 = 4;
		SetPlrHandItem((int)(undefined4 *)(iVar3 + 0xa58), 4, param_3, param_4, uVar9, uVar11, uVar13, uVar15,
		    in_stack_ffffffa8);
		FUN_1004c7d0((undefined4 *)(iVar3 + 0xa58), uVar8, param_3, param_4, (char)uParm5, uVar11, uVar13,
		    uVar15, in_stack_ffffffa8);
		uVar9 = 0x18;
		SetPlrHandItem((int)puVar7, 0x18, param_3, param_4, (char)uParm5, uVar11, uVar13, uVar15,
		    in_stack_ffffffa8);
		FUN_1004c7d0(puVar7, uVar9, param_3, param_4, (char)uParm5, uVar11, uVar13, uVar15, in_stack_ffffffa8);
		uVar9 = 0x18;
		SetPlrHandItem((int)(undefined4 *)(iVar3 + 0x49c4), 0x18, param_3, param_4, (char)uParm5, uVar11, uVar13, uVar15, in_stack_ffffffa8);
		FUN_1004c7d0((undefined4 *)(iVar3 + 0x49c4), uVar9, param_3, param_4, (char)uParm5, uVar11, uVar13,
		    uVar15, in_stack_ffffffa8);
	} else {
		if (cVar1 < '\x01') {
			if (-1 < cVar1) {
				uVar8 = 1;
				SetPlrHandItem((int)(undefined4 *)(iVar3 + 0xa58), 1, param_3, param_4, uVar9, uVar11, uVar13, uVar15, in_stack_ffffffa8);
				FUN_1004c7d0((undefined4 *)(iVar3 + 0xa58), uVar8, param_3, param_4, uVar9, uVar11, uVar13, uVar15,
				    in_stack_ffffffa8);
				uVar8 = 2;
				SetPlrHandItem((int)(undefined4 *)(iVar3 + 0xbc8), 2, param_3, param_4, uVar9, uVar11, uVar13, uVar15, in_stack_ffffffa8);
				FUN_1004c7d0((undefined4 *)(iVar3 + 0xbc8), uVar8, param_3, param_4, uVar9, uVar11, uVar13, uVar15,
				    in_stack_ffffffa8);
				uVar8 = 3;
				SetPlrHandItem((int)(undefined4 *)(iVar3 + 0x53d4), 3, param_3, param_4, uVar9, uVar11, uVar13,
				    uVar15, in_stack_ffffffa8);
				FUN_1004c7d0((undefined4 *)(iVar3 + 0x53d4), uVar8, param_3, param_4, uVar9, uVar11, uVar13, uVar15, in_stack_ffffffa8);
				param_3 = 1;
				param_4 = 3;
				uParm5 = 1;
				AutoPlace((int)uParm1, 0, 1, 3, 1, uVar11, uVar13, uVar15, in_stack_ffffffa8);
				uVar9 = 0x18;
				SetPlrHandItem((int)puVar7, 0x18, param_3, param_4, (char)uParm5, uVar11, uVar13, uVar15,
				    in_stack_ffffffa8);
				FUN_1004c7d0(puVar7, uVar9, param_3, param_4, (char)uParm5, uVar11, uVar13, uVar15,
				    in_stack_ffffffa8);
				uVar9 = 0x18;
				SetPlrHandItem((int)(undefined4 *)(iVar3 + 0x49c4), 0x18, param_3, param_4, (char)uParm5, uVar11,
				    uVar13, uVar15, in_stack_ffffffa8);
				FUN_1004c7d0((undefined4 *)(iVar3 + 0x49c4), uVar9, param_3, param_4, (char)uParm5, uVar11, uVar13, uVar15, in_stack_ffffffa8);
			}
		} else {
			if (cVar1 < '\x03') {
				uVar8 = 5;
				SetPlrHandItem((int)(undefined4 *)(iVar3 + 0xa58), 5, param_3, param_4, uVar9, uVar11, uVar13, uVar15, in_stack_ffffffa8);
				FUN_1004c7d0((undefined4 *)(iVar3 + 0xa58), uVar8, param_3, param_4, (char)uParm5, uVar11, uVar13,
				    uVar15, in_stack_ffffffa8);
				uVar9 = 0x19;
				SetPlrHandItem((int)puVar7, 0x19, param_3, param_4, (char)uParm5, uVar11, uVar13, uVar15,
				    in_stack_ffffffa8);
				FUN_1004c7d0(puVar7, uVar9, param_3, param_4, (char)uParm5, uVar11, uVar13, uVar15,
				    in_stack_ffffffa8);
				uVar9 = 0x19;
				SetPlrHandItem((int)(undefined4 *)(iVar3 + 0x49c4), 0x19, param_3, param_4, (char)uParm5, uVar11,
				    uVar13, uVar15, in_stack_ffffffa8);
				FUN_1004c7d0((undefined4 *)(iVar3 + 0x49c4), uVar9, param_3, param_4, (char)uParm5, uVar11, uVar13, uVar15, in_stack_ffffffa8);
			}
		}
	}
	uVar9 = 0;
	SetPlrHandItem((int)(undefined4 *)(iVar3 + 0x53d4), 0, param_3, param_4, (char)uParm5, uVar11, uVar13,
	    uVar15, in_stack_ffffffa8);
	FUN_1004c7d0((undefined4 *)(iVar3 + 0x53d4), uVar9, param_3, param_4, (char)uParm5, uVar11, uVar13,
	    uVar15, in_stack_ffffffa8);
	lVar19 = uVar18 + lVar17;
	lVar16 = lVar19 + 0x53cc;
	iVar3 = (int)(uVar18 + lVar17);
	*(undefined4 *)(iVar3 + 0x5498) = 100;
	*(undefined4 *)((int)lVar19 + 0x5494) = 4;
	lVar20 = 0x2e;
	*(undefined4 *)((int)lVar19 + 0x1c8) = *(undefined4 *)(iVar3 + 0x5498);
	lVar19 = lVar19 + (ulonglong)*puVar5 * 0x170 + 0xea0;
	do {
		lVar16 = lVar16 + 8;
		uVar2 = ((undefined4 *)lVar16)[1];
		lVar19 = lVar19 + 8;
		*(undefined4 *)lVar19 = *(undefined4 *)lVar16;
		((undefined4 *)lVar19)[1] = uVar2;
		lVar20 = lVar20 + -1;
	} while (lVar20 != 0);
	*puVar5 = *puVar5 + 1;
	*(undefined *)((int)(uVar18 + lVar17) + 0x484a) = (char)*puVar5;
	CalcPlrItemVals(uParm1, 0, uVar18 + lVar17, uVar18 + lVar17, uParm5, CONCAT71(uVar10, uVar11),
	    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), in_stack_ffffffa8, in_stack_ffffffaf,
	    in_stack_ffffffbc);
	return;
}

undefined8 ItemSpaceOk(int param_1, int param_2)

{
	char cVar1;
	char cVar2;
	int iVar3;
	int iVar4;
	int iVar5;

	if ((((param_1 < 0) || (0x6f < param_1)) || (param_2 < 0)) || (0x6f < param_2)) {
		return 0;
	}
	if (*(short *)(*(int *)PTR_DAT_100f1954 + param_1 * 0xe0 + param_2 * 2) != 0) {
		return 0;
	}
	iVar4 = param_1 * 0x70;
	iVar5 = iVar4 + param_2;
	if (*(char *)(*(int *)PTR_DAT_100f1950 + iVar5) != '\0') {
		return 0;
	}
	if (*(char *)(*(int *)PTR_DAT_100f1944 + iVar5) != '\0') {
		return 0;
	}
	iVar3 = *(int *)PTR_DAT_100f194c;
	cVar2 = *(char *)(iVar3 + iVar5);
	if (cVar2 != '\0') {
		if (cVar2 < '\x01') {
			iVar5 = -((int)cVar2 + 1);
		} else {
			iVar5 = (int)cVar2 + -1;
		}
		if (*(int *)(PTR_DAT_100f1948 + iVar5 * 0x78 + 0x38) != 0) {
			return 0;
		}
	}
	cVar2 = *(char *)(iVar3 + iVar4 + param_2 + 0x71);
	if ('\0' < cVar2) {
		if (PTR_DAT_100f1948[((int)cVar2 + -1) * 0x78 + 0x40] != '\0') {
			return 0;
		}
	}
	if (cVar2 < '\0') {
		if (PTR_DAT_100f1948[((int)cVar2 + 1) * -0x78 + 0x40] != '\0') {
			return 0;
		}
	}
	iVar4 = iVar3 + iVar4 + param_2;
	cVar2 = *(char *)(iVar4 + 0x70);
	if ('\0' < cVar2) {
		cVar1 = *(char *)(iVar4 + 1);
		if ('\0' < cVar1) {
			if (((PTR_DAT_100f1948 + 0x40)[((int)cVar2 + -1) * 0x78] != '\0') && ((PTR_DAT_100f1948 + 0x40)[((int)cVar1 + -1) * 0x78] != '\0')) {
				return 0;
			}
		}
	}
	if (*(char *)(_DAT_100f1da4 + (int)*(short *)(*(int *)PTR_DAT_100f1a54 + param_1 * 0xe0 + param_2 * 2)) != '\0') {
		return 0;
	}
	return 1;
}

undefined8
FUN_1004cd90(int param_1, int param_2, char param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	bool bVar1;
	undefined *puVar2;
	undefined *puVar3;
	ulonglong uVar4;
	int iVar5;
	longlong lVar6;
	undefined8 uVar7;
	int *piVar8;
	longlong lVar9;
	int iVar10;
	longlong lVar11;
	int iVar12;
	longlong lVar13;
	longlong lVar14;
	longlong lVar15;
	undefined4 *puVar16;
	undefined4 *puVar17;
	longlong lVar18;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined in_stack_ffffffab;

	puVar3 = PTR_DAT_100f1e54;
	puVar2 = PTR_DAT_100f1940;
	lVar15 = (longlong)param_8;
	lVar14 = (longlong)param_7;
	lVar13 = (longlong)param_6;
	lVar11 = (longlong)param_5;
	lVar9 = (longlong)param_4;
	lVar6 = (longlong)param_3;
	uVar4 = ZEXT48(&toc);
	iVar10 = param_2 + -1;
	puVar16 = (undefined4 *)PTR_DAT_100f1e54;
	while (iVar5 = (int)uVar4, iVar10 <= param_2 + 1) {
		iVar5 = param_1 + -1;
		puVar17 = puVar16;
		while (iVar5 <= param_1 + 1) {
			uVar7 = ItemSpaceOk(iVar5, iVar10);
			*puVar17 = (int)uVar7;
			puVar17 = puVar17 + 3;
			iVar5 = iVar5 + 1;
		}
		puVar16 = puVar16 + 1;
		iVar10 = iVar10 + 1;
	}
	lVar18 = 3;
	bVar1 = false;
	piVar8 = (int *)puVar3;
	do {
		if (*piVar8 != 0) {
			bVar1 = true;
		}
		if (piVar8[3] != 0) {
			bVar1 = true;
		}
		if (piVar8[6] != 0) {
			bVar1 = true;
		}
		piVar8 = piVar8 + 1;
		lVar18 = lVar18 + -1;
	} while (lVar18 != 0);
	lVar6 = random(0xd, 0xf, (char)lVar6, (char)lVar9, (char)lVar11, (char)lVar13, (char)lVar14,
	    (char)lVar15, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
	lVar6 = lVar6 + 1;
	if (bVar1) {
		iVar12 = 0;
		iVar10 = 0;
		while (0 < (int)lVar6) {
			if (*(int *)(puVar3 + iVar12 * 0xc + iVar10 * 4) != 0) {
				lVar6 = lVar6 + -1;
			}
			if ((0 < (int)lVar6) && (iVar12 = iVar12 + 1, iVar12 == 3)) {
				iVar10 = iVar10 + 1;
				iVar12 = 0;
				if (iVar10 == 3) {
					iVar10 = 0;
				}
			}
		}
		iVar12 = iVar12 + param_1 + -1;
		piVar8 = *(int **)(iVar5 + -0x768c);
		iVar10 = iVar10 + param_2 + -1;
		*(int *)(puVar2 + (int)param_3 * 0x170 + 0xc) = iVar12;
		*(int *)(puVar2 + (int)param_3 * 0x170 + 0x10) = iVar10;
		uVar7 = 1;
		*(char *)(*piVar8 + iVar12 * 0x70 + iVar10) = param_3 + '\x01';
	} else {
		uVar7 = 0;
	}
	return uVar7;
}

void FUN_1004cf1c(int param_1, int param_2, char param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int *piVar1;
	undefined *puVar2;
	ulonglong uVar3;
	undefined8 uVar4;
	int iVar5;
	int iVar6;
	int iVar7;
	int iVar8;
	int iVar9;
	undefined4 in_stack_ffffffa8;

	puVar2 = PTR_DAT_100f1940;
	uVar3 = ZEXT48(&toc);
	uVar4 = FUN_1004cd90(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	if ((int)uVar4 == 0) {
		iVar7 = 2;
		do {
			iVar6 = -iVar7;
			while (iVar6 <= iVar7) {
				iVar8 = param_2 + iVar6;
				iVar5 = -iVar7;
				while (iVar5 <= iVar7) {
					iVar9 = param_1 + iVar5;
					uVar4 = ItemSpaceOk(iVar9, iVar8);
					if ((int)uVar4 != 0) {
						piVar1 = *(int **)((int)uVar3 + -0x768c);
						*(int *)(puVar2 + (int)param_3 * 0x170 + 0xc) = iVar9;
						*(int *)(puVar2 + (int)param_3 * 0x170 + 0x10) = iVar8;
						*(char *)(*piVar1 + iVar9 * 0x70 + iVar8) = param_3 + '\x01';
						return;
					}
					iVar5 = iVar5 + 1;
				}
				iVar6 = iVar6 + 1;
			}
			iVar7 = iVar7 + 1;
		} while (iVar7 < 0x32);
	}
	return;
}

void FUN_1004cfe4(int param_1, int param_2, int *param_3, int *param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined8 uVar1;
	int iVar2;
	int iVar3;
	int iVar4;

	iVar4 = 1;
	do {
		iVar3 = -iVar4;
		while (iVar3 <= iVar4) {
			*param_4 = param_2 + iVar3;
			iVar2 = -iVar4;
			while (iVar2 <= iVar4) {
				*param_3 = param_1 + iVar2;
				uVar1 = ItemSpaceOk(*param_3, *param_4);
				if ((int)uVar1 != 0) {
					return;
				}
				iVar2 = iVar2 + 1;
			}
			iVar3 = iVar3 + 1;
		}
		iVar4 = iVar4 + 1;
	} while (iVar4 < 0x32);
	return;
}

void CalcItemValue(int param_1)

{
	longlong lVar1;
	undefined *puVar2;
	undefined4 uVar3;

	param_1 = param_1 * 0x170;
	puVar2 = PTR_DAT_100f1940 + param_1;
	lVar1 = (ulonglong) * (uint *)(puVar2 + 0x154) + (ulonglong) * (uint *)(puVar2 + 0x15c);
	if (lVar1 != 0) {
		lVar1 = (longlong)(int)lVar1 * (longlong) * (int *)(puVar2 + 0xc4);
	}
	if ((int)lVar1 < 0) {
		lVar1 = (longlong)(*(int *)(PTR_DAT_100f1940 + param_1 + 0xc4) / (int)lVar1);
	}
	lVar1 = (ulonglong) * (uint *)(PTR_DAT_100f1940 + param_1 + 0x150) + (ulonglong) * (uint *)(PTR_DAT_100f1940 + param_1 + 0x158) + lVar1;
	uVar3 = (undefined4)lVar1;
	if (lVar1 < 1) {
		uVar3 = 1;
	}
	*(undefined4 *)(PTR_DAT_100f1940 + param_1 + 200) = uVar3;
	return;
}

void GetBookSpell(int param_1, longlong param_2, undefined param_3, undefined param_4, undefined param_5, undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	char cVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	longlong lVar4;
	undefined *puVar5;
	int iVar6;
	int iVar7;
	int iVar8;
	int unaff_r25;
	undefined *puVar9;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined1 in_stack_ffffffbb;

	puVar2 = PTR_DAT_100f1940;
	puVar5 = PTR_DAT_100f1934;
	iVar6 = (int)param_2;
	ppuVar3 = &toc;
	if (param_2 == 0) {
		iVar6 = 1;
	}
	lVar4 = random(0xe, 0x25, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8,
	    in_stack_ffffffaf, in_stack_ffffffbb);
	lVar4 = lVar4 + 1;
	iVar8 = 1;
	while (0 < (int)lVar4) {
		if ((*(int *)(puVar5 + iVar8 * 0x38 + 0xc) != -1) && (*(int *)(puVar5 + iVar8 * 0x38 + 0xc) <= iVar6)) {
			lVar4 = lVar4 + -1;
			unaff_r25 = iVar8;
		}
		iVar7 = iVar8 + 1;
		if ((*ppuVar3[-0x1dfc] == '\x01') && (iVar7 == 0x20)) {
			iVar7 = iVar8 + 2;
		}
		iVar8 = iVar7;
		if ((*ppuVar3[-0x1dfc] == '\x01') && (iVar8 = iVar7, iVar7 == 0x22)) {
			iVar8 = 0x23;
		}
		if (iVar8 == 0x25) {
			iVar8 = 1;
		}
	}
	param_1 = param_1 * 0x170;
	puVar9 = puVar2 + param_1;
	strcat((int)(puVar9 + 0x3d), *(int *)(puVar5 + unaff_r25 * 0x38 + 4));
	strcat((int)(puVar9 + 0x7d), *(int *)(puVar5 + unaff_r25 * 0x38 + 4));
	*(int *)(puVar9 + 0xe0) = unaff_r25;
	puVar5 = puVar5 + unaff_r25 * 0x38;
	puVar9[0x161] = (char)*(undefined4 *)(puVar5 + 0x1c);
	iVar6 = *(int *)(puVar5 + 0x30);
	*(int *)(puVar9 + 0xc4) = *(int *)(puVar9 + 0xc4) + iVar6;
	*(int *)(puVar9 + 200) = *(int *)(puVar9 + 200) + iVar6;
	cVar1 = puVar5[2];
	if (cVar1 == '\0') {
		*(undefined4 *)(puVar9 + 0xc0) = 0x57;
	}
	if (cVar1 == '\x01') {
		*(undefined4 *)(puVar2 + param_1 + 0xc0) = 0x58;
	}
	if (cVar1 == '\x02') {
		*(undefined4 *)(puVar2 + param_1 + 0xc0) = 0x56;
	}
	return;
}

void FUN_1004d22c(int param_1, char param_2, int param_3, int param_4, uint param_5, undefined8 param_6,
    int param_7, undefined4 param_8, undefined4 param_9)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	longlong lVar6;
	undefined8 uVar7;
	longlong lVar8;
	ulonglong uVar9;
	longlong lVar10;
	int iVar11;
	undefined8 unaff_r23;
	int iVar12;
	undefined8 unaff_r24;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	int iVar13;
	undefined8 unaff_r27;
	undefined *puVar14;
	undefined8 unaff_r28;
	byte *pbVar15;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_fffffb28;
	undefined in_stack_fffffb2f;
	undefined in_stack_fffffb3b;
	undefined4 in_stack_fffffb3c;
	undefined4 in_stack_fffffb40;
	undefined4 in_stack_fffffb44;
	undefined4 in_stack_fffffb48;
	undefined4 in_stack_fffffb4c;
	undefined4 in_stack_fffffb50;
	undefined4 in_stack_fffffb54;
	undefined auStack1192[128];
	int local_428[257];
	undefined4 local_24;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar4 = PTR_s__s__s_100f305c;
	puVar3 = PTR_DAT_100f1940;
	ppuVar5 = &toc;
	local_24 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar9 = ZEXT48(&PTR_DAT_100ff6c4);
	lVar6 = random(0xf, 10, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_fffffb28, in_stack_fffffb2f, in_stack_fffffb3b);
	iVar11 = (int)param_6;
	iVar13 = -1;
	if (((int)lVar6 == 0) || (param_4 != 0)) {
		iVar12 = 0;
		lVar10 = 0;
		lVar6 = 0;
		while (true) {
			iVar11 = (int)param_6;
			param_5 = (uint)lVar10;
			iVar2 = (int)uVar9;
			if (*(int *)(iVar2 + 4) == -1)
				break;
			lVar8 = lVar6;
			iVar11 = iVar12;
			if (((*(uint *)(iVar2 + 0x14) & 0x100) != 0) && (lVar8 = lVar6, iVar11 = iVar12, *(char *)(iVar2 + 0x10) <= param_2)) {
				param_6 = 1;
				if ((param_4 != 0) && (*(int *)(iVar2 + 0x20) == 0)) {
					param_6 = 0;
				}
				lVar8 = lVar6;
				iVar11 = iVar12;
				if ((int)param_6 != 0) {
					iVar1 = (int)(ZEXT48(register0x0000000c) - 0x428);
					*(uint *)(iVar1 + iVar12) = param_5;
					lVar8 = lVar6 + 1;
					iVar11 = iVar12 + 4;
					if (*(int *)(iVar2 + 0x1c) != 0) {
						*(uint *)(iVar1 + iVar12 + 4) = param_5;
						lVar8 = lVar6 + 2;
						iVar11 = iVar12 + 8;
					}
				}
			}
			iVar12 = iVar11;
			uVar9 = uVar9 + 0x30;
			lVar10 = lVar10 + 1;
			lVar6 = lVar8;
		}
		if ((int)lVar6 != 0) {
			lVar6 = random(0x10, lVar6, (char)(ZEXT48(register0x0000000c) - 0x428), (char)uVar9,
			    (char)lVar10, (char)param_6, (char)param_7, (char)param_8, in_stack_fffffb28,
			    in_stack_fffffb2f, in_stack_fffffb3b);
			iVar13 = local_428[(int)lVar6];
			iVar12 = iVar13 * 0x30;
			sprintf((int)auStack1192, puVar4, (&PTR_DAT_100ff6c4)[iVar13 * 0xc],
			    puVar3 + param_1 * 0x170 + 0x7d, param_5, iVar11, param_7, param_8, in_stack_fffffb28,
			    in_stack_fffffb2f, in_stack_fffffb3c, in_stack_fffffb40, in_stack_fffffb44,
			    in_stack_fffffb48, in_stack_fffffb4c, in_stack_fffffb50, in_stack_fffffb54);
			strcpy((int)(puVar3 + param_1 * 0x170 + 0x7d), (int)auStack1192);
			(puVar3 + param_1 * 0x170)[0x3c] = 1;
			param_5 = *(uint *)(iVar12 + 0x100ff6e8);
			iVar11 = *(int *)(iVar12 + 0x100ff6ec);
			param_7 = *(int *)(iVar12 + 0x100ff6f0);
			SaveItemPower(param_1, *(uint *)(iVar12 + 0x100ff6c8), (ulonglong) * (uint *)(iVar12 + 0x100ff6cc),
			    (ulonglong) * (uint *)(iVar12 + 0x100ff6d0), (ulonglong)param_5, iVar11, param_7,
			    (char)param_8, in_stack_fffffb28);
			(puVar3 + param_1 * 0x170)[0x14c] = (char)*(uint *)(iVar12 + 0x100ff6c8);
		}
	}
	puVar14 = puVar3 + param_1 * 0x170;
	pbVar15 = puVar14 + 0x7d;
	uVar7 = control_WriteStringToBuffer(pbVar15);
	if ((int)uVar7 == 0) {
		strcpy((int)pbVar15, (int)ppuVar5[*(int *)(puVar14 + 0x168) * 0x13 + 0xe1b]);
		if (iVar13 != -1) {
			sprintf((int)auStack1192, puVar4, (&PTR_DAT_100ff6c4)[iVar13 * 0xc], pbVar15, param_5, iVar11,
			    param_7, param_8, in_stack_fffffb28, in_stack_fffffb2f, in_stack_fffffb3c,
			    in_stack_fffffb40, in_stack_fffffb44, in_stack_fffffb48, in_stack_fffffb4c,
			    in_stack_fffffb50, in_stack_fffffb54);
			strcpy((int)pbVar15, (int)auStack1192);
		}
		sprintf((int)auStack1192, ppuVar5[-0x17de], pbVar15,
		    *(undefined4 *)(ppuVar5[-0x1da7] + param_3 * 0x38 + 4), param_5, iVar11, param_7,
		    param_8, in_stack_fffffb28, in_stack_fffffb2f, in_stack_fffffb3c, in_stack_fffffb40,
		    in_stack_fffffb44, in_stack_fffffb48, in_stack_fffffb4c, in_stack_fffffb50,
		    in_stack_fffffb54);
		strcpy((int)pbVar15, (int)auStack1192);
		if (puVar3[param_1 * 0x170 + 0x3c] == '\0') {
			strcpy((int)(puVar14 + 0x3d), (int)pbVar15);
		}
	}
	CalcItemValue(param_1);
	return;
}

void FUN_1004d45c(longlong lParm1, undefined8 uParm2, undefined8 uParm3, undefined param_4,
    undefined8 uParm5, undefined8 uParm6, undefined8 uParm7, undefined4 uParm8)

{
	undefined4 uVar1;
	uint uVar2;
	undefined *puVar3;
	undefined *puVar4;
	int iVar5;
	undefined **ppuVar6;
	longlong lVar7;
	undefined8 uVar8;
	undefined uVar10;
	int iVar9;
	longlong lVar11;
	longlong lVar12;
	undefined4 uVar13;
	undefined uVar14;
	undefined4 uVar15;
	undefined uVar16;
	int iVar17;
	undefined uVar18;
	int iVar19;
	undefined uVar20;
	undefined8 unaff_r21;
	uint uVar21;
	undefined8 unaff_r22;
	undefined8 unaff_r23;
	undefined8 unaff_r24;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	ulonglong uVar22;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	longlong unaff_r30;
	undefined8 unaff_r31;
	ulonglong in_LR;
	undefined4 param_9;
	undefined4 in_stack_ffffff58;
	undefined in_stack_ffffff5f;
	undefined in_stack_ffffff6b;
	undefined4 in_stack_ffffff6c;
	undefined4 in_stack_ffffff70;
	undefined4 in_stack_ffffff74;
	undefined4 in_stack_ffffff78;
	undefined4 in_stack_ffffff7c;
	undefined4 in_stack_ffffff80;
	undefined4 in_stack_ffffff84;
	byte abStack120[76];
	undefined4 local_2c;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar3 = PTR_DAT_100f1940;
	puVar4 = PTR_DAT_100f1934;
	iVar19 = (int)uParm7;
	iVar17 = (int)uParm6;
	uVar15 = (undefined4)uParm5;
	uVar10 = (undefined)uParm3;
	ppuVar6 = &toc;
	local_2c = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar22 = ZEXT48(PTR_DAT_100f1940);
	param_9 = (undefined4)in_LR;
	lVar7 = random(0x11, 4, uVar10, param_4, (char)uParm5, (char)uParm6, (char)uParm7, (char)uParm8,
	    in_stack_ffffff58, in_stack_ffffff5f, in_stack_ffffff6b);
	uVar21 = (int)uParm2 >> 1;
	if ((int)lVar7 == 0) {
		GetItemPower((int)lParm1, (char)uVar21, (char)uParm2, 0x100, (undefined *)uParm3, iVar17, iVar19,
		    uParm8, in_stack_ffffff58);
	} else {
		if ((in_LR & 0xffffffff00000000 | (ulonglong)uVar21) == 0) {
			uVar21 = 1;
		}
		lVar7 = random(0x12, 0x25, uVar10, param_4, (char)uVar15, (char)iVar17, (char)iVar19,
		    (char)uParm8, in_stack_ffffff58, in_stack_ffffff5f, in_stack_ffffff6b);
		lVar7 = lVar7 + 1;
		lVar11 = 1;
		while (0 < (int)lVar7) {
			if ((*(int *)(puVar4 + (int)lVar11 * 0x38 + 0x10) != -1) && (*(int *)(puVar4 + (int)lVar11 * 0x38 + 0x10) <= (int)uVar21)) {
				lVar7 = lVar7 + -1;
				unaff_r30 = lVar11;
			}
			lVar12 = lVar11 + 1;
			if ((*ppuVar6[-0x1dfc] == '\x01') && ((int)lVar12 == 0x20)) {
				lVar12 = lVar11 + 2;
			}
			lVar11 = lVar12;
			if ((*ppuVar6[-0x1dfc] == '\x01') && ((int)lVar11 == 0x22)) {
				lVar11 = lVar11 + 1;
			}
			if ((int)lVar11 == 0x25) {
				lVar11 = 1;
			}
		}
		iVar5 = (int)unaff_r30;
		lVar7 = uVar22 + lParm1 * 0x170;
		lVar11 = lVar7 + 0x3d;
		uVar10 = (undefined)lVar11;
		uVar13 = *(undefined4 *)(puVar4 + iVar5 * 0x38 + 4);
		iVar9 = (int)lVar11;
		sprintf((int)abStack120, ppuVar6[-0x17de], iVar9, uVar13, uVar15, iVar17, iVar19, uParm8,
		    in_stack_ffffff58, in_stack_ffffff5f, in_stack_ffffff6c, in_stack_ffffff70,
		    in_stack_ffffff74, in_stack_ffffff78, in_stack_ffffff7c, in_stack_ffffff80,
		    in_stack_ffffff84);
		uVar8 = control_WriteStringToBuffer(abStack120);
		uVar20 = (undefined)iVar19;
		uVar18 = (undefined)iVar17;
		uVar16 = (undefined)uVar15;
		uVar14 = (undefined)uVar13;
		if ((int)uVar8 == 0) {
			uVar1 = *(undefined4 *)(puVar4 + iVar5 * 0x38 + 4);
			uVar10 = (undefined)uVar1;
			sprintf((int)abStack120, ppuVar6[-0x17df], uVar1, uVar13, uVar15, iVar17, iVar19, uParm8,
			    in_stack_ffffff58, in_stack_ffffff5f, in_stack_ffffff6c, in_stack_ffffff70,
			    in_stack_ffffff74, in_stack_ffffff78, in_stack_ffffff7c, in_stack_ffffff80,
			    in_stack_ffffff84);
		}
		strcpy(iVar9, (int)abStack120);
		strcpy((int)lVar7 + 0x7d, (int)abStack120);
		puVar3 = puVar3 + (int)(lParm1 * 0x170);
		puVar4 = puVar4 + iVar5 * 0x38;
		*(int *)(puVar3 + 0xe0) = iVar5;
		uVar21 = *(uint *)(puVar4 + 0x28);
		lVar7 = random(0x13, ((ulonglong) * (uint *)(puVar4 + 0x2c) - (ulonglong)uVar21) + 1, uVar10,
		    uVar14, uVar16, uVar18, uVar20, (char)uParm8, in_stack_ffffff58,
		    in_stack_ffffff5f, in_stack_ffffff6b);
		*(uint *)(puVar3 + 0xe4) = uVar21 + (int)lVar7;
		*(undefined4 *)(puVar3 + 0xe8) = *(undefined4 *)(puVar3 + 0xe4);
		puVar3[0x161] = (char)*(undefined4 *)(puVar4 + 0x1c);
		uVar2 = (*(int *)(puVar4 + 0x34) * *(int *)(puVar3 + 0xe4)) / 5 + (*(int *)(puVar4 + 0x34) * *(int *)(puVar3 + 0xe4) >> 0x1f);
		uVar21 = uVar2 >> 0x1f;
		uVar2 = uVar2 + uVar21;
		*(uint *)(puVar3 + 0xc4) = *(int *)(puVar3 + 0xc4) + uVar2;
		*(uint *)(puVar3 + 200) = *(int *)(puVar3 + 200) + uVar2;
		FUN_1004d22c((int)lParm1, (char)uParm2, iVar5, (int)(undefined *)uParm3, uVar2, (ulonglong)uVar21,
		    0x66666667, uParm8, in_stack_ffffff58);
	}
	return;
}

void GetItemAttrs(int param_1, int param_2, longlong param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int *piVar1;
	undefined4 *puVar2;
	undefined4 uVar3;
	int iVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined **ppuVar8;
	int iVar10;
	longlong lVar9;
	undefined uVar11;
	undefined uVar12;
	int unaff_r24;
	undefined *puVar13;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined in_stack_ffffffab;

	puVar7 = PTR_DAT_100f1e4c;
	puVar6 = PTR_DAT_100f1940;
	puVar5 = PTR_DAT_100f17ec;
	uVar11 = (undefined)param_3;
	ppuVar8 = &toc;
	uVar12 = (undefined)((longlong)param_2 * 0x4c);
	iVar10 = param_1 * 0x170;
	puVar13 = PTR_DAT_100f1940 + iVar10;
	iVar4 = (int)((longlong)param_2 * 0x4c);
	piVar1 = (int *)(PTR_DAT_100f1940 + iVar10 + 8);
	*piVar1 = (int)*(char *)(iVar4 + 0x100fc834);
	puVar2 = (undefined4 *)(puVar6 + iVar10 + 0xc0);
	*puVar2 = *(undefined4 *)(iVar4 + 0x100fc830);
	strcpy((int)(puVar13 + 0x3d), *(int *)(iVar4 + 0x100fc838));
	strcpy((int)(puVar13 + 0x7d), *(int *)(iVar4 + 0x100fc838));
	puVar13[0xbd] = *(undefined *)(iVar4 + 0x100fc82d);
	puVar13[0xbe] = *(undefined *)(iVar4 + 0x100fc82c);
	*(undefined4 *)(puVar13 + 0xcc) = *(undefined4 *)(iVar4 + 0x100fc848);
	*(undefined4 *)(puVar13 + 0xd0) = *(undefined4 *)(iVar4 + 0x100fc84c);
	lVar9 = random(0x14, ((ulonglong) * (uint *)(iVar4 + 0x100fc854) - (ulonglong) * (uint *)(iVar4 + 0x100fc850)) + 1, uVar11, uVar12, param_5,
	    param_6, param_7, param_8, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
	*(int *)(puVar13 + 0xd4) = *(int *)(iVar4 + 0x100fc850) + (int)lVar9;
	*(undefined4 *)(puVar13 + 0xd8) = *(undefined4 *)(iVar4 + 0x100fc85c);
	*(undefined4 *)(puVar13 + 0xdc) = *(undefined4 *)(iVar4 + 0x100fc860);
	*(undefined4 *)(puVar13 + 0xe0) = *(undefined4 *)(iVar4 + 0x100fc864);
	puVar13[0x3c] = 0;
	uVar3 = *(undefined4 *)(iVar4 + 0x100fc86c);
	*(undefined4 *)(puVar13 + 0xc4) = uVar3;
	*(undefined4 *)(puVar13 + 200) = uVar3;
	*(undefined4 *)(puVar13 + 0x150) = 0;
	*(undefined4 *)(puVar13 + 0x154) = 0;
	*(undefined4 *)(puVar13 + 0x158) = 0;
	*(undefined4 *)(puVar13 + 0x15c) = 0;
	*(undefined4 *)(puVar13 + 0xf4) = 0;
	*(undefined4 *)(puVar13 + 0xf8) = 0;
	*(undefined4 *)(puVar13 + 0xfc) = 0;
	*(undefined4 *)(puVar13 + 0x100) = 0;
	*(undefined4 *)(puVar13 + 0x104) = 0;
	*(undefined4 *)(puVar13 + 0x108) = 0;
	*(undefined4 *)(puVar13 + 0x10c) = 0;
	*(undefined4 *)(puVar13 + 0xe4) = 0;
	*(undefined4 *)(puVar13 + 0xe8) = 0;
	uVar3 = *(undefined4 *)(iVar4 + 0x100fc844);
	*(undefined4 *)(puVar13 + 0xec) = uVar3;
	*(undefined4 *)(puVar13 + 0xf0) = uVar3;
	puVar13[0x160] = *(undefined *)(iVar4 + 0x100fc858);
	puVar13[0x161] = *(undefined *)(iVar4 + 0x100fc859);
	puVar13[0x162] = *(undefined *)(iVar4 + 0x100fc85a);
	*(undefined4 *)(puVar13 + 0x110) = 0;
	*(undefined4 *)(puVar13 + 0x114) = 0;
	*(undefined4 *)(puVar13 + 0x118) = 0;
	*(int *)(puVar13 + 0x168) = param_2;
	*(undefined4 *)(puVar13 + 0x124) = 0;
	*(undefined4 *)(puVar13 + 0x128) = 0;
	*(undefined4 *)(puVar13 + 300) = 0;
	puVar13[0x130] = 0;
	puVar13[0x131] = 0;
	*(undefined4 *)(puVar13 + 0x138) = 0;
	*(undefined4 *)(puVar13 + 0x13c) = 0;
	*(undefined4 *)(puVar13 + 0x140) = 0;
	*(undefined4 *)(puVar13 + 0x144) = 0;
	*(undefined4 *)(puVar13 + 0x148) = 0;
	*(undefined4 *)(puVar13 + 0x11c) = 0;
	*(undefined4 *)(puVar13 + 0x120) = 0;
	puVar13[0x14c] = 0xff;
	puVar13[0x14d] = 0xff;
	if (*(int *)(puVar13 + 0xdc) == 0x18) {
		GetBookSpell(param_1, param_3, uVar11, uVar12, param_5, param_6, param_7, param_8, in_stack_ffffff98);
	}
	if (*piVar1 == 0xb) {
		if (*(int *)puVar7 == 0) {
			lVar9 = random(0x15, (ulonglong)(byte)*puVar5 * 10, uVar11, uVar12, param_5, param_6, param_7,
			    param_8, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
			unaff_r24 = (uint)(byte)*puVar5 * 5 + (int)lVar9;
		}
		if (*(int *)puVar7 == 1) {
			lVar9 = random(0x15, ((ulonglong)(byte)*puVar5 + 0x10) * 10, uVar11, uVar12, param_5, param_6, param_7, param_8, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
			unaff_r24 = ((uint)(byte)*puVar5 + 0x10) * 5 + (int)lVar9;
		}
		if (*(int *)puVar7 == 2) {
			lVar9 = random(0x15, ((ulonglong)(byte)*puVar5 + 0x20) * 10, uVar11, uVar12, param_5, param_6, param_7, param_8, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
			unaff_r24 = ((uint)(byte)*puVar5 + 0x20) * 5 + (int)lVar9;
		}
		if (*ppuVar8[-0x1de5] == '\x04') {
			unaff_r24 = unaff_r24 + (unaff_r24 >> 3);
		}
		if (5000 < unaff_r24) {
			unaff_r24 = 5000;
		}
		*(int *)(puVar13 + 0xc4) = unaff_r24;
		if (unaff_r24 < 0x9c4) {
			if (unaff_r24 < 0x3e9) {
				*puVar2 = 4;
			} else {
				*puVar2 = 5;
			}
		} else {
			*puVar2 = 6;
		}
	}
	return;
}

longlong FUN_1004d8f0(longlong param_1, longlong param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	longlong lVar1;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined1 in_stack_ffffffdb;

	lVar1 = random(0x16, (param_2 - param_1) + 1, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffdb);
	return param_1 + lVar1;
}

longlong FUN_1004d92c(int param_1, int param_2, int param_3, longlong param_4, int param_5)

{
	uint uVar1;
	int iVar2;

	if (param_2 == param_3) {
		return param_4;
	}
	if ((int)param_4 == param_5) {
		return param_4;
	}
	iVar2 = (param_5 - (int)param_4) * (((param_1 - param_2) * 100) / (param_3 - param_2));
	uVar1 = iVar2 / 100 + (iVar2 >> 0x1f);
	return param_4 + ((longlong)(int)((ulonglong)((longlong)iVar2 * 0x51eb851f) >> 0x20) & 0xffffffff00000000U | (ulonglong)uVar1) + (ulonglong)(uVar1 >> 0x1f);
}

void SaveItemPower(int param_1, uint param_2, longlong param_3, longlong param_4, longlong param_5,
    int param_6, int param_7, undefined param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined **ppuVar2;
	longlong lVar3;
	undefined4 in_stack_ffffff98;

	puVar1 = PTR_DAT_100f1940;
	ppuVar2 = &toc;
	lVar3 = FUN_1004d8f0(param_3, param_4, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
	    (char)param_7, param_8, in_stack_ffffff98);
	if (param_2 < 0x50) {
		// WARNING: Could not recover jumptable at 0x1004d9e8. Too many branches
		// WARNING: Treating indirect jump as call
		(**(code **)(ppuVar2[-0x17e0] + param_2 * 4))();
		return;
	}
	param_1 = param_1 * 0x170;
	if ((*(int *)(puVar1 + param_1 + 0x150) == 0) && (*(int *)(puVar1 + param_1 + 0x154) == 0)) {
		lVar3 = FUN_1004d92c((int)lVar3, (int)param_3, (int)param_4, param_5, param_6);
		*(int *)(puVar1 + param_1 + 0x150) = (int)lVar3;
		*(int *)(puVar1 + param_1 + 0x154) = param_7;
	} else {
		lVar3 = FUN_1004d92c((int)lVar3, (int)param_3, (int)param_4, param_5, param_6);
		*(int *)(puVar1 + param_1 + 0x158) = (int)lVar3;
		*(int *)(puVar1 + param_1 + 0x15c) = param_7;
	}
	return;
}

void GetItemPower(int param_1, char param_2, char param_3, uint param_4, undefined *param_5, int param_6,
    int param_7, undefined4 param_8, undefined4 param_9)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	int iVar6;
	undefined **ppuVar7;
	longlong lVar8;
	int iVar10;
	int iVar11;
	undefined8 uVar9;
	longlong lVar12;
	char cVar14;
	longlong lVar13;
	undefined uVar16;
	ulonglong uVar15;
	undefined *puVar17;
	longlong lVar18;
	undefined8 unaff_r16;
	byte bVar19;
	undefined8 unaff_r17;
	int iVar20;
	byte *pbVar21;
	undefined8 unaff_r18;
	undefined8 unaff_r19;
	undefined8 unaff_r20;
	undefined8 unaff_r21;
	undefined8 unaff_r22;
	undefined8 unaff_r23;
	undefined8 unaff_r24;
	int iVar22;
	undefined8 unaff_r25;
	int iVar23;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_fffffb08;
	undefined in_stack_fffffb0f;
	undefined in_stack_fffffb1b;
	undefined4 in_stack_fffffb1c;
	undefined4 in_stack_fffffb20;
	undefined4 in_stack_fffffb24;
	undefined4 in_stack_fffffb28;
	undefined4 in_stack_fffffb2c;
	undefined4 in_stack_fffffb30;
	undefined4 in_stack_fffffb34;
	undefined auStack1224[128];
	int local_448[258];
	undefined4 local_40;
	undefined4 uStack60;
	undefined4 uStack56;
	undefined4 uStack52;
	undefined4 uStack48;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar5 = PTR_s__s__s_100f305c;
	puVar4 = PTR_s__s_of__s_100f3058;
	puVar3 = PTR_DAT_100f1940;
	uVar16 = (undefined)param_4;
	ppuVar7 = &toc;
	local_40 = (undefined4)((ulonglong)unaff_r16 >> 0x20);
	uStack60 = (undefined4)((ulonglong)unaff_r17 >> 0x20);
	uStack56 = (undefined4)((ulonglong)unaff_r18 >> 0x20);
	uStack52 = (undefined4)((ulonglong)unaff_r19 >> 0x20);
	uStack48 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	iVar11 = 0x10100684;
	uVar15 = ZEXT48(&PTR_DAT_100ff6c4);
	cVar14 = param_3;
	puVar17 = param_5;
	lVar8 = random(0x17, 4, param_3, uVar16, (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_fffffb08, in_stack_fffffb0f, in_stack_fffffb1b);
	iVar20 = (int)lVar8;
	lVar8 = random(0x17, 3, cVar14, uVar16, (char)puVar17, (char)param_6, (char)param_7, (char)param_8,
	    in_stack_fffffb08, in_stack_fffffb0f, in_stack_fffffb1b);
	iVar10 = (int)lVar8;
	if ((iVar20 != 0) && (iVar10 == 0)) {
		lVar8 = random(0x17, 2, cVar14, uVar16, (char)puVar17, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_fffffb08, in_stack_fffffb0f, in_stack_fffffb1b);
		if ((int)lVar8 == 0) {
			iVar20 = 0;
		} else {
			iVar10 = 1;
		}
	}
	iVar23 = -1;
	iVar22 = -1;
	bVar19 = 0;
	if ((param_5 == (undefined *)0x0) && (lVar8 = random(0, 3, cVar14, uVar16, (char)puVar17, (char)param_6, (char)param_7, (char)param_8, in_stack_fffffb08, in_stack_fffffb0f, in_stack_fffffb1b), (int)lVar8 != 0)) {
		param_5 = &DAT_00000001;
	}
	if (iVar20 == 0) {
		lVar13 = ZEXT48(register0x0000000c) - 0x448;
		iVar20 = 0;
		lVar18 = 0;
		lVar8 = 0;
		while (true) {
			param_6 = (int)lVar18;
			iVar2 = (int)uVar15;
			puVar17 = *(undefined **)(iVar2 + 4);
			if (puVar17 == (undefined *)0xffffffff)
				break;
			lVar12 = lVar8;
			iVar6 = iVar20;
			if ((((((param_4 & *(uint *)(iVar2 + 0x14)) != 0) && (lVar12 = lVar8, iVar6 = iVar20, param_2 <= *(char *)(iVar2 + 0x10))) && (lVar12 = lVar8, iVar6 = iVar20, *(char *)(iVar2 + 0x10) <= param_3)) && ((param_5 == (undefined *)0x0 || (lVar12 = lVar8, iVar6 = iVar20, *(int *)(iVar2 + 0x20) != 0)))) && ((param_4 != 0x100 || (lVar12 = lVar8, iVar6 = iVar20, puVar17 != &DAT_0000000f)))) {
				iVar1 = (int)lVar13;
				*(int *)(iVar1 + iVar20) = param_6;
				lVar12 = lVar8 + 1;
				iVar6 = iVar20 + 4;
				if (*(int *)(iVar2 + 0x1c) != 0) {
					*(int *)(iVar1 + iVar20 + 4) = param_6;
					lVar12 = lVar8 + 2;
					iVar6 = iVar20 + 8;
				}
			}
			iVar20 = iVar6;
			uVar15 = uVar15 + 0x30;
			lVar18 = lVar18 + 1;
			lVar8 = lVar12;
		}
		if ((int)lVar8 != 0) {
			lVar8 = random(0x17, lVar8, (char)lVar13, (char)uVar15, 0xff, (char)lVar18, (char)param_7,
			    (char)param_8, in_stack_fffffb08, in_stack_fffffb0f, in_stack_fffffb1b);
			iVar23 = local_448[(int)lVar8];
			iVar20 = iVar23 * 0x30;
			sprintf((int)auStack1224, puVar5, (&PTR_DAT_100ff6c4)[iVar23 * 0xc],
			    puVar3 + param_1 * 0x170 + 0x7d, puVar17, param_6, param_7, param_8, in_stack_fffffb08, in_stack_fffffb0f, in_stack_fffffb1c, in_stack_fffffb20, in_stack_fffffb24,
			    in_stack_fffffb28, in_stack_fffffb2c, in_stack_fffffb30, in_stack_fffffb34);
			strcpy((int)(puVar3 + param_1 * 0x170 + 0x7d), (int)auStack1224);
			(puVar3 + param_1 * 0x170)[0x3c] = 1;
			puVar17 = *(undefined **)(iVar20 + 0x100ff6e8);
			param_6 = *(int *)(iVar20 + 0x100ff6ec);
			param_7 = *(int *)(iVar20 + 0x100ff6f0);
			SaveItemPower(param_1, *(uint *)(iVar20 + 0x100ff6c8), (ulonglong) * (uint *)(iVar20 + 0x100ff6cc),
			    (ulonglong) * (uint *)(iVar20 + 0x100ff6d0), ZEXT48(puVar17), param_6, param_7,
			    (char)param_8, in_stack_fffffb08);
			(puVar3 + param_1 * 0x170)[0x14c] = (char)*(uint *)(iVar20 + 0x100ff6c8);
			bVar19 = *(byte *)(iVar20 + 0x100ff6dc);
		}
	}
	if (iVar10 != 0) {
		lVar8 = 0;
		lVar13 = ZEXT48(register0x0000000c) - 0x448;
		lVar18 = 0;
		while (true) {
			puVar17 = (undefined *)lVar18;
			if (*(int *)(iVar11 + 4) == -1)
				break;
			if (((((param_4 & *(uint *)(iVar11 + 0x14)) != 0) && (param_2 <= *(char *)(iVar11 + 0x10))) && ((*(char *)(iVar11 + 0x10) <= param_3 && ((bVar19 | *(byte *)(iVar11 + 0x18)) != 0x11))))
			    && ((param_5 == (undefined *)0x0 || (*(int *)(iVar11 + 0x20) != 0)))) {
				*(undefined **)(undefined4 *)lVar13 = puVar17;
				lVar13 = lVar13 + 4;
				lVar8 = lVar8 + 1;
			}
			iVar11 = iVar11 + 0x30;
			lVar18 = lVar18 + 1;
		}
		if ((int)lVar8 != 0) {
			lVar8 = random(0x17, lVar8, (char)lVar13, bVar19, (char)lVar18, (char)param_6, (char)param_7,
			    (char)param_8, in_stack_fffffb08, in_stack_fffffb0f, in_stack_fffffb1b);
			iVar22 = local_448[(int)lVar8];
			iVar10 = iVar22 * 0x30;
			sprintf((int)auStack1224, puVar4, puVar3 + param_1 * 0x170 + 0x7d,
			    *(undefined4 *)(iVar10 + 0x10100684), puVar17, param_6, param_7, param_8,
			    in_stack_fffffb08, in_stack_fffffb0f, in_stack_fffffb1c, in_stack_fffffb20,
			    in_stack_fffffb24, in_stack_fffffb28, in_stack_fffffb2c, in_stack_fffffb30,
			    in_stack_fffffb34);
			strcpy((int)(puVar3 + param_1 * 0x170 + 0x7d), (int)auStack1224);
			(puVar3 + param_1 * 0x170)[0x3c] = 1;
			puVar17 = *(undefined **)(iVar10 + 0x101006a8);
			param_6 = *(int *)(iVar10 + 0x101006ac);
			param_7 = *(int *)(iVar10 + 0x101006b0);
			SaveItemPower(param_1, *(uint *)(iVar10 + 0x10100688), (ulonglong) * (uint *)(iVar10 + 0x1010068c),
			    (ulonglong) * (uint *)(iVar10 + 0x10100690), ZEXT48(puVar17), param_6, param_7,
			    (char)param_8, in_stack_fffffb08);
			(puVar3 + param_1 * 0x170)[0x14d] = (char)*(uint *)(iVar10 + 0x10100688);
		}
	}
	pbVar21 = puVar3 + param_1 * 0x170 + 0x7d;
	uVar9 = control_WriteStringToBuffer(pbVar21);
	if ((int)uVar9 == 0) {
		strcpy((int)pbVar21,
		    (int)ppuVar7[*(int *)(puVar3 + param_1 * 0x170 + 0x168) * 0x13 + 0xe1b]);
		if (iVar23 != -1) {
			sprintf((int)auStack1224, puVar5, (&PTR_DAT_100ff6c4)[iVar23 * 0xc], pbVar21, puVar17, param_6, param_7, param_8, in_stack_fffffb08, in_stack_fffffb0f, in_stack_fffffb1c,
			    in_stack_fffffb20, in_stack_fffffb24, in_stack_fffffb28, in_stack_fffffb2c,
			    in_stack_fffffb30, in_stack_fffffb34);
			strcpy((int)pbVar21, (int)auStack1224);
		}
		if (iVar22 != -1) {
			sprintf((int)auStack1224, puVar4, pbVar21, *(undefined4 *)(iVar22 * 0x30 + 0x10100684),
			    puVar17, param_6, param_7, param_8, in_stack_fffffb08, in_stack_fffffb0f,
			    in_stack_fffffb1c, in_stack_fffffb20, in_stack_fffffb24, in_stack_fffffb28,
			    in_stack_fffffb2c, in_stack_fffffb30, in_stack_fffffb34);
			strcpy((int)pbVar21, (int)auStack1224);
		}
	}
	if ((iVar23 != -1) || (iVar22 != -1)) {
		CalcItemValue(param_1);
	}
	return;
}

void FUN_1004e8b4(undefined8 param_1, undefined4 param_2, undefined8 param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11)

{
	code *UNRECOVERED_JUMPTABLE;
	int iVar1;

	iVar1 = param_1._4_4_ * 0x170;
	if (PTR_DAT_100f1940[iVar1 + 0xbe] != '\x04') {
		if (0x19 < (int)param_3) {
			param_3 = 0x19;
		}
		if (*(uint *)(PTR_DAT_100f1940 + iVar1 + 8) < 0xe) {
			UNRECOVERED_JUMPTABLE = *(code **)(_DAT_100f304c + *(uint *)(PTR_DAT_100f1940 + iVar1 + 8) * 4);
			// WARNING: Could not recover jumptable at 0x1004e908. Too many branches
			// WARNING: Treating indirect jump as call
			(*UNRECOVERED_JUMPTABLE)(param_1._4_4_, UNRECOVERED_JUMPTABLE, param_3, param_4, param_5, PTR_DAT_100f1940, iVar1,
			    param_8);
			return;
		}
	}
	return;
}

void SetupItem(int param_1)

{
	byte bVar1;
	undefined *puVar2;
	undefined *puVar3;
	int iVar4;
	undefined *puVar5;

	iVar4 = _DAT_100f3048;
	puVar3 = PTR_DAT_100f1828;
	puVar2 = PTR_DAT_100f1824;
	puVar5 = PTR_DAT_100f1940 + param_1 * 0x170;
	bVar1 = PTR_DAT_100f1e00[*(int *)(puVar5 + 0xc0)];
	*(undefined4 *)(puVar5 + 0x18) = *(undefined4 *)(PTR_DAT_100f3064 + (uint)bVar1 * 4);
	*(uint *)(puVar5 + 0x1c) = (uint) * (byte *)(iVar4 + (uint)bVar1);
	*(undefined4 *)(puVar5 + 0x24) = 0x60;
	*(undefined4 *)(puVar5 + 0x28) = 0x10;
	*(undefined4 *)(puVar5 + 0x38) = 0;
	*(undefined4 *)(puVar5 + 0x34) = 0;
	if (puVar3[*(int *)puVar2 * 0x55ec + 0x5592] == '\0') {
		*(undefined4 *)(puVar5 + 0x20) = 1;
		*(undefined4 *)(puVar5 + 0x14) = 1;
		puVar5[0x30] = 0;
		return;
	}
	*(undefined4 *)(puVar5 + 0x20) = *(undefined4 *)(puVar5 + 0x1c);
	*(undefined4 *)(puVar5 + 0x14) = 0;
	puVar5[0x30] = 1;
	return;
}

longlong FUN_1004ea2c(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, char param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	char cVar1;
	char cVar2;
	ushort uVar3;
	uint uVar4;
	uint *puVar5;
	undefined *puVar6;
	ulonglong uVar7;
	longlong lVar8;
	int iVar9;
	longlong lVar10;
	ulonglong uVar11;
	longlong lVar12;
	undefined4 in_stack_fffff7c8;
	undefined in_stack_fffff7cf;
	undefined in_stack_fffff7db;
	uint local_808[514];

	puVar6 = PTR_DAT_100f187c;
	uVar11 = SEXT18(param_6);
	uVar7 = ZEXT48(&toc);
	uVar3 = *(ushort *)(*(int *)(PTR_DAT_100f187c + param_1 * 0xe8 + 0xe4) + 0x78);
	if ((uVar3 & 0x8000) == 0) {
		if ((uVar3 & 0x4000) == 0) {
			lVar8 = random(0x18, 100, param_3, param_4, param_5, param_6, param_7, param_8,
			    in_stack_fffff7c8, in_stack_fffff7cf, in_stack_fffff7db);
			if ((int)lVar8 < 0x29) {
				lVar8 = random(0x18, 100, param_3, param_4, param_5, (char)uVar11, param_7, param_8,
				    in_stack_fffff7c8, in_stack_fffff7cf, in_stack_fffff7db);
				if ((int)lVar8 < 0x1a) {
					cVar2 = puVar6[param_1 * 0xe8 + 0xc4];
					lVar10 = uVar7 + 0x3858;
					lVar8 = 0;
					cVar1 = **(char **)((int)uVar7 + -0x77f0);
					lVar12 = 0;
					while (puVar5 = (uint *)lVar10, *(char *)((int)puVar5 + 5) != -1) {
						uVar4 = *puVar5;
						uVar11 = (ulonglong)uVar4;
						if ((uVar4 == 2) && (*(char *)(puVar5 + 6) <= cVar2)) {
							iVar9 = (int)lVar8;
							lVar8 = lVar8 + 1;
							local_808[iVar9] = (uint)lVar12;
						}
						if ((uVar4 != 0) && (*(char *)(puVar5 + 6) <= cVar2)) {
							iVar9 = (int)lVar8;
							lVar8 = lVar8 + 1;
							local_808[iVar9] = (uint)lVar12;
						}
						if ((puVar5[0xf] == 0x20) && (cVar1 == '\x01')) {
							lVar8 = lVar8 + -1;
						}
						if ((puVar5[0xf] == 0x22) && (cVar1 == '\x01')) {
							lVar8 = lVar8 + -1;
						}
						lVar10 = lVar10 + 0x4c;
						lVar12 = lVar12 + 1;
					}
					lVar8 = random(0x18, lVar8, cVar2, (char)lVar10, cVar1, (char)uVar11, (char)lVar12, param_8, in_stack_fffff7c8, in_stack_fffff7cf, in_stack_fffff7db);
					lVar8 = (ulonglong)local_808[(int)lVar8] + 1;
				} else {
					lVar8 = 1;
				}
			} else {
				lVar8 = 0;
			}
		} else {
			lVar8 = 0;
		}
	} else {
		lVar8 = -((ulonglong)((uint)uVar3 & 0xfff) + 1);
	}
	return lVar8;
}

ulonglong FUN_1004eb9c(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	bool bVar1;
	byte bVar2;
	char cVar3;
	byte bVar4;
	char cVar5;
	int *piVar6;
	longlong lVar7;
	int iVar8;
	ulonglong uVar9;
	ulonglong uVar10;
	int iVar11;
	undefined4 in_stack_fffff7c8;
	undefined in_stack_fffff7cf;
	undefined1 in_stack_fffff7db;
	uint local_808[514];

	uVar9 = ZEXT48(PTR_DAT_100f187c);
	if (((param_1 == -1) || ((*(ushort *)(*(int *)(PTR_DAT_100f187c + param_1 * 0xe8 + 0xe4) + 0x78) & 0x8000) == 0)) || (*PTR_DAT_100f17e0 != '\x01')) {
		uVar10 = ZEXT48(&DAT_100fc828);
		bVar2 = *PTR_DAT_100f17ec;
		cVar3 = *PTR_DAT_100f17e0;
		cVar5 = PTR_DAT_100f187c[param_1 * 0xe8 + 0xc4];
		lVar7 = 0;
		iVar11 = 0;
		while (piVar6 = (int *)uVar10, *(char *)((int)piVar6 + 5) != -1) {
			bVar1 = *piVar6 != 0;
			if (param_1 == -1) {
				if ((int)((uint)bVar2 << 1) < (int)*(char *)(piVar6 + 6)) {
					bVar1 = false;
				}
			} else {
				if (cVar5 < *(char *)(piVar6 + 6)) {
					bVar1 = false;
				}
			}
			bVar4 = *(byte *)(piVar6 + 3);
			uVar9 = (ulonglong)bVar4;
			if (bVar4 == 0) {
				bVar1 = false;
			}
			if (bVar4 == 0xb) {
				bVar1 = false;
			}
			if (bVar4 == 0xe) {
				bVar1 = false;
			}
			if (piVar6[0xe] == 0x18) {
				bVar1 = true;
			}
			if ((piVar6[0xf] == 0x20) && (cVar3 == '\x01')) {
				bVar1 = false;
			}
			if ((piVar6[0xf] == 0x22) && (cVar3 == '\x01')) {
				bVar1 = false;
			}
			if (bVar1) {
				iVar8 = (int)lVar7;
				lVar7 = lVar7 + 1;
				*(int *)((int)(ZEXT48(register0x0000000c) - 0x808) + iVar8 * 4) = iVar11;
			}
			uVar10 = uVar10 + 0x4c;
			iVar11 = iVar11 + 1;
		}
		lVar7 = random(0x19, lVar7, (char)(ZEXT48(register0x0000000c) - 0x808), cVar5,
		    (char)((uint)bVar2 << 1), (char)uVar9, (char)uVar10, cVar3, in_stack_fffff7c8,
		    in_stack_fffff7cf, in_stack_fffff7db);
		uVar9 = (ulonglong)local_808[(int)lVar7];
	} else {
		uVar9 = -((ulonglong)((uint) * (ushort *)(*(int *)(PTR_DAT_100f187c + param_1 * 0xe8 + 0xe4) + 0x78) & 0xfff)
		    + 1);
	}
	return uVar9;
}

ulonglong FUN_1004ed24(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	char cVar1;
	int *piVar2;
	int iVar3;
	longlong lVar4;
	ulonglong uVar5;
	int iVar6;
	longlong lVar7;
	longlong lVar8;
	undefined4 in_stack_fffff7c8;
	undefined in_stack_fffff7cf;
	undefined in_stack_fffff7db;
	uint local_808[514];

	uVar5 = ZEXT48(&toc);
	lVar4 = random(0x1a, 100, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_fffff7c8,
	    in_stack_fffff7cf, in_stack_fffff7db);
	if ((int)lVar4 < 0x1a) {
		lVar4 = 0;
		lVar7 = uVar5 + 0x3858;
		lVar8 = 0;
		cVar1 = **(char **)((int)uVar5 + -0x77f0);
		iVar3 = (uint) * *(byte **)((int)uVar5 + -0x77e4) << 1;
		while (piVar2 = (int *)lVar7, *(char *)((int)piVar2 + 5) != -1) {
			if ((*piVar2 != 0) && ((int)*(char *)(piVar2 + 6) <= iVar3)) {
				iVar6 = (int)lVar4;
				lVar4 = lVar4 + 1;
				local_808[iVar6] = (uint)lVar8;
			}
			if ((piVar2[0xf] == 0x20) && (cVar1 == '\x01')) {
				lVar4 = lVar4 + -1;
			}
			if ((piVar2[0xf] == 0x22) && (cVar1 == '\x01')) {
				lVar4 = lVar4 + -1;
			}
			lVar7 = lVar7 + 0x4c;
			lVar8 = lVar8 + 1;
		}
		lVar4 = random(0x1a, lVar4, (char)iVar3, (char)lVar7, cVar1, (char)lVar8, param_7, param_8,
		    in_stack_fffff7c8, in_stack_fffff7cf, in_stack_fffff7db);
		uVar5 = (ulonglong)local_808[(int)lVar4];
	} else {
		uVar5 = 0;
	}
	return uVar5;
}

ulonglong FUN_1004ee04(char param_1, int param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, bool param_8,
    undefined4 param_9)

{
	byte bVar1;
	int *piVar2;
	ulonglong uVar3;
	longlong lVar4;
	int iVar5;
	longlong lVar6;
	undefined4 in_stack_fffff7c8;
	undefined in_stack_fffff7cf;
	undefined1 in_stack_fffff7db;
	uint local_808[514];

	lVar4 = 0;
	uVar3 = ZEXT48(&DAT_100fc828);
	lVar6 = 0;
	bVar1 = *PTR_DAT_100f17ec;
	while (piVar2 = (int *)uVar3, *(char *)((int)piVar2 + 5) != -1) {
		param_8 = param_1 == *(char *)(piVar2 + 3) && ((int)*(char *)(piVar2 + 6) <= (int)((uint)bVar1 << 1) && *piVar2 != 0);
		if ((param_2 != -1) && (param_2 != piVar2[0xe])) {
			param_8 = false;
		}
		if (param_8 != false) {
			iVar5 = (int)lVar4;
			lVar4 = lVar4 + 1;
			*(undefined4 *)((int)(ZEXT48(register0x0000000c) - 0x808) + iVar5 * 4) = (int)lVar6;
		}
		uVar3 = uVar3 + 0x4c;
		lVar6 = lVar6 + 1;
	}
	lVar4 = random(0x1b, lVar4, (char)(ZEXT48(register0x0000000c) - 0x808),
	    (char)((uint)bVar1 << 1), (char)uVar3, (char)lVar4, (char)lVar6, param_8,
	    in_stack_fffff7c8, in_stack_fffff7cf, in_stack_fffff7db);
	return (ulonglong)local_808[(int)lVar4];
}

int FUN_1004eed8(int param_1, char param_2, int param_3, int param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	char cVar1;
	char cVar2;
	char cVar3;
	uint uVar4;
	int iVar5;
	longlong lVar6;
	int iVar7;
	undefined uVar8;
	undefined uVar9;
	ulonglong uVar10;
	ulonglong uVar11;
	longlong lVar12;
	int iVar13;

	uVar9 = (undefined)param_4;
	uVar8 = (undefined)param_3;
	lVar12 = ZEXT48(register0x0000000c) - 0xd0;
	iVar5 = (int)lVar12;
	*(BADSPACEBASE **)iVar5 = register0x0000000c;
	lVar6 = random(0x1c, 100, uVar8, uVar9, param_5, param_6, param_7, param_8,
	    *(undefined4 *)(iVar5 + 8), *(undefined *)(iVar5 + 0xf),
	    *(undefined *)(iVar5 + 0x1b));
	if (param_3 < (int)lVar6) {
		iVar7 = -1;
	} else {
		iVar13 = 0;
		memset((char)lVar12 + '<', 0x80, uVar8, uVar9, param_5, param_6, param_7, param_8,
		    *(undefined *)(iVar5 + 0xb), *(undefined *)(iVar5 + 0xf), *(undefined4 *)(iVar5 + 0x14));
		uVar4 = *(uint *)(iVar5 + 0x14);
		lVar12 = ZEXT48(register0x0000000c) - 0x94;
		uVar10 = (ulonglong) * (uint *)(uVar4 - 0x718c);
		uVar11 = (ulonglong) * (uint *)(uVar4 - 0x7170);
		cVar1 = **(char **)(uVar4 - 0x77f0);
		cVar3 = *(char *)((int)((ulonglong)uVar4 + 0x3858) + *(int *)(*(int *)(uVar4 - 0x7690) + param_1 * 0x170 + 0x168) * 0x4c + 0xd);
		while (cVar2 = *(char *)((int)uVar10 + 4), cVar2 != -1) {
			if (((cVar2 == cVar3) && (*(char *)((int)uVar10 + 5) <= param_2)) && ((param_4 != 0 || ((*(int *)uVar11 == 0 || (cVar1 != '\x01')))))) {
				*(undefined *)lVar12 = 1;
				iVar13 = iVar13 + 1;
			}
			uVar10 = uVar10 + 0x54;
			uVar11 = uVar11 + 4;
			lVar12 = lVar12 + 1;
		}
		if (iVar13 == 0) {
			iVar7 = -1;
		} else {
			random(0x1d, 10, 0xff, (char)((ulonglong)uVar4 + 0x3858), (char)uVar10, (char)uVar11,
			    (char)lVar12, cVar1, *(undefined4 *)(iVar5 + 8), *(undefined *)(iVar5 + 0xf),
			    *(undefined *)(iVar5 + 0x1b));
			iVar7 = 0;
			while (0 < iVar13) {
				if (*(char *)(iVar5 + 0x3c + iVar7) != '\0') {
					iVar13 = iVar13 + -1;
				}
				if (0 < iVar13) {
					iVar7 = iVar7 + 1;
					if (iVar7 == 0x80) {
						iVar7 = 0;
					}
				}
			}
		}
	}
	return iVar7;
}

void FUN_1004f048(int param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	char *pcVar3;
	int iVar4;
	int *piVar5;
	int iVar6;
	undefined4 in_stack_ffffffa8;

	iVar1 = _DAT_100f1e44;
	puVar2 = PTR_DAT_100f1940;
	iVar6 = param_2 * 0x54;
	iVar4 = _DAT_100f1e44 + iVar6;
	*(undefined4 *)(PTR_DAT_100f1e60 + param_2 * 4) = 1;
	SaveItemPower(param_1, (int)*(char *)(iVar4 + 0xc), (ulonglong) * (uint *)(iVar4 + 0x10),
	    (ulonglong) * (uint *)(iVar4 + 0x14), 0, 0, 1, param_8, in_stack_ffffffa8);
	pcVar3 = (char *)(iVar4 + 6);
	if ('\x01' < *(char *)(iVar4 + 6)) {
		SaveItemPower(param_1, (int)*(char *)(iVar4 + 0x18), (ulonglong) * (uint *)(iVar4 + 0x1c),
		    (ulonglong) * (uint *)(iVar4 + 0x20), 0, 0, 1, param_8, in_stack_ffffffa8);
	}
	if ('\x02' < *pcVar3) {
		iVar4 = iVar1 + iVar6;
		SaveItemPower(param_1, (int)*(char *)(iVar4 + 0x24), (ulonglong) * (uint *)(iVar4 + 0x28),
		    (ulonglong) * (uint *)(iVar4 + 0x2c), 0, 0, 1, param_8, in_stack_ffffffa8);
	}
	if ('\x03' < *pcVar3) {
		iVar4 = iVar1 + iVar6;
		SaveItemPower(param_1, (int)*(char *)(iVar4 + 0x30), (ulonglong) * (uint *)(iVar4 + 0x34),
		    (ulonglong) * (uint *)(iVar4 + 0x38), 0, 0, 1, param_8, in_stack_ffffffa8);
	}
	if ('\x04' < *pcVar3) {
		iVar4 = iVar1 + iVar6;
		SaveItemPower(param_1, (int)*(char *)(iVar4 + 0x3c), (ulonglong) * (uint *)(iVar4 + 0x40),
		    (ulonglong) * (uint *)(iVar4 + 0x44), 0, 0, 1, param_8, in_stack_ffffffa8);
	}
	if ('\x05' < *pcVar3) {
		iVar4 = iVar1 + iVar6;
		SaveItemPower(param_1, (int)*(char *)(iVar4 + 0x48), (ulonglong) * (uint *)(iVar4 + 0x4c),
		    (ulonglong) * (uint *)(iVar4 + 0x50), 0, 0, 1, param_8, in_stack_ffffffa8);
	}
	piVar5 = (int *)(puVar2 + param_1 * 0x170);
	strcpy((int)((int)piVar5 + 0x7d), *(int *)(iVar1 + iVar6));
	piVar5[0x32] = *(int *)(iVar1 + iVar6 + 8);
	if (piVar5[0x37] == 0x1b) {
		*piVar5 = param_2;
	}
	puVar2 = puVar2 + param_1 * 0x170;
	*(int *)(puVar2 + 0x134) = param_2;
	puVar2[0x3c] = 2;
	*(ushort *)(puVar2 + 4) = *(ushort *)(puVar2 + 4) | 0x200;
	return;
}

void FUN_1004f218(int param_1, int param_2, int param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int iVar1;
	int iVar2;
	int iVar3;
	int iVar4;
	int iVar5;
	int iVar6;
	int *piVar7;
	int *piVar8;
	ulonglong uVar9;
	int iVar10;
	byte bVar11;
	undefined uVar12;
	undefined uVar13;
	longlong lVar14;
	undefined uVar15;
	undefined uVar16;
	undefined4 in_stack_ffffffb8;

	piVar8 = _DAT_100f1dec;
	piVar7 = _DAT_100f1ddc;
	uVar9 = ZEXT48(&toc);
	if (*_DAT_100f1dec < 0x7f) {
		iVar1 = *_DAT_100f1ddc;
		FUN_1004cf1c(param_2, param_3, (char)iVar1, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8);
		iVar2 = *piVar8;
		uVar16 = (undefined)iVar2;
		iVar6 = (int)uVar9;
		iVar3 = *(int *)(iVar6 + -0x71e0);
		uVar12 = (undefined)iVar3;
		iVar4 = *(int *)(iVar6 + -0x718c);
		lVar14 = uVar9 + 0x3858;
		iVar5 = piVar7[0x7e - iVar2];
		uVar13 = (undefined)iVar5;
		iVar10 = 0;
		*piVar7 = iVar5;
		*(int *)(iVar3 + iVar2 * 4) = iVar1;
		while (uVar15 = (undefined)lVar14,
		    *(char *)((int)lVar14 + 0xd) != *(char *)(iVar4 + param_1 * 0x54 + 4)) {
			lVar14 = lVar14 + 0x4c;
			iVar10 = iVar10 + 1;
		}
		bVar11 = **(byte **)(iVar6 + -0x77e4);
		GetItemAttrs(iVar1, iVar10, (ulonglong)bVar11, uVar12, uVar13, uVar15, uVar16, param_8,
		    in_stack_ffffffb8);
		FUN_1004f048(iVar1, param_1, bVar11, uVar12, uVar13, uVar15, uVar16, param_8, in_stack_ffffffb8);
		SetupItem(iVar1);
		*piVar8 = *piVar8 + 1;
	}
	return;
}

void FUN_1004f308(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int *piVar1;
	int *piVar2;
	int iVar3;
	longlong lVar4;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined1 in_stack_ffffffdb;

	piVar1 = (int *)(PTR_DAT_100f1940 + param_1 * 0x170 + 0xec);
	iVar3 = *piVar1;
	if ((iVar3 != 0) && (iVar3 != 0xff)) {
		piVar2 = (int *)(PTR_DAT_100f1940 + param_1 * 0x170 + 0xf0);
		lVar4 = random(0, (longlong)param_1 * 0x170 & 0xffffffff00000000U | (ulonglong)(uint)(*piVar2 >> 1), param_3, param_4, param_5, param_6, param_7,
		    param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffdb);
		*piVar1 = (*piVar2 >> 2) + (int)lVar4 + 1;
	}
	return;
}

void FUN_1004f37c(undefined8 param_1, int param_2, ulonglong param_3, undefined8 param_4,
    ulonglong param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	int iVar1;
	ushort *puVar2;
	int *piVar3;
	int iVar4;
	undefined *puVar5;
	longlong lVar6;
	int iVar7;
	undefined uVar8;
	undefined uVar9;
	char cVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	char cVar14;
	undefined uVar15;
	int iVar16;
	char cVar17;
	int iVar18;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined in_stack_ffffffab;
	undefined4 in_stack_ffffffac;

	puVar5 = PTR_DAT_100f1940;
	uVar11 = (undefined)param_5;
	iVar7 = (int)param_4;
	cVar10 = (char)param_4;
	uVar15 = (undefined)param_8;
	uVar12 = (undefined)param_6;
	iVar4 = (int)param_1;
	iVar1 = iVar4 * 0x170;
	iVar16 = (int)param_3;
	*(int *)(PTR_DAT_100f1940 + iVar1) = iVar16;
	uVar13 = uVar12;
	cVar14 = (char)param_7;
	SetRndSeed(iVar16);
	uVar9 = (undefined)(iVar7 >> 1);
	GetItemAttrs(iVar4, param_2, param_3 & 0xffffffff00000000 | (ulonglong)(uint)(iVar7 >> 1), cVar10,
	    uVar11, uVar13, cVar14, uVar15, in_stack_ffffff98);
	puVar2 = (ushort *)(puVar5 + iVar1 + 4);
	*puVar2 = (ushort)param_4;
	if (param_8 != 0) {
		*puVar2 = *puVar2 | 0x8000;
	}
	if (param_6 != 0) {
		*puVar2 = *puVar2 | 0x40;
	}
	iVar18 = (int)param_5;
	if (iVar18 == 0xf) {
		*puVar2 = *puVar2 | 0x80;
	} else {
		if (iVar18 == 1) {
			*puVar2 = *puVar2 | 0x100;
		}
	}
	piVar3 = (int *)(puVar5 + iVar1 + 0xdc);
	if (*piVar3 == 0x1b) {
		if (puVar5[iVar1 + 0xbd] != '\a') {
			FUN_1004f048(iVar4, iVar16, uVar9, cVar10, uVar11, uVar13, cVar14, uVar15, in_stack_ffffff98);
		}
	} else {
		uVar8 = 100;
		lVar6 = random(0x20, 100, uVar9, cVar10, uVar11, uVar13, cVar14, uVar15, in_stack_ffffff98,
		    in_stack_ffffff9f, in_stack_ffffffab);
		iVar16 = iVar7;
		if (10 < (int)lVar6) {
			uVar8 = 100;
			lVar6 = random(0x21, 100, uVar9, cVar10, uVar11, uVar13, cVar14, uVar15, in_stack_ffffff98,
			    in_stack_ffffff9f, in_stack_ffffffab);
			iVar16 = -1;
			if ((int)lVar6 <= iVar7) {
				iVar16 = iVar7;
			}
		}
		if ((iVar16 == -1) && (*piVar3 == 0x17)) {
			iVar16 = iVar7;
		}
		if ((iVar16 == -1) && (*piVar3 == 0x19)) {
			iVar16 = iVar7;
		}
		if ((iVar16 == -1) && (*piVar3 == 0x1a)) {
			iVar16 = iVar7;
		}
		if (param_6 != 0) {
			iVar16 = iVar7;
		}
		if (iVar18 == 0xf) {
			iVar16 = iVar7 + 4;
		}
		cVar17 = (char)iVar16;
		if (iVar16 != -1) {
			cVar10 = (char)param_7;
			iVar7 = FUN_1004eed8(iVar4, cVar17, iVar18, param_7, uVar11, uVar13, cVar14, uVar15, in_stack_ffffff98);
			uVar9 = (undefined)param_5;
			uVar8 = (undefined)iVar7;
			if (iVar7 == -1) {
				uVar9 = (undefined)(iVar16 >> 1);
				uVar8 = (char)param_2;
				cVar10 = cVar17;
				uVar11 = uVar12;
				FUN_1004e8b4(param_1, param_2, param_5 & 0xffffffff00000000 | (ulonglong)(uint)(iVar16 >> 1),
				    cVar17, uVar12, uVar13, cVar14, uVar15, in_stack_ffffff98, in_stack_ffffff9f,
				    in_stack_ffffffac);
			} else {
				FUN_1004f048(iVar4, iVar7, uVar9, cVar10, uVar11, uVar13, cVar14, uVar15, in_stack_ffffff98);
				*puVar2 = *puVar2 | 0x200;
			}
		}
		if (puVar5[iVar1 + 0x3c] != '\x02') {
			FUN_1004f308(iVar4, uVar8, uVar9, cVar10, uVar11, uVar13, cVar14, uVar15, in_stack_ffffff98);
		}
	}
	SetupItem(iVar4);
	return;
}

void FUN_1004f580(int param_1, int param_2, int param_3, int param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	char *pcVar1;
	uint uVar2;
	int iVar3;
	undefined *puVar4;
	uint uVar5;
	undefined *puVar6;
	uint *puVar7;
	int *piVar8;
	undefined **ppuVar9;
	ulonglong uVar10;
	longlong lVar11;
	ulonglong uVar12;
	undefined uVar13;
	undefined uVar14;
	undefined uVar15;
	undefined uVar16;
	int unaff_r24;
	int iVar17;
	int iVar18;
	undefined4 in_stack_ffffff98;

	piVar8 = _DAT_100f1dec;
	puVar7 = _DAT_100f1ddc;
	puVar6 = PTR_DAT_100f187c;
	uVar15 = (undefined)param_4;
	uVar13 = (undefined)param_2;
	ppuVar9 = &toc;
	iVar18 = param_1 * 0xe8;
	uVar16 = SUB41(PTR_DAT_100f19cc, 0);
	pcVar1 = PTR_DAT_100f187c + iVar18 + 0xc0;
	if ((*pcVar1 == '\0') && ((uVar13 = (undefined) * (int *)(PTR_DAT_100f187c + iVar18 + 0xe4), (*(ushort *)(*(int *)(PTR_DAT_100f187c + iVar18 + 0xe4) + 0x78) & 0x8000) == 0 || (uVar13 = SUB41(PTR_DAT_100f17e0, 0), *PTR_DAT_100f17e0 == '\x01')))) {
		if (PTR_DAT_100f19cc[0x1a] == '\x02') {
			uVar13 = (undefined)(ZEXT48(PTR_DAT_100f19cc) + 0x27);
			if (PTR_DAT_100f19cc[0x27] == '\x05') {
				*(undefined *)(ZEXT48(PTR_DAT_100f19cc) + 0x27) = 6;
				iVar17 = 0x12;
				goto LAB_1004f670;
			}
		}
		ppuVar9 = &toc;
		lVar11 = FUN_1004ea2c(param_1, uVar13, (char)param_3, uVar15, uVar16, param_6, param_7, param_8,
		    in_stack_ffffff98);
		iVar17 = (int)lVar11;
		if (iVar17 == 0) {
			return;
		}
		if (iVar17 < 1) {
			FUN_1004f218(-(iVar17 + 1), param_2, param_3, uVar15, uVar16, param_6, param_7, param_8,
			    in_stack_ffffff98);
			return;
		}
		iVar17 = iVar17 + -1;
		unaff_r24 = 0;
	} else {
		ppuVar9 = &toc;
		uVar10 = FUN_1004eb9c(param_1, uVar13, (char)param_3, uVar15, uVar16, param_6, param_7, param_8,
		    in_stack_ffffff98);
		iVar17 = (int)uVar10;
		if ((longlong)uVar10 < 0) {
			FUN_1004f218(-(iVar17 + 1), param_2, param_3, uVar15, uVar16, param_6, param_7, param_8,
			    in_stack_ffffff98);
			return;
		}
		unaff_r24 = 1;
	}
LAB_1004f670:
	if (*piVar8 < 0x7f) {
		uVar2 = *puVar7;
		uVar10 = (ulonglong)uVar2;
		FUN_1004cf1c(param_2, param_3, (char)uVar2, uVar15, uVar16, param_6, param_7, param_8, in_stack_ffffff98);
		iVar3 = *piVar8;
		puVar4 = ppuVar9[-0x1c78];
		uVar5 = puVar7[0x7e - iVar3];
		*puVar7 = uVar5;
		*(uint *)(puVar4 + iVar3 * 4) = uVar2;
		uVar14 = (undefined)uVar5;
		uVar13 = SUB41(puVar4, 0);
		if (*pcVar1 == '\0') {
			uVar12 = GetRndSeed(uVar13, uVar14, (char)iVar3, uVar15, uVar16, param_6, param_7, param_8,
			    in_stack_ffffff98);
			FUN_1004f37c(uVar10, iVar17, uVar12, (longlong) * (char *)(*(int *)(puVar6 + iVar18 + 0xe4) + 0x56), 1, unaff_r24, 0, 0, in_stack_ffffff98);
		} else {
			uVar12 = GetRndSeed(uVar13, uVar14, (char)iVar3, uVar15, uVar16, param_6, param_7, param_8,
			    in_stack_ffffff98);
			FUN_1004f37c(uVar10, iVar17, uVar12, (longlong) * (char *)(*(int *)(puVar6 + iVar18 + 0xe4) + 0x56), 0xf, unaff_r24, 0, 0, in_stack_ffffff98);
		}
		*piVar8 = *piVar8 + 1;
		if (param_4 != 0) {
			FUN_1007b364(0, uVar10);
		}
	}
	return;
}

void CreateItem(int param_1, int param_2, int param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int iVar1;
	int iVar2;
	int iVar3;
	int iVar4;
	int iVar5;
	int *piVar6;
	int *piVar7;
	ulonglong uVar8;
	int iVar9;
	int iVar10;
	byte bVar11;
	undefined uVar12;
	undefined uVar13;
	longlong lVar14;
	undefined uVar15;
	undefined uVar16;
	undefined4 in_stack_ffffffb8;

	piVar7 = _DAT_100f1dec;
	piVar6 = _DAT_100f1ddc;
	uVar8 = ZEXT48(&toc);
	if (*_DAT_100f1dec < 0x7f) {
		iVar1 = *_DAT_100f1ddc;
		FUN_1004cf1c(param_2, param_3, (char)iVar1, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8);
		iVar2 = *piVar7;
		uVar16 = (undefined)iVar2;
		iVar9 = (int)uVar8;
		iVar3 = *(int *)(iVar9 + -0x71e0);
		uVar12 = (undefined)iVar3;
		iVar4 = *(int *)(iVar9 + -0x718c);
		lVar14 = uVar8 + 0x3858;
		iVar5 = piVar6[0x7e - iVar2];
		uVar13 = (undefined)iVar5;
		iVar10 = 0;
		*piVar6 = iVar5;
		*(int *)(iVar3 + iVar2 * 4) = iVar1;
		while (uVar15 = (undefined)lVar14,
		    *(char *)((int)lVar14 + 0xd) != *(char *)(iVar4 + param_1 * 0x54 + 4)) {
			lVar14 = lVar14 + 0x4c;
			iVar10 = iVar10 + 1;
		}
		bVar11 = **(byte **)(iVar9 + -0x77e4);
		GetItemAttrs(iVar1, iVar10, (ulonglong)bVar11, uVar12, uVar13, uVar15, uVar16, param_8,
		    in_stack_ffffffb8);
		FUN_1004f048(iVar1, param_1, bVar11, uVar12, uVar13, uVar15, uVar16, param_8, in_stack_ffffffb8);
		SetupItem(iVar1);
		*(undefined *)(*(int *)(iVar9 + -0x7690) + iVar1 * 0x170 + 0x3c) = 2;
		*piVar7 = *piVar7 + 1;
	}
	return;
}

void FUN_1004f860(int param_1, int param_2, longlong param_3, int param_4, int param_5, undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	uint uVar1;
	int iVar2;
	undefined *puVar3;
	uint uVar4;
	uint *puVar5;
	int *piVar6;
	undefined **ppuVar7;
	ulonglong uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined4 in_stack_ffffffa8;

	piVar6 = _DAT_100f1dec;
	puVar5 = _DAT_100f1ddc;
	uVar10 = (undefined)param_5;
	uVar9 = (undefined)param_4;
	ppuVar7 = &toc;
	if (param_3 == 0) {
		uVar8 = FUN_1004ed24((char)param_1, (char)param_2, (char)param_3, uVar9, uVar10, param_6, param_7,
		    param_8, in_stack_ffffffa8);
		uVar8._4_4_ = (int)uVar8;
	} else {
		uVar8 = FUN_1004eb9c(-1, (char)param_2, (char)param_3, uVar9, uVar10, param_6, param_7, param_8,
		    in_stack_ffffffa8);
		uVar8._4_4_ = (int)uVar8;
	}
	if (*piVar6 < 0x7f) {
		uVar1 = *puVar5;
		FUN_1004cf1c(param_1, param_2, (char)uVar1, uVar9, uVar10, param_6, param_7, param_8, in_stack_ffffffa8);
		iVar2 = *piVar6;
		puVar3 = ppuVar7[-0x1c78];
		uVar4 = puVar5[0x7e - iVar2];
		*puVar5 = uVar4;
		*(uint *)(puVar3 + iVar2 * 4) = uVar1;
		uVar8 = GetRndSeed((char)puVar3, (char)uVar4, (char)iVar2, uVar9, uVar10, param_6, param_7, param_8,
		    in_stack_ffffffa8);
		FUN_1004f37c((ulonglong)uVar1, uVar8._4_4_, uVar8, (ulonglong)(byte)*ppuVar7[-0x1df9] << 1, 1,
		    (int)param_3, 0, param_5, in_stack_ffffffa8);
		if (param_4 != 0) {
			FUN_1007b364(0, (ulonglong)uVar1);
		}
		if (param_5 != 0) {
			FUN_1007a03c(uVar1);
		}
		*piVar6 = *piVar6 + 1;
	}
	return;
}

void FUN_1004f95c(int param_1, undefined4 param_2, longlong param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	longlong lVar2;
	undefined uVar3;
	int iVar4;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined in_stack_ffffffcb;

	puVar1 = PTR_DAT_100f1940;
	uVar3 = (undefined)param_3;
	*(undefined4 *)(PTR_DAT_100f1940 + param_1 * 0x170) = param_2;
	SetRndSeed(param_2);
	lVar2 = random(0x22, 2, uVar3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8,
	    in_stack_ffffffbf, in_stack_ffffffcb);
	if ((int)lVar2 == 0) {
		iVar4 = 0x19;
	} else {
		iVar4 = 0x18;
	}
	if ((1 < (int)param_3) && (lVar2 = random(0x22, 3, uVar3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb), (int)lVar2 == 0)) {
		iVar4 = 0x1b;
	}
	GetItemAttrs(param_1, iVar4, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	*(short *)(puVar1 + param_1 * 0x170 + 4) = (short)param_3 + 0x180;
	SetupItem(param_1);
	return;
}

void FUN_1004fa00(undefined4 param_1, int param_2, int param_3, int param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9,
    undefined param_10, undefined4 param_11)

{
	uint uVar1;
	int iVar2;
	undefined *puVar3;
	uint uVar4;
	uint *puVar5;
	int *piVar6;
	undefined **ppuVar7;
	undefined4 uVar8;
	undefined uVar9;
	undefined4 in_stack_ffffffb8;

	piVar6 = _DAT_100f1dec;
	puVar5 = _DAT_100f1ddc;
	uVar9 = (undefined)param_4;
	ppuVar7 = &toc;
	if (*_DAT_100f1dec < 0x7f) {
		uVar1 = *_DAT_100f1ddc;
		FUN_1004cf1c(param_2, param_3, (char)uVar1, uVar9, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
		iVar2 = *piVar6;
		puVar3 = ppuVar7[-0x1c78];
		uVar4 = puVar5[0x7e - iVar2];
		*puVar5 = uVar4;
		*(uint *)(puVar3 + iVar2 * 4) = uVar1;
		uVar8 = GetRndSeed((char)puVar3, (char)uVar4, (char)iVar2, uVar9, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8);
		FUN_1004f95c(uVar1, uVar8, (ulonglong)(byte)*ppuVar7[-0x1df9], uVar9, param_5, param_6, param_7,
		    param_8, in_stack_ffffffb8);
		if (param_4 != 0) {
			FUN_1007b364(0, (ulonglong)uVar1);
		}
		*piVar6 = *piVar6 + 1;
	}
	return;
}

void FUN_1004fac4(int param_1, int param_2, int param_3, undefined8 param_4, int param_5, int param_6,
    int param_7, undefined param_8, undefined4 param_9)

{
	uint uVar1;
	int iVar2;
	undefined *puVar3;
	uint uVar4;
	uint *puVar5;
	int *piVar6;
	undefined **ppuVar7;
	ulonglong uVar8;
	char cVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined4 in_stack_ffffffa8;

	piVar6 = _DAT_100f1dec;
	puVar5 = _DAT_100f1ddc;
	cVar9 = (char)param_4;
	uVar12 = (undefined)param_7;
	uVar11 = (undefined)param_6;
	uVar10 = (undefined)param_5;
	ppuVar7 = &toc;
	if ((int)param_4 == 0xb) {
		uVar8._4_4_ = 0;
	} else {
		ppuVar7 = &toc;
		uVar8 = FUN_1004ee04(cVar9, param_5, (char)param_3, cVar9, uVar10, uVar11, uVar12, param_8,
		    in_stack_ffffffa8);
		uVar8._4_4_ = (int)uVar8;
	}
	if (*piVar6 < 0x7f) {
		uVar1 = *puVar5;
		FUN_1004cf1c(param_1, param_2, (char)uVar1, cVar9, uVar10, uVar11, uVar12, param_8, in_stack_ffffffa8);
		iVar2 = *piVar6;
		puVar3 = ppuVar7[-0x1c78];
		uVar4 = puVar5[0x7e - iVar2];
		*puVar5 = uVar4;
		*(uint *)(puVar3 + iVar2 * 4) = uVar1;
		uVar8 = GetRndSeed((char)puVar3, (char)uVar4, (char)iVar2, cVar9, uVar10, uVar11, uVar12, param_8,
		    in_stack_ffffffa8);
		FUN_1004f37c((ulonglong)uVar1, uVar8._4_4_, uVar8, (ulonglong)(byte)*ppuVar7[-0x1df9] << 1, 1,
		    param_3, 0, param_7, in_stack_ffffffa8);
		if (param_6 != 0) {
			FUN_1007b364(0, (ulonglong)uVar1);
		}
		if (param_7 != 0) {
			FUN_1007a03c(uVar1);
		}
		*piVar6 = *piVar6 + 1;
	}
	return;
}

void FUN_1004fbc4(undefined8 param_1, int param_2, ulonglong param_3, ulonglong param_4, int param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int iVar1;
	undefined4 *puVar2;
	undefined uVar3;
	undefined uVar5;
	ulonglong uVar4;
	undefined uVar6;
	uint uVar7;
	undefined4 uVar8;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffd8;

	uVar3 = (undefined)param_3;
	uVar6 = SUB41(PTR_DAT_100f1940, 0);
	uVar8 = (undefined4)param_4;
	uVar5 = (undefined)param_5;
	iVar1 = (int)param_1;
	if (param_2 == 0) {
		puVar2 = (undefined4 *)(PTR_DAT_100f1940 + iVar1 * 0x170);
		SetPlrHandItem((int)puVar2, 0, uVar3, (char)param_4, uVar5, uVar6, param_7, param_8, in_stack_ffffffb8);
		*puVar2 = uVar8;
		*(short *)(puVar2 + 1) = (short)param_3;
		puVar2[0x31] = param_5;
		if ((int)puVar2[0x31] < 0x9c4) {
			if (param_5 < 0x3e9) {
				puVar2[0x30] = 4;
			} else {
				puVar2[0x30] = 5;
			}
		} else {
			puVar2[0x30] = 6;
		}
	} else {
		uVar7 = (uint)param_3;
		if ((param_3 & 0xffff) == 0) {
			puVar2 = (undefined4 *)(PTR_DAT_100f1940 + iVar1 * 0x170);
			SetPlrHandItem((int)puVar2, param_2, uVar3, uVar3, uVar5, uVar6, param_7, param_8, in_stack_ffffffb8);
			FUN_1004c8c8(puVar2, uVar8);
		} else {
			if ((param_3 & 0x7c00) == 0) {
				if ((uVar7 & 0x180) == 0x180) {
					FUN_1004f95c(iVar1, uVar8, (ulonglong)(uVar7 & 0x3f), uVar3, uVar5, uVar6, param_7, param_8,
					    in_stack_ffffffb8);
				} else {
					uVar4 = (ulonglong)((param_3 & 0x100) != 0);
					if ((param_3 & 0x80) != 0) {
						uVar4 = 0xf;
					}
					FUN_1004f37c(param_1, param_2, param_4, (ulonglong)(uVar7 & 0x3f), uVar4,
					    (uint)((param_3 & 0x40) != 0), (uint)((param_3 & 0x200) != 0),
					    (uint)((param_3 & 0x8000) != 0), in_stack_ffffffb8);
				}
			} else {
				FUN_10053b4c(param_1, param_2, uVar7, uVar8, param_5, uVar6, param_7, param_8, in_stack_ffffffb8,
				    in_stack_ffffffbf, in_stack_ffffffd8);
			}
		}
	}
	return;
}

void FUN_1004fd24(int param_1, undefined8 param_2, undefined4 param_3, undefined4 param_4,
    undefined4 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9, undefined param_10, uint param_11, uint param_12)

{
	undefined *puVar1;
	uint uVar2;
	uint uVar3;
	uint uVar4;
	uint uVar5;
	undefined *puVar6;
	undefined **ppuVar7;
	undefined4 *puVar8;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;

	puVar6 = PTR_DAT_100f191c;
	ppuVar7 = &toc;
	puVar8 = (undefined4 *)(PTR_DAT_100f1940 + param_1 * 0x170);
	SetPlrHandItem((int)puVar8, 0x17, (byte)param_3, (byte)param_4, (byte)param_5, (byte)param_6,
	    (byte)param_7, (byte)param_8, in_stack_ffffff98);
	puVar1 = ppuVar7[-0x17e3];
	*puVar6 = (byte)((ulonglong)param_2 >> 8) & 0x7f;
	puVar6[1] = (byte)param_2 & 0x7f;
	puVar6[2] = (byte)((uint)param_3 >> 0x18) & 0x7f;
	puVar6[3] = (byte)((uint)param_3 >> 0x10) & 0x7f;
	puVar6[4] = (byte)((uint)param_3 >> 8) & 0x7f;
	puVar6[5] = (byte)param_3 & 0x7f;
	uVar2 = param_11 >> 8 & 0x7f;
	puVar6[6] = (byte)param_4 & 0x7f;
	uVar3 = param_12 >> 0x18 & 0x7f;
	uVar4 = param_12 >> 0x10 & 0x7f;
	puVar6[7] = (byte)param_5 & 0x7f;
	uVar5 = param_12 >> 8 & 0x7f;
	puVar6[8] = (byte)param_6 & 0x7f;
	puVar6[9] = (byte)param_7 & 0x7f;
	puVar6[10] = (byte)param_8 & 0x7f;
	puVar6[0xb] = (char)uVar2;
	puVar6[0xc] = (char)uVar3;
	puVar6[0xd] = (char)uVar4;
	puVar6[0xe] = (char)uVar5;
	puVar6[0xf] = (char)(param_12 & 0x7f);
	puVar6[0x10] = 0;
	sprintf((int)((int)puVar8 + 0x3d), puVar1, puVar6, param_12 & 0x7f, uVar5, uVar4, uVar3, uVar2,
	    in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffac, in_stack_ffffffb0,
	    in_stack_ffffffb4, in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0,
	    in_stack_ffffffc4);
	puVar8[0x30] = (param_11 >> 6 & 3) + 0x13;
	puVar8[0x31] = param_11 & 0x3f;
	*(short *)(puVar8 + 1) = (short)param_2;
	*puVar8 = param_3;
	return;
}

void SpawnQuestItem(int param_1, int param_2, int param_3, longlong param_4, undefined8 param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	int *piVar2;
	byte *pbVar3;
	int *piVar4;
	int *piVar5;
	uint uVar6;
	ulonglong uVar7;
	undefined **ppuVar8;
	longlong lVar9;
	undefined8 uVar10;
	longlong lVar11;
	undefined8 uVar12;
	char cVar13;
	longlong lVar14;
	longlong lVar15;
	longlong lVar16;
	longlong lVar17;
	int iVar18;
	int iVar19;
	int iVar20;
	undefined *puVar21;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined in_stack_ffffffab;

	piVar5 = _DAT_100f1dec;
	piVar4 = _DAT_100f1ddc;
	puVar21 = PTR_DAT_100f1940;
	lVar16 = (longlong)param_8;
	lVar15 = (longlong)param_7;
	lVar14 = (longlong)param_6;
	lVar11 = (longlong)param_3;
	uVar7 = ZEXT48(&toc);
	ppuVar8 = &toc;
	if (param_4 != 0) {
		iVar18 = 0;
		uVar12 = param_5;
		lVar17 = param_4;
		do {
			iVar18 = iVar18 + 1;
			if ((1000 < iVar18) && (1 < (int)lVar17)) {
				lVar17 = lVar17 + -1;
			}
			lVar9 = random(0, 0x70, (char)lVar11, (char)param_4, (char)uVar12, (char)lVar14, (char)lVar15,
			    (char)lVar16, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
			param_2 = (int)lVar9;
			lVar9 = random(0, 0x70, (char)lVar11, (char)param_4, (char)uVar12, (char)lVar14, (char)lVar15,
			    (char)lVar16, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
			param_3 = (int)lVar9;
			uVar6 = 0;
			iVar20 = 0;
			while (true) {
				param_8 = (char)lVar16;
				param_7 = (char)lVar15;
				param_6 = (char)lVar14;
				ppuVar8 = (undefined **)uVar7;
				if (((int)lVar17 <= iVar20) || (uVar6 != 0))
					break;
				iVar19 = 0;
				while ((iVar19 < (int)lVar17 && (uVar6 == 0))) {
					uVar10 = ItemSpaceOk(param_2 + iVar20, param_3 + iVar19);
					uVar10 = countLeadingZeros((int)uVar10);
					iVar19 = iVar19 + 1;
					uVar6 = (uint)uVar10 >> 5 & 0xff;
				}
				iVar20 = iVar20 + 1;
			}
		} while (uVar6 != 0);
	}
	iVar18 = *piVar5;
	if (iVar18 < 0x7f) {
		iVar20 = *piVar4;
		puVar1 = ppuVar8[-0x1c78];
		piVar2 = (int *)ppuVar8[-0x1da3];
		cVar13 = (char)iVar20 + '\x01';
		*piVar4 = piVar4[0x7e - iVar18];
		*(int *)(puVar1 + iVar18 * 4) = iVar20;
		puVar21 = puVar21 + iVar20 * 0x170;
		pbVar3 = ppuVar8[-0x1df9];
		*(int *)(puVar21 + 0xc) = param_2;
		*(int *)(puVar21 + 0x10) = param_3;
		iVar18 = *piVar2;
		*(char *)(iVar18 + param_2 * 0x70 + param_3) = cVar13;
		GetItemAttrs(iVar20, param_1, (ulonglong)*pbVar3, (char)iVar18, cVar13, param_6, param_7, param_8,
		    in_stack_ffffff98);
		SetupItem(iVar20);
		*(undefined4 *)(puVar21 + 0x34) = 1;
		if ((int)param_5 != 0) {
			puVar21[0x30] = (char)param_5;
			*(undefined4 *)(puVar21 + 0x20) = *(undefined4 *)(puVar21 + 0x1c);
			*(undefined4 *)(puVar21 + 0x14) = 0;
		}
		*piVar5 = *piVar5 + 1;
	}
	return;
}

void SpawnRock(void)

{
	int iVar1;
	int iVar2;
	int iVar3;
	int iVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	int *piVar8;
	undefined8 uVar9;
	uint uVar10;
	int *piVar11;
	int in_r7;
	char cVar12;
	int iVar13;
	undefined *puVar14;
	undefined *puVar15;
	undefined4 in_stack_ffffffb8;

	iVar2 = _DAT_100f1df0;
	piVar8 = _DAT_100f1dec;
	puVar7 = PTR_DAT_100f1944;
	puVar6 = PTR_DAT_100f1940;
	puVar5 = PTR_DAT_100f17ec;
	iVar13 = 0;
	uVar10 = 0;
	piVar11 = (int *)PTR_DAT_100f1e40;
	while ((iVar13 < *(int *)PTR_DAT_100f1e3c && (uVar10 == 0))) {
		in_r7 = *piVar11;
		piVar11 = piVar11 + 1;
		iVar13 = iVar13 + 1;
		uVar9 = countLeadingZeros(0x17 - *(int *)(PTR_DAT_100f1948 + in_r7 * 0x78));
		uVar10 = (uint)uVar9 >> 5 & 0xff;
	}
	if (uVar10 != 0) {
		iVar13 = *_DAT_100f1dec;
		iVar1 = *_DAT_100f1ddc;
		puVar14 = PTR_DAT_100f1948 + in_r7 * 0x78;
		cVar12 = (char)iVar1 + '\x01';
		*_DAT_100f1ddc = _DAT_100f1ddc[0x7e - iVar13];
		*(int *)(iVar2 + iVar13 * 4) = iVar1;
		puVar15 = puVar6 + iVar1 * 0x170;
		iVar2 = *(int *)(puVar14 + 4);
		*(int *)(puVar15 + 0xc) = iVar2;
		iVar3 = *(int *)(puVar14 + 8);
		*(int *)(puVar15 + 0x10) = iVar3;
		iVar4 = *(int *)puVar7;
		*(char *)(iVar4 + iVar2 * 0x70 + iVar3) = cVar12;
		GetItemAttrs(iVar1, 9, (ulonglong)(byte)*puVar5, (char)iVar4, cVar12, (char)iVar3, (char)puVar6,
		    (char)iVar13, in_stack_ffffffb8);
		SetupItem(iVar1);
		puVar15[0x30] = 2;
		*(undefined4 *)(puVar15 + 0x34) = 1;
		*(undefined4 *)(puVar15 + 0x20) = 0xb;
		*piVar8 = *piVar8 + 1;
	}
	return;
}

void RespawnItem(longlong param_1, int param_2, undefined param_3, undefined param_4, undefined param_5, undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	byte bVar1;
	uint uVar2;
	int *piVar3;
	undefined *puVar4;
	int iVar5;
	int iVar6;
	int iVar7;
	undefined *puVar8;
	int iVar9;
	longlong lVar10;
	undefined4 in_stack_ffffffb8;

	iVar9 = _DAT_100f3048;
	puVar8 = PTR_DAT_100f1940;
	lVar10 = ZEXT48(PTR_DAT_100f1940) + param_1 * 0x170;
	iVar7 = (int)(param_1 * 0x170);
	piVar3 = (int *)(PTR_DAT_100f1940 + iVar7 + 0xc0);
	iVar5 = (int)lVar10;
	bVar1 = PTR_DAT_100f1e00[*piVar3];
	iVar6 = (uint)bVar1 * 4;
	uVar2 = *(uint *)(PTR_DAT_100f3064 + iVar6);
	*(uint *)(iVar5 + 0x18) = uVar2;
	*(uint *)(iVar5 + 0x1c) = (uint) * (byte *)(iVar9 + (uint)bVar1);
	*(undefined4 *)(iVar5 + 0x24) = 0x60;
	*(undefined4 *)(iVar5 + 0x28) = 0x10;
	*(undefined4 *)(iVar5 + 0x34) = 0;
	*(undefined *)(iVar5 + 0x131) = 0;
	if (param_2 == 0) {
		*(undefined4 *)(iVar5 + 0x20) = *(undefined4 *)(iVar5 + 0x1c);
		*(undefined4 *)(iVar5 + 0x14) = 0;
		*(undefined *)(iVar5 + 0x30) = 1;
	} else {
		*(undefined4 *)(iVar5 + 0x20) = 1;
		*(undefined4 *)(iVar5 + 0x14) = 1;
		*(undefined *)(iVar5 + 0x30) = 0;
	}
	iVar9 = _DAT_100f3040;
	if (*piVar3 == 0x4c) {
		puVar4 = puVar8 + iVar7;
		puVar4[0x30] = 1;
		PlaySfxLoc((ulonglong) * (uint *)(iVar9 + iVar6), (ulonglong) * (uint *)(puVar4 + 0xc),
		    (ulonglong) * (uint *)(puVar4 + 0x10), lVar10, (ulonglong)uVar2, iVar6,
		    (undefined4 *)(iVar5 + 0x1c), (uint)bVar1, in_stack_ffffffb8);
	}
	if (*piVar3 == 0x7e) {
		puVar8[iVar7 + 0x30] = 1;
	}
	if (*piVar3 == 0x8c) {
		puVar8[iVar7 + 0x30] = 1;
	}
	return;
}

void DeleteItem(undefined4 param_1, int param_2)

{
	int iVar1;
	int *piVar2;
	int iVar3;

	iVar3 = _DAT_100f1df0;
	piVar2 = _DAT_100f1dec;
	*(undefined4 *)(_DAT_100f1ddc + (0x7f - *_DAT_100f1dec) * 4) = param_1;
	*piVar2 = *piVar2 + -1;
	iVar1 = *piVar2;
	if (iVar1 < 1) {
		return;
	}
	if (param_2 == iVar1) {
		return;
	}
	*(undefined4 *)(iVar3 + param_2 * 4) = *(undefined4 *)(iVar3 + iVar1 * 4);
	return;
}

void ItemDoppel(void)

{
	char cVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	int iVar5;
	char *pcVar6;
	int iVar7;
	longlong lVar8;

	puVar4 = PTR_DAT_100f1e38;
	puVar3 = PTR_DAT_100f1944;
	puVar2 = PTR_DAT_100f1940;
	if (*PTR_DAT_100f17e0 == '\x01') {
		return;
	}
	lVar8 = 0x10;
	iVar7 = 0x10;
	iVar5 = 0x700;
	do {
		pcVar6 = (char *)(*(int *)puVar3 + iVar5 + *(int *)puVar4);
		cVar1 = *pcVar6;
		if (cVar1 != '\0') {
			if (*(int *)(puVar2 + ((int)cVar1 + -1) * 0x170 + 0xc) == iVar7) {
				if (*(int *)(puVar2 + ((int)cVar1 + -1) * 0x170 + 0x10) == *(int *)puVar4)
					goto LAB_100502d0;
			}
			*pcVar6 = '\0';
		}
	LAB_100502d0:
		pcVar6 = (char *)(*(int *)puVar3 + iVar5 + 0x70 + *(int *)puVar4);
		cVar1 = *pcVar6;
		if (cVar1 != '\0') {
			if (*(int *)(puVar2 + ((int)cVar1 + -1) * 0x170 + 0xc) == iVar7 + 1) {
				if (*(int *)(puVar2 + ((int)cVar1 + -1) * 0x170 + 0x10) == *(int *)puVar4)
					goto LAB_10050320;
			}
			*pcVar6 = '\0';
		}
	LAB_10050320:
		pcVar6 = (char *)(*(int *)puVar3 + iVar5 + 0xe0 + *(int *)puVar4);
		cVar1 = *pcVar6;
		if (cVar1 != '\0') {
			if (*(int *)(puVar2 + ((int)cVar1 + -1) * 0x170 + 0xc) == iVar7 + 2) {
				if (*(int *)(puVar2 + ((int)cVar1 + -1) * 0x170 + 0x10) == *(int *)puVar4)
					goto LAB_10050370;
			}
			*pcVar6 = '\0';
		}
	LAB_10050370:
		pcVar6 = (char *)(*(int *)puVar3 + iVar5 + 0x150 + *(int *)puVar4);
		cVar1 = *pcVar6;
		if (cVar1 != '\0') {
			if (*(int *)(puVar2 + ((int)cVar1 + -1) * 0x170 + 0xc) == iVar7 + 3) {
				if (*(int *)(puVar2 + ((int)cVar1 + -1) * 0x170 + 0x10) == *(int *)puVar4)
					goto LAB_100503c0;
			}
			*pcVar6 = '\0';
		}
	LAB_100503c0:
		pcVar6 = (char *)(*(int *)puVar3 + iVar5 + 0x1c0 + *(int *)puVar4);
		cVar1 = *pcVar6;
		if (cVar1 != '\0') {
			if (*(int *)(puVar2 + ((int)cVar1 + -1) * 0x170 + 0xc) == iVar7 + 4) {
				if (*(int *)(puVar2 + ((int)cVar1 + -1) * 0x170 + 0x10) == *(int *)puVar4)
					goto LAB_10050410;
			}
			*pcVar6 = '\0';
		}
	LAB_10050410:
		iVar5 = iVar5 + 0x230;
		iVar7 = iVar7 + 5;
		lVar8 = lVar8 + -1;
		if (lVar8 == 0) {
			*(int *)puVar4 = *(int *)puVar4 + 1;
			if (*(int *)puVar4 != 0x60) {
				return;
			}
			*(undefined4 *)puVar4 = 0x10;
			return;
		}
	} while (true);
}

void ProcessItems(void)

{
	undefined *puVar1;
	int *piVar2;
	undefined *puVar3;
	int iVar4;
	undefined8 in_r6;
	undefined8 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined *puVar5;
	int iVar6;
	int *piVar7;
	int *piVar8;
	undefined4 in_stack_ffffffa8;

	iVar4 = _DAT_100f3040;
	puVar3 = PTR_DAT_100f1e00;
	piVar2 = _DAT_100f1dec;
	puVar1 = PTR_DAT_100f1940;
	iVar6 = 0;
	piVar8 = _DAT_100f1df0;
	while (iVar6 < *piVar2) {
		if (*(int *)(puVar1 + *piVar8 * 0x170 + 0x14) != 0) {
			puVar5 = puVar1 + *piVar8 * 0x170;
			piVar7 = (int *)(puVar5 + 0x20);
			*(int *)(puVar5 + 0x20) = *(int *)(puVar5 + 0x20) + 1;
			if (*(int *)(puVar5 + 0xc0) == 0x4c) {
				if ((puVar5[0x30] == '\x01') && (*piVar7 == 0xb)) {
					*piVar7 = 1;
				}
				if ((puVar5[0x30] == '\x02') && (*piVar7 == 0x15)) {
					*piVar7 = 0xb;
				}
			} else {
				if (*piVar7 == *(int *)(puVar5 + 0x1c) >> 1) {
					PlaySfxLoc((ulonglong) * (uint *)(iVar4 + (uint)(byte)puVar3[*(int *)(puVar5 + 0xc0)] * 4), (ulonglong) * (uint *)(puVar5 + 0xc), (ulonglong) * (uint *)(puVar5 + 0x10), in_r6, in_r7, in_r8, in_r9, in_r10, in_stack_ffffffa8);
				}
				if (*(int *)(puVar5 + 0x1c) <= *piVar7) {
					*piVar7 = *(int *)(puVar5 + 0x1c);
					*(undefined4 *)(puVar5 + 0x14) = 0;
					puVar5[0x30] = 1;
				}
			}
		}
		piVar8 = piVar8 + 1;
		iVar6 = iVar6 + 1;
	}
	ItemDoppel();
	return;
}

void FreeItemGFX(undefined param_1, char param_2, char param_3, char param_4, char param_5, char param_6, char param_7, char param_8, undefined4 param_9)

{
	longlong lVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	int iVar8;
	int **ppiVar9;
	undefined4 in_stack_ffffffc8;

	lVar7 = (longlong)param_8;
	lVar6 = (longlong)param_7;
	lVar5 = (longlong)param_6;
	lVar4 = (longlong)param_5;
	lVar3 = (longlong)param_4;
	lVar2 = (longlong)param_3;
	lVar1 = (longlong)param_2;
	iVar8 = 0;
	ppiVar9 = (int **)PTR_DAT_100f3064;
	do {
		mem_free_dbg(ppiVar9, (char)lVar1, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6,
		    (char)lVar7, in_stack_ffffffc8);
		iVar8 = iVar8 + 1;
		ppiVar9 = ppiVar9 + 1;
	} while (iVar8 < 0x23);
	return;
}

void GetItemFrm(int param_1)

{
	*(undefined4 *)(PTR_DAT_100f1940 + param_1 * 0x170 + 0x18) = *(undefined4 *)(PTR_DAT_100f3064 + (uint)(byte)PTR_DAT_100f1e00[*(int *)(PTR_DAT_100f1940 + param_1 * 0x170 + 0xc0)] * 4);
	return;
}

void GetItemStr(int iParm1)

{
	char cVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined **ppuVar6;
	undefined *puVar8;
	ulonglong uVar7;
	undefined4 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar5 = PTR_DAT_100f1940;
	puVar4 = PTR_DAT_100f192c;
	puVar3 = PTR_DAT_100f18a8;
	ppuVar6 = &toc;
	iParm1 = iParm1 * 0x170;
	puVar8 = PTR_DAT_100f1940 + iParm1;
	if (*(int *)(puVar8 + 8) == 0xb) {
		iVar2 = *(int *)(puVar8 + 0xc4);
		uVar7 = get_pieces_str(iVar2);
		sprintf((int)puVar4, ppuVar6[-0x17e5], iVar2, (int)uVar7, in_r7, in_r8, in_r9, in_r10,
		    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc, in_stack_ffffffd0,
		    in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0,
		    in_stack_ffffffe4);
	} else {
		if (*(int *)(puVar8 + 0x38) == 0) {
			strcpy((int)PTR_DAT_100f192c, (int)(PTR_DAT_100f1940 + iParm1 + 0x3d));
		} else {
			strcpy((int)PTR_DAT_100f192c, (int)(PTR_DAT_100f1940 + iParm1 + 0x7d));
		}
		cVar1 = puVar5[iParm1 + 0x3c];
		if (cVar1 == '\x01') {
			*puVar3 = 1;
		}
		if (cVar1 == '\x02') {
			*puVar3 = 3;
		}
	}
	return;
}

void CheckIdentify(ulonglong param_1, int param_2, undefined8 param_3, ulonglong param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	int iVar2;
	undefined uVar3;
	ulonglong uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	int iVar10;
	undefined4 in_stack_ffffffc8;

	uVar9 = (undefined)param_8;
	uVar8 = (undefined)param_7;
	uVar7 = (undefined)param_6;
	uVar6 = (undefined)param_5;
	uVar5 = (undefined)param_4;
	ppuVar1 = &toc;
	uVar4 = ZEXT48(PTR_DAT_100f1828);
	uVar4._7_1_ = SUB41(PTR_DAT_100f1828, 0);
	iVar10 = (int)param_1;
	if (param_2 < 7) {
		iVar2 = iVar10 * 0x55ec + param_2 * 0x170 + 0x498;
	} else {
		iVar2 = iVar10 * 0x55ec + (param_2 + -7) * 0x170 + 0xea8;
	}
	*(undefined4 *)(PTR_DAT_100f1828 + iVar2 + 0x38) = 1;
	uVar3 = 1;
	CalcPlrInv(param_1, 1, uVar4, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	if (iVar10 == *(int *)ppuVar1[-0x1deb]) {
		NewCursor(1, uVar3, (undefined)uVar4, uVar5, uVar6, uVar7, uVar8, uVar9, in_stack_ffffffc8);
	}
	return;
}

void RepairItem(int param_1, longlong param_2, char param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined in_stack_ffffffcb;

	lVar8 = (longlong)param_8;
	lVar7 = (longlong)param_7;
	lVar6 = (longlong)param_6;
	lVar5 = (longlong)param_5;
	lVar4 = (longlong)param_4;
	lVar3 = (longlong)param_3;
	if (*(int *)(param_1 + 0xec) != *(int *)(param_1 + 0xf0)) {
		if (*(int *)(param_1 + 0xf0) < 1) {
			*(undefined4 *)(param_1 + 8) = 0xffffffff;
		} else {
			lVar9 = 0;
			do {
				lVar2 = random(0x25, param_2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6,
				    (char)lVar7, (char)lVar8, in_stack_ffffffb8, in_stack_ffffffbf,
				    in_stack_ffffffcb);
				lVar9 = param_2 + lVar2 + lVar9;
				iVar1 = *(int *)(param_1 + 0xf0) / ((int)param_2 + 9);
				if (iVar1 < 1) {
					iVar1 = 1;
				}
				*(int *)(param_1 + 0xf0) = *(int *)(param_1 + 0xf0) - iVar1;
				if (*(int *)(param_1 + 0xf0) == 0) {
					*(undefined4 *)(param_1 + 8) = 0xffffffff;
					return;
				}
				iVar1 = *(int *)(param_1 + 0xec) + (int)lVar9;
			} while (iVar1 < *(int *)(param_1 + 0xf0));
			*(int *)(param_1 + 0xec) = iVar1;
			if (*(int *)(param_1 + 0xf0) < *(int *)(param_1 + 0xec)) {
				*(int *)(param_1 + 0xec) = *(int *)(param_1 + 0xf0);
			}
		}
	}
	return;
}

void DoRepair(ulonglong param_1, int param_2, undefined8 param_3, ulonglong param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined **ppuVar2;
	int iVar3;
	undefined uVar4;
	ulonglong uVar5;
	undefined uVar6;
	undefined7 uVar7;
	undefined uVar8;
	undefined7 uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined4 in_stack_ffffffb8;

	uVar9 = (undefined7)(param_5 >> 8);
	uVar10 = (undefined)param_5;
	uVar7 = (undefined7)(param_4 >> 8);
	uVar8 = (undefined)param_4;
	ppuVar2 = &toc;
	puVar1 = PTR_DAT_100f1828 + (int)param_1 * 0x55ec;
	uVar5 = (ulonglong) * (uint *)(puVar1 + 0x3c);
	PlaySfxLoc(0x55, (ulonglong) * (uint *)(puVar1 + 0x38), uVar5, param_4, param_5, (int)param_6,
	    (int)param_7, (int)param_8, in_stack_ffffffb8);
	if (param_2 < 7) {
		iVar3 = param_2 * 0x170 + 0x498;
	} else {
		iVar3 = (param_2 + -7) * 0x170 + 0xea8;
	}
	RepairItem((int)(puVar1 + iVar3), (longlong)(char)puVar1[0x1b4], (char)uVar5, uVar8, uVar10,
	    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffb8);
	uVar6 = (undefined)uVar5;
	uVar13 = (undefined)param_8;
	uVar12 = (undefined)param_7;
	uVar11 = (undefined)param_6;
	uVar4 = 1;
	CalcPlrInv(param_1, 1, uVar5, CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10), param_6, param_7, param_8,
	    in_stack_ffffffb8);
	if ((int)param_1 == *(int *)ppuVar2[-0x1deb]) {
		NewCursor(1, uVar4, uVar6, uVar8, uVar10, uVar11, uVar12, uVar13, in_stack_ffffffb8);
	}
	return;
}

void RechargeItem(int param_1, int param_2)

{
	int iVar1;

	if (*(int *)(param_1 + 0xe4) == *(int *)(param_1 + 0xe8)) {
		return;
	}
	do {
		*(int *)(param_1 + 0xe8) = *(int *)(param_1 + 0xe8) + -1;
		if (*(int *)(param_1 + 0xe8) == 0) {
			return;
		}
		*(int *)(param_1 + 0xe4) = *(int *)(param_1 + 0xe4) + param_2;
		iVar1 = *(int *)(param_1 + 0xe8);
	} while (*(int *)(param_1 + 0xe4) < iVar1);
	if (*(int *)(param_1 + 0xe4) <= iVar1) {
		return;
	}
	*(int *)(param_1 + 0xe4) = iVar1;
	return;
}

void DoRecharge(ulonglong param_1, int param_2, undefined8 param_3, ulonglong param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	longlong lVar2;
	undefined uVar3;
	ulonglong uVar4;
	undefined7 uVar5;
	undefined uVar6;
	undefined7 uVar7;
	undefined uVar8;
	undefined7 uVar9;
	undefined uVar10;
	undefined7 uVar11;
	undefined uVar12;
	undefined7 uVar13;
	undefined uVar14;
	int iVar15;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined1 in_stack_ffffffcb;

	uVar13 = (undefined7)(param_8 >> 8);
	uVar14 = (undefined)param_8;
	uVar11 = (undefined7)(param_7 >> 8);
	uVar12 = (undefined)param_7;
	uVar9 = (undefined7)(param_6 >> 8);
	uVar10 = (undefined)param_6;
	uVar7 = (undefined7)(param_5 >> 8);
	uVar8 = (undefined)param_5;
	uVar5 = (undefined7)(param_4 >> 8);
	uVar6 = (undefined)param_4;
	uVar3 = (undefined)param_2;
	ppuVar1 = &toc;
	uVar4 = ZEXT48(PTR_DAT_100f1828) + param_1 * 0x55ec;
	uVar4._7_1_ = (undefined)uVar4;
	if (param_2 < 7) {
		iVar15 = param_2 * 0x170 + 0x498;
	} else {
		iVar15 = (param_2 + -7) * 0x170 + 0xea8;
	}
	iVar15 = (int)uVar4 + iVar15;
	if ((*(int *)(iVar15 + 8) == 10) && (*(int *)(iVar15 + 0xe0) != 0)) {
		ppuVar1 = &toc;
		lVar2 = random(0x26, (longlong)((int)*(char *)((int)uVar4 + 0x1b4) / *(int *)(PTR_DAT_100f1934 + *(int *)(iVar15 + 0xe0) * 0x38 + 0xc)),
		    (undefined)uVar4, uVar6, uVar8, uVar10, uVar12, uVar14, in_stack_ffffffb8,
		    in_stack_ffffffbf, in_stack_ffffffcb);
		RechargeItem(iVar15, (int)lVar2 + 1);
		uVar4._7_1_ = (undefined)uVar4;
		uVar3 = 1;
		CalcPlrInv(param_1, 1, uVar4, CONCAT71(uVar5, uVar6), CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10),
		    CONCAT71(uVar11, uVar12), CONCAT71(uVar13, uVar14), in_stack_ffffffb8);
	}
	if ((int)param_1 == *(int *)ppuVar1[-0x1deb]) {
		NewCursor(1, uVar3, (undefined)uVar4, uVar6, uVar8, uVar10, uVar12, uVar14, in_stack_ffffffb8);
	}
	return;
}

void PrintItemOil(char param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	if (((longlong)param_1 & 0xffffffffU) < 0x14) {
		// WARNING: Could not recover jumptable at 0x10050a48. Too many branches
		// WARNING: Treating indirect jump as call
		(**(code **)(PTR_PTR_LAB_100f2ffc + (int)param_1 * 4))(*(code **)(PTR_PTR_LAB_100f2ffc + (int)param_1 * 4),
		    ZEXT48(PTR_s_decrease_strength_100f3010), param_3, param_4, param_5, param_6, param_7,
		    param_8);
		return;
	}
	return;
}

void PrintItemPower(char param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	code *UNRECOVERED_JUMPTABLE;

	if (((longlong)param_1 & 0xffffffffU) < 0x50) {
		UNRECOVERED_JUMPTABLE = *(code **)(_DAT_100f2ee0 + (int)param_1 * 4);
		// WARNING: Could not recover jumptable at 0x10050c58. Too many branches
		// WARNING: Treating indirect jump as call
		(*UNRECOVERED_JUMPTABLE)(UNRECOVERED_JUMPTABLE, param_2, param_3, ZEXT48(PTR_s_armor_class___i_100f2fe8),
		    (ulonglong)_DAT_100f2fe4, ZEXT48(PTR_DAT_100f2ef0), param_7, param_8);
		return;
	}
	strcpy((int)PTR_DAT_100f191c, (int)PTR_s_Another_ability__NW__100f2ee4);
	return;
}

void DrawUTextBack(void)

{
	undefined **ppuVar1;
	longlong lVar2;
	undefined *puVar3;
	undefined *puVar4;
	longlong lVar5;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	CelDecodeOnly(0x58, 0x1e7, (ulonglong) * (uint *)PTR_DAT_100f1e34, 1, 0x10f, in_r8, in_r9, in_r10,
	    in_stack_ffffffc8);
	lVar5 = 0x94;
	puVar4 = (undefined *)(*(int *)ppuVar1[-0x1e01] + 0x5ac5b);
	do {
		lVar2 = 0x84;
		do {
			puVar3 = puVar4;
			lVar2 = lVar2 + -1;
			*puVar3 = 0;
			puVar4 = puVar3 + 2;
		} while (lVar2 != 0);
		puVar3[2] = 0;
		lVar2 = 0x84;
		puVar3 = puVar3 + -0x406;
		do {
			puVar4 = puVar3;
			lVar2 = lVar2 + -1;
			puVar4[1] = 0;
			puVar3 = puVar4 + 2;
		} while (lVar2 != 0);
		lVar5 = lVar5 + -1;
		puVar4 = puVar4 + -0x406;
	} while (lVar5 != 0);
	lVar5 = 0x84;
	do {
		lVar5 = lVar5 + -1;
		*puVar4 = 0;
		puVar4 = puVar4 + 2;
	} while (lVar5 != 0);
	return;
}

void PrintUString(longlong param_1, int param_2, int param_3, ulonglong param_4, ulonglong param_5,
    undefined8 param_6, int param_7, int param_8, undefined4 param_9)

{
	byte bVar1;
	ulonglong uVar2;
	longlong lVar3;
	int iVar6;
	longlong lVar4;
	longlong lVar5;
	byte *pbVar7;
	longlong lVar8;
	ulonglong uVar9;
	ulonglong uVar10;
	ulonglong uVar11;
	longlong lVar12;
	longlong lVar13;
	ulonglong uVar14;
	undefined4 in_stack_ffffff98;

	lVar13 = (longlong)param_8;
	lVar12 = (longlong)param_7;
	uVar11 = ZEXT48(PTR_DAT_100f1db4);
	param_1 = param_1 + (ulonglong) * (uint *)(PTR_DAT_100f1938 + *(int *)(PTR_DAT_100f1db4 + param_2 * 4) * 4 + 0x330) + 0x60;
	uVar9 = param_4;
	uVar10 = param_5;
	iVar6 = strlen((uint)param_4);
	uVar14 = 0;
	if (param_3 != 0) {
		lVar8 = 0;
		lVar8._4_4_ = 0;
		lVar4 = 0;
		if (0 < iVar6) {
			if ((8 < iVar6) && (uVar2 = (ulonglong)(iVar6 - 1U >> 3), 0 < iVar6 + -8)) {
				do {
					pbVar7 = (byte *)((uint)param_4 + (int)lVar4);
					lVar4 = lVar4 + 8;
					uVar11 = (ulonglong)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)pbVar7[5]]];
					uVar10 = (ulonglong)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)pbVar7[6]]];
					uVar9 = (ulonglong)(byte)(&DAT_100f64e8)[(uint)pbVar7[7]];
					lVar8 = (ulonglong)(byte)(&DAT_100f6230)
					            [(uint)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)pbVar7[7]]]]
					    + (ulonglong)(byte)(&DAT_100f6230)
					        [(uint)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)pbVar7[6]]]]
					    + (ulonglong)(byte)(&DAT_100f6230)
					        [(uint)(byte)(&DAT_100f61b0)
					                [(uint)(byte)(&DAT_100f64e8)[(uint)pbVar7[5]]]]
					    + (ulonglong)(byte)(&DAT_100f6230)
					        [(uint)(byte)(&DAT_100f61b0)
					                [(uint)(byte)(&DAT_100f64e8)[(uint)pbVar7[4]]]]
					    + (ulonglong)(byte)(&DAT_100f6230)
					        [(uint)(byte)(&DAT_100f61b0)
					                [(uint)(byte)(&DAT_100f64e8)[(uint)pbVar7[3]]]]
					    + (ulonglong)(byte)(&DAT_100f6230)
					        [(uint)(byte)(&DAT_100f61b0)
					                [(uint)(byte)(&DAT_100f64e8)[(uint)pbVar7[2]]]]
					    + (ulonglong)(byte)(&DAT_100f6230)
					        [(uint)(byte)(&DAT_100f61b0)
					                [(uint)(byte)(&DAT_100f64e8)[(uint)pbVar7[1]]]]
					    + (ulonglong)(byte)(&DAT_100f6230)
					        [(uint)(byte)(&DAT_100f61b0)
					                [(uint)(byte)(&DAT_100f64e8)[(uint)*pbVar7]]]
					    + lVar8 + 8;
					uVar2 = uVar2 - 1;
				} while (uVar2 != 0);
			}
			lVar8._4_4_ = (int)lVar8;
			lVar3 = (longlong)iVar6 - lVar4;
			lVar5 = param_4 + lVar4;
			if ((int)lVar4 < iVar6) {
				do {
					pbVar7 = (byte *)lVar5;
					lVar5 = lVar5 + 1;
					lVar8 = (ulonglong)(byte)(&DAT_100f6230)
					            [(uint)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)*pbVar7]]]
					    + lVar8 + 1;
					lVar8._4_4_ = (int)lVar8;
					lVar3 = lVar3 + -1;
				} while (lVar3 != 0);
			}
		}
		if (lVar8._4_4_ < 0x101) {
			uVar14 = (ulonglong)(uint)(0x101 - lVar8._4_4_ >> 1);
		}
		param_1 = param_1 + uVar14;
	}
	lVar8._4_4_ = 0;
	while (lVar8._4_4_ < iVar6) {
		bVar1 = (&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint) * (byte *)param_4]];
		uVar14 = (ulonglong)(byte)(&DAT_100f6230)[(uint)bVar1] + uVar14 + 1;
		if ((bVar1 != 0) && ((int)uVar14 < 0x102)) {
			CPrintString(param_1, (ulonglong)bVar1, param_5, uVar9, uVar10, (int)uVar11, (int)lVar12, (int)lVar13, in_stack_ffffff98);
		}
		lVar8._4_4_ = lVar8._4_4_ + 1;
		param_4 = param_4 + 1;
		param_1 = (ulonglong)(byte)(&DAT_100f6230)[(uint)bVar1] + param_1 + 1;
	}
	return;
}

void DrawULine(int param_1)

{
	undefined4 uVar1;
	undefined4 *puVar2;
	longlong lVar3;
	undefined4 *puVar4;
	undefined4 *puVar5;
	longlong lVar6;
	undefined2 *local_10;
	undefined2 *local_c;

	lVar6 = 3;
	local_10 = (undefined2 *)(*(int *)PTR_DAT_100f17cc + 0x22b5a);
	local_c = (undefined2 *)(*(int *)(PTR_DAT_100f1938 + *(int *)(PTR_DAT_100f1db4 + param_1 * 4) * 4 + 0x318) + *(int *)PTR_DAT_100f17cc + 0x5a);
	do {
		puVar4 = (undefined4 *)(local_10 + 1);
		*local_c = *local_10;
		puVar5 = (undefined4 *)(local_c + 1);
		lVar3 = 8;
		do {
			*puVar5 = *puVar4;
			puVar5[1] = puVar4[1];
			puVar5[2] = puVar4[2];
			puVar5[3] = puVar4[3];
			puVar5[4] = puVar4[4];
			puVar5[5] = puVar4[5];
			puVar5[6] = puVar4[6];
			puVar2 = puVar4 + 7;
			puVar4 = puVar4 + 8;
			puVar5[7] = *puVar2;
			puVar5 = puVar5 + 8;
			lVar3 = lVar3 + -1;
		} while (lVar3 != 0);
		lVar3 = 2;
		do {
			uVar1 = *puVar4;
			puVar4 = puVar4 + 1;
			*puVar5 = uVar1;
			puVar5 = puVar5 + 1;
			lVar3 = lVar3 + -1;
		} while (lVar3 != 0);
		lVar6 = lVar6 + -1;
		local_10 = local_10 + 0x180;
		local_c = local_c + 0x180;
	} while (lVar6 != 0);
	return;
}

void DrawUniqueInfo(void)

{
	int iVar1;
	int iVar2;
	undefined uVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined7 uVar7;
	undefined8 in_r8;
	undefined uVar8;
	undefined4 in_r9;
	undefined4 in_r10;
	int iVar9;
	char *pcVar10;
	int iVar11;
	ulonglong uVar12;
	undefined4 in_stack_ffffffa8;

	iVar2 = _DAT_100f1e44;
	iVar1 = _DAT_100f1e30;
	uVar8 = (undefined)in_r8;
	uVar7 = (undefined7)((ulonglong)in_r8 >> 8);
	uVar12 = ZEXT48(PTR_DAT_100f191c);
	uVar12._7_1_ = SUB41(PTR_DAT_100f191c, 0);
	if ((*(int *)PTR_DAT_100f180c == 0) && (*(int *)PTR_DAT_100f1808 == 0)) {
		iVar11 = *(int *)(_DAT_100f1e30 + 0x134);
		DrawUTextBack();
		iVar11 = iVar11 * 0x54;
		uVar5 = (undefined) * (uint *)(iVar2 + iVar11);
		uVar4 = 1;
		uVar6 = 3;
		PrintUString(0, 2, 1, (ulonglong) * (uint *)(iVar2 + iVar11), 3, CONCAT71(uVar7, uVar8), in_r9, in_r10,
		    in_stack_ffffffa8);
		DrawULine(5);
		iVar9 = iVar2 + iVar11;
		uVar3 = (undefined)iVar1;
		PrintItemPower(*(char *)(iVar9 + 0xc), uVar3, uVar4, uVar5, uVar6, uVar8, (char)in_r9, (char)in_r10,
		    in_stack_ffffffa8);
		pcVar10 = (char *)(iVar9 + 6);
		iVar1 = -(int)*(char *)(iVar9 + 6);
		uVar5 = 1;
		uVar6 = 0;
		uVar4 = (undefined)uVar12;
		PrintUString(0, iVar1 + 0xe, 1, uVar12, 0, CONCAT71(uVar7, uVar8), in_r9, in_r10, in_stack_ffffffa8);
		if ('\x01' < *pcVar10) {
			PrintItemPower(*(char *)(iVar9 + 0x18), uVar3, uVar5, uVar4, uVar6, uVar8, (char)in_r9, (char)in_r10,
			    in_stack_ffffffa8);
			uVar5 = 1;
			uVar6 = 0;
			uVar4 = (undefined)uVar12;
			PrintUString(0, iVar1 + 0x10, 1, uVar12, 0, CONCAT71(uVar7, uVar8), in_r9, in_r10, in_stack_ffffffa8);
		}
		if ('\x02' < *pcVar10) {
			PrintItemPower(*(char *)(iVar2 + iVar11 + 0x24), uVar3, uVar5, uVar4, uVar6, uVar8, (char)in_r9,
			    (char)in_r10, in_stack_ffffffa8);
			uVar5 = 1;
			uVar6 = 0;
			uVar4 = (undefined)uVar12;
			PrintUString(0, iVar1 + 0x12, 1, uVar12, 0, CONCAT71(uVar7, uVar8), in_r9, in_r10, in_stack_ffffffa8);
		}
		if ('\x03' < *pcVar10) {
			PrintItemPower(*(char *)(iVar2 + iVar11 + 0x30), uVar3, uVar5, uVar4, uVar6, uVar8, (char)in_r9,
			    (char)in_r10, in_stack_ffffffa8);
			uVar5 = 1;
			uVar6 = 0;
			uVar4 = (undefined)uVar12;
			PrintUString(0, iVar1 + 0x14, 1, uVar12, 0, CONCAT71(uVar7, uVar8), in_r9, in_r10, in_stack_ffffffa8);
		}
		if ('\x04' < *pcVar10) {
			PrintItemPower(*(char *)(iVar2 + iVar11 + 0x3c), uVar3, uVar5, uVar4, uVar6, uVar8, (char)in_r9,
			    (char)in_r10, in_stack_ffffffa8);
			uVar5 = 1;
			uVar6 = 0;
			uVar4 = (undefined)uVar12;
			PrintUString(0, iVar1 + 0x16, 1, uVar12, 0, CONCAT71(uVar7, uVar8), in_r9, in_r10, in_stack_ffffffa8);
		}
		if ('\x05' < *pcVar10) {
			PrintItemPower(*(char *)(iVar2 + iVar11 + 0x48), uVar3, uVar5, uVar4, uVar6, uVar8, (char)in_r9,
			    (char)in_r10, in_stack_ffffffa8);
			PrintUString(0, iVar1 + 0x18, 1, uVar12, 0, CONCAT71(uVar7, uVar8), in_r9, in_r10, in_stack_ffffffa8);
		}
	}
	return;
}

void PrintItemMisc(int param_1, undefined8 param_2, undefined8 param_3, undefined4 param_4,
    undefined4 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	puVar2 = PTR_DAT_100f191c;
	ppuVar3 = &toc;
	if (*(int *)(param_1 + 0xdc) == 0x15) {
		ppuVar3 = &toc;
		strcpy((int)PTR_DAT_100f191c, (int)PTR_s_Command_click_to_read_100f2edc);
		param_2._7_1_ = 1;
		AddPanelString((int)puVar2, 1, (undefined)param_3, (char)param_4, (char)param_5, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffffc8);
	}
	if (*(int *)(param_1 + 0xdc) == 0x16) {
		strcpy((int)puVar2, (int)ppuVar3[-0x183e]);
		AddPanelString((int)puVar2, 1, (undefined)param_3, (char)param_4, (char)param_5, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffffc8);
		strcpy((int)puVar2, (int)ppuVar3[-0x183f]);
		param_2._7_1_ = 1;
		AddPanelString((int)puVar2, 1, (undefined)param_3, (char)param_4, (char)param_5, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffffc8);
	}
	iVar1 = *(int *)(param_1 + 0xdc);
	if ((0 < iVar1) && (iVar1 < 0x15)) {
		PrintItemOil((char)iVar1, (undefined)param_2, (undefined)param_3, (char)param_4, (char)param_5,
		    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffc8);
		strcpy((int)puVar2, (int)ppuVar3[-0x1840]);
		AddPanelString((int)puVar2, 1, (undefined)param_3, (char)param_4, (char)param_5, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffffc8);
	}
	if (*(int *)(param_1 + 0xdc) == 0x18) {
		strcpy((int)puVar2, (int)ppuVar3[-0x1841]);
		AddPanelString((int)puVar2, 1, (undefined)param_3, (char)param_4, (char)param_5, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffffc8);
	}
	if (*(int *)(param_1 + 0xdc) == 0x2a) {
		strcpy((int)puVar2, (int)ppuVar3[-0x1842]);
		AddPanelString((int)puVar2, 1, (undefined)param_3, (char)param_4, (char)param_5, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffffc8);
	}
	uVar9 = (undefined)param_8;
	uVar8 = (undefined)param_7;
	uVar7 = (undefined)param_6;
	uVar6 = (undefined)param_5;
	uVar5 = (undefined)param_4;
	if (*(int *)(param_1 + 0xdc) == 0x2b) {
		uVar4 = (undefined) * (undefined4 *)(param_1 + 0xc4);
		sprintf((int)puVar2, ppuVar3[-0x1843], *(undefined4 *)(param_1 + 0xc4), param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8, in_stack_ffffffec,
		    in_stack_fffffff0, in_stack_fffffff4);
		AddPanelString((int)puVar2, 1, uVar4, uVar5, uVar6, uVar7, uVar8, uVar9, in_stack_ffffffc8);
	}
	return;
}

void PrintItemDetails(longlong param_1, longlong param_2, ulonglong param_3, undefined4 param_4, int param_5, int param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined4 uVar2;
	int iVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	undefined uVar6;
	char cVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	longlong lVar13;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	puVar4 = PTR_DAT_100f191c;
	ppuVar5 = &toc;
	uVar12 = SUB41(PTR_DAT_100f191c, 0);
	iVar3 = (int)param_1;
	if (*(char *)(iVar3 + 0xbe) == '\x01') {
		param_6 = *(int *)(iVar3 + 0xf0);
		if (param_6 == 0xff) {
			param_3 = (ulonglong) * (uint *)(iVar3 + 0xcc);
			param_4 = *(undefined4 *)(iVar3 + 0xd0);
			ppuVar5 = &toc;
			sprintf((int)PTR_DAT_100f191c, PTR_s_damage___i__i_Indestructible_100f2ec0,
			    *(uint *)(iVar3 + 0xcc), param_4, param_5, 0xff, param_7, param_8, in_stack_ffffffc8,
			    in_stack_ffffffcf, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4,
			    in_stack_ffffffe8, in_stack_ffffffec, in_stack_fffffff0, in_stack_fffffff4);
		} else {
			param_3 = (ulonglong) * (uint *)(iVar3 + 0xcc);
			param_4 = *(undefined4 *)(iVar3 + 0xd0);
			param_5 = *(int *)(iVar3 + 0xec);
			ppuVar5 = &toc;
			sprintf((int)PTR_DAT_100f191c, PTR_s_damage___i__i_Dur___i__i_100f2ebc,
			    *(uint *)(iVar3 + 0xcc), param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4,
			    in_stack_ffffffe8, in_stack_ffffffec, in_stack_fffffff0, in_stack_fffffff4);
		}
		param_2 = 1;
		AddPanelString((int)puVar4, 1, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffc8);
	}
	if (*(char *)(iVar3 + 0xbe) == '\x02') {
		param_5 = *(int *)(iVar3 + 0xf0);
		if (param_5 == 0xff) {
			param_3 = (ulonglong) * (uint *)(iVar3 + 0xd4);
			sprintf((int)puVar4, ppuVar5[-0x1846], *(uint *)(iVar3 + 0xd4), param_4, 0xff, param_6, param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffdc, in_stack_ffffffe0,
			    in_stack_ffffffe4, in_stack_ffffffe8, in_stack_ffffffec, in_stack_fffffff0,
			    in_stack_fffffff4);
		} else {
			param_3 = (ulonglong) * (uint *)(iVar3 + 0xd4);
			param_4 = *(undefined4 *)(iVar3 + 0xec);
			sprintf((int)puVar4, ppuVar5[-0x1847], *(uint *)(iVar3 + 0xd4), param_4, param_5, param_6,
			    param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffdc,
			    in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8, in_stack_ffffffec,
			    in_stack_fffffff0, in_stack_fffffff4);
		}
		param_2 = 1;
		AddPanelString((int)puVar4, 1, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffc8);
	}
	if ((*(int *)(iVar3 + 0xdc) == 0x17) && (*(int *)(iVar3 + 0xe8) != 0)) {
		param_5 = *(int *)(iVar3 + 0xec);
		param_6 = *(int *)(iVar3 + 0xf0);
		sprintf((int)puVar4, ppuVar5[-0x1848], *(undefined4 *)(iVar3 + 0xcc),
		    *(undefined4 *)(iVar3 + 0xd0), param_5, param_6, param_7, param_8, in_stack_ffffffc8,
		    in_stack_ffffffcf, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4,
		    in_stack_ffffffe8, in_stack_ffffffec, in_stack_fffffff0, in_stack_fffffff4);
		param_3 = (ulonglong) * (uint *)(iVar3 + 0xe4);
		param_4 = *(undefined4 *)(iVar3 + 0xe8);
		sprintf((int)puVar4, ppuVar5[-0x1849], *(uint *)(iVar3 + 0xe4), param_4, param_5, param_6,
		    param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8, in_stack_ffffffec,
		    in_stack_fffffff0, in_stack_fffffff4);
		param_2 = 1;
		AddPanelString((int)puVar4, 1, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffc8);
	}
	if (*(char *)(iVar3 + 0x14c) != -1) {
		PrintItemPower(*(char *)(iVar3 + 0x14c), (char)param_1, (char)param_3, (char)param_4, (char)param_5,
		    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffc8);
		param_2 = 1;
		AddPanelString((int)puVar4, 1, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffc8);
	}
	if (*(char *)(iVar3 + 0x14d) != -1) {
		PrintItemPower(*(char *)(iVar3 + 0x14d), (char)param_1, (char)param_3, (char)param_4, (char)param_5,
		    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffc8);
		param_2 = 1;
		AddPanelString((int)puVar4, 1, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffc8);
	}
	if (*(char *)(iVar3 + 0x3c) == '\x02') {
		AddPanelString((int)ppuVar5[-0x184a], 1, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffffc8);
		puVar1 = ppuVar5[-0x1c68];
		*(undefined4 *)ppuVar5[-0x1d9d] = 1;
		lVar13 = 0x2e;
		param_3 = ZEXT48(puVar1) - 8;
		param_2 = param_1 + -8;
		do {
			param_2 = param_2 + 8;
			uVar2 = ((undefined4 *)param_2)[1];
			param_3 = param_3 + 8;
			*(undefined4 *)param_3 = *(undefined4 *)param_2;
			((undefined4 *)param_3)[1] = uVar2;
			lVar13 = lVar13 + -1;
		} while (lVar13 != 0);
	}
	uVar6 = (undefined)param_3;
	PrintItemMisc(iVar3, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	if ((longlong) * (char *)(iVar3 + 0x160) + (ulonglong) * (byte *)(iVar3 + 0x161) + (longlong) * (char *)(iVar3 + 0x162) != 0) {
		strcpy((int)puVar4, (int)ppuVar5[-0x184b]);
		if (*(char *)(iVar3 + 0x160) != '\0') {
			uVar6 = uVar12;
			sprintf((int)puVar4, ppuVar5[-0x184c], puVar4, (int)*(char *)(iVar3 + 0x160), param_5, param_6, param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffdc,
			    in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8, in_stack_ffffffec,
			    in_stack_fffffff0, in_stack_fffffff4);
		}
		if (*(byte *)(iVar3 + 0x161) != 0) {
			uVar6 = uVar12;
			sprintf((int)puVar4, ppuVar5[-0x184d], puVar4, (uint) * (byte *)(iVar3 + 0x161), param_5,
			    param_6, param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffdc,
			    in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8, in_stack_ffffffec,
			    in_stack_fffffff0, in_stack_fffffff4);
		}
		uVar11 = (undefined)param_8;
		uVar10 = (undefined)param_7;
		uVar9 = (undefined)param_6;
		uVar8 = (undefined)param_5;
		cVar7 = *(char *)(iVar3 + 0x162);
		if (cVar7 != '\0') {
			uVar6 = uVar12;
			sprintf((int)puVar4, ppuVar5[-0x184e], puVar4, (int)cVar7, param_5, param_6, param_7, param_8,
			    in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffdc, in_stack_ffffffe0,
			    in_stack_ffffffe4, in_stack_ffffffe8, in_stack_ffffffec, in_stack_fffffff0,
			    in_stack_fffffff4);
		}
		AddPanelString((int)puVar4, 1, uVar6, cVar7, uVar8, uVar9, uVar10, uVar11, in_stack_ffffffc8);
	}
	*(undefined4 *)ppuVar5[-0x1db3] = 1;
	return;
}

void PrintItemDur(int param_1, undefined8 param_2, ulonglong param_3, int param_4, int param_5,
    int param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	undefined uVar5;
	char cVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar3 = PTR_s_Charges___i__i_100f2eac;
	puVar2 = PTR_s_Not_Identified_100f2e94;
	puVar1 = PTR_DAT_100f191c;
	ppuVar4 = &toc;
	uVar11 = SUB41(PTR_DAT_100f191c, 0);
	if (*(char *)(param_1 + 0xbe) == '\x01') {
		param_6 = *(int *)(param_1 + 0xf0);
		if (param_6 == 0xff) {
			param_3 = (ulonglong) * (uint *)(param_1 + 0xcc);
			param_4 = *(int *)(param_1 + 0xd0);
			ppuVar4 = &toc;
			sprintf((int)PTR_DAT_100f191c, PTR_s_damage___i__i_Indestructible_100f2ec0,
			    *(uint *)(param_1 + 0xcc), param_4, param_5, 0xff, param_7, param_8, in_stack_ffffffb8,
			    in_stack_ffffffbf, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
			    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
		} else {
			param_3 = (ulonglong) * (uint *)(param_1 + 0xcc);
			param_4 = *(int *)(param_1 + 0xd0);
			param_5 = *(int *)(param_1 + 0xec);
			ppuVar4 = &toc;
			sprintf((int)PTR_DAT_100f191c, PTR_s_damage___i__i_Dur___i__i_100f2ebc,
			    *(uint *)(param_1 + 0xcc), param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc, in_stack_ffffffd0,
			    in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0,
			    in_stack_ffffffe4);
		}
		param_2 = 1;
		AddPanelString((int)puVar1, 1, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffb8);
		if (*(int *)(param_1 + 0xdc) == 0x17) {
			param_4 = *(int *)(param_1 + 0xe8);
			if (param_4 != 0) {
				param_3 = (ulonglong) * (uint *)(param_1 + 0xe4);
				sprintf((int)puVar1, puVar3, *(uint *)(param_1 + 0xe4), param_4, param_5, param_6, param_7,
				    param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0,
				    in_stack_ffffffe4);
				param_2 = 1;
				AddPanelString((int)puVar1, 1, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
				    (char)param_7, (char)param_8, in_stack_ffffffb8);
			}
		}
		if (*(char *)(param_1 + 0x3c) != '\0') {
			param_2 = 1;
			AddPanelString((int)puVar2, 1, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
			    (char)param_7, (char)param_8, in_stack_ffffffb8);
		}
	}
	if (*(char *)(param_1 + 0xbe) == '\x02') {
		param_5 = *(int *)(param_1 + 0xf0);
		if (param_5 == 0xff) {
			param_3 = (ulonglong) * (uint *)(param_1 + 0xd4);
			sprintf((int)puVar1, ppuVar4[-0x1846], *(uint *)(param_1 + 0xd4), param_4, 0xff, param_6,
			    param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc,
			    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
			    in_stack_ffffffe0, in_stack_ffffffe4);
		} else {
			param_3 = (ulonglong) * (uint *)(param_1 + 0xd4);
			param_4 = *(int *)(param_1 + 0xec);
			sprintf((int)puVar1, ppuVar4[-0x1847], *(uint *)(param_1 + 0xd4), param_4, param_5, param_6,
			    param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc,
			    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
			    in_stack_ffffffe0, in_stack_ffffffe4);
		}
		param_2 = 1;
		AddPanelString((int)puVar1, 1, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffb8);
		if (*(char *)(param_1 + 0x3c) != '\0') {
			param_2 = 1;
			AddPanelString((int)puVar2, 1, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
			    (char)param_7, (char)param_8, in_stack_ffffffb8);
		}
		if ((*(int *)(param_1 + 0xdc) == 0x17) && (param_4 = *(int *)(param_1 + 0xe8), param_4 != 0)) {
			param_3 = (ulonglong) * (uint *)(param_1 + 0xe4);
			sprintf((int)puVar1, puVar3, *(uint *)(param_1 + 0xe4), param_4, param_5, param_6, param_7,
			    param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc, in_stack_ffffffd0,
			    in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0,
			    in_stack_ffffffe4);
			param_2 = 1;
			AddPanelString((int)puVar1, 1, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
			    (char)param_7, (char)param_8, in_stack_ffffffb8);
		}
	}
	if ((*(int *)(param_1 + 8) == 0xc) || (*(int *)(param_1 + 8) == 0xd)) {
		param_2 = 1;
		AddPanelString((int)puVar2, 1, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffb8);
	}
	uVar5 = (undefined)param_3;
	PrintItemMisc(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	if ((longlong) * (char *)(param_1 + 0x160) + (ulonglong) * (byte *)(param_1 + 0x161) + (longlong) * (char *)(param_1 + 0x162) != 0) {
		strcpy((int)puVar1, (int)ppuVar4[-0x184b]);
		if (*(char *)(param_1 + 0x160) != '\0') {
			uVar5 = uVar11;
			sprintf((int)puVar1, ppuVar4[-0x184c], puVar1, (int)*(char *)(param_1 + 0x160), param_5,
			    param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc,
			    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
			    in_stack_ffffffe0, in_stack_ffffffe4);
		}
		if (*(byte *)(param_1 + 0x161) != 0) {
			uVar5 = uVar11;
			sprintf((int)puVar1, ppuVar4[-0x184d], puVar1, (uint) * (byte *)(param_1 + 0x161), param_5,
			    param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc,
			    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
			    in_stack_ffffffe0, in_stack_ffffffe4);
		}
		uVar10 = (undefined)param_8;
		uVar9 = (undefined)param_7;
		uVar8 = (undefined)param_6;
		uVar7 = (undefined)param_5;
		cVar6 = *(char *)(param_1 + 0x162);
		if (cVar6 != '\0') {
			uVar5 = uVar11;
			sprintf((int)puVar1, ppuVar4[-0x184e], puVar1, (int)cVar6, param_5, param_6, param_7, param_8,
			    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc, in_stack_ffffffd0,
			    in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0,
			    in_stack_ffffffe4);
		}
		AddPanelString((int)puVar1, 1, uVar5, cVar6, uVar7, uVar8, uVar9, uVar10, in_stack_ffffffb8);
	}
	*(undefined4 *)ppuVar4[-0x1db3] = 1;
	return;
}

void UseItem(undefined8 param_1, uint param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	if (((longlong)(int)param_2 & 0xffffffffU) < 0x2d) {
		// WARNING: Could not recover jumptable at 0x10051e50. Too many branches
		// WARNING: Treating indirect jump as call
		(**(code **)(PTR_PTR_LAB_100f2e90 + param_2 * 4))(*(code **)(PTR_PTR_LAB_100f2e90 + param_2 * 4), (longlong)(int)param_2, param_3, param_4, param_5, param_6, param_7, param_8);
		return;
	}
	return;
}

ulonglong StoreStatOk(int param_1)

{
	int iVar1;
	ulonglong uVar2;

	iVar1 = *(int *)PTR_DAT_100f1824 * 0x55ec;
	uVar2 = (ulonglong)((int)*(char *)(param_1 + 0x160) <= *(int *)(PTR_DAT_100f1828 + iVar1 + 0x160));
	if (*(int *)(PTR_DAT_100f1828 + iVar1 + 0x168) < (int)(uint) * (byte *)(param_1 + 0x161)) {
		uVar2 = 0;
	}
	if (*(int *)(PTR_DAT_100f1828 + iVar1 + 0x170) < (int)*(char *)(param_1 + 0x162)) {
		uVar2 = 0;
	}
	return uVar2;
}

ulonglong FUN_10052488(int param_1)

{
	char cVar1;
	ulonglong uVar2;

	cVar1 = *(char *)(param_1 * 0x4c + 0x100fc834);
	uVar2 = (ulonglong)(cVar1 != '\0');
	if (cVar1 == '\v') {
		uVar2 = 0;
	}
	if (cVar1 == '\x0e') {
		uVar2 = 0;
	}
	if (cVar1 == '\n') {
		uVar2 = 0;
	}
	if (cVar1 == '\f') {
		uVar2 = 0;
	}
	if (cVar1 != '\r') {
		return uVar2;
	}
	return 0;
}

longlong FUN_100524fc(char param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	ulonglong uVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	uint uVar9;
	undefined8 unaff_r29;
	longlong lVar10;
	int iVar11;
	undefined8 unaff_r30;
	int *piVar12;
	undefined8 unaff_r31;
	undefined4 in_stack_fffff7b8;
	undefined in_stack_fffff7bf;
	undefined in_stack_fffff7cb;
	uint local_818[513];
	undefined4 local_14;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	lVar8 = (longlong)param_8;
	lVar7 = (longlong)param_7;
	lVar6 = (longlong)param_6;
	lVar5 = (longlong)param_5;
	lVar4 = (longlong)param_4;
	lVar3 = (longlong)param_3;
	local_14 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	piVar12 = (int *)0x100fc874;
	uVar9 = 1;
	lVar2 = 0;
	while (*(char *)((int)piVar12 + 5) != -1) {
		lVar10 = lVar2;
		if (((*piVar12 != 0) && (uVar1 = FUN_10052488(uVar9), lVar10 = lVar2, (int)uVar1 != 0)) && (lVar10 = lVar2, *(char *)(piVar12 + 6) <= param_1)) {
			lVar10 = lVar2 + 1;
			local_818[(int)lVar2] = uVar9;
			if (*piVar12 == 2) {
				iVar11 = (int)lVar10;
				lVar10 = lVar2 + 2;
				local_818[iVar11] = uVar9;
			}
		}
		piVar12 = piVar12 + 0x13;
		uVar9 = uVar9 + 1;
		lVar2 = lVar10;
	}
	lVar2 = random(0x32, lVar2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7,
	    (char)lVar8, in_stack_fffff7b8, in_stack_fffff7bf, in_stack_fffff7cb);
	return (ulonglong)local_818[(int)lVar2] + 1;
}

void FUN_100525c0(int param_1, int param_2)

{
	undefined4 uVar1;
	undefined4 *puVar2;
	undefined4 *puVar3;
	longlong lVar4;
	undefined4 auStack376[94];

	lVar4 = 0x2e;
	puVar2 = auStack376;
	puVar3 = (undefined4 *)(param_1 + -8);
	do {
		uVar1 = puVar3[3];
		puVar2[2] = puVar3[2];
		puVar2[3] = uVar1;
		lVar4 = lVar4 + -1;
		puVar2 = puVar2 + 2;
		puVar3 = puVar3 + 2;
	} while (lVar4 != 0);
	lVar4 = 0x2e;
	puVar2 = (undefined4 *)(param_1 + -8);
	puVar3 = (undefined4 *)(param_2 + -8);
	do {
		uVar1 = puVar3[3];
		puVar2[2] = puVar3[2];
		puVar2[3] = uVar1;
		lVar4 = lVar4 + -1;
		puVar2 = puVar2 + 2;
		puVar3 = puVar3 + 2;
	} while (lVar4 != 0);
	lVar4 = 0x2e;
	puVar2 = auStack376;
	puVar3 = (undefined4 *)(param_2 + -8);
	do {
		uVar1 = puVar2[3];
		puVar3[2] = puVar2[2];
		puVar3[3] = uVar1;
		lVar4 = lVar4 + -1;
		puVar2 = puVar2 + 2;
		puVar3 = puVar3 + 2;
	} while (lVar4 != 0);
	return;
}

void FUN_10052638(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	bool bVar1;
	int iVar2;
	int iVar3;
	int iVar4;
	int iVar5;

	iVar2 = _DAT_100f1e2c;
	iVar4 = 0;
	iVar3 = _DAT_100f1e2c;
	while (*(int *)(iVar3 + 0x178) != -1) {
		iVar3 = iVar3 + 0x170;
		iVar4 = iVar4 + 1;
	}
	bVar1 = false;
	while ((0 < iVar4 && (!bVar1))) {
		bVar1 = true;
		iVar5 = 0;
		iVar3 = iVar2;
		while (iVar5 < iVar4) {
			if (*(int *)(iVar3 + 0x2d8) < *(int *)(iVar3 + 0x168)) {
				FUN_100525c0(iVar3, iVar2 + (iVar5 + 1) * 0x170);
				bVar1 = false;
			}
			iVar3 = iVar3 + 0x170;
			iVar5 = iVar5 + 1;
		}
		iVar4 = iVar4 + -1;
	}
	return;
}

void SpawnSmith(longlong param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	uint uVar1;
	int iVar2;
	undefined *puVar3;
	ulonglong uVar4;
	longlong lVar5;
	undefined4 uVar7;
	ulonglong uVar6;
	longlong lVar8;
	undefined uVar9;
	undefined uVar11;
	longlong lVar10;
	longlong lVar12;
	longlong lVar13;
	longlong lVar14;
	longlong lVar15;
	longlong lVar16;
	int iVar17;
	ulonglong uVar18;
	ulonglong uVar19;
	longlong lVar20;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined1 in_stack_ffffffbb;

	puVar3 = PTR_DAT_100f1940;
	lVar16 = (longlong)param_8;
	lVar15 = (longlong)param_7;
	lVar14 = (longlong)param_6;
	lVar13 = (longlong)param_5;
	lVar12 = (longlong)param_4;
	lVar10 = (longlong)param_3;
	uVar18 = (ulonglong)_DAT_100f1e2c;
	uVar19 = ZEXT48(PTR_DAT_100f1940);
	lVar8 = 10;
	lVar5 = random(0x32, 10, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8,
	    in_stack_ffffffaf, in_stack_ffffffbb);
	lVar5 = lVar5 + 10;
	uVar6 = 0;
	iVar17 = 0;
	uVar4 = uVar18;
	while (iVar17 < (int)lVar5) {
		do {
			uVar9 = (undefined)lVar8;
			uVar11 = (undefined)lVar10;
			uVar7 = GetRndSeed((char)uVar6, uVar9, uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
			    (char)lVar15, (char)lVar16, in_stack_ffffffa8);
			*(undefined4 *)puVar3 = uVar7;
			SetRndSeed(*(undefined4 *)puVar3);
			lVar8 = FUN_100524fc((char)param_1, uVar9, uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
			    (char)lVar15, (char)lVar16, in_stack_ffffffa8);
			lVar8 = lVar8 + -1;
			lVar10 = param_1;
			uVar6 = GetItemAttrs(0, (int)lVar8, param_1, (char)lVar12, (char)lVar13, (char)lVar14, (char)lVar15,
			    (char)lVar16, in_stack_ffffffa8);
		} while (140000 < *(int *)(puVar3 + 200));
		lVar10 = uVar4 - 8;
		lVar20 = 0x2e;
		lVar8 = uVar19 - 8;
		do {
			lVar8 = lVar8 + 8;
			uVar7 = ((undefined4 *)lVar8)[1];
			lVar10 = lVar10 + 8;
			*(undefined4 *)lVar10 = *(undefined4 *)lVar8;
			((undefined4 *)lVar10)[1] = uVar7;
			lVar20 = lVar20 + -1;
		} while (lVar20 != 0);
		iVar2 = (int)uVar4;
		*(ushort *)(iVar2 + 4) = (ushort)param_1 | 0x400;
		*(undefined4 *)(iVar2 + 0x38) = 1;
		uVar6 = StoreStatOk(iVar2);
		*(undefined4 *)(iVar2 + 0x164) = (int)uVar6;
		uVar4 = uVar4 + 0x170;
		iVar17 = iVar17 + 1;
	}
	lVar8 = uVar18 + lVar5 * 0x170;
	uVar11 = (undefined)lVar8;
	uVar6 = 0x14 - lVar5;
	uVar9 = (undefined)uVar6;
	if ((int)lVar5 < 0x14) {
		uVar1 = (uint)uVar6 >> 3;
		uVar4 = (ulonglong)uVar1;
		if (uVar1 != 0) {
			do {
				iVar17 = (int)lVar8;
				*(undefined4 *)(iVar17 + 8) = 0xffffffff;
				*(undefined4 *)(iVar17 + 0x178) = 0xffffffff;
				*(undefined4 *)(iVar17 + 0x2e8) = 0xffffffff;
				*(undefined4 *)(iVar17 + 0x458) = 0xffffffff;
				*(undefined4 *)(iVar17 + 0x5c8) = 0xffffffff;
				*(undefined4 *)(iVar17 + 0x738) = 0xffffffff;
				*(undefined4 *)(iVar17 + 0x8a8) = 0xffffffff;
				*(undefined4 *)(iVar17 + 0xa18) = 0xffffffff;
				lVar8 = lVar8 + 0xb80;
				uVar11 = (undefined)lVar8;
				uVar4 = uVar4 - 1;
			} while (uVar4 != 0);
			uVar6 = uVar6 & 7;
			uVar9 = (undefined)uVar6;
			if (uVar6 == 0)
				goto LAB_10052828;
		}
		uVar9 = (undefined)uVar6;
		do {
			*(undefined4 *)((int)lVar8 + 8) = 0xffffffff;
			lVar8 = lVar8 + 0x170;
			uVar11 = (undefined)lVar8;
			uVar6 = uVar6 - 1;
		} while (uVar6 != 0);
	}
LAB_10052828:
	FUN_10052638(uVar9, 0xff, uVar11, (char)lVar12, (char)lVar13, (char)lVar14, (char)lVar15, (char)lVar16,
	    in_stack_ffffffa8);
	return;
}

ulonglong FUN_10052840(int param_1)

{
	char cVar1;
	ulonglong uVar2;

	cVar1 = *(char *)(param_1 * 0x4c + 0x100fc834);
	uVar2 = (ulonglong)(cVar1 != '\0');
	if (cVar1 == '\v') {
		uVar2 = 0;
	}
	if (cVar1 == '\x0e') {
		uVar2 = 0;
	}
	if (cVar1 == '\n') {
		uVar2 = 0;
	}
	if (*PTR_DAT_100f17e0 == '\x01') {
		return uVar2;
	}
	if (cVar1 == '\f') {
		uVar2 = 0;
	}
	if (cVar1 != '\r') {
		return uVar2;
	}
	return 0;
}

longlong FUN_100528c4(char param_1, char param_2, undefined param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	int *piVar1;
	ulonglong uVar2;
	longlong lVar3;
	ulonglong uVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	uint uVar9;
	undefined8 unaff_r29;
	longlong lVar10;
	int iVar11;
	undefined8 unaff_r30;
	ulonglong uVar12;
	undefined8 unaff_r31;
	undefined4 in_stack_fffff7b8;
	undefined in_stack_fffff7bf;
	undefined in_stack_fffff7cb;
	uint local_818[512];
	undefined4 local_18;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	lVar8 = (longlong)param_8;
	lVar7 = (longlong)param_7;
	lVar6 = (longlong)param_6;
	lVar5 = (longlong)param_5;
	lVar3 = (longlong)param_4;
	local_18 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar4 = ZEXT48(&DAT_100fc828);
	lVar10 = 0;
	uVar9 = 1;
	uVar12 = uVar4;
	while (uVar12 = uVar12 + 0x4c, piVar1 = (int *)uVar12, *(char *)((int)piVar1 + 5) != -1) {
		if ((((*piVar1 != 0) && (uVar2 = FUN_10052840(uVar9), (int)uVar2 != 0)) && (param_1 <= *(char *)(piVar1 + 6))) && (*(char *)(piVar1 + 6) <= param_2)) {
			iVar11 = (int)lVar10;
			lVar10 = lVar10 + 1;
			local_818[iVar11] = uVar9;
		}
		uVar9 = uVar9 + 1;
	}
	lVar3 = random(0x32, lVar10, (char)uVar4, (char)lVar3, (char)lVar5, (char)lVar6, (char)lVar7,
	    (char)lVar8, in_stack_fffff7b8, in_stack_fffff7bf, in_stack_fffff7cb);
	return (ulonglong)local_818[(int)lVar3] + 1;
}

void FUN_1005297c(int param_1, longlong param_2, undefined param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined4 uVar3;
	undefined8 uVar2;
	int iVar4;
	longlong lVar5;
	ulonglong uVar6;
	undefined uVar7;
	undefined uVar9;
	undefined4 *puVar8;
	undefined uVar11;
	longlong lVar10;
	longlong lVar12;
	longlong lVar13;
	longlong lVar14;
	ulonglong unaff_r26;
	ulonglong uVar15;
	int iVar16;
	ulonglong uVar17;
	longlong lVar18;
	longlong lVar19;
	undefined4 in_stack_fffffe38;
	undefined in_stack_fffffe3f;
	undefined4 in_stack_fffffe4c;

	iVar16 = _DAT_100f1e28;
	puVar1 = PTR_DAT_100f1940;
	lVar14 = (longlong)param_8;
	lVar13 = (longlong)param_7;
	lVar12 = (longlong)param_6;
	lVar10 = (longlong)param_5;
	lVar19 = (longlong)param_4;
	uVar17 = ZEXT48(PTR_DAT_100f1940);
	lVar5 = uVar17 - 8;
	lVar18 = 0x2e;
	uVar6 = ZEXT48(register0x0000000c) - 0x1a0;
	do {
		lVar5 = lVar5 + 8;
		uVar3 = ((undefined4 *)lVar5)[1];
		uVar6 = uVar6 + 8;
		*(undefined4 *)uVar6 = *(undefined4 *)lVar5;
		((undefined4 *)uVar6)[1] = uVar3;
		lVar18 = lVar18 + -1;
	} while (lVar18 != 0);
	if (0x1e < (int)param_2) {
		param_2 = 0x1e;
	}
	if ((int)param_2 < 1) {
		param_2 = 1;
	}
	uVar2 = 0;
	uVar15 = unaff_r26 & 0xffffffff00000000 | (ulonglong)(uint)((int)param_2 >> 1);
	do {
		uVar7 = (undefined)uVar6;
		uVar9 = (undefined)lVar19;
		uVar11 = (undefined)lVar10;
		uVar3 = GetRndSeed((char)uVar2, (char)lVar5, uVar7, uVar9, uVar11, (char)lVar12, (char)lVar13,
		    (char)lVar14, in_stack_fffffe38);
		*(undefined4 *)puVar1 = uVar3;
		SetRndSeed(*(undefined4 *)puVar1);
		lVar5 = FUN_100528c4((char)((int)param_2 >> 2), (char)param_2, uVar7, uVar9, uVar11, (char)lVar12,
		    (char)lVar13, (char)lVar14, in_stack_fffffe38);
		lVar5 = lVar5 + -1;
		GetItemAttrs(0, (int)lVar5, param_2, uVar9, uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
		    in_stack_fffffe38);
		lVar10 = 1;
		uVar6 = uVar15;
		lVar19 = param_2;
		uVar2 = FUN_1004e8b4(0, (int)lVar5, uVar15, (char)param_2, 1, (char)lVar12, (char)lVar13, (char)lVar14,
		    in_stack_fffffe38, in_stack_fffffe3f, in_stack_fffffe4c);
	} while (140000 < *(int *)(puVar1 + 200));
	lVar5 = uVar17 - 8;
	iVar4 = iVar16 + param_1 * 0x170;
	lVar19 = 0x2e;
	puVar8 = (undefined4 *)(iVar4 + -8);
	do {
		lVar5 = lVar5 + 8;
		uVar3 = ((undefined4 *)lVar5)[1];
		puVar8[2] = *(undefined4 *)lVar5;
		puVar8[3] = uVar3;
		lVar19 = lVar19 + -1;
		puVar8 = puVar8 + 2;
	} while (lVar19 != 0);
	iVar16 = iVar16 + param_1 * 0x170;
	*(ushort *)(iVar16 + 4) = (ushort)param_2 | 0x800;
	*(undefined4 *)(iVar16 + 0x38) = 1;
	uVar6 = StoreStatOk(iVar4);
	*(undefined4 *)(iVar16 + 0x164) = (int)uVar6;
	lVar10 = 0x2e;
	lVar19 = uVar17 - 8;
	lVar5 = ZEXT48(register0x0000000c) - 0x1a0;
	do {
		lVar5 = lVar5 + 8;
		uVar3 = ((undefined4 *)lVar5)[1];
		lVar19 = lVar19 + 8;
		*(undefined4 *)lVar19 = *(undefined4 *)lVar5;
		((undefined4 *)lVar19)[1] = uVar3;
		lVar10 = lVar10 + -1;
	} while (lVar10 != 0);
	return;
}

void SpawnPremium(int param_1, undefined param_2, char param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	undefined4 uVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	int iVar12;
	uint *puVar13;
	ulonglong uVar14;
	ulonglong uVar15;
	longlong lVar16;
	undefined4 in_stack_ffffffa8;

	puVar4 = PTR_DAT_100f1e24;
	puVar3 = PTR_DAT_100f1e20;
	puVar2 = PTR_DAT_100f1e1c;
	lVar11 = (longlong)param_8;
	lVar10 = (longlong)param_7;
	lVar9 = (longlong)param_6;
	lVar8 = (longlong)param_5;
	lVar7 = (longlong)param_4;
	lVar5 = (longlong)param_3;
	uVar15 = (ulonglong)_DAT_100f1e28;
	if (*(int *)PTR_DAT_100f1e24 < 6) {
		iVar12 = 0;
		uVar14 = uVar15;
		puVar13 = (uint *)PTR_DAT_100f1e20;
		do {
			if (*(int *)((int)uVar14 + 8) == -1) {
				FUN_1005297c(iVar12, (ulonglong) * (uint *)puVar2 + (ulonglong)*puVar13, (char)lVar5, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11, in_stack_ffffffa8);
			}
			iVar12 = iVar12 + 1;
			puVar13 = puVar13 + 1;
			uVar14 = uVar14 + 0x170;
		} while (iVar12 < 6);
		*(undefined4 *)puVar4 = 6;
	}
	while (*(int *)puVar2 < param_1) {
		lVar16 = 0x2e;
		lVar6 = uVar15 - 8;
		*(int *)puVar2 = *(int *)puVar2 + 1;
		lVar5 = uVar15 + 0x2d8;
		do {
			lVar5 = lVar5 + 8;
			uVar1 = ((undefined4 *)lVar5)[1];
			lVar6 = lVar6 + 8;
			*(undefined4 *)lVar6 = *(undefined4 *)lVar5;
			((undefined4 *)lVar6)[1] = uVar1;
			lVar16 = lVar16 + -1;
		} while (lVar16 != 0);
		lVar6 = uVar15 + 0x168;
		lVar16 = 0x2e;
		lVar5 = uVar15 + 0x448;
		do {
			lVar5 = lVar5 + 8;
			uVar1 = ((undefined4 *)lVar5)[1];
			lVar6 = lVar6 + 8;
			*(undefined4 *)lVar6 = *(undefined4 *)lVar5;
			((undefined4 *)lVar6)[1] = uVar1;
			lVar16 = lVar16 + -1;
		} while (lVar16 != 0);
		lVar6 = uVar15 + 0x2d8;
		lVar16 = 0x2e;
		lVar5 = uVar15 + 0x5b8;
		do {
			lVar5 = lVar5 + 8;
			uVar1 = ((undefined4 *)lVar5)[1];
			lVar6 = lVar6 + 8;
			*(undefined4 *)lVar6 = *(undefined4 *)lVar5;
			((undefined4 *)lVar6)[1] = uVar1;
			lVar16 = lVar16 + -1;
		} while (lVar16 != 0);
		FUN_1005297c(3, (ulonglong) * (uint *)puVar2 + (ulonglong) * (uint *)(puVar3 + 0xc), (char)lVar6,
		    (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11, in_stack_ffffffa8);
		lVar6 = uVar15 + 0x5b8;
		lVar16 = 0x2e;
		lVar5 = uVar15 + 0x728;
		do {
			lVar5 = lVar5 + 8;
			uVar1 = ((undefined4 *)lVar5)[1];
			lVar6 = lVar6 + 8;
			*(undefined4 *)lVar6 = *(undefined4 *)lVar5;
			((undefined4 *)lVar6)[1] = uVar1;
			lVar16 = lVar16 + -1;
		} while (lVar16 != 0);
		FUN_1005297c(5, (ulonglong) * (uint *)puVar2 + (ulonglong) * (uint *)(puVar3 + 0x14), (char)lVar6,
		    (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11, in_stack_ffffffa8);
	}
	return;
}

ulonglong FUN_10052c28(int param_1)

{
	int iVar1;
	int iVar2;
	ulonglong uVar3;

	param_1 = param_1 * 0x4c;
	uVar3 = (ulonglong)(*(char *)(param_1 + 0x100fc834) == '\0');
	if (*(char *)(param_1 + 0x100fc834) == '\n') {
		uVar3 = 1;
	}
	iVar1 = *(int *)(param_1 + 0x100fc860);
	if (iVar1 == 6) {
		uVar3 = 0;
	}
	if (iVar1 == 7) {
		uVar3 = 0;
	}
	iVar2 = *(int *)(param_1 + 0x100fc864);
	if (iVar2 == 7) {
		uVar3 = 0;
	}
	if (iVar1 == 2) {
		uVar3 = 0;
	}
	if (iVar1 == 3) {
		uVar3 = 0;
	}
	if ((iVar2 == 0x20) && (*PTR_DAT_100f17e0 == '\x01')) {
		uVar3 = 0;
	}
	if (iVar2 != 0x22) {
		return uVar3;
	}
	if (*PTR_DAT_100f17e0 != '\x01') {
		return uVar3;
	}
	return 0;
}

longlong FUN_10052cdc(char param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	ulonglong uVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	uint uVar8;
	undefined8 unaff_r29;
	longlong lVar9;
	int iVar10;
	undefined8 unaff_r30;
	int *piVar11;
	undefined8 unaff_r31;
	undefined4 in_stack_fffff7b8;
	undefined in_stack_fffff7bf;
	undefined in_stack_fffff7cb;
	uint local_818[513];
	undefined4 local_14;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	lVar7 = (longlong)param_8;
	lVar6 = (longlong)param_7;
	lVar5 = (longlong)param_6;
	lVar4 = (longlong)param_5;
	lVar3 = (longlong)param_4;
	lVar2 = (longlong)param_3;
	local_14 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	lVar9 = 0;
	piVar11 = (int *)0x100fc874;
	uVar8 = 1;
	while (*(char *)((int)piVar11 + 5) != -1) {
		if (((*piVar11 != 0) && (uVar1 = FUN_10052c28(uVar8), (int)uVar1 != 0)) && (*(char *)(piVar11 + 6) <= param_1)) {
			iVar10 = (int)lVar9;
			lVar9 = lVar9 + 1;
			local_818[iVar10] = uVar8;
		}
		piVar11 = piVar11 + 0x13;
		uVar8 = uVar8 + 1;
	}
	lVar2 = random(0x33, lVar9, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6,
	    (char)lVar7, in_stack_fffff7b8, in_stack_fffff7bf, in_stack_fffff7cb);
	return (ulonglong)local_818[(int)lVar2] + 1;
}

void FUN_10052d88(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	bool bVar1;
	undefined *puVar2;
	undefined *puVar3;
	int iVar4;
	int iVar5;
	undefined *puVar6;

	puVar2 = PTR_DAT_100f1e58;
	iVar4 = 3;
	puVar6 = PTR_DAT_100f1e58 + 0x450;
	puVar3 = puVar6;
	while (*(int *)(puVar3 + 0x178) != -1) {
		puVar3 = puVar3 + 0x170;
		iVar4 = iVar4 + 1;
	}
	bVar1 = false;
	while ((3 < iVar4 && (!bVar1))) {
		bVar1 = true;
		iVar5 = 3;
		puVar3 = puVar6;
		while (iVar5 < iVar4) {
			if (*(int *)(puVar3 + 0x2d8) < *(int *)(puVar3 + 0x168)) {
				FUN_100525c0((int)puVar3, (int)(puVar2 + (iVar5 + 1) * 0x170));
				bVar1 = false;
			}
			puVar3 = puVar3 + 0x170;
			iVar5 = iVar5 + 1;
		}
		iVar4 = iVar4 + -1;
	}
	return;
}

void FUN_10052e38(int param_1)

{
	uint uVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	longlong lVar5;

	puVar3 = PTR_DAT_100f1828;
	puVar2 = PTR_DAT_100f1824;
	puVar4 = PTR_DAT_100f1e58 + param_1 * 0x170;
	if (*(int *)(puVar4 + 0xdc) != 0x18) {
		return;
	}
	puVar4[0x161] = (char)*(undefined4 *)(PTR_DAT_100f1934 + *(int *)(puVar4 + 0xe0) * 0x38 + 0x1c);
	lVar5 = (longlong)(char)puVar3[*(int *)(puVar4 + 0xe0) + *(int *)puVar2 * 0x55ec + 0xc1];
	while ((int)lVar5 != 0) {
		lVar5 = lVar5 + -1;
		puVar4[0x161] = puVar4[0x161] + (char)((int)((uint)(byte)puVar4[0x161] * 0x14) / 100);
		uVar1 = (int)((uint)(byte)puVar4[0x161] * 0x14) / 100;
		if (0xff < (int)((uint)(byte)puVar4[0x161] + uVar1 + (uVar1 >> 0x1f))) {
			puVar4[0x161] = 0xff;
			lVar5 = 0;
		}
	}
	return;
}

void SpawnWitch(ulonglong param_1, undefined param_2, undefined param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	uint uVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined4 uVar7;
	longlong lVar5;
	ulonglong uVar6;
	longlong lVar8;
	undefined uVar9;
	longlong lVar10;
	ulonglong uVar11;
	undefined uVar12;
	ulonglong uVar13;
	ulonglong uVar14;
	longlong lVar15;
	longlong lVar16;
	longlong lVar17;
	longlong lVar18;
	ulonglong uVar19;
	ushort uVar20;
	int iVar21;
	ulonglong uVar22;
	ulonglong uVar23;
	longlong lVar24;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined in_stack_ffffffab;
	undefined4 in_stack_ffffffac;

	puVar4 = PTR_DAT_100f1e58;
	puVar3 = PTR_DAT_100f1940;
	lVar18 = (longlong)param_8;
	lVar17 = (longlong)param_7;
	lVar16 = (longlong)param_6;
	lVar15 = (longlong)param_5;
	uVar13 = SEXT18(param_4);
	uVar22 = ZEXT48(PTR_DAT_100f1e58);
	uVar23 = ZEXT48(PTR_DAT_100f1940);
	GetItemAttrs(0, 0x19, 1, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff98);
	lVar10 = uVar22 - 8;
	lVar24 = 0x2e;
	lVar8 = uVar23 - 8;
	do {
		lVar8 = lVar8 + 8;
		uVar7 = ((undefined4 *)lVar8)[1];
		lVar10 = lVar10 + 8;
		*(undefined4 *)lVar10 = *(undefined4 *)lVar8;
		((undefined4 *)lVar10)[1] = uVar7;
		lVar24 = lVar24 + -1;
	} while (lVar24 != 0);
	uVar20 = (ushort)param_1;
	*(ushort *)(puVar4 + 4) = uVar20;
	*(undefined4 *)(puVar4 + 0x164) = 1;
	GetItemAttrs(0, 0x1e, 1, (char)uVar13, (char)lVar15, (char)lVar16, (char)lVar17, (char)lVar18,
	    in_stack_ffffff98);
	lVar10 = uVar22 + 0x168;
	lVar24 = 0x2e;
	lVar8 = uVar23 - 8;
	do {
		lVar8 = lVar8 + 8;
		uVar7 = ((undefined4 *)lVar8)[1];
		lVar10 = lVar10 + 8;
		*(undefined4 *)lVar10 = *(undefined4 *)lVar8;
		((undefined4 *)lVar10)[1] = uVar7;
		lVar24 = lVar24 + -1;
	} while (lVar24 != 0);
	*(ushort *)(puVar4 + 0x174) = uVar20;
	*(undefined4 *)(puVar4 + 0x2d4) = 1;
	GetItemAttrs(0, 0x1b, 1, (char)uVar13, (char)lVar15, (char)lVar16, (char)lVar17, (char)lVar18,
	    in_stack_ffffff98);
	uVar11 = uVar22 + 0x2d8;
	lVar10 = 0x2e;
	lVar8 = uVar23 - 8;
	do {
		lVar8 = lVar8 + 8;
		uVar7 = ((undefined4 *)lVar8)[1];
		uVar11 = uVar11 + 8;
		*(undefined4 *)uVar11 = *(undefined4 *)lVar8;
		((undefined4 *)uVar11)[1] = uVar7;
		lVar10 = lVar10 + -1;
	} while (lVar10 != 0);
	*(ushort *)(puVar4 + 0x2e4) = uVar20;
	*(undefined4 *)(puVar4 + 0x444) = 1;
	lVar8 = 8;
	lVar10 = random(0x33, 8, (char)uVar11, (char)uVar13, (char)lVar15, (char)lVar16, (char)lVar17,
	    (char)lVar18, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
	lVar10 = lVar10 + 10;
	lVar24 = uVar22 + 0x450;
	uVar6 = 0;
	uVar19 = (ulonglong)(uint)((int)param_1 << 1);
	iVar21 = 3;
	while (iVar21 < (int)lVar10) {
		do {
			uVar9 = (undefined)lVar8;
			uVar12 = (undefined)uVar11;
			uVar7 = GetRndSeed((char)uVar6, uVar9, uVar12, (char)uVar13, (char)lVar15, (char)lVar16,
			    (char)lVar17, (char)lVar18, in_stack_ffffff98);
			*(undefined4 *)puVar3 = uVar7;
			SetRndSeed(*(undefined4 *)puVar3);
			lVar5 = FUN_10052cdc((char)param_1, uVar9, uVar12, (char)uVar13, (char)lVar15, (char)lVar16,
			    (char)lVar17, (char)lVar18, in_stack_ffffff98);
			lVar5 = lVar5 + -1;
			uVar11 = param_1;
			GetItemAttrs(0, (int)lVar5, param_1, (char)uVar13, (char)lVar15, (char)lVar16, (char)lVar17,
			    (char)lVar18, in_stack_ffffff98);
			lVar8 = 100;
			uVar6 = random(0x33, 100, (char)uVar11, (char)uVar13, (char)lVar15, (char)lVar16, (char)lVar17, (char)lVar18, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
			uVar14 = 0xffffffffffffffff;
			if ((int)uVar6 < 6) {
				uVar14 = uVar19;
			}
			if (((int)uVar14 == -1) && (*(int *)(puVar3 + 0xdc) == 0x17)) {
				uVar14 = uVar19;
			}
			if ((int)uVar14 != -1) {
				uVar11 = uVar11 & 0xffffffff00000000 | (ulonglong)(uint)((int)uVar14 >> 1);
				lVar15 = 1;
				uVar6 = FUN_1004e8b4(0, (int)lVar5, uVar11, (char)uVar14, 1, (char)lVar16, (char)lVar17,
				    (char)lVar18, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffac);
				lVar8 = lVar5;
				uVar13 = uVar14;
			}
		} while (140000 < *(int *)(puVar3 + 200));
		uVar11 = lVar24 - 8;
		lVar5 = 0x2e;
		lVar8 = uVar23 - 8;
		do {
			lVar8 = lVar8 + 8;
			uVar7 = ((undefined4 *)lVar8)[1];
			uVar11 = uVar11 + 8;
			*(undefined4 *)uVar11 = *(undefined4 *)lVar8;
			((undefined4 *)uVar11)[1] = uVar7;
			lVar5 = lVar5 + -1;
		} while (lVar5 != 0);
		iVar2 = (int)lVar24;
		*(ushort *)(iVar2 + 4) = uVar20 | 0x2000;
		*(undefined4 *)(iVar2 + 0x38) = 1;
		FUN_10052e38(iVar21);
		uVar6 = StoreStatOk(iVar2);
		*(undefined4 *)(iVar2 + 0x164) = (int)uVar6;
		lVar24 = lVar24 + 0x170;
		iVar21 = iVar21 + 1;
	}
	lVar8 = uVar22 + lVar10 * 0x170;
	uVar12 = (undefined)lVar8;
	uVar22 = 0x14 - lVar10;
	uVar9 = (undefined)uVar22;
	if ((int)lVar10 < 0x14) {
		uVar1 = (uint)uVar22 >> 3;
		uVar23 = (ulonglong)uVar1;
		if (uVar1 != 0) {
			do {
				iVar21 = (int)lVar8;
				*(undefined4 *)(iVar21 + 8) = 0xffffffff;
				*(undefined4 *)(iVar21 + 0x178) = 0xffffffff;
				*(undefined4 *)(iVar21 + 0x2e8) = 0xffffffff;
				*(undefined4 *)(iVar21 + 0x458) = 0xffffffff;
				*(undefined4 *)(iVar21 + 0x5c8) = 0xffffffff;
				*(undefined4 *)(iVar21 + 0x738) = 0xffffffff;
				*(undefined4 *)(iVar21 + 0x8a8) = 0xffffffff;
				*(undefined4 *)(iVar21 + 0xa18) = 0xffffffff;
				lVar8 = lVar8 + 0xb80;
				uVar12 = (undefined)lVar8;
				uVar23 = uVar23 - 1;
			} while (uVar23 != 0);
			uVar22 = uVar22 & 7;
			uVar9 = (undefined)uVar22;
			if (uVar22 == 0)
				goto LAB_10053148;
		}
		uVar9 = (undefined)uVar22;
		do {
			*(undefined4 *)((int)lVar8 + 8) = 0xffffffff;
			lVar8 = lVar8 + 0x170;
			uVar12 = (undefined)lVar8;
			uVar22 = uVar22 - 1;
		} while (uVar22 != 0);
	}
LAB_10053148:
	FUN_10052d88(uVar9, 0xff, uVar12, (char)uVar13, (char)lVar15, (char)lVar16, (char)lVar17, (char)lVar18,
	    in_stack_ffffff98);
	return;
}

longlong FUN_10053160(char param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	ulonglong uVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	uint uVar8;
	undefined8 unaff_r29;
	longlong lVar9;
	int iVar10;
	undefined8 unaff_r30;
	int *piVar11;
	undefined8 unaff_r31;
	undefined4 in_stack_fffff7b8;
	undefined in_stack_fffff7bf;
	undefined in_stack_fffff7cb;
	uint local_818[513];
	undefined4 local_14;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	lVar7 = (longlong)param_8;
	lVar6 = (longlong)param_7;
	lVar5 = (longlong)param_6;
	lVar4 = (longlong)param_5;
	lVar3 = (longlong)param_4;
	lVar2 = (longlong)param_3;
	local_14 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	lVar9 = 0;
	piVar11 = (int *)0x100fc874;
	uVar8 = 1;
	while (*(char *)((int)piVar11 + 5) != -1) {
		if (((*piVar11 != 0) && (uVar1 = FUN_10052840(uVar8), (int)uVar1 != 0)) && (*(char *)(piVar11 + 6) <= param_1)) {
			iVar10 = (int)lVar9;
			lVar9 = lVar9 + 1;
			local_818[iVar10] = uVar8;
		}
		piVar11 = piVar11 + 0x13;
		uVar8 = uVar8 + 1;
	}
	lVar2 = random(0x31, lVar9, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6,
	    (char)lVar7, in_stack_fffff7b8, in_stack_fffff7bf, in_stack_fffff7cb);
	return (ulonglong)local_818[(int)lVar2] + 1;
}

void SpawnBoy(longlong param_1, char param_2, char param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	uint uVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined4 uVar9;
	longlong lVar6;
	undefined8 uVar7;
	ulonglong uVar8;
	undefined uVar11;
	undefined4 *puVar10;
	undefined uVar13;
	undefined4 *puVar12;
	undefined uVar14;
	undefined uVar16;
	longlong lVar15;
	longlong lVar17;
	longlong lVar18;
	longlong lVar19;
	longlong lVar20;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffbc;

	puVar5 = PTR_DAT_100f1e18;
	puVar4 = PTR_DAT_100f1e14;
	puVar3 = PTR_DAT_100f1940;
	lVar19 = (longlong)param_8;
	lVar18 = (longlong)param_7;
	lVar17 = (longlong)param_6;
	lVar15 = (longlong)param_5;
	uVar8 = SEXT18(param_4);
	lVar20 = (longlong)param_3;
	lVar6 = (longlong)param_2;
	iVar2 = (int)param_1 >> 1;
	if ((*(int *)PTR_DAT_100f1e18 < iVar2) || (*(int *)(PTR_DAT_100f1e14 + 8) == -1)) {
		uVar7 = 0;
		uVar1 = (int)param_1 << 1;
		do {
			uVar11 = (undefined)lVar6;
			uVar13 = (undefined)lVar20;
			uVar14 = (undefined)uVar8;
			uVar16 = (undefined)lVar15;
			uVar9 = GetRndSeed((char)uVar7, uVar11, uVar13, uVar14, uVar16, (char)lVar17, (char)lVar18,
			    (char)lVar19, in_stack_ffffffa8);
			*(undefined4 *)puVar3 = uVar9;
			SetRndSeed(*(undefined4 *)puVar3);
			lVar6 = FUN_10053160((char)param_1, uVar11, uVar13, uVar14, uVar16, (char)lVar17, (char)lVar18,
			    (char)lVar19, in_stack_ffffffa8);
			lVar6 = lVar6 + -1;
			GetItemAttrs(0, (int)lVar6, param_1, uVar14, uVar16, (char)lVar17, (char)lVar18, (char)lVar19,
			    in_stack_ffffffa8);
			lVar15 = 1;
			lVar20 = param_1;
			uVar8 = (ulonglong)uVar1;
			uVar7 = FUN_1004e8b4(0, (int)lVar6, param_1, (char)uVar1, 1, (char)lVar17, (char)lVar18, (char)lVar19, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbc);
		} while (90000 < *(int *)(puVar3 + 200));
		lVar20 = 0x2e;
		puVar10 = (undefined4 *)(puVar3 + -8);
		puVar12 = (undefined4 *)(puVar4 + -8);
		do {
			uVar9 = puVar10[3];
			puVar12[2] = puVar10[2];
			puVar12[3] = uVar9;
			lVar20 = lVar20 + -1;
			puVar10 = puVar10 + 2;
			puVar12 = puVar12 + 2;
		} while (lVar20 != 0);
		*(ushort *)(puVar4 + 4) = (ushort)param_1 | 0x1000;
		*(undefined4 *)(puVar4 + 0x38) = 1;
		uVar8 = StoreStatOk((int)puVar4);
		*(int *)(puVar4 + 0x164) = (int)uVar8;
		*(int *)puVar5 = iVar2;
	}
	return;
}

undefined8 FUN_100532fc(int param_1)

{
	int iVar1;
	undefined8 uVar2;

	param_1 = param_1 * 0x4c;
	uVar2 = 0;
	if (*(char *)(param_1 + 0x100fc834) != '\0') {
		return 0;
	}
	iVar1 = *(int *)(param_1 + 0x100fc860);
	if ((iVar1 == 0x15) && (*(int *)(param_1 + 0x100fc864) == 2)) {
		uVar2 = 1;
	}
	if (((iVar1 == 0x16) && (*(int *)(param_1 + 0x100fc864) == 0x20)) && (*PTR_DAT_100f17e0 != '\x01')) {
		uVar2 = 0;
	}
	if (((iVar1 == 0x16) && (*(int *)(param_1 + 0x100fc864) == 0x22)) && (*PTR_DAT_100f17e0 != '\x01')) {
		uVar2 = 1;
	}
	if (*PTR_DAT_100f17e0 == '\x01') {
		if (iVar1 == 10) {
			uVar2 = 1;
		}
		if (iVar1 == 0xb) {
			uVar2 = 1;
		}
		if (iVar1 == 0xc) {
			uVar2 = 1;
		}
		if (iVar1 == 0xd) {
			uVar2 = 1;
		}
	}
	if (iVar1 == 2) {
		uVar2 = 1;
	}
	if (iVar1 == 0x12) {
		uVar2 = 1;
	}
	if (iVar1 == 0x13) {
		uVar2 = 1;
	}
	if (iVar1 == 3) {
		uVar2 = 0;
	}
	if (iVar1 == 2) {
		uVar2 = 0;
	}
	if (iVar1 == 6) {
		uVar2 = 0;
	}
	if (iVar1 != 7) {
		return uVar2;
	}
	return 0;
}

longlong FUN_10053424(char param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined8 uVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	uint uVar8;
	undefined8 unaff_r29;
	longlong lVar9;
	int iVar10;
	undefined8 unaff_r30;
	int *piVar11;
	undefined8 unaff_r31;
	undefined4 in_stack_fffff7b8;
	undefined in_stack_fffff7bf;
	undefined in_stack_fffff7cb;
	uint local_818[513];
	undefined4 local_14;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	lVar7 = (longlong)param_8;
	lVar6 = (longlong)param_7;
	lVar5 = (longlong)param_6;
	lVar4 = (longlong)param_5;
	lVar3 = (longlong)param_4;
	lVar2 = (longlong)param_3;
	local_14 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	lVar9 = 0;
	piVar11 = (int *)0x100fc874;
	uVar8 = 1;
	while (*(char *)((int)piVar11 + 5) != -1) {
		if (((*piVar11 != 0) && (uVar1 = FUN_100532fc(uVar8), (int)uVar1 != 0)) && (*(char *)(piVar11 + 6) <= param_1)) {
			iVar10 = (int)lVar9;
			lVar9 = lVar9 + 1;
			local_818[iVar10] = uVar8;
		}
		piVar11 = piVar11 + 0x13;
		uVar8 = uVar8 + 1;
	}
	lVar2 = random(0x32, lVar9, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6,
	    (char)lVar7, in_stack_fffff7b8, in_stack_fffff7bf, in_stack_fffff7cb);
	return (ulonglong)local_818[(int)lVar2] + 1;
}

void FUN_100534d0(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	bool bVar1;
	int iVar2;
	int iVar3;
	int iVar4;
	int iVar5;
	int iVar6;

	iVar2 = _DAT_100f1e10;
	iVar4 = 2;
	iVar6 = _DAT_100f1e10 + 0x2e0;
	iVar3 = iVar6;
	while (*(int *)(iVar3 + 0x178) != -1) {
		iVar3 = iVar3 + 0x170;
		iVar4 = iVar4 + 1;
	}
	bVar1 = false;
	while ((2 < iVar4 && (!bVar1))) {
		bVar1 = true;
		iVar5 = 2;
		iVar3 = iVar6;
		while (iVar5 < iVar4) {
			if (*(int *)(iVar3 + 0x2d8) < *(int *)(iVar3 + 0x168)) {
				FUN_100525c0(iVar3, iVar2 + (iVar5 + 1) * 0x170);
				bVar1 = false;
			}
			iVar3 = iVar3 + 0x170;
			iVar5 = iVar5 + 1;
		}
		iVar4 = iVar4 + -1;
	}
	return;
}

void SpawnHealer(longlong param_1, undefined param_2, undefined param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	char *pcVar1;
	uint uVar2;
	int iVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	longlong lVar6;
	ulonglong uVar7;
	undefined4 uVar8;
	longlong lVar9;
	undefined uVar10;
	longlong lVar11;
	undefined uVar12;
	longlong lVar13;
	longlong lVar14;
	longlong lVar15;
	longlong lVar16;
	longlong lVar17;
	longlong lVar18;
	undefined2 uVar19;
	ulonglong uVar20;
	ulonglong uVar21;
	longlong lVar22;
	longlong lVar23;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	uVar2 = _DAT_100f1e10;
	puVar4 = PTR_DAT_100f1940;
	lVar17 = (longlong)param_8;
	lVar16 = (longlong)param_7;
	lVar15 = (longlong)param_6;
	lVar14 = (longlong)param_5;
	lVar13 = (longlong)param_4;
	ppuVar5 = &toc;
	uVar20 = (ulonglong)_DAT_100f1e10;
	uVar21 = ZEXT48(PTR_DAT_100f1940);
	GetItemAttrs(0, 0x18, 1, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	lVar11 = uVar20 - 8;
	lVar22 = 0x2e;
	lVar9 = uVar21 - 8;
	do {
		lVar9 = lVar9 + 8;
		uVar8 = ((undefined4 *)lVar9)[1];
		lVar11 = lVar11 + 8;
		*(undefined4 *)lVar11 = *(undefined4 *)lVar9;
		((undefined4 *)lVar11)[1] = uVar8;
		lVar22 = lVar22 + -1;
	} while (lVar22 != 0);
	uVar19 = (undefined2)param_1;
	*(undefined2 *)(uVar2 + 4) = uVar19;
	*(undefined4 *)(uVar2 + 0x164) = 1;
	GetItemAttrs(0, 0x1d, 1, (char)lVar13, (char)lVar14, (char)lVar15, (char)lVar16, (char)lVar17,
	    in_stack_ffffffa8);
	lVar11 = uVar20 + 0x168;
	lVar22 = 0x2e;
	lVar9 = uVar21 - 8;
	do {
		lVar9 = lVar9 + 8;
		uVar8 = ((undefined4 *)lVar9)[1];
		lVar11 = lVar11 + 8;
		*(undefined4 *)lVar11 = *(undefined4 *)lVar9;
		((undefined4 *)lVar11)[1] = uVar8;
		lVar22 = lVar22 + -1;
	} while (lVar22 != 0);
	*(undefined2 *)(uVar2 + 0x174) = uVar19;
	pcVar1 = ppuVar5[-0x1dfc];
	*(undefined4 *)(uVar2 + 0x2d4) = 1;
	if (*pcVar1 == '\x01') {
		lVar9 = 2;
	} else {
		GetItemAttrs(0, 0x22, 1, (char)lVar13, (char)lVar14, (char)lVar15, (char)lVar16, (char)lVar17,
		    in_stack_ffffffa8);
		lVar11 = uVar20 + 0x2d8;
		lVar22 = 0x2e;
		lVar9 = uVar21 - 8;
		do {
			lVar9 = lVar9 + 8;
			uVar8 = ((undefined4 *)lVar9)[1];
			lVar11 = lVar11 + 8;
			*(undefined4 *)lVar11 = *(undefined4 *)lVar9;
			((undefined4 *)lVar11)[1] = uVar8;
			lVar22 = lVar22 + -1;
		} while (lVar22 != 0);
		*(undefined2 *)(uVar2 + 0x2e4) = uVar19;
		lVar9 = 3;
		*(undefined4 *)(uVar2 + 0x444) = 1;
	}
	lVar22 = 8;
	lVar6 = random(0x32, 8, (char)lVar11, (char)lVar13, (char)lVar14, (char)lVar15, (char)lVar16,
	    (char)lVar17, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
	lVar6 = lVar6 + 10;
	uVar7 = param_1 | 0x4000;
	lVar18 = uVar20 + lVar9 * 0x170;
	uVar19 = (undefined2)uVar7;
	while (true) {
		uVar12 = (undefined)lVar11;
		uVar10 = (undefined)lVar22;
		if ((int)lVar6 <= (int)lVar9)
			break;
		uVar8 = GetRndSeed((char)uVar7, uVar10, uVar12, (char)lVar13, (char)lVar14, (char)lVar15,
		    (char)lVar16, (char)lVar17, in_stack_ffffffa8);
		*(undefined4 *)puVar4 = uVar8;
		SetRndSeed(*(undefined4 *)puVar4);
		lVar11 = FUN_10053424((char)param_1, uVar10, uVar12, (char)lVar13, (char)lVar14, (char)lVar15,
		    (char)lVar16, (char)lVar17, in_stack_ffffffa8);
		GetItemAttrs(0, (int)lVar11 + -1, param_1, (char)lVar13, (char)lVar14, (char)lVar15, (char)lVar16,
		    (char)lVar17, in_stack_ffffffa8);
		lVar11 = lVar18 + -8;
		lVar23 = 0x2e;
		lVar22 = uVar21 - 8;
		do {
			lVar22 = lVar22 + 8;
			uVar8 = ((undefined4 *)lVar22)[1];
			lVar11 = lVar11 + 8;
			*(undefined4 *)lVar11 = *(undefined4 *)lVar22;
			((undefined4 *)lVar11)[1] = uVar8;
			lVar23 = lVar23 + -1;
		} while (lVar23 != 0);
		iVar3 = (int)lVar18;
		*(undefined2 *)(iVar3 + 4) = uVar19;
		*(undefined4 *)(iVar3 + 0x38) = 1;
		uVar7 = StoreStatOk(iVar3);
		*(undefined4 *)(iVar3 + 0x164) = (int)uVar7;
		lVar18 = lVar18 + 0x170;
		lVar9 = lVar9 + 1;
	}
	lVar9 = uVar20 + lVar6 * 0x170;
	uVar12 = (undefined)lVar9;
	uVar20 = 0x14 - lVar6;
	uVar10 = (undefined)uVar20;
	if ((int)lVar6 < 0x14) {
		uVar2 = (uint)uVar20 >> 3;
		uVar21 = (ulonglong)uVar2;
		if (uVar2 != 0) {
			do {
				iVar3 = (int)lVar9;
				*(undefined4 *)(iVar3 + 8) = 0xffffffff;
				*(undefined4 *)(iVar3 + 0x178) = 0xffffffff;
				*(undefined4 *)(iVar3 + 0x2e8) = 0xffffffff;
				*(undefined4 *)(iVar3 + 0x458) = 0xffffffff;
				*(undefined4 *)(iVar3 + 0x5c8) = 0xffffffff;
				*(undefined4 *)(iVar3 + 0x738) = 0xffffffff;
				*(undefined4 *)(iVar3 + 0x8a8) = 0xffffffff;
				*(undefined4 *)(iVar3 + 0xa18) = 0xffffffff;
				lVar9 = lVar9 + 0xb80;
				uVar12 = (undefined)lVar9;
				uVar21 = uVar21 - 1;
			} while (uVar21 != 0);
			uVar20 = uVar20 & 7;
			uVar10 = (undefined)uVar20;
			if (uVar20 == 0)
				goto LAB_10053774;
		}
		uVar10 = (undefined)uVar20;
		do {
			*(undefined4 *)((int)lVar9 + 8) = 0xffffffff;
			lVar9 = lVar9 + 0x170;
			uVar12 = (undefined)lVar9;
			uVar20 = uVar20 - 1;
		} while (uVar20 != 0);
	}
LAB_10053774:
	FUN_100534d0(uVar10, 0xff, uVar12, (char)lVar13, (char)lVar14, (char)lVar15, (char)lVar16, (char)lVar17,
	    in_stack_ffffffa8);
	return;
}

void SpawnStoreGold(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 uVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined4 *puVar4;
	undefined4 *puVar5;
	longlong lVar6;
	undefined4 in_stack_ffffffc8;

	puVar2 = PTR_DAT_100f1e5c;
	ppuVar3 = &toc;
	GetItemAttrs(0, 0, 1, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	lVar6 = 0x2e;
	puVar4 = (undefined4 *)(ppuVar3[-0x1da4] + -8);
	puVar5 = (undefined4 *)(puVar2 + -8);
	do {
		uVar1 = puVar4[3];
		puVar5[2] = puVar4[2];
		puVar5[3] = uVar1;
		lVar6 = lVar6 + -1;
		puVar4 = puVar4 + 2;
		puVar5 = puVar5 + 2;
	} while (lVar6 != 0);
	*(undefined4 *)(puVar2 + 0x164) = 1;
	return;
}

void FUN_100537f4(int param_1, undefined4 param_2, longlong param_3, undefined4 param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11)

{
	longlong lVar1;
	undefined *puVar2;
	char cVar3;
	undefined uVar4;
	undefined4 in_stack_ffffffb8;

	puVar2 = PTR_DAT_100f1940;
	uVar4 = (undefined)param_4;
	cVar3 = (char)param_3;
	SetRndSeed(param_4);
	lVar1 = FUN_100524fc((char)param_3, (undefined)param_2, cVar3, uVar4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	GetItemAttrs(param_1, (int)lVar1 + -1, param_3, uVar4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	*(undefined4 *)(puVar2 + param_1 * 0x170) = param_4;
	puVar2 = puVar2 + param_1 * 0x170;
	*(ushort *)(puVar2 + 4) = (ushort)param_3 | 0x400;
	*(undefined4 *)(puVar2 + 0x38) = 1;
	return;
}

void FUN_10053880(undefined8 param_1, undefined4 param_2, ulonglong param_3, undefined4 param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11)

{
	undefined *puVar1;
	longlong lVar2;
	int iVar3;
	char cVar5;
	char cVar6;
	ulonglong uVar4;
	undefined uVar7;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffcc;

	puVar1 = PTR_DAT_100f1940;
	cVar5 = (char)param_3;
	uVar7 = (undefined)param_4;
	cVar6 = cVar5;
	SetRndSeed(param_4);
	lVar2 = FUN_100528c4((char)((int)param_3 >> 2), cVar5, cVar6, uVar7, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	iVar3 = (int)lVar2 + -1;
	uVar4 = param_3;
	GetItemAttrs((int)param_1, iVar3, param_3, uVar7, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	FUN_1004e8b4(param_1, iVar3, uVar4 & 0xffffffff00000000 | (ulonglong)(uint)((int)param_3 >> 1), cVar5, 1, param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc);
	iVar3 = (int)param_1 * 0x170;
	*(undefined4 *)(puVar1 + iVar3) = param_4;
	puVar1 = puVar1 + iVar3;
	*(ushort *)(puVar1 + 4) = (ushort)param_3 | 0x800;
	*(undefined4 *)(puVar1 + 0x38) = 1;
	return;
}

void FUN_10053914(undefined8 param_1, undefined4 param_2, longlong param_3, undefined4 param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11)

{
	undefined *puVar1;
	longlong lVar2;
	int iVar3;
	char cVar4;
	undefined uVar5;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffcc;

	puVar1 = PTR_DAT_100f1940;
	uVar5 = (undefined)param_4;
	cVar4 = (char)param_3;
	SetRndSeed(param_4);
	lVar2 = FUN_10053160((char)param_3, (undefined)param_2, cVar4, uVar5, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	iVar3 = (int)lVar2 + -1;
	GetItemAttrs((int)param_1, iVar3, param_3, uVar5, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	FUN_1004e8b4(param_1, iVar3, param_3, (char)((int)param_3 << 1), 1, param_6, param_7, param_8,
	    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc);
	iVar3 = (int)param_1 * 0x170;
	*(undefined4 *)(puVar1 + iVar3) = param_4;
	puVar1 = puVar1 + iVar3;
	*(ushort *)(puVar1 + 4) = (ushort)param_3 | 0x1000;
	*(undefined4 *)(puVar1 + 0x38) = 1;
	return;
}

void FUN_100539a4(undefined8 param_1, int param_2, ulonglong param_3, undefined4 param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	int iVar3;
	longlong lVar2;
	undefined uVar5;
	int iVar4;
	char cVar7;
	ulonglong uVar6;
	undefined uVar8;
	int iVar9;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined in_stack_ffffffcb;
	undefined4 in_stack_ffffffcc;

	puVar1 = PTR_DAT_100f1940;
	uVar8 = (undefined)param_4;
	uVar5 = (undefined)param_2;
	iVar3 = (int)param_1;
	if (((param_2 == 0x19) || (param_2 == 0x1e)) || (param_2 == 0x1b)) {
		GetItemAttrs(iVar3, param_2, param_3, uVar8, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	} else {
		cVar7 = (char)param_3;
		SetRndSeed(param_4);
		lVar2 = FUN_10052cdc((char)param_3, uVar5, cVar7, uVar8, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8);
		iVar4 = (int)lVar2 + -1;
		uVar6 = param_3;
		GetItemAttrs(iVar3, iVar4, param_3, uVar8, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
		iVar9 = -1;
		lVar2 = random(0x33, 100, (char)uVar6, uVar8, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb);
		if ((int)lVar2 < 6) {
			iVar9 = (int)param_3 << 1;
		}
		if ((iVar9 == -1) && (*(int *)(puVar1 + iVar3 * 0x170 + 0xdc) == 0x17)) {
			iVar9 = (int)param_3 << 1;
		}
		if (iVar9 != -1) {
			FUN_1004e8b4(param_1, iVar4, uVar6 & 0xffffffff00000000 | (ulonglong)(uint)(iVar9 >> 1),
			    (char)iVar9, 1, param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf,
			    in_stack_ffffffcc);
		}
	}
	*(undefined4 *)(puVar1 + iVar3 * 0x170) = param_4;
	*(ushort *)(puVar1 + iVar3 * 0x170 + 4) = (ushort)param_3 | 0x2000;
	*(undefined4 *)(puVar1 + iVar3 * 0x170 + 0x38) = 1;
	return;
}

void FUN_10053a9c(int param_1, int param_2, longlong param_3, undefined4 param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	longlong lVar1;
	undefined *puVar2;
	undefined uVar3;
	char cVar4;
	undefined uVar5;
	undefined4 in_stack_ffffffb8;

	puVar2 = PTR_DAT_100f1940;
	uVar5 = (undefined)param_4;
	uVar3 = (undefined)param_2;
	if (((param_2 == 0x18) || (param_2 == 0x1d)) || (param_2 == 0x22)) {
		GetItemAttrs(param_1, param_2, param_3, uVar5, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	} else {
		cVar4 = (char)param_3;
		SetRndSeed(param_4);
		lVar1 = FUN_10053424((char)param_3, uVar3, cVar4, uVar5, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8);
		GetItemAttrs(param_1, (int)lVar1 + -1, param_3, uVar5, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8);
	}
	*(undefined4 *)(puVar2 + param_1 * 0x170) = param_4;
	puVar2 = puVar2 + param_1 * 0x170;
	*(ushort *)(puVar2 + 4) = (ushort)param_3 | 0x4000;
	*(undefined4 *)(puVar2 + 0x38) = 1;
	return;
}

void FUN_10053b4c(undefined8 param_1, int param_2, uint param_3, undefined4 param_4, undefined4 param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9,
    undefined param_10, undefined4 param_11)

{
	undefined uVar1;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffdc;

	uVar1 = (undefined)param_3;
	if ((param_3 & 0x400) == 0) {
		if ((param_3 & 0x800) == 0) {
			if ((param_3 & 0x1000) == 0) {
				if ((param_3 & 0x2000) == 0) {
					if ((param_3 & 0x4000) != 0) {
						FUN_10053a9c((int)param_1, param_2, (ulonglong)(param_3 & 0x3f), param_4, (undefined)param_5, uVar1, param_7, param_8, in_stack_ffffffc8);
					}
				} else {
					FUN_100539a4(param_1, param_2, (ulonglong)(param_3 & 0x3f), param_4, (undefined)param_5, uVar1,
					    param_7, param_8, in_stack_ffffffc8);
				}
			} else {
				FUN_10053914(param_1, param_2, (ulonglong)(param_3 & 0x3f), param_4, (undefined)param_5, uVar1,
				    param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffdc);
			}
		} else {
			FUN_10053880(param_1, param_2, (ulonglong)(param_3 & 0x3f), param_4, (undefined)param_5, uVar1,
			    param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffdc);
		}
	} else {
		FUN_100537f4((int)param_1, param_2, (ulonglong)(param_3 & 0x3f), param_4, (undefined)param_5, uVar1,
		    param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffdc);
	}
	return;
}

void RecalcStoreStats(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	ulonglong uVar2;
	ulonglong uVar3;
	int iVar4;
	int iVar5;

	puVar1 = PTR_DAT_100f1e14;
	uVar3 = ZEXT48(&toc);
	iVar4 = 0;
	iVar5 = _DAT_100f1e2c;
	do {
		if (*(int *)(iVar5 + 8) != -1) {
			uVar2 = StoreStatOk(iVar5);
			*(undefined4 *)(iVar5 + 0x164) = (int)uVar2;
		}
		iVar4 = iVar4 + 1;
		iVar5 = iVar5 + 0x170;
	} while (iVar4 < 0x14);
	iVar4 = 0;
	iVar5 = *(int *)((int)uVar3 + -0x71a8);
	do {
		if (*(int *)(iVar5 + 8) != -1) {
			uVar2 = StoreStatOk(iVar5);
			*(undefined4 *)(iVar5 + 0x164) = (int)uVar2;
		}
		iVar4 = iVar4 + 1;
		iVar5 = iVar5 + 0x170;
	} while (iVar4 < 6);
	iVar4 = 0;
	iVar5 = *(int *)((int)uVar3 + -0x7178);
	do {
		if (*(int *)(iVar5 + 8) != -1) {
			uVar2 = StoreStatOk(iVar5);
			*(undefined4 *)(iVar5 + 0x164) = (int)uVar2;
		}
		iVar4 = iVar4 + 1;
		iVar5 = iVar5 + 0x170;
	} while (iVar4 < 0x14);
	iVar4 = 0;
	iVar5 = *(int *)((int)uVar3 + -0x71c0);
	do {
		if (*(int *)(iVar5 + 8) != -1) {
			uVar3 = StoreStatOk(iVar5);
			*(undefined4 *)(iVar5 + 0x164) = (int)uVar3;
		}
		iVar4 = iVar4 + 1;
		iVar5 = iVar5 + 0x170;
	} while (iVar4 < 0x14);
	uVar3 = StoreStatOk((int)puVar1);
	*(int *)(puVar1 + 0x164) = (int)uVar3;
	return;
}

void FUN_10053cd4(void)

{
	undefined *puVar1;

	puVar1 = PTR_DAT_100f1940 + *(int *)(_DAT_100f1df0 + *_DAT_100f1dec * 4 + -4) * 0x170;
	*(undefined4 *)(puVar1 + 0x20) = *(undefined4 *)(puVar1 + 0x1c);
	*(undefined4 *)(puVar1 + 0x14) = 0;
	puVar1[0x30] = 1;
	return;
}

void FUN_10053d14(int param_1, int param_2, int param_3, int param_4, int param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	undefined *puVar3;
	undefined *puVar4;
	bool bVar5;
	undefined *puVar6;
	uint *puVar7;
	uint *puVar8;
	undefined **ppuVar9;
	ulonglong uVar10;
	ulonglong uVar11;
	ulonglong uVar12;
	ulonglong uVar13;
	undefined uVar15;
	ulonglong uVar14;
	longlong lVar16;
	longlong lVar17;
	longlong lVar18;
	longlong lVar19;
	undefined4 in_stack_ffffff98;

	puVar8 = _DAT_100f1dec;
	puVar7 = _DAT_100f1ddc;
	puVar6 = PTR_DAT_100f17ec;
	lVar19 = (longlong)param_8;
	lVar18 = (longlong)param_7;
	lVar17 = (longlong)param_6;
	uVar15 = (undefined)param_4;
	ppuVar9 = &toc;
	bVar5 = false;
	lVar16 = (longlong)param_5;
	uVar10 = FUN_1004ee04('\0', 0x18, (char)param_3, uVar15, (char)param_5, param_6, param_7, param_8,
	    in_stack_ffffff98);
	if ((int)*puVar8 < 0x7f) {
		uVar1 = *puVar7;
		FUN_1004cf1c(param_1, param_2, (char)uVar1, uVar15, (char)lVar16, (char)lVar17, (char)lVar18,
		    (char)lVar19, in_stack_ffffff98);
		uVar2 = *puVar8;
		uVar14 = (ulonglong)uVar2;
		puVar3 = ppuVar9[-0x1da4];
		puVar4 = ppuVar9[-0x1c78];
		uVar12 = ZEXT48(puVar4);
		uVar13 = 0x7e - uVar14;
		uVar11 = (ulonglong)puVar7[(int)uVar13];
		*puVar7 = puVar7[(int)uVar13];
		*(uint *)(puVar4 + uVar2 * 4) = uVar1;
		do {
			uVar13 = GetRndSeed((char)uVar11, (char)uVar12, (char)uVar13, (char)uVar14, (char)lVar16,
			    (char)lVar17, (char)lVar18, (char)lVar19, in_stack_ffffff98);
			uVar14 = (ulonglong)(byte)*puVar6 << 1;
			lVar16 = 1;
			lVar17 = 1;
			lVar18 = 0;
			uVar12 = uVar10;
			lVar19 = (longlong)param_5;
			uVar11 = FUN_1004f37c((ulonglong)uVar1, (int)uVar10, uVar13, uVar14, 1, 1, 0, param_5,
			    in_stack_ffffff98);
			if ((*(int *)(puVar3 + uVar1 * 0x170 + 0xdc) == 0x18) && (param_3 == *(int *)(puVar3 + uVar1 * 0x170 + 0xe0))) {
				bVar5 = true;
			}
		} while (!bVar5);
		if (param_4 != 0) {
			FUN_1007b364(0, (ulonglong)uVar1);
		}
		if (param_5 != 0) {
			FUN_1007a03c(uVar1);
		}
		*puVar8 = *puVar8 + 1;
	}
	return;
}

void FUN_10053e38(int param_1, int param_2, char param_3, int param_4, int param_5, int param_6,
    char param_7, char param_8, undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	undefined *puVar3;
	uint uVar4;
	bool bVar5;
	undefined *puVar6;
	uint *puVar7;
	uint *puVar8;
	undefined **ppuVar9;
	ulonglong uVar10;
	ulonglong uVar11;
	ulonglong uVar12;
	ulonglong uVar13;
	ulonglong uVar14;
	longlong lVar15;
	longlong lVar16;
	longlong lVar17;
	ulonglong uVar18;
	undefined4 in_stack_ffffffa8;

	puVar8 = _DAT_100f1dec;
	puVar7 = _DAT_100f1ddc;
	puVar6 = PTR_DAT_100f17ec;
	lVar17 = (longlong)param_8;
	lVar16 = (longlong)param_7;
	ppuVar9 = &toc;
	bVar5 = false;
	if ((int)*_DAT_100f1dec < 0x7f) {
		uVar1 = *_DAT_100f1ddc;
		lVar15 = (longlong)param_6;
		FUN_1004cf1c(param_1, param_2, (char)uVar1, (char)param_4, (char)param_5, (char)param_6, param_7,
		    param_8, in_stack_ffffffa8);
		uVar2 = *puVar8;
		uVar14 = (ulonglong)uVar2;
		puVar3 = ppuVar9[-0x1c78];
		uVar12 = ZEXT48(puVar3);
		uVar4 = puVar7[0x7e - uVar2];
		uVar13 = (ulonglong)uVar4;
		*puVar7 = uVar4;
		*(uint *)(puVar3 + uVar2 * 4) = uVar1;
		uVar10 = FUN_1004ee04(param_3, 0, (char)puVar3, (char)uVar4, (char)uVar2, (char)lVar15, (char)lVar16,
		    (char)lVar17, in_stack_ffffffa8);
		puVar3 = ppuVar9[-0x1da4];
		uVar11 = ZEXT48(puVar3);
		uVar18 = uVar10;
		do {
			uVar12 = GetRndSeed((char)uVar10, (char)uVar11, (char)uVar12, (char)uVar13, (char)uVar14,
			    (char)lVar15, (char)lVar16, (char)lVar17, in_stack_ffffffa8);
			uVar13 = (ulonglong)(byte)*puVar6 << 1;
			uVar14 = 1;
			lVar15 = 1;
			lVar16 = 0;
			uVar11 = uVar18;
			lVar17 = (longlong)param_6;
			uVar10 = FUN_1004f37c((ulonglong)uVar1, (int)uVar18, uVar12, uVar13, 1, 1, 0, param_6,
			    in_stack_ffffffa8);
			if (param_4 == *(int *)(puVar3 + uVar1 * 0x170 + 0xc0)) {
				bVar5 = true;
			} else {
				uVar11 = 0;
				uVar10 = FUN_1004ee04(param_3, 0, (char)uVar12, (char)uVar13, (char)uVar14, (char)lVar15,
				    (char)lVar16, (char)lVar17, in_stack_ffffffa8);
				uVar18 = uVar10;
			}
		} while (!bVar5);
		if (param_5 != 0) {
			FUN_1007b364(0, (ulonglong)uVar1);
		}
		if (param_6 != 0) {
			FUN_1007a03c(uVar1);
		}
		*puVar8 = *puVar8 + 1;
	}
	return;
}

void FUN_10053f58(int param_1, int param_2, char param_3, int param_4, int param_5, int param_6,
    char param_7, char param_8, undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	undefined *puVar3;
	uint uVar4;
	bool bVar5;
	undefined *puVar6;
	uint *puVar7;
	uint *puVar8;
	undefined **ppuVar9;
	ulonglong uVar10;
	ulonglong uVar11;
	ulonglong uVar12;
	ulonglong uVar13;
	ulonglong uVar14;
	longlong lVar15;
	longlong lVar16;
	longlong lVar17;
	ulonglong uVar18;
	undefined4 in_stack_ffffffa8;

	puVar8 = _DAT_100f1dec;
	puVar7 = _DAT_100f1ddc;
	puVar6 = PTR_DAT_100f17ec;
	lVar17 = (longlong)param_8;
	lVar16 = (longlong)param_7;
	ppuVar9 = &toc;
	bVar5 = false;
	if ((int)*_DAT_100f1dec < 0x7f) {
		uVar1 = *_DAT_100f1ddc;
		lVar15 = (longlong)param_6;
		FUN_1004cf1c(param_1, param_2, (char)uVar1, (char)param_4, (char)param_5, (char)param_6, param_7,
		    param_8, in_stack_ffffffa8);
		uVar2 = *puVar8;
		uVar14 = (ulonglong)uVar2;
		puVar3 = ppuVar9[-0x1c78];
		uVar12 = ZEXT48(puVar3);
		uVar4 = puVar7[0x7e - uVar2];
		uVar13 = (ulonglong)uVar4;
		*puVar7 = uVar4;
		*(uint *)(puVar3 + uVar2 * 4) = uVar1;
		uVar10 = FUN_1004ee04(param_3, 0, (char)puVar3, (char)uVar4, (char)uVar2, (char)lVar15, (char)lVar16,
		    (char)lVar17, in_stack_ffffffa8);
		puVar3 = ppuVar9[-0x1da4];
		uVar11 = ZEXT48(puVar3);
		uVar18 = uVar10;
		do {
			uVar12 = GetRndSeed((char)uVar10, (char)uVar11, (char)uVar12, (char)uVar13, (char)uVar14,
			    (char)lVar15, (char)lVar16, (char)lVar17, in_stack_ffffffa8);
			uVar13 = (ulonglong)(byte)*puVar6 << 1;
			uVar14 = 1;
			lVar15 = 1;
			lVar16 = 0;
			uVar11 = uVar18;
			lVar17 = (longlong)param_6;
			uVar10 = FUN_1004f37c((ulonglong)uVar1, (int)uVar18, uVar12, uVar13, 1, 1, 0, param_6,
			    in_stack_ffffffa8);
			if (param_4 == *(int *)(puVar3 + uVar1 * 0x170 + 0xc0)) {
				bVar5 = true;
			} else {
				uVar11 = 0;
				uVar10 = FUN_1004ee04(param_3, 0, (char)uVar12, (char)uVar13, (char)uVar14, (char)lVar15,
				    (char)lVar16, (char)lVar17, in_stack_ffffffa8);
				uVar18 = uVar10;
			}
		} while (!bVar5);
		if (param_5 != 0) {
			FUN_1007b364(0, (ulonglong)uVar1);
		}
		if (param_6 != 0) {
			FUN_1007a03c(uVar1);
		}
		*puVar8 = *puVar8 + 1;
	}
	return;
}

void FUN_10054078(int param_1)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;

	puVar3 = PTR_DAT_100f1e0c;
	puVar2 = PTR_DAT_100f1e08;
	*(int *)PTR_DAT_100f1e0c = *(int *)PTR_DAT_100f1e0c + -1;
	if (*(int *)puVar3 == 0) {
		return;
	}
	iVar1 = *(int *)puVar3 * 0x10;
	param_1 = param_1 * 0x10;
	*(undefined4 *)(puVar2 + 8 + param_1) = *(undefined4 *)(puVar2 + 8 + iVar1);
	*(undefined4 *)(puVar2 + param_1) = *(undefined4 *)(puVar2 + iVar1);
	*(undefined2 *)(puVar2 + 4 + param_1) = *(undefined2 *)(puVar2 + 4 + iVar1);
	*(undefined4 *)(puVar2 + 0xc + param_1) = *(undefined4 *)(puVar2 + 0xc + iVar1);
	return;
}

undefined8
FUN_100540d0(int param_1, short param_2, int param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	longlong lVar3;
	int *piVar4;
	int iVar5;
	undefined in_stack_ffffffab;
	undefined in_stack_ffffffaf;
	undefined4 local_4c;

	puVar2 = PTR_DAT_100f1e0c;
	puVar1 = PTR_DAT_100f1e08;
	lVar3 = GetTickCount((char)param_1, (char)param_2, (char)param_3, param_4, param_5, param_6, param_7,
	    param_8, in_stack_ffffffab, in_stack_ffffffaf, local_4c);
	iVar5 = 0;
	do {
		if (*(int *)puVar2 <= iVar5) {
			return 1;
		}
		piVar4 = (int *)(puVar1 + iVar5 * 0x10);
		if ((lVar3 - (ulonglong)(uint)piVar4[3] & 0xffffffff) < 0x1771) {
			if (((param_1 == *piVar4) && (param_2 == *(short *)(piVar4 + 1))) && (param_3 == piVar4[2])) {
				return 0;
			}
		} else {
			FUN_10054078(iVar5);
			iVar5 = iVar5 + -1;
		}
		iVar5 = iVar5 + 1;
	} while (true);
}

void FUN_10054188(undefined4 param_1, undefined2 param_2, undefined4 param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined4 uVar4;
	undefined *puVar5;
	undefined in_stack_ffffffbb;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	puVar3 = PTR_DAT_100f1e0c;
	puVar2 = PTR_DAT_100f1e08;
	uVar4 = GetTickCount((char)param_1, (char)param_2, (char)param_3, param_4, param_5, param_6, param_7,
	    param_8, in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
	if (*(int *)puVar3 != 0x7f) {
		iVar1 = *(int *)puVar3 * 0x10;
		puVar5 = puVar2 + iVar1;
		*(undefined4 *)(puVar5 + 0xc) = uVar4;
		*(undefined4 *)(puVar2 + iVar1) = param_1;
		*(undefined2 *)(puVar5 + 4) = param_2;
		*(undefined4 *)(puVar5 + 8) = param_3;
		*(int *)puVar3 = *(int *)puVar3 + 1;
	}
	return;
}

void FUN_100541f8(int param_1, short param_2, int param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	longlong lVar3;
	int *piVar4;
	int iVar5;
	undefined in_stack_ffffffab;
	undefined in_stack_ffffffaf;
	undefined4 local_4c;

	puVar2 = PTR_DAT_100f1e0c;
	puVar1 = PTR_DAT_100f1e08;
	lVar3 = GetTickCount((char)param_1, (char)param_2, (char)param_3, param_4, param_5, param_6, param_7,
	    param_8, in_stack_ffffffab, in_stack_ffffffaf, local_4c);
	iVar5 = 0;
	do {
		if (*(int *)puVar2 <= iVar5) {
			return;
		}
		piVar4 = (int *)(puVar1 + iVar5 * 0x10);
		if ((lVar3 - (ulonglong)(uint)piVar4[3] & 0xffffffff) < 0x1771) {
			if (((param_1 == *piVar4) && (param_2 == *(short *)(piVar4 + 1))) && (param_3 == piVar4[2])) {
				FUN_10054078(iVar5);
				return;
			}
		} else {
			FUN_10054078(iVar5);
			iVar5 = iVar5 + -1;
		}
		iVar5 = iVar5 + 1;
	} while (true);
}

void FUN_100542b0(void)

{
	_DAT_100f41d0 = _DAT_100f41cc;
	return;
}

ulonglong BLoad(void)

{
	byte bVar1;

	bVar1 = *_DAT_100f41d8;
	_DAT_100f41d8 = _DAT_100f41d8 + 1;
	return (ulonglong)bVar1;
}

ulonglong WLoad(void)

{
	byte bVar1;
	byte *pbVar2;
	byte *pbVar3;
	byte *pbVar4;

	pbVar2 = _DAT_100f41d8 + 1;
	bVar1 = *_DAT_100f41d8;
	pbVar3 = _DAT_100f41d8 + 2;
	pbVar4 = _DAT_100f41d8 + 3;
	_DAT_100f41d8 = _DAT_100f41d8 + 4;
	return (ulonglong)bVar1 << 0x18 | (ulonglong)*pbVar2 << 0x10 | (ulonglong)*pbVar3 << 8 | (ulonglong)*pbVar4;
}

ulonglong ILoad(void)

{
	byte bVar1;
	byte *pbVar2;
	byte *pbVar3;
	byte *pbVar4;

	pbVar2 = _DAT_100f41d8 + 1;
	bVar1 = *_DAT_100f41d8;
	pbVar3 = _DAT_100f41d8 + 2;
	pbVar4 = _DAT_100f41d8 + 3;
	_DAT_100f41d8 = _DAT_100f41d8 + 4;
	return (ulonglong)bVar1 << 0x18 | (ulonglong)*pbVar2 << 0x10 | (ulonglong)*pbVar3 << 8 | (ulonglong)*pbVar4;
}

undefined8 OLoad(void)

{
	if (*_DAT_100f41d8 == '\x01') {
		_DAT_100f41d8 = _DAT_100f41d8 + 1;
		return 1;
	}
	_DAT_100f41d8 = _DAT_100f41d8 + 1;
	return 0;
}

void LoadPlayer(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 in_stack_ffffffc8;
	byte *local_8[2];

	ppuVar1 = &toc;
	local_8[0] = _DAT_100f41d8;
	memcpy((uint *)(PTR_DAT_100f1828 + param_1 * 0x55ec), local_8, 0xb0, param_4, param_5, param_6,
	    param_7, param_8, in_stack_ffffffc8);
	ppuVar1[-0x137e] = local_8[0];
	return;
}

void LoadMonster(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined **ppuVar2;
	longlong lVar3;
	undefined8 uVar4;
	undefined4 in_stack_ffffffb8;

	puVar1 = _DAT_100f41d8;
	ppuVar2 = &toc;
	uVar4 = 0xd8;
	lVar3 = ZEXT48(register0x0000000c) - 0x18;
	memcpy((uint *)(PTR_DAT_100f187c + (int)param_1 * 0xe8), (byte **)lVar3);
	ppuVar2[-0x137e] = puVar1;
	SyncMonsterAnim(param_1, lVar3, uVar4, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	return;
}

void LoadMissile(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	byte *local_8[2];

	ppuVar1 = &toc;
	local_8[0] = _DAT_100f41d8;
	memcpy((uint *)(PTR_DAT_100f196c + param_1 * 0xb4), local_8);
	ppuVar1[-0x137e] = local_8[0];
	return;
}

void LoadObject(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	byte *local_8[2];

	ppuVar1 = &toc;
	local_8[0] = _DAT_100f41d8;
	memcpy((uint *)(PTR_DAT_100f1948 + param_1 * 0x78), local_8);
	ppuVar1[-0x137e] = local_8[0];
	return;
}

void LoadItem(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	byte *local_18[6];

	ppuVar1 = &toc;
	local_18[0] = _DAT_100f41d8;
	memcpy((uint *)(PTR_DAT_100f1940 + param_1 * 0x170), local_18, 0x170, 1);
	ppuVar1[-0x137e] = local_18[0];
	GetItemFrm(param_1);
	return;
}

void LoadPremium(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	byte *local_8[2];

	ppuVar1 = &toc;
	local_8[0] = _DAT_100f41d8;
	memcpy((uint *)(_DAT_100f1e28 + param_1 * 0x170), local_8, 0x170, 1);
	ppuVar1[-0x137e] = local_8[0];
	return;
}

void LoadQuest(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	ulonglong uVar2;
	byte *local_8[2];

	ppuVar1 = &toc;
	local_8[0] = _DAT_100f41d8;
	memcpy(PTR_DAT_100f19cc + param_1 * 0x18, local_8);
	ppuVar1[-0x137e] = local_8[0];
	uVar2 = WLoad();
	*(int *)ppuVar1[-0x1c4c] = (int)uVar2;
	uVar2 = WLoad();
	*(int *)ppuVar1[-0x1c4d] = (int)uVar2;
	uVar2 = WLoad();
	*(int *)ppuVar1[-0x1c4e] = (int)uVar2;
	uVar2 = WLoad();
	*(int *)ppuVar1[-0x1c4f] = (int)uVar2;
	uVar2 = WLoad();
	*(int *)ppuVar1[-0x1d57] = (int)uVar2;
	return;
}

void LoadLighting(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	byte *local_8[2];

	ppuVar1 = &toc;
	local_8[0] = _DAT_100f41d8;
	memcpy((uint *)(PTR_DAT_100f1e90 + param_1 * 0x34), local_8);
	ppuVar1[-0x137e] = local_8[0];
	return;
}

void LoadVision(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	byte *local_8[2];

	ppuVar1 = &toc;
	local_8[0] = _DAT_100f41d8;
	memcpy((uint *)(_DAT_100f1e8c + param_1 * 0x34), local_8);
	ppuVar1[-0x137e] = local_8[0];
	return;
}

void LoadPortal(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	byte *local_8[2];

	ppuVar1 = &toc;
	local_8[0] = _DAT_100f41d8;
	memcpy((uint *)(_DAT_100f1e88 + param_1 * 0x18), local_8);
	ppuVar1[-0x137e] = local_8[0];
	return;
}

void LoadGame(undefined8 uParm1, undefined8 uParm2, undefined8 uParm3, undefined8 uParm4,
    undefined8 uParm5, undefined8 uParm6, undefined8 uParm7, undefined8 uParm8)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined *puVar12;
	undefined8 uVar13;
	longlong lVar14;
	ulonglong uVar15;
	ulonglong uVar16;
	undefined uVar17;
	longlong lVar18;
	ulonglong uVar19;
	undefined uVar20;
	undefined7 uVar21;
	undefined uVar22;
	undefined7 uVar23;
	undefined uVar24;
	undefined7 uVar25;
	undefined uVar26;
	undefined4 uVar27;
	undefined4 uVar28;
	undefined uVar29;
	undefined4 uVar30;
	undefined4 uVar31;
	undefined uVar32;
	undefined4 uVar33;
	undefined4 uVar34;
	undefined uVar35;
	undefined8 in_r13;
	ulonglong uVar36;
	undefined8 unaff_r14;
	undefined8 unaff_r15;
	undefined8 unaff_r16;
	undefined8 unaff_r17;
	undefined8 unaff_r18;
	undefined8 unaff_r19;
	byte *pbVar37;
	undefined8 unaff_r20;
	undefined8 unaff_r21;
	undefined8 unaff_r22;
	undefined8 unaff_r23;
	undefined8 unaff_r24;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	int iVar38;
	int iVar39;
	undefined *puVar40;
	undefined8 unaff_r30;
	undefined4 *puVar41;
	uint *puVar42;
	int *piVar43;
	undefined *puVar44;
	int iVar45;
	undefined *puVar46;
	undefined8 unaff_r31;
	undefined4 *puVar47;
	int iVar48;
	uint param_11;
	undefined4 in_stack_fffffe58;
	undefined in_stack_fffffe5f;
	undefined4 in_stack_fffffe68;
	undefined4 in_stack_fffffe6c;
	undefined4 in_stack_fffffe70;
	undefined4 in_stack_fffffe74;
	undefined4 in_stack_fffffe78;
	undefined4 in_stack_fffffe7c;
	undefined4 in_stack_fffffe80;
	undefined4 in_stack_fffffe84;
	undefined auStack376[264];
	uint local_70;
	undefined4 local_6c;
	undefined4 local_68;
	undefined4 local_64;
	undefined4 local_60;
	undefined4 local_5c;
	undefined4 local_58;
	undefined4 local_4c;
	undefined4 uStack72;
	undefined4 uStack68;
	undefined4 uStack64;
	undefined4 uStack60;
	undefined4 uStack56;
	undefined4 uStack52;
	undefined4 uStack48;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar12 = PTR_DAT_100f1e78;
	pbVar37 = PTR_DAT_100f1e74;
	puVar11 = PTR_DAT_100f1e6c;
	puVar10 = PTR_DAT_100f1e3c;
	puVar9 = PTR_DAT_100f1a44;
	puVar8 = PTR_DAT_100f1a40;
	puVar7 = PTR_DAT_100f1a3c;
	puVar6 = PTR_DAT_100f19a4;
	puVar5 = PTR_DAT_100f19a0;
	puVar44 = PTR_DAT_100f1968;
	puVar4 = PTR_DAT_100f1954;
	puVar3 = PTR_DAT_100f1950;
	puVar2 = PTR_DAT_100f194c;
	puVar46 = PTR_DAT_100f1944;
	puVar40 = PTR_DAT_100f1834;
	uVar34 = (undefined4)uParm8;
	uVar33 = (undefined4)((ulonglong)uParm8 >> 0x20);
	uVar31 = (undefined4)uParm7;
	uVar30 = (undefined4)((ulonglong)uParm7 >> 0x20);
	uVar28 = (undefined4)uParm6;
	uVar27 = (undefined4)((ulonglong)uParm6 >> 0x20);
	uVar26 = (undefined)uParm5;
	uVar25 = (undefined7)((ulonglong)uParm5 >> 8);
	uVar24 = (undefined)uParm4;
	uVar23 = (undefined7)((ulonglong)uParm4 >> 8);
	uVar22 = (undefined)uParm3;
	uVar21 = (undefined7)((ulonglong)uParm3 >> 8);
	uVar16 = ZEXT48(&toc);
	local_4c = (undefined4)((ulonglong)in_r13 >> 0x20);
	uStack72 = (undefined4)((ulonglong)unaff_r14 >> 0x20);
	uStack68 = (undefined4)((ulonglong)unaff_r15 >> 0x20);
	uStack64 = (undefined4)((ulonglong)unaff_r16 >> 0x20);
	uStack60 = (undefined4)((ulonglong)unaff_r17 >> 0x20);
	uStack56 = (undefined4)((ulonglong)unaff_r18 >> 0x20);
	uStack52 = (undefined4)((ulonglong)unaff_r19 >> 0x20);
	uStack48 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar36 = (ulonglong)_DAT_100f1dec;
	param_11 = (uint)uParm1;
	uVar13 = FreeGameMem((char)uParm1, (char)uParm2, uVar22, uVar24, uVar26, (char)uParm6, (char)uParm7,
	    (char)uParm8, in_stack_fffffe58);
	uVar17 = (undefined)uParm2;
	pfile_remove_temp_files(uVar13, uParm2, CONCAT71(uVar21, uVar22), CONCAT71(uVar23, uVar24), CONCAT71(uVar25, uVar26), uVar28, uVar31, uVar34, in_stack_fffffe58);
	pfile_get_game_name((int)auStack376, uVar17, uVar22, uVar24, uVar26, (char)uVar28, (char)uVar31, (char)uVar34,
	    in_stack_fffffe58);
	lVar18 = ZEXT48(register0x0000000c) - 0x74;
	lVar14 = pfile_read(ZEXT48(register0x0000000c) - 0x178, (uint *)lVar18, CONCAT71(uVar21, uVar22),
	    CONCAT71(uVar23, uVar24), CONCAT71(uVar25, uVar26), uVar28, uVar31, uVar34,
	    in_stack_fffffe58);
	local_70 = (uint)lVar14;
	*(uint *)((int)uVar16 + -0x4df8) = local_70;
	uVar15 = ILoad();
	if ((uVar15 - 0x52450000 & 0xffffffff) != 0x544c) {
		app_fatal(*(int *)((int)uVar16 + -0x5f68), lVar18, CONCAT71(uVar21, uVar22),
		    CONCAT71(uVar23, uVar24), CONCAT71(uVar25, uVar26), uVar28, uVar31, uVar34,
		    in_stack_fffffe58, in_stack_fffffe5f, in_stack_fffffe68, in_stack_fffffe6c,
		    in_stack_fffffe70, in_stack_fffffe74, in_stack_fffffe78, in_stack_fffffe7c,
		    in_stack_fffffe80, in_stack_fffffe84);
	}
	uVar13 = OLoad();
	**(undefined **)((int)uVar16 + -0x77d8) = (char)uVar13;
	uVar15 = WLoad();
	**(undefined **)((int)uVar16 + -0x77e0) = (char)uVar15;
	uVar15 = WLoad();
	**(undefined **)((int)uVar16 + -0x77e4) = (char)uVar15;
	uVar15 = WLoad();
	**(undefined **)((int)uVar16 + -0x7794) = (char)uVar15;
	uVar15 = WLoad();
	local_6c = (undefined4)uVar15;
	uVar15 = WLoad();
	local_68 = (undefined4)uVar15;
	uVar13 = OLoad();
	**(undefined4 **)((int)uVar16 + -0x77bc) = (int)uVar13;
	uVar13 = OLoad();
	puVar47 = *(undefined4 **)((int)uVar16 + -0x77c4);
	uVar19 = ZEXT48(puVar47);
	*puVar47 = (int)uVar13;
	uVar15 = WLoad();
	local_64 = (undefined4)uVar15;
	uVar15 = WLoad();
	local_60 = (undefined4)uVar15;
	uVar15 = WLoad();
	local_5c = (undefined4)uVar15;
	uVar15 = WLoad();
	puVar47 = *(undefined4 **)((int)uVar16 + -0x75ec);
	iVar38 = 0;
	local_58 = (undefined4)uVar15;
	puVar41 = *(undefined4 **)((int)uVar16 + -0x71f8);
	do {
		uVar15 = ILoad();
		*puVar47 = (int)uVar15;
		uVar15 = WLoad();
		iVar38 = iVar38 + 1;
		*puVar41 = (int)uVar15;
		puVar47 = puVar47 + 1;
		puVar41 = puVar41 + 1;
	} while (iVar38 < 0x11);
	LoadPlayer(**(int **)((int)uVar16 + -0x77ac), (char)uVar19, uVar22, uVar24, uVar26, (char)uVar28,
	    (char)uVar31, (char)uVar34, in_stack_fffffe58);
	iVar38 = 0;
	do {
		LoadQuest(iVar38, (char)uVar19, uVar22, uVar24, uVar26, (char)uVar28, (char)uVar31, (char)uVar34,
		    in_stack_fffffe58);
		iVar38 = iVar38 + 1;
	} while (iVar38 < 0x10);
	iVar38 = 0;
	do {
		LoadPortal(iVar38, (char)uVar19, uVar22, uVar24, uVar26, (char)uVar28, (char)uVar31, (char)uVar34,
		    in_stack_fffffe58);
		iVar38 = iVar38 + 1;
	} while (iVar38 < 4);
	uVar15 = 4;
	LoadGameLevel((ulonglong)param_11, 4, CONCAT71(uVar21, uVar22), CONCAT71(uVar23, uVar24),
	    CONCAT71(uVar25, uVar26), CONCAT44(uVar27, uVar28), CONCAT44(uVar30, uVar31),
	    CONCAT44(uVar33, uVar34), in_stack_fffffe58);
	SyncInitPlr((ulonglong) * *(uint **)((int)uVar16 + -0x77ac), uVar15, CONCAT71(uVar21, uVar22),
	    CONCAT71(uVar23, uVar24), CONCAT71(uVar25, uVar26), uVar28, uVar31, uVar34,
	    in_stack_fffffe58);
	SyncPlrAnim((ulonglong) * *(uint **)((int)uVar16 + -0x77ac), uVar15, CONCAT71(uVar21, uVar22),
	    CONCAT71(uVar23, uVar24), CONCAT71(uVar25, uVar26), uVar28, uVar31, uVar34,
	    in_stack_fffffe58);
	iVar38 = (int)uVar16;
	iVar39 = 0;
	puVar47 = *(undefined4 **)(iVar38 + -0x77b4);
	uVar15 = ZEXT48(puVar47);
	**(undefined4 **)(iVar38 + -0x77b0) = local_6c;
	puVar41 = *(undefined4 **)(iVar38 + -0x714c);
	*puVar47 = local_68;
	*(undefined4 *)puVar6 = local_64;
	*(undefined4 *)uVar36 = local_60;
	*(undefined4 *)puVar44 = local_5c;
	*(undefined4 *)puVar10 = local_58;
	do {
		uVar19 = ILoad();
		iVar39 = iVar39 + 1;
		*puVar41 = (int)uVar19;
		puVar41 = puVar41 + 1;
	} while (iVar39 < 200);
	if (**(char **)((int)uVar16 + -0x7794) != '\0') {
		iVar38 = 0;
		puVar47 = *(undefined4 **)((int)uVar16 + -0x7628);
		do {
			uVar19 = WLoad();
			iVar38 = iVar38 + 1;
			*puVar47 = (int)uVar19;
			puVar47 = puVar47 + 1;
		} while (iVar38 < 200);
		iVar38 = 0;
		puVar42 = *(uint **)((int)uVar16 + -0x7628);
		while (iVar38 < *(int *)puVar6) {
			LoadMonster((ulonglong)*puVar42, uVar15, CONCAT71(uVar21, uVar22), CONCAT71(uVar23, uVar24),
			    CONCAT71(uVar25, uVar26), uVar28, uVar31, uVar34, in_stack_fffffe58);
			puVar42 = puVar42 + 1;
			iVar38 = iVar38 + 1;
		}
		iVar38 = 0;
		piVar43 = *(int **)((int)uVar16 + -0x7660);
		do {
			uVar19 = BLoad();
			iVar38 = iVar38 + 1;
			*piVar43 = (int)(char)uVar19;
			piVar43 = piVar43 + 1;
		} while (iVar38 < 0x7d);
		iVar38 = 0;
		piVar43 = *(int **)((int)uVar16 + -0x7150);
		do {
			uVar19 = BLoad();
			iVar38 = iVar38 + 1;
			*piVar43 = (int)(char)uVar19;
			piVar43 = piVar43 + 1;
		} while (iVar38 < 0x7d);
		iVar38 = 0;
		piVar43 = *(int **)((int)uVar16 + -0x7660);
		while (iVar38 < *(int *)puVar44) {
			LoadMissile(*piVar43, (char)uVar15, uVar22, uVar24, uVar26, (char)uVar28, (char)uVar31, (char)uVar34, in_stack_fffffe58);
			piVar43 = piVar43 + 1;
			iVar38 = iVar38 + 1;
		}
		iVar38 = 0;
		piVar43 = *(int **)((int)uVar16 + -0x7190);
		do {
			uVar19 = BLoad();
			iVar38 = iVar38 + 1;
			*piVar43 = (int)(char)uVar19;
			piVar43 = piVar43 + 1;
		} while (iVar38 < 0x7f);
		iVar38 = 0;
		piVar43 = *(int **)((int)uVar16 + -0x7154);
		do {
			uVar19 = BLoad();
			iVar38 = iVar38 + 1;
			*piVar43 = (int)(char)uVar19;
			piVar43 = piVar43 + 1;
		} while (iVar38 < 0x7f);
		iVar38 = 0;
		piVar43 = *(int **)((int)uVar16 + -0x7190);
		while (iVar38 < *(int *)puVar10) {
			LoadObject(*piVar43, (char)uVar15, uVar22, uVar24, uVar26, (char)uVar28, (char)uVar31, (char)uVar34, in_stack_fffffe58);
			piVar43 = piVar43 + 1;
			iVar38 = iVar38 + 1;
		}
		iVar38 = 0;
		puVar42 = *(uint **)((int)uVar16 + -0x7190);
		while (iVar38 < *(int *)puVar10) {
			SyncObjectAnim((ulonglong)*puVar42);
			puVar42 = puVar42 + 1;
			iVar38 = iVar38 + 1;
		}
		uVar19 = WLoad();
		*(int *)puVar12 = (int)uVar19;
		iVar38 = 0;
		puVar44 = pbVar37;
		do {
			uVar19 = BLoad();
			iVar38 = iVar38 + 1;
			*puVar44 = (char)uVar19;
			puVar44 = puVar44 + 1;
		} while (iVar38 < 0x20);
		iVar38 = 0;
		while (iVar38 < *(int *)puVar12) {
			LoadLighting((uint)*pbVar37, (char)uVar15, uVar22, uVar24, uVar26, (char)uVar28, (char)uVar31,
			    (char)uVar34, in_stack_fffffe58);
			pbVar37 = pbVar37 + 1;
			iVar38 = iVar38 + 1;
		}
		uVar19 = WLoad();
		puVar47 = *(undefined4 **)((int)uVar16 + -0x7160);
		uVar15 = ZEXT48(puVar47);
		*puVar47 = (int)uVar19;
		uVar19 = WLoad();
		*(int *)puVar11 = (int)uVar19;
		iVar38 = 0;
		while (iVar38 < *(int *)puVar11) {
			LoadVision(iVar38, (char)uVar15, uVar22, uVar24, uVar26, (char)uVar28, (char)uVar31, (char)uVar34,
			    in_stack_fffffe58);
			iVar38 = iVar38 + 1;
		}
	}
	iVar38 = 0;
	piVar43 = *(int **)((int)uVar16 + -0x71e0);
	do {
		uVar19 = BLoad();
		iVar38 = iVar38 + 1;
		*piVar43 = (int)(char)uVar19;
		piVar43 = piVar43 + 1;
	} while (iVar38 < 0x7f);
	iVar38 = 0;
	piVar43 = *(int **)((int)uVar16 + -0x71f4);
	do {
		uVar19 = BLoad();
		iVar38 = iVar38 + 1;
		*piVar43 = (int)(char)uVar19;
		piVar43 = piVar43 + 1;
	} while (iVar38 < 0x7f);
	iVar38 = 0;
	piVar43 = *(int **)((int)uVar16 + -0x71e0);
	while (iVar38 < *(int *)uVar36) {
		LoadItem(*piVar43, (char)uVar15, uVar22, uVar24, uVar26, (char)uVar28, (char)uVar31, (char)uVar34,
		    in_stack_fffffe58);
		piVar43 = piVar43 + 1;
		iVar38 = iVar38 + 1;
	}
	iVar38 = 0;
	puVar47 = *(undefined4 **)((int)uVar16 + -0x7170);
	do {
		uVar13 = OLoad();
		iVar38 = iVar38 + 1;
		*puVar47 = (int)uVar13;
		puVar47 = puVar47 + 1;
	} while (iVar38 < 0x80);
	iVar38 = 0;
	do {
		iVar45 = 0;
		iVar39 = 0;
		do {
			uVar15 = BLoad();
			iVar45 = iVar45 + 1;
			iVar48 = *(int *)puVar9 + iVar39;
			iVar39 = iVar39 + 0x70;
			*(undefined *)(iVar38 + iVar48) = (char)uVar15;
		} while (iVar45 < 0x70);
		iVar38 = iVar38 + 1;
	} while (iVar38 < 0x70);
	iVar38 = 0;
	do {
		iVar45 = 0;
		iVar39 = 0;
		do {
			uVar15 = BLoad();
			iVar45 = iVar45 + 1;
			iVar48 = *(int *)puVar40 + iVar39;
			iVar39 = iVar39 + 0x70;
			*(undefined *)(iVar38 + iVar48) = (char)uVar15;
		} while (iVar45 < 0x70);
		iVar38 = iVar38 + 1;
	} while (iVar38 < 0x70);
	iVar38 = 0;
	do {
		iVar45 = 0;
		iVar39 = 0;
		do {
			uVar15 = BLoad();
			iVar45 = iVar45 + 1;
			iVar48 = *(int *)puVar3 + iVar39;
			iVar39 = iVar39 + 0x70;
			*(undefined *)(iVar38 + iVar48) = (char)uVar15;
		} while (iVar45 < 0x70);
		iVar38 = iVar38 + 1;
	} while (iVar38 < 0x70);
	iVar38 = 0;
	do {
		iVar45 = 0;
		iVar39 = 0;
		do {
			uVar15 = BLoad();
			iVar45 = iVar45 + 1;
			iVar48 = *(int *)puVar46 + iVar39;
			iVar39 = iVar39 + 0x70;
			*(undefined *)(iVar38 + iVar48) = (char)uVar15;
		} while (iVar45 < 0x70);
		iVar38 = iVar38 + 1;
	} while (iVar38 < 0x70);
	if (**(char **)((int)uVar16 + -0x7794) != '\0') {
		iVar38 = 0;
		iVar39 = 0;
		do {
			iVar48 = 0;
			iVar45 = 0;
			do {
				uVar15 = WLoad();
				iVar48 = iVar48 + 1;
				iVar1 = *(int *)puVar4 + iVar45;
				iVar45 = iVar45 + 0xe0;
				*(undefined2 *)(iVar39 + iVar1) = (short)uVar15;
			} while (iVar48 < 0x70);
			iVar38 = iVar38 + 1;
			iVar39 = iVar39 + 2;
		} while (iVar38 < 0x70);
		iVar38 = 0;
		do {
			iVar45 = 0;
			iVar39 = 0;
			do {
				uVar15 = BLoad();
				iVar45 = iVar45 + 1;
				iVar48 = *(int *)puVar5 + iVar39;
				iVar39 = iVar39 + 0x70;
				*(undefined *)(iVar38 + iVar48) = (char)uVar15;
			} while (iVar45 < 0x70);
			iVar38 = iVar38 + 1;
		} while (iVar38 < 0x70);
		iVar38 = 0;
		do {
			iVar45 = 0;
			iVar39 = 0;
			do {
				uVar15 = BLoad();
				iVar45 = iVar45 + 1;
				iVar48 = *(int *)puVar2 + iVar39;
				iVar39 = iVar39 + 0x70;
				*(undefined *)(iVar38 + iVar48) = (char)uVar15;
			} while (iVar45 < 0x70);
			iVar38 = iVar38 + 1;
		} while (iVar38 < 0x70);
		iVar38 = 0;
		do {
			iVar45 = 0;
			iVar39 = 0;
			do {
				uVar15 = BLoad();
				iVar45 = iVar45 + 1;
				iVar48 = *(int *)puVar9 + iVar39;
				iVar39 = iVar39 + 0x70;
				*(undefined *)(iVar38 + iVar48) = (char)uVar15;
			} while (iVar45 < 0x70);
			iVar38 = iVar38 + 1;
		} while (iVar38 < 0x70);
		iVar38 = 0;
		do {
			iVar45 = 0;
			iVar39 = 0;
			do {
				uVar15 = BLoad();
				iVar45 = iVar45 + 1;
				iVar48 = *(int *)puVar8 + iVar39;
				iVar39 = iVar39 + 0x70;
				*(undefined *)(iVar38 + iVar48) = (char)uVar15;
			} while (iVar45 < 0x70);
			iVar38 = iVar38 + 1;
		} while (iVar38 < 0x70);
		iVar38 = 0;
		puVar40 = *(undefined **)((int)uVar16 + -0x7798);
		do {
			iVar39 = 0;
			puVar46 = puVar40;
			do {
				uVar13 = OLoad();
				iVar39 = iVar39 + 1;
				*puVar46 = (char)uVar13;
				puVar46 = puVar46 + 0x28;
			} while (iVar39 < 0x28);
			iVar38 = iVar38 + 1;
			puVar40 = puVar40 + 1;
		} while (iVar38 < 0x28);
		iVar38 = 0;
		do {
			iVar45 = 0;
			iVar39 = 0;
			do {
				uVar15 = BLoad();
				iVar45 = iVar45 + 1;
				iVar48 = *(int *)puVar7 + iVar39;
				iVar39 = iVar39 + 0x70;
				*(undefined *)(iVar38 + iVar48) = (char)uVar15;
			} while (iVar45 < 0x70);
			iVar38 = iVar38 + 1;
		} while (iVar38 < 0x70);
	}
	uVar15 = WLoad();
	**(undefined4 **)((int)uVar16 + -0x71ac) = (int)uVar15;
	uVar15 = WLoad();
	puVar47 = *(undefined4 **)((int)uVar16 + -0x71b4);
	uVar36 = ZEXT48(puVar47);
	iVar38 = 0;
	*puVar47 = (int)uVar15;
	do {
		LoadPremium(iVar38, (char)uVar36, uVar22, uVar24, uVar26, (char)uVar28, (char)uVar31, (char)uVar34,
		    in_stack_fffffe58);
		iVar39 = (int)uVar16;
		iVar38 = iVar38 + 1;
	} while (iVar38 < 6);
	uVar13 = OLoad();
	**(undefined4 **)(iVar39 + -0x7778) = (int)uVar13;
	uVar16 = WLoad();
	puVar47 = *(undefined4 **)(iVar39 + -0x777c);
	uVar15 = ZEXT48(puVar47);
	*puVar47 = (int)uVar16;
	mem_free_dbg((ulonglong)local_70, (char)puVar47, uVar22, uVar24, uVar26, (char)uVar28, (char)uVar31,
	    (char)uVar34, in_stack_fffffe58);
	uVar13 = AutomapZoomReset();
	uVar35 = (undefined)uVar34;
	uVar32 = (undefined)uVar31;
	uVar29 = (undefined)uVar28;
	uVar20 = (undefined)uVar15;
	ResyncQuests(uVar13, uVar15, CONCAT71(uVar21, uVar22), CONCAT71(uVar23, uVar24), CONCAT71(uVar25, uVar26), uVar28, uVar31, uVar34, in_stack_fffffe58);
	uVar17 = SUB41(*(char **)(iVar39 + -0x7794), 0);
	if (**(char **)(iVar39 + -0x7794) != '\0') {
		uVar17 = ProcessLightList(uVar17, uVar20, uVar22, uVar24, uVar26, uVar29, uVar32, uVar35, in_stack_fffffe58);
	}
	uVar17 = RedoPlayerVision(uVar17, uVar20, uVar22, uVar24, uVar26, uVar29, uVar32, uVar35, in_stack_fffffe58);
	ProcessVisionList(uVar17, uVar20, uVar22, uVar24, uVar26, uVar29, uVar32, uVar35, in_stack_fffffe58);
	uVar17 = missiles_process_charge();
	ResetPal(uVar17, uVar20, uVar22, uVar24, uVar26, uVar29, uVar32, uVar35, in_stack_fffffe58);
	SetCursor_(1, uVar20, uVar22, uVar24, uVar26, uVar29, uVar32, uVar35, in_stack_fffffe58);
	**(undefined4 **)(iVar39 + -0x75a8) = 1;
	return;
}

void BSave(undefined param_1)

{
	undefined *puVar1;

	puVar1 = _DAT_100f41d8 + 1;
	*_DAT_100f41d8 = param_1;
	_DAT_100f41d8 = puVar1;
	return;
}

void WSave(undefined8 param_1)

{
	undefined *puVar1;

	puVar1 = _DAT_100f41d8 + 1;
	*_DAT_100f41d8 = (char)((ulonglong)param_1 >> 0x18);
	_DAT_100f41d8 = puVar1;
	puVar1 = _DAT_100f41d8 + 1;
	*_DAT_100f41d8 = (char)((ulonglong)param_1 >> 0x10);
	_DAT_100f41d8 = puVar1;
	puVar1 = _DAT_100f41d8 + 1;
	*_DAT_100f41d8 = (char)((ulonglong)param_1 >> 8);
	_DAT_100f41d8 = puVar1;
	puVar1 = _DAT_100f41d8 + 1;
	*_DAT_100f41d8 = (char)param_1;
	_DAT_100f41d8 = puVar1;
	return;
}

void ISave(undefined8 param_1)

{
	undefined *puVar1;

	puVar1 = _DAT_100f41d8 + 1;
	*_DAT_100f41d8 = (char)((ulonglong)param_1 >> 0x18);
	_DAT_100f41d8 = puVar1;
	puVar1 = _DAT_100f41d8 + 1;
	*_DAT_100f41d8 = (char)((ulonglong)param_1 >> 0x10);
	_DAT_100f41d8 = puVar1;
	puVar1 = _DAT_100f41d8 + 1;
	*_DAT_100f41d8 = (char)((ulonglong)param_1 >> 8);
	_DAT_100f41d8 = puVar1;
	puVar1 = _DAT_100f41d8 + 1;
	*_DAT_100f41d8 = (char)param_1;
	_DAT_100f41d8 = puVar1;
	return;
}

void OSave(int param_1)

{
	undefined *puVar1;

	if (param_1 != 0) {
		puVar1 = _DAT_100f41d8 + 1;
		*_DAT_100f41d8 = 1;
		_DAT_100f41d8 = puVar1;
		return;
	}
	puVar1 = _DAT_100f41d8 + 1;
	*_DAT_100f41d8 = 0;
	_DAT_100f41d8 = puVar1;
	return;
}

void SavePlayer(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 in_stack_ffffffc8;
	uint *local_8[2];

	ppuVar1 = &toc;
	local_8[0] = _DAT_100f41d8;
	FUN_10058df0(local_8, (uint *)(PTR_DAT_100f1828 + param_1 * 0x55ec), 0xb0, param_4, param_5, param_6,
	    param_7, param_8, in_stack_ffffffc8);
	*(uint **)(ppuVar1 + -0x137e) = local_8[0];
	return;
}

void SaveMonster(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	uint *local_8[2];

	ppuVar1 = &toc;
	local_8[0] = _DAT_100f41d8;
	FUN_1005a6b8(local_8, (uint *)(PTR_DAT_100f187c + param_1 * 0xe8));
	*(uint **)(ppuVar1 + -0x137e) = local_8[0];
	return;
}

void SaveMissile(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	uint *local_8[2];

	ppuVar1 = &toc;
	local_8[0] = _DAT_100f41d8;
	FUN_1005ad70(local_8, (uint *)(PTR_DAT_100f196c + param_1 * 0xb4));
	*(uint **)(ppuVar1 + -0x137e) = local_8[0];
	return;
}

void SaveObject(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	uint *local_8[2];

	ppuVar1 = &toc;
	local_8[0] = _DAT_100f41d8;
	FUN_1005b194(local_8, (uint *)(PTR_DAT_100f1948 + param_1 * 0x78));
	*(uint **)(ppuVar1 + -0x137e) = local_8[0];
	return;
}

void SaveItem(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	uint *local_8[2];

	ppuVar1 = &toc;
	local_8[0] = _DAT_100f41d8;
	FUN_10059fcc(local_8, (uint *)(PTR_DAT_100f1940 + param_1 * 0x170), 0x170, 1);
	*(uint **)(ppuVar1 + -0x137e) = local_8[0];
	return;
}

void SavePremium(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	uint *local_8[2];

	ppuVar1 = &toc;
	local_8[0] = _DAT_100f41d8;
	FUN_10059fcc(local_8, (uint *)(_DAT_100f1e28 + param_1 * 0x170), 0x170, 1);
	*(uint **)(ppuVar1 + -0x137e) = local_8[0];
	return;
}

void SaveQuest(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	uint *local_8[2];

	ppuVar1 = &toc;
	local_8[0] = _DAT_100f41d8;
	FUN_1005b474(local_8, PTR_DAT_100f19cc + param_1 * 0x18);
	*(uint **)(ppuVar1 + -0x137e) = local_8[0];
	WSave((ulonglong) * (uint *)ppuVar1[-0x1c4c]);
	WSave((ulonglong) * (uint *)ppuVar1[-0x1c4d]);
	WSave((ulonglong) * (uint *)ppuVar1[-0x1c4e]);
	WSave((ulonglong) * (uint *)ppuVar1[-0x1c4f]);
	WSave((ulonglong) * (uint *)ppuVar1[-0x1d57]);
	return;
}

void SaveLighting(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	uint *local_8[2];

	ppuVar1 = &toc;
	local_8[0] = _DAT_100f41d8;
	FUN_1005b5a4(local_8, (uint *)(PTR_DAT_100f1e90 + param_1 * 0x34));
	*(uint **)(ppuVar1 + -0x137e) = local_8[0];
	return;
}

void SaveVision(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	uint *local_8[2];

	ppuVar1 = &toc;
	local_8[0] = _DAT_100f41d8;
	FUN_1005b5a4(local_8, (uint *)(_DAT_100f1e8c + param_1 * 0x34));
	*(uint **)(ppuVar1 + -0x137e) = local_8[0];
	return;
}

void SavePortal(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	uint *local_8[2];

	ppuVar1 = &toc;
	local_8[0] = _DAT_100f41d8;
	FUN_1005b6e0(local_8, (uint *)(_DAT_100f1e88 + param_1 * 0x18));
	*(uint **)(ppuVar1 + -0x137e) = local_8[0];
	return;
}

void SaveGame(undefined8 uParm1, undefined8 uParm2, undefined8 uParm3, undefined8 uParm4,
    undefined8 uParm5, undefined8 uParm6, undefined4 uParm7, undefined4 uParm8)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined *puVar12;
	undefined *puVar13;
	ulonglong uVar14;
	undefined8 extraout_r3;
	ulonglong uVar15;
	undefined uVar16;
	undefined uVar17;
	undefined uVar18;
	undefined4 uVar19;
	undefined4 uVar20;
	undefined4 uVar21;
	undefined4 uVar22;
	undefined8 in_r13;
	ulonglong uVar23;
	undefined8 unaff_r14;
	undefined8 unaff_r15;
	undefined8 unaff_r16;
	undefined8 unaff_r17;
	undefined8 unaff_r18;
	undefined8 unaff_r19;
	byte *pbVar24;
	undefined8 unaff_r20;
	undefined8 unaff_r21;
	undefined8 unaff_r22;
	undefined8 unaff_r23;
	undefined8 unaff_r24;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	int iVar25;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	int iVar26;
	undefined8 unaff_r30;
	ulonglong uVar27;
	uint *puVar28;
	int *piVar29;
	undefined4 *puVar30;
	undefined *puVar31;
	int iVar32;
	byte *pbVar33;
	undefined8 unaff_r31;
	int iVar34;
	undefined4 in_stack_fffffe78;
	undefined auStack344[260];
	uint local_54;
	undefined4 local_4c;
	undefined4 uStack72;
	undefined4 uStack68;
	undefined4 uStack64;
	undefined4 uStack60;
	undefined4 uStack56;
	undefined4 uStack52;
	undefined4 uStack48;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar13 = PTR_DAT_100f1e78;
	pbVar24 = PTR_DAT_100f1e74;
	puVar12 = PTR_DAT_100f1e6c;
	puVar11 = PTR_DAT_100f1e3c;
	puVar10 = PTR_DAT_100f1a44;
	puVar9 = PTR_DAT_100f1a40;
	puVar8 = PTR_DAT_100f1a3c;
	puVar7 = PTR_DAT_100f19a4;
	puVar6 = PTR_DAT_100f19a0;
	puVar31 = PTR_DAT_100f1968;
	puVar5 = PTR_DAT_100f1954;
	puVar4 = PTR_DAT_100f1950;
	puVar3 = PTR_DAT_100f194c;
	puVar2 = PTR_DAT_100f1944;
	puVar1 = PTR_DAT_100f1834;
	uVar22 = (undefined4)uParm6;
	uVar21 = (undefined4)((ulonglong)uParm6 >> 0x20);
	uVar20 = (undefined4)uParm5;
	uVar19 = (undefined4)((ulonglong)uParm5 >> 0x20);
	uVar14 = ZEXT48(&toc);
	local_4c = (undefined4)((ulonglong)in_r13 >> 0x20);
	uStack72 = (undefined4)((ulonglong)unaff_r14 >> 0x20);
	uStack68 = (undefined4)((ulonglong)unaff_r15 >> 0x20);
	uStack64 = (undefined4)((ulonglong)unaff_r16 >> 0x20);
	uStack60 = (undefined4)((ulonglong)unaff_r17 >> 0x20);
	uStack56 = (undefined4)((ulonglong)unaff_r18 >> 0x20);
	uStack52 = (undefined4)((ulonglong)unaff_r19 >> 0x20);
	uStack48 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar23 = (ulonglong)_DAT_100f1dec;
	codec_get_encoded_len(0x40003);
	local_54 = DiabloAllocPtr();
	*(uint *)((int)uVar14 + -0x4df8) = local_54;
	ISave(0x5245544c);
	OSave((uint) * *(byte **)((int)uVar14 + -0x77d8));
	WSave((ulonglong) * *(byte **)((int)uVar14 + -0x77e0));
	WSave((ulonglong) * *(byte **)((int)uVar14 + -0x77e4));
	WSave((ulonglong) * *(byte **)((int)uVar14 + -0x7794));
	WSave((ulonglong) * *(uint **)((int)uVar14 + -0x77b0));
	WSave((ulonglong) * *(uint **)((int)uVar14 + -0x77b4));
	OSave(**(int **)((int)uVar14 + -0x77bc));
	OSave(**(int **)((int)uVar14 + -0x77c4));
	WSave((ulonglong) * (uint *)puVar7);
	WSave((ulonglong) * (uint *)uVar23);
	WSave((ulonglong) * (uint *)puVar31);
	WSave((ulonglong) * (uint *)puVar11);
	iVar26 = 0;
	puVar28 = *(uint **)((int)uVar14 + -0x75ec);
	uVar15 = (ulonglong) * (uint *)((int)uVar14 + -0x71f8);
	uVar27 = uVar15;
	do {
		ISave((ulonglong)*puVar28);
		WSave((ulonglong) * (uint *)uVar27);
		iVar26 = iVar26 + 1;
		uVar27 = uVar27 + 4;
		puVar28 = puVar28 + 1;
	} while (iVar26 < 0x11);
	SavePlayer(**(int **)((int)uVar14 + -0x77ac), (char)uVar15, (char)uParm3, (char)uParm4, (char)uVar20, (char)uVar22, (char)uParm7, (char)uParm8, in_stack_fffffe78);
	iVar26 = 0;
	do {
		SaveQuest(iVar26, (char)uVar15, (char)uParm3, (char)uParm4, (char)uVar20, (char)uVar22,
		    (char)uParm7, (char)uParm8, in_stack_fffffe78);
		iVar26 = iVar26 + 1;
	} while (iVar26 < 0x10);
	iVar26 = 0;
	do {
		SavePortal(iVar26, (char)uVar15, (char)uParm3, (char)uParm4, (char)uVar20, (char)uVar22,
		    (char)uParm7, (char)uParm8, in_stack_fffffe78);
		iVar26 = iVar26 + 1;
	} while (iVar26 < 4);
	iVar26 = 0;
	puVar28 = *(uint **)((int)uVar14 + -0x714c);
	do {
		ISave((ulonglong)*puVar28);
		iVar26 = iVar26 + 1;
		puVar28 = puVar28 + 1;
	} while (iVar26 < 200);
	if (**(char **)((int)uVar14 + -0x7794) != '\0') {
		iVar26 = 0;
		puVar28 = *(uint **)((int)uVar14 + -0x7628);
		do {
			WSave((ulonglong)*puVar28);
			iVar26 = iVar26 + 1;
			puVar28 = puVar28 + 1;
		} while (iVar26 < 200);
		iVar26 = 0;
		piVar29 = *(int **)((int)uVar14 + -0x7628);
		while (iVar26 < *(int *)puVar7) {
			SaveMonster(*piVar29, (char)uVar15, (char)uParm3, (char)uParm4, (char)uVar20, (char)uVar22,
			    (char)uParm7, (char)uParm8, in_stack_fffffe78);
			piVar29 = piVar29 + 1;
			iVar26 = iVar26 + 1;
		}
		iVar26 = 0;
		puVar30 = *(undefined4 **)((int)uVar14 + -0x7660);
		do {
			BSave((char)*puVar30);
			iVar26 = iVar26 + 1;
			puVar30 = puVar30 + 1;
		} while (iVar26 < 0x7d);
		iVar26 = 0;
		puVar30 = *(undefined4 **)((int)uVar14 + -0x7150);
		do {
			BSave((char)*puVar30);
			iVar26 = iVar26 + 1;
			puVar30 = puVar30 + 1;
		} while (iVar26 < 0x7d);
		iVar26 = 0;
		piVar29 = *(int **)((int)uVar14 + -0x7660);
		while (iVar26 < *(int *)puVar31) {
			SaveMissile(*piVar29, (char)uVar15, (char)uParm3, (char)uParm4, (char)uVar20, (char)uVar22,
			    (char)uParm7, (char)uParm8, in_stack_fffffe78);
			piVar29 = piVar29 + 1;
			iVar26 = iVar26 + 1;
		}
		iVar26 = 0;
		puVar30 = *(undefined4 **)((int)uVar14 + -0x7190);
		do {
			BSave((char)*puVar30);
			iVar26 = iVar26 + 1;
			puVar30 = puVar30 + 1;
		} while (iVar26 < 0x7f);
		iVar26 = 0;
		puVar30 = *(undefined4 **)((int)uVar14 + -0x7154);
		do {
			BSave((char)*puVar30);
			iVar26 = iVar26 + 1;
			puVar30 = puVar30 + 1;
		} while (iVar26 < 0x7f);
		iVar26 = 0;
		piVar29 = *(int **)((int)uVar14 + -0x7190);
		while (iVar26 < *(int *)puVar11) {
			SaveObject(*piVar29, (char)uVar15, (char)uParm3, (char)uParm4, (char)uVar20, (char)uVar22,
			    (char)uParm7, (char)uParm8, in_stack_fffffe78);
			piVar29 = piVar29 + 1;
			iVar26 = iVar26 + 1;
		}
		WSave((ulonglong) * (uint *)puVar13);
		iVar26 = 0;
		puVar31 = pbVar24;
		do {
			BSave(*puVar31);
			iVar26 = iVar26 + 1;
			puVar31 = puVar31 + 1;
		} while (iVar26 < 0x20);
		iVar26 = 0;
		while (iVar26 < *(int *)puVar13) {
			SaveLighting((uint)*pbVar24, (char)uVar15, (char)uParm3, (char)uParm4, (char)uVar20, (char)uVar22,
			    (char)uParm7, (char)uParm8, in_stack_fffffe78);
			pbVar24 = pbVar24 + 1;
			iVar26 = iVar26 + 1;
		}
		WSave((ulonglong) * *(uint **)((int)uVar14 + -0x7160));
		WSave((ulonglong) * (uint *)puVar12);
		iVar26 = 0;
		while (iVar26 < *(int *)puVar12) {
			SaveVision(iVar26, (char)uVar15, (char)uParm3, (char)uParm4, (char)uVar20, (char)uVar22,
			    (char)uParm7, (char)uParm8, in_stack_fffffe78);
			iVar26 = iVar26 + 1;
		}
	}
	iVar26 = 0;
	puVar30 = *(undefined4 **)((int)uVar14 + -0x71e0);
	do {
		BSave((char)*puVar30);
		iVar26 = iVar26 + 1;
		puVar30 = puVar30 + 1;
	} while (iVar26 < 0x7f);
	iVar26 = 0;
	puVar30 = *(undefined4 **)((int)uVar14 + -0x71f4);
	do {
		BSave((char)*puVar30);
		iVar26 = iVar26 + 1;
		puVar30 = puVar30 + 1;
	} while (iVar26 < 0x7f);
	iVar26 = 0;
	piVar29 = *(int **)((int)uVar14 + -0x71e0);
	while (iVar26 < *(int *)uVar23) {
		SaveItem(*piVar29, (char)uVar15, (char)uParm3, (char)uParm4, (char)uVar20, (char)uVar22,
		    (char)uParm7, (char)uParm8, in_stack_fffffe78);
		piVar29 = piVar29 + 1;
		iVar26 = iVar26 + 1;
	}
	iVar26 = 0;
	piVar29 = *(int **)((int)uVar14 + -0x7170);
	do {
		OSave(*piVar29);
		iVar26 = iVar26 + 1;
		piVar29 = piVar29 + 1;
	} while (iVar26 < 0x80);
	iVar26 = 0;
	do {
		iVar32 = 0;
		iVar25 = 0;
		do {
			BSave(*(undefined *)(iVar26 + *(int *)puVar10 + iVar25));
			iVar32 = iVar32 + 1;
			iVar25 = iVar25 + 0x70;
		} while (iVar32 < 0x70);
		iVar26 = iVar26 + 1;
	} while (iVar26 < 0x70);
	iVar26 = 0;
	do {
		iVar32 = 0;
		iVar25 = 0;
		do {
			BSave(*(byte *)(iVar26 + *(int *)puVar1 + iVar25) & 0xf8);
			iVar32 = iVar32 + 1;
			iVar25 = iVar25 + 0x70;
		} while (iVar32 < 0x70);
		iVar26 = iVar26 + 1;
	} while (iVar26 < 0x70);
	iVar26 = 0;
	do {
		iVar32 = 0;
		iVar25 = 0;
		do {
			BSave(*(undefined *)(iVar26 + *(int *)puVar4 + iVar25));
			iVar32 = iVar32 + 1;
			iVar25 = iVar25 + 0x70;
		} while (iVar32 < 0x70);
		iVar26 = iVar26 + 1;
	} while (iVar26 < 0x70);
	iVar26 = 0;
	do {
		iVar32 = 0;
		iVar25 = 0;
		do {
			BSave(*(undefined *)(iVar26 + *(int *)puVar2 + iVar25));
			iVar32 = iVar32 + 1;
			iVar25 = iVar25 + 0x70;
		} while (iVar32 < 0x70);
		iVar26 = iVar26 + 1;
	} while (iVar26 < 0x70);
	if (**(char **)((int)uVar14 + -0x7794) != '\0') {
		iVar25 = 0;
		iVar26 = 0;
		do {
			iVar34 = 0;
			iVar32 = 0;
			do {
				WSave((longlong) * (short *)(iVar26 + *(int *)puVar5 + iVar32));
				iVar34 = iVar34 + 1;
				iVar32 = iVar32 + 0xe0;
			} while (iVar34 < 0x70);
			iVar25 = iVar25 + 1;
			iVar26 = iVar26 + 2;
		} while (iVar25 < 0x70);
		iVar26 = 0;
		do {
			iVar32 = 0;
			iVar25 = 0;
			do {
				BSave(*(undefined *)(iVar26 + *(int *)puVar6 + iVar25));
				iVar32 = iVar32 + 1;
				iVar25 = iVar25 + 0x70;
			} while (iVar32 < 0x70);
			iVar26 = iVar26 + 1;
		} while (iVar26 < 0x70);
		iVar26 = 0;
		do {
			iVar32 = 0;
			iVar25 = 0;
			do {
				BSave(*(undefined *)(iVar26 + *(int *)puVar3 + iVar25));
				iVar32 = iVar32 + 1;
				iVar25 = iVar25 + 0x70;
			} while (iVar32 < 0x70);
			iVar26 = iVar26 + 1;
		} while (iVar26 < 0x70);
		iVar26 = 0;
		do {
			iVar32 = 0;
			iVar25 = 0;
			do {
				BSave(*(undefined *)(iVar26 + *(int *)puVar10 + iVar25));
				iVar32 = iVar32 + 1;
				iVar25 = iVar25 + 0x70;
			} while (iVar32 < 0x70);
			iVar26 = iVar26 + 1;
		} while (iVar26 < 0x70);
		iVar26 = 0;
		do {
			iVar32 = 0;
			iVar25 = 0;
			do {
				BSave(*(undefined *)(iVar26 + *(int *)puVar9 + iVar25));
				iVar32 = iVar32 + 1;
				iVar25 = iVar25 + 0x70;
			} while (iVar32 < 0x70);
			iVar26 = iVar26 + 1;
		} while (iVar26 < 0x70);
		pbVar24 = *(byte **)((int)uVar14 + -0x7798);
		iVar26 = 0;
		do {
			iVar25 = 0;
			pbVar33 = pbVar24;
			do {
				OSave((uint)*pbVar33);
				iVar25 = iVar25 + 1;
				pbVar33 = pbVar33 + 0x28;
			} while (iVar25 < 0x28);
			iVar26 = iVar26 + 1;
			pbVar24 = pbVar24 + 1;
		} while (iVar26 < 0x28);
		iVar26 = 0;
		do {
			iVar32 = 0;
			iVar25 = 0;
			do {
				BSave(*(undefined *)(iVar26 + *(int *)puVar8 + iVar25));
				iVar32 = iVar32 + 1;
				iVar25 = iVar25 + 0x70;
			} while (iVar32 < 0x70);
			iVar26 = iVar26 + 1;
		} while (iVar26 < 0x70);
	}
	WSave((ulonglong) * *(uint **)((int)uVar14 + -0x71ac));
	WSave((ulonglong) * *(uint **)((int)uVar14 + -0x71b4));
	iVar26 = 0;
	do {
		SavePremium(iVar26, (char)uVar15, (char)uParm3, (char)uParm4, (char)uVar20, (char)uVar22,
		    (char)uParm7, (char)uParm8, in_stack_fffffe78);
		iVar25 = (int)uVar14;
		uVar18 = (undefined)uParm4;
		uVar17 = (undefined)uParm3;
		uVar16 = (undefined)uVar15;
		iVar26 = iVar26 + 1;
	} while (iVar26 < 6);
	OSave(**(int **)(iVar25 + -0x7778));
	WSave((ulonglong) * *(uint **)(iVar25 + -0x777c));
	pfile_get_game_name((int)auStack344, uVar16, uVar17, uVar18, (char)uVar20, (char)uVar22, (char)uParm7,
	    (char)uParm8, in_stack_fffffe78);
	uVar14 = codec_get_encoded_len((ulonglong) * (uint *)(iVar25 + -0x4df8) - (ulonglong)local_54);
	uVar27 = (ulonglong)local_54;
	uVar15 = (ulonglong) * (uint *)(iVar25 + -0x4df8) - (ulonglong)local_54;
	pfile_write_save_file(ZEXT48(register0x0000000c) - 0x158, uVar27, uVar15, uVar14, CONCAT44(uVar19, uVar20),
	    CONCAT44(uVar21, uVar22), uParm7, uParm8, in_stack_fffffe78);
	mem_free_dbg((ulonglong)local_54, (char)uVar27, (char)uVar15, (char)uVar14, (char)uVar20, (char)uVar22,
	    (char)uParm7, (char)uParm8, in_stack_fffffe78);
	uVar21 = (undefined4)uVar14;
	puVar30 = *(undefined4 **)(iVar25 + -0x75bc);
	*puVar30 = 1;
	pfile_rename_temp_to_perm(ZEXT48(puVar30), uVar27, uVar15, uVar14, CONCAT44(uVar19, uVar20), uVar22, uParm7, uParm8,
	    in_stack_fffffe78);
	pfile_write_hero(extraout_r3, uVar27, uVar15, uVar21, uVar20, uVar22, uParm7, uParm8, in_stack_fffffe78);
	return;
}

void FUN_100559e8(undefined8 uParm1, ulonglong uParm2, undefined8 uParm3, undefined8 uParm4,
    undefined8 uParm5, undefined8 uParm6, undefined4 uParm7, undefined4 uParm8)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	uint *puVar11;
	undefined *puVar12;
	int iVar13;
	undefined4 uVar16;
	longlong lVar14;
	ulonglong uVar15;
	undefined uVar17;
	undefined4 uVar18;
	undefined4 uVar19;
	undefined uVar20;
	undefined4 uVar21;
	undefined4 uVar22;
	undefined uVar23;
	undefined uVar24;
	undefined uVar25;
	undefined8 in_r13;
	ulonglong uVar26;
	undefined8 unaff_r14;
	undefined8 unaff_r15;
	undefined8 unaff_r16;
	undefined8 unaff_r17;
	undefined8 unaff_r18;
	undefined8 unaff_r19;
	undefined8 unaff_r20;
	undefined8 unaff_r21;
	undefined8 unaff_r22;
	undefined8 unaff_r23;
	undefined8 unaff_r24;
	byte *pbVar27;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	int iVar28;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	int iVar29;
	undefined8 unaff_r29;
	uint *puVar31;
	int *piVar32;
	undefined4 *puVar33;
	int *piVar34;
	ulonglong uVar30;
	undefined8 unaff_r30;
	int iVar35;
	byte *pbVar36;
	undefined8 unaff_r31;
	undefined4 in_stack_fffffe78;
	undefined auStack344[268];
	undefined4 local_4c;
	undefined4 uStack72;
	undefined4 uStack68;
	undefined4 uStack64;
	undefined4 uStack60;
	undefined4 uStack56;
	undefined4 uStack52;
	undefined4 uStack48;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	piVar34 = (int *)PTR_DAT_100f1e40;
	puVar12 = PTR_DAT_100f1e3c;
	puVar11 = _DAT_100f1dec;
	puVar10 = PTR_DAT_100f1a44;
	puVar9 = PTR_DAT_100f1a40;
	puVar8 = PTR_DAT_100f1a3c;
	piVar32 = (int *)PTR_DAT_100f19a8;
	puVar7 = PTR_DAT_100f19a4;
	puVar6 = PTR_DAT_100f19a0;
	puVar5 = PTR_DAT_100f1954;
	puVar4 = PTR_DAT_100f194c;
	puVar3 = PTR_DAT_100f1944;
	puVar2 = PTR_DAT_100f183c;
	puVar1 = PTR_DAT_100f1834;
	uVar22 = (undefined4)uParm6;
	uVar21 = (undefined4)((ulonglong)uParm6 >> 0x20);
	uVar19 = (undefined4)uParm5;
	uVar18 = (undefined4)((ulonglong)uParm5 >> 0x20);
	uVar15 = ZEXT48(&toc);
	local_4c = (undefined4)((ulonglong)in_r13 >> 0x20);
	uStack72 = (undefined4)((ulonglong)unaff_r14 >> 0x20);
	uStack68 = (undefined4)((ulonglong)unaff_r15 >> 0x20);
	uStack64 = (undefined4)((ulonglong)unaff_r16 >> 0x20);
	uStack60 = (undefined4)((ulonglong)unaff_r17 >> 0x20);
	uStack56 = (undefined4)((ulonglong)unaff_r18 >> 0x20);
	uStack52 = (undefined4)((ulonglong)unaff_r19 >> 0x20);
	uStack48 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar26 = (ulonglong)_DAT_100f1df0;
	if (*PTR_DAT_100f17ec == '\0') {
		uVar16 = GetRndSeed((char)PTR_DAT_100f17ec, (char)uParm2, (char)uParm3, (char)uParm4, (char)uParm5, (char)uParm6, (char)uParm7, (char)uParm8, in_stack_fffffe78);
		puVar33 = *(undefined4 **)((int)uVar15 + -0x75ec);
		uParm2 = ZEXT48(puVar33);
		*puVar33 = uVar16;
	}
	codec_get_encoded_len(0x40003);
	lVar14 = DiabloAllocPtr();
	lVar14._7_1_ = (undefined)lVar14;
	*(undefined4 *)((int)uVar15 + -0x4df8) = (int)lVar14;
	if (*puVar2 != '\0') {
		iVar29 = 0;
		do {
			iVar35 = 0;
			iVar28 = 0;
			do {
				BSave(*(undefined *)(iVar29 + *(int *)puVar6 + iVar28));
				iVar35 = iVar35 + 1;
				iVar28 = iVar28 + 0x70;
			} while (iVar35 < 0x70);
			iVar29 = iVar29 + 1;
		} while (iVar29 < 0x70);
	}
	WSave((ulonglong) * (uint *)puVar7);
	WSave((ulonglong)*puVar11);
	WSave((ulonglong) * (uint *)puVar12);
	if (*puVar2 != '\0') {
		iVar29 = 0;
		puVar31 = (uint *)piVar32;
		do {
			WSave((ulonglong)*puVar31);
			iVar29 = iVar29 + 1;
			puVar31 = puVar31 + 1;
		} while (iVar29 < 200);
		iVar29 = 0;
		while (iVar29 < *(int *)puVar7) {
			SaveMonster(*piVar32, (char)uParm2, (char)uParm3, (char)uParm4, (char)uVar19, (char)uVar22,
			    (char)uParm7, (char)uParm8, in_stack_fffffe78);
			piVar32 = piVar32 + 1;
			iVar29 = iVar29 + 1;
		}
		iVar29 = 0;
		puVar33 = piVar34;
		do {
			BSave((char)*puVar33);
			iVar29 = iVar29 + 1;
			puVar33 = puVar33 + 1;
		} while (iVar29 < 0x7f);
		iVar29 = 0;
		puVar33 = *(undefined4 **)((int)uVar15 + -0x7154);
		do {
			BSave((char)*puVar33);
			iVar29 = iVar29 + 1;
			puVar33 = puVar33 + 1;
		} while (iVar29 < 0x7f);
		iVar29 = 0;
		while (iVar29 < *(int *)puVar12) {
			SaveObject(*piVar34, (char)uParm2, (char)uParm3, (char)uParm4, (char)uVar19, (char)uVar22,
			    (char)uParm7, (char)uParm8, in_stack_fffffe78);
			piVar34 = piVar34 + 1;
			iVar29 = iVar29 + 1;
		}
	}
	iVar29 = 0;
	uVar30 = uVar26;
	do {
		BSave((char)*(undefined4 *)uVar30);
		iVar29 = iVar29 + 1;
		uVar30 = uVar30 + 4;
	} while (iVar29 < 0x7f);
	iVar29 = 0;
	puVar33 = *(undefined4 **)((int)uVar15 + -0x71f4);
	do {
		BSave((char)*puVar33);
		iVar29 = iVar29 + 1;
		puVar33 = puVar33 + 1;
	} while (iVar29 < 0x7f);
	iVar29 = 0;
	while (iVar29 < (int)*puVar11) {
		SaveItem(*(int *)uVar26, (char)uParm2, (char)uParm3, (char)uParm4, (char)uVar19, (char)uVar22,
		    (char)uParm7, (char)uParm8, in_stack_fffffe78);
		uVar26 = uVar26 + 4;
		iVar29 = iVar29 + 1;
	}
	iVar29 = 0;
	do {
		iVar35 = 0;
		iVar28 = 0;
		do {
			BSave(*(byte *)(iVar29 + *(int *)puVar1 + iVar28) & 0xf8);
			iVar35 = iVar35 + 1;
			iVar28 = iVar28 + 0x70;
		} while (iVar35 < 0x70);
		iVar29 = iVar29 + 1;
	} while (iVar29 < 0x70);
	iVar29 = 0;
	do {
		iVar35 = 0;
		iVar28 = 0;
		do {
			BSave(*(undefined *)(iVar29 + *(int *)puVar3 + iVar28));
			iVar13 = (int)uVar15;
			uVar16 = (undefined4)uParm4;
			iVar35 = iVar35 + 1;
			iVar28 = iVar28 + 0x70;
		} while (iVar35 < 0x70);
		iVar29 = iVar29 + 1;
	} while (iVar29 < 0x70);
	if (*puVar2 != '\0') {
		iVar28 = 0;
		iVar29 = 0;
		do {
			iVar13 = 0;
			iVar35 = 0;
			do {
				WSave((longlong) * (short *)(iVar29 + *(int *)puVar5 + iVar35));
				iVar13 = iVar13 + 1;
				iVar35 = iVar35 + 0xe0;
			} while (iVar13 < 0x70);
			iVar28 = iVar28 + 1;
			iVar29 = iVar29 + 2;
		} while (iVar28 < 0x70);
		iVar29 = 0;
		do {
			iVar35 = 0;
			iVar28 = 0;
			do {
				BSave(*(undefined *)(iVar29 + *(int *)puVar4 + iVar28));
				iVar35 = iVar35 + 1;
				iVar28 = iVar28 + 0x70;
			} while (iVar35 < 0x70);
			iVar29 = iVar29 + 1;
		} while (iVar29 < 0x70);
		iVar29 = 0;
		do {
			iVar35 = 0;
			iVar28 = 0;
			do {
				BSave(*(undefined *)(iVar29 + *(int *)puVar10 + iVar28));
				iVar35 = iVar35 + 1;
				iVar28 = iVar28 + 0x70;
			} while (iVar35 < 0x70);
			iVar29 = iVar29 + 1;
		} while (iVar29 < 0x70);
		iVar29 = 0;
		do {
			iVar35 = 0;
			iVar28 = 0;
			do {
				BSave(*(undefined *)(iVar29 + *(int *)puVar9 + iVar28));
				iVar35 = iVar35 + 1;
				iVar28 = iVar28 + 0x70;
			} while (iVar35 < 0x70);
			iVar29 = iVar29 + 1;
		} while (iVar29 < 0x70);
		pbVar27 = *(byte **)((int)uVar15 + -0x7798);
		iVar29 = 0;
		do {
			iVar28 = 0;
			pbVar36 = pbVar27;
			do {
				OSave((uint)*pbVar36);
				iVar28 = iVar28 + 1;
				pbVar36 = pbVar36 + 0x28;
			} while (iVar28 < 0x28);
			iVar29 = iVar29 + 1;
			pbVar27 = pbVar27 + 1;
		} while (iVar29 < 0x28);
		iVar29 = 0;
		do {
			iVar35 = 0;
			iVar28 = 0;
			do {
				BSave(*(undefined *)(iVar29 + *(int *)puVar8 + iVar28));
				iVar13 = (int)uVar15;
				uVar16 = (undefined4)uParm4;
				iVar35 = iVar35 + 1;
				iVar28 = iVar28 + 0x70;
			} while (iVar35 < 0x70);
			iVar29 = iVar29 + 1;
		} while (iVar29 < 0x70);
	}
	GetTempLevelNames((int)auStack344, uParm2, uParm3, uVar16, uVar19, uVar22, uParm7, uParm8, in_stack_fffffe78);
	uVar15 = codec_get_encoded_len((ulonglong) * (uint *)(iVar13 + -0x4df8) - lVar14);
	uVar25 = (undefined)uParm8;
	uVar24 = (undefined)uParm7;
	uVar23 = (undefined)uVar22;
	uVar20 = (undefined)uVar19;
	uVar15._7_1_ = (undefined)uVar15;
	uVar26 = (ulonglong) * (uint *)(iVar13 + -0x4df8) - lVar14;
	uVar17 = (undefined)uVar26;
	pfile_write_save_file(ZEXT48(register0x0000000c) - 0x158, lVar14, uVar26, uVar15, CONCAT44(uVar18, uVar19),
	    CONCAT44(uVar21, uVar22), uParm7, uParm8, in_stack_fffffe78);
	mem_free_dbg(lVar14, (undefined)lVar14, uVar17, (undefined)uVar15, uVar20, uVar23, uVar24, uVar25,
	    in_stack_fffffe78);
	if (**(char **)(iVar13 + -0x77d8) == '\0') {
		*(undefined *)(*(int *)(iVar13 + -0x77a8) + **(int **)(iVar13 + -0x77ac) * 0x55ec + (uint) * *(byte **)(iVar13 + -0x77e4) + 0x1f0) = 1;
	} else {
		*(undefined *)(*(int *)(iVar13 + -0x77a8) + **(int **)(iVar13 + -0x77ac) * 0x55ec + (uint) * *(byte **)(iVar13 + -0x77e0) + 0x201) = 1;
	}
	return;
}

void LoadLevel(undefined8 uParm1, undefined8 uParm2, longlong lParm3, undefined8 uParm4,
    undefined8 uParm5, undefined4 uParm6, undefined4 uParm7, undefined4 uParm8)

{
	byte bVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	int *piVar10;
	undefined *puVar11;
	undefined *puVar12;
	ulonglong uVar13;
	int iVar14;
	longlong lVar15;
	ulonglong uVar16;
	ulonglong uVar17;
	undefined8 uVar18;
	longlong lVar19;
	longlong lVar20;
	undefined uVar21;
	longlong lVar22;
	undefined uVar23;
	char cVar24;
	undefined uVar26;
	uint uVar25;
	undefined7 uVar27;
	undefined uVar28;
	undefined7 uVar29;
	undefined uVar30;
	undefined uVar31;
	undefined uVar32;
	undefined uVar33;
	undefined8 in_r13;
	ulonglong uVar34;
	undefined8 unaff_r14;
	undefined8 unaff_r15;
	undefined8 unaff_r16;
	undefined8 unaff_r17;
	undefined8 unaff_r18;
	undefined8 unaff_r19;
	undefined8 unaff_r20;
	undefined8 unaff_r21;
	undefined8 unaff_r22;
	undefined8 unaff_r23;
	undefined8 unaff_r24;
	undefined *puVar35;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	int iVar36;
	undefined8 unaff_r28;
	undefined4 *puVar37;
	uint *puVar38;
	int *piVar39;
	uint *puVar40;
	undefined8 unaff_r29;
	undefined *puVar41;
	undefined8 unaff_r30;
	int iVar42;
	int iVar43;
	int iVar44;
	undefined8 unaff_r31;
	longlong lVar45;
	undefined4 in_stack_fffffe68;
	char acStack344[268];
	undefined4 local_4c;
	undefined4 uStack72;
	undefined4 uStack68;
	undefined4 uStack64;
	undefined4 uStack60;
	undefined4 uStack56;
	undefined4 uStack52;
	undefined4 uStack48;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar12 = PTR_DAT_100f1e90;
	puVar40 = (uint *)PTR_DAT_100f1e40;
	puVar11 = PTR_DAT_100f1e3c;
	piVar10 = _DAT_100f1dec;
	puVar9 = PTR_DAT_100f1a44;
	puVar8 = PTR_DAT_100f1a40;
	puVar7 = PTR_DAT_100f1a3c;
	puVar6 = PTR_DAT_100f19a4;
	puVar5 = PTR_DAT_100f19a0;
	puVar4 = PTR_DAT_100f1954;
	puVar3 = PTR_DAT_100f194c;
	puVar2 = PTR_DAT_100f1944;
	puVar41 = PTR_DAT_100f183c;
	puVar35 = PTR_DAT_100f1834;
	uVar30 = (undefined)uParm5;
	uVar29 = (undefined7)((ulonglong)uParm5 >> 8);
	uVar28 = (undefined)uParm4;
	uVar27 = (undefined7)((ulonglong)uParm4 >> 8);
	uVar13 = ZEXT48(&toc);
	local_4c = (undefined4)((ulonglong)in_r13 >> 0x20);
	uStack72 = (undefined4)((ulonglong)unaff_r14 >> 0x20);
	uStack68 = (undefined4)((ulonglong)unaff_r15 >> 0x20);
	uStack64 = (undefined4)((ulonglong)unaff_r16 >> 0x20);
	uStack60 = (undefined4)((ulonglong)unaff_r17 >> 0x20);
	uStack56 = (undefined4)((ulonglong)unaff_r18 >> 0x20);
	uStack52 = (undefined4)((ulonglong)unaff_r19 >> 0x20);
	uStack48 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar34 = (ulonglong)_DAT_100f1df0;
	GetPermLevelNames(acStack344, uParm2, lParm3, uParm4, uParm5, uParm6, uParm7, uParm8, in_stack_fffffe68);
	lVar22 = ZEXT48(register0x0000000c) - 0x54;
	lVar15 = pfile_read(ZEXT48(register0x0000000c) - 0x158, (uint *)lVar22, lParm3,
	    CONCAT71(uVar27, uVar28), CONCAT71(uVar29, uVar30), uParm6, uParm7, uParm8,
	    in_stack_fffffe68);
	*(undefined4 *)((int)uVar13 + -0x4df8) = (int)lVar15;
	if (*puVar41 != '\0') {
		iVar36 = 0;
		do {
			iVar42 = 0;
			iVar44 = 0;
			do {
				uVar16 = BLoad();
				iVar42 = iVar42 + 1;
				iVar43 = *(int *)puVar5 + iVar44;
				iVar44 = iVar44 + 0x70;
				*(undefined *)(iVar36 + iVar43) = (char)uVar16;
			} while (iVar42 < 0x70);
			iVar36 = iVar36 + 1;
		} while (iVar36 < 0x70);
		SetDead((char)uVar16, (char)lVar22, (char)lParm3, uVar28, uVar30, (char)uParm6, (char)uParm7,
		    (char)uParm8, in_stack_fffffe68);
	}
	uVar16 = WLoad();
	*(int *)puVar6 = (int)uVar16;
	uVar16 = WLoad();
	*piVar10 = (int)uVar16;
	uVar16 = WLoad();
	*(int *)puVar11 = (int)uVar16;
	if (*puVar41 != '\0') {
		iVar36 = 0;
		puVar37 = *(undefined4 **)((int)uVar13 + -0x7628);
		do {
			uVar16 = WLoad();
			iVar36 = iVar36 + 1;
			*puVar37 = (int)uVar16;
			puVar37 = puVar37 + 1;
		} while (iVar36 < 200);
		iVar36 = 0;
		puVar38 = *(uint **)((int)uVar13 + -0x7628);
		while (iVar36 < *(int *)puVar6) {
			LoadMonster((ulonglong)*puVar38, lVar22, lParm3, CONCAT71(uVar27, uVar28), CONCAT71(uVar29, uVar30), uParm6, uParm7, uParm8, in_stack_fffffe68);
			puVar38 = puVar38 + 1;
			iVar36 = iVar36 + 1;
		}
		iVar36 = 0;
		piVar39 = (int *)puVar40;
		do {
			uVar16 = BLoad();
			iVar36 = iVar36 + 1;
			*piVar39 = (int)(char)uVar16;
			piVar39 = piVar39 + 1;
		} while (iVar36 < 0x7f);
		iVar36 = 0;
		piVar39 = *(int **)((int)uVar13 + -0x7154);
		do {
			uVar16 = BLoad();
			iVar36 = iVar36 + 1;
			*piVar39 = (int)(char)uVar16;
			piVar39 = piVar39 + 1;
		} while (iVar36 < 0x7f);
		iVar36 = 0;
		piVar39 = (int *)puVar40;
		while (iVar36 < *(int *)puVar11) {
			LoadObject(*piVar39, (char)lVar22, (char)lParm3, uVar28, uVar30, (char)uParm6, (char)uParm7,
			    (char)uParm8, in_stack_fffffe68);
			piVar39 = piVar39 + 1;
			iVar36 = iVar36 + 1;
		}
		iVar36 = 0;
		while (iVar36 < *(int *)puVar11) {
			SyncObjectAnim((ulonglong)*puVar40);
			puVar40 = puVar40 + 1;
			iVar36 = iVar36 + 1;
		}
	}
	iVar36 = 0;
	uVar16 = uVar34;
	do {
		uVar17 = BLoad();
		iVar36 = iVar36 + 1;
		*(int *)uVar16 = (int)(char)uVar17;
		uVar16 = uVar16 + 4;
	} while (iVar36 < 0x7f);
	iVar36 = 0;
	piVar39 = *(int **)((int)uVar13 + -0x71f4);
	do {
		uVar16 = BLoad();
		iVar36 = iVar36 + 1;
		*piVar39 = (int)(char)uVar16;
		piVar39 = piVar39 + 1;
	} while (iVar36 < 0x7f);
	iVar36 = 0;
	while (iVar36 < *piVar10) {
		LoadItem(*(int *)uVar34, (char)lVar22, (char)lParm3, uVar28, uVar30, (char)uParm6, (char)uParm7,
		    (char)uParm8, in_stack_fffffe68);
		uVar34 = uVar34 + 4;
		iVar36 = iVar36 + 1;
	}
	iVar36 = 0;
	do {
		iVar42 = 0;
		iVar44 = 0;
		do {
			uVar34 = BLoad();
			iVar42 = iVar42 + 1;
			iVar43 = *(int *)puVar35 + iVar44;
			iVar44 = iVar44 + 0x70;
			*(undefined *)(iVar36 + iVar43) = (char)uVar34;
		} while (iVar42 < 0x70);
		iVar36 = iVar36 + 1;
	} while (iVar36 < 0x70);
	iVar36 = 0;
	do {
		iVar42 = 0;
		iVar44 = 0;
		do {
			uVar34 = BLoad();
			iVar14 = (int)uVar13;
			iVar42 = iVar42 + 1;
			iVar43 = *(int *)puVar2 + iVar44;
			iVar44 = iVar44 + 0x70;
			*(undefined *)(iVar36 + iVar43) = (char)uVar34;
		} while (iVar42 < 0x70);
		iVar36 = iVar36 + 1;
	} while (iVar36 < 0x70);
	if (*puVar41 != '\0') {
		iVar36 = 0;
		iVar44 = 0;
		do {
			iVar43 = 0;
			iVar42 = 0;
			do {
				uVar34 = WLoad();
				iVar43 = iVar43 + 1;
				iVar14 = *(int *)puVar4 + iVar42;
				iVar42 = iVar42 + 0xe0;
				*(undefined2 *)(iVar44 + iVar14) = (short)uVar34;
			} while (iVar43 < 0x70);
			iVar36 = iVar36 + 1;
			iVar44 = iVar44 + 2;
		} while (iVar36 < 0x70);
		iVar36 = 0;
		do {
			iVar42 = 0;
			iVar44 = 0;
			do {
				uVar34 = BLoad();
				iVar42 = iVar42 + 1;
				iVar43 = *(int *)puVar3 + iVar44;
				iVar44 = iVar44 + 0x70;
				*(undefined *)(iVar36 + iVar43) = (char)uVar34;
			} while (iVar42 < 0x70);
			iVar36 = iVar36 + 1;
		} while (iVar36 < 0x70);
		iVar36 = 0;
		do {
			iVar42 = 0;
			iVar44 = 0;
			do {
				uVar34 = BLoad();
				iVar42 = iVar42 + 1;
				iVar43 = *(int *)puVar9 + iVar44;
				iVar44 = iVar44 + 0x70;
				*(undefined *)(iVar36 + iVar43) = (char)uVar34;
			} while (iVar42 < 0x70);
			iVar36 = iVar36 + 1;
		} while (iVar36 < 0x70);
		iVar36 = 0;
		do {
			iVar42 = 0;
			iVar44 = 0;
			do {
				uVar34 = BLoad();
				iVar42 = iVar42 + 1;
				iVar43 = *(int *)puVar8 + iVar44;
				iVar44 = iVar44 + 0x70;
				*(undefined *)(iVar36 + iVar43) = (char)uVar34;
			} while (iVar42 < 0x70);
			iVar36 = iVar36 + 1;
		} while (iVar36 < 0x70);
		iVar36 = 0;
		puVar35 = *(undefined **)((int)uVar13 + -0x7798);
		do {
			iVar44 = 0;
			puVar41 = puVar35;
			do {
				uVar18 = OLoad();
				iVar14 = (int)uVar13;
				iVar44 = iVar44 + 1;
				*puVar41 = (char)uVar18;
				puVar41 = puVar41 + 0x28;
			} while (iVar44 < 0x28);
			iVar36 = iVar36 + 1;
			puVar35 = puVar35 + 1;
		} while (iVar36 < 0x28);
		lVar22 = 0;
		do {
			lVar45 = 7;
			lVar19 = 0;
			do {
				iVar44 = (int)lVar19;
				iVar36 = (int)lVar22;
				*(undefined *)(iVar36 + *(int *)puVar7 + iVar44) = 0;
				*(undefined *)(iVar36 + *(int *)puVar7 + iVar44 + 0x70) = 0;
				*(undefined *)(iVar36 + *(int *)puVar7 + iVar44 + 0xe0) = 0;
				*(undefined *)(iVar36 + *(int *)puVar7 + iVar44 + 0x150) = 0;
				*(undefined *)(iVar36 + *(int *)puVar7 + iVar44 + 0x1c0) = 0;
				*(undefined *)(iVar36 + *(int *)puVar7 + iVar44 + 0x230) = 0;
				*(undefined *)(iVar36 + *(int *)puVar7 + iVar44 + 0x2a0) = 0;
				lVar20 = lVar19 + 0x380;
				*(undefined *)(iVar36 + *(int *)puVar7 + iVar44 + 0x310) = 0;
				iVar44 = (int)lVar20;
				*(undefined *)(iVar36 + *(int *)puVar7 + iVar44) = 0;
				*(undefined *)(iVar36 + *(int *)puVar7 + iVar44 + 0x70) = 0;
				*(undefined *)(iVar36 + *(int *)puVar7 + iVar44 + 0xe0) = 0;
				*(undefined *)(iVar36 + *(int *)puVar7 + iVar44 + 0x150) = 0;
				*(undefined *)(iVar36 + *(int *)puVar7 + iVar44 + 0x1c0) = 0;
				*(undefined *)(iVar36 + *(int *)puVar7 + iVar44 + 0x230) = 0;
				*(undefined *)(iVar36 + *(int *)puVar7 + iVar44 + 0x2a0) = 0;
				lVar19 = lVar19 + 0x700;
				lParm3 = (ulonglong) * (uint *)puVar7 + lVar20 + 0x310;
				*(undefined *)(iVar36 + (int)lParm3) = 0;
				lVar45 = lVar45 + -1;
			} while (lVar45 != 0);
			lVar22 = lVar22 + 1;
		} while ((int)lVar22 < 0x70);
	}
	uVar18 = AutomapZoomReset();
	uVar33 = (undefined)uParm8;
	uVar32 = (undefined)uParm7;
	uVar31 = (undefined)uParm6;
	uVar26 = (undefined)lParm3;
	uVar23 = (undefined)lVar22;
	uVar21 = ResyncQuests(uVar18, lVar22, lParm3, CONCAT71(uVar27, uVar28), CONCAT71(uVar29, uVar30), uParm6,
	    uParm7, uParm8, in_stack_fffffe68);
	SyncPortals(uVar21, uVar23, uVar26, uVar28, uVar30, uVar31, uVar32, uVar33, in_stack_fffffe68);
	iVar36 = *(int *)(iVar14 + -0x77a8);
	**(undefined4 **)(iVar14 + -0x7168) = 1;
	bVar1 = **(byte **)(iVar14 + -0x77e4);
	uVar25 = (uint)bVar1;
	if ((*(char *)(iVar36 + 0x1d) != '\0') && (uVar25 == *(uint *)(iVar36 + 0x34))) {
		*(undefined4 *)(puVar12 + *(int *)(iVar36 + 0x9c) * 0x34 + 0x14) = 1;
	}
	if ((*(char *)(iVar36 + 0x5609) != '\0') && (uVar25 == *(uint *)(iVar36 + 0x5620))) {
		*(undefined4 *)(puVar12 + *(int *)(iVar36 + 0x5688) * 0x34 + 0x14) = 1;
	}
	if ((*(char *)(iVar36 + 0xabf5) != '\0') && (uVar25 == *(uint *)(iVar36 + 0xac0c))) {
		*(undefined4 *)(puVar12 + *(int *)(iVar36 + 0xac74) * 0x34 + 0x14) = 1;
	}
	cVar24 = *(char *)(iVar36 + 0x101e1);
	if ((cVar24 != '\0') && (cVar24 = (char)*(uint *)(iVar36 + 0x101f8), uVar25 == *(uint *)(iVar36 + 0x101f8))) {
		lVar22 = (ulonglong) * (uint *)(iVar36 + 0x10260) * 0x34 + 0x14;
		cVar24 = (char)lVar22;
		*(undefined4 *)(puVar12 + (int)lVar22) = 1;
	}
	mem_free_dbg(lVar15, cVar24, bVar1, uVar28, uVar30, uVar31, uVar32, uVar33, in_stack_fffffe68);
	return;
}

void FUN_10058df0(uint **param_1, uint *param_2, undefined param_3, undefined param_4, undefined param_5, undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	undefined *puVar3;
	undefined *puVar4;
	uint *puVar5;
	undefined *puVar6;
	uint *puVar7;
	uint *puVar8;
	longlong lVar9;

	uVar1 = *param_2;
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	puVar6 = (undefined *)((int)param_2 + 3);
	lVar9 = 0x19;
	*param_1 = *param_1 + 1;
	puVar4 = (undefined *)((int)*param_1 + -1);
	do {
		puVar3 = puVar4;
		puVar6 = puVar6 + 1;
		lVar9 = lVar9 + -1;
		puVar4 = puVar3 + 1;
		*puVar4 = *puVar6;
	} while (0 < lVar9);
	*(undefined **)param_1 = puVar3 + 2;
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x1d);
	*param_1 = (uint *)((int)*param_1 + 1);
	*param_1 = (uint *)((int)*param_1 + 2);
	uVar1 = param_2[8];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[9];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[10];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0xb];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0xc];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0xd];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0xe];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0xf];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x10];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x11];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x12];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x13];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x14];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x15];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x16];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x17];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x18];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x19];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1a];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1b];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1c];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1d];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1e];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x20];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x21];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x22];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x23];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x24];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x25];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x26];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x27];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x28];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x29];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0x2a);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0xa9);
	*param_1 = (uint *)((int)*param_1 + 1);
	*param_1 = (uint *)((int)*param_1 + 2);
	uVar1 = param_2[0x2b];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0x2c);
	*param_1 = (uint *)((int)*param_1 + 1);
	*param_1 = (uint *)((int)*param_1 + 3);
	uVar1 = param_2[0x2d];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0x2e);
	*param_1 = (uint *)((int)*param_1 + 1);
	*param_1 = (uint *)((int)*param_1 + 3);
	uVar1 = param_2[0x2f];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	puVar8 = param_2 + 0x30;
	lVar9 = 0x40;
	*param_1 = *param_1 + 1;
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0x30);
	*param_1 = (uint *)((int)*param_1 + 1);
	puVar6 = (undefined *)((int)*param_1 + -1);
	do {
		puVar4 = puVar6;
		puVar8 = (uint *)((int)puVar8 + 1);
		lVar9 = lVar9 + -1;
		puVar6 = puVar4 + 1;
		*puVar6 = *(undefined *)puVar8;
	} while (0 < lVar9);
	*(undefined **)param_1 = puVar4 + 2;
	*param_1 = (uint *)((int)*param_1 + 7);
	puVar8 = *param_1;
	uVar1 = param_2[0x41];
	uVar2 = param_2[0x42];
	puVar8[1] = uVar1 << 0x18 | (uVar1 >> 8 & 0xff) << 0x10 | (uVar1 >> 0x10 & 0xff) << 8 | uVar1 >> 0x18;
	*puVar8 = uVar2 << 0x18 | (uVar2 >> 8 & 0xff) << 0x10 | (uVar2 >> 0x10 & 0xff) << 8 | uVar2 >> 0x18;
	*param_1 = *param_1 + 2;
	puVar8 = *param_1;
	uVar1 = param_2[0x43];
	uVar2 = param_2[0x44];
	puVar8[1] = uVar1 << 0x18 | (uVar1 >> 8 & 0xff) << 0x10 | (uVar1 >> 0x10 & 0xff) << 8 | uVar1 >> 0x18;
	*puVar8 = uVar2 << 0x18 | (uVar2 >> 8 & 0xff) << 0x10 | (uVar2 >> 0x10 & 0xff) << 8 | uVar2 >> 0x18;
	*param_1 = *param_1 + 2;
	puVar8 = *param_1;
	uVar1 = param_2[0x45];
	uVar2 = param_2[0x46];
	lVar9 = 4;
	puVar8[1] = uVar1 << 0x18 | (uVar1 >> 8 & 0xff) << 0x10 | (uVar1 >> 0x10 & 0xff) << 8 | uVar1 >> 0x18;
	*puVar8 = uVar2 << 0x18 | (uVar2 >> 8 & 0xff) << 0x10 | (uVar2 >> 0x10 & 0xff) << 8 | uVar2 >> 0x18;
	*param_1 = *param_1 + 2;
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0x47);
	*param_1 = (uint *)((int)*param_1 + 1);
	*param_1 = (uint *)((int)*param_1 + 3);
	puVar8 = *param_1 + -1;
	puVar7 = param_2 + 0x47;
	do {
		puVar5 = puVar8;
		lVar9 = lVar9 + -1;
		puVar8 = puVar5 + 1;
		*puVar8 = (uint) * (byte *)((int)puVar7 + 7) << 0x18 | (uint) * (byte *)((int)puVar7 + 6) << 0x10 | (uint) * (byte *)((int)puVar7 + 5) << 8 | (uint) * (byte *)(puVar7 + 1);
		puVar7 = puVar7 + 1;
	} while (0 < lVar9);
	puVar6 = (undefined *)((int)param_2 + 0x12f);
	*param_1 = puVar5 + 2;
	lVar9 = 4;
	puVar4 = (undefined *)((int)*param_1 + -1);
	do {
		puVar3 = puVar4;
		puVar6 = puVar6 + 1;
		lVar9 = lVar9 + -1;
		puVar4 = puVar3 + 1;
		*puVar4 = *puVar6;
	} while (0 < lVar9);
	*(undefined **)param_1 = puVar3 + 2;
	uVar1 = param_2[0x4d];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	puVar6 = (undefined *)((int)param_2 + 0x13b);
	lVar9 = 0x20;
	*param_1 = *param_1 + 1;
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0x4e);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x139);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x13a);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x13b);
	*param_1 = (uint *)((int)*param_1 + 1);
	puVar4 = (undefined *)((int)*param_1 + -1);
	do {
		puVar3 = puVar4;
		puVar6 = puVar6 + 1;
		lVar9 = lVar9 + -1;
		puVar4 = puVar3 + 1;
		*puVar4 = *puVar6;
	} while (0 < lVar9);
	*(undefined **)param_1 = puVar3 + 2;
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0x57);
	*param_1 = (uint *)((int)*param_1 + 1);
	*param_1 = (uint *)((int)*param_1 + 3);
	uVar1 = param_2[0x58];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x59];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x5a];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x5b];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x5c];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x5d];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x5e];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x5f];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x60];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x61];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x62];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[99];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[100];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x65];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x66];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x67];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x68];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x69];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x6a];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x6b];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x6c];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0x6d);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x1b5);
	*param_1 = (uint *)((int)*param_1 + 1);
	*param_1 = (uint *)((int)*param_1 + 2);
	uVar1 = param_2[0x6e];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x6f];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x70];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0x71);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x1c5);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x1c6);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x1c7);
	*param_1 = (uint *)((int)*param_1 + 1);
	uVar1 = param_2[0x72];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x73];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x74];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x75];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x76];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x77];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x78];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x79];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x7a];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x7b];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	puVar6 = (undefined *)((int)param_2 + 0x1ef);
	lVar9 = 0x11;
	*param_1 = *param_1 + 1;
	puVar4 = (undefined *)((int)*param_1 + -1);
	do {
		puVar3 = puVar4;
		puVar6 = puVar6 + 1;
		lVar9 = lVar9 + -1;
		puVar4 = puVar3 + 1;
		*puVar4 = *puVar6;
	} while (0 < lVar9);
	puVar8 = param_2 + 0x80;
	*(undefined **)param_1 = puVar3 + 2;
	lVar9 = 0x11;
	puVar6 = (undefined *)((int)*param_1 + -1);
	do {
		puVar4 = puVar6;
		puVar8 = (uint *)((int)puVar8 + 1);
		lVar9 = lVar9 + -1;
		puVar6 = puVar4 + 1;
		*puVar6 = *(undefined *)puVar8;
	} while (0 < lVar9);
	*(undefined **)param_1 = puVar4 + 2;
	*param_1 = (uint *)((int)*param_1 + 2);
	uVar1 = param_2[0x85];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*param_1 = *param_1 + 8;
	uVar1 = param_2[0x96];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x97];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*param_1 = *param_1 + 8;
	uVar1 = param_2[0xa8];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0xa9];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*param_1 = *param_1 + 8;
	uVar1 = param_2[0xba];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0xbb];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0xbc];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*param_1 = *param_1 + 0x18;
	uVar1 = param_2[0xed];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0xee];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0xef];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*param_1 = *param_1 + 8;
	uVar1 = param_2[0x100];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x101];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*param_1 = *param_1 + 8;
	uVar1 = param_2[0x112];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x113];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*param_1 = *param_1 + 8;
	uVar1 = param_2[0x124];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x125];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	FUN_10059fcc(param_1, param_2 + 0x126, 0xa10, 7);
	FUN_10059fcc(param_1, param_2 + 0x3aa, 0x3980, 0x28);
	uVar1 = param_2[0x120a];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	puVar6 = (undefined *)((int)param_2 + 0x482b);
	lVar9 = 0x28;
	*param_1 = *param_1 + 1;
	puVar4 = (undefined *)((int)*param_1 + -1);
	do {
		puVar3 = puVar4;
		puVar6 = puVar6 + 1;
		lVar9 = lVar9 + -1;
		puVar4 = puVar3 + 1;
		*puVar4 = *puVar6;
	} while (0 < lVar9);
	*(undefined **)param_1 = puVar3 + 2;
	FUN_10059fcc(param_1, param_2 + 0x1215, 0xb80, 8);
	FUN_10059fcc(param_1, param_2 + 0x14f5, 0x170, 1);
	uVar1 = param_2[0x1551];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1552];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1553];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1554];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1555];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1556];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1557];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*param_1 = *param_1 + 1;
	puVar8 = *param_1;
	uVar1 = param_2[0x1558];
	uVar2 = param_2[0x1559];
	puVar8[1] = uVar1 << 0x18 | (uVar1 >> 8 & 0xff) << 0x10 | (uVar1 >> 0x10 & 0xff) << 8 | uVar1 >> 0x18;
	*puVar8 = uVar2 << 0x18 | (uVar2 >> 8 & 0xff) << 0x10 | (uVar2 >> 0x10 & 0xff) << 8 | uVar2 >> 0x18;
	*param_1 = *param_1 + 2;
	uVar1 = param_2[0x155a];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x155b];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0x155c);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x5571);
	*param_1 = (uint *)((int)*param_1 + 1);
	*param_1 = (uint *)((int)*param_1 + 2);
	uVar1 = param_2[0x155d];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x155e];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x155f];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1560];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1561];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1562];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1563];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0x1564);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x5591);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x5592);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x5593);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0x1565);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x5595);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x5596);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x5597);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(ushort *)*param_1 = *(ushort *)(param_2 + 0x1566) >> 8 | *(ushort *)(param_2 + 0x1566) << 8;
	*param_1 = (uint *)((int)*param_1 + 2);
	*(ushort *)*param_1 = *(ushort *)((int)param_2 + 0x559a) >> 8 | *(ushort *)((int)param_2 + 0x559a) << 8;
	*param_1 = (uint *)((int)*param_1 + 2);
	*(ushort *)*param_1 = *(ushort *)(param_2 + 0x1567) >> 8 | *(ushort *)(param_2 + 0x1567) << 8;
	*param_1 = (uint *)((int)*param_1 + 2);
	*(ushort *)*param_1 = *(ushort *)((int)param_2 + 0x559e) >> 8 | *(ushort *)((int)param_2 + 0x559e) << 8;
	*param_1 = (uint *)((int)*param_1 + 2);
	*(ushort *)*param_1 = *(ushort *)(param_2 + 0x1568) >> 8 | *(ushort *)(param_2 + 0x1568) << 8;
	*param_1 = (uint *)((int)*param_1 + 2);
	*(ushort *)*param_1 = *(ushort *)((int)param_2 + 0x55a2) >> 8 | *(ushort *)((int)param_2 + 0x55a2) << 8;
	*param_1 = (uint *)((int)*param_1 + 2);
	*(ushort *)*param_1 = *(ushort *)(param_2 + 0x1569) >> 8 | *(ushort *)(param_2 + 0x1569) << 8;
	*param_1 = (uint *)((int)*param_1 + 2);
	*(ushort *)*param_1 = *(ushort *)((int)param_2 + 0x55a6) >> 8 | *(ushort *)((int)param_2 + 0x55a6) << 8;
	*param_1 = (uint *)((int)*param_1 + 2);
	uVar1 = param_2[0x156a];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x156b];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x156c];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x156d];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x156e];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x156f];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1570];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1571];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	return;
}

void FUN_10059fcc(uint **param_1, uint *param_2, undefined8 param_3, longlong param_4)

{
	undefined *puVar1;
	uint uVar2;
	undefined *puVar3;
	uint *puVar4;
	longlong lVar5;
	longlong lVar6;

	lVar6 = param_4;
	if ((int)param_4 == 0) {
		return;
	}
	do {
		uVar2 = *param_2;
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		*(ushort *)*param_1 = *(ushort *)(param_2 + 1) >> 8 | *(ushort *)(param_2 + 1) << 8;
		*param_1 = (uint *)((int)*param_1 + 2);
		*param_1 = (uint *)((int)*param_1 + 2);
		uVar2 = param_2[2];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[3];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[4];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[5];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[7];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[8];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[9];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[10];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0xb];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		*(undefined *)*param_1 = *(undefined *)(param_2 + 0xc);
		*param_1 = (uint *)((int)*param_1 + 1);
		*param_1 = (uint *)((int)*param_1 + 3);
		uVar2 = param_2[0xd];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0xe];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		puVar4 = param_2 + 0xf;
		lVar5 = 0x40;
		param_4 = param_4 + -1;
		*param_1 = *param_1 + 1;
		*(undefined *)*param_1 = *(undefined *)(param_2 + 0xf);
		*param_1 = (uint *)((int)*param_1 + 1);
		puVar1 = (undefined *)((int)*param_1 + -1);
		do {
			puVar3 = puVar1;
			puVar4 = (uint *)((int)puVar4 + 1);
			lVar5 = lVar5 + -1;
			puVar1 = puVar3 + 1;
			*puVar1 = *(undefined *)puVar4;
		} while (0 < lVar5);
		puVar4 = param_2 + 0x1f;
		*(undefined **)param_1 = puVar3 + 2;
		lVar5 = 0x40;
		puVar1 = (undefined *)((int)*param_1 + -1);
		do {
			puVar3 = puVar1;
			puVar4 = (uint *)((int)puVar4 + 1);
			lVar5 = lVar5 + -1;
			puVar1 = puVar3 + 1;
			*puVar1 = *(undefined *)puVar4;
		} while (0 < lVar5);
		*(undefined **)param_1 = puVar3 + 2;
		*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0xbd);
		*param_1 = (uint *)((int)*param_1 + 1);
		*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0xbe);
		*param_1 = (uint *)((int)*param_1 + 1);
		*param_1 = (uint *)((int)*param_1 + 1);
		uVar2 = param_2[0x30];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x31];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x32];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x33];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x34];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x35];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x36];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x37];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x38];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x39];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x3a];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x3b];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x3c];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x3d];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x3e];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x3f];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x40];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x41];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x42];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x43];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x44];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x45];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x46];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x47];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x48];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x49];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x4a];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x4b];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		*(undefined *)*param_1 = *(undefined *)(param_2 + 0x4c);
		*param_1 = (uint *)((int)*param_1 + 1);
		*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x131);
		*param_1 = (uint *)((int)*param_1 + 1);
		*param_1 = (uint *)((int)*param_1 + 2);
		uVar2 = param_2[0x4d];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x4e];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x4f];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x50];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x51];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x52];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		*(undefined *)*param_1 = *(undefined *)(param_2 + 0x53);
		*param_1 = (uint *)((int)*param_1 + 1);
		*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x14d);
		*param_1 = (uint *)((int)*param_1 + 1);
		*param_1 = (uint *)((int)*param_1 + 2);
		uVar2 = param_2[0x54];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x55];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x56];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x57];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		*(undefined *)*param_1 = *(undefined *)(param_2 + 0x58);
		*param_1 = (uint *)((int)*param_1 + 1);
		*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x161);
		*param_1 = (uint *)((int)*param_1 + 1);
		*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x162);
		*param_1 = (uint *)((int)*param_1 + 1);
		*param_1 = (uint *)((int)*param_1 + 1);
		uVar2 = param_2[0x59];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		uVar2 = param_2[0x5a];
		**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
		*param_1 = *param_1 + 1;
		*(undefined *)*param_1 = *(undefined *)(param_2 + 0x5b);
		*param_1 = (uint *)((int)*param_1 + 1);
		if (0 < (int)param_4) {
			param_2 = param_2 + 0x5c;
		}
		*param_1 = (uint *)((int)*param_1 + 3);
		lVar6 = lVar6 + -1;
	} while (lVar6 != 0);
	return;
}

void FUN_1005a6b8(uint **param_1, uint *param_2)

{
	uint uVar1;

	uVar1 = *param_2;
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[1];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*(undefined *)*param_1 = *(undefined *)(param_2 + 2);
	*param_1 = (uint *)((int)*param_1 + 1);
	*param_1 = (uint *)((int)*param_1 + 3);
	uVar1 = param_2[3];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[4];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[5];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[6];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*(undefined *)*param_1 = *(undefined *)(param_2 + 7);
	*param_1 = (uint *)((int)*param_1 + 1);
	*param_1 = (uint *)((int)*param_1 + 3);
	uVar1 = param_2[8];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[9];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[10];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0xb];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0xc];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0xd];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0xe];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0xf];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x10];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x11];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x12];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x13];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0x14);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x51);
	*param_1 = (uint *)((int)*param_1 + 1);
	*param_1 = (uint *)((int)*param_1 + 2);
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x17];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x18];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x19];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1a];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1b];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1c];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1d];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1e];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1f];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x20];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x21];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x22];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x23];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x24];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x25];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x26];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0x27);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x9d);
	*param_1 = (uint *)((int)*param_1 + 1);
	*param_1 = (uint *)((int)*param_1 + 2);
	uVar1 = param_2[0x28];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0x29);
	*param_1 = (uint *)((int)*param_1 + 1);
	*param_1 = (uint *)((int)*param_1 + 3);
	uVar1 = param_2[0x2a];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x2b];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x2c];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x2d];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x2e];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x2f];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0x30);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0xc1);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0xc2);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0xc3);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0x31);
	*param_1 = (uint *)((int)*param_1 + 1);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(ushort *)*param_1 = *(ushort *)((int)param_2 + 0xc6) >> 8 | *(ushort *)((int)param_2 + 0xc6) << 8;
	*param_1 = (uint *)((int)*param_1 + 2);
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0x32);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0xc9);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0xca);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0xcb);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0x33);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0xcd);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0xce);
	*param_1 = (uint *)((int)*param_1 + 1);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(ushort *)*param_1 = *(ushort *)(param_2 + 0x34) >> 8 | *(ushort *)(param_2 + 0x34) << 8;
	*param_1 = (uint *)((int)*param_1 + 2);
	*param_1 = (uint *)((int)*param_1 + 2);
	uVar1 = param_2[0x35];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0x36);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0xd9);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0xda);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0xdb);
	*param_1 = (uint *)((int)*param_1 + 1);
	return;
}

void FUN_1005ad70(uint **param_1, uint *param_2)

{
	uint uVar1;

	uVar1 = *param_2;
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[1];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[2];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[3];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[4];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[5];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[6];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[7];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[8];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[9];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[10];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0xb];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0xc];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0xd];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0xe);
	*param_1 = (uint *)((int)*param_1 + 1);
	*param_1 = (uint *)((int)*param_1 + 3);
	uVar1 = param_2[0xf];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x12];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x13];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x14];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x15];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x16];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x17];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x18];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x19];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1a];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1b];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1c];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1d];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1e];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1f];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x20];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x21];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x22];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x23];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x24];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x25];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x26];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x27];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x28];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x29];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x2a];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x2b];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x2c];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	return;
}

void FUN_1005b194(uint **param_1, uint *param_2)

{
	uint uVar1;

	uVar1 = *param_2;
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[1];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[2];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[3];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[4];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[6];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[7];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[8];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[9];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[10];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0xb];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0xc];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0xd);
	*param_1 = (uint *)((int)*param_1 + 1);
	*param_1 = (uint *)((int)*param_1 + 3);
	uVar1 = param_2[0xe];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0xf];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0x10);
	*param_1 = (uint *)((int)*param_1 + 1);
	*param_1 = (uint *)((int)*param_1 + 3);
	uVar1 = param_2[0x11];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x12];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x13];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x14];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x15];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x16];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x17];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x18];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x19];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1a];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1b];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1c];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0x1d];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	return;
}

void FUN_1005b474(uint **param_1, undefined *param_2)

{
	uint uVar1;

	*(undefined *)*param_1 = *param_2;
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = param_2[1];
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = param_2[2];
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = param_2[3];
	*param_1 = (uint *)((int)*param_1 + 1);
	uVar1 = *(uint *)(param_2 + 4);
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = *(uint *)(param_2 + 8);
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*(undefined *)*param_1 = param_2[0xc];
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = param_2[0xd];
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = param_2[0xe];
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = param_2[0xf];
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = param_2[0x10];
	*param_1 = (uint *)((int)*param_1 + 1);
	*param_1 = (uint *)((int)*param_1 + 3);
	uVar1 = *(uint *)(param_2 + 0x14);
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	return;
}

void FUN_1005b5a4(uint **param_1, uint *param_2)

{
	uint uVar1;

	uVar1 = *param_2;
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[1];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[2];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[3];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[4];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[5];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[6];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[7];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[8];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[9];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[10];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0xb];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[0xc];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	return;
}

void FUN_1005b6e0(uint **param_1, uint *param_2)

{
	uint uVar1;

	uVar1 = *param_2;
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[1];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[2];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[3];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[4];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar1 = param_2[5];
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	return;
}

void FUN_1005b774(void)

{
	_DAT_100f41dc = _DAT_100f41d4;
	return;
}

void mainmenu_refresh_music(undefined8 param_1, undefined8 param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	if (DAT_100f41e4 == '\0') {
		_DAT_100f41e8 = 5;
		DAT_100f41e4 = '\x01';
	}
	music_start(_DAT_100f41e8, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	do {
		ppuVar1[-0x137a] = ppuVar1[-0x137a] + 1;
		if (ppuVar1[-0x137a] == (undefined *)0x6) {
			ppuVar1[-0x137a] = (undefined *)0x0;
		}
	} while (ppuVar1[-0x137a] < (undefined *)0x2);
	return;
}

ulonglong mainmenu_init_menu(ulonglong param_1, undefined8 param_2, ulonglong param_3, ulonglong param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	longlong lVar2;
	longlong lVar3;
	ulonglong uVar4;
	undefined7 uVar5;
	undefined uVar6;
	undefined7 uVar7;
	undefined uVar8;
	undefined7 uVar9;
	undefined uVar10;
	undefined4 uVar11;
	undefined4 uVar12;
	undefined4 uVar13;
	undefined4 in_stack_ffffffc8;

	uVar9 = (undefined7)((ulonglong)param_5 >> 8);
	uVar10 = (undefined)param_5;
	uVar7 = (undefined7)(param_4 >> 8);
	uVar8 = (undefined)param_4;
	uVar5 = (undefined7)(param_3 >> 8);
	uVar6 = (undefined)param_3;
	if ((param_1 & 0xffffffff) == 4) {
		uVar1 = 1;
	} else {
		music_stop((char)param_1, (undefined)param_2, uVar6, uVar8, uVar10, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffffc8);
		uVar13 = (undefined4)param_8;
		uVar12 = (undefined4)param_7;
		uVar11 = (undefined4)param_6;
		lVar2 = -param_1 + 2;
		lVar3 = -param_1 + 3;
		uVar4 = (ulonglong)((int)lVar3 - ((uint)(lVar3 == 0) + (int)-param_1 + 2) & 0xff);
		uVar1 = StartGame((int)lVar2 - ((uint)(lVar2 == 0) + (int)-param_1 + 1) & 0xff, uVar4,
		    CONCAT71(uVar5, uVar6), CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10), param_6,
		    param_7, param_8, in_stack_ffffffc8);
		if (uVar1 != 0) {
			mainmenu_refresh_music(uVar1, uVar4, CONCAT71(uVar5, uVar6), CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10),
			    uVar11, uVar12, uVar13, in_stack_ffffffc8);
		}
	}
	return uVar1;
}

void mainmenu_single_player(undefined8 param_1, undefined8 param_2, ulonglong param_3, ulonglong param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	undefined4 in_stack_ffffffc8;

	uVar1 = ZEXT48(PTR_DAT_100f17e0);
	*PTR_DAT_100f17e0 = 1;
	mainmenu_init_menu(1, uVar1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void mainmenu_multi_player(undefined8 param_1, undefined8 param_2, ulonglong param_3, ulonglong param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	undefined4 in_stack_ffffffc8;

	uVar1 = ZEXT48(PTR_DAT_100f17e0);
	*PTR_DAT_100f17e0 = 4;
	mainmenu_init_menu(3, uVar1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_1005babc(undefined8 param_1, undefined8 param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined8 extraout_r3;
	undefined8 uVar2;
	undefined7 uVar3;
	undefined uVar4;
	undefined7 uVar5;
	undefined uVar6;
	undefined7 uVar7;
	undefined uVar8;
	undefined4 in_stack_ffffffc8;

	uVar7 = (undefined7)((ulonglong)param_5 >> 8);
	uVar8 = (undefined)param_5;
	uVar5 = (undefined7)((ulonglong)param_4 >> 8);
	uVar6 = (undefined)param_4;
	uVar3 = (undefined7)(param_3 >> 8);
	uVar4 = (undefined)param_3;
	ppuVar1 = &toc;
	music_stop((undefined)param_1, (undefined)param_2, uVar4, uVar6, uVar8, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffffc8);
	uVar2 = 1;
	play_movie(ZEXT48(ppuVar1[-0x17d8]), 1, CONCAT71(uVar3, uVar4), CONCAT71(uVar5, uVar6),
	    CONCAT71(uVar7, uVar8), param_6, param_7, param_8, in_stack_ffffffc8);
	mainmenu_refresh_music(extraout_r3, uVar2, CONCAT71(uVar3, uVar4), CONCAT71(uVar5, uVar6), CONCAT71(uVar7, uVar8),
	    param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

// WARNING: Removing unreachable block (ram,0x1005bb90)
// WARNING: Removing unreachable block (ram,0x1005bb9c)
// WARNING: Removing unreachable block (ram,0x1005bb6c)
// WARNING: Removing unreachable block (ram,0x1005bba4)
// WARNING: Removing unreachable block (ram,0x1005bbb0)
// WARNING: Removing unreachable block (ram,0x1005bb74)
// WARNING: Removing unreachable block (ram,0x1005bb78)
// WARNING: Removing unreachable block (ram,0x1005bbb8)
// WARNING: Removing unreachable block (ram,0x1005bb7c)
// WARNING: Removing unreachable block (ram,0x1005bb88)
// WARNING: Removing unreachable block (ram,0x1005bbd0)

void mainmenu_loop(undefined8 param_1, undefined8 param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined8 uVar3;
	longlong lVar4;
	ulonglong uVar5;
	undefined8 uVar6;
	undefined7 uVar7;
	undefined uVar8;
	ulonglong uVar9;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar2 = PTR_s_Unable_to_display_mainmenu_100f306c;
	puVar1 = PTR_PTR_FUN_100f1ea4;
	uVar7 = (undefined7)((ulonglong)param_5 >> 8);
	uVar8 = (undefined)param_5;
	uVar9 = ZEXT48(PTR_PTR_FUN_100f1ea4);
	mainmenu_refresh_music(param_1, param_2, param_3, param_4, param_5, (int)param_6, (int)param_7, (int)param_8,
	    in_stack_ffffffa8);
	do {
		do {
			lVar4 = ZEXT48(register0x0000000c) - 0x28;
			uVar6 = 0x1e;
			uVar5 = uVar9;
			uVar3 = UiMainMenuDialog((int)s_Diablo_v1_09_100fc326, (undefined4 *)lVar4, puVar1, 0x1e, uVar8,
			    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffa8);
		} while ((int)uVar3 != 0);
		app_fatal((int)puVar2, lVar4, uVar5, uVar6, CONCAT71(uVar7, uVar8), (int)param_6, (int)param_7,
		    (int)param_8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffb8,
		    in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
	} while (true);
}

void FUN_1005bbe8(void)

{
	_DAT_100f41ec = _DAT_100f41e0;
	return;
}

void FreeQuestText(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	mem_free_dbg((int **)&DAT_100f4208, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	mem_free_dbg((int **)(ppuVar1 + -0x1373), param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

void InitQuestText(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined **ppuVar2;
	longlong lVar3;
	undefined4 in_stack_ffffffc8;

	ppuVar2 = &toc;
	lVar3 = LoadFileInMem(ZEXT48(PTR_s_Data_MedTextS_CEL_100f3088), (undefined4 *)0x0, param_3, param_4,
	    param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	ppuVar2[-0x1372] = (undefined *)lVar3;
	lVar3 = LoadFileInMem(ZEXT48(ppuVar2[-0x17d3]), (undefined4 *)0x0, param_3, param_4, param_5, param_6,
	    param_7, param_8, in_stack_ffffffc8);
	ppuVar2[-0x1373] = (undefined *)lVar3;
	puVar1 = ppuVar2[-0x1c42];
	*ppuVar2[-0x1dcc] = 0;
	*puVar1 = 0;
	return;
}

void InitQTextMsg(int param_1, undefined8 param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined4 *puVar3;
	int iVar4;
	undefined **ppuVar5;
	longlong lVar6;
	undefined4 uVar7;
	ulonglong uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	int iVar14;
	undefined4 in_stack_ffffffb8;
	undefined uVar15;
	undefined in_stack_ffffffbf;
	int local_3c;

	iVar4 = _DAT_100f1ec4;
	puVar3 = _DAT_100f1ec0;
	uVar15 = (undefined)in_stack_ffffffb8;
	uVar10 = (undefined)param_5;
	uVar9 = (undefined)param_4;
	uVar13 = (undefined)param_8;
	uVar12 = (undefined)param_7;
	uVar11 = (undefined)param_6;
	ppuVar5 = &toc;
	param_1 = param_1 * 0x10;
	iVar14 = _DAT_100f1ec4 + param_1;
	if (*(int *)(iVar14 + 4) != 0) {
		uVar8 = ZEXT48(PTR_DAT_100f1808);
		*(undefined4 *)PTR_DAT_100f1808 = 0;
		sound_disable_music(1, uVar8, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
		puVar1 = ppuVar5[-0x1dcc];
		*ppuVar5[-0x1c42] = 1;
		puVar2 = ppuVar5[-0x1c45];
		*puVar1 = 1;
		puVar1 = *(undefined **)(iVar4 + param_1);
		ppuVar5[-0x1374] = puVar1;
		ppuVar5[-0x1375] = (undefined *)0x1f4;
		lVar6 = ZEXT48(puVar2) + (ulonglong)(uint)(*(int *)(iVar14 + 8) << 2);
		*puVar3 = *(undefined4 *)((int)lVar6 + -4);
		ppuVar5[-0x1376] = (undefined *)*puVar3;
		uVar7 = GetTickCount((char)lVar6, (char)puVar1, 1, uVar9, uVar10, uVar11, uVar12, uVar13, uVar15,
		    in_stack_ffffffbf, local_3c);
		*(undefined4 *)(local_3c + -0x4ddc) = uVar7;
	}
	PlaySFX((ulonglong) * (uint *)(iVar4 + param_1 + 0xc));
	return;
}

void music_stop2(undefined8 param_1, undefined8 param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined4 in_stack_ffffffc8;

	puVar1 = PTR_DAT_100f1ec8;
	if (*PTR_DAT_100f1ec8 != '\0') {
		sound_disable_music(0, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
		*puVar1 = 0;
	}
	return;
}

void DrawQTextBack(void)

{
	undefined **ppuVar1;
	longlong lVar2;
	undefined *puVar3;
	undefined *puVar4;
	longlong lVar5;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	CelDecodeOnly(0x58, 0x1e7, (ulonglong)_DAT_100f4204, 1, 0x24f, in_r8, in_r9, in_r10, in_stack_ffffffc8);
	lVar5 = 0x94;
	puVar4 = (undefined *)(*(int *)ppuVar1[-0x1e01] + 0x5ac5b);
	do {
		lVar2 = 0x124;
		do {
			puVar3 = puVar4;
			lVar2 = lVar2 + -1;
			*puVar3 = 0;
			puVar4 = puVar3 + 2;
		} while (lVar2 != 0);
		puVar3[2] = 0;
		lVar2 = 0x124;
		puVar3 = puVar3 + -0x546;
		do {
			puVar4 = puVar3;
			lVar2 = lVar2 + -1;
			puVar4[1] = 0;
			puVar3 = puVar4 + 2;
		} while (lVar2 != 0);
		lVar5 = lVar5 + -1;
		puVar4 = puVar4 + -0x546;
	} while (lVar5 != 0);
	lVar5 = 0x124;
	do {
		lVar5 = lVar5 + -1;
		*puVar4 = 0;
		puVar4 = puVar4 + 2;
	} while (lVar5 != 0);
	*puVar4 = 0;
	return;
}

void PrintQTextChr(longlong param_1, undefined8 param_2, longlong param_3, ulonglong param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	char cVar1;
	uint uVar2;
	uint uVar3;
	ulonglong uVar4;
	undefined **ppuVar5;
	ulonglong uVar6;
	undefined *puVar7;
	undefined *puVar8;
	ulonglong uVar9;
	ulonglong uVar10;
	ulonglong uVar11;
	longlong lVar12;
	undefined uVar13;
	undefined uVar14;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	ulonglong uVar15;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffffa8;
	uint local_28[5];
	undefined4 local_14;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar7 = PTR_DAT_100f1938;
	uVar14 = (undefined)param_8;
	uVar13 = (undefined)param_7;
	ppuVar5 = &toc;
	local_14 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar6 = FUN_100b8f7c(param_3, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	uVar9 = (ulonglong) * (uint *)ppuVar5[-0x1e01];
	uVar2 = *(uint *)(puVar7 + 0x344);
	uVar3 = *(uint *)(puVar7 + 0x754);
	uVar15 = uVar9 + (ulonglong) * (uint *)(puVar7 + (int)param_2 * 4) + param_1;
	uVar6 = FUN_1003cdf8(uVar6, (int)param_4, (int *)local_28);
	uVar10 = uVar6 + (ulonglong)local_28[0];
	do {
		lVar12 = 0x16;
		do {
			cVar1 = *(char *)uVar6;
			uVar6 = uVar6 + 1;
			uVar11 = SEXT18(cVar1);
			if ((longlong)uVar11 < 0) {
				uVar15 = uVar15 - uVar11;
				lVar12 = lVar12 + uVar11;
			} else {
				lVar12 = lVar12 - uVar11;
				if (((uVar15 & 0xffffffff) < (uVar9 + (ulonglong)uVar2 & 0xffffffff)) || ((uVar9 + (ulonglong)uVar3 & 0xffffffff) < (uVar15 & 0xffffffff))) {
					uVar6 = uVar6 + uVar11;
					uVar15 = uVar15 + uVar11;
				} else {
					param_4 = uVar11;
					if (cVar1 != '\0') {
						uVar4 = (ulonglong)((uint)(int)cVar1 >> 3);
						param_4 = uVar11;
						if ((uint)(int)cVar1 >> 3 != 0) {
							do {
								puVar7 = (undefined *)uVar6;
								puVar8 = (undefined *)uVar15;
								*puVar8 = *puVar7;
								puVar8[1] = puVar7[1];
								puVar8[2] = puVar7[2];
								puVar8[3] = puVar7[3];
								puVar8[4] = puVar7[4];
								puVar8[5] = puVar7[5];
								puVar8[6] = puVar7[6];
								uVar6 = uVar6 + 8;
								puVar8[7] = puVar7[7];
								uVar15 = uVar15 + 8;
								uVar4 = uVar4 - 1;
							} while (uVar4 != 0);
							param_4 = uVar11 & 7;
							uVar11 = param_4;
							if (param_4 == 0)
								goto LAB_1005bf54;
						}
						do {
							puVar7 = (undefined *)uVar6;
							uVar6 = uVar6 + 1;
							*(undefined *)uVar15 = *puVar7;
							uVar15 = uVar15 + 1;
							uVar11 = uVar11 - 1;
						} while (uVar11 != 0);
					}
				}
			}
		LAB_1005bf54:
		} while ((int)lVar12 != 0);
		uVar15 = uVar15 - 0x316;
		if ((uVar10 & 0xffffffff) == (uVar6 & 0xffffffff)) {
			FUN_100b9100((int)param_3, (char)param_4, (char)uVar15, (char)uVar10, cVar1, (char)lVar12, uVar13,
			    uVar14, in_stack_ffffffa8);
			return;
		}
	} while (true);
}

void DrawQText(undefined8 param_1, ulonglong param_2, ulonglong param_3, ulonglong param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	byte bVar1;
	uint uVar2;
	undefined *puVar3;
	bool bVar4;
	int *piVar5;
	int iVar6;
	int iVar7;
	ulonglong uVar8;
	ulonglong uVar9;
	longlong lVar10;
	longlong lVar11;
	byte *pbVar12;
	undefined7 uVar13;
	undefined uVar14;
	undefined4 uVar15;
	longlong lVar16;
	undefined4 uVar17;
	longlong lVar18;
	undefined4 uVar19;
	undefined8 unaff_r20;
	undefined8 unaff_r21;
	undefined8 unaff_r22;
	undefined8 unaff_r23;
	ulonglong uVar20;
	undefined8 unaff_r24;
	longlong lVar21;
	undefined8 unaff_r25;
	ulonglong uVar22;
	undefined8 unaff_r26;
	ulonglong uVar23;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffff18;
	undefined in_stack_ffffff1f;
	int local_dc;
	byte local_b8[136];
	undefined4 local_30;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	iVar7 = _DAT_100f3080;
	iVar6 = _DAT_100f307c;
	piVar5 = _DAT_100f1ec0;
	uVar13 = (undefined7)((ulonglong)param_5 >> 8);
	uVar14 = (undefined)param_5;
	lVar18 = (longlong)param_8;
	lVar16 = (longlong)param_7;
	lVar11 = (longlong)param_6;
	uVar8 = ZEXT48(&toc);
	local_30 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar9 = DrawQTextBack();
	uVar23 = (ulonglong) * (uint *)((int)uVar8 + -0x4dd0);
	uVar20 = (ulonglong) * (uint *)((int)uVar8 + -0x4dd4);
	uVar22 = 0;
	bVar4 = false;
	while (true) {
		uVar19 = (undefined4)lVar18;
		uVar17 = (undefined4)lVar16;
		uVar15 = (undefined4)lVar11;
		lVar21 = 0x70;
		if (bVar4)
			break;
		lVar10 = 0;
		param_4 = 0;
		param_3 = uVar23;
		while (true) {
			pbVar12 = (byte *)param_3;
			if (((*pbVar12 == 10) || (*pbVar12 == 0x7c)) || (0x21e < (int)lVar10))
				break;
			param_3 = param_3 + 1;
			bVar1 = (&DAT_100f64e8)[(uint)*pbVar12];
			if (bVar1 == 0) {
				param_4 = param_4 - 1;
			} else {
				local_b8[(int)param_4] = bVar1;
				lVar10 = (ulonglong) * (byte *)(iVar6 + (uint) * (byte *)(iVar7 + (uint)bVar1)) + lVar10 + 2;
			}
			param_4 = param_4 + 1;
		}
		param_2 = (ZEXT48(register0x0000000c) - 0xb8) + param_4;
		*(undefined *)param_2 = 0;
		if (*pbVar12 == 0x7c) {
			*(undefined *)param_2 = 0;
			bVar4 = true;
		} else {
			if (*pbVar12 != 10) {
				while ((*(char *)param_2 != ' ' && (0 < (int)param_4))) {
					*(char *)param_2 = '\0';
					param_2 = param_2 - 1;
					param_4 = param_4 - 1;
				}
			}
		}
		lVar10 = ZEXT48(register0x0000000c) - 0xb8;
		while (true) {
			bVar1 = *(byte *)lVar10;
			uVar9 = (ulonglong)bVar1;
			if (bVar1 == 0)
				break;
			uVar9 = uVar23 + 1;
			bVar1 = *(byte *)(iVar7 + (uint)(byte)(&DAT_100f64e8)[(uint)bVar1]);
			param_4 = (ulonglong)bVar1;
			if (*(char *)uVar9 == '\n') {
				uVar9 = uVar23 + 2;
			}
			if (bVar1 != 0) {
				param_3 = (ulonglong) * (uint *)((int)uVar8 + -0x4dc8);
				param_2 = uVar20;
				PrintQTextChr(lVar21, uVar20, param_3, param_4, CONCAT71(uVar13, uVar14), (int)lVar11, (int)lVar16,
				    (int)lVar18, in_stack_ffffff18);
			}
			lVar10 = lVar10 + 1;
			lVar21 = (ulonglong) * (byte *)(iVar6 + (uint)bVar1) + lVar21 + 2;
			uVar23 = uVar9;
		}
		if ((uVar22 & 0xffffffff) == 0) {
			uVar22 = uVar23;
		}
		uVar20 = uVar20 + 0x26;
		if (0x1f5 < (int)uVar20) {
			bVar4 = true;
		}
	}
	lVar11 = GetTickCount((char)uVar9, (char)param_2, (char)param_3, (char)param_4, uVar14, (char)lVar11,
	    (char)lVar16, (char)lVar18, (char)in_stack_ffffff18, in_stack_ffffff1f, local_dc);
	while (true) {
		if (*piVar5 < 1) {
			*(int *)(local_dc + -0x4dd4) = *(int *)(local_dc + -0x4dd4) + -1;
			param_3 = (ulonglong) * (uint *)(local_dc + -0x4dd4);
			*(int *)(local_dc + -0x4dd4) = *(uint *)(local_dc + -0x4dd4) + *piVar5;
		} else {
			*(int *)(local_dc + -0x4dd8) = *(int *)(local_dc + -0x4dd8) + -1;
			if (*(int *)(local_dc + -0x4dd8) != 0) {
				*(int *)(local_dc + -0x4dd4) = *(int *)(local_dc + -0x4dd4) + -1;
			}
		}
		if (*(int *)(local_dc + -0x4dd8) == 0) {
			*(int *)(local_dc + -0x4dd8) = *piVar5;
		}
		uVar2 = *(uint *)(local_dc + -0x4dd4);
		if ((int)uVar2 < 0xd2)
			break;
		*(int *)(local_dc + -0x4ddc) = *(int *)(local_dc + -0x4ddc) + 0x32;
		if (0x7ffffffe < (lVar11 - (ulonglong) * (uint *)(local_dc + -0x4ddc) & 0xffffffff)) {
			return;
		}
	}
	*(undefined4 *)(local_dc + -0x4dd0) = (int)uVar22;
	*(int *)(local_dc + -0x4dd4) = uVar2 + 0x26;
	if (**(char **)(local_dc + -0x4dd0) != '|') {
		return;
	}
	puVar3 = *(undefined **)(local_dc + -0x7730);
	*puVar3 = 0;
	music_stop2(ZEXT48(puVar3), (ulonglong)uVar2, param_3, param_4, CONCAT71(uVar13, uVar14), uVar15, uVar17, uVar19, in_stack_ffffff18);
	return;
}

void FUN_1005c1dc(void)

{
	_DAT_100f420c = _DAT_100f41f0;
	return;
}

void FUN_1005c1e8(void)

{
	_DAT_100f4214 = _DAT_100f4210;
	return;
}

void GetDamageAmt(uint param_1)

{
	if (0x24 < param_1) {
		return;
	}
	// WARNING: Could not recover jumptable at 0x1005c238. Too many branches
	// WARNING: Treating indirect jump as call
	(**(code **)(_DAT_100f30ec + param_1 * 4))();
	return;
}

undefined8
CheckBlock(longlong param_1, int param_2, longlong param_3, int param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	int iVar3;
	undefined *puVar4;
	undefined *puVar5;
	ulonglong uVar6;
	undefined8 uVar7;

	puVar5 = PTR_DAT_100f1ef8;
	puVar4 = PTR_DAT_100f1ef4;
	iVar3 = _DAT_100f1da4;
	puVar2 = PTR_DAT_100f1a54;
	uVar7 = 0;
	while (((int)param_1 != (int)param_3 || (param_2 != param_4))) {
		uVar6 = GetDirection(param_1, param_2, param_3, param_4);
		iVar1 = (int)uVar6 * 4;
		param_1 = param_1 + (ulonglong) * (uint *)(puVar5 + iVar1);
		param_2 = param_2 + *(int *)(puVar4 + iVar1);
		if (*(char *)(iVar3 + (int)*(short *)(*(int *)puVar2 + (int)param_1 * 0xe0 + param_2 * 2)) != '\0') {
			uVar7 = 1;
		}
	}
	return uVar7;
}

longlong FindClosest(longlong param_1, int param_2, int param_3, undefined param_4, undefined param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	short sVar1;
	undefined4 uVar2;
	undefined4 *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined4 *puVar6;
	undefined8 uVar7;
	longlong lVar8;
	undefined4 *puVar9;
	int iVar10;
	ulonglong uVar11;
	longlong lVar12;
	longlong lVar13;
	longlong lVar14;
	undefined8 unaff_r22;
	undefined8 unaff_r23;
	int *piVar15;
	undefined8 unaff_r24;
	char *pcVar16;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	ulonglong uVar17;
	undefined8 unaff_r29;
	int iVar18;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	longlong lVar19;
	undefined4 in_stack_ffffff58;
	undefined4 auStack128[3];
	int local_74[19];
	undefined4 local_28;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar5 = PTR_DAT_100f1ef0;
	puVar4 = PTR_DAT_100f1954;
	lVar14 = (longlong)param_8;
	lVar13 = (longlong)param_7;
	lVar12 = (longlong)param_6;
	local_28 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar11 = ZEXT48(PTR_DAT_100f30e8);
	lVar8 = uVar11 - 8;
	lVar19 = 9;
	puVar6 = auStack128;
	do {
		puVar9 = puVar6;
		lVar8 = lVar8 + 8;
		puVar3 = (undefined4 *)lVar8;
		uVar2 = puVar3[1];
		puVar9[2] = *puVar3;
		puVar9[3] = uVar2;
		lVar19 = lVar19 + -1;
		puVar6 = puVar9 + 2;
	} while (lVar19 != 0);
	puVar9[4] = puVar3[2];
	if (0x13 < param_3) {
		param_3 = 0x13;
	}
	piVar15 = local_74;
	iVar18 = 1;
	do {
		if (param_3 <= iVar18) {
			return -1;
		}
		uVar17 = (ulonglong)(byte)puVar5[*piVar15];
		pcVar16 = puVar5 + *piVar15 + 1;
		while (0 < (int)uVar17) {
			lVar8 = param_1 + (longlong)*pcVar16;
			iVar10 = param_2 + (int)pcVar16[1];
			if ((((0 < lVar8) && ((int)lVar8 < 0x70)) && (0 < iVar10)) && (((iVar10 < 0x70 && (sVar1 = *(short *)(*(int *)puVar4 + (int)lVar8 * 0xe0 + iVar10 * 2), 0 < sVar1)) && (uVar7 = CheckBlock(param_1, param_2, lVar8, iVar10, (char)uVar11, (char)lVar12, (char)lVar13, (char)lVar14, in_stack_ffffff58), (int)uVar7 == 0)))) {
				return (longlong)sVar1 + -1;
			}
			pcVar16 = pcVar16 + 2;
			uVar17 = uVar17 - 1;
		}
		piVar15 = piVar15 + 1;
		iVar18 = iVar18 + 1;
	} while (true);
}

longlong GetSpellLevel(int param_1, int param_2)

{
	longlong lVar1;

	if (param_1 == *(int *)PTR_DAT_100f1824) {
		lVar1 = (longlong)(char)(PTR_DAT_100f1828 + param_1 * 0x55ec)[param_2 + 0xc1] + (longlong)(char)(PTR_DAT_100f1828 + param_1 * 0x55ec)[0x5570];
	} else {
		lVar1 = 1;
	}
	if (-1 < (int)lVar1) {
		return lVar1;
	}
	return 0;
}

ulonglong GetDirection8(longlong param_1, longlong param_2, longlong param_3, longlong param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	byte bVar1;
	undefined4 uVar2;
	int iVar4;
	ulonglong uVar3;
	undefined4 *puVar5;
	undefined4 *puVar6;
	undefined8 unaff_r27;
	int iVar7;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	longlong lVar8;
	undefined2 local_128;
	undefined local_126;
	undefined2 local_125;
	undefined local_123;
	undefined2 local_122;
	undefined local_120;
	undefined2 local_11f;
	undefined local_11d;
	byte local_11c[264];
	undefined4 local_14;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	local_14 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	lVar8 = 0x20;
	puVar6 = (undefined4 *)((int)&local_125 + 1);
	puVar5 = (undefined4 *)(PTR_DAT_100f30e4 + -8);
	do {
		uVar2 = puVar5[3];
		puVar6[2] = puVar5[2];
		puVar6[3] = uVar2;
		lVar8 = lVar8 + -1;
		puVar6 = puVar6 + 2;
		puVar5 = puVar5 + 2;
	} while (lVar8 != 0);
	local_11f = _DAT_100f4218;
	local_122 = _DAT_100f421b;
	local_125 = _DAT_100f421e;
	local_128 = _DAT_100f4221;
	local_11d = DAT_100f421a;
	local_120 = DAT_100f421d;
	local_123 = DAT_100f4220;
	local_126 = DAT_100f4223;
	lVar8 = abs(param_3 - param_1);
	iVar7 = (int)lVar8;
	if (0xf < iVar7) {
		iVar7 = 0xf;
	}
	lVar8 = abs(param_4 - param_2);
	iVar4 = (int)lVar8;
	if (0xf < iVar4) {
		iVar4 = 0xf;
	}
	bVar1 = local_11c[iVar4 * 0x10 + iVar7];
	if ((int)param_3 < (int)param_1) {
		if ((int)param_4 < (int)param_2) {
			uVar3 = (ulonglong) * (byte *)((int)&local_11f + (uint)bVar1);
		} else {
			uVar3 = (ulonglong) * (byte *)((int)&local_125 + (uint)bVar1 + 3);
		}
	} else {
		if ((int)param_4 < (int)param_2) {
			uVar3 = (ulonglong) * (byte *)((int)&local_125 + (uint)bVar1);
		} else {
			uVar3 = (ulonglong) * (byte *)((int)&local_128 + (uint)bVar1);
		}
	}
	return uVar3;
}

ulonglong GetDirection16(longlong param_1, longlong param_2, longlong param_3, longlong param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	byte bVar1;
	undefined4 uVar2;
	int iVar4;
	ulonglong uVar3;
	undefined4 *puVar5;
	undefined4 *puVar6;
	undefined8 unaff_r27;
	int iVar7;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	longlong lVar8;
	undefined4 local_138;
	undefined local_134;
	undefined4 local_133;
	undefined local_12f;
	undefined4 local_12e;
	undefined local_12a;
	undefined4 local_129;
	undefined local_125;
	byte local_124[272];
	undefined4 local_14;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	local_14 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	lVar8 = 0x20;
	puVar6 = (undefined4 *)((int)&local_12e + 2);
	puVar5 = (undefined4 *)(PTR_DAT_100f30e0 + -8);
	do {
		uVar2 = puVar5[3];
		puVar6[2] = puVar5[2];
		puVar6[3] = uVar2;
		lVar8 = lVar8 + -1;
		puVar6 = puVar6 + 2;
		puVar5 = puVar5 + 2;
	} while (lVar8 != 0);
	local_129 = *(undefined4 *)PTR_DAT_100f30dc;
	local_125 = PTR_DAT_100f30dc[4];
	local_12e = *(undefined4 *)PTR_DAT_100f30d8;
	local_12a = PTR_DAT_100f30d8[4];
	local_133 = *(undefined4 *)PTR_DAT_100f30d4;
	local_12f = PTR_DAT_100f30d4[4];
	local_138 = *(undefined4 *)PTR_DAT_100f30d0;
	local_134 = PTR_DAT_100f30d0[4];
	lVar8 = abs(param_3 - param_1);
	iVar7 = (int)lVar8;
	if (0xf < iVar7) {
		iVar7 = 0xf;
	}
	lVar8 = abs(param_4 - param_2);
	iVar4 = (int)lVar8;
	if (0xf < iVar4) {
		iVar4 = 0xf;
	}
	bVar1 = local_124[iVar4 * 0x10 + iVar7];
	if ((int)param_3 < (int)param_1) {
		if ((int)param_4 < (int)param_2) {
			uVar3 = (ulonglong) * (byte *)((int)&local_12e + (uint)bVar1 + 5);
		} else {
			uVar3 = (ulonglong) * (byte *)((int)&local_12e + (uint)bVar1);
		}
	} else {
		if ((int)param_4 < (int)param_2) {
			uVar3 = (ulonglong) * (byte *)((int)&local_133 + (uint)bVar1);
		} else {
			uVar3 = (ulonglong) * (byte *)((int)&local_138 + (uint)bVar1);
		}
	}
	return uVar3;
}

void DeleteMissile(longlong param_1, int param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	undefined4 in_stack_ffffffb8;

	puVar3 = PTR_DAT_100f1970;
	puVar2 = PTR_DAT_100f1968;
	ppuVar4 = &toc;
	iVar1 = (int)(param_1 * 0xb4);
	if (*(int *)(PTR_DAT_100f196c + iVar1) == 0xd) {
		iVar1 = *(int *)(PTR_DAT_100f196c + iVar1 + 0x78);
		ppuVar4 = &toc;
		if (iVar1 == *(int *)PTR_DAT_100f1824) {
			ppuVar4 = &toc;
			FUN_1007a7d0(1, 0x5d, ZEXT48(PTR_DAT_100f196c), param_1 * 0xb4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffb8);
		}
		ppuVar4[-0x1dea][iVar1 * 0x55ec + 0x5594] = 0;
	}
	*(int *)(ppuVar4[-0x1c54] + (0x7d - *(int *)puVar2) * 4) = (int)param_1;
	*(int *)puVar2 = *(int *)puVar2 + -1;
	iVar1 = *(int *)puVar2;
	if ((0 < iVar1) && (param_2 != iVar1)) {
		*(undefined4 *)(puVar3 + param_2 * 4) = *(undefined4 *)(puVar3 + iVar1 * 4);
	}
	return;
}

void FUN_1005d4e8(int param_1, int param_2, int param_3, int param_4, int param_5, int param_6,
    undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined *puVar1;
	double dVar2;
	double dVar3;
	double dVar4;
	double dVar5;

	puVar1 = PTR_DAT_100f196c;
	if ((param_4 == param_2) && (param_5 == param_3)) {
		puVar1 = PTR_DAT_100f196c + param_1 * 0xb4;
		*(undefined4 *)(puVar1 + 0x14) = 0;
		*(undefined4 *)(puVar1 + 0x18) = 0;
	} else {
		dVar3 = (double)CONCAT44(0x43300000,
		            ((param_4 - param_2) + (param_5 - param_3)) * 0x200000 ^ 0x80000000)
		    - _DAT_100f4230;
		dVar4 = (double)CONCAT44(0x43300000,
		            ((param_4 - param_2) - (param_5 - param_3)) * 0x200000 ^ 0x80000000)
		    - _DAT_100f4230;
		dVar5 = _DAT_100f4230;
		dVar2 = FUN_100d11e4(dVar4 * dVar4 + dVar3 * dVar3);
		*(int *)(puVar1 + param_1 * 0xb4 + 0x14) = (int)((((double)CONCAT44(0x43300000, param_6 << 0x10 ^ 0x80000000) - dVar5) * dVar4) / dVar2);
		*(int *)(puVar1 + param_1 * 0xb4 + 0x18) = (int)((((double)CONCAT44(0x43300000, param_6 << 0xf ^ 0x80000000) - dVar5) * dVar3) / dVar2);
	}
	return;
}

void FUN_1005d62c(undefined8 param_1)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	char *pcVar5;
	int iVar6;

	puVar3 = PTR_DAT_100f196c;
	iVar2 = (int)param_1 * 0xb4;
	iVar1 = *(int *)(PTR_DAT_100f196c + iVar2 + 4);
	iVar6 = *(int *)(PTR_DAT_100f196c + iVar2 + 8);
	if ((((iVar1 < 1) || (iVar6 < 1)) || (0x6f < iVar1)) || (0x6f < iVar6)) {
		*(undefined4 *)(PTR_DAT_100f196c + iVar2 + 0x34) = 1;
	}
	puVar4 = PTR_DAT_100f1a3c;
	if (*(int *)(puVar3 + iVar2 + 0x34) != 0) {
		return;
	}
	iVar6 = iVar1 * 0x70 + iVar6;
	*(byte *)(*(int *)PTR_DAT_100f1834 + iVar6) = *(byte *)(*(int *)PTR_DAT_100f1834 + iVar6) | 1;
	pcVar5 = (char *)(*(int *)puVar4 + iVar6);
	if (*pcVar5 == '\0') {
		*pcVar5 = (char)param_1 + '\x01';
	} else {
		*pcVar5 = -1;
	}
	if (*(int *)(puVar3 + iVar2 + 0x6c) == 0) {
		return;
	}
	*(undefined4 *)PTR_DAT_100f1eec = 1;
	return;
}

void FUN_1005d6e8(int iParm1)

{
	uint uVar1;
	uint uVar2;
	int iVar3;
	undefined *puVar4;
	ulonglong in_r9;
	longlong lVar5;
	int iVar6;
	int iVar7;
	int iVar8;
	int iVar9;

	uVar2 = *(int *)(PTR_DAT_100f196c + iParm1 * 0xb4 + 0x24) >> 0x10;
	iVar3 = *(int *)(PTR_DAT_100f196c + iParm1 * 0xb4 + 0x28) >> 0x10;
	uVar1 = iVar3 * 2;
	lVar5 = (in_r9 & 0xffffffff00000000 | (ulonglong)uVar2) + (ulonglong)uVar1;
	iVar7 = uVar1 - uVar2;
	iVar6 = (int)lVar5;
	if (lVar5 < 0) {
		iVar8 = -(-iVar6 >> 3);
		iVar6 = -(-iVar6 >> 6);
	} else {
		iVar8 = iVar6 >> 3;
		iVar6 = iVar6 >> 6;
	}
	if (iVar7 < 0) {
		iVar9 = -(-iVar7 >> 3);
		iVar7 = -(-iVar7 >> 6);
	} else {
		iVar9 = iVar7 >> 3;
		iVar7 = iVar7 >> 6;
	}
	puVar4 = PTR_DAT_100f196c + iParm1 * 0xb4;
	*(int *)(puVar4 + 4) = iVar6 + *(int *)(puVar4 + 0x1c);
	*(int *)(puVar4 + 8) = iVar7 + *(int *)(puVar4 + 0x20);
	*(uint *)(puVar4 + 0xc) = uVar2 + (iVar6 - iVar7) * -0x20;
	*(int *)(puVar4 + 0x10) = iVar3 + (iVar6 + iVar7) * -0x10;
	ChangeLightOff(*(int *)(puVar4 + 0x8c), iVar8 + iVar6 * -8, iVar9 + iVar7 * -8);
	return;
}

void FUN_1005d7d4(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int *piVar1;
	int *piVar2;
	ulonglong uVar3;
	int unaff_r27;
	undefined *puVar4;
	int unaff_r31;
	undefined4 in_stack_ffffffb8;

	param_1 = param_1 * 0xb4;
	if (*(uint *)(PTR_DAT_100f196c + param_1 + 0x2c) < 8) {
		// WARNING: Could not recover jumptable at 0x1005d80c. Too many branches
		// WARNING: Treating indirect jump as call
		(**(code **)(PTR_PTR_LAB_100f30cc + *(uint *)(PTR_DAT_100f196c + param_1 + 0x2c) * 4))();
		return;
	}
	piVar1 = (int *)(PTR_DAT_100f196c + param_1 + 4);
	puVar4 = PTR_DAT_100f196c + param_1;
	piVar2 = (int *)(PTR_DAT_100f196c + param_1 + 8);
	uVar3 = FUN_10075e58(*(int *)(puVar4 + 0x78), unaff_r27 + *piVar1, unaff_r31 + *piVar2, param_4,
	    param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	if ((int)uVar3 != 0) {
		*piVar1 = *piVar1 + unaff_r27;
		*piVar2 = *piVar2 + unaff_r31;
		*(int *)(puVar4 + 0xc) = *(int *)(puVar4 + 0xc) + (unaff_r27 - unaff_r31) * -0x20;
		*(int *)(puVar4 + 0x10) = *(int *)(puVar4 + 0x10) + (unaff_r27 + unaff_r31) * -0x10;
	}
	return;
}

ulonglong MonsterTrapHit(ulonglong param_1, longlong param_2, longlong param_3, int param_4,
    ulonglong param_5, uint param_6, undefined8 param_7, undefined4 param_8,
    undefined4 param_9)

{
	char cVar1;
	ushort uVar2;
	bool bVar3;
	undefined *puVar4;
	ulonglong uVar5;
	undefined8 uVar6;
	int iVar7;
	undefined uVar8;
	ulonglong uVar9;
	undefined7 uVar10;
	undefined uVar11;
	uint uVar12;
	longlong lVar13;
	int iVar14;
	undefined8 unaff_r22;
	undefined8 unaff_r23;
	undefined8 unaff_r24;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	int *piVar15;
	undefined8 unaff_r29;
	int *piVar16;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined in_stack_ffffffab;
	uint local_38[4];
	undefined4 local_28;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar4 = PTR_DAT_100f187c;
	uVar10 = (undefined7)(param_5 >> 8);
	uVar11 = (undefined)param_5;
	local_28 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	lVar13 = ZEXT48(PTR_DAT_100f187c) + param_1 * 0xe8;
	bVar3 = false;
	iVar14 = (int)lVar13;
	if (*(int *)(iVar14 + 0xd4) == 0) {
		piVar15 = (int *)(iVar14 + 0x98);
		if (*(int *)(iVar14 + 0x98) >> 6 == 0) {
			uVar5 = 0;
		} else {
			if ((**(char **)(iVar14 + 0xe0) == ' ') && (*(char *)(iVar14 + 8) == '\x02')) {
				uVar5 = 0;
			} else {
				iVar7 = (int)(param_1 * 0xe8);
				piVar16 = (int *)(PTR_DAT_100f187c + iVar7 + 4);
				if (*(int *)(PTR_DAT_100f187c + iVar7 + 4) == 0xe) {
					uVar5 = 0;
				} else {
					uVar5 = ZEXT48(PTR_DAT_100f1ee8);
					uVar2 = *(ushort *)(PTR_DAT_100f187c + iVar7 + 0xd0);
					uVar9 = (ulonglong)uVar2;
					cVar1 = PTR_DAT_100f1ee8[(int)param_5 * 0x1c + 0x11];
					if (((((uVar2 & 8) == 0) || (cVar1 != '\x03')) && (((uVar2 & 0x10) == 0 || (cVar1 != '\x01')))) && (((uVar2 & 0x20) == 0 || (cVar1 != '\x02')))) {
						if (((((uVar2 & 1) != 0) && (cVar1 == '\x03')) || (((uVar2 & 2) != 0 && (cVar1 == '\x01')))) || (((uVar2 & 4) != 0 && (cVar1 == '\x02')))) {
							bVar3 = true;
						}
						uVar12 = param_6;
						lVar13 = random(0x44, 100, (char)PTR_DAT_100f1ee8, (char)uVar2, uVar11, (char)param_6,
						    (char)lVar13, (char)param_8, in_stack_ffffff98, in_stack_ffffff9f,
						    in_stack_ffffffab);
						uVar8 = (undefined)uVar5;
						param_4 = (0x5a - (uint)(byte)puVar4[iVar7 + 0xce]) - param_4;
						if (param_4 < 5) {
							param_4 = 5;
						}
						if (0x5f < param_4) {
							param_4 = 0x5f;
						}
						uVar6 = CheckMonsterHit(param_1, local_38, uVar5, uVar9, CONCAT71(uVar10, uVar11), uVar12, iVar14,
						    param_8, in_stack_ffffff98);
						if ((int)uVar6 == 0) {
							if ((param_4 <= (int)lVar13) && (*piVar16 != 0xf)) {
								return 0;
							}
							lVar13 = random(0x44, (param_3 - param_2) + 1, uVar8, (char)uVar9, uVar11,
							    (char)uVar12, (char)iVar14, (char)param_8, in_stack_ffffff98,
							    in_stack_ffffff9f, in_stack_ffffffab);
							uVar5 = param_2 + lVar13;
							if ((param_6 & 0xff) == 0) {
								uVar5 = (ulonglong)(uint)((int)uVar5 << 6);
							}
							if (bVar3) {
								*piVar15 = *piVar15 - ((int)uVar5 >> 2);
							} else {
								*piVar15 = *piVar15 - (int)uVar5;
							}
							if (*piVar15 >> 6 == 0) {
								if (*piVar16 == 0xf) {
									M_StartKill(param_1, 0xffffffffffffffff, uVar5, uVar9, CONCAT71(uVar10, uVar11), uVar12, iVar14, param_8, in_stack_ffffff98);
									*piVar16 = 0xf;
								} else {
									M_StartKill(param_1, 0xffffffffffffffff, uVar5, uVar9, CONCAT71(uVar10, uVar11), uVar12, iVar14, param_8, in_stack_ffffff98);
								}
							} else {
								iVar7 = (int)param_1;
								if (bVar3) {
									FUN_1003bc74(iVar7, 1, (char)uVar5, (char)uVar9, uVar11, (char)uVar12, (char)iVar14,
									    (char)param_8, in_stack_ffffff98);
								} else {
									if (*piVar16 == 0xf) {
										if (3 < iVar7) {
											M_StartHit(param_1, -1, uVar5, uVar9, CONCAT71(uVar10, uVar11), uVar12, iVar14,
											    param_8, in_stack_ffffff98);
										}
										*piVar16 = 0xf;
									} else {
										if (3 < iVar7) {
											M_StartHit(param_1, -1, uVar5, uVar9, CONCAT71(uVar10, uVar11), uVar12, iVar14,
											    param_8, in_stack_ffffff98);
										}
									}
								}
							}
							uVar5 = 1;
						} else {
							uVar5 = (ulonglong)local_38[0];
						}
					} else {
						uVar5 = 0;
					}
				}
			}
		}
	} else {
		uVar5 = 0;
	}
	return uVar5;
}

ulonglong MonsterMHit(ulonglong param_1, ulonglong param_2, ulonglong param_3, ulonglong param_4,
    ulonglong param_5, uint param_6, uint param_7, undefined4 param_8,
    undefined4 param_9)

{
	char cVar1;
	byte bVar2;
	ushort uVar3;
	uint uVar4;
	undefined *puVar5;
	bool bVar6;
	int iVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined **ppuVar11;
	ulonglong uVar12;
	undefined8 uVar13;
	ulonglong uVar14;
	ulonglong uVar15;
	undefined uVar17;
	int iVar16;
	ulonglong uVar18;
	ulonglong uVar19;
	uint uVar20;
	uint uVar21;
	int *piVar22;
	int *piVar23;
	longlong lVar24;
	ulonglong uVar25;
	ulonglong uVar26;
	int iVar27;
	int iVar28;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;
	undefined in_stack_ffffff9b;
	uint local_48;

	puVar10 = PTR_DAT_100f1ee8;
	puVar9 = PTR_DAT_100f187c;
	puVar8 = PTR_DAT_100f1828;
	ppuVar11 = &toc;
	uVar25 = ZEXT48(PTR_DAT_100f187c);
	uVar26 = ZEXT48(PTR_DAT_100f1828);
	iVar7 = (int)(param_2 * 0xe8);
	puVar5 = PTR_DAT_100f187c + iVar7;
	bVar6 = false;
	if (*(int *)(puVar5 + 0xd4) == 0) {
		piVar22 = (int *)(puVar5 + 0x98);
		if (*(int *)(puVar5 + 0x98) >> 6 == 0) {
			uVar25 = 0;
		} else {
			if (((param_6 == 0x35) && (**(char **)(puVar5 + 0xe0) != 'n')) && (*(char *)(*(int *)(puVar5 + 0xe4) + 0x72) != '\0')) {
				return 0;
			}
			if ((**(char **)(PTR_DAT_100f187c + iVar7 + 0xe0) == ' ') && ((PTR_DAT_100f187c + iVar7)[8] == '\x02')) {
				uVar25 = 0;
			} else {
				piVar23 = (int *)(PTR_DAT_100f187c + iVar7 + 4);
				if (*(int *)(PTR_DAT_100f187c + iVar7 + 4) == 0xe) {
					uVar25 = 0;
				} else {
					uVar3 = *(ushort *)(PTR_DAT_100f187c + iVar7 + 0xd0);
					cVar1 = PTR_DAT_100f1ee8[param_6 * 0x1c + 0x11];
					if ((((((uVar3 & 8) == 0) || (cVar1 != '\x03')) && (((uVar3 & 0x10) == 0 || (cVar1 != '\x01')))) && (((uVar3 & 0x20) == 0 || (cVar1 != '\x02')))) && (((uVar3 & 0x80) == 0 || (cVar1 != '\x04')))) {
						if (((((uVar3 & 1) != 0) && (cVar1 == '\x03')) || (((uVar3 & 2) != 0 && (cVar1 == '\x01')))) || (((uVar3 & 4) != 0 && (cVar1 == '\x02')))) {
							bVar6 = true;
						}
						uVar15 = param_3;
						uVar18 = param_4;
						uVar19 = param_5;
						uVar20 = param_6;
						uVar21 = param_7;
						uVar12 = random(0x45, 100, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
						    (char)param_7, (char)param_8, in_stack_ffffff88, in_stack_ffffff8f,
						    in_stack_ffffff9b);
						iVar28 = (int)param_5;
						iVar27 = (int)param_1;
						if ((puVar10 + param_6 * 0x1c)[0x10] == '\0') {
							puVar5 = puVar8 + iVar27 * 0x55ec;
							uVar20 = *(uint *)(puVar5 + 0x5578);
							bVar2 = puVar5[0x15c];
							uVar21 = (uint)bVar2;
							uVar15 = (ulonglong) * (uint *)(puVar5 + 0x170);
							uVar18 = (longlong)(char)puVar5[0x1b4] + 0x32;
							uVar19 = (ulonglong)(byte)puVar9[iVar7 + 0xce] - (ulonglong)uVar20;
							iVar28 = (*(uint *)(puVar5 + 0x170) + *(int *)(puVar5 + 0x5554) + ((int)uVar18 - (int)uVar19)) - (iVar28 * iVar28 >> 1);
							if (bVar2 == 1) {
								iVar28 = iVar28 + 0x14;
							}
							if (bVar2 == 0) {
								iVar28 = iVar28 + 10;
							}
						} else {
							iVar28 = (*(int *)(puVar8 + iVar27 * 0x55ec + 0x168) + 0x32 + (int)(char)puVar9[iVar7 + 0xc4] * -2) - iVar28;
							if ((puVar8 + iVar27 * 0x55ec)[0x15c] == '\x02') {
								iVar28 = iVar28 + 0x14;
							}
						}
						uVar17 = (undefined)uVar15;
						if (iVar28 < 5) {
							iVar28 = 5;
						}
						if (0x5f < iVar28) {
							iVar28 = 0x5f;
						}
						if (*piVar23 == 0xf) {
							uVar12 = 0;
						}
						uVar14 = ZEXT48(register0x0000000c) - 0x48;
						uVar13 = CheckMonsterHit(param_2, (undefined4 *)uVar14, uVar15, uVar18, uVar19, uVar20, uVar21,
						    param_8, in_stack_ffffff88);
						if ((int)uVar13 == 0) {
							if ((int)uVar12 < iVar28) {
								if (param_6 == 0x3f) {
									uVar4 = *piVar22 / 3 + (*piVar22 >> 0x1f);
									param_3 = uVar12 & 0xffffffff00000000 | (ulonglong)(uint)((int)(uVar4 + (uVar4 >> 0x1f)) >> 6);
								} else {
									uVar14 = (param_4 - param_3) + 1;
									lVar24 = random(0x46, uVar14, uVar17, (char)uVar18, (char)uVar19, (char)uVar20,
									    (char)uVar21, (char)param_8, in_stack_ffffff88,
									    in_stack_ffffff8f, in_stack_ffffff9b);
									param_3 = param_3 + lVar24;
								}
								cVar1 = (puVar10 + param_6 * 0x1c)[0x10];
								if (cVar1 == '\0') {
									uVar18 = uVar26 + param_1 * 0x55ec;
									iVar28 = (int)uVar18;
									iVar16 = (int)param_3 * *(int *)(iVar28 + 0x5550);
									uVar14 = (ulonglong) * (uint *)(iVar28 + 0x555c);
									uVar4 = iVar16 / 100 + (iVar16 >> 0x1f);
									uVar19 = (ulonglong)(uVar4 >> 0x1f);
									lVar24 = param_3 + ((longlong)(int)((ulonglong)((longlong)iVar16 * 0x51eb851f) >> 0x20) & 0xffffffff00000000U | (ulonglong)uVar4) + uVar19 + uVar14;
									if (*(char *)(iVar28 + 0x15c) == '\x01') {
										param_3 = lVar24 + (ulonglong) * (uint *)(iVar28 + 0x184);
									} else {
										param_3 = lVar24 + (ulonglong)(uint)(*(int *)(iVar28 + 0x184) >> 1);
									}
								}
								if ((param_7 & 0xff) == 0) {
									param_3 = (ulonglong)(uint)((int)param_3 << 6);
								}
								if (bVar6) {
									param_3 = param_3 & 0xffffffff00000000 | (ulonglong)(uint)((int)param_3 >> 2);
								}
								if (iVar27 == *(int *)ppuVar11[-0x1deb]) {
									*piVar22 = *piVar22 - (int)param_3;
								}
								uVar4 = *(uint *)(puVar8 + iVar27 * 0x55ec + 0x5568);
								uVar26 = (ulonglong)uVar4;
								if ((uVar4 & 8) != 0) {
									uVar14 = uVar25 + param_2 * 0xe8;
									*(uint *)((int)uVar14 + 0xa0) = *(uint *)((int)uVar14 + 0xa0) | 8;
								}
								if (*piVar22 >> 6 == 0) {
									if (*piVar23 == 0xf) {
										M_StartKill(param_2, param_1, uVar26, uVar18, uVar19, uVar20, uVar21, param_8,
										    in_stack_ffffff88);
										*piVar23 = 0xf;
									} else {
										M_StartKill(param_2, param_1, uVar26, uVar18, uVar19, uVar20, uVar21, param_8,
										    in_stack_ffffff88);
									}
								} else {
									iVar28 = (int)param_2;
									if (bVar6) {
										FUN_1003bc74(iVar28, 1, (char)uVar4, (char)uVar18, (char)uVar19, (char)uVar20,
										    (char)uVar21, (char)param_8, in_stack_ffffff88);
									} else {
										if (*piVar23 == 0xf) {
											if (3 < iVar28) {
												M_StartHit(param_2, param_1, param_3, uVar18, uVar19, uVar20, uVar21, param_8,
												    in_stack_ffffff88);
											}
											*piVar23 = 0xf;
										} else {
											if ((cVar1 == '\0') && ((uVar4 & 0x800) != 0)) {
												M_GetKnockback(param_2, uVar14, uVar26, uVar18, uVar19, uVar20, uVar21, param_8,
												    in_stack_ffffff88);
											}
											if (3 < iVar28) {
												M_StartHit(param_2, param_1, param_3, uVar18, uVar19, uVar20, uVar21, param_8,
												    in_stack_ffffff88);
											}
										}
									}
								}
								if (puVar9[iVar7 + 0xa4] == '\0') {
									puVar9[iVar7 + 0xa4] = -1;
									*(undefined4 *)(puVar9 + iVar7 + 0xac) = *(undefined4 *)(puVar8 + iVar27 * 0x55ec + 0x38);
									*(undefined4 *)(puVar9 + iVar7 + 0xb0) = *(undefined4 *)(puVar8 + iVar27 * 0x55ec + 0x3c);
								}
								uVar25 = 1;
							} else {
								uVar25 = 0;
							}
						} else {
							uVar25 = (ulonglong)local_48;
						}
					} else {
						uVar25 = 0;
					}
				}
			}
		}
	} else {
		uVar25 = 0;
	}
	return uVar25;
}

undefined8
PlayerMHit(ulonglong param_1, int param_2, ulonglong param_3, ulonglong param_4, longlong param_5,
    undefined8 param_6, ulonglong param_7, undefined8 param_8, undefined4 param_9)

{
	char cVar1;
	byte bVar2;
	uint uVar3;
	uint *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	int iVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined **ppuVar10;
	longlong lVar11;
	longlong lVar12;
	undefined8 uVar13;
	int iVar14;
	ulonglong uVar15;
	ulonglong uVar16;
	undefined7 uVar17;
	undefined uVar18;
	undefined4 uVar19;
	ulonglong uVar20;
	undefined4 uVar21;
	undefined4 uVar22;
	int iVar23;
	int iVar24;
	int iVar25;
	int iVar26;
	longlong lVar27;
	ulonglong uVar28;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;
	undefined in_stack_ffffff9b;

	puVar9 = PTR_DAT_100f1ee8;
	puVar8 = PTR_DAT_100f187c;
	puVar6 = PTR_DAT_100f1828;
	puVar5 = PTR_DAT_100f1824;
	uVar17 = (undefined7)((ulonglong)param_5 >> 8);
	uVar18 = (undefined)param_5;
	ppuVar10 = &toc;
	uVar28 = ZEXT48(PTR_DAT_100f1828);
	lVar27 = param_1 * 0x55ec;
	iVar7 = (int)lVar27;
	puVar4 = (uint *)(PTR_DAT_100f1828 + iVar7 + 0x194);
	if ((int)*puVar4 >> 6 == 0) {
		return 0;
	}
	if ((PTR_DAT_100f1828 + iVar7)[0x139] != '\0') {
		return 0;
	}
	iVar14 = (int)param_6;
	if ((((PTR_DAT_100f1828 + iVar7)[0x11c] & 1) != 0) && (PTR_DAT_100f1ee8[iVar14 * 0x1c + 0x10] == '\0')) {
		return 0;
	}
	uVar15 = param_3;
	uVar16 = param_4;
	uVar20 = param_7;
	uVar13 = param_8;
	lVar11 = random(0x48, 100, (char)param_3, (char)param_4, uVar18, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff9b);
	iVar26 = (int)param_3;
	if (puVar9[iVar14 * 0x1c + 0x10] == '\0') {
		uVar15 = uVar28 + lVar27;
		iVar25 = (int)uVar15;
		uVar3 = *(int *)(iVar25 + 0x170) / 5 + (*(int *)(iVar25 + 0x170) >> 0x1f);
		iVar24 = *(int *)(iVar25 + 0x554c) + *(int *)(iVar25 + 0x5558) + uVar3 + (uVar3 >> 0x1f);
		if (param_2 == -1) {
			iVar26 = (100 - (iVar24 >> 1)) + iVar26 * -2;
		} else {
			uVar16 = (ulonglong)(uint)(iVar26 * 2);
			uVar15 = (ulonglong)(byte)(puVar8 + param_2 * 0xe8)[200] + 0x1e;
			iVar26 = ((int)uVar15 - iVar24) + ((int)(char)(puVar8 + param_2 * 0xe8)[0xc4] - (int)*(char *)(iVar25 + 0x1b4)) * 2 + iVar26 * -2;
		}
	} else {
		if (param_2 == -1) {
			iVar26 = 0x28;
		} else {
			iVar26 = (int)(char)puVar8[param_2 * 0xe8 + 0xc4] * 2 + 0x28 + (int)(char)puVar6[iVar7 + 0x1b4] * -2 + iVar26 * -2;
		}
	}
	if (iVar26 < 10) {
		iVar26 = 10;
	}
	cVar1 = *ppuVar10[-0x1df9];
	if ((cVar1 == '\x0e') && (iVar26 < 0x14)) {
		iVar26 = 0x14;
	}
	if ((cVar1 == '\x0f') && (iVar26 < 0x19)) {
		iVar26 = 0x19;
	}
	if ((cVar1 == '\x10') && (iVar26 < 0x1e)) {
		iVar26 = 0x1e;
	}
	if (((*(int *)(puVar6 + iVar7) == 0) || (*(int *)(puVar6 + iVar7) == 4)) && (puVar6[iVar7 + 0x138] != '\0')) {
		lVar12 = random(0x49, 100, (char)uVar15, (char)uVar16, uVar18, (char)param_6, (char)uVar20,
		    (char)uVar13, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff9b);
		iVar25 = (int)lVar12;
	} else {
		iVar25 = 100;
	}
	if (((uint)param_7 & 0xff) == 1) {
		iVar25 = 100;
	}
	if (iVar14 == 0x3b) {
		iVar25 = 100;
	}
	if (param_2 == -1) {
		iVar24 = *(int *)(puVar6 + iVar7 + 0x188) + *(int *)(puVar6 + iVar7 + 0x170);
	} else {
		uVar16 = uVar28 + lVar27;
		iVar24 = (int)uVar16;
		uVar15 = SEXT18(*(char *)(iVar24 + 0x1b4));
		iVar24 = *(int *)(iVar24 + 0x188) + *(int *)(iVar24 + 0x170) + ((int)(char)puVar8[param_2 * 0xe8 + 0xc4] - (int)*(char *)(iVar24 + 0x1b4)) * -2;
	}
	if (iVar24 < 0) {
		iVar24 = 0;
	}
	if (100 < iVar24) {
		iVar24 = 100;
	}
	bVar2 = puVar9[iVar14 * 0x1c + 0x11];
	if (bVar2 == 2) {
		iVar23 = (int)(char)puVar6[iVar7 + 0x1c7];
	} else {
		if (bVar2 < 2) {
			if (bVar2 != 0) {
				iVar23 = (int)(char)puVar6[iVar7 + 0x1c6];
				goto LAB_1005e300;
			}
		} else {
			if (bVar2 < 5) {
				iVar23 = (int)(char)puVar6[iVar7 + 0x1c5];
				goto LAB_1005e300;
			}
		}
		iVar23 = 0;
	}
LAB_1005e300:
	if ((int)lVar11 < iVar26) {
		if (iVar14 == 0x3f) {
			uVar3 = (int)*puVar4 / 3 + ((int)*puVar4 >> 0x1f);
			iVar14 = uVar3 + (uVar3 >> 0x1f);
		} else {
			iVar14 = (int)param_4;
			if ((param_7 & 0xff) == 0) {
				lVar27 = random(0x4b, (ulonglong)(uint)((((int)param_5 - iVar14) + 1) * 0x40),
				    (char)uVar15, (char)uVar16, uVar18, (char)param_6, (char)uVar20,
				    (char)uVar13, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff9b);
				iVar14 = iVar14 * 0x40 + (int)lVar27;
				if ((param_2 == -1) && ((*(uint *)(puVar6 + iVar7 + 0x5568) & 0x10000000) != 0)) {
					iVar14 = iVar14 >> 1;
				}
				iVar14 = iVar14 + *(int *)(puVar6 + iVar7 + 0x556c) * 0x40;
				if (iVar14 < 0x40) {
					iVar14 = 0x40;
				}
			} else {
				lVar27 = random(0x4b, (param_5 - param_4) + 1, (char)uVar15, (char)uVar16, uVar18,
				    (char)param_6, (char)uVar20, (char)uVar13, in_stack_ffffff88,
				    in_stack_ffffff8f, in_stack_ffffff9b);
				iVar14 = iVar14 + (int)lVar27;
				if ((param_2 == -1) && ((*(uint *)(puVar6 + iVar7 + 0x5568) & 0x10000000) != 0)) {
					iVar14 = iVar14 >> 1;
				}
				iVar14 = iVar14 + *(int *)(puVar6 + iVar7 + 0x556c);
				if (iVar14 < 0x40) {
					iVar14 = 0x40;
				}
			}
		}
		uVar22 = (undefined4)uVar13;
		uVar21 = (undefined4)uVar20;
		uVar19 = (undefined4)param_6;
		if (iVar23 < 1) {
			if (iVar25 < iVar24) {
				if (param_2 == -1) {
					uVar28 = (ulonglong) * (uint *)(puVar6 + iVar7 + 0x70);
				} else {
					uVar15 = (ulonglong) * (uint *)(puVar8 + param_2 * 0xe8 + 0x20);
					uVar3 = *(uint *)(puVar8 + param_2 * 0xe8 + 0x24);
					uVar16 = (ulonglong)uVar3;
					uVar28 = GetDirection((ulonglong) * (uint *)(puVar6 + iVar7 + 0x38),
					    *(int *)(puVar6 + iVar7 + 0x3c), uVar15, uVar3);
				}
				StartPlrBlock(param_1, uVar28, uVar15, uVar16, CONCAT71(uVar17, uVar18), param_6, uVar20, uVar13,
				    in_stack_ffffff88);
				uVar13 = 1;
			} else {
				if ((int)param_1 == *(int *)puVar5) {
					*puVar4 = *puVar4 - iVar14;
					*(int *)(puVar6 + iVar7 + 0x18c) = *(int *)(puVar6 + iVar7 + 0x18c) - iVar14;
				}
				puVar6 = puVar6 + iVar7;
				uVar3 = *(uint *)(puVar6 + 0x198);
				if ((int)uVar3 < (int)*puVar4) {
					*puVar4 = uVar3;
					*(undefined4 *)(puVar6 + 0x18c) = *(undefined4 *)(puVar6 + 400);
				}
				if ((int)*puVar4 >> 6 == 0) {
					SyncPlrKill(param_1, (uint)param_8, (ulonglong)uVar3, uVar16, CONCAT71(uVar17, uVar18), param_6, uVar20, uVar13, in_stack_ffffff88);
				} else {
					StartPlrHit(param_1, (char)iVar14, 0, uVar16, CONCAT71(uVar17, uVar18), param_6, uVar20, uVar13,
					    in_stack_ffffff88);
				}
				uVar13 = 1;
			}
		} else {
			iVar26 = (int)((longlong)iVar14 * (longlong)iVar23);
			uVar3 = iVar26 / 100 + (iVar26 >> 0x1f);
			iVar26 = iVar14 - (uVar3 + (uVar3 >> 0x1f));
			if ((int)param_1 == *(int *)puVar5) {
				*puVar4 = *puVar4 - iVar26;
				*(int *)(puVar6 + iVar7 + 0x18c) = *(int *)(puVar6 + iVar7 + 0x18c) - iVar26;
			}
			puVar5 = puVar6 + iVar7;
			if ((int)*(uint *)(puVar5 + 0x198) < (int)*puVar4) {
				*puVar4 = *(uint *)(puVar5 + 0x198);
				*(undefined4 *)(puVar5 + 0x18c) = *(undefined4 *)(puVar5 + 400);
			}
			if ((int)*puVar4 >> 6 == 0) {
				SyncPlrKill(param_1, (uint)param_8, (longlong)iVar14 * (longlong)iVar23, uVar16,
				    CONCAT71(uVar17, uVar18), param_6, uVar20, uVar13, in_stack_ffffff88);
			} else {
				puVar6 = puVar6 + iVar7;
				cVar1 = puVar6[0x15c];
				if (cVar1 == '\0') {
					PlaySfxLoc(0x314, (ulonglong) * (uint *)(puVar6 + 0x38), (ulonglong) * (uint *)(puVar6 + 0x3c), uVar16, CONCAT71(uVar17, uVar18), uVar19, uVar21, uVar22, in_stack_ffffff88);
				} else {
					if (cVar1 == '\x01') {
						PlaySfxLoc(0x2a7, (ulonglong) * (uint *)(puVar6 + 0x38),
						    (ulonglong) * (uint *)(puVar6 + 0x3c), uVar16, CONCAT71(uVar17, uVar18), uVar19,
						    uVar21, uVar22, in_stack_ffffff88);
					} else {
						if (cVar1 == '\x02') {
							PlaySfxLoc(0x240, (ulonglong) * (uint *)(puVar6 + 0x38),
							    (ulonglong) * (uint *)(puVar6 + 0x3c), uVar16, CONCAT71(uVar17, uVar18), uVar19, uVar21, uVar22, in_stack_ffffff88);
						}
					}
				}
				*(undefined4 *)ppuVar10[-0x1dbc] = 1;
			}
			uVar13 = 1;
		}
	} else {
		uVar13 = 0;
	}
	return uVar13;
}

undefined8
Plr2PlrMHit(int param_1, ulonglong param_2, longlong param_3, longlong param_4, longlong param_5,
    ulonglong param_6, ulonglong param_7, longlong param_8, undefined4 param_9)

{
	byte bVar1;
	char cVar2;
	char cVar3;
	uint uVar4;
	uint uVar5;
	uint uVar6;
	undefined *puVar7;
	int iVar8;
	undefined *puVar9;
	longlong lVar10;
	undefined8 uVar11;
	int iVar12;
	int iVar13;
	undefined uVar17;
	undefined *puVar15;
	undefined *puVar16;
	ulonglong uVar14;
	undefined uVar20;
	longlong lVar18;
	ulonglong uVar19;
	undefined4 uVar21;
	ulonglong uVar22;
	undefined4 uVar23;
	undefined4 uVar24;
	int iVar25;
	int iVar26;
	int iVar27;
	ulonglong uVar28;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined in_stack_ffffffab;

	puVar7 = PTR_DAT_100f1ee8;
	puVar16 = PTR_DAT_100f1828;
	puVar9 = PTR_DAT_100f1824;
	uVar20 = (undefined)param_4;
	uVar28 = ZEXT48(PTR_DAT_100f1828);
	uVar5 = (uint)param_2;
	iVar8 = uVar5 * 0x55ec;
	if ((PTR_DAT_100f1828 + iVar8)[0x139] != '\0') {
		return 0;
	}
	iVar12 = (int)param_6;
	if (iVar12 == 0x35) {
		return 0;
	}
	if ((((PTR_DAT_100f1828 + iVar8)[0x11c] & 1) != 0) && (PTR_DAT_100f1ee8[iVar12 * 0x1c + 0x10] == '\0')) {
		return 0;
	}
	bVar1 = PTR_DAT_100f1ee8[iVar12 * 0x1c + 0x11];
	if (bVar1 == 2) {
		iVar13 = (int)(char)PTR_DAT_100f1828[iVar8 + 0x1c7];
	} else {
		if (bVar1 < 2) {
			if (bVar1 != 0) {
				iVar13 = (int)(char)PTR_DAT_100f1828[iVar8 + 0x1c6];
				goto LAB_1005e6a0;
			}
		} else {
			if (bVar1 < 5) {
				iVar13 = (int)(char)PTR_DAT_100f1828[iVar8 + 0x1c5];
				goto LAB_1005e6a0;
			}
		}
		iVar13 = 0;
	}
LAB_1005e6a0:
	uVar22 = param_7;
	lVar10 = random(0x45, 100, (char)param_3, uVar20, (char)param_5, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
	puVar7 = puVar7 + iVar12 * 0x1c;
	if (puVar7[0x10] == '\0') {
		iVar26 = *(int *)(puVar16 + 0x170 + iVar8);
		puVar15 = puVar16 + param_1 * 0x55ec;
		uVar4 = *(uint *)(puVar16 + 0x170 + param_1 * 0x55ec);
		uVar20 = (undefined)uVar4;
		uVar6 = iVar26 / 5 + (iVar26 >> 0x1f);
		param_6 = (ulonglong)(uVar6 >> 0x1f);
		bVar1 = puVar15[0x15c];
		uVar22 = (ulonglong)bVar1;
		param_8 = (ulonglong) * (uint *)(puVar16 + iVar8 + 0x554c) + (ulonglong) * (uint *)(puVar16 + iVar8 + 0x5558) + (uVar28 + 0x170 & 0xffffffff00000000 | (ulonglong)uVar6) + param_6;
		uVar17 = (undefined) * (uint *)(puVar15 + 0x5554);
		param_5 = ((ulonglong)uVar4 + (ulonglong) * (uint *)(puVar15 + 0x5554) + (((longlong)(char)puVar15[0x1b4] + 0x32) - param_8)) - ((longlong)(char)bVar1 & 0xffffffff00000000U | (ulonglong)(uint)((int)param_5 * (int)param_5 >> 1));
		if (bVar1 == 1) {
			param_5 = param_5 + 0x14;
		}
		if (bVar1 == 0) {
			param_5 = param_5 + 10;
		}
	} else {
		uVar17 = (undefined)((int)(char)puVar16[iVar8 + 0x1b4] << 1);
		param_5 = (((ulonglong) * (uint *)(puVar16 + param_1 * 0x55ec + 0x168) + 0x32) - (ulonglong)(uint)((int)(char)puVar16[iVar8 + 0x1b4] << 1)) - param_5;
		if ((puVar16 + param_1 * 0x55ec)[0x15c] == '\x02') {
			param_5 = param_5 + 0x14;
		}
	}
	if ((int)param_5 < 5) {
		param_5 = 5;
	}
	if (0x5f < (int)param_5) {
		param_5 = 0x5f;
	}
	if ((int)lVar10 < (int)param_5) {
		if (((*(int *)(puVar16 + iVar8) == 0) || (*(int *)(puVar16 + iVar8) == 4)) && (puVar16[iVar8 + 0x138] != '\0')) {
			lVar10 = random(0x49, 100, uVar17, uVar20, (char)param_5, (char)param_6, (char)uVar22,
			    (char)param_8, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
			iVar26 = (int)lVar10;
		} else {
			iVar26 = 100;
		}
		if (((uint)param_7 & 0xff) == 1) {
			iVar26 = 100;
		}
		iVar27 = param_1 * 0x55ec;
		cVar2 = (puVar16 + 0x1b4)[iVar8];
		cVar3 = (puVar16 + 0x1b4)[iVar27];
		lVar18 = (longlong)cVar2;
		lVar10 = ((ulonglong) * (uint *)(puVar16 + iVar8 + 0x188) + (ulonglong) * (uint *)(puVar16 + iVar8 + 0x170)) - (ulonglong)(uint)(((int)cVar3 - (int)cVar2) * 2);
		iVar25 = (int)lVar10;
		if (lVar10 < 0) {
			iVar25 = 0;
		}
		if (100 < iVar25) {
			iVar25 = 100;
		}
		if (iVar12 == 0x3f) {
			uVar4 = *(int *)(puVar16 + iVar8 + 0x194) / 3 + (*(int *)(puVar16 + iVar8 + 0x194) >> 0x1f);
			uVar28 = (longlong)(int)uVar4 + (ulonglong)(uVar4 >> 0x1f);
		} else {
			lVar10 = random(0x46, (param_4 - param_3) + 1, cVar3, cVar2, (char)param_5, (char)param_6,
			    (char)uVar22, (char)param_8, in_stack_ffffff98, in_stack_ffffff9f,
			    in_stack_ffffffab);
			uVar28 = param_3 + lVar10;
			if (puVar7[0x10] == '\0') {
				puVar15 = puVar16 + iVar27;
				lVar18 = 0x51eb851f;
				iVar12 = (int)uVar28 * *(int *)(puVar15 + 0x5550);
				uVar4 = iVar12 / 100 + (iVar12 >> 0x1f);
				uVar28 = (ulonglong) * (uint *)(puVar15 + 0x555c) + (ulonglong) * (uint *)(puVar15 + 0x184) + uVar28 + ((longlong)(int)((ulonglong)((longlong)iVar12 * 0x51eb851f) >> 0x20) & 0xffffffff00000000U | (ulonglong)uVar4) + (ulonglong)(uVar4 >> 0x1f);
			}
			if ((param_7 & 0xff) == 0) {
				uVar28 = (ulonglong)(uint)((int)uVar28 << 6);
			}
		}
		uVar24 = (undefined4)param_8;
		uVar23 = (undefined4)uVar22;
		uVar21 = (undefined4)param_6;
		if (puVar7[0x10] != '\0') {
			uVar28 = uVar28 & 0xffffffff00000000 | (ulonglong)(uint)((int)uVar28 >> 1);
		}
		if (iVar13 < 1) {
			if (iVar26 < iVar25) {
				uVar14 = (ulonglong) * (uint *)(puVar16 + 0x38 + iVar27);
				uVar5 = *(uint *)(puVar16 + 0x3c + iVar27);
				uVar19 = (ulonglong)uVar5;
				uVar28 = GetDirection((ulonglong) * (uint *)(puVar16 + 0x38 + iVar8),
				    *(int *)(puVar16 + 0x3c + iVar8), uVar14, uVar5);
				StartPlrBlock(param_2, uVar28, uVar14, uVar19, param_5, param_6, uVar22, param_8, in_stack_ffffff98);
				uVar11 = 1;
			} else {
				if (param_1 == *(int *)puVar9) {
					NetSendCmdDamage(1, (ulonglong)(uVar5 & 0xff), uVar28, lVar18, param_5, uVar21, uVar23, uVar24,
					    in_stack_ffffff98);
				}
				StartPlrHit(param_2, (char)uVar28, 0, lVar18, param_5, param_6, uVar22, param_8, in_stack_ffffff98);
				uVar11 = 1;
			}
		} else {
			iVar13 = (int)uVar28 * iVar13;
			uVar4 = iVar13 / 100 + (iVar13 >> 0x1f);
			if (param_1 == *(int *)puVar9) {
				NetSendCmdDamage(1, (ulonglong)(uVar5 & 0xff),
				    uVar28 - (((longlong)(int)((ulonglong)((longlong)iVar13 * 0x51eb851f) >> 0x20) & 0xffffffff00000000U | (ulonglong)uVar4) + (ulonglong)(uVar4 >> 0x1f)), lVar18, param_5, uVar21, uVar23, uVar24,
				    in_stack_ffffff98);
			}
			puVar16 = puVar16 + iVar27;
			cVar2 = puVar16[0x15c];
			if (cVar2 == '\0') {
				PlaySfxLoc(0x314, (ulonglong) * (uint *)(puVar16 + 0x38), (ulonglong) * (uint *)(puVar16 + 0x3c), lVar18, param_5, uVar21, uVar23, uVar24, in_stack_ffffff98);
			} else {
				if (cVar2 == '\x01') {
					PlaySfxLoc(0x2a7, (ulonglong) * (uint *)(puVar16 + 0x38),
					    (ulonglong) * (uint *)(puVar16 + 0x3c), lVar18, param_5, uVar21, uVar23, uVar24,
					    in_stack_ffffff98);
				} else {
					if (cVar2 == '\x02') {
						PlaySfxLoc(0x240, (ulonglong) * (uint *)(puVar16 + 0x38),
						    (ulonglong) * (uint *)(puVar16 + 0x3c), lVar18, param_5, uVar21, uVar23, uVar24,
						    in_stack_ffffff98);
					}
				}
			}
			uVar11 = 1;
		}
	} else {
		uVar11 = 0;
	}
	return uVar11;
}

void CheckMissileCol(int param_1, ulonglong param_2, ulonglong param_3, ulonglong param_4,
    ulonglong param_5, uint param_6, ulonglong param_7, undefined param_8,
    undefined4 param_9)

{
	bool bVar1;
	byte bVar2;
	char cVar3;
	short sVar4;
	uint uVar5;
	int iVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined **ppuVar9;
	ulonglong uVar10;
	undefined8 uVar11;
	int iVar12;
	undefined *puVar13;
	uint uVar15;
	ulonglong uVar14;
	uint uVar16;
	uint uVar17;
	uint uVar19;
	longlong lVar18;
	uint uVar20;
	undefined *puVar21;
	undefined *puVar22;
	undefined4 in_stack_ffffff98;

	puVar8 = PTR_DAT_100f196c;
	puVar7 = PTR_DAT_100f1950;
	puVar13 = PTR_DAT_100f1948;
	uVar15 = (uint)param_4;
	uVar17 = (uint)param_7;
	ppuVar9 = &toc;
	param_1 = param_1 * 0xb4;
	puVar22 = PTR_DAT_100f196c + param_1;
	bVar2 = puVar22[0x38];
	uVar19 = (uint)bVar2;
	uVar20 = (uint)bVar2;
	iVar6 = (int)param_5;
	if (bVar2 != 4) {
		puVar21 = PTR_DAT_100f196c + param_1;
		uVar5 = *(uint *)(puVar21 + 0x78);
		if (uVar5 != 0xffffffff) {
			puVar22 = PTR_DAT_100f196c + param_1;
			if (*(int *)(puVar22 + 0x7c) == 0) {
				uVar14 = (ulonglong) * (uint *)PTR_DAT_100f1954;
				sVar4 = *(short *)(*(uint *)PTR_DAT_100f1954 + iVar6 * 0xe0 + param_6 * 2);
				lVar18 = (longlong)sVar4;
				if (sVar4 < 1) {
					uVar16 = param_6;
					if ((sVar4 < 0) && (uVar16 = param_6, *(int *)(PTR_DAT_100f187c + (int)(lVar18 + 1) * -0xe8 + 4) == 0xf)) {
						param_5 = (ulonglong) * (uint *)(puVar22 + 0x88);
						uVar16 = *(uint *)(PTR_DAT_100f196c + param_1);
						uVar14 = param_3;
						uVar17 = uVar15;
						ppuVar9 = &toc;
						uVar10 = MonsterMHit((ulonglong)uVar5, -(lVar18 + 1), param_2, param_3, param_5, uVar16,
						    uVar15, (int)sVar4, in_stack_ffffff98);
						if ((int)uVar10 != 0) {
							if ((param_7 & 0xff) == 0) {
								*(undefined4 *)(puVar22 + 0x74) = 0;
							}
							*(undefined4 *)(puVar8 + param_1 + 0x84) = 1;
						}
					}
				} else {
					param_5 = (ulonglong) * (uint *)(puVar22 + 0x88);
					uVar16 = *(uint *)(PTR_DAT_100f196c + param_1);
					uVar14 = param_3;
					uVar17 = uVar15;
					ppuVar9 = &toc;
					uVar10 = MonsterMHit((ulonglong)uVar5, lVar18 - 1, param_2, param_3, param_5, uVar16, uVar15,
					    (int)sVar4, in_stack_ffffff98);
					if ((int)uVar10 != 0) {
						if ((param_7 & 0xff) == 0) {
							*(undefined4 *)(puVar22 + 0x74) = 0;
						}
						*(undefined4 *)(puVar8 + param_1 + 0x84) = 1;
					}
				}
				uVar20 = (uint)lVar18;
				cVar3 = *(char *)(*(int *)puVar7 + iVar6 * 0x70 + param_6);
				if ('\0' < cVar3) {
					iVar12 = *(int *)(puVar21 + 0x78);
					uVar10 = (longlong)cVar3 - 1;
					if ((int)uVar10 != iVar12) {
						uVar16 = *(uint *)(puVar8 + param_1);
						param_5 = (ulonglong) * (uint *)(puVar8 + param_1 + 0x88);
						uVar17 = uVar15;
						uVar11 = Plr2PlrMHit(iVar12, uVar10, param_2, param_3, param_5, (ulonglong)uVar16, param_4,
						    lVar18, in_stack_ffffff98);
						uVar14 = param_3;
						if ((int)uVar11 != 0) {
							if ((param_7 & 0xff) == 0) {
								*(undefined4 *)(puVar8 + param_1 + 0x74) = 0;
							}
							*(undefined4 *)(puVar8 + param_1 + 0x84) = 1;
							uVar14 = param_3;
						}
					}
				}
			} else {
				uVar14 = param_4;
				uVar16 = param_6;
				if ((*(uint *)(PTR_DAT_100f187c + uVar5 * 0xe8 + 0xa0) & 0x10) != 0) {
					sVar4 = *(short *)(*(int *)PTR_DAT_100f1954 + iVar6 * 0xe0 + param_6 * 2);
					uVar17 = SEXT24(sVar4);
					uVar14 = param_4;
					uVar16 = param_6;
					if ((0 < sVar4) && (uVar14 = param_4, uVar16 = param_6, (*(uint *)(PTR_DAT_100f187c + (int)sVar4 * 0xe8 + -0x48) & 0x20) != 0)) {
						uVar14 = (ulonglong) * (uint *)(puVar22 + 0x88);
						param_5 = (ulonglong) * (uint *)(PTR_DAT_100f196c + param_1);
						uVar16 = uVar15;
						uVar17 = (int)sVar4;
						uVar20 = uVar19;
						ppuVar9 = &toc;
						uVar10 = MonsterTrapHit((longlong)sVar4 - 1, param_2, param_3, *(uint *)(puVar22 + 0x88),
						    param_5, uVar15, (longlong)sVar4, (uint)bVar2, in_stack_ffffff98);
						if ((int)uVar10 != 0) {
							if ((param_7 & 0xff) == 0) {
								*(undefined4 *)(puVar22 + 0x74) = 0;
							}
							*(undefined4 *)(puVar8 + param_1 + 0x84) = 1;
						}
					}
				}
				cVar3 = *(char *)(*(int *)puVar7 + iVar6 * 0x70 + param_6);
				if ('\0' < cVar3) {
					uVar16 = *(uint *)(puVar8 + param_1);
					uVar20 = 0;
					uVar17 = uVar15;
					uVar11 = PlayerMHit((longlong)cVar3 - 1, *(int *)(puVar21 + 0x78),
					    (ulonglong) * (uint *)(puVar8 + param_1 + 0x88), param_2, param_3,
					    (ulonglong)uVar16, param_4, 0, in_stack_ffffff98);
					uVar14 = param_2;
					param_5 = param_3;
					if ((int)uVar11 != 0) {
						if ((param_7 & 0xff) == 0) {
							*(undefined4 *)(puVar8 + param_1 + 0x74) = 0;
						}
						*(undefined4 *)(puVar8 + param_1 + 0x84) = 1;
						uVar14 = param_2;
						param_5 = param_3;
					}
				}
			}
			goto LAB_1005edd0;
		}
	}
	sVar4 = *(short *)(*(int *)PTR_DAT_100f1954 + iVar6 * 0xe0 + param_6 * 2);
	uVar14 = param_4;
	uVar16 = param_6;
	if (0 < sVar4) {
		if (bVar2 == 4) {
			puVar21 = PTR_DAT_100f196c + param_1;
			uVar16 = *(uint *)(PTR_DAT_100f196c + param_1);
			param_5 = (ulonglong) * (uint *)(puVar21 + 0x88);
			uVar14 = param_3;
			uVar17 = uVar15;
			uVar20 = uVar19;
			ppuVar9 = &toc;
			uVar10 = MonsterMHit((ulonglong) * (uint *)(puVar21 + 0x78), (longlong)sVar4 - 1, param_2, param_3, param_5, uVar16, uVar15, 4, in_stack_ffffff98);
			if ((int)uVar10 != 0) {
				if ((param_7 & 0xff) == 0) {
					*(undefined4 *)(puVar21 + 0x74) = 0;
				}
				*(undefined4 *)(puVar8 + param_1 + 0x84) = 1;
			}
		} else {
			puVar21 = PTR_DAT_100f196c + param_1;
			param_5 = (ulonglong) * (uint *)(PTR_DAT_100f196c + param_1);
			uVar5 = *(uint *)(puVar21 + 0x88);
			uVar14 = (ulonglong)uVar5;
			uVar16 = uVar15;
			uVar20 = uVar19;
			ppuVar9 = &toc;
			uVar10 = MonsterTrapHit((longlong)sVar4 - 1, param_2, param_3, uVar5, param_5, uVar15, param_7,
			    (uint)bVar2, in_stack_ffffff98);
			if ((int)uVar10 != 0) {
				if ((param_7 & 0xff) == 0) {
					*(undefined4 *)(puVar21 + 0x74) = 0;
				}
				*(undefined4 *)(puVar8 + param_1 + 0x84) = 1;
			}
		}
	}
	cVar3 = *(char *)(*(int *)puVar7 + iVar6 * 0x70 + param_6);
	if ('\0' < cVar3) {
		bVar1 = puVar22[0x38] == '\x04';
		uVar20 = (uint)bVar1;
		uVar16 = *(uint *)(puVar8 + param_1);
		uVar17 = uVar15;
		uVar11 = PlayerMHit((longlong)cVar3 - 1, -1, (ulonglong) * (uint *)(puVar8 + param_1 + 0x88),
		    param_2, param_3, (ulonglong)uVar16, param_4, (ulonglong)bVar1,
		    in_stack_ffffff98);
		uVar14 = param_2;
		param_5 = param_3;
		if ((int)uVar11 != 0) {
			if ((param_7 & 0xff) == 0) {
				*(undefined4 *)(puVar8 + param_1 + 0x74) = 0;
			}
			*(undefined4 *)(puVar8 + param_1 + 0x84) = 1;
			uVar14 = param_2;
			param_5 = param_3;
		}
	}
LAB_1005edd0:
	cVar3 = *(char *)(*(int *)ppuVar9[-0x1da1] + iVar6 * 0x70 + param_6);
	if (cVar3 != '\0') {
		if (cVar3 < '\x01') {
			iVar12 = -((int)cVar3 + 1);
		} else {
			iVar12 = (int)cVar3 + -1;
		}
		if (*(int *)(puVar13 + iVar12 * 0x78 + 0x3c) == 0) {
			if ((puVar13 + iVar12 * 0x78)[0x34] == '\x01') {
				BreakObject(0xffffffffffffffff);
			}
			if ((param_7 & 0xff) == 0) {
				*(undefined4 *)(puVar8 + param_1 + 0x74) = 0;
			}
			*(undefined4 *)(puVar8 + param_1 + 0x84) = 0;
		}
	}
	if (ppuVar9[-0x1c8d][(int)*(short *)(*(int *)ppuVar9[-0x1d5f] + iVar6 * 0xe0 + param_6 * 2)] != '\0') {
		if ((param_7 & 0xff) == 0) {
			*(undefined4 *)(puVar8 + param_1 + 0x74) = 0;
		}
		*(undefined4 *)(puVar8 + param_1 + 0x84) = 0;
	}
	puVar13 = puVar8 + param_1;
	if ((*(int *)(puVar13 + 0x74) == 0) && (*(uint *)(ppuVar9[-0x1c3a] + *(int *)(puVar8 + param_1) * 0x1c + 0x18) != 0xffffffff)) {
		PlaySfxLoc((ulonglong) * (uint *)(ppuVar9[-0x1c3a] + *(int *)(puVar8 + param_1) * 0x1c + 0x18),
		    (ulonglong) * (uint *)(puVar13 + 4), (ulonglong) * (uint *)(puVar13 + 8), uVar14, param_5,
		    uVar16, uVar17, uVar20, in_stack_ffffff98);
	}
	return;
}

void FUN_1005eee8(int param_1, undefined8 param_2)

{
	int iVar1;
	undefined4 uVar2;
	undefined *puVar3;
	undefined *puVar4;

	puVar3 = PTR_DAT_100f19b4;
	puVar4 = PTR_DAT_100f196c + param_1 * 0xb4;
	iVar1 = *(int *)(puVar4 + 0x2c);
	puVar4[0x38] = (char)param_2;
	puVar3 = puVar3 + (int)param_2 * 300;
	*(undefined4 *)(puVar4 + 0x3c) = *(undefined4 *)(puVar3 + 8);
	uVar2 = *(undefined4 *)(puVar3 + iVar1 * 8 + 0x10);
	*(undefined4 *)(puVar4 + 0x40) = *(undefined4 *)(puVar3 + iVar1 * 8 + 0xc);
	*(undefined4 *)(puVar4 + 0x44) = uVar2;
	*(uint *)(puVar4 + 0x48) = (uint)(byte)(puVar3 + iVar1)[0x8c];
	*(uint *)(puVar4 + 0x4c) = (uint)(byte)(puVar3 + iVar1)[0x9c];
	*(undefined4 *)(puVar4 + 0x50) = *(undefined4 *)(puVar3 + iVar1 * 4 + 0xac);
	*(undefined4 *)(puVar4 + 0x54) = *(undefined4 *)(puVar3 + iVar1 * 4 + 0xec);
	*(undefined4 *)(puVar4 + 0x58) = 0;
	*(undefined4 *)(puVar4 + 0x60) = 1;
	return;
}

void SetMissDir(int param_1, undefined4 param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;

	puVar1 = PTR_DAT_100f196c + param_1 * 0xb4;
	*(undefined4 *)(puVar1 + 0x2c) = param_2;
	FUN_1005eee8(param_1, (ulonglong)(byte)puVar1[0x38]);
	return;
}

void LoadMissileGFX(uint param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	undefined *puVar5;
	longlong lVar1;
	ulonglong uVar2;
	ulonglong uVar3;
	longlong lVar4;
	longlong lVar6;
	ulonglong uVar7;
	undefined4 uVar8;
	longlong lVar9;
	longlong lVar10;
	undefined8 unaff_r27;
	longlong lVar11;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined *puVar12;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_fffffeb8;
	undefined in_stack_fffffebf;
	undefined4 in_stack_fffffecc;
	undefined4 in_stack_fffffed0;
	undefined4 in_stack_fffffed4;
	undefined4 in_stack_fffffed8;
	undefined4 in_stack_fffffedc;
	undefined4 in_stack_fffffee0;
	undefined4 in_stack_fffffee4;
	undefined auStack280[260];
	undefined4 local_14;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	uVar8 = _DAT_100f30c4;
	lVar10 = (longlong)param_8;
	lVar9 = (longlong)param_7;
	lVar4 = (longlong)param_6;
	uVar2 = ZEXT48(register0x0000000c);
	local_14 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	puVar5 = PTR_DAT_100f19b4 + (param_1 & 0xff) * 300;
	if ((*(uint *)(puVar5 + 8) & 4) == 0) {
		if (puVar5[1] == '\x01') {
			uVar7 = (ulonglong) * (uint *)(puVar5 + 4);
			sprintf((int)auStack280, PTR_s_Missiles__s_CL2_100f30c8, *(uint *)(puVar5 + 4), (int)param_4, (int)param_5, param_6, param_7, param_8, in_stack_fffffeb8, in_stack_fffffebf,
			    in_stack_fffffecc, in_stack_fffffed0, in_stack_fffffed4, in_stack_fffffed8,
			    in_stack_fffffedc, in_stack_fffffee0, in_stack_fffffee4);
			if (*(int *)(puVar5 + 0xc) == 0) {
				lVar4 = LoadFileInMem(uVar2 - 0x118, (undefined4 *)0x0, uVar7, param_4, param_5, param_6, param_7,
				    param_8, in_stack_fffffeb8);
				*(int *)(puVar5 + 0xc) = (int)lVar4;
				*(undefined4 *)(puVar5 + 0x10) = 0;
			}
		} else {
			lVar6 = 0;
			puVar12 = puVar5;
			while ((int)lVar6 < (int)(uint)(byte)puVar5[1]) {
				uVar7 = (ulonglong) * (uint *)(puVar5 + 4);
				lVar1 = lVar6 + 1;
				sprintf((int)auStack280, uVar8, *(uint *)(puVar5 + 4), (int)lVar1, (int)param_5, (int)lVar4,
				    (int)lVar9, (int)lVar10, in_stack_fffffeb8, in_stack_fffffebf, in_stack_fffffecc,
				    in_stack_fffffed0, in_stack_fffffed4, in_stack_fffffed8, in_stack_fffffedc,
				    in_stack_fffffee0, in_stack_fffffee4);
				if (*(int *)(puVar12 + 0xc) == 0) {
					lVar1 = LoadFileInMem(uVar2 - 0x118, (undefined4 *)0x0, uVar7, lVar1, param_5, (int)lVar4,
					    (int)lVar9, (int)lVar10, in_stack_fffffeb8);
					*(int *)(puVar12 + 0xc) = (int)lVar1;
					*(undefined4 *)(puVar12 + 0x10) = 0;
				}
				puVar12 = puVar12 + 8;
				lVar6 = lVar6 + 1;
			}
		}
	} else {
		uVar7 = (ulonglong) * (uint *)(puVar5 + 4);
		sprintf((int)auStack280, PTR_s_Missiles__s_CL2_100f30c8, *(uint *)(puVar5 + 4), (int)param_4,
		    (int)param_5, param_6, param_7, param_8, in_stack_fffffeb8, in_stack_fffffebf,
		    in_stack_fffffecc, in_stack_fffffed0, in_stack_fffffed4, in_stack_fffffed8,
		    in_stack_fffffedc, in_stack_fffffee0, in_stack_fffffee4);
		lVar6 = 0;
		lVar1 = LoadFileInMem(uVar2 - 0x118, (undefined4 *)0x0, uVar7, param_4, param_5, (int)lVar4, (int)lVar9, (int)lVar10, in_stack_fffffeb8);
		uVar8 = (undefined4)param_5;
		uVar2 = FUN_100b8f7c(lVar1, lVar6, uVar7, param_4, param_5, (int)lVar4, (int)lVar9, (int)lVar10,
		    in_stack_fffffeb8);
		lVar11 = 0;
		puVar12 = puVar5;
		while (true) {
			if ((int)(uint)(byte)puVar5[1] <= (int)lVar11)
				break;
			*(int *)(puVar12 + 0xc) = (int)lVar1;
			lVar6 = lVar11;
			uVar3 = FUN_1003cdd0((int)uVar2, (int)lVar11);
			*(int *)(puVar12 + 0x10) = (int)uVar3;
			puVar12 = puVar12 + 8;
			lVar11 = lVar11 + 1;
		}
		FUN_100b9100((int)lVar1, (char)lVar6, (char)uVar7, (char)param_4, (char)uVar8, (char)lVar4,
		    (char)lVar9, (char)lVar10, in_stack_fffffeb8);
	}
	return;
}

void InitMissileGFX(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	longlong lVar1;
	longlong lVar2;
	longlong lVar3;
	uint uVar4;
	undefined *puVar5;
	undefined4 in_stack_ffffffc8;

	lVar3 = (longlong)param_8;
	lVar2 = (longlong)param_7;
	lVar1 = (longlong)param_6;
	uVar4 = 0;
	puVar5 = PTR_DAT_100f19b4;
	while (true) {
		if (puVar5[1] == '\0')
			break;
		if ((*(uint *)(puVar5 + 8) & 1) == 0) {
			LoadMissileGFX(uVar4 & 0xff, param_2, param_3, param_4, param_5, (int)lVar1, (int)lVar2, (int)lVar3,
			    in_stack_ffffffc8);
		}
		puVar5 = puVar5 + 300;
		uVar4 = uVar4 + 1;
	}
	return;
}

void FreeMissileGFX(int param_1, undefined param_2, char param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	int iVar2;
	ulonglong uVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	int iVar10;
	longlong lVar11;
	undefined4 in_stack_ffffffb8;

	lVar9 = (longlong)param_8;
	lVar8 = (longlong)param_7;
	lVar7 = (longlong)param_6;
	lVar6 = (longlong)param_5;
	lVar5 = (longlong)param_4;
	lVar4 = (longlong)param_3;
	uVar3 = ZEXT48(PTR_DAT_100f19b4);
	lVar11 = uVar3 + (longlong)param_1 * 300;
	iVar1 = (int)lVar11;
	if ((*(uint *)(iVar1 + 8) & 4) == 0) {
		iVar10 = 0;
		while (iVar10 < (int)(uint) * (byte *)(iVar1 + 1)) {
			iVar2 = (int)lVar11;
			if (*(int *)(iVar2 + 0xc) != 0) {
				mem_free_dbg((int **)(iVar2 + 0xc), (char)uVar3, (char)lVar4, (char)lVar5, (char)lVar6,
				    (char)lVar7, (char)lVar8, (char)lVar9, in_stack_ffffffb8);
				*(undefined4 *)(iVar2 + 0xc) = 0;
				*(undefined4 *)(iVar2 + 0x10) = 0;
			}
			lVar11 = lVar11 + 8;
			iVar10 = iVar10 + 1;
		}
	} else {
		if (*(int *)(iVar1 + 0xc) != 0) {
			mem_free_dbg((int **)(PTR_DAT_100f19b4 + (int)((longlong)param_1 * 300) + 0xc),
			    (char)PTR_DAT_100f19b4, param_3, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffb8);
			*(undefined4 *)(iVar1 + 0xc) = 0;
			*(undefined4 *)(iVar1 + 0x10) = 0;
		}
	}
	return;
}

undefined FreeMissiles(undefined param_1, char param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	longlong lVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	int iVar8;
	undefined *puVar9;
	undefined4 in_stack_ffffffc8;

	lVar7 = (longlong)param_8;
	lVar6 = (longlong)param_7;
	lVar5 = (longlong)param_6;
	lVar4 = (longlong)param_5;
	lVar3 = (longlong)param_4;
	lVar2 = (longlong)param_3;
	lVar1 = (longlong)param_2;
	iVar8 = 0;
	puVar9 = PTR_DAT_100f19b4;
	while (true) {
		if (puVar9[1] == '\0')
			break;
		if ((*(uint *)(puVar9 + 8) & 1) == 0) {
			param_1 = FreeMissileGFX(iVar8, (char)lVar1, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5,
			    (char)lVar6, (char)lVar7, in_stack_ffffffc8);
		}
		puVar9 = puVar9 + 300;
		iVar8 = iVar8 + 1;
	}
	return param_1;
}

undefined FUN_1005f264(undefined param_1, char param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	longlong lVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	int iVar8;
	undefined *puVar9;
	undefined4 in_stack_ffffffc8;

	lVar7 = (longlong)param_8;
	lVar6 = (longlong)param_7;
	lVar5 = (longlong)param_6;
	lVar4 = (longlong)param_5;
	lVar3 = (longlong)param_4;
	lVar2 = (longlong)param_3;
	lVar1 = (longlong)param_2;
	iVar8 = 0;
	puVar9 = PTR_DAT_100f19b4;
	while (true) {
		if (puVar9[1] == '\0')
			break;
		if ((*(uint *)(puVar9 + 8) & 1) != 0) {
			param_1 = FreeMissileGFX(iVar8, (char)lVar1, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5,
			    (char)lVar6, (char)lVar7, in_stack_ffffffc8);
		}
		puVar9 = puVar9 + 300;
		iVar8 = iVar8 + 1;
	}
	return param_1;
}

void InitMissiles(undefined8 param_1, undefined8 param_2, ulonglong param_3, ulonglong param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	int iVar9;
	ulonglong uVar10;
	undefined **ppuVar11;
	undefined *puVar12;
	undefined4 *puVar13;
	undefined4 *puVar14;
	byte *pbVar15;
	int iVar16;
	int *piVar17;
	longlong lVar18;
	int iVar19;
	longlong lVar20;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;
	undefined4 in_stack_ffffff9c;

	puVar8 = PTR_DAT_100f1ee0;
	puVar7 = PTR_DAT_100f1e80;
	puVar6 = PTR_DAT_100f1970;
	puVar5 = PTR_DAT_100f196c;
	puVar4 = PTR_DAT_100f1968;
	puVar3 = PTR_DAT_100f1834;
	puVar2 = PTR_DAT_100f1824;
	uVar10 = ZEXT48(&toc);
	ppuVar11 = &toc;
	puVar12 = PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec;
	puVar12[0x11c] = puVar12[0x11c] & 0xfe;
	if (*(int *)(puVar12 + 0x1cc) == 1) {
		iVar19 = 0;
		piVar17 = (int *)puVar6;
		while (ppuVar11 = (undefined **)uVar10, iVar19 < *(int *)puVar4) {
			if ((*(int *)(puVar5 + *piVar17 * 0xb4) == 0x27) && (uVar1 = *(uint *)(puVar5 + *piVar17 * 0xb4 + 0x78), *(uint *)puVar2 == uVar1)) {
				CalcPlrItemVals((ulonglong)uVar1, 1, param_3, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff9c);
			}
			piVar17 = piVar17 + 1;
			iVar19 = iVar19 + 1;
		}
	}
	lVar18 = 0;
	*(undefined4 *)puVar4 = 0;
	lVar20 = 0xf;
	piVar17 = (int *)puVar7;
	puVar13 = (undefined4 *)puVar6;
	do {
		iVar19 = (int)lVar18;
		*piVar17 = iVar19;
		*puVar13 = 0;
		piVar17[1] = iVar19 + 1;
		puVar13[1] = 0;
		lVar18 = lVar18 + 8;
		piVar17[2] = iVar19 + 2;
		puVar13[2] = 0;
		piVar17[3] = iVar19 + 3;
		puVar13[3] = 0;
		piVar17[4] = iVar19 + 4;
		puVar13[4] = 0;
		piVar17[5] = iVar19 + 5;
		puVar13[5] = 0;
		piVar17[6] = iVar19 + 6;
		puVar13[6] = 0;
		piVar17[7] = iVar19 + 7;
		piVar17 = piVar17 + 8;
		puVar13[7] = 0;
		puVar13 = puVar13 + 8;
		lVar20 = lVar20 + -1;
	} while (lVar20 != 0);
	iVar19 = (int)lVar18 * 4;
	puVar13 = (undefined4 *)(puVar7 + iVar19);
	puVar14 = (undefined4 *)(puVar6 + iVar19);
	lVar20 = 0x7d - lVar18;
	if ((int)lVar18 < 0x7d) {
		do {
			*puVar13 = (int)lVar18;
			puVar13 = puVar13 + 1;
			lVar18 = lVar18 + 1;
			*puVar14 = 0;
			puVar14 = puVar14 + 1;
			lVar20 = lVar20 + -1;
		} while (lVar20 != 0);
	}
	iVar19 = 0;
	*(undefined4 *)ppuVar11[-0x1c3b] = 0;
	lVar18 = 0xf;
	puVar13 = (undefined4 *)puVar8;
	do {
		iVar19 = iVar19 + 8;
		*puVar13 = 0xffffffff;
		puVar13[1] = 0;
		puVar13[2] = 0;
		puVar13[3] = 0xffffffff;
		puVar13[4] = 0;
		puVar13[5] = 0;
		puVar13[6] = 0xffffffff;
		puVar13[7] = 0;
		puVar13[8] = 0;
		puVar13[9] = 0xffffffff;
		puVar13[10] = 0;
		puVar13[0xb] = 0;
		puVar13[0xc] = 0xffffffff;
		puVar13[0xd] = 0;
		puVar13[0xe] = 0;
		puVar13[0xf] = 0xffffffff;
		puVar13[0x10] = 0;
		puVar13[0x11] = 0;
		puVar13[0x12] = 0xffffffff;
		puVar13[0x13] = 0;
		puVar13[0x14] = 0;
		puVar13[0x15] = 0xffffffff;
		puVar13[0x16] = 0;
		puVar13[0x17] = 0;
		puVar13 = puVar13 + 0x18;
		lVar18 = lVar18 + -1;
	} while (lVar18 != 0);
	puVar13 = (undefined4 *)(puVar8 + iVar19 * 0xc);
	iVar9 = 0x7d - iVar19;
	if (iVar19 < 0x7d) {
		do {
			*puVar13 = 0xffffffff;
			puVar13[1] = 0;
			puVar13[2] = 0;
			puVar13 = puVar13 + 3;
			iVar9 = iVar9 + -1;
		} while (iVar9 != 0);
	}
	iVar19 = 0;
	do {
		lVar18 = 0xe;
		iVar9 = 0;
		do {
			pbVar15 = (byte *)(iVar19 + *(int *)puVar3 + iVar9);
			*pbVar15 = *pbVar15 & 0xfe;
			pbVar15 = (byte *)(iVar19 + *(int *)puVar3 + iVar9 + 0x70);
			*pbVar15 = *pbVar15 & 0xfe;
			pbVar15 = (byte *)(iVar19 + *(int *)puVar3 + iVar9 + 0xe0);
			*pbVar15 = *pbVar15 & 0xfe;
			pbVar15 = (byte *)(iVar19 + *(int *)puVar3 + iVar9 + 0x150);
			*pbVar15 = *pbVar15 & 0xfe;
			pbVar15 = (byte *)(iVar19 + *(int *)puVar3 + iVar9 + 0x1c0);
			*pbVar15 = *pbVar15 & 0xfe;
			pbVar15 = (byte *)(iVar19 + *(int *)puVar3 + iVar9 + 0x230);
			*pbVar15 = *pbVar15 & 0xfe;
			pbVar15 = (byte *)(iVar19 + *(int *)puVar3 + iVar9 + 0x2a0);
			*pbVar15 = *pbVar15 & 0xfe;
			iVar16 = *(int *)puVar3 + iVar9;
			iVar9 = iVar9 + 0x380;
			pbVar15 = (byte *)(iVar19 + iVar16 + 0x310);
			*pbVar15 = *pbVar15 & 0xfe;
			lVar18 = lVar18 + -1;
		} while (lVar18 != 0);
		iVar19 = iVar19 + 1;
	} while (iVar19 < 0x70);
	return;
}

void FUN_1005f8b8(int param_1, longlong param_2, int param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined8 uVar2;
	undefined *puVar3;
	int iVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	undefined4 in_stack_ffffff98;

	puVar3 = PTR_DAT_100f196c;
	puVar1 = PTR_DAT_100f1824;
	lVar9 = (longlong)param_8;
	lVar8 = (longlong)param_7;
	lVar7 = (longlong)param_6;
	lVar6 = (longlong)param_5;
	lVar5 = (longlong)param_4;
	lVar12 = 1;
	do {
		lVar11 = -lVar12;
		while (true) {
			if ((int)lVar12 < (int)lVar11)
				break;
			iVar4 = param_3 + (int)lVar11;
			lVar10 = -lVar12;
			while ((int)lVar10 <= (int)lVar12) {
				uVar2 = PosOkPlayer(*(int *)puVar1, param_2 + lVar10, iVar4, (char)lVar5, (char)lVar6,
				    (char)lVar7, (char)lVar8, (char)lVar9, in_stack_ffffff98);
				if ((int)uVar2 != 0) {
					puVar3 = puVar3 + param_1 * 0xb4;
					*(int *)(puVar3 + 4) = (int)(param_2 + lVar10);
					*(int *)(puVar3 + 8) = iVar4;
					return;
				}
				lVar10 = lVar10 + 1;
			}
			lVar11 = lVar11 + 1;
		}
		lVar12 = lVar12 + 1;
	} while ((int)lVar12 < 0x32);
	puVar3 = puVar3 + param_1 * 0xb4;
	*(int *)(puVar3 + 4) = (int)param_2;
	*(int *)(puVar3 + 8) = param_3;
	return;
}

undefined8
FUN_10060780(longlong param_1, longlong param_2, undefined param_3, undefined param_4, undefined param_5, undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined *puVar1;
	longlong lVar2;
	int iVar3;
	uint *puVar4;

	puVar1 = PTR_DAT_100f1ed8;
	iVar3 = 0;
	puVar4 = (uint *)PTR_DAT_100f1edc;
	while (true) {
		if (*(int *)puVar1 <= iVar3) {
			return 0;
		}
		if ((((uint)param_1 == *puVar4) && ((uint)param_2 == puVar4[1])) || ((lVar2 = abs((ulonglong)*puVar4 - param_1), (int)lVar2 < 2 && (lVar2 = abs((ulonglong)puVar4[1] - param_2), (int)lVar2 < 2))))
			break;
		puVar4 = puVar4 + 4;
		iVar3 = iVar3 + 1;
	}
	return 1;
}

ulonglong AddMissile(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, int param_6, undefined8 param_7, longlong param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11, undefined4 param_12)

{
	uint uVar1;
	uint uVar2;
	int iVar3;
	int iVar4;
	uint *puVar5;
	uint *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	ulonglong uVar10;
	undefined *puVar11;
	ulonglong uVar12;
	undefined uVar13;
	byte bVar14;
	longlong lVar15;
	undefined uVar16;
	undefined4 uVar17;
	int iVar18;
	longlong lVar19;
	ulonglong uVar20;
	char cVar21;
	undefined4 in_stack_ffffff88;

	puVar9 = PTR_DAT_100f1ee8;
	puVar11 = PTR_DAT_100f1970;
	puVar7 = PTR_DAT_100f196c;
	puVar8 = PTR_DAT_100f1968;
	iVar18 = (int)param_8;
	uVar17 = (undefined4)param_7;
	bVar14 = (byte)param_4;
	uVar12 = ZEXT48(PTR_DAT_100f1970);
	uVar20 = ZEXT48(PTR_DAT_100f196c);
	uVar1 = *(uint *)PTR_DAT_100f1968;
	uVar10 = (ulonglong)uVar1;
	if ((int)uVar1 < 0x7d) {
		uVar16 = (char)param_5;
		if (param_6 == 0xd) {
			bVar14 = (byte)(param_8 * 0x55ec);
			lVar15 = ZEXT48(PTR_DAT_100f1828) + param_8 * 0x55ec;
			iVar3 = (int)lVar15;
			uVar16 = (char)lVar15;
			if (*(char *)(iVar3 + 0x5594) == '\x01') {
				bVar14 = *PTR_DAT_100f17ec;
				if ((uint)bVar14 != *(uint *)(iVar3 + 0x34)) {
					return 0xffffffffffffffff;
				}
				uVar16 = (char)PTR_DAT_100f1970;
				if (0 < (int)uVar1) {
					do {
						lVar15 = (ulonglong) * (uint *)uVar12 * 0xb4;
						bVar14 = (byte)lVar15;
						iVar3 = (int)lVar15;
						if ((*(int *)(PTR_DAT_100f196c + iVar3) == 0xd) && (iVar18 == *(int *)(PTR_DAT_100f196c + iVar3 + 0x78))) {
							return 0xffffffffffffffff;
						}
						uVar12 = uVar12 + 4;
						uVar16 = (undefined)uVar12;
						uVar10 = uVar10 - 1;
					} while (uVar10 != 0);
				}
			}
		}
		uVar2 = *(uint *)PTR_DAT_100f1e80;
		uVar10 = (ulonglong)uVar2;
		lVar19 = uVar10 * 0xb4;
		*(undefined4 *)PTR_DAT_100f1e80 = *(undefined4 *)(PTR_DAT_100f1e80 + (0x7c - uVar1) * 4);
		*(uint *)(puVar11 + uVar1 * 4) = uVar2;
		lVar15 = uVar20 + lVar19;
		cVar21 = (char)param_7;
		puVar11 = puVar9 + param_6 * 0x1c;
		*(int *)puVar8 = *(int *)puVar8 + 1;
		iVar3 = (int)lVar19;
		*(int *)(puVar7 + iVar3) = param_6;
		iVar4 = (int)lVar15;
		*(int *)(iVar4 + 0x7c) = (int)cVar21;
		*(int *)(iVar4 + 0x78) = iVar18;
		*(undefined *)(iVar4 + 0x38) = puVar11[0x12];
		*(undefined4 *)(iVar4 + 100) = *(undefined4 *)(puVar11 + 0xc);
		*(undefined4 *)(iVar4 + 0x30) = param_12;
		*(undefined4 *)(iVar4 + 0x2c) = (int)param_5;
		uVar13 = (undefined)lVar15;
		if ((*(byte *)(iVar4 + 0x38) == 0xff) || ((byte)PTR_DAT_100f19b4[(uint) * (byte *)(iVar4 + 0x38) * 300 + 1] < 8)) {
			SetMissDir(uVar2, 0, uVar13, bVar14, uVar16, (char)param_6, cVar21, (char)param_8, in_stack_ffffff88);
		} else {
			SetMissDir(uVar2, (int)param_5, uVar13, bVar14, uVar16, (char)param_6, cVar21, (char)param_8,
			    in_stack_ffffff88);
		}
		puVar5 = (uint *)(puVar7 + iVar3 + 4);
		*puVar5 = (uint)param_1;
		puVar7 = puVar7 + iVar3;
		lVar15 = uVar20 + lVar19 + 8;
		puVar6 = (uint *)lVar15;
		*puVar6 = (uint)param_2;
		*(undefined4 *)(puVar7 + 0xc) = 0;
		*(undefined4 *)(puVar7 + 0x10) = 0;
		*(uint *)(puVar7 + 0x1c) = (uint)param_1;
		*(uint *)(puVar7 + 0x20) = (uint)param_2;
		*(undefined4 *)(puVar7 + 0x24) = 0;
		*(undefined4 *)(puVar7 + 0x28) = 0;
		*(undefined4 *)(puVar7 + 0x34) = 0;
		*(undefined4 *)(puVar7 + 0x5c) = 1;
		*(undefined4 *)(puVar7 + 0x68) = 0;
		*(undefined4 *)(puVar7 + 0x6c) = 0;
		*(undefined4 *)(puVar7 + 0x70) = 0;
		*(undefined4 *)(puVar7 + 0x80) = param_11;
		*(undefined4 *)(puVar7 + 0x84) = 0;
		*(undefined4 *)(puVar7 + 0x88) = 0;
		*(undefined4 *)(puVar7 + 0x8c) = 0xffffffff;
		*(undefined4 *)(puVar7 + 0x90) = 0;
		uVar1 = *(uint *)(puVar9 + param_6 * 0x1c + 0x14);
		if (uVar1 != 0xffffffff) {
			PlaySfxLoc((ulonglong)uVar1, (ulonglong)*puVar5, (ulonglong)*puVar6, 0, lVar15, puVar5, uVar17,
			    iVar18, in_stack_ffffff88);
		}
		FUN_100dbf44(uVar10, param_1, param_2, param_3, param_4, param_5, param_7, param_8);
	} else {
		uVar10 = 0xffffffffffffffff;
	}
	return uVar10;
}

undefined8
FUN_100637a4(int param_1, longlong param_2, longlong param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	uint *puVar1;
	short sVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	int iVar7;
	ulonglong uVar5;
	longlong lVar6;
	undefined uVar8;
	undefined uVar9;
	undefined8 uVar10;
	undefined *puVar11;
	undefined *puVar12;
	int iVar13;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;

	puVar3 = PTR_DAT_100f196c;
	ppuVar4 = &toc;
	iVar13 = param_1 * 0xb4;
	puVar12 = PTR_DAT_100f196c + iVar13;
	uVar10 = 0;
	puVar1 = (uint *)(PTR_DAT_100f196c + iVar13 + 4);
	uVar8 = (char)param_2;
	uVar9 = (char)param_3;
	iVar7 = LineClear((ulonglong)*puVar1, (ulonglong) * (uint *)(puVar12 + 8), param_2, param_3, param_5,
	    param_6, param_7, param_8, in_stack_ffffff98);
	if (iVar7 != 0) {
		sVar2 = *(short *)(*(int *)ppuVar4[-0x1d9f] + (int)param_2 * 0xe0 + (int)param_3 * 2);
		if (((0 < sVar2) && (*(int *)(ppuVar4[-0x1dd5] + (int)sVar2 * 0xe8 + -0x50) >> 6 != 0)) && (3 < (int)sVar2 + -1)) {
			uVar5 = GetDirection((ulonglong)*puVar1, *(uint *)(puVar12 + 8), param_2, (int)param_3);
			param_5 = (undefined)uVar5;
			puVar11 = puVar3 + iVar13;
			*(undefined4 *)(puVar11 + 0x9c) = *(undefined4 *)ppuVar4[-0x1c54];
			lVar6 = GetSpellLevel(*(int *)(puVar11 + 0x78), 1);
			param_6 = 1;
			param_7 = 0;
			param_8 = (undefined) * (uint *)(puVar11 + 0x78);
			uVar8 = (char)param_2;
			uVar9 = (char)param_3;
			AddMissile((ulonglong)*puVar1, (ulonglong) * (uint *)(puVar12 + 8), param_2, param_3, uVar5, 1, 0,
			    (ulonglong) * (uint *)(puVar11 + 0x78), in_stack_ffffff98, in_stack_ffffff9f,
			    *(undefined4 *)(puVar11 + 0x80), (int)lVar6);
			uVar10 = 0xffffffffffffffff;
		}
	}
	if ((int)uVar10 == -1) {
		SetMissDir(param_1, 2, uVar8, uVar9, param_5, param_6, param_7, param_8, in_stack_ffffff98);
		*(undefined4 *)(puVar3 + iVar13 + 0x98) = 3;
	}
	return uVar10;
}

void MI_Manashield(longlong lParm1)

{
	uint uVar1;
	uint uVar2;
	undefined4 *puVar3;
	uint uVar4;
	int *piVar5;
	uint *puVar6;
	uint *puVar7;
	int iVar8;
	int iVar9;
	undefined *puVar10;
	undefined *puVar11;
	int iVar12;
	int iVar13;
	undefined *puVar14;
	undefined *puVar15;
	int iVar16;
	undefined **ppuVar17;
	ulonglong uVar18;
	ulonglong uVar19;
	longlong in_r7;
	ulonglong in_r8;
	undefined4 uVar20;
	undefined8 in_r9;
	undefined4 uVar21;
	undefined4 uVar22;
	undefined8 in_r10;
	undefined4 uVar23;
	ulonglong uVar24;
	longlong lVar25;
	ulonglong uVar26;
	ulonglong uVar27;
	undefined4 in_stack_ffffffa8;

	puVar10 = PTR_DAT_100f196c;
	puVar15 = PTR_DAT_100f1828;
	puVar14 = PTR_DAT_100f1824;
	uVar23 = (undefined4)in_r10;
	uVar22 = (undefined4)((ulonglong)in_r10 >> 0x20);
	ppuVar17 = &toc;
	uVar26 = ZEXT48(PTR_DAT_100f196c);
	uVar27 = ZEXT48(PTR_DAT_100f1828);
	iVar12 = (int)(lParm1 * 0xb4);
	puVar11 = PTR_DAT_100f196c + iVar12;
	uVar1 = *(uint *)(puVar11 + 0x78);
	uVar24 = (ulonglong)uVar1;
	lVar25 = uVar24 * 0x55ec;
	iVar13 = (int)lVar25;
	piVar5 = (int *)(PTR_DAT_100f1828 + iVar13);
	iVar16 = piVar5[0xe];
	*(int *)(puVar11 + 4) = iVar16;
	uVar2 = piVar5[0xf];
	uVar18 = (ulonglong)uVar2;
	*(uint *)(puVar11 + 8) = uVar2;
	*(int *)(puVar11 + 0x24) = piVar5[0x18] << 0x10;
	*(int *)(puVar11 + 0x28) = piVar5[0x19] << 0x10;
	if (*piVar5 == 3) {
		*(int *)(puVar11 + 0x1c) = piVar5[0x10];
		*(int *)(puVar11 + 0x20) = piVar5[0x11];
	} else {
		*(int *)(puVar11 + 0x1c) = iVar16;
		*(uint *)(puVar11 + 0x20) = uVar2;
	}
	FUN_1005d6e8(lParm1);
	if (*piVar5 == 3) {
		if (*(int *)(puVar15 + iVar13 + 0x70) == 2) {
			*(int *)(puVar11 + 4) = *(int *)(puVar11 + 4) + 1;
		} else {
			*(int *)(puVar11 + 8) = *(int *)(puVar11 + 8) + 1;
		}
	}
	if (uVar1 == *(uint *)puVar14) {
		puVar6 = (uint *)(puVar15 + iVar13 + 0x1a8);
		if (((int)*puVar6 < 1) || (puVar15[iVar13 + 0x1d] == '\0')) {
			*(undefined4 *)(puVar10 + iVar12 + 0x74) = 0;
		}
		puVar11 = puVar10 + iVar12;
		uVar2 = *(uint *)(puVar11 + 0x94);
		uVar19 = (ulonglong)uVar2;
		puVar7 = (uint *)(puVar15 + iVar13 + 0x194);
		if ((int)*puVar7 < (int)uVar2) {
			iVar16 = uVar2 - *puVar7;
			if (0 < *(int *)(puVar10 + iVar12 + 0x30)) {
				uVar4 = iVar16 / 3 + (iVar16 >> 0x1f);
				iVar16 = iVar16 - (uVar4 + (uVar4 >> 0x1f));
			}
			if (iVar16 < 0) {
				iVar16 = 0;
			}
			in_r9 = 1;
			puVar3 = (undefined4 *)ppuVar17[-0x1dbc];
			*(undefined4 *)ppuVar17[-0x1dbd] = 1;
			*puVar3 = 1;
			if ((int)*puVar6 < iVar16) {
				in_r7 = uVar26 + lParm1 * 0xb4;
				uVar18 = uVar27 + lVar25;
				*puVar7 = uVar2 - (iVar16 - *puVar6);
				uVar2 = *puVar6;
				in_r8 = (ulonglong)uVar2;
				iVar8 = (int)in_r7;
				uVar19 = (ulonglong) * (uint *)(iVar8 + 0x98);
				iVar9 = (int)uVar18;
				*(int *)(iVar9 + 0x18c) = *(uint *)(iVar8 + 0x98) - (iVar16 - uVar2);
				*puVar6 = 0;
				*(int *)(iVar9 + 0x1a0) = -(*(int *)(iVar9 + 0x1ac) - *(int *)(iVar9 + 0x1a4));
				*(undefined4 *)(iVar8 + 0x74) = 0;
				*(undefined4 *)(iVar8 + 0x34) = 1;
				if ((int)*puVar7 < 0) {
					SetPlayerHitPoints(uVar24, 0, uVar18, uVar19, in_r7, uVar2, 1, uVar23, in_stack_ffffffa8);
				}
				if (((int)*puVar7 >> 6 == 0) && (uVar1 == *(uint *)puVar14)) {
					SyncPlrKill(uVar24, *(uint *)(puVar10 + iVar12 + 0xb0), uVar18, uVar19, in_r7, in_r8, in_r9,
					    CONCAT44(uVar22, uVar23), in_stack_ffffffa8);
				}
			} else {
				*puVar7 = uVar2;
				uVar18 = uVar27 + lVar25;
				iVar8 = (int)uVar18;
				*(undefined4 *)(iVar8 + 0x18c) = *(undefined4 *)(puVar10 + iVar12 + 0x98);
				*puVar6 = *puVar6 - iVar16;
				*(int *)(iVar8 + 0x1a0) = *(int *)(iVar8 + 0x1a0) - iVar16;
			}
		}
		uVar21 = (undefined4)in_r9;
		uVar20 = (undefined4)in_r8;
		if ((((uVar1 == *(uint *)puVar14) && (*puVar7 == 0)) && (*(uint *)(puVar11 + 0x94) == 0)) && (*piVar5 != 8)) {
			*(undefined4 *)(puVar10 + iVar12 + 0x74) = 0;
			*(undefined4 *)(puVar10 + iVar12 + 0x34) = 1;
			SyncPlrKill(uVar24, 0xffffffff, uVar18, uVar19, in_r7, in_r8, in_r9, CONCAT44(uVar22, uVar23),
			    in_stack_ffffffa8);
		}
		puVar10 = puVar10 + iVar12;
		*(uint *)(puVar11 + 0x94) = *puVar7;
		*(undefined4 *)(puVar10 + 0x98) = *(undefined4 *)(puVar15 + iVar13 + 0x18c);
		if (*(int *)(puVar10 + 0x74) == 0) {
			*(undefined4 *)(puVar10 + 0x34) = 1;
			FUN_1007a7d0(1, 0x59, uVar18, uVar19, in_r7, uVar20, uVar21, uVar23, in_stack_ffffffa8);
		}
		FUN_1005d62c(lParm1);
	} else {
		if ((uint)(byte)*ppuVar17[-0x1df9] != *(uint *)(puVar15 + iVar13 + 0x34)) {
			*(undefined4 *)(puVar10 + iVar12 + 0x34) = 1;
		}
		FUN_1005d62c(lParm1);
	}
	return;
}

void ProcessMissiles(void)

{
	uint uVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	int iVar9;
	ulonglong uVar8;
	int iVar10;
	longlong lVar11;
	undefined8 uVar12;
	ulonglong uVar13;
	ulonglong uVar14;
	uint *puVar16;
	ulonglong uVar15;
	longlong in_r10;
	int *piVar17;
	ulonglong uVar18;
	ulonglong uVar19;
	undefined4 in_stack_ffffffa8;

	puVar7 = PTR_DAT_100f1ed4;
	puVar6 = PTR_DAT_100f1a3c;
	puVar5 = PTR_DAT_100f1970;
	puVar4 = PTR_DAT_100f196c;
	puVar3 = PTR_DAT_100f1968;
	puVar2 = PTR_DAT_100f1834;
	uVar8 = ZEXT48(&toc);
	uVar18 = ZEXT48(PTR_DAT_100f1970);
	iVar9 = 0;
	uVar12 = 0;
	uVar14 = ZEXT48(PTR_DAT_100f1a3c);
	uVar13 = ZEXT48(PTR_DAT_100f1834);
	uVar19 = ZEXT48(PTR_DAT_100f196c);
	uVar15 = uVar18;
	while (iVar9 < *(int *)puVar3) {
		puVar16 = (uint *)uVar15;
		uVar15 = uVar15 + 4;
		iVar9 = iVar9 + 1;
		in_r10 = uVar19 + (ulonglong)*puVar16 * 0xb4;
		iVar10 = (int)in_r10;
		piVar17 = (int *)(iVar10 + 8);
		in_r10 = in_r10 + 4;
		iVar10 = *(int *)(iVar10 + 4) * 0x70 + *piVar17;
		*(byte *)(*(int *)puVar2 + iVar10) = *(byte *)(*(int *)puVar2 + iVar10) & 0xfe;
		*(undefined *)(*(int *)puVar6 + *(int *)in_r10 * 0x70 + *piVar17) = 0;
	}
	iVar9 = 0;
	while (iVar9 < *(int *)puVar3) {
		uVar1 = *(uint *)(puVar5 + iVar9 * 4);
		if (*(int *)(puVar4 + uVar1 * 0xb4 + 0x34) == 0) {
			iVar9 = iVar9 + 1;
		} else {
			DeleteMissile((ulonglong)uVar1, iVar9, (ulonglong)uVar1, uVar12, uVar13, (int)uVar14, (int)uVar15,
			    (int)in_r10, in_stack_ffffffa8);
			iVar9 = 0;
		}
	}
	iVar9 = 0;
	**(undefined4 **)((int)uVar8 + -0x70e4) = 0;
	*(undefined4 *)puVar7 = 0;
	uVar8 = uVar18;
	while (true) {
		if (*(int *)puVar3 <= iVar9)
			break;
		puVar2 = puVar4 + *(int *)uVar8 * 0xb4;
		FUN_100dbf44();
		if ((*(uint *)(puVar2 + 0x3c) & 2) == 0) {
			*(int *)(puVar2 + 0x58) = *(int *)(puVar2 + 0x58) + 1;
			if (*(int *)(puVar2 + 0x48) <= *(int *)(puVar2 + 0x58)) {
				piVar17 = (int *)(puVar2 + 0x60);
				*(undefined4 *)(puVar2 + 0x58) = 0;
				*(int *)(puVar2 + 0x60) = *(int *)(puVar2 + 0x60) + *(int *)(puVar2 + 0x5c);
				if (*(int *)(puVar2 + 0x4c) < *(int *)(puVar2 + 0x60)) {
					*piVar17 = 1;
				}
				if (*piVar17 < 1) {
					*piVar17 = *(int *)(puVar2 + 0x4c);
				}
			}
		}
		uVar8 = uVar8 + 4;
		iVar9 = iVar9 + 1;
	}
	if (*(int *)puVar7 != 0) {
		iVar9 = 0;
		while (iVar9 < *(int *)puVar3) {
			if (*(int *)(puVar4 + *(int *)uVar18 * 0xb4) == 0xd) {
				MI_Manashield();
			}
			uVar18 = uVar18 + 4;
			iVar9 = iVar9 + 1;
		}
	}
	iVar9 = 0;
	while (iVar9 < *(int *)puVar3) {
		uVar8 = (ulonglong) * (uint *)(puVar5 + iVar9 * 4);
		lVar11 = uVar8 * 0xb4;
		if (*(int *)(puVar4 + (int)lVar11 + 0x34) == 0) {
			iVar9 = iVar9 + 1;
		} else {
			DeleteMissile(uVar8, iVar9, lVar11, uVar12, uVar13, (int)uVar14, (int)uVar15, (int)in_r10,
			    in_stack_ffffffa8);
			iVar9 = 0;
		}
	}
	return;
}

void missiles_process_charge(void)

{
	byte bVar1;
	int iVar2;
	int iVar3;
	undefined4 uVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	int *piVar9;
	int iVar10;
	undefined4 *puVar11;
	int *piVar12;
	byte *pbVar13;

	puVar8 = PTR_DAT_100f19b4;
	puVar7 = PTR_DAT_100f196c;
	puVar6 = PTR_DAT_100f1968;
	puVar5 = PTR_DAT_100f187c;
	iVar10 = 0;
	piVar9 = (int *)PTR_DAT_100f1970;
	while (iVar10 < *(int *)puVar6) {
		iVar2 = *piVar9;
		piVar12 = (int *)(puVar7 + iVar2 * 0xb4);
		iVar3 = *(int *)(puVar8 + (uint) * (byte *)(piVar12 + 0xe) * 300 + piVar12[0xb] * 8 + 0xc + 1);
		piVar12[0x10] = *(int *)(puVar8 + (uint) * (byte *)(piVar12 + 0xe) * 300 + piVar12[0xb] * 8 + 0xc);
		piVar12[0x11] = iVar3;
		if (*piVar12 == 0x14) {
			pbVar13 = *(byte **)(puVar5 + piVar12[0x1e] * 0xe8 + 0xe0);
			bVar1 = *pbVar13;
			if ((bVar1 < 0x40) || (0x43 < bVar1)) {
				if ((bVar1 < 0x59) || (0x5c < bVar1)) {
					pbVar13 = pbVar13 + 0x50;
				} else {
					pbVar13 = pbVar13 + 0x9c;
				}
			} else {
				pbVar13 = pbVar13 + 0x180;
			}
			puVar11 = (undefined4 *)(puVar7 + iVar2 * 0xb4 + 0x40);
			uVar4 = *(undefined4 *)(pbVar13 + piVar12[0xb] * 8 + 4 + 1);
			*puVar11 = *(undefined4 *)(pbVar13 + piVar12[0xb] * 8 + 4);
			puVar11[1] = uVar4;
		}
		piVar9 = piVar9 + 1;
		iVar10 = iVar10 + 1;
	}
	return;
}

void ClearMissileSpot(int param_1)

{
	undefined *puVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;

	puVar1 = PTR_DAT_100f1a3c;
	puVar4 = PTR_DAT_100f196c + param_1 * 0xb4;
	puVar3 = PTR_DAT_100f196c + param_1 * 0xb4;
	iVar2 = *(int *)(puVar4 + 4) * 0x70 + *(int *)(puVar3 + 8);
	*(byte *)(*(int *)PTR_DAT_100f1834 + iVar2) = *(byte *)(*(int *)PTR_DAT_100f1834 + iVar2) & 0xfe;
	*(undefined *)(*(int *)puVar1 + *(int *)(puVar4 + 4) * 0x70 + *(int *)(puVar3 + 8)) = 0;
	return;
}

void FUN_10068894(void)

{
	_DAT_100f4228 = _DAT_100f4224;
	return;
}

void FUN_100688a0(void)

{
	_DAT_100f423c = _DAT_100f4238;
	return;
}

void FUN_100688ac(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	uint *puVar1;
	byte bVar2;
	undefined *puVar3;
	ulonglong uVar4;
	char *pcVar5;
	ulonglong uVar6;
	ulonglong uVar7;
	undefined7 uVar8;
	undefined uVar9;
	undefined7 uVar10;
	undefined uVar11;
	longlong lVar12;
	longlong lVar13;
	longlong lVar14;
	int iVar15;
	int iVar16;
	byte *pbVar17;
	byte *pbVar18;
	int iVar19;
	byte *pbVar20;
	longlong lVar21;
	undefined4 in_stack_ffffffa8;

	puVar3 = PTR_DAT_100f19c0;
	uVar10 = (undefined7)((ulonglong)param_5 >> 8);
	uVar11 = (undefined)param_5;
	uVar8 = (undefined7)((ulonglong)param_4 >> 8);
	uVar9 = (undefined)param_4;
	lVar14 = (longlong)param_8;
	lVar13 = (longlong)param_7;
	lVar12 = (longlong)param_6;
	puVar1 = (uint *)(PTR_DAT_100f19c0 + param_1 * 0x208 + 0x204);
	uVar4 = FUN_100b8f7c((ulonglong)*puVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	lVar21 = 0x20;
	uVar7 = 0xff;
	do {
		pcVar5 = (char *)uVar4;
		if (*pcVar5 == -1) {
			*pcVar5 = '\0';
		}
		if (pcVar5[1] == -1) {
			pcVar5[1] = '\0';
		}
		if (pcVar5[2] == -1) {
			pcVar5[2] = '\0';
		}
		if (pcVar5[3] == -1) {
			pcVar5[3] = '\0';
		}
		if (pcVar5[4] == -1) {
			pcVar5[4] = '\0';
		}
		if (pcVar5[5] == -1) {
			pcVar5[5] = '\0';
		}
		if (pcVar5[6] == -1) {
			pcVar5[6] = '\0';
		}
		bVar2 = pcVar5[7];
		uVar6 = (ulonglong)bVar2;
		if (bVar2 == 0xff) {
			pcVar5[7] = 0;
		}
		uVar4 = uVar4 + 8;
		uVar7 = uVar7 - 7;
		lVar21 = lVar21 + -1;
	} while (lVar21 != 0);
	if ((int)param_2 == 0) {
		iVar19 = 5;
	} else {
		iVar19 = 6;
	}
	iVar15 = 0;
	pbVar17 = puVar3 + param_1 * 0x208;
	pbVar18 = pbVar17;
	while (iVar15 < iVar19) {
		if (((iVar15 != 1) || (*pbVar17 < 0x69)) || (0x6c < *pbVar17)) {
			iVar16 = 0;
			pbVar20 = pbVar18;
			do {
				uVar6 = (ulonglong) * (uint *)(pbVar17 + 0x204);
				uVar7 = (ulonglong) * (uint *)(pbVar18 + 0x48);
				FUN_1003f340((uint *)(pbVar20 + 8), uVar6, uVar7, CONCAT71(uVar8, uVar9), CONCAT71(uVar10, uVar11), (int)lVar12, (int)lVar13, (int)lVar14, in_stack_ffffffa8);
				iVar16 = iVar16 + 1;
				pbVar20 = pbVar20 + 8;
			} while (iVar16 < 8);
		}
		pbVar18 = pbVar18 + 0x4c;
		iVar15 = iVar15 + 1;
	}
	FUN_100b9100(*puVar1, (char)uVar6, (char)uVar7, uVar9, uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
	    in_stack_ffffffa8);
	return;
}

void InitLevelMonsters(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	int iVar4;
	undefined **ppuVar5;
	int iVar6;
	int iVar7;
	int iVar8;
	int iVar9;
	int iVar10;
	int iVar11;
	int *piVar12;
	int iVar13;
	longlong lVar14;
	undefined4 in_stack_ffffffb8;

	puVar2 = PTR_DAT_100f1f54;
	ppuVar5 = &toc;
	iVar13 = 0;
	*(undefined4 *)PTR_DAT_100f19b8 = 0;
	puVar3 = PTR_DAT_100f1f50;
	*(undefined4 *)puVar2 = 0;
	puVar2 = PTR_DAT_100f19c0;
	*(undefined4 *)puVar3 = 0;
	puVar2[1] = 0;
	puVar2[0x209] = 0;
	puVar2[0x411] = 0;
	puVar2[0x619] = 0;
	puVar2[0x821] = 0;
	puVar2[0xa29] = 0;
	puVar2[0xc31] = 0;
	puVar2[0xe39] = 0;
	puVar2[0x1041] = 0;
	puVar2[0x1249] = 0;
	puVar2[0x1451] = 0;
	puVar2[0x1659] = 0;
	puVar2[0x1861] = 0;
	puVar2[0x1a69] = 0;
	puVar2[0x1c71] = 0;
	puVar2[0x1e79] = 0;
	ClrAllMonsters((char)puVar3, (char)puVar2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	puVar1 = (undefined4 *)ppuVar5[-0x1c21];
	*(undefined4 *)ppuVar5[-0x1d8b] = 0;
	lVar14 = 5;
	piVar12 = (int *)ppuVar5[-0x1d8a];
	*puVar1 = 200;
	do {
		*piVar12 = iVar13;
		piVar12[1] = iVar13 + 1;
		piVar12[2] = iVar13 + 2;
		piVar12[3] = iVar13 + 3;
		piVar12[4] = iVar13 + 4;
		piVar12[5] = iVar13 + 5;
		piVar12[6] = iVar13 + 6;
		piVar12[7] = iVar13 + 7;
		piVar12[8] = iVar13 + 8;
		piVar12[9] = iVar13 + 9;
		piVar12[10] = iVar13 + 10;
		piVar12[0xb] = iVar13 + 0xb;
		piVar12[0xc] = iVar13 + 0xc;
		piVar12[0xd] = iVar13 + 0xd;
		piVar12[0xe] = iVar13 + 0xe;
		piVar12[0xf] = iVar13 + 0xf;
		piVar12[0x10] = iVar13 + 0x10;
		piVar12[0x11] = iVar13 + 0x11;
		piVar12[0x12] = iVar13 + 0x12;
		piVar12[0x13] = iVar13 + 0x13;
		piVar12[0x14] = iVar13 + 0x14;
		piVar12[0x15] = iVar13 + 0x15;
		piVar12[0x16] = iVar13 + 0x16;
		piVar12[0x17] = iVar13 + 0x17;
		piVar12[0x18] = iVar13 + 0x18;
		piVar12[0x19] = iVar13 + 0x19;
		iVar11 = iVar13 + 0x21;
		piVar12[0x1a] = iVar13 + 0x1a;
		iVar10 = iVar13 + 0x22;
		piVar12[0x1b] = iVar13 + 0x1b;
		iVar9 = iVar13 + 0x23;
		piVar12[0x1c] = iVar13 + 0x1c;
		iVar8 = iVar13 + 0x24;
		piVar12[0x1d] = iVar13 + 0x1d;
		iVar7 = iVar13 + 0x25;
		piVar12[0x1e] = iVar13 + 0x1e;
		iVar6 = iVar13 + 0x26;
		piVar12[0x1f] = iVar13 + 0x1f;
		iVar4 = iVar13 + 0x27;
		piVar12[0x20] = iVar13 + 0x20;
		iVar13 = iVar13 + 0x28;
		piVar12[0x21] = iVar11;
		piVar12[0x22] = iVar10;
		piVar12[0x23] = iVar9;
		piVar12[0x24] = iVar8;
		piVar12[0x25] = iVar7;
		piVar12[0x26] = iVar6;
		piVar12[0x27] = iVar4;
		piVar12 = piVar12 + 0x28;
		lVar14 = lVar14 + -1;
	} while (lVar14 != 0);
	*(undefined4 *)ppuVar5[-0x1c22] = 0;
	return;
}

int AddMonsterType(undefined8 uParm1, byte param_2)

{
	byte bVar1;
	undefined *puVar2;
	undefined8 uVar3;
	uint uVar4;
	byte *pbVar7;
	ulonglong uVar5;
	longlong lVar6;
	undefined *puVar8;
	ulonglong uVar9;
	ulonglong uVar10;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	int iVar11;
	undefined4 in_stack_ffffffb8;

	puVar8 = PTR_DAT_100f19c0;
	uVar10 = ZEXT48(PTR_DAT_100f19b8);
	iVar11 = 0;
	uVar4 = 0;
	pbVar7 = PTR_DAT_100f19c0;
	while ((iVar11 < *(int *)PTR_DAT_100f19b8 && (uVar4 == 0))) {
		bVar1 = *pbVar7;
		pbVar7 = pbVar7 + 0x208;
		iVar11 = iVar11 + 1;
		uVar3 = countLeadingZeros((uint)bVar1 - (int)uParm1);
		uVar4 = (uint)uVar3 >> 5 & 0xff;
	}
	iVar11 = iVar11 + -1;
	if (uVar4 == 0) {
		iVar11 = *(int *)PTR_DAT_100f19b8;
		uVar5 = (ulonglong)_DAT_100f1d1c;
		*(int *)PTR_DAT_100f19b8 = iVar11 + 1;
		puVar2 = PTR_DAT_100f1f54;
		uVar9 = ZEXT48(PTR_DAT_100f1f54);
		lVar6 = uVar5 + (ulonglong)(uint)((int)uParm1 << 7);
		puVar8[iVar11 * 0x208] = (char)uParm1;
		uVar4 = *(uint *)puVar2;
		*(uint *)puVar2 = uVar4 + *(int *)((int)lVar6 + 4);
		InitMonsterGFX(iVar11, lVar6, (ulonglong)uVar4, uVar9, uVar10, in_r8, in_r9, in_r10, in_stack_ffffffb8);
		InitMonsterSND(iVar11);
	}
	puVar8 = puVar8 + iVar11 * 0x208;
	puVar8[1] = puVar8[1] | param_2;
	return iVar11;
}

void GetLevelMTypes(undefined param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	byte bVar1;
	uint uVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	int iVar8;
	undefined8 uVar9;
	ulonglong uVar10;
	int iVar11;
	ulonglong uVar12;
	int iVar13;
	uint uVar14;
	longlong lVar15;
	longlong lVar16;
	ulonglong uVar17;
	int iVar18;
	longlong lVar19;
	undefined8 unaff_r20;
	uint *puVar20;
	undefined8 unaff_r21;
	longlong lVar21;
	int iVar22;
	undefined8 unaff_r22;
	uint uVar23;
	undefined8 unaff_r23;
	byte *pbVar24;
	undefined8 unaff_r24;
	byte *pbVar25;
	undefined8 unaff_r25;
	int iVar27;
	longlong lVar26;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	longlong lVar28;
	undefined4 in_stack_fffffab8;
	undefined in_stack_fffffabf;
	undefined in_stack_fffffacb;
	uint local_518[112];
	uint auStack856[202];
	undefined4 local_30;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar7 = PTR_DAT_100f1f54;
	puVar6 = PTR_DAT_100f1f44;
	pbVar24 = PTR_DAT_100f1f40;
	puVar5 = PTR_DAT_100f1f34;
	iVar22 = _DAT_100f1d1c;
	puVar4 = PTR_DAT_100f19b8;
	puVar3 = PTR_DAT_100f17ec;
	lVar16 = (longlong)param_8;
	lVar19 = (longlong)param_7;
	lVar28 = (longlong)param_6;
	lVar26 = (longlong)param_5;
	lVar15 = (longlong)param_4;
	uVar12 = SEXT18(param_3);
	uVar17 = ZEXT48(&toc);
	local_30 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	AddMonsterType(0x6d, 2);
	if (*puVar3 == '\x10') {
		AddMonsterType(0x6c, 1);
		AddMonsterType(0x60, 1);
		AddMonsterType(0x6e, 2);
	} else {
		if (**(char **)((int)uVar17 + -0x77d8) == '\0') {
			uVar9 = QuestStatus(6);
			if ((int)uVar9 != 0) {
				AddMonsterType(0x33, 2);
			}
			uVar9 = QuestStatus(2);
			if ((int)uVar9 != 0) {
				AddMonsterType(*puVar6, 4);
			}
			uVar9 = QuestStatus(3);
			if ((int)uVar9 != 0) {
				AddMonsterType(puVar6[0x40], 4);
			}
			uVar9 = QuestStatus(7);
			if ((int)uVar9 != 0) {
				AddMonsterType(puVar6[0x60], 4);
			}
			uVar9 = QuestStatus(4);
			if ((int)uVar9 != 0) {
				AddMonsterType(puVar6[0xe0], 4);
			}
			uVar9 = QuestStatus(0xb);
			if ((int)uVar9 != 0) {
				AddMonsterType(puVar6[0x100], 4);
			}
			iVar8 = (int)uVar17;
			if ((**(char **)(iVar8 + -0x77f0) != '\x01') && (*puVar3 == *(char *)(*(int *)(iVar8 + -0x7604) + 0x120))) {
				AddMonsterType(0x32, 4);
				iVar27 = iVar22 + 0x400;
				pbVar25 = pbVar24 + 8;
				lVar21 = 0;
				uVar23 = 8;
				do {
					uVar10 = FUN_10076400(uVar23);
					iVar8 = (int)uVar17;
					if ((int)uVar10 != 0) {
						iVar13 = (int)*(char *)(iVar27 + 0x55) * 0xf;
						iVar11 = (int)*(char *)(iVar27 + 0x54) * 0xf;
						lVar15 = (longlong)(int)((ulonglong)((longlong)iVar13 * -0x77777777) >> 0x20);
						uVar2 = iVar13 / 0x1e + (iVar13 >> 0x1f);
						uVar12 = (ulonglong)uVar2;
						uVar14 = iVar11 / 0x1e + (iVar11 >> 0x1f);
						if ((((int)(uVar14 + (uVar14 >> 0x1f) + 1) <= (int)(uint)(byte)*puVar3) && ((int)(uint)(byte)*puVar3 <= (int)(uVar2 + (uVar2 >> 0x1f) + 1))) && ((*pbVar25 & 3) != 0)) {
							iVar11 = (int)lVar21;
							lVar21 = lVar21 + 1;
							local_518[iVar11] = uVar23;
						}
					}
					uVar23 = uVar23 + 1;
					pbVar25 = pbVar25 + 1;
					iVar27 = iVar27 + 0x80;
				} while ((int)uVar23 < 0x1c);
				lVar15 = random(0x58, lVar21, (char)uVar12, (char)lVar15, (char)lVar26, (char)lVar28,
				    (char)lVar19, (char)lVar16, in_stack_fffffab8, in_stack_fffffabf,
				    in_stack_fffffacb);
				AddMonsterType((ulonglong)local_518[(int)lVar15], 1);
			}
			lVar28 = 0x25;
			bVar1 = *puVar3;
			lVar26 = 0;
			iVar11 = 0;
			lVar15 = ZEXT48(register0x0000000c) - 0x354;
			iVar27 = iVar22;
			do {
				iVar18 = (int)*(char *)(iVar27 + 0x55) * 0xf;
				iVar13 = (int)*(char *)(iVar27 + 0x54) * 0xf;
				uVar23 = iVar18 / 0x1e + (iVar18 >> 0x1f);
				uVar2 = iVar13 / 0x1e + (iVar13 >> 0x1f);
				if ((((int)(uVar2 + (uVar2 >> 0x1f) + 1) <= (int)(uint)bVar1) && ((int)(uint)bVar1 <= (int)(uVar23 + (uVar23 >> 0x1f) + 1))) && ((*pbVar24 & 3) != 0)) {
					*(int *)lVar15 = iVar11;
					lVar15 = lVar15 + 4;
					lVar26 = lVar26 + 1;
				}
				iVar18 = (int)*(char *)(iVar27 + 0xd5) * 0xf;
				iVar13 = (int)*(char *)(iVar27 + 0xd4) * 0xf;
				uVar23 = iVar18 / 0x1e + (iVar18 >> 0x1f);
				uVar2 = iVar13 / 0x1e + (iVar13 >> 0x1f);
				uVar14 = (uint)bVar1;
				if ((((int)(uVar2 + (uVar2 >> 0x1f) + 1) <= (int)uVar14) && ((int)uVar14 <= (int)(uVar23 + (uVar23 >> 0x1f) + 1))) && ((pbVar24[1] & 3) != 0)) {
					*(int *)lVar15 = iVar11 + 1;
					lVar15 = lVar15 + 4;
					lVar26 = lVar26 + 1;
				}
				iVar18 = (int)*(char *)(iVar27 + 0x155) * 0xf;
				iVar13 = (int)*(char *)(iVar27 + 0x154) * 0xf;
				lVar19 = (longlong)(int)((ulonglong)((longlong)iVar18 * -0x77777777) >> 0x20);
				uVar23 = iVar18 / 0x1e + (iVar18 >> 0x1f);
				uVar12 = (ulonglong)uVar23;
				uVar2 = iVar13 / 0x1e + (iVar13 >> 0x1f);
				uVar17 = (ulonglong)(uVar23 >> 0x1f);
				if ((((int)(uVar2 + (uVar2 >> 0x1f) + 1) <= (int)uVar14) && ((int)uVar14 <= (int)(uVar23 + (uVar23 >> 0x1f) + 1))) && ((pbVar24[2] & 3) != 0)) {
					*(int *)lVar15 = iVar11 + 2;
					lVar15 = lVar15 + 4;
					lVar26 = lVar26 + 1;
				}
				iVar27 = iVar27 + 0x180;
				pbVar24 = pbVar24 + 3;
				iVar11 = iVar11 + 3;
				lVar28 = lVar28 + -1;
			} while (lVar28 != 0);
			if (**(int **)(iVar8 + -0x7094) == 0) {
				iVar8 = (int)lVar26 << 2;
				while (((0 < (int)lVar26 && (*(int *)puVar4 < 0x10)) && (*(int *)puVar7 < 4000))) {
					iVar27 = (int)lVar26 << 2;
					lVar28 = 4000 - (ulonglong) * (uint *)puVar7;
					lVar16 = 0;
					lVar15 = ZEXT48(register0x0000000c) - 0x354;
					while ((int)lVar16 < (int)lVar26) {
						if ((int)lVar28 < *(int *)(iVar22 + *(int *)lVar15 * 0x80 + 4)) {
							iVar27 = iVar27 + -4;
							lVar26 = lVar26 + -1;
							iVar8 = iVar8 + -4;
							*(int *)lVar15 = *(int *)((int)auStack856 + 4U + iVar27);
						} else {
							lVar15 = lVar15 + 4;
							lVar16 = lVar16 + 1;
						}
					}
					if ((int)lVar26 != 0) {
						lVar15 = random(0x58, lVar26, (char)lVar15, (char)lVar28, (char)lVar16, (char)uVar17,
						    (char)uVar12, (char)lVar19, in_stack_fffffab8, in_stack_fffffabf,
						    in_stack_fffffacb);
						puVar20 = (uint *)((int)auStack856 + ((int)lVar15 + 1) * 4);
						AddMonsterType((ulonglong)*puVar20, 1);
						iVar8 = iVar8 + -4;
						lVar26 = lVar26 + -1;
						*puVar20 = *(uint *)((int)auStack856 + 4U + iVar8);
					}
				}
			} else {
				iVar22 = 0;
				puVar20 = *(uint **)(iVar8 + -0x7098);
				while (iVar22 < *(int *)puVar5) {
					AddMonsterType((ulonglong)*puVar20, 1);
					puVar20 = puVar20 + 1;
					iVar22 = iVar22 + 1;
				}
			}
		} else {
			if (**(char **)((int)uVar17 + -0x77e0) == '\x01') {
				AddMonsterType(0x32, 4);
			}
		}
	}
	return;
}

void InitMonsterGFX(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	byte bVar1;
	byte bVar2;
	uint uVar3;
	byte *pbVar4;
	uint *puVar5;
	undefined *puVar6;
	longlong lVar7;
	ulonglong uVar8;
	int iVar10;
	longlong lVar9;
	undefined8 uVar11;
	undefined uVar12;
	ulonglong uVar13;
	undefined4 uVar14;
	longlong lVar15;
	undefined4 uVar16;
	longlong lVar17;
	undefined4 uVar18;
	undefined8 unaff_r19;
	undefined8 unaff_r20;
	undefined8 unaff_r21;
	int iVar19;
	undefined *puVar20;
	undefined8 unaff_r22;
	undefined8 unaff_r23;
	undefined8 unaff_r24;
	uint *puVar21;
	undefined8 unaff_r25;
	uint *puVar22;
	undefined8 unaff_r26;
	uint *puVar23;
	undefined8 unaff_r27;
	uint *puVar24;
	undefined8 unaff_r28;
	byte *pbVar25;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_fffffe88;
	undefined in_stack_fffffe8f;
	undefined4 in_stack_fffffe9c;
	undefined4 in_stack_fffffea0;
	undefined4 in_stack_fffffea4;
	undefined4 in_stack_fffffea8;
	undefined4 in_stack_fffffeac;
	undefined4 in_stack_fffffeb0;
	undefined4 in_stack_fffffeb4;
	undefined auStack320[268];
	undefined4 local_34;
	undefined4 uStack48;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar6 = PTR_DAT_100f1f50;
	iVar10 = _DAT_100f1d1c;
	puVar20 = PTR_DAT_100f19c0;
	lVar17 = (longlong)param_8;
	lVar15 = (longlong)param_7;
	lVar9 = (longlong)param_6;
	local_34 = (undefined4)((ulonglong)unaff_r19 >> 0x20);
	uStack48 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	puVar22 = (uint *)(PTR_DAT_100f19c0 + param_1 * 0x208);
	iVar19 = 0;
	bVar1 = *(byte *)puVar22;
	puVar21 = (uint *)(_DAT_100f1d1c + (uint)bVar1 * 0x80);
	puVar24 = puVar21;
	puVar23 = puVar22;
	pbVar25 = PTR_s_nwahds_100f1f30;
	do {
		bVar2 = *pbVar25;
		uVar13 = (ulonglong)bVar2;
		if (((bVar2 != 0x73) || (puVar21[3] != 0)) && (0 < (int)puVar24[8])) {
			uVar13 = SEXT18((char)bVar2);
			sprintf((int)auStack320, puVar21[2], (int)(char)bVar2, (int)param_4, (int)param_5, (int)lVar9,
			    (int)lVar15, (int)lVar17, in_stack_fffffe88, in_stack_fffffe8f, in_stack_fffffe9c,
			    in_stack_fffffea0, in_stack_fffffea4, in_stack_fffffea8, in_stack_fffffeac,
			    in_stack_fffffeb0, in_stack_fffffeb4);
			uVar11 = 0;
			lVar7 = LoadFileInMem(ZEXT48(register0x0000000c) - 0x140, (undefined4 *)0x0, uVar13, param_4,
			    param_5, (int)lVar9, (int)lVar15, (int)lVar17, in_stack_fffffe88);
			uVar12 = (undefined)uVar11;
			puVar23[1] = (uint)lVar7;
			uVar8 = FUN_100b8f7c((ulonglong)puVar23[1], uVar11, uVar13, param_4, param_5, (int)lVar9,
			    (int)lVar15, (int)lVar17, in_stack_fffffe88);
			if ((*(byte *)puVar22 == 0x6d) && ((*pbVar25 == 0x73 || (*pbVar25 == 100)))) {
				puVar23[2] = puVar23[1];
				puVar23[3] = 0;
				puVar23[4] = puVar23[1];
				puVar23[5] = 0;
				puVar23[6] = puVar23[1];
				puVar23[7] = 0;
				puVar23[8] = puVar23[1];
				puVar23[9] = 0;
				puVar23[10] = puVar23[1];
				puVar23[0xb] = 0;
				puVar23[0xc] = puVar23[1];
				puVar23[0xd] = 0;
				puVar23[0xe] = puVar23[1];
				puVar23[0xf] = 0;
				puVar23[0x10] = puVar23[1];
				puVar23[0x11] = 0;
			} else {
				uVar12 = 0;
				puVar23[2] = puVar23[1];
				pbVar4 = (byte *)uVar8;
				puVar23[3] = (uint)pbVar4[3] << 0x18 | (uint)pbVar4[2] << 0x10 | (uint)pbVar4[1] << 8 | (uint)*pbVar4;
				puVar23[4] = puVar23[1];
				puVar23[5] = (uint)pbVar4[7] << 0x18 | (uint)pbVar4[6] << 0x10 | (uint)pbVar4[5] << 8 | (uint)pbVar4[4];
				puVar23[6] = puVar23[1];
				puVar23[7] = (uint)pbVar4[0xb] << 0x18 | (uint)pbVar4[10] << 0x10 | (uint)pbVar4[9] << 8 | (uint)pbVar4[8];
				puVar23[8] = puVar23[1];
				puVar23[9] = (uint)pbVar4[0xf] << 0x18 | (uint)pbVar4[0xe] << 0x10 | (uint)pbVar4[0xd] << 8
				    | (uint)pbVar4[0xc];
				puVar23[10] = puVar23[1];
				puVar23[0xb] = (uint)pbVar4[0x13] << 0x18 | (uint)pbVar4[0x12] << 0x10 | (uint)pbVar4[0x11] << 8 | (uint)pbVar4[0x10];
				puVar23[0xc] = puVar23[1];
				puVar23[0xd] = (uint)pbVar4[0x17] << 0x18 | (uint)pbVar4[0x16] << 0x10 | (uint)pbVar4[0x15] << 8 | (uint)pbVar4[0x14];
				puVar23[0xe] = puVar23[1];
				uVar13 = 0x1c;
				puVar23[0xf] = (uint)pbVar4[0x1b] << 0x18 | (uint)pbVar4[0x1a] << 0x10 | (uint)pbVar4[0x19] << 8 | (uint)pbVar4[0x18];
				puVar23[0x10] = puVar23[1];
				puVar23[0x11] = (uint)pbVar4[0x1f] << 0x18 | (uint)pbVar4[0x1e] << 0x10 | (uint)pbVar4[0x1d] << 8 | (uint)pbVar4[0x1c];
			}
			FUN_100b9100(puVar23[1], uVar12, (char)uVar13, (char)param_4, (char)param_5, (char)lVar9,
			    (char)lVar15, (char)lVar17, in_stack_fffffe88);
		}
		uVar18 = (undefined4)lVar17;
		uVar16 = (undefined4)lVar15;
		uVar14 = (undefined4)lVar9;
		iVar19 = iVar19 + 1;
		pbVar25 = pbVar25 + 1;
		puVar23[0x12] = puVar24[8];
		puVar5 = puVar24 + 0xe;
		puVar24 = puVar24 + 1;
		puVar23 = puVar23 + 0x13;
		*puVar23 = *puVar5;
	} while (iVar19 < 6);
	uVar3 = *puVar21;
	uVar8 = (ulonglong)uVar3;
	puVar20 = puVar20 + param_1 * 0x208;
	iVar10 = iVar10 + (uint)bVar1 * 0x80;
	*(uint *)(puVar20 + 0x1ec) = uVar3;
	*(int *)(puVar20 + 0x1f0) = (int)(uVar3 - 0x40) >> 1;
	puVar20[500] = (char)*(undefined4 *)(iVar10 + 0x58);
	puVar20[0x1f5] = (char)*(undefined4 *)(iVar10 + 0x5c);
	*(undefined4 *)(puVar20 + 0x1f8) = *(undefined4 *)(iVar10 + 0xc);
	puVar20[0x1fc] = *(undefined *)(iVar10 + 0x6a);
	*(uint **)(puVar20 + 0x200) = puVar21;
	if (*(int *)(iVar10 + 0x18) != 0) {
		lVar9 = LoadFileInMem((ulonglong) * (uint *)(iVar10 + 0x1c), (undefined4 *)0x0, uVar13, param_4,
		    param_5, uVar14, uVar16, uVar18, in_stack_fffffe88);
		*(int *)(puVar20 + 0x204) = (int)lVar9;
		uVar8 = (ulonglong) * (uint *)(iVar10 + 0xc);
		FUN_100688ac(param_1, uVar8, uVar13, param_4, param_5, uVar14, uVar16, uVar18, in_stack_fffffe88);
		mem_free_dbg((int **)(puVar22 + 0x81), (char)uVar8, (char)uVar13, (char)param_4, (char)param_5,
		    (char)uVar14, (char)uVar16, (char)uVar18, in_stack_fffffe88);
	}
	if (0x3b < bVar1) {
		if ((bVar1 < 0x40) && ((*(uint *)puVar6 & 1) == 0)) {
			*(uint *)puVar6 = *(uint *)puVar6 | 1;
			LoadMissileGFX(0x18, uVar8, uVar13, param_4, param_5, uVar14, uVar16, uVar18, in_stack_fffffe88);
		}
	}
	if (0x4b < bVar1) {
		if ((bVar1 < 0x50) && ((*(uint *)puVar6 & 2) == 0)) {
			*(uint *)puVar6 = *(uint *)puVar6 | 2;
			LoadMissileGFX(0x15, uVar8, uVar13, param_4, param_5, uVar14, uVar16, uVar18, in_stack_fffffe88);
		}
	}
	if ((bVar1 == 0x65) && ((*(uint *)puVar6 & 4) == 0)) {
		*(uint *)puVar6 = *(uint *)puVar6 | 4;
		LoadMissileGFX(0x16, uVar8, uVar13, param_4, param_5, uVar14, uVar16, uVar18, in_stack_fffffe88);
		LoadMissileGFX(0x17, uVar8, uVar13, param_4, param_5, uVar14, uVar16, uVar18, in_stack_fffffe88);
	}
	if ((bVar1 == 0x66) && ((*(uint *)puVar6 & 0x20) == 0)) {
		*(uint *)puVar6 = *(uint *)puVar6 | 0x20;
		LoadMissileGFX(0x28, uVar8, uVar13, param_4, param_5, uVar14, uVar16, uVar18, in_stack_fffffe88);
		LoadMissileGFX(0x29, uVar8, uVar13, param_4, param_5, uVar14, uVar16, uVar18, in_stack_fffffe88);
	}
	if ((bVar1 == 0x67) && ((*(uint *)puVar6 & 0x40) == 0)) {
		*(uint *)puVar6 = *(uint *)puVar6 | 0x40;
		LoadMissileGFX(0x2c, uVar8, uVar13, param_4, param_5, uVar14, uVar16, uVar18, in_stack_fffffe88);
		LoadMissileGFX(0x2d, uVar8, uVar13, param_4, param_5, uVar14, uVar16, uVar18, in_stack_fffffe88);
	}
	if ((bVar1 == 0x68) && ((*(uint *)puVar6 & 0x80) == 0)) {
		*(uint *)puVar6 = *(uint *)puVar6 | 0x80;
		LoadMissileGFX(0x2a, uVar8, uVar13, param_4, param_5, uVar14, uVar16, uVar18, in_stack_fffffe88);
		LoadMissileGFX(0x2b, uVar8, uVar13, param_4, param_5, uVar14, uVar16, uVar18, in_stack_fffffe88);
	}
	if (0x47 < bVar1) {
		if ((bVar1 < 0x4c) && ((*(uint *)puVar6 & 8) == 0)) {
			*(uint *)puVar6 = *(uint *)puVar6 | 8;
			LoadMissileGFX(0x19, uVar8, uVar13, param_4, param_5, uVar14, uVar16, uVar18, in_stack_fffffe88);
		}
	}
	if (0x2d < bVar1) {
		if ((bVar1 < 0x32) && ((*(uint *)puVar6 & 0x10) == 0)) {
			*(uint *)puVar6 = *(uint *)puVar6 | 0x10;
			LoadMissileGFX(0x1f, uVar8, uVar13, param_4, param_5, uVar14, uVar16, uVar18, in_stack_fffffe88);
			LoadMissileGFX(0x20, uVar8, uVar13, param_4, param_5, uVar14, uVar16, uVar18, in_stack_fffffe88);
			LoadMissileGFX(0x21, uVar8, uVar13, param_4, param_5, uVar14, uVar16, uVar18, in_stack_fffffe88);
		}
	}
	if (bVar1 == 0x6e) {
		LoadMissileGFX(0x27, uVar8, uVar13, param_4, param_5, uVar14, uVar16, uVar18, in_stack_fffffe88);
	}
	return;
}

void FUN_10069614(int param_1)

{
	undefined *puVar1;

	puVar1 = PTR_DAT_100f187c + param_1 * 0xe8;
	*(undefined4 *)(puVar1 + 0x74) = 0;
	*(undefined4 *)(puVar1 + 0x78) = 0;
	*(undefined4 *)(puVar1 + 0x7c) = 0;
	*(undefined4 *)(puVar1 + 0x80) = 0;
	*(undefined4 *)(puVar1 + 0x84) = 0;
	*(undefined4 *)(puVar1 + 0x88) = 0;
	*(undefined4 *)(puVar1 + 0x8c) = 0;
	*(undefined4 *)(puVar1 + 0x90) = 0;
	return;
}

void FUN_10069648(int param_1, int param_2, int param_3, undefined4 param_4, undefined4 param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int *piVar1;
	int *piVar2;
	int iVar3;
	char *pcVar4;
	undefined *puVar5;
	undefined **ppuVar6;
	undefined4 uVar7;
	undefined uVar9;
	char *pcVar8;
	undefined uVar11;
	short *psVar10;
	undefined uVar13;
	char *pcVar12;
	undefined uVar15;
	char *pcVar14;
	longlong lVar16;
	undefined uVar18;
	char *pcVar17;
	char *pcVar19;
	char *pcVar20;
	char *pcVar21;
	char *pcVar22;
	undefined *puVar23;
	undefined *puVar24;
	longlong lVar25;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined in_stack_ffffffab;

	puVar5 = PTR_DAT_100f187c;
	uVar15 = (undefined)param_5;
	uVar13 = (undefined)param_4;
	uVar11 = (undefined)param_3;
	ppuVar6 = &toc;
	param_1 = param_1 * 0xe8;
	puVar23 = PTR_DAT_100f187c + param_1;
	lVar25 = ZEXT48(PTR_DAT_100f19c0) + (longlong)param_3 * 0x208;
	lVar16 = lVar25 + (ulonglong)(uint)(param_2 * 8);
	*(int *)(puVar23 + 0x48) = param_2;
	*(undefined4 *)(puVar23 + 0x20) = param_4;
	*(undefined4 *)(puVar23 + 0x24) = param_5;
	*(undefined4 *)(puVar23 + 0x28) = param_4;
	*(undefined4 *)(puVar23 + 0x2c) = param_5;
	*(undefined4 *)(puVar23 + 0x30) = param_4;
	*(undefined4 *)(puVar23 + 0x34) = param_5;
	*(int *)(puVar5 + param_1) = param_3;
	*(undefined4 *)(puVar23 + 4) = 0;
	pcVar4 = (char *)lVar25;
	*(undefined4 *)(puVar23 + 0xdc) = *(undefined4 *)(*(int *)(pcVar4 + 0x200) + 0x50);
	*(char **)(puVar23 + 0xe0) = pcVar4;
	*(undefined4 *)(puVar23 + 0xe4) = *(undefined4 *)(pcVar4 + 0x200);
	iVar3 = (int)lVar16;
	uVar7 = *(undefined4 *)(iVar3 + 0xc);
	*(undefined4 *)(puVar23 + 0x54) = *(undefined4 *)(iVar3 + 8);
	*(undefined4 *)(puVar23 + 0x58) = uVar7;
	*(undefined4 *)(puVar23 + 0x5c) = *(undefined4 *)(pcVar4 + 0x4c);
	uVar18 = (undefined)lVar16;
	lVar16 = random(0x58, (ulonglong) * (uint *)(puVar23 + 0x5c) - 1, uVar11, uVar13, uVar15, uVar18,
	    param_7, param_8, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
	*(int *)(puVar23 + 0x60) = (int)lVar16;
	*(undefined4 *)(puVar23 + 100) = *(undefined4 *)(pcVar4 + 0x48);
	lVar16 = random(0x58, (ulonglong) * (uint *)(puVar23 + 100) - 1, uVar11, uVar13, uVar15, uVar18,
	    param_7, param_8, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
	*(int *)(puVar23 + 0x68) = (int)lVar16 + 1;
	if (*pcVar4 == 'n') {
		uVar9 = 1;
		lVar16 = random(0x58, 1, uVar11, uVar13, uVar15, uVar18, param_7, param_8, in_stack_ffffff98,
		    in_stack_ffffff9f, in_stack_ffffffab);
		*(int *)(puVar23 + 0x94) = ((int)lVar16 + 0x682) * 0x40;
	} else {
		lVar16 = ((ulonglong)(byte)pcVar4[0x1f5] - (ulonglong)(byte)pcVar4[500]) + 1;
		uVar9 = (undefined)lVar16;
		lVar16 = random(0x58, lVar16, uVar11, uVar13, uVar15, uVar18, param_7, param_8, in_stack_ffffff98,
		    in_stack_ffffff9f, in_stack_ffffffab);
		*(uint *)(puVar23 + 0x94) = ((uint)(byte)pcVar4[500] + (int)lVar16) * 0x40;
	}
	if (*ppuVar6[-0x1dfc] == '\x01') {
		puVar24 = puVar5 + param_1;
		*(int *)(puVar24 + 0x94) = *(int *)(puVar24 + 0x94) >> 1;
		if (*(int *)(puVar24 + 0x94) < 0x40) {
			*(int *)(puVar24 + 0x94) = 0x40;
		}
	}
	piVar1 = (int *)(puVar5 + param_1 + 0x94);
	piVar2 = (int *)(puVar5 + param_1 + 0x98);
	*piVar2 = *piVar1;
	puVar24 = puVar5 + param_1;
	puVar5[param_1 + 0x9c] = *(char *)(*(int *)(pcVar4 + 0x200) + 0x60);
	iVar3 = *(int *)(pcVar4 + 0x200);
	puVar24[0x9d] = *(undefined *)(iVar3 + 0x68);
	puVar24[8] = 1;
	*(undefined4 *)(puVar24 + 0xc) = 0;
	*(undefined4 *)(puVar24 + 0x10) = 0;
	*(undefined4 *)(puVar24 + 0x14) = 0;
	*(undefined4 *)(puVar24 + 0x18) = 0;
	puVar24[0x1c] = 0;
	*(undefined4 *)(puVar24 + 0x70) = 0;
	puVar24[0xc0] = 0;
	puVar24[0xa4] = 0;
	uVar7 = GetRndSeed((char)iVar3, uVar9, uVar11, uVar13, uVar15, uVar18, param_7, param_8,
	    in_stack_ffffff98);
	*(undefined4 *)(puVar24 + 0xb4) = uVar7;
	uVar7 = GetRndSeed((char)uVar7, uVar9, uVar11, uVar13, uVar15, uVar18, param_7, param_8,
	    in_stack_ffffff98);
	*(undefined4 *)(puVar24 + 0xb8) = uVar7;
	pcVar8 = puVar24 + 0xc4;
	psVar10 = (short *)(puVar24 + 0xc6);
	pcVar12 = puVar24 + 200;
	puVar24[0xc3] = 0;
	pcVar14 = puVar24 + 0xc9;
	pcVar17 = puVar24 + 0xca;
	pcVar19 = puVar24 + 0xcb;
	pcVar20 = puVar24 + 0xcc;
	pcVar21 = puVar24 + 0xcd;
	pcVar22 = puVar24 + 0xce;
	puVar24[0xc4] = *(undefined *)(*(int *)(pcVar4 + 0x200) + 0x56);
	*(undefined2 *)(puVar24 + 0xc6) = *(undefined2 *)(*(int *)(pcVar4 + 0x200) + 0x7c);
	puVar24[200] = *(undefined *)(*(int *)(pcVar4 + 0x200) + 0x69);
	puVar24[0xc9] = *(undefined *)(*(int *)(pcVar4 + 0x200) + 0x6b);
	puVar24[0xca] = *(undefined *)(*(int *)(pcVar4 + 0x200) + 0x6c);
	puVar24[0xcb] = *(undefined *)(*(int *)(pcVar4 + 0x200) + 0x6d);
	puVar24[0xcc] = *(undefined *)(*(int *)(pcVar4 + 0x200) + 0x6f);
	puVar24[0xcd] = *(undefined *)(*(int *)(pcVar4 + 0x200) + 0x70);
	puVar24[0xce] = *(undefined *)(*(int *)(pcVar4 + 0x200) + 0x71);
	*(undefined2 *)(puVar24 + 0xd0) = *(undefined2 *)(*(int *)(pcVar4 + 0x200) + 0x74);
	puVar24[0xd8] = 0;
	puVar24[0xd9] = 0;
	*(undefined4 *)(puVar24 + 0xa0) = *(undefined4 *)(*(int *)(pcVar4 + 0x200) + 100);
	*(undefined4 *)(puVar24 + 0xd4) = 0;
	if (puVar5[param_1 + 0x9c] == '\f') {
		uVar7 = *(undefined4 *)(pcVar4 + param_2 * 8 + 0x188);
		*(undefined4 *)(puVar23 + 0x54) = *(undefined4 *)(pcVar4 + param_2 * 8 + 0x184);
		*(undefined4 *)(puVar23 + 0x58) = uVar7;
		*(undefined4 *)(puVar23 + 0x68) = 1;
		*(uint *)(puVar24 + 0xa0) = *(uint *)(puVar24 + 0xa0) | 4;
		*(undefined4 *)(puVar23 + 4) = 7;
	}
	iVar3 = *(int *)ppuVar6[-0x1c61];
	if (iVar3 == 1) {
		*piVar1 = *piVar1 * 3 + 0x40;
		*piVar2 = *piVar1;
		*pcVar8 = *pcVar8 + '\x0f';
		*psVar10 = *psVar10 * 2 + 2000;
		*pcVar12 = *pcVar12 + 'U';
		*pcVar14 = *pcVar14 * '\x02' + '\x04';
		*pcVar17 = *pcVar17 * '\x02' + '\x04';
		*pcVar19 = *pcVar19 + 'U';
		*pcVar20 = *pcVar20 * '\x02' + '\x04';
		*pcVar21 = *pcVar21 * '\x02' + '\x04';
		*pcVar22 = *pcVar22 + '2';
	}
	if (iVar3 == 2) {
		*piVar1 = *piVar1 * 4 + 0xc0;
		*piVar2 = *piVar1;
		*pcVar8 = *pcVar8 + '\x1e';
		*psVar10 = *psVar10 * 4 + 4000;
		*pcVar12 = *pcVar12 + 'x';
		*pcVar14 = *pcVar14 * '\x04' + '\x06';
		*pcVar17 = *pcVar17 * '\x04' + '\x06';
		*pcVar19 = *pcVar19 + 'x';
		*pcVar20 = *pcVar20 * '\x04' + '\x06';
		*pcVar21 = *pcVar21 * '\x04' + '\x06';
		*pcVar22 = *pcVar22 + 'P';
		*(undefined2 *)(puVar24 + 0xd0) = *(undefined2 *)(*(int *)(pcVar4 + 0x200) + 0x76);
	}
	return;
}

void ClrAllMonsters(undefined param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	int iVar11;
	undefined *puVar12;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	puVar3 = PTR_s_Invalid_Monster_100f3304;
	puVar2 = PTR_DAT_100f1f2c;
	puVar1 = PTR_DAT_100f1828;
	lVar10 = (longlong)param_8;
	lVar9 = (longlong)param_7;
	lVar8 = (longlong)param_6;
	lVar7 = (longlong)param_5;
	lVar6 = (longlong)param_4;
	lVar5 = (longlong)param_3;
	iVar11 = 0;
	puVar12 = PTR_DAT_100f187c;
	do {
		FUN_10069614(iVar11);
		*(undefined **)(puVar12 + 0xdc) = puVar3;
		puVar12[8] = 0;
		*(undefined4 *)(puVar12 + 4) = 0;
		*(undefined4 *)(puVar12 + 0x74) = 0;
		*(undefined4 *)(puVar12 + 0x78) = 0;
		*(undefined4 *)(puVar12 + 0x20) = 0;
		*(undefined4 *)(puVar12 + 0x24) = 0;
		*(undefined4 *)(puVar12 + 0x28) = 0;
		*(undefined4 *)(puVar12 + 0x2c) = 0;
		*(undefined4 *)(puVar12 + 0x30) = 0;
		*(undefined4 *)(puVar12 + 0x34) = 0;
		lVar4 = random(0x59, 8, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9,
		    (char)lVar10, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
		*(int *)(puVar12 + 0x48) = (int)lVar4;
		*(undefined4 *)(puVar12 + 0x40) = 0;
		*(undefined4 *)(puVar12 + 0x44) = 0;
		*(undefined4 *)(puVar12 + 0x54) = 0;
		*(undefined4 *)(puVar12 + 0x58) = 0;
		*(undefined4 *)(puVar12 + 0x5c) = 0;
		*(undefined4 *)(puVar12 + 0x60) = 0;
		*(undefined4 *)(puVar12 + 100) = 0;
		*(undefined4 *)(puVar12 + 0x68) = 0;
		*(undefined4 *)(puVar12 + 0xa0) = 0;
		*(undefined4 *)(puVar12 + 0x70) = 0;
		lVar4 = random(0x59, (ulonglong)(byte)*puVar2, (char)lVar5, (char)lVar6, (char)lVar7,
		    (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffa8, in_stack_ffffffaf,
		    in_stack_ffffffbb);
		*(int *)(puVar12 + 0x4c) = (int)lVar4;
		iVar11 = iVar11 + 1;
		puVar12[0x50] = (char)*(undefined4 *)(puVar1 + *(int *)(puVar12 + 0x4c) * 0x55ec + 0x40);
		puVar12[0x51] = (char)*(undefined4 *)(puVar1 + *(int *)(puVar12 + 0x4c) * 0x55ec + 0x44);
		puVar12 = puVar12 + 0xe8;
	} while (iVar11 < 200);
	return;
}

undefined8
FUN_10069b54(int param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	byte bVar1;
	undefined8 uVar2;
	ulonglong uVar3;
	int iVar4;

	if ((((param_1 < 0) || (0x6f < param_1)) || (param_2 < 0)) || (0x6f < param_2)) {
		uVar2 = 0;
	} else {
		if (*(short *)(*(int *)PTR_DAT_100f1954 + param_1 * 0xe0 + param_2 * 2) == 0) {
			iVar4 = param_1 * 0x70 + param_2;
			if (*(char *)(*(int *)PTR_DAT_100f1950 + iVar4) == '\0') {
				bVar1 = *(byte *)(*(int *)PTR_DAT_100f1834 + iVar4);
				if ((bVar1 & 2) == 0) {
					if ((bVar1 & 8) == 0) {
						uVar3 = FUN_1009352c(param_1, param_2);
						if ((int)uVar3 == 0) {
							uVar2 = 1;
						} else {
							uVar2 = 0;
						}
					} else {
						uVar2 = 0;
					}
				} else {
					uVar2 = 0;
				}
			} else {
				uVar2 = 0;
			}
		} else {
			uVar2 = 0;
		}
	}
	return uVar2;
}

void FUN_10069c2c(undefined8 param_1, int param_2, int param_3, int param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int iVar1;
	longlong lVar2;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined1 in_stack_ffffffcb;

	iVar1 = *(int *)PTR_DAT_100f1954;
	*(short *)(iVar1 + (int)((longlong)param_3 * 0xe0) + param_4 * 2) = (short)param_1 + 1;
	lVar2 = random(0x5a, 8, (char)((longlong)param_3 * 0xe0), (char)param_4, (char)iVar1, param_6,
	    param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb);
	FUN_10069648((int)param_1, (int)lVar2, param_2, param_3, param_4, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	return;
}

void SetMapMonsters(undefined8 uParm1, undefined8 uParm2, undefined8 uParm3, undefined8 uParm4,
    undefined8 uParm5, undefined4 uParm6, undefined4 uParm7, undefined4 uParm8)

{
	short sVar1;
	undefined4 uVar2;
	bool bVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	ulonglong uVar10;
	uint uVar11;
	int iVar15;
	byte *pbVar16;
	longlong lVar12;
	longlong lVar13;
	undefined8 uVar14;
	int *piVar17;
	short *psVar18;
	ulonglong uVar19;
	short *psVar20;
	ulonglong uVar21;
	undefined uVar22;
	ulonglong uVar23;
	undefined uVar24;
	undefined uVar25;
	undefined uVar26;
	undefined uVar27;
	undefined8 in_r13;
	undefined8 unaff_r14;
	undefined8 unaff_r15;
	undefined8 unaff_r16;
	undefined8 unaff_r17;
	undefined8 unaff_r18;
	undefined8 unaff_r19;
	undefined8 unaff_r20;
	int iVar28;
	undefined8 unaff_r21;
	undefined8 unaff_r22;
	char *pcVar29;
	undefined8 unaff_r23;
	int iVar30;
	undefined8 unaff_r24;
	undefined8 unaff_r25;
	undefined *puVar31;
	undefined8 unaff_r26;
	longlong lVar32;
	undefined8 unaff_r27;
	longlong lVar33;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	int iVar34;
	undefined8 unaff_r30;
	longlong lVar35;
	int iVar36;
	undefined8 unaff_r31;
	longlong lVar37;
	int iVar38;
	int param_11;
	undefined4 in_stack_ffffff38;
	undefined in_stack_ffffff3f;
	undefined in_stack_ffffff4b;
	undefined4 in_stack_ffffff4c;
	undefined4 in_stack_ffffff50;
	undefined4 in_stack_ffffff54;
	undefined4 in_stack_ffffff58;
	undefined4 in_stack_ffffff5c;
	undefined4 in_stack_ffffff60;
	undefined4 in_stack_ffffff64;
	undefined auStack152[76];
	undefined4 local_4c;
	undefined4 uStack72;
	undefined4 uStack68;
	undefined4 uStack64;
	undefined4 uStack60;
	undefined4 uStack56;
	undefined4 uStack52;
	undefined4 uStack48;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar9 = PTR_DAT_100f1f48;
	puVar8 = PTR_DAT_100f1e4c;
	puVar7 = PTR_DAT_100f1a84;
	puVar6 = PTR_DAT_100f1a80;
	puVar5 = PTR_DAT_100f19a4;
	puVar4 = PTR_DAT_100f17e0;
	uVar10 = ZEXT48(&toc);
	local_4c = (undefined4)((ulonglong)in_r13 >> 0x20);
	uStack72 = (undefined4)((ulonglong)unaff_r14 >> 0x20);
	uStack68 = (undefined4)((ulonglong)unaff_r15 >> 0x20);
	uStack64 = (undefined4)((ulonglong)unaff_r16 >> 0x20);
	uStack60 = (undefined4)((ulonglong)unaff_r17 >> 0x20);
	uStack56 = (undefined4)((ulonglong)unaff_r18 >> 0x20);
	uStack52 = (undefined4)((ulonglong)unaff_r19 >> 0x20);
	uStack48 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	iVar15 = (int)uParm1;
	uVar21 = (ulonglong)(uint)(iVar15 * 0x20);
	pcVar29 = PTR_DAT_100f1f44 + iVar15 * 0x20;
	iVar30 = 0;
	param_11 = (int)uParm3;
	uVar23 = (ulonglong)(uint)(*(int *)PTR_DAT_100f1f48 << 8) + 0x1300;
	puVar31 = PTR_DAT_100f187c + *(int *)PTR_DAT_100f19a4 * 0xe8;
	if ((int)uVar23 < 0x1b00) {
		iVar28 = 0;
		uVar19 = (ulonglong) * (uint *)PTR_DAT_100f19b8;
		pbVar16 = PTR_DAT_100f19c0;
		if (0 < (int)*(uint *)PTR_DAT_100f19b8) {
			do {
				if ((uint)*pbVar16 == (int)*pcVar29)
					break;
				pbVar16 = pbVar16 + 0x208;
				iVar28 = iVar28 + 1;
				uVar19 = uVar19 - 1;
			} while (uVar19 != 0);
		}
	LAB_10069d5c:
		do {
			lVar12 = random(0x5b, 0x50, (char)uParm3, (char)uVar21, (char)uVar23, (char)uParm6,
			    (char)uParm7, (char)uParm8, in_stack_ffffff38, in_stack_ffffff3f,
			    in_stack_ffffff4b);
			lVar33 = lVar12 + 0x10;
			lVar13 = random(0x5b, 0x50, (char)uParm3, (char)uVar21, (char)uVar23, (char)uParm6,
			    (char)uParm7, (char)uParm8, in_stack_ffffff38, in_stack_ffffff3f,
			    in_stack_ffffff4b);
			lVar32 = lVar13 + 0x10;
			lVar35 = lVar12 + 0xd;
			iVar34 = 0;
			while (iVar36 = (int)lVar35, iVar36 < (int)lVar12 + 0x13) {
				lVar37 = lVar13 + 0xd;
				while (iVar38 = (int)lVar37, iVar38 < (int)lVar13 + 0x13) {
					if ((((-1 < iVar38) && (iVar38 < 0x70)) && (-1 < iVar36)) && ((iVar36 < 0x70 && (uVar14 = FUN_10069b54(iVar36, iVar38, (char)uParm3, (char)uVar21, (char)uVar23, (char)uParm6, (char)uParm7, (char)uParm8, in_stack_ffffff38), (int)uVar14 != 0)))) {
						iVar34 = iVar34 + 1;
					}
					lVar37 = lVar37 + 1;
				}
				lVar35 = lVar35 + 1;
			}
			if (iVar34 < 9) {
				iVar30 = iVar30 + 1;
				if (iVar30 < 1000)
					goto LAB_10069d5c;
			}
			uVar14 = FUN_10069b54((int)lVar33, (int)lVar32, (char)uParm3, (char)uVar21, (char)uVar23,
			    (char)uParm6, (char)uParm7, (char)uParm8, in_stack_ffffff38);
			iVar36 = (int)uParm2;
			iVar34 = (int)uVar10;
		} while ((int)uVar14 == 0);
		if (iVar15 == 3) {
			lVar33 = (ulonglong)(uint)(*(int *)puVar7 << 1) + 0x18;
			lVar32 = (ulonglong)(uint)(*(int *)puVar6 << 1) + 0x1c;
		}
		if (iVar15 == 8) {
			lVar33 = (ulonglong)(uint)(*(int *)puVar7 << 1) + 0x16;
			lVar32 = (ulonglong)(uint)(*(int *)puVar6 << 1) + 0x17;
		}
		if (iVar15 == 2) {
			bVar3 = true;
			iVar30 = 0;
			uVar10 = (ulonglong) * *(uint **)(iVar34 + -0x7270);
			piVar17 = *(int **)(iVar34 + -0x726c);
			if (0 < (int)**(uint **)(iVar34 + -0x7270)) {
				do {
					if ((iVar30 == **(int **)(iVar34 + -0x70a8)) && (bVar3)) {
						bVar3 = false;
						uVar23 = (ulonglong)(uint)(*piVar17 << 1);
						lVar33 = uVar23 + 0x14;
						lVar32 = (ulonglong)(uint)(piVar17[1] << 1) + 0x14;
					}
					piVar17 = piVar17 + 5;
					iVar30 = iVar30 + 1;
					uVar10 = uVar10 - 1;
				} while (uVar10 != 0);
			}
		}
		if (*puVar4 == '\x01') {
			if (iVar15 == 4) {
				lVar33 = 0x20;
				lVar32 = 0x2e;
			}
			if (iVar15 == 5) {
				lVar33 = 0x28;
				lVar32 = 0x2d;
			}
			if (iVar15 == 6) {
				lVar33 = 0x26;
				lVar32 = 0x31;
			}
			if (iVar15 == 1) {
				lVar33 = 0x23;
				lVar32 = 0x2f;
			}
		} else {
			if (iVar15 == 4) {
				lVar33 = (ulonglong)(uint)(*(int *)puVar7 << 1) + 0x13;
				lVar32 = (ulonglong)(uint)(*(int *)puVar6 << 1) + 0x16;
			}
			if (iVar15 == 5) {
				lVar33 = (ulonglong)(uint)(*(int *)puVar7 << 1) + 0x15;
				lVar32 = (ulonglong)(uint)(*(int *)puVar6 << 1) + 0x13;
			}
			if (iVar15 == 6) {
				lVar33 = (ulonglong)(uint)(*(int *)puVar7 << 1) + 0x15;
				lVar32 = (ulonglong)(uint)(*(int *)puVar6 << 1) + 0x19;
			}
		}
		iVar30 = (int)lVar33;
		if (iVar15 == 9) {
			uVar11 = 0;
			lVar32 = 0;
			psVar20 = **(short ***)(iVar34 + -0x757c);
			while ((iVar30 = (int)lVar33, (int)lVar32 < 0x70 && (uVar11 == 0))) {
				lVar33 = 0;
				psVar18 = psVar20;
				while (((int)lVar33 < 0x70 && (uVar11 == 0))) {
					sVar1 = *psVar18;
					psVar18 = psVar18 + 0x70;
					lVar33 = lVar33 + 1;
					uVar14 = countLeadingZeros(0x16f - (int)sVar1);
					uVar11 = (uint)uVar14 >> 5 & 0xff;
				}
				psVar20 = psVar20 + 1;
				lVar32 = lVar32 + 1;
			}
		}
		FUN_10069c2c((ulonglong) * (uint *)puVar5, iVar28, iVar30, (int)lVar32, (char)uVar23, (char)uParm6,
		    (char)uParm7, (char)uParm8, in_stack_ffffff38);
		puVar31[0xc0] = (char)uParm1 + '\x01';
		if (pcVar29[0xc] == '\0') {
			puVar31[0xc4] = puVar31[0xc4] + '\x05';
		} else {
			puVar31[0xc4] = pcVar29[0xc] << 1;
		}
		*(short *)(puVar31 + 0xc6) = *(short *)(puVar31 + 0xc6) << 1;
		*(undefined4 *)(puVar31 + 0xdc) = *(undefined4 *)(pcVar29 + 4);
		*(uint *)(puVar31 + 0x94) = (uint) * (ushort *)(pcVar29 + 0xe) << 6;
		if ((*puVar4 == '\x01') && (*(int *)(puVar31 + 0x94) = *(int *)(puVar31 + 0x94) >> 1, *(int *)(puVar31 + 0x94) < 0x40)) {
			*(undefined4 *)(puVar31 + 0x94) = 0x40;
		}
		*(undefined4 *)(puVar31 + 0x98) = *(undefined4 *)(puVar31 + 0x94);
		puVar31[0x9c] = pcVar29[0x10];
		puVar31[0x9d] = pcVar29[0x11];
		puVar31[0xc9] = pcVar29[0x12];
		puVar31[0xca] = pcVar29[0x13];
		puVar31[0xcc] = pcVar29[0x12];
		puVar31[0xcd] = pcVar29[0x13];
		*(undefined2 *)(puVar31 + 0xd0) = *(undefined2 *)(pcVar29 + 0x14);
		*(undefined4 *)(puVar31 + 0xd4) = *(undefined4 *)(pcVar29 + 0x1c);
		uVar10 = AddLight(*(undefined4 *)(puVar31 + 0x20), *(undefined4 *)(puVar31 + 0x24), 3);
		puVar31[0xdb] = (char)uVar10;
		if ((*puVar4 != '\x01') && (puVar31[0x9c] == '\x1d')) {
			*(undefined4 *)(puVar31 + 0xd4) = 0;
		}
		if (((*puVar4 == '\x01') || (puVar31[0x9c] != '\x1c')) || (*(byte *)(*(int *)(iVar34 + -0x7604) + 0x177) < 4)) {
			if (*(int *)(puVar31 + 0xd4) != 0) {
				puVar31[8] = 6;
			}
		} else {
			puVar31[8] = 1;
		}
		if (*(int *)puVar8 == 1) {
			*(int *)(puVar31 + 0x94) = *(int *)(puVar31 + 0x94) * 3 + 0x40;
			*(undefined4 *)(puVar31 + 0x98) = *(undefined4 *)(puVar31 + 0x94);
			puVar31[0xc4] = puVar31[0xc4] + '\x0f';
			*(short *)(puVar31 + 0xc6) = *(short *)(puVar31 + 0xc6) * 2 + 2000;
			puVar31[0xc9] = puVar31[0xc9] * '\x02' + '\x04';
			puVar31[0xca] = puVar31[0xca] * '\x02' + '\x04';
			puVar31[0xcc] = puVar31[0xcc] * '\x02' + '\x04';
			puVar31[0xcd] = puVar31[0xcd] * '\x02' + '\x04';
		}
		if (*(int *)puVar8 == 2) {
			*(int *)(puVar31 + 0x94) = *(int *)(puVar31 + 0x94) * 4 + 0xc0;
			*(undefined4 *)(puVar31 + 0x98) = *(undefined4 *)(puVar31 + 0x94);
			puVar31[0xc4] = puVar31[0xc4] + '\x1e';
			*(short *)(puVar31 + 0xc6) = *(short *)(puVar31 + 0xc6) * 4 + 4000;
			puVar31[0xc9] = puVar31[0xc9] * '\x04' + '\x06';
			puVar31[0xca] = puVar31[0xca] * '\x04' + '\x06';
			puVar31[0xcc] = puVar31[0xcc] * '\x04' + '\x06';
			puVar31[0xcd] = puVar31[0xcd] * '\x04' + '\x06';
		}
		sprintf((int)auStack152, *(undefined4 *)(iVar34 + -0x5cd0), *(undefined4 *)(pcVar29 + 8),
		    (int)lVar32, (int)uVar23, uParm6, uParm7, uParm8, in_stack_ffffff38, in_stack_ffffff3f,
		    in_stack_ffffff4c, in_stack_ffffff50, in_stack_ffffff54, in_stack_ffffff58,
		    in_stack_ffffff5c, in_stack_ffffff60, in_stack_ffffff64);
		uVar27 = (undefined)uParm8;
		uVar26 = (undefined)uParm7;
		uVar25 = (undefined)uParm6;
		uVar24 = (undefined)uVar23;
		uVar22 = (undefined)lVar32;
		FUN_1003f2a8(ZEXT48(register0x0000000c) - 0x98,
		    (ulonglong) * *(uint **)(iVar34 + -0x7770) + (ulonglong)(uint)(*(int *)puVar9 << 8) + 0x1300,
		    (ulonglong) * *(uint **)(iVar34 + -0x7770), lVar32, uVar23, uParm6, uParm7, uParm8,
		    in_stack_ffffff38);
		puVar31[0xc1] = (char)*(undefined4 *)puVar9;
		*(int *)puVar9 = *(int *)puVar9 + 1;
		if ((*(ushort *)(pcVar29 + 0x16) & 4) != 0) {
			puVar31[200] = pcVar29[0x18];
			puVar31[0xcb] = pcVar29[0x18];
		}
		if ((*(ushort *)(pcVar29 + 0x16) & 8) != 0) {
			puVar31[0xce] = pcVar29[0x18];
		}
		*(int *)puVar5 = *(int *)puVar5 + 1;
		if ((*(ushort *)(pcVar29 + 0x16) & 1) != 0) {
			uVar22 = (undefined)((ulonglong) * (uint *)puVar5 - 1);
			FUN_1006a79c(iVar36, param_11, (uint) * (ushort *)(pcVar29 + 0x16),
			    (int)((ulonglong) * (uint *)puVar5 - 1), uVar24, uVar25, uVar26, uVar27,
			    in_stack_ffffff38);
		}
		if (puVar31[0x9c] != '\f') {
			lVar12 = (ulonglong) * (uint *)(puVar31 + 0xe0) + (ulonglong)(uint)(*(int *)(puVar31 + 0x48) << 3);
			iVar15 = (int)lVar12;
			uVar2 = *(undefined4 *)(iVar15 + 0xc);
			*(undefined4 *)(puVar31 + 0x54) = *(undefined4 *)(iVar15 + 8);
			*(undefined4 *)(puVar31 + 0x58) = uVar2;
			lVar12 = random(0x58, (ulonglong) * (uint *)(puVar31 + 100) - 1, (char)lVar12, uVar22, uVar24,
			    uVar25, uVar26, uVar27, in_stack_ffffff38, in_stack_ffffff3f,
			    in_stack_ffffff4b);
			*(int *)(puVar31 + 0x68) = (int)lVar12 + 1;
			*(uint *)(puVar31 + 0xa0) = *(uint *)(puVar31 + 0xa0) & 0xfffffffb;
			*(undefined4 *)(puVar31 + 4) = 0;
		}
	}
	return;
}

ulonglong FUN_1006a330(char param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined8 uVar4;
	ulonglong uVar5;
	byte *pbVar6;
	longlong lVar7;
	uint uVar8;
	ulonglong uVar9;
	longlong lVar10;
	int iVar11;
	char *pcVar12;

	puVar3 = PTR_DAT_100f19cc;
	puVar2 = PTR_DAT_100f19b8;
	puVar1 = PTR_DAT_100f17ec;
	uVar5 = SEXT18(param_1);
	lVar10 = 0;
	uVar9 = ZEXT48(PTR_DAT_100f19c0);
	pcVar12 = PTR_DAT_100f1f44;
	while (*pcVar12 != -1) {
		uVar5 = (ulonglong)(byte)*puVar1;
		if (uVar5 == (ulonglong)(byte)pcVar12[0xc]) {
			uVar8 = 0;
			lVar7 = 0;
			uVar5 = uVar9;
			while (((int)lVar7 < *(int *)puVar2 && (uVar8 == 0))) {
				pbVar6 = (byte *)uVar5;
				uVar5 = uVar5 + 0x208;
				lVar7 = lVar7 + 1;
				uVar4 = countLeadingZeros((int)*pcVar12 - (uint)*pbVar6);
				uVar8 = (uint)uVar4 >> 5 & 0xff;
			}
			iVar11 = (int)lVar10;
			if ((iVar11 == 0) && (puVar3[0x32] == '\0')) {
				uVar8 = 0;
			}
			if ((iVar11 == 2) && (puVar3[0x4a] == '\0')) {
				uVar8 = 0;
			}
			if ((iVar11 == 3) && (puVar3[0xaa] == '\0')) {
				uVar8 = 0;
			}
			if ((iVar11 == 7) && (puVar3[0x62] == '\0')) {
				uVar8 = 0;
			}
			if ((iVar11 == 8) && (puVar3[0x10a] == '\0')) {
				uVar8 = 0;
			}
			if (uVar8 != 0) {
				uVar5 = SetMapMonsters(lVar10, lVar7 + -1, 8);
			}
		}
		pcVar12 = pcVar12 + 0x20;
		lVar10 = lVar10 + 1;
	}
	return uVar5;
}

void FUN_1006a468(undefined8 param_1, undefined8 param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	int iVar9;
	undefined8 uVar10;
	ulonglong uVar11;
	ulonglong uVar12;
	undefined uVar13;
	undefined uVar14;
	undefined7 uVar15;
	undefined uVar16;
	undefined7 uVar17;
	undefined uVar18;
	longlong lVar19;
	undefined4 uVar20;
	longlong lVar21;
	undefined4 uVar22;
	longlong lVar23;
	undefined4 uVar24;
	undefined8 unaff_r23;
	longlong lVar25;
	undefined8 unaff_r24;
	byte *pbVar26;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffff98;
	int *local_38[5];
	undefined4 local_24;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar8 = PTR_DAT_100f1f44;
	puVar7 = PTR_DAT_100f1a84;
	puVar6 = PTR_DAT_100f1a80;
	puVar5 = PTR_DAT_100f19cc;
	puVar4 = PTR_DAT_100f19b8;
	puVar3 = PTR_DAT_100f17ec;
	puVar2 = PTR_DAT_100f17e0;
	uVar17 = (undefined7)((ulonglong)param_5 >> 8);
	uVar18 = (undefined)param_5;
	uVar15 = (undefined7)((ulonglong)param_4 >> 8);
	uVar16 = (undefined)param_4;
	lVar23 = (longlong)param_8;
	lVar21 = (longlong)param_7;
	lVar19 = (longlong)param_6;
	uVar12 = ZEXT48(&toc);
	local_24 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	if (*PTR_DAT_100f17f8 == '\0') {
		uVar10 = QuestStatus(6);
		if ((int)uVar10 != 0) {
			param_3 = 0;
			SetMapMonsters(9, 0);
		}
		uVar24 = (undefined4)lVar23;
		uVar22 = (undefined4)lVar21;
		uVar20 = (undefined4)lVar19;
		iVar9 = (int)uVar12;
		if ((*puVar3 == puVar5[0x120]) && (*puVar2 != '\x01')) {
			lVar25 = 0;
			pbVar26 = *(byte **)(iVar9 + -0x7610);
			while (true) {
				uVar24 = (undefined4)lVar23;
				uVar22 = (undefined4)lVar21;
				uVar20 = (undefined4)lVar19;
				iVar9 = (int)uVar12;
				if (*(int *)puVar4 <= (int)lVar25)
					break;
				uVar11 = FUN_10076400((uint)*pbVar26);
				uVar24 = (undefined4)lVar23;
				uVar22 = (undefined4)lVar21;
				uVar20 = (undefined4)lVar19;
				iVar9 = (int)uVar12;
				if ((int)uVar11 != 0)
					break;
				pbVar26 = pbVar26 + 0x208;
				lVar25 = lVar25 + 1;
			}
			param_3 = 0x1e;
			SetMapMonsters(1, lVar25);
		}
		uVar10 = QuestStatus(7);
		if ((int)uVar10 != 0) {
			uVar12 = LoadFileInMem((ulonglong) * (uint *)(iVar9 + -0x5cd4), (undefined4 *)0x0, param_3,
			    CONCAT71(uVar15, uVar16), CONCAT71(uVar17, uVar18), uVar20, uVar22, uVar24,
			    in_stack_ffffff98);
			local_38[0] = (int *)uVar12;
			uVar13 = (undefined)(*(int *)puVar7 << 1);
			param_3 = (ulonglong)(uint)(*(int *)puVar6 << 1);
			FUN_1006aeb8(uVar12 & 0xffffffff, (ulonglong)(uint)(*(int *)puVar7 << 1), param_3,
			    CONCAT71(uVar15, uVar16), CONCAT71(uVar17, uVar18), uVar20, uVar22, uVar24,
			    in_stack_ffffff98);
			mem_free_dbg(local_38, uVar13, (char)param_3, uVar16, uVar18, (char)uVar20, (char)uVar22,
			    (char)uVar24, in_stack_ffffff98);
		}
		uVar10 = QuestStatus(9);
		if ((int)uVar10 != 0) {
			uVar12 = LoadFileInMem((ulonglong) * (uint *)(iVar9 + -0x5cd8), (undefined4 *)0x0, param_3,
			    CONCAT71(uVar15, uVar16), CONCAT71(uVar17, uVar18), uVar20, uVar22, uVar24,
			    in_stack_ffffff98);
			local_38[0] = (int *)uVar12;
			uVar13 = (undefined)(*(int *)puVar7 << 1);
			param_3 = (ulonglong)(uint)(*(int *)puVar6 << 1);
			FUN_1006aeb8(uVar12 & 0xffffffff, (ulonglong)(uint)(*(int *)puVar7 << 1), param_3,
			    CONCAT71(uVar15, uVar16), CONCAT71(uVar17, uVar18), uVar20, uVar22, uVar24,
			    in_stack_ffffff98);
			mem_free_dbg(local_38, uVar13, (char)param_3, uVar16, uVar18, (char)uVar20, (char)uVar22,
			    (char)uVar24, in_stack_ffffff98);
		}
		uVar10 = QuestStatus(8);
		if ((int)uVar10 != 0) {
			uVar12 = LoadFileInMem((ulonglong) * (uint *)(iVar9 + -0x5cdc), (undefined4 *)0x0, param_3,
			    CONCAT71(uVar15, uVar16), CONCAT71(uVar17, uVar18), uVar20, uVar22, uVar24,
			    in_stack_ffffff98);
			local_38[0] = (int *)uVar12;
			uVar13 = (undefined)(*(int *)puVar7 << 1);
			param_3 = (ulonglong)(uint)(*(int *)puVar6 << 1);
			FUN_1006aeb8(uVar12 & 0xffffffff, (ulonglong)(uint)(*(int *)puVar7 << 1), param_3,
			    CONCAT71(uVar15, uVar16), CONCAT71(uVar17, uVar18), uVar20, uVar22, uVar24,
			    in_stack_ffffff98);
			mem_free_dbg(local_38, uVar13, (char)param_3, uVar16, uVar18, (char)uVar20, (char)uVar22,
			    (char)uVar24, in_stack_ffffff98);
		}
		uVar10 = QuestStatus(10);
		if ((int)uVar10 != 0) {
			uVar12 = LoadFileInMem((ulonglong) * (uint *)(iVar9 + -0x5ce0), (undefined4 *)0x0, param_3,
			    CONCAT71(uVar15, uVar16), CONCAT71(uVar17, uVar18), uVar20, uVar22, uVar24,
			    in_stack_ffffff98);
			local_38[0] = (int *)uVar12;
			uVar1 = (*(int *)puVar7 + 1) * 2;
			uVar13 = (undefined)uVar1;
			param_3 = (ulonglong)(uint)((*(int *)puVar6 + 1) * 2);
			FUN_1006aeb8(uVar12 & 0xffffffff, (ulonglong)uVar1, param_3, CONCAT71(uVar15, uVar16),
			    CONCAT71(uVar17, uVar18), uVar20, uVar22, uVar24, in_stack_ffffff98);
			mem_free_dbg(local_38, uVar13, (char)param_3, uVar16, uVar18, (char)uVar20, (char)uVar22,
			    (char)uVar24, in_stack_ffffff98);
		}
		uVar10 = QuestStatus(0xb);
		if ((int)uVar10 != 0) {
			uVar12 = LoadFileInMem((ulonglong) * (uint *)(iVar9 + -0x5ce4), (undefined4 *)0x0, param_3,
			    CONCAT71(uVar15, uVar16), CONCAT71(uVar17, uVar18), uVar20, uVar22, uVar24,
			    in_stack_ffffff98);
			local_38[0] = (int *)uVar12;
			uVar13 = (undefined)(*(int *)puVar7 << 1);
			uVar14 = (undefined)(*(int *)puVar6 << 1);
			FUN_1006aeb8(uVar12 & 0xffffffff, (ulonglong)(uint)(*(int *)puVar7 << 1),
			    (ulonglong)(uint)(*(int *)puVar6 << 1), CONCAT71(uVar15, uVar16),
			    CONCAT71(uVar17, uVar18), uVar20, uVar22, uVar24, in_stack_ffffff98);
			mem_free_dbg(local_38, uVar13, uVar14, uVar16, uVar18, (char)uVar20, (char)uVar22, (char)uVar24,
			    in_stack_ffffff98);
			AddMonsterType(puVar8[0x100], 1);
		}
		uVar10 = QuestStatus(4);
		if ((int)uVar10 != 0) {
			AddMonsterType(puVar8[0xe0], 1);
		}
		uVar10 = QuestStatus(3);
		if (((int)uVar10 != 0) && (**(int **)(iVar9 + -0x70a8) == -1)) {
			puVar5[0x4a] = 0;
		}
		if ((*puVar3 == puVar5[0x168]) && (*puVar2 != '\x01')) {
			AddMonsterType(puVar8[0x80], 4);
			AddMonsterType(puVar8[0xa0], 4);
			SetMapMonsters(4, 0, 0);
			SetMapMonsters(5, 0, 0);
			uVar10 = 0;
			SetMapMonsters(6, 0);
			uVar12 = LoadFileInMem((ulonglong) * (uint *)(iVar9 + -0x5ce8), (undefined4 *)0x0, uVar10,
			    CONCAT71(uVar15, uVar16), CONCAT71(uVar17, uVar18), uVar20, uVar22, uVar24,
			    in_stack_ffffff98);
			uVar24._3_1_ = (undefined)uVar24;
			uVar22._3_1_ = (undefined)uVar22;
			uVar20._3_1_ = (undefined)uVar20;
			local_38[0] = (int *)uVar12;
			uVar13 = (undefined)(*(int *)puVar7 << 1);
			uVar14 = (undefined)(*(int *)puVar6 << 1);
			FUN_1006aeb8(uVar12 & 0xffffffff, (ulonglong)(uint)(*(int *)puVar7 << 1),
			    (ulonglong)(uint)(*(int *)puVar6 << 1), CONCAT71(uVar15, uVar16),
			    CONCAT71(uVar17, uVar18), uVar20, uVar22, uVar24, in_stack_ffffff98);
			mem_free_dbg(local_38, uVar13, uVar14, uVar16, uVar18, (undefined)uVar20, (undefined)uVar22,
			    (undefined)uVar24, in_stack_ffffff98);
		}
	} else {
		if (*PTR_DAT_100f17f0 == '\x01') {
			SetMapMonsters(1, 0, 0);
		}
	}
	return;
}

void FUN_1006a79c(int param_1, int param_2, uint param_3, int param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	undefined4 uVar1;
	undefined *puVar2;
	undefined *puVar3;
	uint uVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	int iVar8;
	ulonglong uVar9;
	longlong lVar10;
	undefined8 uVar11;
	int iVar12;
	undefined4 *puVar13;
	ulonglong uVar14;
	ulonglong uVar15;
	longlong lVar16;
	longlong lVar17;
	longlong lVar18;
	longlong lVar19;
	ulonglong uVar20;
	int iVar21;
	int iVar22;
	ulonglong uVar23;
	longlong lVar24;
	ulonglong uVar25;
	ulonglong uVar26;
	ulonglong uVar27;
	ulonglong uVar28;
	undefined4 in_stack_ffffff78;
	undefined in_stack_ffffff7f;
	undefined in_stack_ffffff8b;
	int local_58;

	iVar8 = _DAT_100f1de4;
	puVar7 = PTR_DAT_100f1a48;
	puVar6 = PTR_DAT_100f19a4;
	puVar5 = PTR_DAT_100f187c;
	lVar19 = (longlong)param_8;
	lVar18 = (longlong)param_7;
	lVar17 = (longlong)param_6;
	lVar16 = (longlong)param_5;
	uVar15 = SEXT48(param_4);
	uVar14 = SEXT48((int)param_3);
	uVar9 = ZEXT48(&toc);
	uVar23 = ZEXT48(PTR_DAT_100f187c);
	uVar20 = ZEXT48(PTR_DAT_100f1954);
	uVar4 = param_3 & 2;
	lVar24 = 0;
	puVar2 = PTR_DAT_100f187c + param_4 * 0xe8;
	local_58 = 0;
	do {
		while ((int)lVar24 != 0) {
			uVar14 = 0;
			lVar24 = lVar24 + -1;
			*(int *)puVar6 = *(int *)puVar6 + -1;
			*(undefined2 *)(*(int *)uVar20 + *(int *)(puVar5 + *(int *)puVar6 * 0xe8 + 0x20) * 0xe0 + *(int *)(puVar5 + *(int *)puVar6 * 0xe8 + 0x24) * 2) = 0;
		}
		if ((param_3 & 1) == 0) {
			do {
				lVar10 = random(0x5d, 0x50, (char)uVar14, (char)uVar15, (char)lVar16, (char)lVar17,
				    (char)lVar18, (char)lVar19, in_stack_ffffff78, in_stack_ffffff7f,
				    in_stack_ffffff8b);
				uVar25 = lVar10 + 0x10;
				lVar10 = random(0x5d, 0x50, (char)uVar14, (char)uVar15, (char)lVar16, (char)lVar17,
				    (char)lVar18, (char)lVar19, in_stack_ffffff78, in_stack_ffffff7f,
				    in_stack_ffffff8b);
				uVar27 = lVar10 + 0x10;
				uVar11 = FUN_10069b54((int)uVar25, (int)uVar27, (char)uVar14, (char)uVar15, (char)lVar16,
				    (char)lVar17, (char)lVar18, (char)lVar19, in_stack_ffffff78);
			} while ((int)uVar11 == 0);
		} else {
			lVar10 = random(0x5c, 8, (char)uVar14, (char)uVar15, (char)lVar16, (char)lVar17, (char)lVar18,
			    (char)lVar19, in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8b);
			iVar21 = (int)lVar10 * 4;
			uVar14 = (ulonglong) * (uint *)(iVar8 + iVar21);
			uVar15 = (ulonglong) * (uint *)(puVar2 + 0x24);
			uVar25 = (ulonglong) * (uint *)(puVar2 + 0x20) + uVar14;
			uVar27 = uVar15 + (ulonglong) * (uint *)(*(int *)((int)uVar9 + -0x71f0) + iVar21);
		}
		iVar21 = **(int **)((int)uVar9 + -0x7084);
		if (iVar21 < *(int *)puVar6 + param_2) {
			param_2 = iVar21 - *(int *)puVar6;
		}
		iVar21 = 0;
		iVar22 = 0;
		uVar26 = uVar25;
		uVar28 = uVar27;
		while ((iVar21 < param_2 && (iVar22 < 100))) {
			uVar11._4_4_ = (int)uVar26;
			iVar12 = (int)uVar28;
			uVar11 = FUN_10069b54(uVar11._4_4_, iVar12, (char)uVar14, (char)uVar15, (char)lVar16, (char)lVar17,
			    (char)lVar18, (char)lVar19, in_stack_ffffff78);
			if ((((int)uVar11 == 0) || (*(char *)(*(int *)puVar7 + uVar11._4_4_ * 0x70 + iVar12) != *(char *)((int)uVar25 * 0x70 + (int)uVar27 + *(int *)puVar7))) || ((uVar4 != 0 && ((lVar10 = abs(uVar26 - uVar25), 3 < (int)lVar10 || (lVar10 = abs(uVar28 - uVar27), 3 < (int)lVar10)))))) {
				iVar22 = iVar22 + 1;
			} else {
				uVar14 = uVar26;
				uVar15 = uVar28;
				FUN_10069c2c((ulonglong) * (uint *)puVar6, param_1, uVar11._4_4_, iVar12, (char)lVar16,
				    (char)lVar17, (char)lVar18, (char)lVar19, in_stack_ffffff78);
				if ((param_3 & 1) != 0) {
					uVar14 = uVar23 + (ulonglong) * (uint *)puVar6 * 0xe8;
					uVar11._4_4_ = (int)uVar14;
					*(int *)(uVar11._4_4_ + 0x94) = *(int *)(uVar11._4_4_ + 0x94) << 1;
					*(undefined4 *)(uVar11._4_4_ + 0x98) = *(undefined4 *)(uVar11._4_4_ + 0x94);
					*(undefined *)(uVar11._4_4_ + 0x9d) = puVar2[0x9d];
					if (uVar4 != 0) {
						*(undefined *)(uVar11._4_4_ + 0xd8) = (char)param_4;
						*(undefined *)(uVar11._4_4_ + 0xd9) = 1;
						*(undefined *)(uVar11._4_4_ + 0x9c) = puVar2[0x9c];
					}
					if (*(char *)(uVar11._4_4_ + 0x9c) != '\f') {
						puVar13 = (undefined4 *)(*(int *)(uVar11._4_4_ + 0xe0) + *(int *)(uVar11._4_4_ + 0x48) * 8 + 8);
						uVar1 = puVar13[1];
						*(undefined4 *)(uVar11._4_4_ + 0x54) = *puVar13;
						*(undefined4 *)(uVar11._4_4_ + 0x58) = uVar1;
						lVar10 = random(0x58, (ulonglong) * (uint *)(uVar11._4_4_ + 100) - 1, (char)uVar14,
						    (char)uVar15, (char)lVar16, (char)lVar17, (char)lVar18, (char)lVar19,
						    in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8b);
						puVar3 = puVar5 + *(int *)puVar6 * 0xe8;
						*(int *)(puVar3 + 0x68) = (int)lVar10 + 1;
						*(uint *)(puVar3 + 0xa0) = *(uint *)(puVar3 + 0xa0) & 0xfffffffb;
						*(undefined4 *)(puVar3 + 4) = 0;
					}
				}
				lVar24 = lVar24 + 1;
				iVar21 = iVar21 + 1;
				*(int *)puVar6 = *(int *)puVar6 + 1;
			}
			lVar10 = random(0x5e, 8, (char)uVar14, (char)uVar15, (char)lVar16, (char)lVar17, (char)lVar18,
			    (char)lVar19, in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8b);
			uVar26 = uVar26 + (ulonglong) * (uint *)(iVar8 + (int)lVar10 * 4);
			lVar10 = random(0x5e, 8, (char)uVar14, (char)uVar15, (char)lVar16, (char)lVar17, (char)lVar18,
			    (char)lVar19, in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8b);
			uVar28 = uVar28 + (ulonglong) * (uint *)(iVar8 + (int)lVar10 * 4);
		}
	} while (((int)lVar24 < param_2) && (local_58 = local_58 + 1, local_58 < 10));
	if (uVar4 != 0) {
		puVar5[param_4 * 0xe8 + 0xda] = (char)lVar24;
	}
	return;
}

void FUN_1006aab0(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	ulonglong uVar2;
	undefined uVar3;
	ulonglong uVar4;
	undefined uVar5;
	undefined7 uVar6;
	undefined uVar7;
	undefined7 uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined4 in_stack_ffffffc8;
	int *local_8[2];

	uVar8 = (undefined7)((ulonglong)param_5 >> 8);
	uVar9 = (undefined)param_5;
	uVar6 = (undefined7)((ulonglong)param_4 >> 8);
	uVar7 = (undefined)param_4;
	ppuVar1 = &toc;
	uVar2 = LoadFileInMem((ulonglong)_DAT_100f32e4, (undefined4 *)0x0, param_3, param_4, param_5, param_6,
	    param_7, param_8, in_stack_ffffffc8);
	local_8[0] = (int *)uVar2;
	uVar3 = (undefined)(*(int *)ppuVar1[-0x1cbb] << 1);
	uVar4 = (ulonglong)(uint)(*(int *)ppuVar1[-0x1cbc] << 1);
	FUN_1006aeb8(uVar2 & 0xffffffff, (ulonglong)(uint)(*(int *)ppuVar1[-0x1cbb] << 1), uVar4,
	    CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9), param_6, param_7, param_8, in_stack_ffffffc8);
	mem_free_dbg(local_8, uVar3, (char)uVar4, uVar7, uVar9, (char)param_6, (char)param_7, (char)param_8,
	    in_stack_ffffffc8);
	uVar2 = LoadFileInMem(ZEXT48(ppuVar1[-0x173c]), (undefined4 *)0x0, uVar4, CONCAT71(uVar6, uVar7),
	    CONCAT71(uVar8, uVar9), param_6, param_7, param_8, in_stack_ffffffc8);
	local_8[0] = (int *)uVar2;
	uVar3 = (undefined)(*(int *)ppuVar1[-0x1cbd] << 1);
	uVar4 = (ulonglong)(uint)(*(int *)ppuVar1[-0x1cbe] << 1);
	FUN_1006aeb8(uVar2 & 0xffffffff, (ulonglong)(uint)(*(int *)ppuVar1[-0x1cbd] << 1), uVar4,
	    CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9), param_6, param_7, param_8, in_stack_ffffffc8);
	mem_free_dbg(local_8, uVar3, (char)uVar4, uVar7, uVar9, (char)param_6, (char)param_7, (char)param_8,
	    in_stack_ffffffc8);
	uVar2 = LoadFileInMem(ZEXT48(ppuVar1[-0x173d]), (undefined4 *)0x0, uVar4, CONCAT71(uVar6, uVar7),
	    CONCAT71(uVar8, uVar9), param_6, param_7, param_8, in_stack_ffffffc8);
	local_8[0] = (int *)uVar2;
	uVar3 = (undefined)(*(int *)ppuVar1[-0x1cbf] << 1);
	uVar4 = (ulonglong)(uint)(*(int *)ppuVar1[-0x1cc0] << 1);
	FUN_1006aeb8(uVar2 & 0xffffffff, (ulonglong)(uint)(*(int *)ppuVar1[-0x1cbf] << 1), uVar4,
	    CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9), param_6, param_7, param_8, in_stack_ffffffc8);
	mem_free_dbg(local_8, uVar3, (char)uVar4, uVar7, uVar9, (char)param_6, (char)param_7, (char)param_8,
	    in_stack_ffffffc8);
	uVar2 = LoadFileInMem(ZEXT48(ppuVar1[-0x173e]), (undefined4 *)0x0, uVar4, CONCAT71(uVar6, uVar7),
	    CONCAT71(uVar8, uVar9), param_6, param_7, param_8, in_stack_ffffffc8);
	uVar12 = (undefined)param_8;
	uVar11 = (undefined)param_7;
	uVar10 = (undefined)param_6;
	local_8[0] = (int *)uVar2;
	uVar3 = (undefined)(*(int *)ppuVar1[-0x1cc1] << 1);
	uVar5 = (undefined)(*(int *)ppuVar1[-0x1cc2] << 1);
	FUN_1006aeb8(uVar2 & 0xffffffff, (ulonglong)(uint)(*(int *)ppuVar1[-0x1cc1] << 1),
	    (ulonglong)(uint)(*(int *)ppuVar1[-0x1cc2] << 1), CONCAT71(uVar6, uVar7),
	    CONCAT71(uVar8, uVar9), param_6, param_7, param_8, in_stack_ffffffc8);
	mem_free_dbg(local_8, uVar3, uVar5, uVar7, uVar9, uVar10, uVar11, uVar12, in_stack_ffffffc8);
	return;
}

void InitMonsters(ulonglong param_1, longlong param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	int *piVar1;
	uint uVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	ulonglong uVar7;
	ulonglong uVar8;
	undefined uVar9;
	undefined uVar12;
	int iVar10;
	int iVar11;
	undefined uVar13;
	undefined uVar15;
	longlong lVar14;
	longlong lVar16;
	undefined8 unaff_r21;
	longlong lVar17;
	undefined8 unaff_r22;
	undefined8 unaff_r23;
	undefined8 unaff_r24;
	uint *puVar18;
	uint *puVar19;
	undefined8 unaff_r25;
	int iVar20;
	undefined8 unaff_r26;
	longlong lVar21;
	longlong lVar22;
	undefined8 unaff_r27;
	int iVar23;
	undefined8 unaff_r28;
	longlong lVar24;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_fffffdd8;
	undefined in_stack_fffffddf;
	undefined in_stack_fffffdeb;
	undefined4 in_stack_fffffdf0;
	int local_1f8[115];
	undefined4 local_2c;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar6 = PTR_DAT_100f1f4c;
	puVar19 = (uint *)PTR_DAT_100f1edc;
	puVar5 = PTR_DAT_100f19a4;
	puVar4 = PTR_DAT_100f17f8;
	puVar3 = PTR_DAT_100f17ec;
	lVar16 = (longlong)param_8;
	lVar24 = (longlong)param_7;
	lVar22 = (longlong)param_6;
	uVar7 = ZEXT48(&toc);
	local_2c = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	lVar21 = 0;
	if (*PTR_DAT_100f17f8 == '\0') {
		FUN_1006b0f8(1, 0, 0, 0, 0, (char)param_6, (char)param_7, (char)param_8, in_stack_fffffdd8);
		FUN_1006b0f8(1, 0, 0, 0, 0, (char)lVar22, (char)lVar24, (char)lVar16, in_stack_fffffdd8);
		FUN_1006b0f8(1, 0, 0, 0, 0, (char)lVar22, (char)lVar24, (char)lVar16, in_stack_fffffdd8);
		param_2 = 0;
		param_3 = 0;
		param_4 = 0;
		param_5 = 0;
		param_1 = FUN_1006b0f8(1, 0, 0, 0, 0, (char)lVar22, (char)lVar24, (char)lVar16, in_stack_fffffdd8);
	}
	if ((*puVar4 == '\0') && (*puVar3 == '\x10')) {
		FUN_1006aab0(param_1, param_2, param_3, param_4, param_5, (int)lVar22, (int)lVar24, (int)lVar16,
		    in_stack_fffffdd8);
	}
	piVar1 = *(int **)((int)uVar7 + -0x70f8);
	uVar8 = ZEXT48(piVar1);
	iVar23 = *piVar1;
	if (*puVar3 == '\x0f') {
		iVar23 = 1;
	}
	iVar10 = 0;
	puVar18 = puVar19;
	while (true) {
		uVar15 = (undefined)param_4;
		uVar13 = (undefined)param_3;
		uVar12 = (undefined)param_2;
		if (iVar23 <= iVar10)
			break;
		lVar14 = -2;
		do {
			lVar17 = -2;
			do {
				param_3 = 0xf;
				param_4 = 0;
				param_2 = lVar17 + (ulonglong)puVar18[1];
				param_5 = 0;
				uVar8 = FUN_100b9be0(lVar14 + (ulonglong)*puVar18, param_2, 0xf, 0, 0, (char)lVar22, (char)lVar24,
				    (char)lVar16, in_stack_fffffdd8, in_stack_fffffddf, in_stack_fffffdf0);
				lVar17 = lVar17 + 1;
			} while ((int)lVar17 < 2);
			lVar14 = lVar14 + 1;
		} while ((int)lVar14 < 2);
		puVar18 = puVar18 + 4;
		iVar10 = iVar10 + 1;
	}
	uVar9 = FUN_1006a468(uVar8, param_2, param_3, param_4, param_5, (int)lVar22, (int)lVar24, (int)lVar16,
	    in_stack_fffffdd8);
	if (*puVar4 == '\0') {
		FUN_1006a330(uVar9, uVar12, uVar13, uVar15, (char)param_5, (char)lVar22, (char)lVar24, (char)lVar16,
		    in_stack_fffffdd8);
		iVar10 = 0;
		iVar11 = 0x10;
		do {
			iVar20 = 0x10;
			do {
				uVar8 = FUN_1009352c(iVar11, iVar20);
				if ((int)uVar8 == 0) {
					iVar10 = iVar10 + 1;
				}
				iVar20 = iVar20 + 1;
			} while (iVar20 < 0x60);
			iVar11 = iVar11 + 1;
		} while (iVar11 < 0x60);
		iVar11 = (int)uVar7;
		uVar2 = iVar10 / 0x1e + (iVar10 >> 0x1f);
		iVar10 = uVar2 + (uVar2 >> 0x1f);
		if (**(char **)(iVar11 + -0x77f0) != '\x01') {
			iVar10 = iVar10 + (iVar10 >> 1);
		}
		iVar20 = *(int *)puVar5;
		if (0xbe < iVar10 + iVar20) {
			iVar10 = 0xbe - iVar20;
		}
		puVar18 = *(uint **)(iVar11 + -0x7618);
		*(int *)puVar6 = iVar20 + iVar10;
		uVar8 = (ulonglong) * (uint *)(iVar11 + -0x7610);
		lVar14 = 0;
		uVar7 = (ulonglong)*puVar18;
		if (0 < (int)*puVar18) {
			do {
				if ((*(byte *)((int)uVar8 + 1) & 1) != 0) {
					iVar10 = (int)lVar21;
					lVar21 = lVar21 + 1;
					local_1f8[iVar10] = (int)lVar14;
				}
				uVar8 = uVar8 + 0x208;
				lVar14 = lVar14 + 1;
				uVar7 = uVar7 - 1;
			} while (uVar7 != 0);
		}
		while (true) {
			uVar13 = (undefined)lVar14;
			uVar12 = (undefined)uVar8;
			if (*(int *)puVar6 <= *(int *)puVar5)
				break;
			lVar14 = random(0x5f, lVar21, uVar12, uVar13, (char)param_5, (char)lVar22, (char)lVar24,
			    (char)lVar16, in_stack_fffffdd8, in_stack_fffffddf, in_stack_fffffdeb);
			iVar10 = local_1f8[(int)lVar14];
			if ((*puVar3 == '\x01') || (lVar14 = random(0x5f, 2, uVar12, uVar13, (char)param_5, (char)lVar22, (char)lVar24, (char)lVar16, in_stack_fffffdd8, in_stack_fffffddf, in_stack_fffffdeb), (int)lVar14 == 0)) {
				iVar11 = 1;
			} else {
				if (*puVar3 == '\x02') {
					lVar14 = random(0x5f, 2, uVar12, uVar13, (char)param_5, (char)lVar22, (char)lVar24,
					    (char)lVar16, in_stack_fffffdd8, in_stack_fffffddf, in_stack_fffffdeb);
					iVar11 = (int)lVar14 + 2;
				} else {
					lVar14 = random(0x5f, 3, uVar12, uVar13, (char)param_5, (char)lVar22, (char)lVar24,
					    (char)lVar16, in_stack_fffffdd8, in_stack_fffffddf, in_stack_fffffdeb);
					iVar11 = (int)lVar14 + 3;
				}
			}
			uVar8 = 0;
			lVar14 = 0;
			FUN_1006a79c(iVar10, iVar11, 0, 0, (char)param_5, (char)lVar22, (char)lVar24, (char)lVar16,
			    in_stack_fffffdd8);
		}
	}
	iVar10 = 0;
	while (iVar10 < iVar23) {
		lVar22 = -2;
		do {
			lVar24 = -2;
			do {
				FUN_100b9a64(lVar22 + (ulonglong)*puVar19, lVar24 + (ulonglong)puVar19[1], 0xf);
				lVar24 = lVar24 + 1;
			} while ((int)lVar24 < 2);
			lVar22 = lVar22 + 1;
		} while ((int)lVar22 < 2);
		puVar19 = puVar19 + 4;
		iVar10 = iVar10 + 1;
	}
	return;
}

void FUN_1006aeb8(longlong param_1, longlong param_2, longlong param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	uint uVar1;
	short sVar2;
	undefined *puVar3;
	int iVar4;
	int iVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined **ppuVar8;
	ulonglong uVar9;
	longlong lVar10;
	longlong lVar11;
	ulonglong uVar12;
	longlong lVar13;
	undefined8 uVar14;
	longlong lVar15;
	longlong lVar16;
	longlong lVar17;
	longlong lVar18;
	short *psVar19;
	longlong lVar20;
	longlong lVar21;
	undefined4 in_stack_ffffff98;

	puVar3 = PTR_DAT_100f1f44;
	puVar7 = PTR_DAT_100f1f24;
	puVar6 = PTR_DAT_100f19a4;
	lVar17 = (longlong)param_8;
	lVar16 = (longlong)param_7;
	lVar15 = (longlong)param_6;
	ppuVar8 = &toc;
	uVar9 = FUN_100b8f7c(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffff98);
	AddMonsterType(0x6d, 2);
	FUN_1006b0f8(1, 0, 0, 0, 0, (char)lVar15, (char)lVar16, (char)lVar17, in_stack_ffffff98);
	FUN_1006b0f8(1, 0, 0, 0, 0, (char)lVar15, (char)lVar16, (char)lVar17, in_stack_ffffff98);
	FUN_1006b0f8(1, 0, 0, 0, 0, (char)lVar15, (char)lVar16, (char)lVar17, in_stack_ffffff98);
	lVar13 = 0;
	uVar14 = 0;
	FUN_1006b0f8(1, 0, 0, 0, 0, (char)lVar15, (char)lVar16, (char)lVar17, in_stack_ffffff98);
	if ((*ppuVar8[-0x1df6] != '\0') && (*ppuVar8[-0x1df8] == '\x05')) {
		AddMonsterType(puVar3[0x80], 4);
		AddMonsterType(puVar3[0xa0], 4);
		AddMonsterType(puVar3[0xc0], 4);
		SetMapMonsters(4, 0, 0);
		SetMapMonsters(5, 0, 0);
		SetMapMonsters(6, 0, 0);
	}
	puVar3 = (undefined *)uVar9;
	sVar2 = CONCAT11(puVar3[1], *puVar3);
	lVar11 = (longlong)sVar2;
	uVar1 = (int)sVar2 & 0xffff;
	uVar12 = (ulonglong)uVar1;
	iVar4 = ((int)sVar2 & 0x7fffU) * 2;
	iVar5 = ((int)CONCAT11(puVar3[3], puVar3[2]) & 0x7fffU) * 2;
	lVar18 = uVar9 + 4 + (ulonglong)(uVar1 * ((int)CONCAT11(puVar3[3], puVar3[2]) & 0xffffU) * 2) + (ulonglong)(uint)(iVar4 * iVar5 * 2);
	lVar20 = 0;
	while ((int)lVar20 < iVar5) {
		lVar10 = lVar20 + param_3 + 0x10;
		lVar21 = 0;
		while ((int)lVar21 < iVar4) {
			psVar19 = (short *)lVar18;
			if (*psVar19 != 0) {
				lVar11 = AddMonsterType(puVar7[(int)CONCAT11(*(undefined *)((int)psVar19 + 1),
				                                 *(undefined *)psVar19)
				                          + -1],
				    2);
				uVar1 = *(uint *)puVar6;
				uVar12 = lVar21 + param_2 + 0x10;
				*(uint *)puVar6 = uVar1 + 1;
				lVar13 = lVar10;
				FUN_10069c2c((ulonglong)uVar1, (int)lVar11, (int)uVar12, (int)lVar10, (char)uVar14, (char)lVar15,
				    (char)lVar16, (char)lVar17, in_stack_ffffff98);
			}
			lVar18 = lVar18 + 2;
			lVar21 = lVar21 + 1;
		}
		lVar20 = lVar20 + 1;
	}
	FUN_100b9100((int)param_1, (char)lVar11, (char)uVar12, (char)lVar13, (char)uVar14, (char)lVar15,
	    (char)lVar16, (char)lVar17, in_stack_ffffff98);
	return;
}

void FUN_1006b0bc(int param_1)

{
	int iVar1;
	undefined4 uVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined4 *puVar5;

	puVar4 = PTR_DAT_100f19a8;
	puVar3 = PTR_DAT_100f19a4;
	iVar1 = *(int *)PTR_DAT_100f19a4;
	puVar5 = (undefined4 *)(PTR_DAT_100f19a8 + param_1 * 4);
	*(int *)PTR_DAT_100f19a4 = iVar1 + -1;
	uVar2 = *(undefined4 *)(puVar4 + (iVar1 + -1) * 4);
	*(undefined4 *)(puVar4 + *(int *)puVar3 * 4) = *puVar5;
	*puVar5 = uVar2;
	return;
}

ulonglong FUN_1006b0f8(int param_1, int param_2, int param_3, int param_4, int param_5, undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int iVar1;
	uint uVar2;
	undefined *puVar3;
	undefined *puVar4;
	ulonglong uVar5;
	undefined4 in_stack_ffffffc8;

	puVar4 = PTR_DAT_100f19a8;
	puVar3 = PTR_DAT_100f19a4;
	iVar1 = *(int *)PTR_DAT_100f19a4;
	if (iVar1 < 200) {
		*(int *)PTR_DAT_100f19a4 = iVar1 + 1;
		uVar2 = *(uint *)(puVar4 + iVar1 * 4);
		uVar5 = (ulonglong)uVar2;
		if (param_5 != 0) {
			*(short *)(*(int *)PTR_DAT_100f1954 + param_1 * 0xe0 + param_2 * 2) = (short)uVar2 + 1;
		}
		FUN_10069648(uVar2, param_3, param_4, param_1, param_2, (char)puVar3, (char)param_2, (char)param_1,
		    in_stack_ffffffc8);
	} else {
		uVar5 = 0xffffffffffffffff;
	}
	return uVar5;
}

void NewMonsterAnim(int param_1, int param_2, int param_3)

{
	undefined4 uVar1;
	int iVar2;
	undefined *puVar3;

	iVar2 = param_2 + param_3 * 8;
	uVar1 = *(undefined4 *)(iVar2 + 8);
	puVar3 = PTR_DAT_100f187c + param_1 * 0xe8;
	*(undefined4 *)(puVar3 + 0x54) = *(undefined4 *)(iVar2 + 4);
	*(undefined4 *)(puVar3 + 0x58) = uVar1;
	*(undefined4 *)(puVar3 + 100) = *(undefined4 *)(param_2 + 0x44);
	*(undefined4 *)(puVar3 + 0x68) = 1;
	*(undefined4 *)(puVar3 + 0x60) = 0;
	*(undefined4 *)(puVar3 + 0x5c) = *(undefined4 *)(param_2 + 0x48);
	*(int *)(puVar3 + 0x48) = param_3;
	*(uint *)(puVar3 + 0xa0) = *(uint *)(puVar3 + 0xa0) & 0xfffffff9;
	return;
}

undefined8 FUN_1006b1e8(int param_1)

{
	char cVar1;

	cVar1 = PTR_DAT_100f187c[param_1 * 0xe8 + 0x9c];
	if ((((cVar1 != '\x03') && (cVar1 != '\a')) && (cVar1 != '\x0e')) && (cVar1 != '\x1d')) {
		return 0;
	}
	return 1;
}

undefined8 M_Talker(int param_1)

{
	char cVar1;

	cVar1 = PTR_DAT_100f187c[param_1 * 0xe8 + 0x9c];
	if ((((cVar1 != '\x1c') && (cVar1 != '\x12')) && (1 < (byte)(cVar1 - 0x16U))) && (2 < (byte)(cVar1 - 0x1dU))) {
		return 0;
	}
	return 1;
}

void FUN_1006b278(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	int iVar2;
	uint uVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined8 uVar8;
	ulonglong uVar9;
	undefined **ppuVar10;
	longlong lVar11;
	longlong lVar12;
	uint *puVar13;
	undefined *puVar14;
	int *piVar15;
	undefined *puVar16;
	int iVar17;
	undefined *puVar18;
	ulonglong unaff_r27;
	ulonglong unaff_r28;
	uint uVar19;
	longlong lVar20;
	int iVar21;

	puVar7 = PTR_DAT_100f1a48;
	puVar6 = PTR_DAT_100f19a4;
	puVar5 = PTR_DAT_100f187c;
	puVar4 = PTR_DAT_100f17ec;
	puVar14 = PTR_DAT_100f17e0;
	uVar9 = ZEXT48(&toc);
	ppuVar10 = &toc;
	iVar21 = -1;
	lVar20 = -1;
	uVar19 = 0;
	puVar18 = PTR_DAT_100f187c + param_1 * 0xe8;
	if ((*(uint *)(puVar18 + 0xa0) & 0x20) == 0) {
		iVar17 = 0;
		puVar16 = PTR_DAT_100f1828;
		do {
			if ((((puVar16[0x1d] != '\0') && ((uint)(byte)*puVar4 == *(uint *)(puVar16 + 0x34))) && (puVar16[0x13b] == '\0')) && ((*(int *)(puVar16 + 0x194) != 0 || (*puVar14 == '\x01')))) {
				iVar1 = *(int *)puVar7;
				uVar8 = countLeadingZeros((int)*(char *)(iVar1 + *(int *)(puVar16 + 0x38) * 0x70 + *(uint *)(puVar16 + 0x3c)) - (int)*(char *)(iVar1 + *(int *)(puVar18 + 0x20) * 0x70 + *(uint *)(puVar18 + 0x24)));
				uVar3 = (uint)uVar8 >> 5 & 0xff;
				lVar11 = abs((ulonglong) * (uint *)(puVar18 + 0x24) - (ulonglong) * (uint *)(puVar16 + 0x3c));
				lVar12 = abs((ulonglong) * (uint *)(puVar18 + 0x20) - (ulonglong) * (uint *)(puVar16 + 0x38));
				if ((int)lVar11 < (int)lVar12) {
					lVar11 = abs((ulonglong) * (uint *)(puVar18 + 0x20) - (ulonglong) * (uint *)(puVar16 + 0x38));
				} else {
					lVar11 = abs((ulonglong) * (uint *)(puVar18 + 0x24) - (ulonglong) * (uint *)(puVar16 + 0x3c));
				}
				if ((((uVar3 != 0) && (uVar19 == 0)) || (((uVar3 != 0 || (uVar19 == 0)) && ((int)lVar11 < (int)lVar20)))) || (iVar21 == -1)) {
					*(uint *)(puVar18 + 0xa0) = *(uint *)(puVar18 + 0xa0) & 0xffffffef;
					unaff_r28 = (ulonglong)(*(uint *)(puVar16 + 0x40) & 0xff);
					unaff_r27 = (ulonglong)(*(uint *)(puVar16 + 0x44) & 0xff);
					lVar20 = lVar11;
					uVar19 = uVar3;
					iVar21 = iVar17;
				}
			}
			ppuVar10 = (undefined **)uVar9;
			iVar17 = iVar17 + 1;
			puVar16 = puVar16 + 0x55ec;
		} while (iVar17 < 4);
	}
	piVar15 = (int *)ppuVar10[-0x1d8a];
	iVar17 = 0;
	do {
		if (*(int *)puVar6 <= iVar17) {
			if (iVar21 == -1) {
				*(uint *)(puVar18 + 0xa0) = *(uint *)(puVar18 + 0xa0) | 0x400;
			} else {
				*(int *)(puVar18 + 0x4c) = iVar21;
				puVar18[0x50] = (char)unaff_r28;
				puVar18[0x51] = (char)unaff_r27;
				*(uint *)(puVar18 + 0xa0) = *(uint *)(puVar18 + 0xa0) & 0xfffffbff;
			}
			return;
		}
		iVar1 = *piVar15;
		if (iVar1 != param_1) {
			puVar14 = puVar5 + iVar1 * 0xe8;
			puVar13 = (uint *)(puVar14 + 0x20);
			if ((*(int *)(puVar14 + 0x20) != 1) || (*(int *)(puVar14 + 0x24) != 0)) {
				uVar8 = M_Talker(iVar1);
				if ((int)uVar8 != 0) {
					if (*(int *)(puVar14 + 0xd4) != 0)
						goto LAB_1006b59c;
				}
				if ((*(uint *)(puVar18 + 0xa0) & 0x20) == 0) {
					lVar11 = abs((ulonglong)*puVar13 - (ulonglong) * (uint *)(puVar18 + 0x20));
					if ((int)lVar11 < 2) {
						lVar11 = abs((ulonglong) * (uint *)(puVar14 + 0x24) - (ulonglong) * (uint *)(puVar18 + 0x24));
						if ((int)lVar11 < 2)
							goto LAB_1006b4a0;
					}
					uVar8 = FUN_1006b1e8(param_1);
					if ((int)uVar8 == 0)
						goto LAB_1006b59c;
				}
			LAB_1006b4a0:
				if (((*(uint *)(puVar18 + 0xa0) & 0x20) != 0) || ((*(uint *)(puVar14 + 0xa0) & 0x20) != 0)) {
					iVar2 = *(int *)puVar7;
					uVar8 = countLeadingZeros((int)*(char *)(iVar2 + *puVar13 * 0x70 + *(uint *)(puVar14 + 0x24)) - (int)*(char *)(iVar2 + *(int *)(puVar18 + 0x20) * 0x70 + *(uint *)(puVar18 + 0x24)));
					uVar3 = (uint)uVar8 >> 5 & 0xff;
					lVar11 = abs((ulonglong) * (uint *)(puVar18 + 0x24) - (ulonglong) * (uint *)(puVar14 + 0x24));
					lVar12 = abs((ulonglong) * (uint *)(puVar18 + 0x20) - (ulonglong)*puVar13);
					if ((int)lVar11 < (int)lVar12) {
						lVar11 = abs((ulonglong) * (uint *)(puVar18 + 0x20) - (ulonglong)*puVar13);
					} else {
						lVar11 = abs((ulonglong) * (uint *)(puVar18 + 0x24) - (ulonglong) * (uint *)(puVar14 + 0x24));
					}
					if ((((uVar3 != 0) && (uVar19 == 0)) || (((uVar3 != 0 || (uVar19 == 0)) && ((int)lVar11 < (int)lVar20)))) || (iVar21 == -1)) {
						*(uint *)(puVar18 + 0xa0) = *(uint *)(puVar18 + 0xa0) | 0x10;
						unaff_r28 = (ulonglong)(*(uint *)(puVar14 + 0x28) & 0xff);
						unaff_r27 = (ulonglong)(*(uint *)(puVar14 + 0x2c) & 0xff);
						lVar20 = lVar11;
						uVar19 = uVar3;
						iVar21 = iVar1;
					}
				}
			}
		}
	LAB_1006b59c:
		piVar15 = piVar15 + 1;
		iVar17 = iVar17 + 1;
	} while (true);
}

void FUN_1006b5f4(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;

	puVar1 = PTR_DAT_100f187c + param_1 * 0xe8;
	GetDirection((ulonglong) * (uint *)(puVar1 + 0x20), *(int *)(puVar1 + 0x24),
	    (ulonglong)(byte)puVar1[0x50], (uint)(byte)puVar1[0x51]);
	return;
}

void M_CheckEFlag(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	ulonglong uVar2;
	undefined **ppuVar3;
	longlong lVar4;
	longlong lVar5;
	undefined *puVar6;
	int iVar7;

	puVar1 = PTR_DAT_100f187c;
	ppuVar3 = &toc;
	param_1 = param_1 * 0xe8;
	puVar6 = PTR_DAT_100f187c + param_1;
	lVar5 = (ulonglong) * (uint *)(puVar6 + 0x20) - 1;
	iVar7 = *(int *)(puVar6 + 0x24) + 1;
	if (iRam100fb824 == 0) {
		uVar2 = (ulonglong) * (uint *)PTR_DAT_100f1a50 + lVar5 * 0xe00 + (ulonglong)(uint)(iVar7 * 0x20);
		uVar2._4_4_ = (uint)uVar2;
		if ((uVar2 & 0xffffffff) < (ulonglong) * (uint *)PTR_DAT_100f1a50) {
			*(undefined4 *)(puVar6 + 0x6c) = 0;
			return;
		}
	} else {
		ppuVar3 = &toc;
		lVar4 = IsometricCoord(lVar5, iVar7);
		uVar2._4_4_ = *(uint *)ppuVar3[-0x1d61] + (int)lVar4 * 0x20;
		if (uVar2._4_4_ < *(uint *)ppuVar3[-0x1d61]) {
			*(undefined4 *)(puVar6 + 0x6c) = 0;
			return;
		}
	}
	if (((ulonglong)(ushort)(*(ushort *)(uVar2._4_4_ + 4) | *(ushort *)(uVar2._4_4_ + 6) | *(ushort *)(uVar2._4_4_ + 8) | *(ushort *)(uVar2._4_4_ + 10) | *(ushort *)(uVar2._4_4_ + 0xc) | *(ushort *)(uVar2._4_4_ + 0xe) | *(ushort *)(uVar2._4_4_ + 0x10) | *(ushort *)(uVar2._4_4_ + 0x12)) | (longlong) * (char *)(*(int *)ppuVar3[-0x1d66] + (int)lVar5 * 0x70 + iVar7)) == 0) {
		*(undefined4 *)(puVar1 + param_1 + 0x6c) = 0;
	} else {
		*(undefined4 *)(puVar1 + param_1 + 0x6c) = 1;
	}
	return;
}

void FUN_1006b758(int param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	char *pcVar1;
	int iVar2;
	int iVar3;
	undefined *puVar4;
	undefined uVar5;
	longlong lVar6;
	undefined uVar7;
	longlong lVar8;
	ulonglong uVar9;
	undefined4 in_stack_ffffffb8;

	puVar4 = PTR_DAT_100f187c;
	uVar9 = ZEXT48(PTR_DAT_100f187c);
	FUN_10069614(param_1);
	lVar8 = (longlong)param_1 * 0xe8;
	pcVar1 = *(char **)(puVar4 + (int)lVar8 + 0xe0);
	if (*pcVar1 == 'm') {
		NewMonsterAnim(param_1, (int)(pcVar1 + 0x50), param_2);
	} else {
		NewMonsterAnim(param_1, (int)(pcVar1 + 4), param_2);
	}
	lVar6 = uVar9 + lVar8;
	lVar8 = uVar9 + lVar8;
	iVar2 = (int)lVar6;
	iVar3 = (int)lVar8;
	*(undefined4 *)(iVar3 + 0x74) = *(undefined4 *)(iVar2 + 4);
	*(undefined4 *)(iVar3 + 0x78) = 0;
	*(undefined4 *)(iVar2 + 4) = 0;
	*(undefined4 *)(iVar3 + 0x38) = 0;
	*(undefined4 *)(iVar3 + 0x3c) = 0;
	*(undefined4 *)(iVar3 + 0x28) = *(undefined4 *)(iVar3 + 0x20);
	*(undefined4 *)(iVar3 + 0x2c) = *(undefined4 *)(iVar3 + 0x24);
	*(undefined4 *)(iVar3 + 0x30) = *(undefined4 *)(iVar3 + 0x20);
	*(undefined4 *)(iVar3 + 0x34) = *(undefined4 *)(iVar3 + 0x24);
	*(int *)(iVar3 + 0x48) = param_2;
	uVar5 = (undefined)lVar8;
	uVar7 = (undefined)lVar6;
	M_CheckEFlag(param_1, uVar5, uVar7, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	FUN_1006b278(param_1, uVar5, uVar7, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	return;
}

void FUN_1006b838(int param_1, int param_2)

{
	undefined *puVar1;

	if (param_2 < 1) {
		return;
	}
	puVar1 = PTR_DAT_100f187c + param_1 * 0xe8;
	if (puVar1[0x9c] == '\x1c') {
		return;
	}
	*(int *)(puVar1 + 0x78) = param_2;
	*(undefined4 *)(puVar1 + 4) = 0xd;
	return;
}

void FUN_1006b868(int param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined uVar2;
	longlong lVar1;
	undefined uVar3;
	undefined *puVar4;
	undefined4 in_stack_ffffffb8;

	uVar2 = (undefined)param_2;
	puVar4 = PTR_DAT_100f187c + param_1 * 0xe8;
	uVar3 = (undefined) * (uint *)(puVar4 + 0xe0);
	lVar1 = (ulonglong) * (uint *)(puVar4 + 0xe0) + 0x180;
	lVar1._7_1_ = (undefined)lVar1;
	NewMonsterAnim(param_1, (int)lVar1, param_2);
	*(undefined4 *)(puVar4 + 4) = 0xb;
	*(undefined4 *)(puVar4 + 0x38) = 0;
	*(undefined4 *)(puVar4 + 0x3c) = 0;
	*(undefined4 *)(puVar4 + 0x28) = *(undefined4 *)(puVar4 + 0x20);
	*(undefined4 *)(puVar4 + 0x2c) = *(undefined4 *)(puVar4 + 0x24);
	*(undefined4 *)(puVar4 + 0x30) = *(undefined4 *)(puVar4 + 0x20);
	*(undefined4 *)(puVar4 + 0x34) = *(undefined4 *)(puVar4 + 0x24);
	*(int *)(puVar4 + 0x48) = param_2;
	M_CheckEFlag(param_1, (undefined)lVar1, uVar2, uVar3, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	return;
}

void FUN_1006b904(longlong param_1, undefined4 param_2, undefined4 param_3, int param_4, int param_5,
    int param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	int iVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	int iVar12;
	int iVar13;
	undefined4 in_stack_ffffffb8;

	uVar8 = (undefined)param_6;
	uVar7 = (undefined)param_5;
	uVar6 = (undefined)param_4;
	iVar4 = (int)param_1;
	iVar12 = iVar4 * 0xe8;
	uVar11 = (undefined)(-1 - param_1);
	puVar1 = PTR_DAT_100f187c + iVar12;
	puVar2 = PTR_DAT_100f187c + iVar12;
	puVar3 = PTR_DAT_100f187c + iVar12;
	uVar10 = (undefined) * (int *)PTR_DAT_100f1954;
	iVar12 = param_4 + *(int *)(puVar1 + 0x20);
	iVar13 = param_5 + *(int *)(puVar2 + 0x24);
	*(undefined2 *)(*(int *)PTR_DAT_100f1954 + iVar12 * 0xe0 + iVar13 * 2) = (short)(-1 - param_1);
	*(undefined4 *)(puVar3 + 4) = 1;
	*(undefined4 *)(puVar3 + 0x30) = *(undefined4 *)(puVar1 + 0x20);
	*(undefined4 *)(puVar3 + 0x34) = *(undefined4 *)(puVar2 + 0x24);
	*(int *)(puVar3 + 0x28) = iVar12;
	*(int *)(puVar3 + 0x2c) = iVar13;
	*(undefined4 *)(puVar3 + 0x40) = param_2;
	*(undefined4 *)(puVar3 + 0x44) = param_3;
	*(int *)(puVar3 + 0x74) = param_4;
	*(int *)(puVar3 + 0x78) = param_5;
	*(int *)(puVar3 + 0x7c) = param_6;
	*(int *)(puVar3 + 0x48) = param_6;
	uVar5 = (undefined)((ulonglong) * (uint *)(puVar3 + 0xe0) + 0x50);
	uVar9 = uVar8;
	NewMonsterAnim(iVar4, (int)((ulonglong) * (uint *)(puVar3 + 0xe0) + 0x50), param_6);
	*(undefined4 *)(puVar3 + 0x88) = 0;
	*(undefined4 *)(puVar3 + 0x8c) = 0;
	*(undefined4 *)(puVar3 + 0x90) = 0;
	M_CheckEFlag(iVar4, uVar5, uVar8, uVar6, uVar7, uVar9, uVar10, uVar11, in_stack_ffffffb8);
	return;
}

void FUN_1006b9e8(undefined8 param_1, undefined4 param_2, undefined4 param_3, int param_4, int param_5,
    int param_6, int param_7, int param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	int iVar5;
	int iVar6;
	undefined *puVar7;
	longlong lVar8;
	undefined4 uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	longlong lVar14;
	int iVar15;
	undefined uVar16;
	undefined uVar17;
	undefined uVar18;
	undefined4 in_stack_ffffff98;

	puVar7 = PTR_DAT_100f1954;
	puVar4 = PTR_DAT_100f187c;
	uVar11 = (undefined)param_8;
	uVar13 = (undefined)param_5;
	uVar12 = (undefined)param_4;
	iVar6 = (int)param_1;
	iVar5 = iVar6 * 0xe8;
	puVar1 = PTR_DAT_100f187c + iVar5;
	puVar2 = PTR_DAT_100f187c + iVar5;
	lVar8 = (longlong)param_6 + (ulonglong) * (uint *)(puVar1 + 0x20);
	lVar14 = (longlong)param_7 + (ulonglong) * (uint *)(puVar2 + 0x24);
	uVar16 = (undefined)lVar14;
	puVar3 = PTR_DAT_100f187c + iVar5;
	*(short *)(*(int *)PTR_DAT_100f1954 + *(uint *)(puVar1 + 0x20) * 0xe0 + *(uint *)(puVar2 + 0x24) * 2) = -1 - (short)param_1;
	iVar15 = (int)lVar14;
	*(undefined4 *)(puVar3 + 0x74) = *(undefined4 *)(puVar1 + 0x20);
	lVar14 = lVar8 * 0xe0 + (ulonglong)(uint)(iVar15 << 1);
	uVar17 = (undefined)lVar14;
	*(undefined4 *)(puVar3 + 0x78) = *(undefined4 *)(puVar2 + 0x24);
	*(undefined4 *)(puVar3 + 0x30) = *(undefined4 *)(puVar1 + 0x20);
	*(undefined4 *)(puVar3 + 0x34) = *(undefined4 *)(puVar2 + 0x24);
	uVar9 = (undefined4)lVar8;
	*(undefined4 *)(puVar1 + 0x20) = uVar9;
	*(int *)(puVar2 + 0x24) = iVar15;
	*(undefined4 *)(puVar3 + 0x28) = uVar9;
	*(int *)(puVar3 + 0x2c) = iVar15;
	*(short *)(*(int *)puVar7 + (int)lVar14) = (short)param_1 + 1;
	uVar18 = uVar11;
	if (puVar3[0xc0] != '\0') {
		uVar18 = uVar11;
		ChangeLightXY((uint)(byte)puVar3[0xdb], *(undefined4 *)(puVar1 + 0x20), *(int *)(puVar2 + 0x24));
	}
	puVar4 = puVar4 + iVar5;
	*(int *)(puVar4 + 0x38) = param_4;
	*(int *)(puVar4 + 0x3c) = param_5;
	*(undefined4 *)(puVar4 + 4) = 2;
	*(undefined4 *)(puVar4 + 0x40) = param_2;
	*(undefined4 *)(puVar4 + 0x44) = param_3;
	*(int *)(puVar4 + 0x7c) = param_8;
	*(int *)(puVar4 + 0x48) = param_8;
	uVar10 = (undefined)((ulonglong) * (uint *)(puVar4 + 0xe0) + 0x50);
	NewMonsterAnim(iVar6, (int)((ulonglong) * (uint *)(puVar4 + 0xe0) + 0x50), param_8);
	*(int *)(puVar4 + 0x88) = param_4 << 4;
	*(int *)(puVar4 + 0x8c) = param_5 << 4;
	*(undefined4 *)(puVar4 + 0x90) = 0;
	M_CheckEFlag(iVar6, uVar10, uVar11, uVar12, uVar13, uVar16, uVar17, uVar18, in_stack_ffffff98);
	return;
}

void FUN_1006bb20(undefined8 param_1, undefined4 param_2, undefined4 param_3, int param_4, int param_5,
    int param_6, int param_7, int param_8, undefined4 param_9, undefined param_10,
    uint param_11, int param_12)

{
	int *piVar1;
	uint *puVar2;
	uint *puVar3;
	undefined *puVar4;
	int iVar5;
	int iVar6;
	int iVar7;
	undefined *puVar8;
	undefined **ppuVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	short sVar13;
	undefined uVar14;
	undefined uVar15;
	undefined uVar16;
	undefined uVar17;
	longlong lVar18;
	undefined4 uVar19;
	longlong lVar20;
	undefined4 uVar21;
	undefined4 in_stack_ffffff88;

	puVar8 = PTR_DAT_100f1954;
	puVar4 = PTR_DAT_100f187c;
	uVar16 = (undefined)param_8;
	uVar15 = (undefined)param_7;
	ppuVar9 = &toc;
	iVar7 = (int)param_1;
	iVar6 = iVar7 * 0xe8;
	puVar2 = (uint *)(PTR_DAT_100f187c + iVar6 + 0x20);
	puVar3 = (uint *)(PTR_DAT_100f187c + iVar6 + 0x24);
	param_6 = param_6 + *puVar2;
	uVar17 = (undefined)param_12;
	lVar18 = (ulonglong)param_11 + (ulonglong)*puVar3;
	param_7 = param_7 + *puVar3;
	lVar20 = (longlong)param_8 + (ulonglong)*puVar2;
	uVar21 = (undefined4)lVar20;
	uVar19 = (undefined4)lVar18;
	if ((PTR_DAT_100f187c + iVar6)[0xc0] != '\0') {
		ppuVar9 = &toc;
		ChangeLightXY((uint)(byte)(PTR_DAT_100f187c + iVar6)[0xdb], uVar21, uVar19);
	}
	sVar13 = -1 - (short)param_1;
	puVar4 = puVar4 + iVar6;
	piVar1 = (int *)ppuVar9[-0x1de7];
	lVar18 = lVar20 * 0x70 + lVar18;
	uVar11 = (undefined)lVar18;
	uVar14 = (undefined)sVar13;
	*(short *)(*(int *)puVar8 + *puVar2 * 0xe0 + *puVar3 * 2) = sVar13;
	*(short *)(*(int *)puVar8 + param_6 * 0xe0 + param_7 * 2) = sVar13;
	*(undefined4 *)(puVar4 + 0x80) = uVar21;
	*(undefined4 *)(puVar4 + 0x84) = uVar19;
	iVar6 = *piVar1;
	uVar12 = (undefined)iVar6;
	iVar5 = (int)lVar18;
	*(byte *)(iVar6 + iVar5) = *(byte *)(iVar6 + iVar5) | 0x10;
	*(uint *)(puVar4 + 0x30) = *puVar2;
	*(uint *)(puVar4 + 0x34) = *puVar3;
	*(int *)(puVar4 + 0x28) = param_6;
	*(int *)(puVar4 + 0x2c) = param_7;
	*(int *)(puVar4 + 0x38) = param_4;
	*(int *)(puVar4 + 0x3c) = param_5;
	*(undefined4 *)(puVar4 + 4) = 3;
	*(undefined4 *)(puVar4 + 0x40) = param_2;
	*(undefined4 *)(puVar4 + 0x44) = param_3;
	*(int *)(puVar4 + 0x74) = param_6;
	*(int *)(puVar4 + 0x78) = param_7;
	*(int *)(puVar4 + 0x7c) = param_12;
	*(int *)(puVar4 + 0x48) = param_12;
	uVar10 = (undefined)((ulonglong) * (uint *)(puVar4 + 0xe0) + 0x50);
	NewMonsterAnim(iVar7, (int)((ulonglong) * (uint *)(puVar4 + 0xe0) + 0x50), param_12);
	*(int *)(puVar4 + 0x88) = param_4 << 4;
	*(int *)(puVar4 + 0x8c) = param_5 << 4;
	*(undefined4 *)(puVar4 + 0x90) = 0;
	M_CheckEFlag(iVar7, uVar10, uVar17, uVar11, uVar12, uVar14, uVar15, uVar16, in_stack_ffffff88);
	return;
}

void FUN_1006bc80(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined uVar2;
	undefined *puVar3;
	undefined4 in_stack_ffffffb8;

	puVar3 = PTR_DAT_100f187c;
	iVar1 = FUN_1006b5f4(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	iVar1._3_1_ = (undefined)iVar1;
	puVar3 = puVar3 + param_1 * 0xe8;
	uVar2 = (undefined)((ulonglong) * (uint *)(puVar3 + 0xe0) + 0x9c);
	NewMonsterAnim(param_1, (int)((ulonglong) * (uint *)(puVar3 + 0xe0) + 0x9c), iVar1);
	*(undefined4 *)(puVar3 + 4) = 4;
	*(undefined4 *)(puVar3 + 0x38) = 0;
	*(undefined4 *)(puVar3 + 0x3c) = 0;
	*(undefined4 *)(puVar3 + 0x28) = *(undefined4 *)(puVar3 + 0x20);
	*(undefined4 *)(puVar3 + 0x2c) = *(undefined4 *)(puVar3 + 0x24);
	*(undefined4 *)(puVar3 + 0x30) = *(undefined4 *)(puVar3 + 0x20);
	*(undefined4 *)(puVar3 + 0x34) = *(undefined4 *)(puVar3 + 0x24);
	*(int *)(puVar3 + 0x48) = iVar1;
	M_CheckEFlag(param_1, uVar2, (undefined)iVar1, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	return;
}

void FUN_1006bd20(int param_1, undefined4 param_2, undefined4 param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined uVar2;
	undefined *puVar3;
	undefined4 in_stack_ffffffb8;

	puVar3 = PTR_DAT_100f187c;
	iVar1 = FUN_1006b5f4(param_1, (char)param_2, (char)param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	iVar1._3_1_ = (undefined)iVar1;
	puVar3 = puVar3 + param_1 * 0xe8;
	uVar2 = (undefined)((ulonglong) * (uint *)(puVar3 + 0xe0) + 0x9c);
	NewMonsterAnim(param_1, (int)((ulonglong) * (uint *)(puVar3 + 0xe0) + 0x9c), iVar1);
	*(undefined4 *)(puVar3 + 4) = 10;
	*(undefined4 *)(puVar3 + 0x74) = param_2;
	*(undefined4 *)(puVar3 + 0x78) = param_3;
	*(undefined4 *)(puVar3 + 0x38) = 0;
	*(undefined4 *)(puVar3 + 0x3c) = 0;
	*(undefined4 *)(puVar3 + 0x28) = *(undefined4 *)(puVar3 + 0x20);
	*(undefined4 *)(puVar3 + 0x2c) = *(undefined4 *)(puVar3 + 0x24);
	*(undefined4 *)(puVar3 + 0x30) = *(undefined4 *)(puVar3 + 0x20);
	*(undefined4 *)(puVar3 + 0x34) = *(undefined4 *)(puVar3 + 0x24);
	*(int *)(puVar3 + 0x48) = iVar1;
	M_CheckEFlag(param_1, uVar2, (undefined)iVar1, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	return;
}

void FUN_1006bdc0(int param_1, undefined4 param_2, undefined4 param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined uVar2;
	undefined *puVar3;
	undefined4 in_stack_ffffffb8;

	puVar3 = PTR_DAT_100f187c;
	iVar1 = FUN_1006b5f4(param_1, (char)param_2, (char)param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	iVar1._3_1_ = (undefined)iVar1;
	puVar3 = puVar3 + param_1 * 0xe8;
	uVar2 = (undefined)((ulonglong) * (uint *)(puVar3 + 0xe0) + 0x180);
	NewMonsterAnim(param_1, (int)((ulonglong) * (uint *)(puVar3 + 0xe0) + 0x180), iVar1);
	*(undefined4 *)(puVar3 + 4) = 0xc;
	*(undefined4 *)(puVar3 + 0x74) = param_2;
	*(undefined4 *)(puVar3 + 0x78) = 0;
	*(undefined4 *)(puVar3 + 0x7c) = param_3;
	*(undefined4 *)(puVar3 + 0x38) = 0;
	*(undefined4 *)(puVar3 + 0x3c) = 0;
	*(undefined4 *)(puVar3 + 0x28) = *(undefined4 *)(puVar3 + 0x20);
	*(undefined4 *)(puVar3 + 0x2c) = *(undefined4 *)(puVar3 + 0x24);
	*(undefined4 *)(puVar3 + 0x30) = *(undefined4 *)(puVar3 + 0x20);
	*(undefined4 *)(puVar3 + 0x34) = *(undefined4 *)(puVar3 + 0x24);
	*(int *)(puVar3 + 0x48) = iVar1;
	M_CheckEFlag(param_1, uVar2, (undefined)iVar1, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	return;
}

void FUN_1006be64(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined uVar2;
	undefined *puVar3;
	undefined4 in_stack_ffffffb8;

	puVar3 = PTR_DAT_100f187c;
	iVar1 = FUN_1006b5f4(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	iVar1._3_1_ = (undefined)iVar1;
	puVar3 = puVar3 + param_1 * 0xe8;
	uVar2 = (undefined)((ulonglong) * (uint *)(puVar3 + 0xe0) + 0x180);
	NewMonsterAnim(param_1, (int)((ulonglong) * (uint *)(puVar3 + 0xe0) + 0x180), iVar1);
	*(undefined4 *)(puVar3 + 4) = 7;
	*(undefined4 *)(puVar3 + 0x38) = 0;
	*(undefined4 *)(puVar3 + 0x3c) = 0;
	*(undefined4 *)(puVar3 + 0x28) = *(undefined4 *)(puVar3 + 0x20);
	*(undefined4 *)(puVar3 + 0x2c) = *(undefined4 *)(puVar3 + 0x24);
	*(undefined4 *)(puVar3 + 0x30) = *(undefined4 *)(puVar3 + 0x20);
	*(undefined4 *)(puVar3 + 0x34) = *(undefined4 *)(puVar3 + 0x24);
	*(int *)(puVar3 + 0x48) = iVar1;
	M_CheckEFlag(param_1, uVar2, (undefined)iVar1, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	return;
}

void FUN_1006bf04(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined uVar1;
	undefined uVar2;
	undefined *puVar3;
	undefined4 in_stack_ffffffc8;

	puVar3 = PTR_DAT_100f187c + param_1 * 0xe8;
	uVar2 = (undefined) * (int *)(puVar3 + 0x48);
	uVar1 = (undefined)((ulonglong) * (uint *)(puVar3 + 0xe0) + 0x180);
	NewMonsterAnim(param_1, (int)((ulonglong) * (uint *)(puVar3 + 0xe0) + 0x180), *(int *)(puVar3 + 0x48));
	*(undefined4 *)(puVar3 + 4) = 7;
	*(undefined4 *)(puVar3 + 0x38) = 0;
	*(undefined4 *)(puVar3 + 0x3c) = 0;
	*(undefined4 *)(puVar3 + 0x28) = *(undefined4 *)(puVar3 + 0x20);
	*(undefined4 *)(puVar3 + 0x2c) = *(undefined4 *)(puVar3 + 0x24);
	*(undefined4 *)(puVar3 + 0x30) = *(undefined4 *)(puVar3 + 0x20);
	*(undefined4 *)(puVar3 + 0x34) = *(undefined4 *)(puVar3 + 0x24);
	M_CheckEFlag(param_1, uVar1, uVar2, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_1006bf90(int param_1)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	int iVar4;
	int iVar5;
	int iVar6;
	int iVar7;
	int iVar8;
	short *psVar9;
	int iVar10;
	int iVar11;

	puVar3 = PTR_DAT_100f1954;
	puVar2 = PTR_DAT_100f1834;
	iVar6 = *(int *)(PTR_DAT_100f187c + param_1 * 0xe8 + 0x34);
	iVar1 = *(int *)(PTR_DAT_100f187c + param_1 * 0xe8 + 0x30);
	iVar11 = iVar6 + -1;
	iVar5 = iVar11 * 2;
	while (iVar11 <= iVar6 + 1) {
		if ((-1 < iVar11) && (iVar11 < 0x70)) {
			iVar10 = iVar1 + -1;
			iVar4 = (iVar1 + 2) - iVar10;
			iVar8 = iVar10 * 0xe0;
			if (iVar10 <= iVar1 + 1) {
				do {
					if ((-1 < iVar10) && (iVar10 < 0x70)) {
						psVar9 = (short *)(iVar5 + *(int *)puVar3 + iVar8);
						iVar7 = (int)*psVar9;
						if ((-1 - param_1 == iVar7) || (param_1 + 1 == iVar7)) {
							*psVar9 = 0;
						}
					}
					iVar8 = iVar8 + 0xe0;
					iVar10 = iVar10 + 1;
					iVar4 = iVar4 + -1;
				} while (iVar4 != 0);
			}
		}
		iVar5 = iVar5 + 2;
		iVar11 = iVar11 + 1;
	}
	if (iVar1 + 1 < 0x70) {
		iVar5 = *(int *)puVar2 + iVar1 * 0x70 + iVar6;
		*(byte *)(iVar5 + 0x70) = *(byte *)(iVar5 + 0x70) & 0xef;
	}
	if (iVar6 + 1 < 0x70) {
		iVar6 = *(int *)puVar2 + iVar1 * 0x70 + iVar6;
		*(byte *)(iVar6 + 1) = *(byte *)(iVar6 + 1) & 0xef;
	}
	return;
}

void M_GetKnockback(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	int *piVar2;
	int *piVar3;
	int *piVar4;
	undefined *puVar5;
	uint uVar6;
	int iVar7;
	int iVar8;
	int iVar9;
	undefined *puVar10;
	undefined **ppuVar11;
	ulonglong uVar12;
	undefined uVar13;
	undefined uVar14;
	undefined uVar15;
	undefined uVar16;
	undefined uVar17;
	undefined uVar18;
	undefined uVar19;
	undefined4 in_stack_ffffffa8;

	puVar10 = PTR_DAT_100f187c;
	uVar16 = (undefined)param_5;
	uVar19 = (undefined)param_8;
	uVar18 = (undefined)param_7;
	uVar17 = (undefined)param_6;
	ppuVar11 = &toc;
	iVar9 = (int)param_1;
	iVar8 = iVar9 * 0xe8;
	piVar2 = (int *)(PTR_DAT_100f187c + iVar8 + 0x48);
	uVar6 = *piVar2 + 4U & 7;
	uVar12 = DirOK(param_1, uVar6, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	if ((int)uVar12 != 0) {
		FUN_1006bf90(iVar9);
		iVar7 = uVar6 * 4;
		uVar15 = (undefined)iVar7;
		puVar5 = puVar10 + iVar8;
		puVar1 = ppuVar11[-0x1c7c];
		piVar3 = (int *)(puVar10 + iVar8 + 0x30);
		*piVar3 = *(int *)(puVar10 + iVar8 + 0x30) + *(int *)(ppuVar11[-0x1c7b] + iVar7);
		piVar4 = (int *)(puVar10 + iVar8 + 0x34);
		*piVar4 = *(int *)(puVar10 + iVar8 + 0x34) + *(int *)(puVar1 + iVar7);
		iVar8 = *piVar2;
		uVar14 = (undefined)iVar8;
		uVar13 = (undefined)((ulonglong) * (uint *)(puVar5 + 0xe0) + 0xe8);
		NewMonsterAnim(iVar9, (int)((ulonglong) * (uint *)(puVar5 + 0xe0) + 0xe8), iVar8);
		*(undefined4 *)(puVar5 + 4) = 5;
		*(undefined4 *)(puVar5 + 0x38) = 0;
		*(undefined4 *)(puVar5 + 0x3c) = 0;
		*(int *)(puVar5 + 0x20) = *piVar3;
		*(int *)(puVar5 + 0x24) = *piVar4;
		*(undefined4 *)(puVar5 + 0x28) = *(undefined4 *)(puVar5 + 0x20);
		*(undefined4 *)(puVar5 + 0x2c) = *(undefined4 *)(puVar5 + 0x24);
		*piVar3 = *(int *)(puVar5 + 0x20);
		*piVar4 = *(int *)(puVar5 + 0x24);
		M_CheckEFlag(iVar9, uVar13, uVar14, uVar15, uVar16, uVar17, uVar18, uVar19, in_stack_ffffffa8);
		FUN_1006bf90(iVar9);
		*(short *)(*(int *)ppuVar11[-0x1d9f] + *(int *)(puVar5 + 0x20) * 0xe0 + *(int *)(puVar5 + 0x24) * 2) = (short)param_1 + 1;
	}
	return;
}

void M_StartHit(ulonglong param_1, longlong param_2, ulonglong param_3, ulonglong param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	byte bVar1;
	byte **ppbVar2;
	undefined *puVar3;
	int iVar4;
	undefined *puVar5;
	undefined **ppuVar6;
	uint uVar7;
	undefined4 uVar8;
	ulonglong uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined7 uVar13;
	undefined uVar14;
	undefined uVar15;
	undefined uVar16;
	undefined uVar17;
	int iVar18;
	uint uVar19;
	ulonglong uVar20;
	undefined4 in_stack_ffffffa8;

	puVar5 = PTR_DAT_100f187c;
	uVar13 = (undefined7)((ulonglong)param_5 >> 8);
	uVar14 = (undefined)param_5;
	ppuVar6 = &toc;
	uVar20 = ZEXT48(PTR_DAT_100f1828);
	uVar7 = (uint)param_1;
	if (-1 < param_2) {
		(PTR_DAT_100f187c + uVar7 * 0xe8)[0xc3] = (PTR_DAT_100f187c + uVar7 * 0xe8)[0xc3] | (byte)(1 << param_2);
	}
	iVar18 = (int)param_2;
	uVar19 = (uint)param_3;
	if (iVar18 == *(int *)PTR_DAT_100f1824) {
		ppuVar6 = &toc;
		delta_monster_hp(uVar7, *(int *)(puVar5 + uVar7 * 0xe8 + 0x98), (uint)(byte)*PTR_DAT_100f17ec);
		param_3 = (ulonglong)(uVar7 & 0xffff);
		param_4 = (ulonglong)(uVar19 & 0xffff);
		NetSendCmdParam2(0, 0x25, param_3, param_4, CONCAT71(uVar13, uVar14), param_6, param_7, param_8,
		    in_stack_ffffffa8);
	}
	uVar9 = 1;
	FUN_1003bc74(uVar7, 1, (char)param_3, (char)param_4, uVar14, (char)param_6, (char)param_7, (char)param_8,
	    in_stack_ffffffa8);
	iVar4 = uVar7 * 0xe8;
	ppbVar2 = (byte **)(puVar5 + iVar4 + 0xe0);
	if (((0x1c < **ppbVar2) && (**ppbVar2 < 0x21)) || (uVar19 = (int)uVar19 >> 6, uVar9 = uVar9 & 0xffffffff00000000 | (ulonglong)uVar19, (int)(char)puVar5[iVar4 + 0xc4] + 3 <= (int)uVar19)) {
		if (-1 < iVar18) {
			puVar3 = puVar5 + iVar4;
			*(int *)(puVar3 + 0x4c) = iVar18;
			uVar9 = uVar20 + param_2 * 0x55ec;
			puVar3[0x50] = (char)*(undefined4 *)((int)uVar9 + 0x40);
			puVar3[0x51] = (char)*(undefined4 *)((int)uVar9 + 0x44);
			*(uint *)(puVar3 + 0xa0) = *(uint *)(puVar3 + 0xa0) & 0xffffffef;
			uVar8 = FUN_1006b5f4(uVar7, (char)uVar9, (char)param_3, (char)param_4, uVar14, (char)param_6,
			    (char)param_7, (char)param_8, in_stack_ffffffa8);
			*(undefined4 *)(puVar3 + 0x48) = uVar8;
		}
		uVar17 = (undefined)param_8;
		uVar16 = (undefined)param_7;
		uVar15 = (undefined)param_6;
		uVar12 = (undefined)param_4;
		bVar1 = **ppbVar2;
		if (bVar1 == 0x27) {
			M_Teleport(param_1, uVar9, param_3, param_4, CONCAT71(uVar13, uVar14), param_6, param_7, param_8,
			    in_stack_ffffffa8);
		} else {
			if ((0xf < bVar1) && (bVar1 < 0x14)) {
				puVar5[iVar4 + 8] = 1;
			}
		}
		if (*(int *)(puVar5 + iVar4 + 4) != 0xf) {
			puVar3 = puVar5 + iVar4;
			uVar11 = (undefined) * (int *)(puVar3 + 0x48);
			uVar10 = (undefined)(ZEXT48(*ppbVar2) + 0xe8);
			NewMonsterAnim(uVar7, (int)(ZEXT48(*ppbVar2) + 0xe8), *(int *)(puVar3 + 0x48));
			*(int *)(puVar5 + iVar4 + 4) = 5;
			*(undefined4 *)(puVar3 + 0x38) = 0;
			*(undefined4 *)(puVar3 + 0x3c) = 0;
			*(undefined4 *)(puVar3 + 0x20) = *(undefined4 *)(puVar3 + 0x30);
			*(undefined4 *)(puVar3 + 0x24) = *(undefined4 *)(puVar3 + 0x34);
			*(undefined4 *)(puVar3 + 0x28) = *(undefined4 *)(puVar3 + 0x20);
			*(undefined4 *)(puVar3 + 0x2c) = *(undefined4 *)(puVar3 + 0x24);
			*(undefined4 *)(puVar3 + 0x30) = *(undefined4 *)(puVar3 + 0x20);
			*(undefined4 *)(puVar3 + 0x34) = *(undefined4 *)(puVar3 + 0x24);
			M_CheckEFlag(uVar7, uVar10, uVar11, uVar12, uVar14, uVar15, uVar16, uVar17, in_stack_ffffffa8);
			FUN_1006bf90(uVar7);
			*(short *)(*(int *)ppuVar6[-0x1d9f] + *(int *)(puVar3 + 0x20) * 0xe0 + *(int *)(puVar3 + 0x24) * 2) = (short)param_1 + 1;
		}
	}
	return;
}

void M_DiabloDeath(int param_1, int param_2, undefined param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	ulonglong uVar6;
	int iVar7;
	longlong lVar8;
	longlong lVar9;
	uint uVar10;
	undefined uVar11;
	undefined uVar12;
	longlong lVar13;
	longlong lVar14;
	longlong lVar15;
	undefined uVar16;
	int iVar17;
	undefined *puVar18;
	undefined *puVar19;
	int *piVar20;
	double dVar21;
	undefined4 in_stack_ffffff58;
	undefined in_stack_ffffff5f;
	undefined4 in_stack_ffffff70;

	puVar5 = PTR_DAT_100f19a4;
	puVar4 = PTR_DAT_100f1954;
	puVar3 = PTR_DAT_100f187c;
	puVar2 = PTR_DAT_100f1820;
	puVar1 = PTR_DAT_100f181c;
	lVar15 = (longlong)param_8;
	lVar14 = (longlong)param_7;
	lVar13 = (longlong)param_6;
	lVar9 = (longlong)param_5;
	lVar8 = (longlong)param_4;
	uVar6 = ZEXT48(&toc);
	puVar19 = PTR_DAT_100f187c + param_1 * 0xe8;
	PlaySFX(0x359, param_2, param_3);
	*(undefined *)(*(int *)((int)uVar6 + -0x7604) + 0x7a) = 3;
	if (param_2 != 0) {
		NetSendCmdQuest(1, 5);
	}
	iVar7 = (int)uVar6;
	iVar17 = 0;
	piVar20 = *(int **)(iVar7 + -0x7628);
	*(undefined *)(iVar7 + -0x4d88) = **(undefined **)(iVar7 + -0x72b8);
	**(undefined4 **)(iVar7 + -0x75a8) = 0;
	while (true) {
		iVar7 = (int)uVar6;
		uVar16 = (undefined)lVar15;
		uVar12 = (undefined)lVar14;
		uVar11 = (undefined)lVar13;
		if (*(int *)puVar5 <= iVar17)
			break;
		iVar7 = *piVar20;
		if ((iVar7 != param_1) && (puVar19[0xa4] != '\0')) {
			puVar18 = puVar3 + iVar7 * 0xe8;
			uVar12 = (undefined) * (int *)(puVar18 + 0x48);
			uVar11 = (undefined)((ulonglong) * (uint *)(puVar18 + 0xe0) + 0x134);
			NewMonsterAnim(iVar7, (int)((ulonglong) * (uint *)(puVar18 + 0xe0) + 0x134),
			    *(int *)(puVar18 + 0x48));
			*(undefined4 *)(puVar18 + 4) = 6;
			*(undefined4 *)(puVar18 + 0x38) = 0;
			*(undefined4 *)(puVar18 + 0x3c) = 0;
			*(undefined4 *)(puVar18 + 0x74) = 0;
			*(undefined4 *)(puVar18 + 0x20) = *(undefined4 *)(puVar18 + 0x30);
			*(undefined4 *)(puVar18 + 0x24) = *(undefined4 *)(puVar18 + 0x34);
			*(undefined4 *)(puVar18 + 0x28) = *(undefined4 *)(puVar18 + 0x20);
			*(undefined4 *)(puVar18 + 0x2c) = *(undefined4 *)(puVar18 + 0x24);
			*(undefined4 *)(puVar18 + 0x30) = *(undefined4 *)(puVar18 + 0x20);
			*(undefined4 *)(puVar18 + 0x34) = *(undefined4 *)(puVar18 + 0x24);
			M_CheckEFlag(iVar7, uVar11, uVar12, (char)lVar8, (char)lVar9, (char)lVar13, (char)lVar14,
			    (char)lVar15, in_stack_ffffff58);
			FUN_1006bf90(iVar7);
			*(short *)(*(int *)puVar4 + *(int *)(puVar18 + 0x20) * 0xe0 + *(int *)(puVar18 + 0x24) * 2) = (short)iVar7 + 1;
		}
		piVar20 = piVar20 + 1;
		iVar17 = iVar17 + 1;
	}
	AddLight(*(undefined4 *)(puVar19 + 0x20), *(undefined4 *)(puVar19 + 0x24), 8);
	FUN_100b9be0((ulonglong) * (uint *)(puVar19 + 0x20), (ulonglong) * (uint *)(puVar19 + 0x24), 8, 0, 1,
	    uVar11, uVar12, uVar16, in_stack_ffffff58, in_stack_ffffff5f, in_stack_ffffff70);
	lVar8 = abs((ulonglong) * (uint *)puVar1 - (ulonglong) * (uint *)(puVar19 + 0x24));
	lVar9 = abs((ulonglong) * (uint *)puVar2 - (ulonglong) * (uint *)(puVar19 + 0x20));
	if ((int)lVar8 < (int)lVar9) {
		lVar8 = abs((ulonglong) * (uint *)puVar2 - (ulonglong) * (uint *)(puVar19 + 0x20));
		uVar10 = (uint)lVar8;
	} else {
		lVar8 = abs((ulonglong) * (uint *)puVar1 - (ulonglong) * (uint *)(puVar19 + 0x24));
		uVar10 = (uint)lVar8;
	}
	if (0x14 < (int)uVar10) {
		uVar10 = 0x14;
	}
	*(int *)(puVar19 + 0x7c) = *(int *)puVar2 << 0x10;
	*(int *)(puVar19 + 0x80) = *(int *)puVar1 << 0x10;
	dVar21 = *(double *)(iVar7 + -0x4d80);
	*(int *)(puVar19 + 0x84) = (int)(((double)CONCAT44(0x43300000,
	                                      *(int *)(puVar19 + 0x7c) + *(int *)(puVar19 + 0x20) * -0x10000 ^ 0x80000000)
	                                     - dVar21)
	    / ((double)CONCAT44(0x43300000, uVar10 ^ 0x80000000) - dVar21));
	*(int *)(puVar19 + 0x88) = (int)(((double)CONCAT44(0x43300000,
	                                      *(int *)(puVar19 + 0x80) + *(int *)(puVar19 + 0x24) * -0x10000 ^ 0x80000000)
	                                     - dVar21)
	    / ((double)CONCAT44(0x43300000, uVar10 ^ 0x80000000) - dVar21));
	return;
}

void M2MStartHit(ulonglong param_1, longlong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	byte bVar1;
	uint uVar2;
	int iVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	uint uVar6;
	ulonglong uVar7;
	longlong lVar8;
	ulonglong uVar9;
	undefined uVar10;
	ulonglong uVar11;
	undefined uVar12;
	undefined7 uVar13;
	undefined uVar14;
	undefined uVar15;
	undefined uVar16;
	undefined uVar17;
	int iVar18;
	byte **ppbVar19;
	ulonglong uVar20;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar4 = PTR_DAT_100f187c;
	uVar13 = (undefined7)((ulonglong)param_5 >> 8);
	uVar14 = (undefined)param_5;
	ppuVar5 = &toc;
	uVar20 = ZEXT48(PTR_DAT_100f187c);
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar5 = &toc;
		app_fatal((int)PTR_s_Invalid_monster__d_getting_hit_b_100f32d4, param_1, param_3, param_4,
		    param_5, param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	iVar3 = (int)(param_1 * 0xe8);
	ppbVar19 = (byte **)(puVar4 + iVar3 + 0xe0);
	if (*(int *)(puVar4 + iVar3 + 0xe0) == 0) {
		app_fatal((int)ppuVar5[-0x1740], param_1, (ulonglong) * (uint *)(puVar4 + iVar3 + 0xdc), param_4,
		    CONCAT71(uVar13, uVar14), param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	iVar18 = (int)param_2;
	if (-1 < iVar18) {
		(puVar4 + iVar18 * 0xe8)[0xc3] = (puVar4 + iVar18 * 0xe8)[0xc3] | (byte)(1 << param_2);
	}
	uVar6 = (uint)param_1;
	delta_monster_hp(uVar6, *(int *)(puVar4 + iVar3 + 0x98), (uint)(byte)*ppuVar5[-0x1df9]);
	uVar9 = (ulonglong)(uVar6 & 0xffff);
	uVar11 = (ulonglong)((uint)param_3 & 0xffff);
	NetSendCmdParam2(0, 0x25, uVar9, uVar11, CONCAT71(uVar13, uVar14), param_6, param_7, param_8, in_stack_ffffffb8);
	uVar7 = 1;
	FUN_1003bc74(uVar6, 1, (char)uVar9, (char)uVar11, uVar14, (char)param_6, (char)param_7, (char)param_8,
	    in_stack_ffffffb8);
	uVar17 = (undefined)param_8;
	uVar16 = (undefined)param_7;
	uVar15 = (undefined)param_6;
	uVar12 = (undefined)uVar11;
	uVar10 = (undefined)uVar9;
	if (((0x1c < **ppbVar19) && (**ppbVar19 < 0x21)) || (uVar2 = (int)(uint)param_3 >> 6, uVar7 = uVar7 & 0xffffffff00000000 | (ulonglong)uVar2, (int)(char)puVar4[iVar3 + 0xc4] + 3 <= (int)uVar2)) {
		if (-1 < iVar18) {
			uVar7 = uVar20 + 0x48;
			*(uint *)((int)uVar7 + iVar3) = *(int *)((int)uVar7 + iVar18 * 0xe8) + 4U & 7;
		}
		bVar1 = **ppbVar19;
		if (bVar1 == 0x27) {
			M_Teleport(param_1, uVar7, uVar9, uVar11, CONCAT71(uVar13, uVar14), param_6, param_7, param_8,
			    in_stack_ffffffb8);
		} else {
			if ((0xf < bVar1) && (bVar1 < 0x14)) {
				puVar4[iVar3 + 8] = 1;
			}
		}
		if (*(int *)(puVar4 + iVar3 + 4) != 0xf) {
			if (**ppbVar19 != 0x6d) {
				uVar10 = (undefined) * (int *)(puVar4 + iVar3 + 0x48);
				NewMonsterAnim(uVar6, (int)(*ppbVar19 + 0xe8), *(int *)(puVar4 + iVar3 + 0x48));
				*(int *)(puVar4 + iVar3 + 4) = 5;
			}
			lVar8 = uVar20 + param_1 * 0xe8;
			iVar3 = (int)lVar8;
			*(undefined4 *)(iVar3 + 0x38) = 0;
			*(undefined4 *)(iVar3 + 0x3c) = 0;
			*(undefined4 *)(iVar3 + 0x20) = *(undefined4 *)(iVar3 + 0x30);
			*(undefined4 *)(iVar3 + 0x24) = *(undefined4 *)(iVar3 + 0x34);
			*(undefined4 *)(iVar3 + 0x28) = *(undefined4 *)(iVar3 + 0x20);
			*(undefined4 *)(iVar3 + 0x2c) = *(undefined4 *)(iVar3 + 0x24);
			*(undefined4 *)(iVar3 + 0x30) = *(undefined4 *)(iVar3 + 0x20);
			*(undefined4 *)(iVar3 + 0x34) = *(undefined4 *)(iVar3 + 0x24);
			M_CheckEFlag(uVar6, (char)lVar8, uVar10, uVar12, uVar14, uVar15, uVar16, uVar17, in_stack_ffffffb8);
			FUN_1006bf90(uVar6);
			*(short *)(*(int *)ppuVar5[-0x1d9f] + *(int *)(iVar3 + 0x20) * 0xe0 + *(int *)(iVar3 + 0x24) * 2) = (short)param_1 + 1;
		}
	}
	return;
}

void MonstStartKill(ulonglong param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	int iVar3;
	undefined **ppuVar4;
	undefined8 uVar5;
	int iVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar2 = PTR_DAT_100f187c;
	ppuVar4 = &toc;
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar4 = &toc;
		app_fatal((int)PTR_s_MonstStartKill__Invalid_monster___100f32cc, param_1, param_3, param_4,
		    param_5, param_6, param_7, param_8, in_stack_ffffffa8, in_stack_ffffffaf,
		    in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
	}
	uVar13 = (undefined)param_8;
	uVar12 = (undefined)param_7;
	uVar11 = (undefined)param_6;
	uVar10 = (undefined)param_5;
	uVar8 = (undefined)param_4;
	iVar3 = (int)param_1;
	puVar1 = puVar2 + iVar3 * 0xe8;
	if (*(int *)(puVar1 + 0xe0) == 0) {
		app_fatal((int)ppuVar4[-0x1742], param_1, (ulonglong) * (uint *)(puVar1 + 0xdc), param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffb8,
		    in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
	}
	puVar2 = puVar2 + iVar3 * 0xe8;
	if (-1 < (int)param_2) {
		puVar2[0xc3] = puVar2[0xc3] | (byte)(1 << param_2);
	}
	if (((param_2 & 0xffffffff) < 4) && (4 < (param_1 & 0xffffffff))) {
		FUN_10092e14(puVar2[0xc4], (ulonglong) * (ushort *)(puVar2 + 0xc6), (ulonglong)(byte)puVar2[0xc3]);
	}
	puVar1 = ppuVar4[-0x1c53];
	uVar9 = SUB41(puVar1, 0);
	*(int *)(puVar1 + (uint) * *(byte **)(puVar2 + 0xe0) * 4) = *(int *)(puVar1 + (uint) * *(byte **)(puVar2 + 0xe0) * 4) + 1;
	*(undefined4 *)(puVar2 + 0x98) = 0;
	SetRndSeed(*(undefined4 *)(puVar2 + 0xb4));
	uVar5 = QuestStatus(2);
	if (((int)uVar5 == 0) || (*(int *)(puVar2 + 0xdc) != *(int *)(ppuVar4[-0x1c23] + 4))) {
		if (3 < iVar3) {
			uVar9 = (undefined) * (int *)(puVar2 + 0x24);
			uVar8 = (char)param_3;
			FUN_1004f580(iVar3, *(int *)(puVar2 + 0x20), *(int *)(puVar2 + 0x24), (int)param_3, uVar10, uVar11,
			    uVar12, uVar13, in_stack_ffffffa8);
		}
	} else {
		uVar9 = 1;
		uVar8 = 4;
		uVar10 = 0;
		uVar11 = 1;
		uVar12 = 0;
		FUN_1004fac4(*(int *)(puVar2 + 0x20) + 1, *(int *)(puVar2 + 0x24) + 1, 1, 4, 0, 1, 0, uVar13,
		    in_stack_ffffffa8);
	}
	if (**(char **)(puVar2 + 0xe0) == 'n') {
		uVar7 = 1;
		M_DiabloDeath(iVar3, 1, uVar9, uVar8, uVar10, uVar11, uVar12, uVar13, in_stack_ffffffa8);
	} else {
		uVar7 = 2;
		FUN_1003bc74(iVar3, 2, uVar9, uVar8, uVar10, uVar11, uVar12, uVar13, in_stack_ffffffa8);
	}
	if ((int)param_2 < 0) {
		iVar6 = *(int *)(puVar2 + 0x48);
	} else {
		iVar6 = FUN_1006b5f4(iVar3, uVar7, uVar9, uVar8, uVar10, uVar11, uVar12, uVar13, in_stack_ffffffa8);
	}
	uVar7 = (undefined)iVar6;
	*(int *)(puVar2 + 0x48) = iVar6;
	uVar9 = (undefined)((ulonglong) * (uint *)(puVar2 + 0xe0) + 0x134);
	NewMonsterAnim(iVar3, (int)((ulonglong) * (uint *)(puVar2 + 0xe0) + 0x134), iVar6);
	*(undefined4 *)(puVar2 + 4) = 6;
	*(undefined4 *)(puVar2 + 0x38) = 0;
	*(undefined4 *)(puVar2 + 0x3c) = 0;
	*(undefined4 *)(puVar2 + 0x74) = 0;
	*(undefined4 *)(puVar2 + 0x20) = *(undefined4 *)(puVar2 + 0x30);
	*(undefined4 *)(puVar2 + 0x24) = *(undefined4 *)(puVar2 + 0x34);
	*(undefined4 *)(puVar2 + 0x28) = *(undefined4 *)(puVar2 + 0x20);
	*(undefined4 *)(puVar2 + 0x2c) = *(undefined4 *)(puVar2 + 0x24);
	*(undefined4 *)(puVar2 + 0x30) = *(undefined4 *)(puVar2 + 0x20);
	*(undefined4 *)(puVar2 + 0x34) = *(undefined4 *)(puVar2 + 0x24);
	M_CheckEFlag(iVar3, uVar9, uVar7, uVar8, uVar10, uVar11, uVar12, uVar13, in_stack_ffffffa8);
	FUN_1006bf90(iVar3);
	uVar8 = (undefined) * (int *)ppuVar4[-0x1d9f];
	*(undefined2 *)(*(int *)ppuVar4[-0x1d9f] + *(int *)(puVar2 + 0x20) * 0xe0 + *(int *)(puVar2 + 0x24) * 2) = (short)(param_1 + 1);
	uVar9 = (undefined)(param_1 + 1);
	FUN_1009c1a8(iVar3, (int)param_3, uVar8, uVar9, uVar10, uVar11, uVar12, uVar13, in_stack_ffffffa8);
	FUN_100756b8((ulonglong) * (uint *)(puVar2 + 0x20), (ulonglong) * (uint *)(puVar2 + 0x24), uVar8, uVar9,
	    uVar10, uVar11, uVar12, uVar13, in_stack_ffffffa8);
	if ((0x2d < **(byte **)(puVar2 + 0xe0)) && (**(byte **)(puVar2 + 0xe0) < 0x32)) {
		AddMissile((ulonglong) * (uint *)(puVar2 + 0x20), (ulonglong) * (uint *)(puVar2 + 0x24), 0, 0, 0, 0x3b,
		    1, param_1, in_stack_ffffffa8, in_stack_ffffffaf, (uint)(byte)puVar2[0x9d] + 1, 0);
	}
	return;
}

void M2MStartKill(ulonglong param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	uint uVar2;
	uint *puVar3;
	uint *puVar4;
	undefined *puVar5;
	int iVar6;
	undefined *puVar7;
	int iVar8;
	undefined **ppuVar9;
	undefined uVar11;
	uint uVar10;
	undefined uVar12;
	undefined uVar13;
	undefined uVar14;
	undefined uVar15;
	undefined uVar16;
	undefined uVar17;
	byte **ppbVar18;
	ulonglong uVar19;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar7 = PTR_DAT_100f187c;
	ppuVar9 = &toc;
	uVar19 = ZEXT48(PTR_DAT_100f187c);
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar9 = &toc;
		app_fatal((int)PTR_s_M2MStartKill__Invalid_monster__a_100f32c4, param_1, param_3, param_4,
		    param_5, param_6, param_7, param_8, in_stack_ffffffa8, in_stack_ffffffaf,
		    in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
	}
	if (199 < (param_2 & 0xffffffff)) {
		app_fatal((int)ppuVar9[-0x1744], param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffb8, in_stack_ffffffbc,
		    in_stack_ffffffc0, in_stack_ffffffc4, in_stack_ffffffc8, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4);
	}
	iVar1 = (int)param_1 * 0xe8;
	uVar2 = (uint)param_2;
	if (*(int *)(puVar7 + 0xe0 + iVar1) == 0) {
		app_fatal((int)ppuVar9[-0x1745], param_2, (ulonglong) * (uint *)(puVar7 + uVar2 * 0xe8 + 0xdc),
		    param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8, in_stack_ffffffaf,
		    in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
	}
	iVar8 = uVar2 * 0xe8;
	puVar3 = (uint *)(puVar7 + iVar8 + 0x20);
	puVar4 = (uint *)(puVar7 + iVar8 + 0x24);
	FUN_10079a80(uVar2, (char)*puVar3, (char)*puVar4, (uint)(byte)*ppuVar9[-0x1df9]);
	uVar17 = (undefined)param_8;
	uVar16 = (undefined)param_7;
	uVar15 = (undefined)param_6;
	uVar14 = (undefined)(uVar2 & 0xffff);
	NetSendCmdLocParam1(0, 0x24, (ulonglong)(*puVar3 & 0xff), (ulonglong)(*puVar4 & 0xff),
	    (ulonglong)(uVar2 & 0xffff), param_6, param_7, param_8, in_stack_ffffffa8);
	puVar5 = puVar7 + iVar8;
	puVar5[0xc3] = puVar5[0xc3] | (byte)(1 << param_1);
	if ((param_1 & 0xffffffff) < 4) {
		FUN_10092e14((puVar7 + iVar8)[0xc4], (ulonglong) * (ushort *)(puVar7 + iVar8 + 0xc6),
		    (ulonglong)(byte)puVar5[0xc3]);
	}
	ppbVar18 = (byte **)(puVar7 + 0xe0 + iVar8);
	puVar5 = ppuVar9[-0x1c53];
	uVar13 = SUB41(puVar5, 0);
	iVar6 = (uint) * *ppbVar18 * 4;
	uVar11 = (undefined)iVar6;
	*(int *)(puVar5 + iVar6) = *(int *)(puVar5 + iVar6) + 1;
	*(undefined4 *)(puVar7 + iVar8 + 0x98) = 0;
	SetRndSeed(*(undefined4 *)(puVar7 + iVar8 + 0xb4));
	if (3 < (param_2 & 0xffffffff)) {
		uVar11 = (undefined)*puVar4;
		uVar13 = 1;
		FUN_1004f580(uVar2, *puVar3, *puVar4, 1, uVar14, uVar15, uVar16, uVar17, in_stack_ffffffa8);
	}
	if (**ppbVar18 == 0x6e) {
		M_DiabloDeath(uVar2, 1, uVar11, uVar13, uVar14, uVar15, uVar16, uVar17, in_stack_ffffffa8);
	} else {
		FUN_1003bc74((int)param_1, 2, uVar11, uVar13, uVar14, uVar15, uVar16, uVar17, in_stack_ffffffa8);
	}
	FUN_1003bc74(uVar2, 2, uVar11, uVar13, uVar14, uVar15, uVar16, uVar17, in_stack_ffffffa8);
	uVar11 = (undefined)(uVar19 + 0x48);
	iVar6 = (int)(uVar19 + 0x48);
	uVar10 = *(int *)(iVar6 + iVar1) + 4U & 7;
	if (**ppbVar18 == 0x6d) {
		uVar10 = 0;
	}
	uVar12 = (undefined)uVar10;
	*(uint *)(iVar6 + iVar8) = uVar10;
	uVar13 = (undefined)(ZEXT48(*ppbVar18) + 0x134);
	NewMonsterAnim(uVar2, (int)(ZEXT48(*ppbVar18) + 0x134), uVar10);
	puVar7 = puVar7 + iVar8;
	*(undefined4 *)(puVar7 + 4) = 6;
	*(undefined4 *)(puVar7 + 0x38) = 0;
	*(undefined4 *)(puVar7 + 0x3c) = 0;
	*puVar3 = *(uint *)(puVar7 + 0x30);
	*puVar4 = *(uint *)(puVar7 + 0x34);
	*(uint *)(puVar7 + 0x28) = *puVar3;
	*(uint *)(puVar7 + 0x2c) = *puVar4;
	*(uint *)(puVar7 + 0x30) = *puVar3;
	*(uint *)(puVar7 + 0x34) = *puVar4;
	M_CheckEFlag(uVar2, uVar13, uVar12, uVar11, uVar14, uVar15, uVar16, uVar17, in_stack_ffffffa8);
	FUN_1006bf90(uVar2);
	uVar11 = (undefined) * (int *)ppuVar9[-0x1d9f];
	*(undefined2 *)(*(int *)ppuVar9[-0x1d9f] + *puVar3 * 0xe0 + *puVar4 * 2) = (short)(param_2 + 1);
	uVar13 = (undefined)(param_2 + 1);
	FUN_1009c1a8(uVar2, 1, uVar11, uVar13, uVar14, uVar15, uVar16, uVar17, in_stack_ffffffa8);
	FUN_100756b8((ulonglong)*puVar3, (ulonglong)*puVar4, uVar11, uVar13, uVar14, uVar15, uVar16, uVar17,
	    in_stack_ffffffa8);
	if ((0x2d < **ppbVar18) && (**ppbVar18 < 0x32)) {
		AddMissile((ulonglong)*puVar3, (ulonglong)*puVar4, 0, 0, 0, 0x3b, 1, param_2, in_stack_ffffffa8,
		    in_stack_ffffffaf, (uint)(byte)puVar7[0x9d] + 1, 0);
	}
	return;
}

void M_StartKill(ulonglong param_1, ulonglong param_2, undefined8 param_3, ulonglong param_4,
    ulonglong param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint *puVar1;
	uint *puVar2;
	uint uVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined **ppuVar6;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar5 = PTR_DAT_100f187c;
	puVar4 = PTR_DAT_100f17ec;
	ppuVar6 = &toc;
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar6 = &toc;
		app_fatal((int)PTR_s_M_StartKill__Invalid_monster__d_100f32b8, param_1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	if (*(uint *)ppuVar6[-0x1deb] == (uint)param_2) {
		uVar3 = (uint)param_1;
		puVar1 = (uint *)(puVar5 + uVar3 * 0xe8 + 0x20);
		puVar2 = (uint *)(puVar5 + uVar3 * 0xe8 + 0x24);
		FUN_10079a80(uVar3, (char)*puVar1, (char)*puVar2, (uint)(byte)*puVar4);
		if (uVar3 == (uint)param_2) {
			param_5 = (ulonglong)(byte)*puVar4;
			param_4 = (ulonglong)(*puVar2 & 0xff);
			NetSendCmdLocParam1(0, 0x57, (ulonglong)(*puVar1 & 0xff), param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffb8);
		} else {
			param_5 = (ulonglong)(uVar3 & 0xffff);
			param_4 = (ulonglong)(*puVar2 & 0xff);
			NetSendCmdLocParam1(0, 0x24, (ulonglong)(*puVar1 & 0xff), param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffb8);
		}
	}
	MonstStartKill(param_1, param_2, 1, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	return;
}

void M_SyncStartKill(ulonglong param_1, int param_2, undefined8 param_3, ulonglong param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined **ppuVar2;
	ulonglong uVar3;
	int iVar4;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar1 = PTR_DAT_100f187c;
	ppuVar2 = &toc;
	uVar3 = param_4;
	if (199 < (param_1 & 0xffffffff)) {
		uVar3 = param_4;
		ppuVar2 = &toc;
		app_fatal((int)PTR_s_M_SyncStartKill__Invalid_monster_100f32b4, param_1, param_3, param_4,
		    param_5, param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	puVar1 = puVar1 + (int)param_1 * 0xe8;
	if ((*(int *)(puVar1 + 0x98) != 0) && (*(int *)(puVar1 + 4) != 6)) {
		iVar4 = (int)param_3;
		if (*(short *)(*(int *)ppuVar2[-0x1d9f] + param_2 * 0xe0 + iVar4 * 2) == 0) {
			FUN_1006bf90((int)param_1);
			*(int *)(puVar1 + 0x20) = param_2;
			*(int *)(puVar1 + 0x24) = iVar4;
			*(int *)(puVar1 + 0x30) = param_2;
			*(int *)(puVar1 + 0x34) = iVar4;
		}
		if (*(int *)(puVar1 + 4) == 0xf) {
			MonstStartKill(param_1, param_4, 0, uVar3, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
			*(int *)(puVar1 + 4) = 0xf;
		} else {
			MonstStartKill(param_1, param_4, 0, uVar3, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
		}
	}
	return;
}

void M_StartFadein(ulonglong param_1, int param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	int iVar2;
	int iVar3;
	undefined **ppuVar4;
	undefined uVar6;
	longlong lVar5;
	undefined7 uVar7;
	undefined uVar8;
	undefined7 uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar1 = PTR_DAT_100f187c;
	uVar9 = (undefined7)((ulonglong)param_5 >> 8);
	uVar10 = (undefined)param_5;
	uVar7 = (undefined7)((ulonglong)param_4 >> 8);
	uVar8 = (undefined)param_4;
	uVar6 = (undefined)param_2;
	ppuVar4 = &toc;
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar4 = &toc;
		app_fatal((int)PTR_s_M_StartFadein__Invalid_monster___100f32b0, param_1, param_3, param_4,
		    param_5, param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	uVar13 = (undefined)param_8;
	uVar12 = (undefined)param_7;
	uVar11 = (undefined)param_6;
	iVar3 = (int)param_1;
	iVar2 = iVar3 * 0xe8;
	if (*(uint *)(puVar1 + iVar2 + 0xe0) == 0) {
		app_fatal((int)ppuVar4[-0x1749], param_1, (ulonglong) * (uint *)(puVar1 + iVar2 + 0xdc),
		    CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10), param_6, param_7, param_8,
		    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4);
	}
	lVar5 = (ulonglong) * (uint *)(puVar1 + iVar2 + 0xe0) + 0x180;
	lVar5._7_1_ = (undefined)lVar5;
	NewMonsterAnim(iVar3, (int)lVar5, param_2);
	puVar1 = puVar1 + iVar2;
	*(undefined4 *)(puVar1 + 4) = 8;
	*(undefined4 *)(puVar1 + 0x38) = 0;
	*(undefined4 *)(puVar1 + 0x3c) = 0;
	*(undefined4 *)(puVar1 + 0x28) = *(undefined4 *)(puVar1 + 0x20);
	*(undefined4 *)(puVar1 + 0x2c) = *(undefined4 *)(puVar1 + 0x24);
	*(undefined4 *)(puVar1 + 0x30) = *(undefined4 *)(puVar1 + 0x20);
	*(undefined4 *)(puVar1 + 0x34) = *(undefined4 *)(puVar1 + 0x24);
	M_CheckEFlag(iVar3, (undefined)lVar5, uVar6, uVar8, uVar10, uVar11, uVar12, uVar13, in_stack_ffffffb8);
	*(int *)(puVar1 + 0x48) = param_2;
	*(uint *)(puVar1 + 0xa0) = *(uint *)(puVar1 + 0xa0) & 0xfffffffe;
	if ((int)param_3 != 0) {
		*(uint *)(puVar1 + 0xa0) = *(uint *)(puVar1 + 0xa0) | 2;
		*(undefined4 *)(puVar1 + 0x68) = *(undefined4 *)(puVar1 + 100);
	}
	return;
}

void M_StartFadeout(ulonglong param_1, int param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	int iVar2;
	int iVar3;
	undefined **ppuVar4;
	undefined uVar6;
	longlong lVar5;
	undefined7 uVar7;
	undefined uVar8;
	undefined7 uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar1 = PTR_DAT_100f187c;
	uVar9 = (undefined7)((ulonglong)param_5 >> 8);
	uVar10 = (undefined)param_5;
	uVar7 = (undefined7)((ulonglong)param_4 >> 8);
	uVar8 = (undefined)param_4;
	uVar6 = (undefined)param_2;
	ppuVar4 = &toc;
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar4 = &toc;
		app_fatal((int)PTR_s_M_StartFadeout__Invalid_monster___100f32a8, param_1, param_3, param_4,
		    param_5, param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	uVar13 = (undefined)param_8;
	uVar12 = (undefined)param_7;
	uVar11 = (undefined)param_6;
	iVar3 = (int)param_1;
	iVar2 = iVar3 * 0xe8;
	if (*(uint *)(puVar1 + iVar2 + 0xe0) == 0) {
		app_fatal((int)ppuVar4[-0x174b], param_1, (ulonglong) * (uint *)(puVar1 + iVar2 + 0xdc),
		    CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10), param_6, param_7, param_8,
		    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4);
	}
	lVar5 = (ulonglong) * (uint *)(puVar1 + iVar2 + 0xe0) + 0x180;
	lVar5._7_1_ = (undefined)lVar5;
	NewMonsterAnim(iVar3, (int)lVar5, param_2);
	puVar1 = puVar1 + iVar2;
	*(undefined4 *)(puVar1 + 4) = 9;
	*(undefined4 *)(puVar1 + 0x38) = 0;
	*(undefined4 *)(puVar1 + 0x3c) = 0;
	*(undefined4 *)(puVar1 + 0x28) = *(undefined4 *)(puVar1 + 0x20);
	*(undefined4 *)(puVar1 + 0x2c) = *(undefined4 *)(puVar1 + 0x24);
	*(undefined4 *)(puVar1 + 0x30) = *(undefined4 *)(puVar1 + 0x20);
	*(undefined4 *)(puVar1 + 0x34) = *(undefined4 *)(puVar1 + 0x24);
	M_CheckEFlag(iVar3, (undefined)lVar5, uVar6, uVar8, uVar10, uVar11, uVar12, uVar13, in_stack_ffffffb8);
	*(int *)(puVar1 + 0x48) = param_2;
	if ((int)param_3 != 0) {
		*(uint *)(puVar1 + 0xa0) = *(uint *)(puVar1 + 0xa0) | 2;
		*(undefined4 *)(puVar1 + 0x68) = *(undefined4 *)(puVar1 + 100);
	}
	return;
}

void M_StartHeal(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 uVar1;
	undefined4 uVar2;
	uint uVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined **ppuVar6;
	longlong lVar7;
	int iVar8;
	undefined7 uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined uVar14;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar5 = PTR_DAT_100f187c;
	uVar9 = (undefined7)((ulonglong)param_5 >> 8);
	uVar10 = (undefined)param_5;
	ppuVar6 = &toc;
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar6 = &toc;
		app_fatal((int)PTR_s_M_StartHeal__Invalid_monster__d_100f32a0, param_1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	uVar14 = (undefined)in_stack_ffffffc8;
	uVar13 = (undefined)param_8;
	uVar12 = (undefined)param_7;
	uVar11 = (undefined)param_6;
	iVar8 = (int)param_1 * 0xe8;
	puVar4 = puVar5 + iVar8;
	if (*(int *)(puVar4 + 0xe0) == 0) {
		app_fatal((int)ppuVar6[-0x174d], param_1, (ulonglong) * (uint *)(puVar4 + 0xdc), param_4,
		    CONCAT71(uVar9, uVar10), param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	puVar5 = puVar5 + iVar8;
	iVar8 = *(int *)(puVar5 + 0xe0) + *(int *)(puVar5 + 0x48) * 8;
	uVar1 = *(undefined4 *)(iVar8 + 0x184);
	uVar2 = *(undefined4 *)(iVar8 + 0x188);
	*(undefined4 *)(puVar5 + 0x54) = uVar1;
	*(undefined4 *)(puVar5 + 0x58) = uVar2;
	*(undefined4 *)(puVar5 + 0x68) = *(undefined4 *)(*(int *)(puVar5 + 0xe0) + 0x1c4);
	uVar3 = *(uint *)(puVar5 + 0xa0);
	*(int *)(puVar5 + 0xa0) = (int)((ulonglong)uVar3 | 2);
	*(undefined4 *)(puVar5 + 4) = 0x10;
	lVar7 = random(0x61, 5, (char)((ulonglong)uVar3 | 2), (char)uVar1, uVar10, uVar11, uVar12, uVar13,
	    in_stack_ffffffb8, in_stack_ffffffbf, uVar14);
	*(int *)(puVar5 + 0x74) = *(int *)(puVar5 + 0x94) / (((int)lVar7 + 4) * 0x10);
	return;
}

// WARNING: Removing unreachable block (ram,0x1006d274)

void M_ChangeLightOffset(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	int iVar4;
	undefined *puVar5;
	int iVar6;
	int iVar7;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	puVar5 = PTR_DAT_100f187c;
	if (199 < (param_1 & 0xffffffff)) {
		app_fatal((int)PTR_s_M_ChangeLightOffset__Invalid_mon_100f3298, param_1, param_3, param_4,
		    param_5, param_6, param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4,
		    in_stack_ffffffe8, in_stack_ffffffec, in_stack_fffffff0, in_stack_fffffff4);
	}
	iVar4 = (int)param_1 * 0xe8;
	puVar3 = puVar5 + iVar4;
	iVar1 = *(int *)(puVar3 + 0x38);
	iVar2 = *(int *)(puVar3 + 0x3c) * 2;
	iVar7 = iVar2 - iVar1;
	if (iVar7 < 0) {
		iVar7 = -iVar7;
		iVar6 = -1;
	} else {
		iVar6 = 1;
	}
	ChangeLightOff((uint)(byte)puVar5[iVar4 + 0xdb], iVar1 + iVar2 >> 3, (iVar7 >> 3) * iVar6);
	return;
}

undefined8
M_DoStand(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint uVar1;
	char *pcVar2;
	undefined4 uVar3;
	int iVar4;
	undefined *puVar5;
	undefined **ppuVar6;
	undefined uVar7;
	longlong lVar8;
	undefined7 uVar9;
	undefined uVar10;
	undefined7 uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined uVar14;
	undefined uVar15;
	ulonglong uVar16;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar5 = PTR_DAT_100f187c;
	uVar11 = (undefined7)((ulonglong)param_5 >> 8);
	uVar12 = (undefined)param_5;
	uVar9 = (undefined7)((ulonglong)param_4 >> 8);
	uVar10 = (undefined)param_4;
	ppuVar6 = &toc;
	uVar16 = ZEXT48(PTR_DAT_100f187c);
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar6 = &toc;
		app_fatal((int)PTR_s_M_DoStand__Invalid_monster__d_100f3294, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	uVar15 = (undefined)param_8;
	uVar14 = (undefined)param_7;
	uVar13 = (undefined)param_6;
	lVar8 = uVar16 + param_1 * 0xe8;
	lVar8._7_1_ = (undefined)lVar8;
	iVar4 = (int)lVar8;
	if (*(int *)(iVar4 + 0xe0) == 0) {
		uVar1 = *(uint *)(iVar4 + 0xdc);
		lVar8._7_1_ = (undefined)uVar1;
		app_fatal((int)ppuVar6[-0x1750], param_1, (ulonglong)uVar1, CONCAT71(uVar9, uVar10),
		    CONCAT71(uVar11, uVar12), param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	puVar5 = puVar5 + (int)(param_1 * 0xe8);
	pcVar2 = *(char **)(puVar5 + 0xe0);
	if (*pcVar2 == 'm') {
		lVar8 = ZEXT48(pcVar2) + (ulonglong)(uint)(*(int *)(puVar5 + 0x48) << 3);
		uVar7 = (undefined)lVar8;
		iVar4 = (int)lVar8;
		uVar3 = *(undefined4 *)(iVar4 + 0x58);
		*(undefined4 *)(puVar5 + 0x54) = *(undefined4 *)(iVar4 + 0x54);
		*(undefined4 *)(puVar5 + 0x58) = uVar3;
	} else {
		lVar8 = ZEXT48(pcVar2) + (ulonglong)(uint)(*(int *)(puVar5 + 0x48) << 3);
		uVar7 = (undefined)lVar8;
		iVar4 = (int)lVar8;
		uVar3 = *(undefined4 *)(iVar4 + 0xc);
		*(undefined4 *)(puVar5 + 0x54) = *(undefined4 *)(iVar4 + 8);
		*(undefined4 *)(puVar5 + 0x58) = uVar3;
	}
	if (*(int *)(puVar5 + 0x68) == *(int *)(puVar5 + 100)) {
		FUN_1006b278((int)param_1, uVar7, (undefined)lVar8, uVar10, uVar12, uVar13, uVar14, uVar15,
		    in_stack_ffffffb8);
	}
	*(int *)(puVar5 + 0x78) = *(int *)(puVar5 + 0x78) + 1;
	return 0;
}

undefined8
M_DoWalk(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    longlong param_5, undefined4 param_6, int *param_7, undefined4 param_8, undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	int iVar3;
	int iVar4;
	int iVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined **ppuVar8;
	ulonglong uVar9;
	longlong lVar10;
	undefined8 uVar11;
	longlong lVar12;
	ulonglong uVar13;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar7 = PTR_DAT_100f1954;
	puVar6 = PTR_DAT_100f187c;
	ppuVar8 = &toc;
	uVar13 = ZEXT48(PTR_DAT_100f187c);
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar8 = &toc;
		app_fatal((int)PTR_s_M_DoWalk__Invalid_monster__d_100f328c, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	lVar12 = param_1 * 0xe8;
	iVar5 = (int)lVar12;
	if (*(int *)(puVar6 + iVar5 + 0xe0) == 0) {
		app_fatal((int)ppuVar8[-0x1752], param_1, (ulonglong) * (uint *)(puVar6 + iVar5 + 0xdc), param_4,
		    param_5, param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	lVar10 = uVar13 + lVar12 + 0x90;
	uVar1 = *(uint *)lVar10;
	uVar9 = (ulonglong)uVar1;
	if (uVar1 == *(uint *)(*(int *)(puVar6 + iVar5 + 0xe0) + 0x94)) {
		puVar2 = puVar6 + iVar5;
		param_6 = 0;
		iVar3 = (int)(uVar13 + lVar12);
		param_5 = uVar13 + lVar12;
		lVar10 = param_1 + 1;
		*(undefined2 *)(*(int *)puVar7 + *(int *)(puVar2 + 0x20) * 0xe0 + *(int *)(iVar3 + 0x24) * 2) = 0;
		iVar4 = (int)param_5;
		*(int *)(puVar2 + 0x20) = *(int *)(puVar2 + 0x20) + *(int *)(iVar4 + 0x74);
		*(int *)(iVar3 + 0x24) = *(int *)(iVar3 + 0x24) + *(int *)(iVar4 + 0x78);
		param_7 = (int *)(puVar2 + 0x20);
		uVar9 = uVar13 + lVar12 + 0x24;
		*(undefined2 *)(*(int *)puVar7 + *param_7 * 0xe0 + *(uint *)uVar9 * 2) = (short)lVar10;
		if (*(char *)(iVar4 + 0xc0) != '\0') {
			uVar1 = *(uint *)uVar9;
			uVar9 = (ulonglong)uVar1;
			param_6 = 0;
			ChangeLightXY((uint) * (byte *)(iVar4 + 0xdb), *param_7, uVar1);
		}
		uVar13 = (ulonglong) * (uint *)(puVar6 + iVar5 + 0x48);
		FUN_1006b758((int)param_1, *(uint *)(puVar6 + iVar5 + 0x48), (char)uVar9, (char)lVar10,
		    (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffb8);
		uVar11 = 1;
	} else {
		uVar13 = uVar13 + lVar12;
		iVar3 = (int)uVar13;
		if (*(int *)(iVar3 + 0x60) == 0) {
			*(uint *)lVar10 = uVar1 + 1;
			*(int *)(iVar3 + 0x88) = *(int *)(iVar3 + 0x88) + *(int *)(iVar3 + 0x40);
			*(int *)(iVar3 + 0x8c) = *(int *)(iVar3 + 0x8c) + *(int *)(iVar3 + 0x44);
			*(int *)(iVar3 + 0x38) = *(int *)(iVar3 + 0x88) >> 4;
			*(int *)(iVar3 + 0x3c) = *(int *)(iVar3 + 0x8c) >> 4;
		}
		uVar11 = 0;
	}
	if (puVar6[iVar5 + 0xc0] != '\0') {
		M_ChangeLightOffset(param_1, uVar13, uVar9, lVar10, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	return uVar11;
}

undefined8
M_DoWalk2(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint uVar1;
	int iVar2;
	int iVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	ulonglong uVar6;
	longlong lVar7;
	undefined7 uVar8;
	undefined uVar9;
	undefined8 uVar10;
	longlong lVar11;
	ulonglong uVar12;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar4 = PTR_DAT_100f187c;
	uVar8 = (undefined7)((ulonglong)param_5 >> 8);
	uVar9 = (undefined)param_5;
	ppuVar5 = &toc;
	uVar12 = ZEXT48(PTR_DAT_100f187c);
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar5 = &toc;
		app_fatal((int)PTR_s_M_DoWalk2__Invalid_monster__d_100f3284, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	lVar11 = param_1 * 0xe8;
	iVar3 = (int)lVar11;
	if (*(int *)(puVar4 + iVar3 + 0xe0) == 0) {
		app_fatal((int)ppuVar5[-0x1754], param_1, (ulonglong) * (uint *)(puVar4 + iVar3 + 0xdc), param_4,
		    CONCAT71(uVar8, uVar9), param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	lVar7 = uVar12 + lVar11 + 0x90;
	uVar1 = *(uint *)lVar7;
	uVar6 = (ulonglong)uVar1;
	if (uVar1 == *(uint *)(*(int *)(puVar4 + iVar3 + 0xe0) + 0x94)) {
		uVar6 = uVar12 + lVar11;
		iVar2 = (int)uVar6;
		lVar7 = 0;
		*(undefined2 *)(*(int *)ppuVar5[-0x1d9f] + *(int *)(iVar2 + 0x74) * 0xe0 + *(int *)(iVar2 + 0x78) * 2) = 0;
		if (*(char *)(iVar2 + 0xc0) != '\0') {
			uVar6 = (ulonglong) * (uint *)(iVar2 + 0x24);
			ChangeLightXY((uint) * (byte *)(iVar2 + 0xdb), *(undefined4 *)(iVar2 + 0x20),
			    *(uint *)(iVar2 + 0x24));
		}
		uVar12 = (ulonglong) * (uint *)(puVar4 + iVar3 + 0x48);
		FUN_1006b758((int)param_1, *(uint *)(puVar4 + iVar3 + 0x48), (char)uVar6, (char)lVar7, uVar9,
		    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffb8);
		uVar10 = 1;
	} else {
		uVar12 = uVar12 + lVar11;
		iVar2 = (int)uVar12;
		if (*(int *)(iVar2 + 0x60) == 0) {
			*(uint *)lVar7 = uVar1 + 1;
			*(int *)(iVar2 + 0x88) = *(int *)(iVar2 + 0x88) + *(int *)(iVar2 + 0x40);
			*(int *)(iVar2 + 0x8c) = *(int *)(iVar2 + 0x8c) + *(int *)(iVar2 + 0x44);
			*(int *)(iVar2 + 0x38) = *(int *)(iVar2 + 0x88) >> 4;
			*(int *)(iVar2 + 0x3c) = *(int *)(iVar2 + 0x8c) >> 4;
		}
		uVar10 = 0;
	}
	if (puVar4[iVar3 + 0xc0] != '\0') {
		M_ChangeLightOffset(param_1, uVar12, uVar6, lVar7, CONCAT71(uVar8, uVar9), param_6, param_7, param_8,
		    in_stack_ffffffb8);
	}
	return uVar10;
}

undefined8
M_DoWalk3(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    longlong param_5, undefined *param_6, int param_7, undefined4 param_8, undefined4 param_9)

{
	int *piVar1;
	uint uVar2;
	undefined *puVar3;
	int iVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined **ppuVar7;
	int iVar8;
	ulonglong uVar9;
	ulonglong uVar10;
	undefined8 uVar11;
	longlong lVar12;
	ulonglong uVar13;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar6 = PTR_DAT_100f1954;
	puVar5 = PTR_DAT_100f187c;
	ppuVar7 = &toc;
	uVar13 = ZEXT48(PTR_DAT_100f187c);
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar7 = &toc;
		app_fatal((int)PTR_s_M_DoWalk3__Invalid_monster__d_100f327c, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	lVar12 = param_1 * 0xe8;
	iVar4 = (int)lVar12;
	if (*(int *)(puVar5 + iVar4 + 0xe0) == 0) {
		app_fatal((int)ppuVar7[-0x1756], param_1, (ulonglong) * (uint *)(puVar5 + iVar4 + 0xdc), param_4,
		    param_5, param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	uVar10 = uVar13 + lVar12 + 0x90;
	uVar2 = *(uint *)uVar10;
	uVar9 = (ulonglong)uVar2;
	if (uVar2 == *(uint *)(*(int *)(puVar5 + iVar4 + 0xe0) + 0x94)) {
		puVar3 = puVar5 + iVar4;
		param_8 = 0;
		iVar8 = (int)(uVar13 + lVar12);
		param_6 = puVar5 + iVar4;
		param_7 = *(int *)puVar6;
		param_5 = param_1 + 1;
		piVar1 = (int *)ppuVar7[-0x1de7];
		*(undefined2 *)(param_7 + *(int *)(puVar3 + 0x20) * 0xe0 + *(int *)(iVar8 + 0x24) * 2) = 0;
		*(undefined4 *)(puVar3 + 0x20) = *(undefined4 *)(param_6 + 0x74);
		*(undefined4 *)(iVar8 + 0x24) = *(undefined4 *)(param_6 + 0x78);
		iVar8 = *(int *)(param_6 + 0x80) * 0x70 + *(int *)(param_6 + 0x84);
		*(byte *)(*piVar1 + iVar8) = *(byte *)(*piVar1 + iVar8) & 0xef;
		uVar9 = uVar13 + lVar12 + 0x24;
		uVar2 = *(uint *)puVar6;
		uVar10 = (ulonglong)uVar2;
		*(undefined2 *)(uVar2 + *(int *)(puVar3 + 0x20) * 0xe0 + *(uint *)uVar9 * 2) = (short)param_5;
		if (param_6[0xc0] != '\0') {
			uVar2 = *(uint *)uVar9;
			uVar9 = (ulonglong)uVar2;
			param_8 = 0;
			ChangeLightXY((uint)(byte)param_6[0xdb], *(int *)(puVar3 + 0x20), uVar2);
		}
		uVar13 = (ulonglong) * (uint *)(puVar5 + iVar4 + 0x48);
		FUN_1006b758((int)param_1, *(uint *)(puVar5 + iVar4 + 0x48), (char)uVar9, (char)uVar10,
		    (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffb8);
		uVar11 = 1;
	} else {
		uVar13 = uVar13 + lVar12;
		iVar8 = (int)uVar13;
		if (*(int *)(iVar8 + 0x60) == 0) {
			*(uint *)uVar10 = uVar2 + 1;
			*(int *)(iVar8 + 0x88) = *(int *)(iVar8 + 0x88) + *(int *)(iVar8 + 0x40);
			*(int *)(iVar8 + 0x8c) = *(int *)(iVar8 + 0x8c) + *(int *)(iVar8 + 0x44);
			*(int *)(iVar8 + 0x38) = *(int *)(iVar8 + 0x88) >> 4;
			*(int *)(iVar8 + 0x3c) = *(int *)(iVar8 + 0x8c) >> 4;
		}
		uVar11 = 0;
	}
	if (puVar5[iVar4 + 0xc0] != '\0') {
		M_ChangeLightOffset(param_1, uVar13, uVar9, uVar10, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	return uVar11;
}

void M_TryM2MHit(ulonglong param_1, ulonglong param_2, ulonglong param_3, longlong param_4,
    longlong param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int *piVar1;
	int *piVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	longlong lVar5;
	undefined8 uVar6;
	ulonglong uVar7;
	undefined uVar9;
	int iVar8;
	undefined7 uVar10;
	undefined uVar11;
	undefined7 uVar12;
	undefined uVar13;
	undefined8 unaff_r23;
	undefined8 unaff_r24;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined4 in_stack_ffffffa8;
	undefined uVar14;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 auStack56[5];
	undefined4 local_24;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar3 = PTR_DAT_100f187c;
	uVar12 = (undefined7)((ulonglong)param_5 >> 8);
	uVar13 = (undefined)param_5;
	uVar10 = (undefined7)((ulonglong)param_4 >> 8);
	uVar11 = (undefined)param_4;
	ppuVar4 = &toc;
	local_24 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar7 = param_3;
	if (199 < (param_2 & 0xffffffff)) {
		uVar7 = param_3;
		ppuVar4 = &toc;
		app_fatal((int)PTR_s_M_TryM2MHit__Invalid_monster__d_100f3274, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffa8,
		    in_stack_ffffffac, in_stack_ffffffb0, in_stack_ffffffb4, in_stack_ffffffb8,
		    in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4);
	}
	uVar14 = (undefined)in_stack_ffffffa8;
	iVar8 = (int)param_2 * 0xe8;
	if (*(char **)(puVar3 + iVar8 + 0xe0) == (char *)0x0) {
		uVar7 = (ulonglong) * (uint *)(puVar3 + iVar8 + 0xdc);
		app_fatal((int)ppuVar4[-0x1758], param_2, uVar7, CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13), param_6, param_7, param_8, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffa8,
		    in_stack_ffffffac, in_stack_ffffffb0, in_stack_ffffffb4, in_stack_ffffffb8,
		    in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4);
	}
	piVar1 = (int *)(puVar3 + iVar8 + 0x98);
	if ((*piVar1 >> 6 != 0) && ((**(char **)(puVar3 + iVar8 + 0xe0) != ' ' || (puVar3[iVar8 + 8] != '\x02')))) {
		lVar5 = random(4, 100, (char)uVar7, uVar11, uVar13, (char)param_6, (char)param_7, (char)param_8,
		    in_stack_ffffff98, in_stack_ffffff9f, uVar14);
		uVar9 = (undefined)uVar7;
		lVar5._4_4_ = (int)lVar5;
		piVar2 = (int *)(puVar3 + iVar8 + 4);
		if (*piVar2 == 0xf) {
			lVar5._4_4_ = 0;
		}
		uVar6 = CheckMonsterHit(param_2, auStack56, uVar7, CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13),
		    param_6, param_7, param_8, in_stack_ffffff98);
		if ((int)uVar6 == 0) {
			if (lVar5._4_4_ < (int)param_3) {
				lVar5 = random(5, (param_5 - param_4) + 1, uVar9, uVar11, uVar13, (char)param_6,
				    (char)param_7, (char)param_8, in_stack_ffffff98, in_stack_ffffff9f, uVar14);
				iVar8 = (int)param_4 + (int)lVar5;
				uVar7 = (ulonglong)(uint)(iVar8 * 0x40);
				*piVar1 = *piVar1 + iVar8 * -0x40;
				if (*piVar1 >> 6 == 0) {
					if (*piVar2 == 0xf) {
						M2MStartKill(param_1, param_2, uVar7, CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13),
						    param_6, param_7, param_8, in_stack_ffffff98);
						*piVar2 = 0xf;
					} else {
						M2MStartKill(param_1, param_2, uVar7, CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13),
						    param_6, param_7, param_8, in_stack_ffffff98);
					}
				} else {
					if (*piVar2 == 0xf) {
						M2MStartHit(param_2, param_1, uVar7, CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13),
						    param_6, param_7, param_8, in_stack_ffffff98);
						*piVar2 = 0xf;
					} else {
						M2MStartHit(param_2, param_1, uVar7, CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13),
						    param_6, param_7, param_8, in_stack_ffffff98);
					}
				}
			}
		}
	}
	return;
}

void M_TryH2HHit(ulonglong param_1, ulonglong param_2, ulonglong param_3, longlong param_4,
    longlong param_5, undefined4 param_6, undefined4 param_7, undefined8 param_8,
    undefined4 param_9)

{
	byte bVar1;
	char cVar2;
	byte bVar3;
	undefined *puVar4;
	undefined *puVar5;
	uint *puVar6;
	undefined *puVar7;
	uint *puVar8;
	undefined *puVar9;
	int iVar10;
	int iVar11;
	int iVar12;
	undefined *puVar13;
	undefined *puVar14;
	int iVar15;
	int iVar16;
	undefined **ppuVar17;
	longlong lVar18;
	longlong lVar19;
	longlong lVar20;
	undefined8 uVar21;
	undefined uVar25;
	ulonglong uVar22;
	uint *puVar23;
	uint uVar24;
	undefined uVar28;
	ulonglong uVar26;
	ulonglong uVar27;
	undefined uVar30;
	ulonglong uVar29;
	undefined uVar33;
	ulonglong uVar31;
	undefined4 uVar32;
	undefined uVar35;
	undefined4 uVar34;
	undefined4 uVar36;
	uint *puVar37;
	uint *puVar38;
	int iVar39;
	uint uVar40;
	undefined4 in_stack_ffffff68;
	undefined in_stack_ffffff6f;
	undefined4 in_stack_ffffff78;
	undefined uVar41;
	undefined4 in_stack_ffffff7c;
	undefined4 in_stack_ffffff80;
	undefined4 in_stack_ffffff84;
	undefined4 in_stack_ffffff88;
	undefined4 in_stack_ffffff8c;
	undefined4 in_stack_ffffff90;
	undefined4 in_stack_ffffff94;

	puVar9 = PTR_DAT_100f196c;
	puVar14 = PTR_DAT_100f187c;
	puVar13 = PTR_DAT_100f1828;
	uVar25 = (undefined)param_3;
	ppuVar17 = &toc;
	lVar18 = param_4;
	lVar19 = param_5;
	if (199 < (param_1 & 0xffffffff)) {
		lVar18 = param_4;
		lVar19 = param_5;
		ppuVar17 = &toc;
		app_fatal((int)PTR_s_M_TryH2HHit__Invalid_monster__d_100f326c, param_1, param_3, param_4, param_5, param_6, param_7, (int)param_8, in_stack_ffffff68, in_stack_ffffff6f, in_stack_ffffff78, in_stack_ffffff7c, in_stack_ffffff80, in_stack_ffffff84, in_stack_ffffff88,
		    in_stack_ffffff8c, in_stack_ffffff90, in_stack_ffffff94);
	}
	uVar41 = (undefined)in_stack_ffffff78;
	uVar30 = (undefined)param_5;
	uVar28 = (undefined)lVar18;
	iVar10 = (int)param_1 * 0xe8;
	puVar4 = puVar14 + iVar10;
	if (*(int *)(puVar4 + 0xe0) == 0) {
		uVar25 = (undefined) * (uint *)(puVar14 + iVar10 + 0xdc);
		app_fatal((int)ppuVar17[-0x175a], param_1, (ulonglong) * (uint *)(puVar14 + iVar10 + 0xdc), lVar18, param_5, param_6, param_7, (int)param_8, in_stack_ffffff68, in_stack_ffffff6f,
		    in_stack_ffffff78, in_stack_ffffff7c, in_stack_ffffff80, in_stack_ffffff84,
		    in_stack_ffffff88, in_stack_ffffff8c, in_stack_ffffff90, in_stack_ffffff94);
	}
	iVar39 = (int)lVar19;
	uVar35 = (undefined)param_7;
	uVar33 = (undefined)param_6;
	puVar5 = puVar14 + iVar10;
	if ((*(uint *)(puVar5 + 0xa0) & 0x10) == 0) {
		iVar12 = (int)param_2;
		iVar11 = iVar12 * 0x55ec;
		puVar6 = (uint *)(puVar13 + iVar11 + 0x194);
		if ((int)*puVar6 >> 6 != 0) {
			puVar7 = puVar13 + iVar11;
			if ((puVar7[0x139] == '\0') && ((puVar7[0x11c] & 1) == 0)) {
				puVar37 = (uint *)(puVar7 + 0x38);
				lVar18 = abs((ulonglong) * (uint *)(puVar14 + iVar10 + 0x20) - (ulonglong) * (uint *)(puVar7 + 0x38));
				puVar38 = (uint *)(puVar7 + 0x3c);
				lVar19 = abs((ulonglong) * (uint *)(puVar14 + iVar10 + 0x24) - (ulonglong) * (uint *)(puVar7 + 0x3c));
				if (((int)lVar18 < 2) && ((int)lVar19 < 2)) {
					lVar18 = random(0x62, 100, uVar25, uVar28, uVar30, uVar33, uVar35, (char)param_8,
					    in_stack_ffffff68, in_stack_ffffff6f, uVar41);
					bVar3 = puVar14[iVar10 + 0xc4];
					uVar31 = (ulonglong)bVar3;
					lVar19 = param_3 + 0x1e;
					uVar24 = *(uint *)(puVar7 + 0x170);
					bVar1 = puVar7[0x1b4];
					uVar29 = (ulonglong)bVar1;
					uVar24 = (int)uVar24 / 5 + ((int)uVar24 >> 0x1f);
					iVar15 = ((int)lVar19 - (*(int *)(puVar7 + 0x554c) + *(int *)(puVar7 + 0x5558) + uVar24 + (uVar24 >> 0x1f))) + ((int)(char)bVar3 - (int)(char)bVar1) * 2;
					if (iVar15 < 0xf) {
						iVar15 = 0xf;
					}
					cVar2 = *ppuVar17[-0x1df9];
					if ((cVar2 == '\x0e') && (iVar15 < 0x14)) {
						iVar15 = 0x14;
					}
					if ((cVar2 == '\x0f') && (iVar15 < 0x19)) {
						iVar15 = 0x19;
					}
					if ((cVar2 == '\x10') && (iVar15 < 0x1e)) {
						iVar15 = 0x1e;
					}
					lVar20._4_4_ = *(int *)(puVar13 + iVar11);
					if (((lVar20._4_4_ == 0) || (lVar20._4_4_ == 4)) && (puVar13[iVar11 + 0x138] != '\0')) {
						lVar20 = random(0x62, 100, bVar3, (char)*(int *)(puVar7 + 0x554c), bVar1, bVar3,
						    (char)lVar19, (char)param_8, in_stack_ffffff68, in_stack_ffffff6f,
						    uVar41);
						lVar20._4_4_ = (int)lVar20;
					} else {
						lVar20._4_4_ = 100;
					}
					uVar22 = (ulonglong) * (uint *)(puVar13 + iVar11 + 0x188);
					bVar1 = puVar7[0x1b4];
					uVar26 = SEXT18((char)bVar1);
					lVar20 = (uVar22 + (ulonglong) * (uint *)(puVar7 + 0x170)) - (ulonglong)(uint)(((int)(char)puVar14[iVar10 + 0xc4] - (int)(char)bVar1) * 2);
					iVar16 = (int)lVar20;
					if (lVar20 < 0) {
						iVar16 = 0;
					}
					if (100 < iVar16) {
						iVar16 = 100;
					}
					if ((int)lVar18 < iVar15) {
						if (lVar20._4_4_ < iVar16) {
							uVar26 = (ulonglong) * (uint *)(puVar14 + iVar10 + 0x20);
							uVar24 = *(uint *)(puVar14 + iVar10 + 0x24);
							uVar27 = (ulonglong)uVar24;
							uVar22 = GetDirection((ulonglong)*puVar37, *puVar38, uVar26, uVar24);
							StartPlrBlock(param_2, uVar22, uVar26, uVar27, uVar29, uVar31, lVar19, param_8,
							    in_stack_ffffff68);
						} else {
							if ((**(char **)(puVar4 + 0xe0) == '\x03') && (iVar12 == *(int *)ppuVar17[-0x1deb])) {
								uVar22 = 0xffffffffffffffff;
								iVar15 = -1;
								puVar23 = (uint *)ppuVar17[-0x1d98];
								uVar27 = (ulonglong) * (uint *)ppuVar17[-0x1d9a];
								if (0 < (int)*(uint *)ppuVar17[-0x1d9a]) {
									do {
										uVar26 = (ulonglong)*puVar23;
										iVar15 = *puVar23 * 0xb4;
										if ((*(int *)(puVar9 + iVar15) == 0xd) && (iVar12 == *(int *)(puVar9 + iVar15 + 0x78))) {
											uVar22 = uVar26;
										}
										iVar15 = (int)uVar22;
										puVar23 = puVar23 + 1;
										uVar27 = uVar27 - 1;
									} while (uVar27 != 0);
								}
								puVar23 = (uint *)(puVar13 + iVar11 + 0x198);
								uVar24 = *puVar23;
								uVar22 = (ulonglong)uVar24;
								if (0x40 < (int)uVar24) {
									puVar8 = (uint *)(puVar13 + iVar11 + 400);
									uVar26 = (ulonglong)*puVar8;
									if (0x40 < (int)*puVar8) {
										*puVar23 = uVar24 - 0x40;
										if (((int)*puVar23 < (int)*puVar6) && (*puVar6 = *puVar23, -1 < iVar15)) {
											*(uint *)(puVar9 + iVar15 * 0xb4 + 0x94) = *puVar6;
										}
										*puVar8 = *puVar8 - 0x40;
										puVar23 = (uint *)(puVar13 + iVar11 + 0x18c);
										uVar22 = (ulonglong)*puVar23;
										if (((int)*puVar8 < (int)*puVar23) && (*puVar23 = *puVar8, -1 < iVar15)) {
											*(uint *)(puVar9 + iVar15 * 0xb4 + 0x98) = *puVar23;
										}
									}
								}
							}
							lVar18 = random(99, (ulonglong)(uint)(((iVar39 - (int)param_4) + 1) * 0x40),
							    (char)uVar22, (char)uVar26, (char)uVar29, (char)uVar31, (char)lVar19, (char)param_8, in_stack_ffffff68, in_stack_ffffff6f, uVar41);
							iVar39 = (int)param_4 * 0x40 + (int)lVar18 + *(int *)(puVar13 + iVar11 + 0x556c) * 0x40;
							if (iVar39 < 0x40) {
								iVar39 = 0x40;
							}
							if (iVar12 == *(int *)ppuVar17[-0x1deb]) {
								*puVar6 = *puVar6 - iVar39;
								*(int *)(puVar13 + iVar11 + 0x18c) = *(int *)(puVar13 + iVar11 + 0x18c) - iVar39;
							}
							if ((*(uint *)(puVar13 + iVar11 + 0x5568) & 0x4000000) != 0) {
								lVar18 = random(99, 3, (char)uVar22, (char)uVar26, (char)uVar29, (char)uVar31,
								    (char)lVar19, (char)param_8, in_stack_ffffff68, in_stack_ffffff6f, uVar41);
								puVar9 = puVar14 + iVar10;
								iVar15 = (int)lVar18 + 1;
								uVar22 = (ulonglong)(uint)(iVar15 * 0x40);
								*(int *)(puVar9 + 0x98) = *(int *)(puVar9 + 0x98) + iVar15 * -0x40;
								if (*(int *)(puVar9 + 0x98) >> 6 == 0) {
									M_StartKill(param_1, param_2, uVar22, uVar26, uVar29, (int)uVar31, (int)lVar19,
									    (int)param_8, in_stack_ffffff68);
								} else {
									M_StartHit(param_1, param_2, uVar22, uVar26, uVar29, (int)uVar31, (int)lVar19,
									    (int)param_8, in_stack_ffffff68);
								}
							}
							if ((((*(uint *)(puVar5 + 0xa0) & 0x1000) == 0) && (**(char **)(puVar4 + 0xe0) == '2')) && (*ppuVar17[-0x1dfc] != '\x01')) {
								*(int *)(puVar14 + iVar10 + 0x98) = *(int *)(puVar14 + iVar10 + 0x98) + iVar39;
							}
							puVar9 = puVar13 + iVar11;
							if ((int)*(uint *)(puVar9 + 0x198) < (int)*puVar6) {
								*puVar6 = *(uint *)(puVar9 + 0x198);
								*(undefined4 *)(puVar9 + 0x18c) = *(undefined4 *)(puVar9 + 400);
							}
							if ((int)*puVar6 >> 6 == 0) {
								SyncPlrKill(param_2, 0, uVar22, uVar26, uVar29, uVar31, lVar19, param_8, in_stack_ffffff68);
							} else {
								StartPlrHit(param_2, (char)iVar39, 0, uVar26, uVar29, uVar31, lVar19, param_8,
								    in_stack_ffffff68);
								uVar34 = (undefined4)lVar19;
								uVar32 = (undefined4)uVar31;
								uVar36 = (undefined4)param_8;
								if ((*(uint *)(puVar5 + 0xa0) & 0x80) != 0) {
									if (*(int *)(puVar13 + iVar11) != 7) {
										StartPlrHit(param_2, '\0', 1, uVar26, uVar29, uVar31, lVar19, param_8,
										    in_stack_ffffff68);
									}
									uVar31 = (ulonglong)*puVar37;
									uVar29 = (ulonglong)
									    * (uint *)(ppuVar17[-0x1c7b] + *(int *)(puVar14 + iVar10 + 0x48) * 4);
									lVar19 = uVar31 + uVar29;
									lVar18 = (ulonglong)*puVar38 + (ulonglong) * (uint *)(ppuVar17[-0x1c7c] + *(int *)(puVar14 + iVar10 + 0x48) * 4);
									uVar24 = (uint)lVar18;
									uVar21 = PosOkPlayer(iVar12, lVar19, uVar24,
									    (char)*(uint *)(ppuVar17[-0x1c7b] + *(int *)(puVar14 + iVar10 + 0x48) * 4),
									    (char)*puVar37, (char)uVar32, (char)uVar34, (char)uVar36,
									    in_stack_ffffff68);
									if ((int)uVar21 != 0) {
										uVar40 = (uint)lVar19;
										*puVar37 = uVar40;
										*puVar38 = uVar24;
										uVar22 = (ulonglong) * (uint *)(puVar13 + iVar11 + 0x70);
										FixPlayerLocation(param_2, *(uint *)(puVar13 + iVar11 + 0x70), lVar18, uVar29, uVar31,
										    uVar32, uVar34, uVar36, in_stack_ffffff68);
										FixPlrWalkTags(param_2, uVar22, lVar18, uVar29, uVar31, uVar32, uVar34, uVar36,
										    in_stack_ffffff68);
										*(undefined *)(*(int *)ppuVar17[-0x1da0] + uVar40 * 0x70 + uVar24) = (char)(param_2 + 1);
										SetPlayerOld(param_2, param_2 + 1, lVar18, uVar29, uVar31, uVar32, uVar34, uVar36,
										    in_stack_ffffff68);
									}
								}
							}
						}
					}
				}
			}
		}
	} else {
		M_TryM2MHit(param_1, param_2, param_3, param_4, lVar19, param_6, param_7, (int)param_8,
		    in_stack_ffffff68);
	}
	return;
}

ulonglong M_DoAttack(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined8 param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	int iVar3;
	int iVar4;
	undefined **ppuVar5;
	byte bVar6;
	byte bVar7;
	byte bVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar2 = PTR_DAT_100f187c;
	bVar6 = (byte)param_3;
	ppuVar5 = &toc;
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar5 = &toc;
		app_fatal((int)PTR_s_M_DoAttack__Invalid_monster__d_100f3264, param_1, param_3, param_4, param_5,
		    param_6, param_7, (int)param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	iVar4 = (int)param_1;
	iVar3 = iVar4 * 0xe8;
	if (*(int *)(puVar2 + iVar3 + 0xe0) == 0) {
		bVar6 = (byte) * (uint *)(puVar2 + iVar3 + 0xdc);
		app_fatal((int)ppuVar5[-0x175c], param_1, (ulonglong) * (uint *)(puVar2 + iVar3 + 0xdc), param_4,
		    param_5, param_6, param_7, (int)param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	bVar8 = (byte)param_5;
	bVar7 = (byte)param_4;
	if (*(int *)(puVar2 + iVar3 + 0xe0) == 0) {
		bVar6 = (byte) * (uint *)(puVar2 + iVar3 + 0xdc);
		app_fatal((int)ppuVar5[-0x175d], param_1, (ulonglong) * (uint *)(puVar2 + iVar3 + 0xdc), param_4,
		    param_5, param_6, param_7, (int)param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	puVar2 = puVar2 + iVar3;
	if (*(uint *)(puVar2 + 0x68) == (uint) * (byte *)(*(int *)(puVar2 + 0xe4) + 0x6a)) {
		bVar6 = puVar2[200];
		bVar7 = puVar2[0xc9];
		bVar8 = puVar2[0xca];
		M_TryH2HHit(param_1, (ulonglong) * (uint *)(puVar2 + 0x4c), (ulonglong)bVar6, (ulonglong)bVar7,
		    (ulonglong)bVar8, param_6, param_7, param_8, in_stack_ffffffb8);
		if (puVar2[0x9c] != '\x18') {
			FUN_1003bc74(iVar4, 0, bVar6, bVar7, bVar8, (char)param_6, (char)param_7, (char)param_8,
			    in_stack_ffffffb8);
		}
	}
	if (((0x3b < **(byte **)(puVar2 + 0xe0)) && (**(byte **)(puVar2 + 0xe0) < 0x40)) && (*(int *)(puVar2 + 0x68) == 9)) {
		bVar6 = (byte)((ulonglong)(byte)puVar2[200] + 10);
		bVar7 = (byte)((ulonglong)(byte)puVar2[0xc9] - 2);
		bVar8 = (byte)((ulonglong)(byte)puVar2[0xca] - 2);
		M_TryH2HHit(param_1, (ulonglong) * (uint *)(puVar2 + 0x4c), (ulonglong)(byte)puVar2[200] + 10,
		    (ulonglong)(byte)puVar2[0xc9] - 2, (ulonglong)(byte)puVar2[0xca] - 2, param_6, param_7, param_8, in_stack_ffffffb8);
		FUN_1003bc74(iVar4, 0, bVar6, bVar7, bVar8, (char)param_6, (char)param_7, (char)param_8,
		    in_stack_ffffffb8);
	}
	uVar10 = (undefined)param_7;
	uVar9 = (undefined)param_6;
	uVar11 = (undefined)param_8;
	if (((0x4b < **(byte **)(puVar2 + 0xe0)) && (**(byte **)(puVar2 + 0xe0) < 0x50)) && (*(int *)(puVar2 + 0x68) == 0xd)) {
		bVar6 = (byte)((ulonglong)(byte)puVar2[200] - 0x14);
		bVar7 = (byte)((ulonglong)(byte)puVar2[0xc9] + 4);
		bVar8 = (byte)((ulonglong)(byte)puVar2[0xca] + 4);
		M_TryH2HHit(param_1, (ulonglong) * (uint *)(puVar2 + 0x4c), (ulonglong)(byte)puVar2[200] - 0x14,
		    (ulonglong)(byte)puVar2[0xc9] + 4, (ulonglong)(byte)puVar2[0xca] + 4, param_6, param_7, param_8, in_stack_ffffffb8);
		FUN_1003bc74(iVar4, 0, bVar6, bVar7, bVar8, uVar9, uVar10, uVar11, in_stack_ffffffb8);
	}
	if ((puVar2[0x9c] == '\x18') && (*(int *)(puVar2 + 0x68) == 1)) {
		FUN_1003bc74(iVar4, 0, bVar6, bVar7, bVar8, uVar9, uVar10, uVar11, in_stack_ffffffb8);
	}
	iVar3 = *(int *)(puVar2 + 0x68);
	iVar1 = *(int *)(puVar2 + 100);
	if (iVar3 == iVar1) {
		FUN_1006b758(iVar4, *(int *)(puVar2 + 0x48), bVar6, bVar7, bVar8, uVar9, uVar10, uVar11,
		    in_stack_ffffffb8);
	}
	return (ulonglong)(iVar3 == iVar1);
}

ulonglong M_DoRAttack(ulonglong param_1, undefined8 param_2, undefined8 param_3, ulonglong param_4,
    ulonglong param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	bool bVar1;
	uint uVar2;
	undefined *puVar3;
	int iVar4;
	int iVar5;
	undefined *puVar6;
	undefined **ppuVar7;
	ulonglong uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar13;
	ulonglong uVar12;
	undefined uVar15;
	longlong lVar14;
	ulonglong uVar16;
	undefined uVar17;
	int iVar18;
	int iVar19;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar6 = PTR_DAT_100f187c;
	uVar16 = SEXT48(param_8);
	lVar14 = (longlong)param_7;
	uVar12 = SEXT48(param_6);
	ppuVar7 = &toc;
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar7 = &toc;
		app_fatal((int)PTR_s_M_DoRAttack__Invalid_monster__d_100f3258, param_1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffb8,
		    in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
	}
	iVar5 = (int)param_1;
	iVar4 = iVar5 * 0xe8;
	if (*(int *)(puVar6 + iVar4 + 0xe0) == 0) {
		app_fatal((int)ppuVar7[-0x175f], param_1, (ulonglong) * (uint *)(puVar6 + iVar4 + 0xdc), param_4,
		    param_5, (int)uVar12, (int)lVar14, (int)uVar16, in_stack_ffffffa8, in_stack_ffffffaf,
		    in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
	}
	if (*(int *)(puVar6 + iVar4 + 0xe0) == 0) {
		app_fatal((int)ppuVar7[-0x1760], param_1, (ulonglong) * (uint *)(puVar6 + iVar4 + 0xdc), param_4,
		    param_5, (int)uVar12, (int)lVar14, (int)uVar16, in_stack_ffffffa8, in_stack_ffffffaf,
		    in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
	}
	uVar17 = (undefined)uVar16;
	uVar15 = (undefined)lVar14;
	uVar13 = (undefined)uVar12;
	uVar11 = (undefined)param_5;
	uVar10 = (undefined)param_4;
	uVar2 = *(uint *)(puVar6 + iVar4 + 0x68);
	uVar8 = (ulonglong)uVar2;
	uVar9 = (undefined)uVar2;
	if (uVar2 == (uint) * (byte *)(*(int *)(puVar6 + iVar4 + 0xe4) + 0x6a)) {
		iVar19 = *(int *)(puVar6 + iVar4 + 0x74);
		if (iVar19 != -1) {
			if (iVar19 == 0x34) {
				iVar19 = 3;
			} else {
				iVar19 = 1;
			}
			puVar3 = puVar6 + iVar4;
			iVar18 = 0;
			while (true) {
				uVar17 = (undefined)uVar16;
				uVar15 = (undefined)lVar14;
				uVar13 = (undefined)uVar12;
				uVar11 = (undefined)param_5;
				uVar10 = (undefined)param_4;
				uVar9 = (undefined)uVar8;
				if (iVar19 <= iVar18)
					break;
				lVar14 = 1;
				uVar8 = (ulonglong)(byte)puVar3[0x50];
				param_4 = (ulonglong)(byte)puVar3[0x51];
				param_5 = (ulonglong) * (uint *)(puVar3 + 0x48);
				uVar12 = (ulonglong) * (uint *)(puVar3 + 0x74);
				uVar16 = param_1;
				AddMissile((ulonglong) * (uint *)(puVar3 + 0x20), (ulonglong) * (uint *)(puVar3 + 0x24), uVar8,
				    param_4, param_5, *(uint *)(puVar3 + 0x74), 1, param_1, in_stack_ffffffa8,
				    in_stack_ffffffaf, *(undefined4 *)(puVar3 + 0x78), 0);
				iVar18 = iVar18 + 1;
			}
		}
		FUN_1003bc74(iVar5, 0, uVar9, uVar10, uVar11, uVar13, uVar15, uVar17, in_stack_ffffffa8);
	}
	bVar1 = *(uint *)(puVar6 + iVar4 + 0x68) == *(uint *)(puVar6 + iVar4 + 100);
	if (bVar1) {
		FUN_1006b758(iVar5, *(int *)(puVar6 + iVar4 + 0x48), uVar9, uVar10, uVar11, uVar13, uVar15, uVar17,
		    in_stack_ffffffa8);
	}
	return (ulonglong)bVar1;
}

ulonglong M_DoRSpAttack(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	bool bVar1;
	int iVar2;
	int iVar3;
	uint *puVar4;
	int iVar5;
	undefined *puVar6;
	undefined **ppuVar7;
	byte bVar8;
	byte bVar9;
	undefined uVar10;
	longlong lVar11;
	undefined uVar12;
	undefined uVar13;
	longlong lVar14;
	ulonglong uVar15;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar6 = PTR_DAT_100f187c;
	bVar8 = (byte)param_3;
	ppuVar7 = &toc;
	uVar15 = ZEXT48(PTR_DAT_100f187c);
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar7 = &toc;
		app_fatal((int)PTR_s_M_DoRSpAttack__Invalid_monster___100f324c, param_1, param_3, param_4,
		    param_5, param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	lVar14 = param_1 * 0xe8;
	iVar5 = (int)lVar14;
	if (*(int *)(puVar6 + iVar5 + 0xe0) == 0) {
		bVar8 = (byte) * (uint *)(puVar6 + iVar5 + 0xdc);
		app_fatal((int)ppuVar7[-0x1762], param_1, (ulonglong) * (uint *)(puVar6 + iVar5 + 0xdc), param_4,
		    param_5, param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	uVar13 = (undefined)param_8;
	uVar12 = (undefined)param_7;
	uVar10 = (undefined)param_5;
	bVar9 = (byte)param_4;
	if (*(int *)(puVar6 + iVar5 + 0xe0) == 0) {
		bVar8 = (byte) * (uint *)(puVar6 + iVar5 + 0xdc);
		app_fatal((int)ppuVar7[-0x1763], param_1, (ulonglong) * (uint *)(puVar6 + iVar5 + 0xdc), param_4,
		    param_5, param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	lVar11 = uVar15 + lVar14;
	lVar11._7_1_ = (undefined)lVar11;
	iVar3 = (int)lVar11;
	puVar4 = (uint *)(puVar6 + iVar5 + 0x68);
	if ((*puVar4 == (uint) * (byte *)(*(int *)(iVar3 + 0xe4) + 0x6e)) && (*(int *)(iVar3 + 0x60) == 0)) {
		uVar12 = 1;
		bVar8 = *(byte *)(iVar3 + 0x50);
		bVar9 = *(byte *)(iVar3 + 0x51);
		uVar10 = (undefined) * (uint *)(iVar3 + 0x48);
		lVar11._7_1_ = (undefined) * (int *)(iVar3 + 0x74);
		uVar13 = (char)param_1;
		AddMissile((ulonglong) * (uint *)(iVar3 + 0x20), (ulonglong) * (uint *)(iVar3 + 0x24),
		    (ulonglong)bVar8, (ulonglong)bVar9, (ulonglong) * (uint *)(iVar3 + 0x48),
		    *(int *)(iVar3 + 0x74), 1, param_1, in_stack_ffffffb8, in_stack_ffffffbf,
		    *(undefined4 *)(iVar3 + 0x7c), 0);
		FUN_1003bc74((int)param_1, 3, bVar8, bVar9, uVar10, (undefined)lVar11, uVar12, uVar13, in_stack_ffffffb8);
	}
	lVar14 = uVar15 + lVar14;
	iVar3 = (int)lVar14;
	if ((*(char *)(iVar3 + 0x9c) == '\x1a') && (*puVar4 == 3)) {
		lVar14 = lVar14 + 0x78;
		bVar8 = (byte)lVar14;
		iVar2 = *(int *)(iVar3 + 0x78);
		*(int *)(iVar3 + 0x78) = iVar2 + 1;
		if (iVar2 == 0) {
			*(uint *)(iVar3 + 0xa0) = *(uint *)(iVar3 + 0xa0) | 4;
		} else {
			if (*(int *)lVar14 == 0xf) {
				*(uint *)(iVar3 + 0xa0) = *(uint *)(iVar3 + 0xa0) & 0xfffffffb;
			}
		}
	}
	bVar1 = *puVar4 == *(uint *)(puVar6 + iVar5 + 100);
	if (bVar1) {
		FUN_1006b758((int)param_1, *(int *)(puVar6 + iVar5 + 0x48), bVar8, bVar9, uVar10, (undefined)lVar11,
		    uVar12, uVar13, in_stack_ffffffb8);
	}
	return (ulonglong)bVar1;
}

ulonglong M_DoSAttack(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined8 param_8,
    undefined4 param_9)

{
	bool bVar1;
	int iVar2;
	int iVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	byte bVar6;
	byte bVar7;
	longlong lVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	ulonglong uVar12;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar4 = PTR_DAT_100f187c;
	bVar6 = (byte)param_3;
	ppuVar5 = &toc;
	uVar12 = ZEXT48(PTR_DAT_100f187c);
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar5 = &toc;
		app_fatal((int)PTR_s_M_DoSAttack__Invalid_monster__d_100f3240, param_1, param_3, param_4, param_5, param_6, param_7, (int)param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	iVar3 = (int)(param_1 * 0xe8);
	if (*(int *)(puVar4 + iVar3 + 0xe0) == 0) {
		bVar6 = (byte) * (uint *)(puVar4 + iVar3 + 0xdc);
		app_fatal((int)ppuVar5[-0x1765], param_1, (ulonglong) * (uint *)(puVar4 + iVar3 + 0xdc), param_4,
		    param_5, param_6, param_7, (int)param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	bVar7 = (byte)param_4;
	if (*(int *)(puVar4 + iVar3 + 0xe0) == 0) {
		bVar6 = (byte) * (uint *)(puVar4 + iVar3 + 0xdc);
		app_fatal((int)ppuVar5[-0x1766], param_1, (ulonglong) * (uint *)(puVar4 + iVar3 + 0xdc), param_4,
		    param_5, param_6, param_7, (int)param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	uVar10 = (undefined)param_7;
	uVar9 = (undefined)param_6;
	uVar11 = (undefined)param_8;
	lVar8 = uVar12 + param_1 * 0xe8;
	lVar8._7_1_ = (byte)lVar8;
	iVar2 = (int)lVar8;
	if (*(uint *)(puVar4 + iVar3 + 0x68) == (uint) * (byte *)(*(int *)(iVar2 + 0xe4) + 0x6e)) {
		bVar6 = *(byte *)(iVar2 + 0xcb);
		bVar7 = *(byte *)(iVar2 + 0xcc);
		lVar8._7_1_ = *(byte *)(iVar2 + 0xcd);
		M_TryH2HHit(param_1, (ulonglong) * (uint *)(iVar2 + 0x4c), (ulonglong)bVar6, (ulonglong)bVar7,
		    (ulonglong)(byte)lVar8, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	bVar1 = *(uint *)(puVar4 + iVar3 + 0x68) == *(uint *)(puVar4 + iVar3 + 100);
	if (bVar1) {
		FUN_1006b758((int)param_1, *(int *)(puVar4 + iVar3 + 0x48), bVar6, bVar7, (byte)lVar8, uVar9, uVar10,
		    uVar11, in_stack_ffffffb8);
	}
	return (ulonglong)bVar1;
}

undefined8
M_DoFadein(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint *puVar1;
	int iVar2;
	undefined *puVar3;
	undefined8 uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar3 = PTR_DAT_100f187c;
	uVar6 = (undefined)param_5;
	uVar5 = (undefined)param_4;
	uVar9 = (undefined)param_8;
	uVar8 = (undefined)param_7;
	uVar7 = (undefined)param_6;
	if (199 < (param_1 & 0xffffffff)) {
		app_fatal((int)PTR_s_M_DoFadein__Invalid_monster__d_100f3234, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	iVar2 = (int)(param_1 * 0xe8);
	puVar1 = (uint *)(puVar3 + iVar2 + 0xa0);
	if ((((*puVar1 & 2) == 0) || (*(int *)(puVar3 + iVar2 + 0x68) != 1)) && (((*puVar1 & 2) != 0 || (*(int *)(puVar3 + iVar2 + 0x68) != *(int *)(puVar3 + iVar2 + 100))))) {
		uVar4 = 0;
	} else {
		FUN_1006b758((int)param_1, *(int *)(puVar3 + iVar2 + 0x48), (char)(param_1 * 0xe8), uVar5, uVar6,
		    uVar7, uVar8, uVar9, in_stack_ffffffb8);
		uVar4 = 1;
		*puVar1 = *puVar1 & 0xfffffffd;
	}
	return uVar4;
}

undefined8
M_DoFadeout(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	longlong lVar1;
	uint *puVar2;
	int iVar3;
	undefined *puVar4;
	undefined8 uVar5;
	longlong lVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	ulonglong uVar11;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	puVar4 = PTR_DAT_100f187c;
	uVar7 = (undefined)param_5;
	uVar10 = (undefined)param_8;
	uVar9 = (undefined)param_7;
	uVar8 = (undefined)param_6;
	uVar11 = ZEXT48(PTR_DAT_100f187c);
	if (199 < (param_1 & 0xffffffff)) {
		app_fatal((int)PTR_s_M_DoFadeout__Invalid_monster__d_100f3230, param_1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8,
		    in_stack_ffffffec, in_stack_fffffff0, in_stack_fffffff4);
	}
	lVar6 = param_1 * 0xe8;
	lVar1 = uVar11 + lVar6 + 0xa0;
	puVar2 = (uint *)lVar1;
	iVar3 = (int)lVar6;
	if ((((*puVar2 & 2) == 0) || (*(int *)(puVar4 + iVar3 + 0x68) != 1)) && (((*puVar2 & 2) != 0 || (*(int *)(puVar4 + iVar3 + 0x68) != *(int *)(puVar4 + iVar3 + 100))))) {
		uVar5 = 0;
	} else {
		if ((**(byte **)(puVar4 + iVar3 + 0xe0) < 0x48) || (0x4b < **(byte **)(puVar4 + iVar3 + 0xe0))) {
			*puVar2 = *puVar2 & 0xfffffffd;
			*puVar2 = *puVar2 | 1;
		} else {
			*puVar2 = *puVar2 & 0xfffffffd;
		}
		FUN_1006b758((int)param_1, *(int *)(puVar4 + iVar3 + 0x48), (char)lVar6, (char)lVar1, uVar7, uVar8,
		    uVar9, uVar10, in_stack_ffffffc8);
		uVar5 = 1;
	}
	return uVar5;
}

undefined8
M_DoHeal(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	puVar2 = PTR_DAT_100f187c;
	if (199 < (param_1 & 0xffffffff)) {
		app_fatal((int)PTR_s_M_DoHeal__Invalid_monster__d_100f322c, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8,
		    in_stack_ffffffec, in_stack_fffffff0, in_stack_fffffff4);
	}
	puVar2 = puVar2 + (int)param_1 * 0xe8;
	uVar1 = *(uint *)(puVar2 + 0xa0);
	if ((uVar1 & 8) == 0) {
		if (*(int *)(puVar2 + 0x68) == 1) {
			*(uint *)(puVar2 + 0xa0) = uVar1 & 0xfffffffd;
			*(uint *)(puVar2 + 0xa0) = *(uint *)(puVar2 + 0xa0) | 4;
			if (*(int *)(puVar2 + 0x98) + *(int *)(puVar2 + 0x74) < *(int *)(puVar2 + 0x94)) {
				*(int *)(puVar2 + 0x98) = *(int *)(puVar2 + 0x98) + *(int *)(puVar2 + 0x74);
			} else {
				*(int *)(puVar2 + 0x98) = *(int *)(puVar2 + 0x94);
				*(uint *)(puVar2 + 0xa0) = *(uint *)(puVar2 + 0xa0) & 0xfffffffb;
				*(undefined4 *)(puVar2 + 4) = 7;
			}
		}
	} else {
		*(uint *)(puVar2 + 0xa0) = uVar1 & 0xfffffffb;
		*(undefined4 *)(puVar2 + 4) = 7;
	}
	return 0;
}

undefined8
M_DoTalk(ulonglong param_1, undefined8 param_2, ulonglong param_3, ulonglong param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	uint uVar2;
	int iVar3;
	undefined *puVar4;
	uint *puVar5;
	int iVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined *puVar12;
	undefined *puVar13;
	undefined *puVar14;
	undefined *puVar15;
	undefined **ppuVar16;
	ulonglong uVar17;
	undefined8 uVar18;
	ulonglong uVar19;
	undefined uVar22;
	longlong lVar20;
	ulonglong uVar21;
	undefined uVar23;
	undefined uVar24;
	undefined uVar25;
	undefined uVar26;
	int *piVar27;
	uint *puVar28;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;
	undefined4 in_stack_ffffff98;
	undefined4 in_stack_ffffff9c;
	undefined4 in_stack_ffffffa0;
	undefined4 in_stack_ffffffa4;
	undefined4 in_stack_ffffffa8;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;

	puVar15 = PTR_DAT_100f1f44;
	puVar14 = PTR_DAT_100f1ab8;
	puVar13 = PTR_DAT_100f1a84;
	puVar12 = PTR_DAT_100f1a80;
	puVar11 = PTR_DAT_100f1a7c;
	puVar10 = PTR_DAT_100f1a78;
	puVar9 = PTR_DAT_100f19cc;
	puVar8 = PTR_DAT_100f191c;
	puVar7 = PTR_DAT_100f187c;
	ppuVar16 = &toc;
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar16 = &toc;
		app_fatal((int)PTR_s_M_DoTalk__Invalid_monster__d_100f3228, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff98,
		    in_stack_ffffff9c, in_stack_ffffffa0, in_stack_ffffffa4, in_stack_ffffffa8,
		    in_stack_ffffffac, in_stack_ffffffb0, in_stack_ffffffb4);
	}
	iVar3 = (int)param_1;
	iVar6 = iVar3 * 0xe8;
	puVar4 = puVar7 + iVar6;
	FUN_1006b758(iVar3, *(int *)(puVar4 + 0x48), (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffff88);
	puVar28 = (uint *)(puVar4 + 0xd4);
	uVar18 = 7;
	puVar1 = ppuVar16[-0x1c43];
	puVar7[iVar6 + 8] = 7;
	uVar17 = effect_is_playing(*(int *)(puVar1 + *(int *)(puVar4 + 0xd4) * 0x10 + 0xc), 7, (char)param_3,
	    (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8,
	    in_stack_ffffff88);
	if ((int)uVar17 == 0) {
		InitQTextMsg(*puVar28, uVar18, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff88);
		piVar27 = (int *)(puVar4 + 0xdc);
		if (*(int *)(puVar4 + 0xdc) == *(int *)(puVar15 + 4)) {
			uVar2 = *puVar28;
			if (uVar2 == 0x90) {
				puVar9[0x32] = 2;
			}
			*(undefined4 *)(puVar9 + 0x44) = 1;
			if ((uVar2 == 0x91) && (puVar5 = (uint *)(puVar7 + iVar6 + 0xa0), (*puVar5 & 0x40) == 0)) {
				param_4 = 1;
				FUN_1004f580(iVar3, *(int *)(puVar7 + iVar6 + 0x20) + 1, *(int *)(puVar7 + iVar6 + 0x24) + 1, 1, (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffff88);
				*puVar5 = *puVar5 | 0x40;
			}
		}
		if (((*piVar27 == *(int *)(puVar15 + 0x44)) && (*puVar28 == 0x94)) && (puVar5 = (uint *)(puVar7 + iVar6 + 0xa0), (*puVar5 & 0x40) == 0)) {
			puVar9[0x4a] = 2;
			*(undefined4 *)(puVar9 + 0x5c) = 1;
			param_4 = 0;
			param_5 = 0x18;
			param_6 = 1;
			param_7 = 0;
			FUN_1004fac4(*(int *)(puVar7 + iVar6 + 0x20) + 1, *(int *)(puVar7 + iVar6 + 0x24) + 1, 0, 0, 0x18,
			    1, 0, (char)param_8, in_stack_ffffff88);
			*puVar5 = *puVar5 | 0x40;
		}
		uVar26 = (undefined)param_8;
		uVar25 = (undefined)param_7;
		uVar24 = (undefined)param_6;
		uVar23 = (undefined)param_5;
		uVar22 = (undefined)param_4;
		if (*piVar27 == *(int *)(puVar15 + 100)) {
			if ((*puVar28 == 0x14) && (puVar5 = (uint *)(puVar7 + iVar6 + 0xa0), (*puVar5 & 0x40) == 0)) {
				uVar17 = (ulonglong) * (uint *)puVar12;
				uVar2 = *(uint *)puVar13;
				ObjChangeMap((ulonglong)uVar2, uVar17, uVar2 + (*(int *)puVar11 >> 1) + 2,
				    uVar17 + ((param_4 & 0xffffffff00000000 | (ulonglong)(uint)(*(int *)puVar10 >> 1)) - 2), param_5, param_6, param_7, param_8, in_stack_ffffff88);
				uVar23 = *puVar14;
				*puVar14 = 9;
				uVar2 = *(uint *)puVar12;
				iVar3 = *(int *)puVar13;
				lVar20 = (ulonglong)uVar2 + (ulonglong)(uint)(*(int *)puVar10 >> 1);
				uVar22 = (undefined)lVar20;
				DRLG_MRectTrans(iVar3, uVar2, iVar3 + (*(int *)puVar11 >> 1) + 4, (int)lVar20);
				*puVar14 = uVar23;
				puVar9[0xb7] = 2;
				if (puVar9[0xaa] == '\x01') {
					puVar9[0xaa] = 2;
				}
				*puVar5 = *puVar5 | 0x40;
			}
			uVar26 = (undefined)param_8;
			uVar25 = (undefined)param_7;
			uVar24 = (undefined)param_6;
			uVar23 = (undefined)param_5;
			if ((byte)puVar9[0xb7] < 2) {
				uVar17 = ZEXT48(ppuVar16[-0x176b]);
				uVar19 = (ulonglong)*puVar28;
				uVar21 = (ulonglong) * (uint *)(puVar7 + iVar6 + 0xa0);
				sprintf((int)puVar8, ppuVar16[-0x176b], *puVar28, *(uint *)(puVar7 + iVar6 + 0xa0),
				    (int)param_5, param_6, param_7, param_8, in_stack_ffffff88, in_stack_ffffff8f,
				    in_stack_ffffff9c, in_stack_ffffffa0, in_stack_ffffffa4, in_stack_ffffffa8,
				    in_stack_ffffffac, in_stack_ffffffb0, in_stack_ffffffb4);
				uVar26 = (undefined)param_8;
				uVar25 = (undefined)param_7;
				uVar24 = (undefined)param_6;
				uVar23 = (undefined)param_5;
				uVar22 = (undefined)uVar21;
				app_fatal((int)puVar8, uVar17, uVar19, uVar21, param_5, param_6, param_7, param_8,
				    in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff98, in_stack_ffffff9c,
				    in_stack_ffffffa0, in_stack_ffffffa4, in_stack_ffffffa8, in_stack_ffffffac,
				    in_stack_ffffffb0, in_stack_ffffffb4);
			}
		}
		if (*piVar27 == *(int *)(puVar15 + 0xe4)) {
			uVar2 = *puVar28;
			if (uVar2 == 0x51) {
				puVar9[0x62] = 2;
				*(undefined4 *)(puVar9 + 0x74) = 1;
			}
			if ((uVar2 == 0x53) && (puVar5 = (uint *)(puVar7 + iVar6 + 0xa0), (*puVar5 & 0x40) == 0)) {
				FUN_1004f218(6, *(int *)(puVar7 + iVar6 + 0x20) + 1, *(int *)(puVar7 + iVar6 + 0x24) + 1,
				    uVar22, uVar23, uVar24, uVar25, uVar26, in_stack_ffffff88);
				*puVar5 = *puVar5 | 0x40;
			}
		}
		iVar3 = *piVar27;
		if (iVar3 == *(int *)(puVar15 + 0x104)) {
			puVar9[0x117] = 2;
		}
		if ((iVar3 == *(int *)(puVar15 + 0x84)) && (*ppuVar16[-0x1dfc] != '\x01')) {
			puVar9[0x177] = 6;
			(puVar7 + iVar6)[8] = 1;
			(puVar7 + iVar6)[0xa4] = 0xff;
			*puVar28 = 0;
		}
	}
	return 0;
}

void M_Teleport(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	byte bVar1;
	byte bVar2;
	undefined *puVar3;
	bool bVar4;
	int iVar5;
	undefined *puVar6;
	undefined **ppuVar7;
	longlong lVar8;
	ulonglong uVar9;
	undefined4 uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined uVar14;
	undefined uVar15;
	longlong lVar16;
	longlong lVar17;
	undefined uVar18;
	longlong lVar19;
	undefined uVar20;
	int iVar21;
	int iVar22;
	longlong lVar23;
	longlong lVar24;
	longlong lVar25;
	int iVar26;
	longlong lVar27;
	longlong unaff_r28;
	int iVar28;
	longlong unaff_r29;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;
	undefined4 in_stack_ffffff98;
	undefined4 in_stack_ffffff9c;
	undefined4 in_stack_ffffffa0;
	undefined4 in_stack_ffffffa4;
	undefined4 in_stack_ffffffa8;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;

	puVar6 = PTR_DAT_100f1954;
	uVar18 = (undefined)in_stack_ffffff98;
	uVar12 = (undefined)param_3;
	lVar19 = (longlong)param_8;
	lVar17 = (longlong)param_7;
	lVar16 = (longlong)param_6;
	ppuVar7 = &toc;
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar7 = &toc;
		app_fatal((int)PTR_s_M_Teleport__Invalid_monster__d_100f3220, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff98,
		    in_stack_ffffff9c, in_stack_ffffffa0, in_stack_ffffffa4, in_stack_ffffffa8,
		    in_stack_ffffffac, in_stack_ffffffb0, in_stack_ffffffb4);
	}
	iVar5 = (int)param_1;
	puVar3 = ppuVar7[-0x1dd5] + iVar5 * 0xe8;
	bVar4 = false;
	if (*(int *)(puVar3 + 4) != 0xf) {
		bVar1 = puVar3[0x50];
		bVar2 = puVar3[0x51];
		lVar8 = random(100, 2, uVar12, (char)param_4, (char)param_5, (char)lVar16, (char)lVar17,
		    (char)lVar19, in_stack_ffffff88, in_stack_ffffff8f, uVar18);
		lVar23 = (ulonglong)(uint)((int)lVar8 << 1) - 1;
		lVar8 = random(100, 2, uVar12, (char)param_4, (char)param_5, (char)lVar16, (char)lVar17,
		    (char)lVar19, in_stack_ffffff88, in_stack_ffffff8f, uVar18);
		lVar8 = (ulonglong)(uint)((int)lVar8 << 1) - 1;
		lVar24 = -lVar23;
		iVar22 = -1;
		while (true) {
			uVar20 = (undefined)lVar19;
			uVar18 = (undefined)lVar17;
			uVar12 = (undefined)lVar16;
			if ((1 < iVar22) || (bVar4))
				break;
			lVar27 = -lVar8;
			lVar25 = (ulonglong)bVar1 + lVar24;
			iVar21 = -1;
			while ((iVar21 < 1 && (!bVar4))) {
				if (((iVar22 != 0) || (iVar21 != 0)) && ((((unaff_r28 = (ulonglong)bVar2 + lVar27, unaff_r29 = lVar25, -1 < unaff_r28 && (iVar28 = (int)unaff_r28, unaff_r29 = lVar25, iVar28 < 0x70)) && (iVar26 = (int)lVar25, unaff_r29 = lVar25, -1 < iVar26)) && ((((unaff_r29 = lVar25, iVar26 < 0x70 && (unaff_r29 = lVar25, iVar26 != *(int *)(puVar3 + 0x20))) && (unaff_r29 = lVar25, iVar28 != *(int *)(puVar3 + 0x24))) && (uVar9 = FUN_10075e58(iVar5, iVar26, iVar28, (char)param_4, (char)param_5, (char)lVar16, (char)lVar17, (char)lVar19, in_stack_ffffff88), unaff_r29 = lVar25, (int)uVar9 != 0)))))) {
					bVar4 = true;
					unaff_r29 = lVar25;
				}
				lVar27 = lVar27 + lVar8;
				iVar21 = iVar21 + 1;
			}
			lVar24 = lVar24 + lVar23;
			iVar22 = iVar22 + 1;
		}
		if (bVar4) {
			FUN_1006bf90(iVar5);
			uVar15 = 0;
			iVar22 = *(int *)puVar6;
			uVar14 = (undefined)iVar22;
			*(undefined2 *)(iVar22 + *(int *)(puVar3 + 0x20) * 0xe0 + *(int *)(puVar3 + 0x24) * 2) = 0;
			iVar22 = *(int *)puVar6;
			uVar11 = (undefined)iVar22;
			*(undefined2 *)(iVar22 + (int)unaff_r29 * 0xe0 + (int)unaff_r28 * 2) = (short)(param_1 + 1);
			*(int *)(puVar3 + 0x30) = (int)unaff_r29;
			*(int *)(puVar3 + 0x34) = (int)unaff_r28;
			uVar13 = (undefined)(param_1 + 1);
			uVar10 = FUN_1006b5f4(iVar5, uVar11, uVar13, uVar14, 0, uVar12, uVar18, uVar20, in_stack_ffffff88);
			*(undefined4 *)(puVar3 + 0x48) = uVar10;
			M_CheckEFlag(iVar5, uVar11, uVar13, uVar14, uVar15, uVar12, uVar18, uVar20, in_stack_ffffff88);
		}
	}
	return;
}

ulonglong M_DoGotHit(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint uVar1;
	int iVar2;
	int iVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	longlong lVar6;
	undefined7 uVar7;
	undefined uVar8;
	undefined7 uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	ulonglong uVar14;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar4 = PTR_DAT_100f187c;
	uVar9 = (undefined7)((ulonglong)param_5 >> 8);
	uVar10 = (undefined)param_5;
	uVar7 = (undefined7)((ulonglong)param_4 >> 8);
	uVar8 = (undefined)param_4;
	ppuVar5 = &toc;
	uVar14 = ZEXT48(PTR_DAT_100f187c);
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar5 = &toc;
		app_fatal((int)PTR_s_M_DoGotHit__Invalid_monster__d_100f321c, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	uVar13 = (undefined)param_8;
	uVar12 = (undefined)param_7;
	uVar11 = (undefined)param_6;
	lVar6 = uVar14 + param_1 * 0xe8;
	lVar6._7_1_ = (undefined)lVar6;
	iVar2 = (int)lVar6;
	if (*(int *)(iVar2 + 0xe0) == 0) {
		uVar1 = *(uint *)(iVar2 + 0xdc);
		lVar6._7_1_ = (undefined)uVar1;
		app_fatal((int)ppuVar5[-0x176e], param_1, (ulonglong)uVar1, CONCAT71(uVar7, uVar8),
		    CONCAT71(uVar9, uVar10), param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	puVar4 = puVar4 + (int)(param_1 * 0xe8);
	iVar2 = *(int *)(puVar4 + 0x68);
	iVar3 = *(int *)(puVar4 + 100);
	if (iVar2 == iVar3) {
		FUN_1006b758((int)param_1, *(int *)(puVar4 + 0x48), (undefined)lVar6, uVar8, uVar10, uVar11, uVar12,
		    uVar13, in_stack_ffffffb8);
	}
	return (ulonglong)(iVar2 == iVar3);
}

void M_UpdateLeader(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	ulonglong uVar2;
	undefined **ppuVar3;
	int *piVar4;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar1 = PTR_DAT_100f187c;
	ppuVar3 = &toc;
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar3 = &toc;
		app_fatal((int)PTR_s_M_UpdateLeader__Invalid_monster___100f3214, param_1, param_3, param_4,
		    param_5, param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	piVar4 = (int *)ppuVar3[-0x1d8a];
	uVar2 = (ulonglong) * (uint *)ppuVar3[-0x1d8b];
	if (0 < (int)*(uint *)ppuVar3[-0x1d8b]) {
		do {
			if ((puVar1[*piVar4 * 0xe8 + 0xd9] == '\x01') && ((uint)param_1 == (uint)(byte)(puVar1 + *piVar4 * 0xe8)[0xd8])) {
				(puVar1 + *piVar4 * 0xe8)[0xd9] = 0;
			}
			piVar4 = piVar4 + 1;
			uVar2 = uVar2 - 1;
		} while (uVar2 != 0);
	}
	if ((puVar1 + (uint)param_1 * 0xe8)[0xd9] == '\x01') {
		(puVar1 + (uint)(byte)(puVar1 + (uint)param_1 * 0xe8)[0xd8] * 0xe8)[0xda] = (puVar1 + (uint)(byte)(puVar1 + (uint)param_1 * 0xe8)[0xd8] * 0xe8)[0xda] + -1;
	}
	return;
}

void DoEnding(undefined8 param_1, undefined8 param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined uVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	ulonglong uVar6;
	undefined uVar7;
	undefined8 uVar8;
	undefined uVar9;
	undefined7 uVar10;
	undefined uVar11;
	undefined7 uVar12;
	undefined uVar13;
	undefined7 uVar14;
	undefined uVar15;
	undefined uVar16;
	undefined uVar17;
	undefined uVar18;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined **local_3c;

	puVar4 = PTR_DAT_100f1f20;
	puVar3 = _DAT_100f1d54;
	puVar2 = PTR_DAT_100f17e0;
	uVar14 = (undefined7)((ulonglong)param_5 >> 8);
	uVar15 = (undefined)param_5;
	uVar12 = (undefined7)((ulonglong)param_4 >> 8);
	uVar13 = (undefined)param_4;
	uVar10 = (undefined7)(param_3 >> 8);
	uVar11 = (undefined)param_3;
	ppuVar5 = &toc;
	if (1 < (byte)*PTR_DAT_100f17e0) {
		ppuVar5 = local_3c;
		param_1._7_1_ = SNetLeaveGame(4, (undefined)param_2, uVar11, uVar13, uVar15, (char)param_6, (char)param_7,
		    (char)param_8, (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
		local_3c = ppuVar5;
	}
	music_stop((undefined)param_1, (undefined)param_2, uVar11, uVar13, uVar15, (char)param_6,
	    (char)param_7, (char)param_8, in_stack_ffffffb8);
	if (1 < (byte)*puVar2) {
		ppuVar5 = local_3c;
		Sleep(0xe8, (undefined)param_2, uVar11, uVar13, uVar15, (char)param_6, (char)param_7, (char)param_8,
		    (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
	}
	if (ppuVar5[-0x1dea][*(int *)ppuVar5[-0x1deb] * 0x55ec + 0x15c] == '\0') {
		play_movie(ZEXT48(ppuVar5[-6000]), 0, CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13),
		    CONCAT71(uVar14, uVar15), param_6, param_7, param_8, in_stack_ffffffb8);
	} else {
		if (ppuVar5[-0x1dea][*(int *)ppuVar5[-0x1deb] * 0x55ec + 0x15c] == '\x02') {
			play_movie(ZEXT48(ppuVar5[-0x1771]), 0, CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13),
			    CONCAT71(uVar14, uVar15), param_6, param_7, param_8, in_stack_ffffffb8);
		} else {
			play_movie(ZEXT48(ppuVar5[-0x1772]), 0, CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13),
			    CONCAT71(uVar14, uVar15), param_6, param_7, param_8, in_stack_ffffffb8);
		}
	}
	uVar8 = 0;
	play_movie(ZEXT48(ppuVar5[-0x1773]), 0, CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13),
	    CONCAT71(uVar14, uVar15), param_6, param_7, param_8, in_stack_ffffffb8);
	uVar1 = *puVar3;
	*puVar3 = 1;
	uVar6 = sound_get_or_set_music_volume(&DAT_00000001, (char)uVar8, uVar11, uVar13, uVar15, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffffb8);
	sound_get_or_set_music_volume((undefined *)0x0, (char)uVar8, uVar11, uVar13, uVar15, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffffb8);
	music_start(2, uVar8, CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15),
	    param_6, param_7, param_8, in_stack_ffffffb8);
	uVar18 = (undefined)param_8;
	uVar17 = (undefined)param_7;
	uVar16 = (undefined)param_6;
	*(undefined4 *)puVar4 = 1;
	uVar9 = 1;
	uVar7 = play_movie(ZEXT48(ppuVar5[-0x1774]), 1, CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13),
	    CONCAT71(uVar14, uVar15), param_6, param_7, param_8, in_stack_ffffffb8);
	*(undefined4 *)puVar4 = 0;
	music_stop(uVar7, uVar9, uVar11, uVar13, uVar15, uVar16, uVar17, uVar18, in_stack_ffffffb8);
	sound_get_or_set_music_volume((undefined *)uVar6, uVar9, uVar11, uVar13, uVar15, uVar16, uVar17, uVar18, in_stack_ffffffb8);
	*puVar3 = uVar1;
	return;
}

void PrepDoEnding(void)

{
	byte bVar1;
	uint uVar2;
	undefined *puVar3;
	undefined *puVar4;
	uint uVar5;

	puVar4 = PTR_DAT_100f1a34;
	*_DAT_100f1d18 = DAT_100f4248;
	puVar3 = PTR_DAT_100f1a2c;
	*puVar4 = 1;
	puVar4 = PTR_DAT_100f1a04;
	*(undefined4 *)puVar3 = 0;
	puVar3 = PTR_DAT_100f1824;
	*(undefined4 *)puVar4 = 0;
	puVar4 = PTR_DAT_100f1828;
	uVar5 = *(int *)PTR_DAT_100f1e4c + 1;
	uVar2 = *(uint *)(PTR_DAT_100f1828 + *(int *)puVar3 * 0x55ec + 0x55a8);
	if (uVar5 < uVar2) {
		uVar5 = uVar2;
	}
	*(uint *)(PTR_DAT_100f1828 + *(int *)puVar3 * 0x55ec + 0x55a8) = uVar5;
	bVar1 = *PTR_DAT_100f17e0;
	*(undefined4 *)puVar4 = 0xb;
	puVar4[0x139] = 1;
	if (1 < bVar1) {
		if (*(int *)(puVar4 + 0x194) >> 6 == 0) {
			*(undefined4 *)(puVar4 + 0x194) = 0x40;
		}
		if (*(int *)(puVar4 + 0x1a8) >> 6 == 0) {
			*(undefined4 *)(puVar4 + 0x1a8) = 0x40;
		}
	}
	*(undefined4 *)(puVar4 + 0x55ec) = 0xb;
	puVar4[0x5725] = 1;
	if (1 < bVar1) {
		if (*(int *)(puVar4 + 0x5780) >> 6 == 0) {
			*(undefined4 *)(puVar4 + 0x5780) = 0x40;
		}
		if (*(int *)(puVar4 + 0x5794) >> 6 == 0) {
			*(undefined4 *)(puVar4 + 0x5794) = 0x40;
		}
	}
	*(undefined4 *)(puVar4 + 0xabd8) = 0xb;
	puVar4[0xad11] = 1;
	if (1 < bVar1) {
		if (*(int *)(puVar4 + 0xad6c) >> 6 == 0) {
			*(undefined4 *)(puVar4 + 0xad6c) = 0x40;
		}
		if (*(int *)(puVar4 + 0xad80) >> 6 == 0) {
			*(undefined4 *)(puVar4 + 0xad80) = 0x40;
		}
	}
	*(undefined4 *)(puVar4 + 0x101c4) = 0xb;
	puVar4[0x102fd] = 1;
	if (1 < bVar1) {
		if (*(int *)(puVar4 + 0x10358) >> 6 == 0) {
			*(undefined4 *)(puVar4 + 0x10358) = 0x40;
		}
		if (*(int *)(puVar4 + 0x1036c) >> 6 == 0) {
			*(undefined4 *)(puVar4 + 0x1036c) = 0x40;
			return;
		}
		return;
	}
	return;
}

undefined8
M_DoDeath(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	char *pcVar1;
	uint uVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined **ppuVar7;
	int iVar8;
	int iVar10;
	longlong lVar9;
	longlong lVar11;
	ulonglong uVar12;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar4 = PTR_DAT_100f187c;
	puVar6 = PTR_DAT_100f1820;
	puVar5 = PTR_DAT_100f181c;
	ppuVar7 = &toc;
	uVar12 = ZEXT48(PTR_DAT_100f187c);
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar7 = &toc;
		app_fatal((int)PTR_s_M_DoDeath__Invalid_monster__d_100f31fc, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	iVar8 = (int)(param_1 * 0xe8);
	if (*(char **)(puVar4 + iVar8 + 0xe0) == (char *)0x0) {
		app_fatal((int)ppuVar7[-0x1776], param_1, (ulonglong) * (uint *)(puVar4 + iVar8 + 0xdc), param_4,
		    param_5, param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	puVar3 = puVar4 + iVar8;
	*(int *)(puVar3 + 0x74) = *(int *)(puVar3 + 0x74) + 1;
	pcVar1 = *(char **)(puVar4 + iVar8 + 0xe0);
	if (*pcVar1 == 'n') {
		if ((longlong)((ulonglong) * (uint *)(puVar4 + iVar8 + 0x20) - (ulonglong) * (uint *)puVar6) < 0) {
			iVar10 = -1;
		} else {
			if ((int)((ulonglong) * (uint *)(puVar4 + iVar8 + 0x20) - (ulonglong) * (uint *)puVar6) < 1) {
				iVar10 = 0;
			} else {
				iVar10 = 1;
			}
		}
		*(int *)puVar6 = *(int *)puVar6 + iVar10;
		if ((longlong)((ulonglong) * (uint *)(puVar4 + iVar8 + 0x24) - (ulonglong) * (uint *)puVar5) < 0) {
			iVar8 = -1;
		} else {
			if ((int)((ulonglong) * (uint *)(puVar4 + iVar8 + 0x24) - (ulonglong) * (uint *)puVar5) < 1) {
				iVar8 = 0;
			} else {
				iVar8 = 1;
			}
		}
		*(int *)puVar5 = *(int *)puVar5 + iVar8;
		if (*(int *)(puVar3 + 0x74) == 0x8c) {
			PrepDoEnding();
		}
	} else {
		puVar4 = puVar4 + iVar8;
		if (*(int *)(puVar4 + 0x68) == *(int *)(puVar4 + 100)) {
			if (puVar4[0xc0] == '\0') {
				AddDead(*(int *)(puVar4 + 0x20), *(int *)(puVar4 + 0x24), (uint)(byte)pcVar1[0x1fd],
				    *(int *)(puVar4 + 0x48));
			} else {
				AddDead(*(int *)(puVar4 + 0x20), *(int *)(puVar4 + 0x24), (uint)(byte)puVar4[0xc2],
				    *(int *)(puVar4 + 0x48));
			}
			lVar11 = uVar12 + param_1 * 0xe8;
			iVar8 = (int)lVar11;
			lVar9 = (ulonglong) * (uint *)(iVar8 + 0x20) * 0xe0;
			uVar2 = *(uint *)ppuVar7[-0x1d9f];
			*(undefined2 *)(uVar2 + (int)lVar9 + *(int *)(iVar8 + 0x24) * 2) = 0;
			*(undefined4 *)(iVar8 + 0x70) = 1;
			M_UpdateLeader(param_1, lVar9, lVar11, (ulonglong)uVar2, 0, param_6, param_7, param_8, in_stack_ffffffb8);
		}
	}
	return 0;
}

ulonglong M_DoSpStand(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	bool bVar1;
	uint uVar2;
	int iVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	longlong lVar6;
	undefined uVar7;
	undefined7 uVar8;
	undefined uVar9;
	undefined7 uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined uVar14;
	ulonglong uVar15;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar4 = PTR_DAT_100f187c;
	uVar10 = (undefined7)((ulonglong)param_5 >> 8);
	uVar11 = (undefined)param_5;
	uVar8 = (undefined7)((ulonglong)param_4 >> 8);
	uVar9 = (undefined)param_4;
	ppuVar5 = &toc;
	uVar15 = ZEXT48(PTR_DAT_100f187c);
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar5 = &toc;
		app_fatal((int)PTR_s_M_DoSpStand__Invalid_monster__d_100f31f4, param_1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	uVar14 = (undefined)param_8;
	uVar13 = (undefined)param_7;
	uVar12 = (undefined)param_6;
	lVar6 = uVar15 + param_1 * 0xe8;
	uVar7 = (undefined)lVar6;
	iVar3 = (int)lVar6;
	if (*(int *)(iVar3 + 0xe0) == 0) {
		uVar2 = *(uint *)(iVar3 + 0xdc);
		uVar7 = (undefined)uVar2;
		app_fatal((int)ppuVar5[-0x1778], param_1, (ulonglong)uVar2, CONCAT71(uVar8, uVar9),
		    CONCAT71(uVar10, uVar11), param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	iVar3 = (int)(param_1 * 0xe8);
	if (*(uint *)(puVar4 + iVar3 + 0x68) == (uint) * (byte *)(*(int *)(puVar4 + iVar3 + 0xe4) + 0x6e)) {
		FUN_1003bc74((int)param_1, 3, uVar7, uVar9, uVar11, uVar12, uVar13, uVar14, in_stack_ffffffb8);
	}
	bVar1 = *(uint *)(puVar4 + iVar3 + 0x68) == *(uint *)(puVar4 + iVar3 + 100);
	if (bVar1) {
		FUN_1006b758((int)param_1, *(int *)(puVar4 + iVar3 + 0x48), uVar7, uVar9, uVar11, uVar12, uVar13,
		    uVar14, in_stack_ffffffb8);
	}
	return (ulonglong)bVar1;
}

ulonglong M_DoDelay(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 uVar1;
	undefined *puVar2;
	undefined *puVar3;
	int iVar4;
	int iVar5;
	undefined **ppuVar6;
	int iVar7;
	undefined uVar9;
	longlong lVar8;
	undefined7 uVar10;
	undefined uVar11;
	undefined7 uVar12;
	undefined uVar13;
	undefined uVar14;
	undefined uVar15;
	undefined uVar16;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar3 = PTR_DAT_100f187c;
	uVar9 = (undefined)param_3;
	uVar12 = (undefined7)((ulonglong)param_5 >> 8);
	uVar13 = (undefined)param_5;
	uVar10 = (undefined7)((ulonglong)param_4 >> 8);
	uVar11 = (undefined)param_4;
	ppuVar6 = &toc;
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar6 = &toc;
		param_2._7_1_ = (char)param_1;
		app_fatal((int)PTR_s_M_DoDelay__Invalid_monster__d_100f31ec, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	uVar16 = (undefined)param_8;
	uVar15 = (undefined)param_7;
	uVar14 = (undefined)param_6;
	iVar5 = (int)param_1;
	iVar4 = iVar5 * 0xe8;
	if (*(uint *)(puVar3 + iVar4 + 0xe0) == 0) {
		uVar9 = (undefined) * (uint *)(puVar3 + iVar4 + 0xdc);
		param_2._7_1_ = (char)param_1;
		app_fatal((int)ppuVar6[-0x177a], param_1, (ulonglong) * (uint *)(puVar3 + iVar4 + 0xdc),
		    CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13), param_6, param_7, param_8,
		    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4);
	}
	iVar7 = FUN_1006b5f4(iVar5, (undefined)param_2, uVar9, uVar11, uVar13, uVar14, uVar15, uVar16,
	    in_stack_ffffffb8);
	puVar2 = puVar3 + iVar4;
	lVar8 = (ulonglong) * (uint *)(puVar3 + iVar4 + 0xe0) + (ulonglong)(uint)(iVar7 << 3);
	iVar7 = (int)lVar8;
	uVar1 = *(undefined4 *)(iVar7 + 0xc);
	*(undefined4 *)(puVar2 + 0x54) = *(undefined4 *)(iVar7 + 8);
	*(undefined4 *)(puVar2 + 0x58) = uVar1;
	if (puVar2[0x9c] == '\x1c') {
		if ((8 < *(int *)(puVar2 + 0x78)) || (*(int *)(puVar2 + 0x78) < 0)) {
			*(undefined4 *)(puVar2 + 0x78) = 8;
		}
	}
	puVar3 = puVar3 + iVar4;
	iVar4 = *(int *)(puVar3 + 0x78);
	*(int *)(puVar3 + 0x78) = iVar4 + -1;
	if (iVar4 == 0) {
		uVar1 = *(undefined4 *)(puVar3 + 0x68);
		FUN_1006b758(iVar5, *(int *)(puVar3 + 0x48), (char)lVar8, uVar11, uVar13, uVar14, uVar15, uVar16,
		    in_stack_ffffffb8);
		*(undefined4 *)(puVar3 + 0x68) = uVar1;
	}
	return (ulonglong)(iVar4 == 0);
}

undefined8
M_DoStone(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined **ppuVar2;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	puVar1 = PTR_DAT_100f187c;
	ppuVar2 = &toc;
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar2 = &toc;
		app_fatal((int)PTR_s_M_DoStone__Invalid_monster__d_100f31e4, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8,
		    in_stack_ffffffec, in_stack_fffffff0, in_stack_fffffff4);
	}
	puVar1 = puVar1 + (int)param_1 * 0xe8;
	if (*(int *)(puVar1 + 0x98) == 0) {
		*(undefined2 *)(*(int *)ppuVar2[-0x1d9f] + *(int *)(puVar1 + 0x20) * 0xe0 + *(int *)(puVar1 + 0x24) * 2) = 0;
		*(undefined4 *)(puVar1 + 0x70) = 1;
	}
	return 0;
}

void M_WalkDir(ulonglong param_1, uint param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	ppuVar1 = &toc;
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar1 = &toc;
		app_fatal((int)PTR_s_M_WalkDir__Invalid_monster__d_100f31e0, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	if (param_2 < 8) {
		// WARNING: Could not recover jumptable at 0x1006f4d4. Too many branches
		// WARNING: Treating indirect jump as call
		(**(code **)(ppuVar1[-0x177e] + param_2 * 4))(*(code **)(ppuVar1[-0x177e] + param_2 * 4),
		    (ulonglong) * (uint *)(*(int *)(ppuVar1[-0x1dd5] + (int)param_1 * 0xe8 + 0xe0) + 0x94)
		        - 1);
		return;
	}
	return;
}

void GroupUnity(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	int iVar3;
	int iVar4;
	undefined **ppuVar5;
	ulonglong uVar6;
	longlong lVar7;
	int *piVar8;
	undefined *puVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	uint unaff_r28;
	char *pcVar13;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar2 = PTR_DAT_100f187c;
	uVar12 = (undefined)param_8;
	uVar11 = (undefined)param_7;
	uVar10 = (undefined)param_6;
	ppuVar5 = &toc;
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar5 = &toc;
		app_fatal(_DAT_100f31d4, param_1, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffb8, in_stack_ffffffbc,
		    in_stack_ffffffc0, in_stack_ffffffc4, in_stack_ffffffc8, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4);
	}
	iVar3 = (uint)param_1 * 0xe8;
	pcVar13 = puVar2 + iVar3 + 0xd9;
	if ((puVar2 + iVar3)[0xd9] != '\0') {
		puVar1 = puVar2 + iVar3;
		unaff_r28 = (uint)(byte)puVar1[0xd8];
		iVar4 = (uint)(byte)puVar1[0xd8] * 0xe8;
		uVar6 = LineClearF(ZEXT48(ppuVar5[-0x1c2d]), (ulonglong) * (uint *)(puVar1 + 0x20),
		    (ulonglong) * (uint *)(puVar1 + 0x24),
		    (ulonglong) * (uint *)(puVar2 + iVar4 + 0x28),
		    (ulonglong) * (uint *)(puVar2 + iVar4 + 0x2c), uVar10, uVar11, uVar12,
		    in_stack_ffffffa8);
		if (((int)uVar6 == 0) && (*pcVar13 == '\x01')) {
			(puVar2 + iVar4)[0xda] = (puVar2 + iVar4)[0xda] + -1;
			*pcVar13 = '\x02';
		} else {
			if (((int)uVar6 != 0) && (((*pcVar13 == '\x02' && (lVar7 = abs((ulonglong) * (uint *)(puVar1 + 0x20) - (ulonglong) * (uint *)(puVar2 + iVar4 + 0x28)), (int)lVar7 < 4)) && (lVar7 = abs((ulonglong) * (uint *)(puVar1 + 0x24) - (ulonglong) * (uint *)(puVar2 + iVar4 + 0x2c)), (int)lVar7 < 4)))) {
				(puVar2 + iVar4)[0xda] = (puVar2 + iVar4)[0xda] + '\x01';
				*pcVar13 = '\x01';
			}
		}
	}
	if (*pcVar13 == '\x01') {
		iVar4 = unaff_r28 * 0xe8;
		puVar1 = puVar2 + 0xa4;
		if ((byte)puVar1[iVar4] < (byte)puVar1[iVar3]) {
			*(undefined4 *)(puVar2 + iVar4 + 0xac) = *(undefined4 *)(puVar2 + iVar3 + 0x20);
			*(undefined4 *)(puVar2 + iVar4 + 0xb0) = *(undefined4 *)(puVar2 + iVar3 + 0x24);
			puVar1[iVar4] = puVar1[iVar3] - 1;
		}
		puVar2 = puVar2 + iVar4;
		if (puVar2[0x9c] == '\f') {
			if ((*(uint *)(puVar2 + 0xa0) & 4) != 0) {
				*(uint *)(puVar2 + 0xa0) = *(uint *)(puVar2 + 0xa0) & 0xfffffffb;
				*(undefined4 *)(puVar2 + 4) = 7;
			}
		}
	} else {
		puVar1 = puVar2 + iVar3;
		if ((puVar1[0xc0] != 0) && ((*(ushort *)(ppuVar5[-0x1c23] + (uint)(byte)puVar1[0xc0] * 0x20 + -10) & 2) != 0)) {
			piVar8 = (int *)ppuVar5[-0x1d8a];
			uVar6 = (ulonglong) * (uint *)ppuVar5[-0x1d8b];
			if (0 < (int)*(uint *)ppuVar5[-0x1d8b]) {
				do {
					if ((puVar2[*piVar8 * 0xe8 + 0xd9] == '\x01') && (puVar9 = puVar2 + *piVar8 * 0xe8, (uint)param_1 == (uint)(byte)puVar9[0xd8])) {
						if ((byte)puVar9[0xa4] < (byte)puVar1[0xa4]) {
							*(undefined4 *)(puVar9 + 0xac) = *(undefined4 *)(puVar1 + 0x20);
							*(undefined4 *)(puVar9 + 0xb0) = *(undefined4 *)(puVar1 + 0x24);
							puVar9[0xa4] = puVar1[0xa4] + -1;
						}
						if (puVar9[0x9c] == '\f') {
							if ((*(uint *)(puVar9 + 0xa0) & 4) != 0) {
								*(uint *)(puVar9 + 0xa0) = *(uint *)(puVar9 + 0xa0) & 0xfffffffb;
								*(undefined4 *)(puVar9 + 4) = 7;
							}
						}
					}
					piVar8 = piVar8 + 1;
					uVar6 = uVar6 - 1;
				} while (uVar6 != 0);
			}
		}
	}
	return;
}

ulonglong FUN_1006f8f8(ulonglong param_1, uint param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	bool bVar1;
	bool bVar2;
	int iVar3;
	undefined *puVar4;
	ulonglong uVar5;
	longlong lVar6;
	undefined7 uVar7;
	undefined uVar8;
	undefined7 uVar9;
	undefined uVar10;
	undefined7 uVar11;
	undefined uVar12;
	uint uVar13;
	uint uVar14;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	puVar4 = PTR_DAT_100f1f18;
	iVar3 = _DAT_100f1f14;
	uVar11 = (undefined7)((ulonglong)param_5 >> 8);
	uVar12 = (undefined)param_5;
	uVar9 = (undefined7)((ulonglong)param_4 >> 8);
	uVar10 = (undefined)param_4;
	uVar7 = (undefined7)((ulonglong)param_3 >> 8);
	uVar8 = (undefined)param_3;
	uVar5 = DirOK(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	lVar6 = random(0x65, 2, uVar8, uVar10, uVar12, (char)param_6, (char)param_7, (char)param_8,
	    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
	if ((int)lVar6 == 0) {
		bVar2 = true;
		bVar1 = true;
		uVar14 = param_2;
		if ((int)uVar5 == 0) {
			uVar14 = *(uint *)(iVar3 + param_2 * 4);
			uVar5 = DirOK(param_1, uVar14, CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10),
			    CONCAT71(uVar11, uVar12), param_6, param_7, param_8, in_stack_ffffffa8);
			if ((int)uVar5 == 0) {
				bVar1 = false;
			}
		}
		if (!bVar1) {
			uVar14 = *(uint *)(puVar4 + param_2 * 4);
			uVar5 = DirOK(param_1, uVar14, CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10),
			    CONCAT71(uVar11, uVar12), param_6, param_7, param_8, in_stack_ffffffa8);
			if ((int)uVar5 == 0) {
				bVar2 = false;
			}
		}
	} else {
		bVar2 = true;
		bVar1 = true;
		uVar14 = param_2;
		if ((int)uVar5 == 0) {
			uVar14 = *(uint *)(puVar4 + param_2 * 4);
			uVar5 = DirOK(param_1, uVar14, CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10),
			    CONCAT71(uVar11, uVar12), param_6, param_7, param_8, in_stack_ffffffa8);
			if ((int)uVar5 == 0) {
				bVar1 = false;
			}
		}
		if (!bVar1) {
			uVar14 = *(uint *)(iVar3 + param_2 * 4);
			uVar5 = DirOK(param_1, uVar14, CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10),
			    CONCAT71(uVar11, uVar12), param_6, param_7, param_8, in_stack_ffffffa8);
			if ((int)uVar5 == 0) {
				bVar2 = false;
			}
		}
	}
	lVar6 = random(0x66, 2, uVar8, uVar10, uVar12, (char)param_6, (char)param_7, (char)param_8,
	    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
	if ((int)lVar6 == 0) {
		uVar13 = 1;
		bVar1 = true;
		if (!bVar2) {
			uVar14 = *(uint *)(puVar4 + *(int *)(puVar4 + param_2 * 4) * 4);
			uVar5 = DirOK(param_1, uVar14, CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10),
			    CONCAT71(uVar11, uVar12), param_6, param_7, param_8, in_stack_ffffffa8);
			if ((int)uVar5 == 0) {
				bVar1 = false;
			}
		}
		if (!bVar1) {
			uVar14 = *(uint *)(iVar3 + *(int *)(iVar3 + param_2 * 4) * 4);
			uVar5 = DirOK(param_1, uVar14, CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10),
			    CONCAT71(uVar11, uVar12), param_6, param_7, param_8, in_stack_ffffffa8);
			if ((int)uVar5 == 0) {
				uVar13 = 0;
			}
		}
	} else {
		uVar13 = 1;
		bVar1 = true;
		if (!bVar2) {
			uVar14 = *(uint *)(iVar3 + *(int *)(iVar3 + param_2 * 4) * 4);
			uVar5 = DirOK(param_1, uVar14, CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10),
			    CONCAT71(uVar11, uVar12), param_6, param_7, param_8, in_stack_ffffffa8);
			if ((int)uVar5 == 0) {
				bVar1 = false;
			}
		}
		if (!bVar1) {
			uVar14 = *(uint *)(puVar4 + *(int *)(puVar4 + param_2 * 4) * 4);
			uVar5 = DirOK(param_1, uVar14, CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10),
			    CONCAT71(uVar11, uVar12), param_6, param_7, param_8, in_stack_ffffffa8);
			if ((int)uVar5 == 0) {
				uVar13 = 0;
			}
		}
	}
	if (uVar13 != 0) {
		M_WalkDir(param_1, uVar14, CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10), CONCAT71(uVar11, uVar12), param_6, param_7, param_8, in_stack_ffffffa8);
	}
	return (ulonglong)uVar13;
}

ulonglong FUN_1006fb10(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	int iVar4;
	ulonglong uVar5;
	ulonglong uVar6;
	ulonglong uVar7;
	uint uVar8;
	char *pcVar9;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	char local_28[40];

	puVar2 = PTR_DAT_100f187c;
	ppuVar3 = &toc;
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar3 = &toc;
		app_fatal(_DAT_100f31d0, param_1, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffb8, in_stack_ffffffbc,
		    in_stack_ffffffc0, in_stack_ffffffc4, in_stack_ffffffc8, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4);
	}
	iVar4 = (int)param_1 * 0xe8;
	if ((*(uint *)(puVar2 + iVar4 + 0xa0) & 0x200) == 0) {
		puVar1 = ppuVar3[-0x1c31];
	} else {
		puVar1 = ppuVar3[-0x1c30];
	}
	puVar2 = puVar2 + iVar4;
	pcVar9 = local_28;
	uVar5 = (ulonglong) * (uint *)(puVar2 + 0x20);
	uVar6 = (ulonglong) * (uint *)(puVar2 + 0x24);
	uVar7 = (ulonglong)(byte)puVar2[0x50];
	uVar8 = (uint)(byte)puVar2[0x51];
	iVar4 = FindPath(ZEXT48(puVar1), param_1, uVar5, uVar6, uVar7, (ulonglong)(byte)puVar2[0x51],
	    (int)pcVar9, (char)param_8, in_stack_ffffffa8);
	if (iVar4 != 0) {
		FUN_1006f8f8(param_1, (int)(char)ppuVar3[-0x1781][(int)local_28[0]], uVar5, uVar6, uVar7, uVar8,
		    pcVar9, param_8, in_stack_ffffffa8);
	}
	return (ulonglong)(iVar4 != 0);
}

ulonglong FUN_1006fbcc(ulonglong param_1, uint param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	bool bVar1;
	int iVar2;
	undefined *puVar3;
	ulonglong uVar4;
	longlong lVar5;
	undefined7 uVar6;
	undefined uVar7;
	undefined7 uVar8;
	undefined uVar9;
	undefined7 uVar10;
	undefined uVar11;
	uint uVar12;
	uint uVar13;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	puVar3 = PTR_DAT_100f1f18;
	iVar2 = _DAT_100f1f14;
	uVar10 = (undefined7)((ulonglong)param_5 >> 8);
	uVar11 = (undefined)param_5;
	uVar8 = (undefined7)((ulonglong)param_4 >> 8);
	uVar9 = (undefined)param_4;
	uVar6 = (undefined7)((ulonglong)param_3 >> 8);
	uVar7 = (undefined)param_3;
	uVar4 = DirOK(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	lVar5 = random(0x65, 2, uVar7, uVar9, uVar11, (char)param_6, (char)param_7, (char)param_8,
	    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
	if ((int)lVar5 == 0) {
		uVar13 = 1;
		bVar1 = true;
		uVar12 = param_2;
		if ((int)uVar4 == 0) {
			uVar12 = *(uint *)(iVar2 + param_2 * 4);
			uVar4 = DirOK(param_1, uVar12, CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9),
			    CONCAT71(uVar10, uVar11), param_6, param_7, param_8, in_stack_ffffffa8);
			if ((int)uVar4 == 0) {
				bVar1 = false;
			}
		}
		if (!bVar1) {
			uVar12 = *(uint *)(puVar3 + param_2 * 4);
			uVar4 = DirOK(param_1, uVar12, CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9),
			    CONCAT71(uVar10, uVar11), param_6, param_7, param_8, in_stack_ffffffa8);
			if ((int)uVar4 == 0) {
				uVar13 = 0;
			}
		}
	} else {
		uVar13 = 1;
		bVar1 = true;
		uVar12 = param_2;
		if ((int)uVar4 == 0) {
			uVar12 = *(uint *)(puVar3 + param_2 * 4);
			uVar4 = DirOK(param_1, uVar12, CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9),
			    CONCAT71(uVar10, uVar11), param_6, param_7, param_8, in_stack_ffffffa8);
			if ((int)uVar4 == 0) {
				bVar1 = false;
			}
		}
		if (!bVar1) {
			uVar12 = *(uint *)(iVar2 + param_2 * 4);
			uVar4 = DirOK(param_1, uVar12, CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9),
			    CONCAT71(uVar10, uVar11), param_6, param_7, param_8, in_stack_ffffffa8);
			if ((int)uVar4 == 0) {
				uVar13 = 0;
			}
		}
	}
	if (uVar13 != 0) {
		M_WalkDir(param_1, uVar12, CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9), CONCAT71(uVar10, uVar11),
		    param_6, param_7, param_8, in_stack_ffffffa8);
	}
	return (ulonglong)uVar13;
}

ulonglong FUN_1006fcf4(ulonglong param_1, uint param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	undefined4 in_stack_ffffffb8;

	uVar1 = DirOK(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	if (uVar1 != 0) {
		M_WalkDir(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	return uVar1;
}

ulonglong FUN_1006fd4c(ulonglong param_1, int param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	uint uVar2;
	int iVar3;
	undefined **ppuVar4;
	ulonglong uVar5;
	uint *puVar7;
	undefined8 uVar6;
	uint uVar8;
	uint *puVar9;
	uint uVar10;
	undefined4 in_stack_ffffffa8;

	puVar1 = PTR_DAT_100f1f18;
	iVar3 = _DAT_100f1f14;
	ppuVar4 = &toc;
	puVar7 = (uint *)param_3;
	if (*puVar7 == 0) {
		uVar2 = *(uint *)(_DAT_100f1f14 + *(int *)(_DAT_100f1f14 + param_2 * 4) * 4);
	} else {
		uVar2 = *(uint *)(PTR_DAT_100f1f18 + *(int *)(PTR_DAT_100f1f18 + param_2 * 4) * 4);
	}
	uVar5 = DirOK(param_1, uVar2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	uVar8 = uVar2;
	if (uVar5 == 0) {
		if (*puVar7 == 0) {
			puVar9 = (uint *)(puVar1 + uVar2 * 4);
			uVar8 = *puVar9;
			uVar10 = 1;
			uVar5 = DirOK(param_1, uVar8, param_3, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffa8);
			if ((int)uVar5 == 0) {
				uVar8 = *(uint *)(puVar1 + *puVar9 * 4);
				uVar5 = DirOK(param_1, uVar8, param_3, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffffa8);
				if ((int)uVar5 == 0) {
					uVar10 = 0;
				}
			}
			uVar5 = (ulonglong)uVar10;
		} else {
			puVar9 = (uint *)(iVar3 + uVar2 * 4);
			uVar8 = *puVar9;
			uVar10 = 1;
			uVar5 = DirOK(param_1, uVar8, param_3, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffa8);
			if ((int)uVar5 == 0) {
				uVar8 = *(uint *)(iVar3 + *puVar9 * 4);
				uVar5 = DirOK(param_1, uVar8, param_3, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffffa8);
				if ((int)uVar5 == 0) {
					uVar10 = 0;
				}
			}
			uVar5 = (ulonglong)uVar10;
		}
	}
	if ((int)uVar5 == 0) {
		puVar1 = ppuVar4[-0x1c41];
		uVar6 = countLeadingZeros(*puVar7);
		uVar8 = (uint)uVar6 >> 5 & 0xff;
		*puVar7 = uVar8;
		uVar5 = FUN_1006f8f8(param_1, *(uint *)(puVar1 + uVar2 * 4), (ulonglong)uVar8, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffa8);
	} else {
		M_WalkDir(param_1, uVar8, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	}
	return uVar5;
}

void MAI_SkelSd(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	byte bVar1;
	byte bVar2;
	uint uVar3;
	uint uVar4;
	undefined4 uVar5;
	undefined *puVar6;
	undefined **ppuVar7;
	ulonglong uVar8;
	longlong lVar9;
	undefined uVar11;
	int iVar10;
	ulonglong uVar12;
	undefined uVar13;
	ulonglong uVar14;
	undefined uVar15;
	undefined7 uVar16;
	undefined uVar17;
	undefined uVar18;
	undefined uVar19;
	undefined uVar20;
	uint uVar21;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined uVar22;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	uVar22 = (undefined)in_stack_ffffffc8;
	uVar16 = (undefined7)((ulonglong)param_5 >> 8);
	uVar17 = (undefined)param_5;
	ppuVar7 = &toc;
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar7 = &toc;
		app_fatal((int)PTR_s_MAI_SkelSd__Invalid_monster__d_100f31c4, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	iVar10 = (int)param_1;
	puVar6 = ppuVar7[-0x1dd5] + iVar10 * 0xe8;
	if (*(int *)(puVar6 + 4) != 0) {
		return;
	}
	if (puVar6[0xa4] == '\0') {
		return;
	}
	uVar3 = *(uint *)(puVar6 + 0x20);
	bVar1 = puVar6[0x50];
	uVar4 = *(uint *)(puVar6 + 0x24);
	uVar11 = (undefined)uVar4;
	bVar2 = puVar6[0x51];
	uVar12 = (ulonglong) * (uint *)(puVar6 + 0xac);
	uVar14 = (ulonglong) * (uint *)(puVar6 + 0xb0);
	uVar8 = GetDirection((ulonglong)uVar3, uVar4, uVar12, *(uint *)(puVar6 + 0xb0));
	uVar21 = (uint)uVar8;
	*(uint *)(puVar6 + 0x48) = uVar21;
	lVar9 = abs((ulonglong)uVar3 - (ulonglong)bVar1);
	if ((int)lVar9 < 2) {
		lVar9 = abs((ulonglong)uVar4 - (ulonglong)bVar2);
		uVar20 = (undefined)param_8;
		uVar19 = (undefined)param_7;
		uVar18 = (undefined)param_6;
		uVar15 = (undefined)uVar14;
		uVar13 = (undefined)uVar12;
		if ((int)lVar9 < 2) {
			if (*(int *)(puVar6 + 0x74) != 0xd) {
				lVar9 = random(0x69, 100, uVar13, uVar15, uVar17, uVar18, uVar19, uVar20, in_stack_ffffffb8,
				    in_stack_ffffffbf, uVar22);
				uVar11 = (undefined)((uint)(byte)puVar6[0x9d] * 2);
				if ((int)((uint)(byte)puVar6[0x9d] * 2 + 0x14) <= (int)lVar9) {
					lVar9 = random(0x69, 10, uVar13, uVar15, uVar17, uVar18, uVar19, uVar20, in_stack_ffffffb8,
					    in_stack_ffffffbf, uVar22);
					FUN_1006b838(iVar10, (int)lVar9 + 10 + (uint)(byte)puVar6[0x9d] * -2);
					goto LAB_100701b4;
				}
			}
			FUN_1006bc80(iVar10, uVar11, uVar13, uVar15, uVar17, uVar18, uVar19, uVar20, in_stack_ffffffb8);
			goto LAB_100701b4;
		}
	}
	if ((*(int *)(puVar6 + 0x74) == 0xd) || (lVar9 = random(0x6a, 100, (char)uVar12, (char)uVar14, uVar17, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffb8, in_stack_ffffffbf, uVar22), (int)((uint)(byte)puVar6[0x9d] * -4 + 0x23) <= (int)lVar9)) {
		FUN_1006f8f8(param_1, uVar21, uVar12, uVar14, CONCAT71(uVar16, uVar17), param_6, param_7, param_8,
		    in_stack_ffffffb8);
	} else {
		lVar9 = random(0x6a, 10, (char)uVar12, (char)uVar14, uVar17, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffffb8, in_stack_ffffffbf, uVar22);
		FUN_1006b838(iVar10, (int)lVar9 + 0xf + (uint)(byte)puVar6[0x9d] * -2);
	}
LAB_100701b4:
	if (*(int *)(puVar6 + 4) == 0) {
		iVar10 = *(int *)(puVar6 + 0xe0) + uVar21 * 8;
		uVar5 = *(undefined4 *)(iVar10 + 0xc);
		*(undefined4 *)(puVar6 + 0x54) = *(undefined4 *)(iVar10 + 8);
		*(undefined4 *)(puVar6 + 0x58) = uVar5;
	}
	return;
}

undefined8
MAI_Path(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	char cVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	ulonglong uVar4;
	ulonglong uVar5;
	ulonglong uVar6;
	ulonglong uVar7;
	ulonglong uVar8;
	uint uVar9;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	ppuVar3 = &toc;
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar3 = &toc;
		app_fatal((int)PTR_s_MAI_Path__Invalid_monster__d_100f31c0, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8,
		    in_stack_ffffffec, in_stack_fffffff0, in_stack_fffffff4);
	}
	puVar2 = ppuVar3[-0x1dd5] + (int)param_1 * 0xe8;
	if ((**(char **)(puVar2 + 0xe0) != 'm') && ((((puVar2[0xa4] == '\0' || (*(int *)(puVar2 + 4) != 0)) || ((puVar2[8] != '\x01' && (1 < (byte)(puVar2[8] - 4))))) || ((*(int *)(puVar2 + 0x20) == 1 && (*(int *)(puVar2 + 0x24) == 0)))))) {
		return 0;
	}
	uVar6 = (ulonglong) * (uint *)(puVar2 + 0x20);
	uVar7 = (ulonglong) * (uint *)(puVar2 + 0x24);
	uVar8 = (ulonglong)(byte)puVar2[0x50];
	uVar9 = (uint)(byte)puVar2[0x51];
	uVar5 = param_1;
	uVar4 = LineClearF1(ZEXT48(ppuVar3[-0x1c32]), param_1, uVar6, uVar7, uVar8,
	    (ulonglong)(byte)puVar2[0x51], (char)param_7, (char)param_8, in_stack_ffffffc8);
	if (((int)uVar4 == 0) || ((4 < (byte)puVar2[0x1c] && ((byte)puVar2[0x1c] < 8)))) {
		if ((*(uint *)(puVar2 + 0xa0) & 0x200) != 0) {
			FUN_10087a2c((int)param_1, uVar5, uVar6, uVar7, uVar8, uVar9, param_7, param_8, in_stack_ffffffc8);
		}
		cVar1 = puVar2[0x1c];
		puVar2[0x1c] = cVar1 + 1U;
		if ((byte)(cVar1 + 1U) < 5) {
			return 0;
		}
		uVar5 = FUN_1006fb10(param_1, uVar5, uVar6, uVar7, uVar8, uVar9, param_7, param_8, in_stack_ffffffc8);
		if ((int)uVar5 != 0) {
			return 1;
		}
	}
	if (**(char **)(puVar2 + 0xe0) != 'm') {
		puVar2[0x1c] = 0;
	}
	return 0;
}

void MAI_Fallen(ulonglong param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	short sVar1;
	undefined *puVar2;
	undefined *puVar3;
	int iVar4;
	undefined *puVar5;
	longlong lVar6;
	undefined **ppuVar7;
	longlong lVar8;
	uint uVar9;
	int iVar11;
	ulonglong uVar10;
	byte bVar12;
	undefined uVar14;
	ulonglong uVar13;
	undefined uVar16;
	longlong lVar15;
	undefined uVar17;
	undefined uVar19;
	longlong lVar18;
	undefined uVar22;
	longlong lVar20;
	int iVar21;
	undefined uVar23;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined uVar24;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar5 = PTR_DAT_100f187c;
	uVar24 = (undefined)in_stack_ffffffc8;
	ppuVar7 = &toc;
	if (199 < (param_1 & 0xffffffff)) {
		param_2 = param_1;
		ppuVar7 = &toc;
		app_fatal((int)PTR_s_MAI_Fallen__Invalid_monster__d_100f31a0, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	iVar11 = (int)param_1;
	puVar3 = puVar5 + iVar11 * 0xe8;
	if (puVar3[8] == '\x05') {
		if (*(int *)(puVar3 + 0xc) == 0) {
			puVar3[8] = 1;
		} else {
			*(int *)(puVar3 + 0xc) = *(int *)(puVar3 + 0xc) + -1;
		}
	}
	if ((*(int *)(puVar3 + 4) == 0) && (puVar3[0xa4] != '\0')) {
		if ((puVar3[8] == '\x02') && (iVar21 = *(int *)(puVar3 + 0xc), *(int *)(puVar3 + 0xc) = iVar21 + -1, iVar21 == 0)) {
			puVar2 = ppuVar7[-0x1c41];
			puVar3[8] = 1;
			param_2 = (ulonglong) * (uint *)(puVar2 + *(int *)(puVar3 + 0x48) * 4);
			FUN_1006b758(iVar11, *(uint *)(puVar2 + *(int *)(puVar3 + 0x48) * 4), (char)param_3,
			    (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8,
			    in_stack_ffffffb8);
		}
		uVar23 = (undefined)param_8;
		uVar22 = (undefined)param_7;
		uVar19 = (undefined)param_6;
		uVar17 = (undefined)param_5;
		uVar16 = (undefined)param_4;
		uVar14 = (undefined)param_3;
		if (*(int *)(puVar3 + 0x68) == *(int *)(puVar3 + 100)) {
			lVar8 = random(0x71, 4, uVar14, uVar16, uVar17, uVar19, uVar22, uVar23, in_stack_ffffffb8,
			    in_stack_ffffffbf, uVar24);
			if ((int)lVar8 == 0) {
				if ((*(uint *)(puVar5 + iVar11 * 0xe8 + 0xa0) & 8) == 0) {
					FUN_1006b868(iVar11, *(int *)(puVar3 + 0x48), uVar14, uVar16, uVar17, uVar19, uVar22, uVar23,
					    in_stack_ffffffb8);
					iVar11 = (uint)(byte)puVar3[0x9d] * 2 + 2;
					if (*(int *)(puVar3 + 0x94) - iVar11 < *(int *)(puVar3 + 0x98)) {
						*(int *)(puVar3 + 0x98) = *(int *)(puVar3 + 0x94);
					} else {
						*(int *)(puVar3 + 0x98) = *(int *)(puVar3 + 0x98) + iVar11;
					}
				}
				bVar12 = puVar3[0x9d];
				lVar15 = (ulonglong)bVar12 * 2 + 4;
				iVar11 = *(int *)ppuVar7[-0x1d9f];
				lVar20 = -lVar15;
				lVar8 = lVar20;
				while (true) {
					iVar21 = (int)lVar8;
					if ((int)lVar15 < iVar21)
						break;
					lVar6 = (ulonglong)bVar12 * 2 + 5 + lVar15;
					lVar18 = lVar20;
					if ((int)lVar20 <= (int)lVar15) {
						do {
							iVar4 = (int)lVar18;
							if ((((-1 < iVar21) && (iVar21 < 0x70)) && (-1 < iVar4)) && (((iVar4 < 0x70 && (sVar1 = *(short *)(iVar11 + (*(int *)(puVar3 + 0x20) + iVar4) * 0xe0 + (*(int *)(puVar3 + 0x24) + iVar21) * 2), 0 < sVar1)) && (puVar2 = puVar5 + ((int)sVar1 + -1) * 0xe8, puVar2[0x9c] == '\b')))) {
								puVar2[8] = 5;
								*(uint *)(puVar2 + 0xc) = ((uint)(byte)puVar3[0x9d] * 2 + 7) * 0xf;
							}
							lVar18 = lVar18 + 1;
							lVar6 = lVar6 + -1;
						} while (lVar6 != 0);
					}
					lVar8 = lVar8 + 1;
				}
			}
		} else {
			if (puVar3[8] == '\x02') {
				FUN_1006f8f8(param_1, *(uint *)(puVar3 + 0x48), param_3, param_4, param_5, param_6, param_7,
				    param_8, in_stack_ffffffb8);
			} else {
				if (puVar3[8] == '\x05') {
					uVar13 = (ulonglong)(byte)puVar3[0x50];
					bVar12 = puVar3[0x51];
					uVar10 = (ulonglong)bVar12;
					uVar9 = *(uint *)(puVar3 + 0x24);
					lVar8 = abs((ulonglong) * (uint *)(puVar3 + 0x20) - uVar13);
					if (((int)lVar8 < 2) && (lVar8 = abs((ulonglong)uVar9 - uVar10), (int)lVar8 < 2)) {
						FUN_1006bc80(iVar11, bVar12, (char)uVar13, (char)param_4, (char)param_5, (char)param_6,
						    (char)param_7, (char)param_8, in_stack_ffffffb8);
					} else {
						uVar9 = FUN_1006b5f4(iVar11, bVar12, (char)uVar13, (char)param_4, (char)param_5,
						    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffb8);
						FUN_1006f8f8(param_1, uVar9, uVar13, param_4, param_5, param_6, param_7, param_8,
						    in_stack_ffffffb8);
					}
				} else {
					MAI_SkelSd(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
					    in_stack_ffffffb8);
				}
			}
		}
	}
	return;
}

void MAI_Round(ulonglong param_1, int param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	byte bVar1;
	byte bVar2;
	uint uVar3;
	int iVar4;
	undefined4 uVar5;
	int iVar6;
	undefined *puVar7;
	undefined **ppuVar8;
	ulonglong uVar9;
	int iVar13;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	int iVar14;
	ulonglong uVar15;
	uint uVar16;
	undefined uVar17;
	ulonglong uVar18;
	undefined uVar19;
	ulonglong uVar20;
	undefined uVar21;
	undefined7 uVar22;
	undefined uVar23;
	undefined uVar24;
	undefined uVar25;
	undefined uVar26;
	longlong lVar27;
	longlong lVar28;
	longlong lVar29;
	int iVar30;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined4 in_stack_ffffffa8;
	undefined uVar31;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;

	puVar7 = PTR_DAT_100f1a48;
	uVar31 = (undefined)in_stack_ffffffa8;
	uVar22 = (undefined7)((ulonglong)param_5 >> 8);
	uVar23 = (undefined)param_5;
	ppuVar8 = &toc;
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar8 = &toc;
		app_fatal((int)PTR_s_MAI_Round__Invalid_monster__d_100f3198, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffa8,
		    in_stack_ffffffac, in_stack_ffffffb0, in_stack_ffffffb4, in_stack_ffffffb8,
		    in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4);
	}
	lVar29 = ZEXT48(ppuVar8[-0x1dd5]) + param_1 * 0xe8;
	iVar6 = (int)lVar29;
	if (*(int *)(iVar6 + 4) != 0) {
		return;
	}
	if (*(char *)(iVar6 + 0xa4) == '\0') {
		return;
	}
	bVar1 = *(byte *)(iVar6 + 0x50);
	uVar15 = (ulonglong) * (uint *)(iVar6 + 0x24);
	bVar2 = *(byte *)(iVar6 + 0x51);
	lVar28 = (ulonglong) * (uint *)(iVar6 + 0x20) - (ulonglong)bVar1;
	uVar18 = (ulonglong) * (uint *)(iVar6 + 0xac);
	uVar20 = (ulonglong) * (uint *)(iVar6 + 0xb0);
	lVar27 = uVar15 - (ulonglong)bVar2;
	uVar9 = GetDirection((ulonglong) * (uint *)(iVar6 + 0x20), *(uint *)(iVar6 + 0x24), uVar18,
	    *(uint *)(iVar6 + 0xb0));
	iVar13 = (int)param_1;
	if (*(char *)(iVar6 + 0xa4) != -1) {
		FUN_10087a2c(iVar13, uVar15, uVar18, uVar20, CONCAT71(uVar22, uVar23), param_6, param_7, param_8,
		    in_stack_ffffff98);
	}
	uVar17 = 100;
	lVar10 = random(0x72, 100, (char)uVar18, (char)uVar20, uVar23, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffff98, in_stack_ffffff9f, uVar31);
	lVar11 = abs(lVar28);
	uVar16 = (uint)uVar9;
	if ((((int)lVar11 < 2) && (lVar11 = abs(lVar27), (int)lVar11 < 2)) || (*(char *)(iVar6 + 0xa4) != -1)) {
	LAB_10071750:
		*(undefined *)(iVar6 + 8) = 1;
	} else {
		iVar30 = (uint)bVar1 * 0x70;
		uVar3 = *(uint *)puVar7;
		uVar18 = (ulonglong)uVar3;
		lVar11 = (ulonglong) * (uint *)(iVar6 + 0x20) * 0x70;
		uVar17 = (undefined)lVar11;
		if (*(char *)(uVar3 + (int)lVar11 + *(int *)(iVar6 + 0x24)) != *(char *)(uVar3 + iVar30 + (uint)bVar2))
			goto LAB_10071750;
		if (*(char *)(iVar6 + 8) == '\x04') {
		LAB_1007179c:
			if (*(char *)(iVar6 + 8) != '\x04') {
				*(undefined4 *)(iVar6 + 0xc) = 0;
				lVar11 = random(0x74, 2, (char)uVar18, (char)uVar20, uVar23, (char)param_6, (char)param_7,
				    (char)param_8, in_stack_ffffff98, in_stack_ffffff9f, uVar31);
				*(undefined4 *)(iVar6 + 0x10) = (int)lVar11;
			}
			*(undefined *)(iVar6 + 8) = 4;
			lVar11 = abs(lVar27);
			lVar12 = abs(lVar28);
			if ((int)lVar11 < (int)lVar12) {
				lVar11 = abs(lVar28);
				iVar14 = (int)lVar11;
			} else {
				lVar11 = abs(lVar27);
				iVar14 = (int)lVar11;
			}
			iVar4 = *(int *)(iVar6 + 0xc);
			*(int *)(iVar6 + 0xc) = iVar4 + 1;
			if ((iVar4 < iVar14 << 1) || (uVar17 = (char)uVar9, uVar15 = DirOK(param_1, uVar16, uVar18, uVar20, CONCAT71(uVar22, uVar23), param_6, param_7, param_8, in_stack_ffffff98), (int)uVar15 == 0)) {
				uVar3 = *(uint *)puVar7;
				uVar18 = (ulonglong)uVar3;
				lVar11 = (ulonglong) * (uint *)(iVar6 + 0x20) * 0x70;
				uVar17 = (undefined)lVar11;
				if (*(char *)(uVar3 + (int)lVar11 + *(int *)(iVar6 + 0x24)) == *(char *)(uVar3 + iVar30 + (uint)bVar2)) {
					uVar18 = lVar29 + 0x10;
					uVar17 = (char)uVar9;
					uVar9 = FUN_1006fd4c(param_1, uVar16, uVar18, uVar20, CONCAT71(uVar22, uVar23), param_6, param_7,
					    param_8, in_stack_ffffff98);
					if ((int)uVar9 == 0) {
						lVar29 = random(0x7d, 10, (char)uVar18, (char)uVar20, uVar23, (char)param_6,
						    (char)param_7, (char)param_8, in_stack_ffffff98, in_stack_ffffff9f,
						    uVar31);
						uVar17 = (undefined)(lVar29 + 10);
						FUN_1006b838(iVar13, (int)(lVar29 + 10));
					}
					goto LAB_10071894;
				}
			}
			*(undefined *)(iVar6 + 8) = 1;
		} else {
			lVar11 = abs(lVar28);
			if ((3 < (int)lVar11) || (lVar11 = abs(lVar27), 3 < (int)lVar11)) {
				uVar17 = 4;
				lVar11 = random(0x73, 4, (char)uVar18, (char)uVar20, uVar23, (char)param_6, (char)param_7,
				    (char)param_8, in_stack_ffffff98, in_stack_ffffff9f, uVar31);
				if ((int)lVar11 == 0)
					goto LAB_1007179c;
			}
		}
	}
LAB_10071894:
	if (*(char *)(iVar6 + 8) != '\x01')
		goto LAB_10071980;
	lVar29 = abs(lVar28);
	iVar30 = (int)lVar10;
	if ((int)lVar29 < 2) {
		lVar29 = abs(lVar27);
		uVar26 = (undefined)param_8;
		uVar25 = (undefined)param_7;
		uVar24 = (undefined)param_6;
		uVar21 = (undefined)uVar20;
		uVar19 = (undefined)uVar18;
		if ((int)lVar29 < 2) {
			if (iVar30 < (int)((uint) * (byte *)(iVar6 + 0x9d) * 2 + 0x17)) {
				*(uint *)(iVar6 + 0x48) = uVar16;
				if ((param_2 != 0) && (*(int *)(iVar6 + 0x98) < *(int *)(iVar6 + 0x94) >> 1)) {
					uVar17 = 2;
					lVar29 = random(0x75, 2, uVar19, uVar21, uVar23, uVar24, uVar25, uVar26, in_stack_ffffff98,
					    in_stack_ffffff9f, uVar31);
					if ((int)lVar29 != 0) {
						FUN_1006be64(iVar13, uVar17, uVar19, uVar21, uVar23, uVar24, uVar25, uVar26, in_stack_ffffff98);
						goto LAB_10071980;
					}
				}
				FUN_1006bc80(iVar13, uVar17, uVar19, uVar21, uVar23, uVar24, uVar25, uVar26, in_stack_ffffff98);
			}
			goto LAB_10071980;
		}
	}
	if (((0x14 < *(int *)(iVar6 + 0x78)) && (iVar30 < (int)((uint) * (byte *)(iVar6 + 0x9d) * 2 + 0x1c))) || (((*(int *)(iVar6 + 0x74) == 1 || (*(int *)(iVar6 + 0x74) - 2U < 2)) && ((*(int *)(iVar6 + 0x78) == 0 && (iVar30 < (int)((uint) * (byte *)(iVar6 + 0x9d) * 2 + 0x4e))))))) {
		FUN_1006f8f8(param_1, uVar16, uVar18, uVar20, CONCAT71(uVar22, uVar23), param_6, param_7, param_8,
		    in_stack_ffffff98);
	}
LAB_10071980:
	if (*(int *)(iVar6 + 4) == 0) {
		iVar13 = *(int *)(iVar6 + 0xe0) + uVar16 * 8;
		uVar5 = *(undefined4 *)(iVar13 + 0xc);
		*(undefined4 *)(iVar6 + 0x54) = *(undefined4 *)(iVar13 + 8);
		*(undefined4 *)(iVar6 + 0x58) = uVar5;
	}
	return;
}

void MAI_Ranged(ulonglong param_1, undefined4 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined4 uVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	int iVar6;
	int iVar7;
	ulonglong uVar5;
	ulonglong uVar8;
	int iVar9;
	ulonglong uVar10;
	ulonglong uVar11;
	ulonglong uVar12;
	byte bVar13;
	undefined7 uVar14;
	undefined uVar15;
	undefined uVar16;
	undefined uVar17;
	undefined uVar18;
	longlong lVar19;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined4 in_stack_ffffffa8;
	undefined uVar20;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;

	puVar3 = PTR_DAT_100f187c;
	uVar20 = (undefined)in_stack_ffffffa8;
	uVar14 = (undefined7)((ulonglong)param_5 >> 8);
	uVar15 = (undefined)param_5;
	ppuVar4 = &toc;
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar4 = &toc;
		app_fatal((int)PTR_s_MAI_Ranged__Invalid_monster__d_100f3194, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffa8,
		    in_stack_ffffffac, in_stack_ffffffb0, in_stack_ffffffb4, in_stack_ffffffb8,
		    in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4);
	}
	iVar9 = (int)param_1;
	puVar3 = puVar3 + iVar9 * 0xe8;
	if (*(int *)(puVar3 + 4) == 0) {
		if ((puVar3[0xa4] == -1) || ((*(uint *)(puVar3 + 0xa0) & 0x10) != 0)) {
			uVar10 = (ulonglong)(byte)puVar3[0x50];
			bVar13 = puVar3[0x51];
			uVar12 = (ulonglong)bVar13;
			uVar8 = (ulonglong) * (uint *)(puVar3 + 0x20);
			uVar1 = *(uint *)(puVar3 + 0x24);
			lVar19 = uVar8 - uVar10;
			uVar5 = uVar10;
			uVar11 = uVar12;
			iVar6 = FUN_1006b5f4(iVar9, (char)*(uint *)(puVar3 + 0x20), puVar3[0x50], bVar13, uVar15,
			    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffff98);
			if (puVar3[0xa4] != -1) {
				FUN_10087a2c(iVar9, uVar8, uVar5, uVar11, CONCAT71(uVar14, uVar15), param_6, param_7, param_8,
				    in_stack_ffffff98);
			}
			uVar18 = (undefined)param_8;
			uVar17 = (undefined)param_7;
			uVar16 = (undefined)param_6;
			*(int *)(puVar3 + 0x48) = iVar6;
			if (*(int *)(puVar3 + 0x74) == 10) {
				lVar19 = random(0x76, 0x14, (char)uVar5, (char)uVar11, uVar15, uVar16, uVar17, uVar18,
				    in_stack_ffffff98, in_stack_ffffff9f, uVar20);
				FUN_1006b838(iVar9, (int)lVar19);
			} else {
				lVar19 = abs(lVar19);
				uVar18 = (undefined)param_8;
				uVar17 = (undefined)param_7;
				uVar16 = (undefined)param_6;
				if ((int)lVar19 < 4) {
					lVar19 = abs((ulonglong)uVar1 - uVar12);
					uVar18 = (undefined)param_8;
					uVar17 = (undefined)param_7;
					uVar16 = (undefined)param_6;
					if ((int)lVar19 < 4) {
						lVar19 = random(0x77, 100, (char)uVar5, (char)uVar11, uVar15, uVar16, uVar17, uVar18,
						    in_stack_ffffff98, in_stack_ffffff9f, uVar20);
						uVar18 = (undefined)param_8;
						uVar17 = (undefined)param_7;
						uVar16 = (undefined)param_6;
						if ((int)lVar19 < (int)((uint)(byte)puVar3[0x9d] * 10 + 0x46)) {
							FUN_1006f8f8(param_1, *(uint *)(ppuVar4[-0x1c41] + iVar6 * 4), uVar5, uVar11,
							    CONCAT71(uVar14, uVar15), param_6, param_7, param_8, in_stack_ffffff98);
						}
					}
				}
			}
			if (*(int *)(puVar3 + 4) == 0) {
				iVar7 = LineClear((ulonglong) * (uint *)(puVar3 + 0x20), (ulonglong) * (uint *)(puVar3 + 0x24), uVar10, uVar12, uVar15, uVar16, uVar17, uVar18, in_stack_ffffff98);
				if (iVar7 == 0) {
					iVar9 = *(int *)(puVar3 + 0xe0) + iVar6 * 8;
					uVar2 = *(undefined4 *)(iVar9 + 0xc);
					*(undefined4 *)(puVar3 + 0x54) = *(undefined4 *)(iVar9 + 8);
					*(undefined4 *)(puVar3 + 0x58) = uVar2;
				} else {
					if ((int)param_3 == 0) {
						FUN_1006bd20(iVar9, param_2, 4, bVar13, uVar15, uVar16, uVar17, uVar18, in_stack_ffffff98);
					} else {
						FUN_1006bdc0(iVar9, param_2, 4, bVar13, uVar15, uVar16, uVar17, uVar18, in_stack_ffffff98);
					}
				}
			}
		} else {
			if (puVar3[0xa4] != '\0') {
				uVar11 = (ulonglong) * (uint *)(puVar3 + 0xac);
				uVar8 = (ulonglong) * (uint *)(puVar3 + 0xb0);
				uVar5 = GetDirection((ulonglong) * (uint *)(puVar3 + 0x20), *(int *)(puVar3 + 0x24), uVar11,
				    *(uint *)(puVar3 + 0xb0));
				FUN_1006f8f8(param_1, (uint)uVar5, uVar11, uVar8, CONCAT71(uVar14, uVar15), param_6, param_7,
				    param_8, in_stack_ffffff98);
			}
		}
	}
	return;
}

void FUN_10071be4(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	MAI_Ranged(param_1, 0x18, 0, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void MAI_RoundRanged(ulonglong param_1, undefined4 param_2, undefined8 param_3, undefined8 param_4,
    ulonglong param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	byte bVar1;
	byte bVar2;
	uint uVar3;
	int iVar4;
	int iVar5;
	ulonglong uVar6;
	undefined **ppuVar7;
	ulonglong uVar8;
	int iVar11;
	longlong lVar9;
	longlong lVar10;
	int iVar12;
	ulonglong uVar13;
	uint uVar14;
	undefined uVar15;
	ulonglong uVar16;
	byte bVar17;
	ulonglong uVar18;
	undefined uVar19;
	ulonglong uVar20;
	ulonglong uVar21;
	undefined uVar22;
	undefined uVar23;
	undefined uVar24;
	undefined uVar25;
	longlong lVar26;
	longlong lVar27;
	longlong lVar28;
	int iVar29;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined4 in_stack_ffffffa8;
	undefined uVar30;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;

	uVar30 = (undefined)in_stack_ffffffa8;
	ppuVar7 = &toc;
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar7 = &toc;
		app_fatal((int)PTR_s_MAI_RoundRanged__Invalid_monster_100f3188, param_1, param_3, param_4,
		    param_5, param_6, param_7, param_8, in_stack_ffffff98, in_stack_ffffff9f,
		    in_stack_ffffffa8, in_stack_ffffffac, in_stack_ffffffb0, in_stack_ffffffb4,
		    in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4);
	}
	lVar28 = ZEXT48(ppuVar7[-0x1dd5]) + param_1 * 0xe8;
	iVar5 = (int)lVar28;
	if (*(int *)(iVar5 + 4) != 0) {
		return;
	}
	if (*(char *)(iVar5 + 0xa4) == '\0') {
		return;
	}
	bVar1 = *(byte *)(iVar5 + 0x50);
	uVar6 = (ulonglong)bVar1;
	bVar2 = *(byte *)(iVar5 + 0x51);
	uVar20 = (ulonglong)bVar2;
	uVar13 = (ulonglong) * (uint *)(iVar5 + 0x24);
	lVar27 = (ulonglong) * (uint *)(iVar5 + 0x20) - uVar6;
	uVar16 = (ulonglong) * (uint *)(iVar5 + 0xac);
	uVar18 = (ulonglong) * (uint *)(iVar5 + 0xb0);
	lVar26 = uVar13 - uVar20;
	uVar21 = uVar20;
	uVar8 = GetDirection((ulonglong) * (uint *)(iVar5 + 0x20), *(uint *)(iVar5 + 0x24), uVar16,
	    *(uint *)(iVar5 + 0xb0));
	bVar17 = (byte)uVar16;
	iVar11 = (int)param_1;
	if (((int)param_3 != 0) && (*(char *)(iVar5 + 0xa4) != -1)) {
		FUN_10087a2c(iVar11, uVar13, uVar16, uVar18, uVar21, param_6, param_7, param_8, in_stack_ffffff98);
	}
	uVar15 = 0x10;
	lVar9 = random(0x79, 10000, bVar17, (char)uVar18, (char)uVar21, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffff98, in_stack_ffffff9f, uVar30);
	lVar10 = abs(lVar27);
	iVar29 = (int)lVar9;
	uVar14 = (uint)uVar8;
	if ((((int)lVar10 < 2) && (lVar9 = abs(lVar26), (int)lVar9 < 2)) || (*(char *)(iVar5 + 0xa4) != -1)) {
	LAB_1007222c:
		*(undefined *)(iVar5 + 8) = 1;
	} else {
		uVar13 = (ulonglong) * (uint *)(iVar5 + 0x20) * 0x70;
		uVar15 = (undefined)uVar13;
		uVar3 = *(uint *)ppuVar7[-0x1d62];
		uVar16 = (ulonglong)uVar3;
		bVar17 = (byte)uVar3;
		if (*(char *)(uVar3 + (int)uVar13 + *(int *)(iVar5 + 0x24)) != *(char *)(uVar3 + (uint)bVar1 * 0x70 + (uint)bVar2))
			goto LAB_1007222c;
		if (*(char *)(iVar5 + 8) == '\x04') {
		LAB_1007227c:
			if (*(char *)(iVar5 + 8) != '\x04') {
				*(undefined4 *)(iVar5 + 0xc) = 0;
				lVar9 = random(0x7b, 2, (char)uVar16, (char)uVar18, (char)uVar21, (char)param_6,
				    (char)param_7, (char)param_8, in_stack_ffffff98, in_stack_ffffff9f, uVar30);
				*(undefined4 *)(iVar5 + 0x10) = (int)lVar9;
			}
			*(undefined *)(iVar5 + 8) = 4;
			lVar9 = abs(lVar26);
			lVar10 = abs(lVar27);
			if ((int)lVar9 < (int)lVar10) {
				lVar9 = abs(lVar27);
				iVar12 = (int)lVar9;
			} else {
				lVar9 = abs(lVar26);
				iVar12 = (int)lVar9;
			}
			bVar17 = (byte)uVar16;
			iVar4 = *(int *)(iVar5 + 0xc);
			*(int *)(iVar5 + 0xc) = iVar4 + 1;
			if ((iVar4 < iVar12 << 1) || (uVar15 = (char)uVar8, uVar13 = DirOK(param_1, uVar14, uVar16, uVar18, uVar21, param_6, param_7, param_8, in_stack_ffffff98), (int)uVar13 == 0)) {
				if ((iVar29<(int)((uint) * (byte *)(iVar5 + 0x9d) * 500 + 500)>> (param_5 & 0x3f)) && (uVar18 = uVar20, iVar12 = LineClear((ulonglong) * (uint *)(iVar5 + 0x20), (ulonglong) * (uint *)(iVar5 + 0x24), uVar6, uVar20, (char)uVar21, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffff98), iVar12 != 0)) {
					uVar15 = (char)param_2;
					bVar17 = (byte)param_4;
					FUN_1006bdc0(iVar11, param_2, (int)param_4, (char)uVar18, (char)uVar21, (char)param_6,
					    (char)param_7, (char)param_8, in_stack_ffffff98);
				} else {
					lVar28 = lVar28 + 0x10;
					bVar17 = (byte)lVar28;
					uVar15 = (char)uVar8;
					FUN_1006fd4c(param_1, uVar14, lVar28, uVar18, uVar21, param_6, param_7, param_8, in_stack_ffffff98);
				}
			} else {
				*(undefined *)(iVar5 + 8) = 1;
			}
		} else {
			lVar9 = abs(lVar27);
			if ((int)lVar9 < 3) {
				lVar9 = abs(lVar26);
				bVar17 = (byte)uVar16;
				uVar15 = (undefined)uVar13;
				if (2 < (int)lVar9)
					goto LAB_10072264;
			} else {
			LAB_10072264:
				uVar15 = (undefined)(4 << param_5);
				lVar9 = random(0x7a, uVar13 & 0xffffffff00000000 | (ulonglong)(uint)(4 << param_5),
				    (char)uVar16, (char)uVar18, (char)uVar21, (char)param_6, (char)param_7,
				    (char)param_8, in_stack_ffffff98, in_stack_ffffff9f, uVar30);
				bVar17 = (byte)uVar16;
				if ((int)lVar9 == 0)
					goto LAB_1007227c;
			}
		}
	}
	uVar25 = (undefined)param_8;
	uVar24 = (undefined)param_7;
	uVar23 = (undefined)param_6;
	uVar22 = (undefined)uVar21;
	uVar19 = (undefined)uVar18;
	if (*(char *)(iVar5 + 8) == '\x01') {
		lVar28 = abs(lVar27);
		if ((((2 < (int)lVar28) || (lVar28 = abs(lVar26), 2 < (int)lVar28)) && (iVar29<(int)((uint) * (byte *)(iVar5 + 0x9d) * 500 + 1000)>> (param_5 & 0x3f))) || (iVar29<(int)((uint) * (byte *)(iVar5 + 0x9d) * 500 + 500)>> (param_5 & 0x3f))) {
			uVar15 = (undefined) * (uint *)(iVar5 + 0x24);
			bVar17 = bVar1;
			iVar12 = LineClear((ulonglong) * (uint *)(iVar5 + 0x20), (ulonglong) * (uint *)(iVar5 + 0x24),
			    uVar6, uVar20, (char)uVar21, (char)param_6, (char)param_7, (char)param_8,
			    in_stack_ffffff98);
			uVar25 = (undefined)param_8;
			uVar24 = (undefined)param_7;
			uVar23 = (undefined)param_6;
			uVar22 = (undefined)uVar21;
			uVar19 = (undefined)uVar20;
			uVar18 = uVar20;
			if (iVar12 != 0) {
				bVar17 = (byte)param_4;
				FUN_1006bdc0(iVar11, param_2, (int)param_4, uVar19, uVar22, uVar23, uVar24, uVar25,
				    in_stack_ffffff98);
				goto LAB_10072494;
			}
		}
		lVar28 = abs(lVar27);
		if ((int)lVar28 < 2) {
			lVar28 = abs(lVar26);
			uVar25 = (undefined)param_8;
			uVar24 = (undefined)param_7;
			uVar23 = (undefined)param_6;
			uVar22 = (undefined)uVar21;
			uVar19 = (undefined)uVar18;
			if ((int)lVar28 < 2) {
				if (iVar29 < (int)((uint) * (byte *)(iVar5 + 0x9d) * 1000 + 6000)) {
					*(uint *)(iVar5 + 0x48) = uVar14;
					FUN_1006bc80(iVar11, uVar15, bVar17, uVar19, uVar22, uVar23, uVar24, uVar25, in_stack_ffffff98);
				}
				goto LAB_10072494;
			}
		}
		lVar28 = random(0x7c, 100, bVar17, (char)uVar18, (char)uVar21, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffff98, in_stack_ffffff9f, uVar30);
		uVar25 = (undefined)param_8;
		uVar24 = (undefined)param_7;
		uVar23 = (undefined)param_6;
		uVar22 = (undefined)uVar21;
		uVar19 = (undefined)uVar18;
		lVar26 = (ulonglong) * (byte *)(iVar5 + 0x9d) * 1000;
		bVar17 = (byte)lVar26;
		if (((int)lVar28 < (int)lVar26 + 5000) || ((((*(int *)(iVar5 + 0x74) == 1 || (*(int *)(iVar5 + 0x74) - 2U < 2)) && (*(int *)(iVar5 + 0x78) == 0)) && ((int)lVar28 < (int)lVar26 + 8000)))) {
			FUN_1006f8f8(param_1, uVar14, lVar26, uVar18, uVar21, param_6, param_7, param_8, in_stack_ffffff98);
		}
	}
LAB_10072494:
	if (*(int *)(iVar5 + 4) == 0) {
		lVar28 = random(0x7d, 10, bVar17, uVar19, uVar22, uVar23, uVar24, uVar25, in_stack_ffffff98,
		    in_stack_ffffff9f, uVar30);
		FUN_1006b838(iVar11, (int)lVar28 + 5);
	}
	return;
}

void MAI_RR2(ulonglong param_1, undefined4 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	byte bVar1;
	byte bVar2;
	uint uVar3;
	int iVar4;
	int iVar5;
	undefined **ppuVar6;
	longlong lVar7;
	ulonglong uVar8;
	int iVar11;
	longlong lVar9;
	longlong lVar10;
	int iVar12;
	int iVar13;
	ulonglong uVar14;
	ulonglong uVar15;
	uint uVar16;
	undefined uVar17;
	ulonglong uVar18;
	ulonglong uVar19;
	byte bVar20;
	undefined uVar21;
	ulonglong uVar22;
	undefined uVar23;
	undefined uVar24;
	undefined uVar25;
	undefined uVar26;
	longlong lVar27;
	longlong lVar28;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined4 in_stack_ffffffa8;
	undefined uVar29;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;

	uVar29 = (undefined)in_stack_ffffffa8;
	ppuVar6 = &toc;
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar6 = &toc;
		app_fatal((int)PTR_s_MAI_RR2__Invalid_monster__d_100f3184, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffa8,
		    in_stack_ffffffac, in_stack_ffffffb0, in_stack_ffffffb4, in_stack_ffffffb8,
		    in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4);
	}
	lVar28 = ZEXT48(ppuVar6[-0x1dd5]) + param_1 * 0xe8;
	iVar5 = (int)lVar28;
	uVar18 = (ulonglong) * (byte *)(iVar5 + 0x50);
	uVar14 = (ulonglong) * (byte *)(iVar5 + 0x51);
	lVar27 = (ulonglong) * (uint *)(iVar5 + 0x24) - uVar14;
	lVar7 = abs((ulonglong) * (uint *)(iVar5 + 0x20) - uVar18);
	if ((4 < (int)lVar7) || (lVar7 = abs(lVar27), 4 < (int)lVar7)) {
		MAI_SkelSd(param_1, uVar14, uVar18, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff98);
		return;
	}
	if (*(int *)(iVar5 + 4) != 0) {
		return;
	}
	if (*(char *)(iVar5 + 0xa4) == '\0') {
		return;
	}
	bVar1 = *(byte *)(iVar5 + 0x50);
	bVar2 = *(byte *)(iVar5 + 0x51);
	uVar22 = (ulonglong)bVar2;
	uVar15 = (ulonglong) * (uint *)(iVar5 + 0x24);
	lVar27 = (ulonglong) * (uint *)(iVar5 + 0x20) - (ulonglong)bVar1;
	uVar19 = (ulonglong) * (uint *)(iVar5 + 0xac);
	uVar14 = (ulonglong) * (uint *)(iVar5 + 0xb0);
	lVar7 = uVar15 - uVar22;
	uVar18 = uVar22;
	uVar8 = GetDirection((ulonglong) * (uint *)(iVar5 + 0x20), *(uint *)(iVar5 + 0x24), uVar19,
	    *(uint *)(iVar5 + 0xb0));
	bVar20 = (byte)uVar19;
	iVar11 = (int)param_1;
	if (*(char *)(iVar5 + 0xa4) != -1) {
		FUN_10087a2c(iVar11, uVar15, uVar19, uVar14, uVar18, param_6, param_7, param_8, in_stack_ffffff98);
	}
	lVar9 = random(0x79, 100, bVar20, (char)uVar14, (char)uVar18, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffff98, in_stack_ffffff9f, uVar29);
	lVar10 = abs(lVar27);
	iVar13 = (int)lVar9;
	uVar16 = (uint)uVar8;
	if ((((int)lVar10 < 2) && (lVar9 = abs(lVar7), (int)lVar9 < 2)) || (*(char *)(iVar5 + 0xa4) != -1)) {
	LAB_100726dc:
		*(undefined *)(iVar5 + 8) = 1;
	} else {
		uVar3 = *(uint *)ppuVar6[-0x1d62];
		uVar8 = (ulonglong)uVar3;
		bVar20 = (byte)uVar3;
		if (*(char *)(uVar3 + *(int *)(iVar5 + 0x20) * 0x70 + *(int *)(iVar5 + 0x24)) != *(char *)(uVar3 + (uint)bVar1 * 0x70 + (uint)bVar2))
			goto LAB_100726dc;
		if ((*(char *)(iVar5 + 8) == '\x04') || (lVar9 = abs(lVar27), 2 < (int)lVar9)) {
		LAB_10072714:
			if (*(char *)(iVar5 + 8) != '\x04') {
				*(undefined4 *)(iVar5 + 0xc) = 0;
				lVar9 = random(0x7b, 2, (char)uVar8, (char)uVar14, (char)uVar18, (char)param_6,
				    (char)param_7, (char)param_8, in_stack_ffffff98, in_stack_ffffff9f, uVar29);
				*(undefined4 *)(iVar5 + 0x10) = (int)lVar9;
			}
			*(undefined *)(iVar5 + 8) = 4;
			*(undefined4 *)(iVar5 + 0x14) = 4;
			lVar9 = abs(lVar7);
			lVar10 = abs(lVar27);
			if ((int)lVar9 < (int)lVar10) {
				lVar9 = abs(lVar27);
				iVar12 = (int)lVar9;
			} else {
				lVar9 = abs(lVar7);
				iVar12 = (int)lVar9;
			}
			bVar20 = (byte)uVar8;
			iVar4 = *(int *)(iVar5 + 0xc);
			*(int *)(iVar5 + 0xc) = iVar4 + 1;
			if ((iVar4 < iVar12 << 1) || (uVar8 = DirOK(param_1, uVar16, uVar8, uVar14, uVar18, param_6, param_7, param_8, in_stack_ffffff98), (int)uVar8 == 0)) {
				if (iVar13 < (int)((uint) * (byte *)(iVar5 + 0x9d) * 5 + 0x50)) {
					lVar28 = lVar28 + 0x10;
					bVar20 = (byte)lVar28;
					FUN_1006fd4c(param_1, uVar16, lVar28, uVar14, uVar18, param_6, param_7, param_8, in_stack_ffffff98);
				}
			} else {
				*(undefined *)(iVar5 + 8) = 1;
			}
		} else {
			lVar9 = abs(lVar7);
			bVar20 = (byte)uVar8;
			if (2 < (int)lVar9)
				goto LAB_10072714;
		}
	}
	uVar26 = (undefined)param_8;
	uVar25 = (undefined)param_7;
	uVar24 = (undefined)param_6;
	uVar23 = (undefined)uVar18;
	uVar21 = (undefined)uVar14;
	if (*(char *)(iVar5 + 8) != '\x01')
		goto LAB_1007293c;
	lVar28 = abs(lVar27);
	if (((((int)lVar28 < 3) && (lVar28 = abs(lVar7), (int)lVar28 < 3)) || ((int)((uint) * (byte *)(iVar5 + 0x9d) * 5 + 10) <= iVar13)) && (((int)((uint) * (byte *)(iVar5 + 0x9d) * 5 + 5) <= iVar13 && (*(int *)(iVar5 + 0x14) != 4)))) {
	LAB_10072860:
		lVar28 = abs(lVar27);
		if ((int)lVar28 < 2) {
			lVar7 = abs(lVar7);
			uVar26 = (undefined)param_8;
			uVar25 = (undefined)param_7;
			uVar24 = (undefined)param_6;
			uVar23 = (undefined)uVar18;
			uVar21 = (undefined)uVar14;
			if ((int)lVar7 < 2) {
				lVar7 = random(0x7c, 100, bVar20, uVar21, uVar23, uVar24, uVar25, uVar26, in_stack_ffffff98,
				    in_stack_ffffff9f, uVar29);
				if ((int)lVar7 < (int)((uint) * (byte *)(iVar5 + 0x9d) * 10 + 0x28)) {
					*(uint *)(iVar5 + 0x48) = uVar16;
					uVar17 = 2;
					lVar7 = random(0x7c, 2, bVar20, uVar21, uVar23, uVar24, uVar25, uVar26, in_stack_ffffff98,
					    in_stack_ffffff9f, uVar29);
					if ((int)lVar7 == 0) {
						bVar20 = (byte)param_3;
						FUN_1006bdc0(iVar11, param_2, (int)param_3, uVar21, uVar23, uVar24, uVar25, uVar26,
						    in_stack_ffffff98);
					} else {
						FUN_1006bc80(iVar11, uVar17, bVar20, uVar21, uVar23, uVar24, uVar25, uVar26, in_stack_ffffff98);
					}
				}
				goto LAB_10072934;
			}
		}
		lVar7 = random(0x7c, 100, bVar20, (char)uVar14, (char)uVar18, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffff98, in_stack_ffffff9f, uVar29);
		uVar26 = (undefined)param_8;
		uVar25 = (undefined)param_7;
		uVar24 = (undefined)param_6;
		uVar23 = (undefined)uVar18;
		uVar21 = (undefined)uVar14;
		lVar28 = (ulonglong) * (byte *)(iVar5 + 0x9d) * 10;
		bVar20 = (byte)lVar28;
		if (((int)lVar7 < (int)lVar28 + 0x32) || (((*(int *)(iVar5 + 0x74) == 1 || (*(int *)(iVar5 + 0x74) - 2U < 2)) && ((*(int *)(iVar5 + 0x78) == 0 && ((int)lVar7 < (int)lVar28 + 0x50)))))) {
			FUN_1006f8f8(param_1, uVar16, lVar28, uVar14, uVar18, param_6, param_7, param_8, in_stack_ffffff98);
		}
	} else {
		bVar20 = bVar1;
		iVar13 = LineClear((ulonglong) * (uint *)(iVar5 + 0x20), (ulonglong) * (uint *)(iVar5 + 0x24),
		    (ulonglong)bVar1, uVar22, (char)uVar18, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffff98);
		uVar26 = (undefined)param_8;
		uVar25 = (undefined)param_7;
		uVar24 = (undefined)param_6;
		uVar23 = (undefined)uVar18;
		uVar21 = (undefined)uVar22;
		uVar14 = uVar22;
		if (iVar13 == 0)
			goto LAB_10072860;
		bVar20 = (byte)param_3;
		FUN_1006bdc0(iVar11, param_2, (int)param_3, uVar21, uVar23, uVar24, uVar25, uVar26, in_stack_ffffff98);
	}
LAB_10072934:
	*(undefined4 *)(iVar5 + 0x14) = 1;
LAB_1007293c:
	if (*(int *)(iVar5 + 4) == 0) {
		lVar7 = random(0x7d, 10, bVar20, uVar21, uVar23, uVar24, uVar25, uVar26, in_stack_ffffff98,
		    in_stack_ffffff9f, uVar29);
		FUN_1006b838(iVar11, (int)lVar7 + 5);
	}
	return;
}

void MAI_Golum(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, int param_7, int param_8, undefined4 param_9)

{
	short sVar1;
	int iVar2;
	int *piVar3;
	uint uVar4;
	uint uVar5;
	undefined *puVar6;
	char *pcVar7;
	int iVar8;
	undefined *puVar9;
	undefined **ppuVar10;
	undefined8 uVar11;
	ulonglong uVar12;
	ulonglong uVar13;
	longlong lVar14;
	undefined uVar16;
	ulonglong uVar15;
	undefined uVar18;
	ulonglong uVar17;
	undefined uVar20;
	ulonglong uVar19;
	undefined uVar22;
	longlong lVar21;
	longlong lVar23;
	longlong lVar24;
	longlong lVar25;
	longlong lVar26;
	int iVar27;
	ulonglong uVar28;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar9 = PTR_DAT_100f187c;
	uVar20 = (undefined)param_5;
	uVar18 = (undefined)param_4;
	uVar16 = (undefined)param_3;
	lVar24 = (longlong)param_8;
	lVar23 = (longlong)param_7;
	uVar22 = (undefined)param_6;
	ppuVar10 = &toc;
	uVar28 = ZEXT48(PTR_DAT_100f187c);
	if (199 < (param_1 & 0xffffffff)) {
		param_2._7_1_ = (char)param_1;
		ppuVar10 = &toc;
		app_fatal((int)PTR_s_MAI_Golum__Invalid_monster__d_100f3180, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffb8,
		    in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
	}
	iVar27 = (int)param_1;
	puVar6 = puVar9 + iVar27 * 0xe8;
	if (((((*(int *)(puVar6 + 0x20) != 1) || (*(int *)(puVar6 + 0x24) != 0)) && (iVar2 = *(int *)(puVar6 + 4), iVar2 != 6)) && (iVar2 != 0xb)) && ((iVar2 < 1 || (3 < iVar2)))) {
		if ((*(uint *)(puVar9 + iVar27 * 0xe8 + 0xa0) & 0x10) == 0) {
			FUN_1006b278(iVar27, (undefined)param_2, uVar16, uVar18, uVar20, uVar22, (char)lVar23, (char)lVar24,
			    in_stack_ffffffa8);
		}
		uVar11 = countLeadingZeros(*(uint *)(puVar6 + 0xa0) & 0x400);
		uVar5 = (uint)uVar11 >> 5 & 0xff;
		if (*(int *)(puVar6 + 4) != 4) {
			lVar21 = (ulonglong) * (uint *)(puVar6 + 0x4c) * 0xe8;
			uVar13 = (ulonglong) * (uint *)(puVar6 + 0x24);
			iVar2 = (int)lVar21;
			uVar15 = (ulonglong) * (uint *)(puVar9 + 0x20 + iVar2);
			uVar19 = (ulonglong) * (uint *)(puVar9 + iVar2 + 0x28);
			uVar4 = *(uint *)(puVar9 + 0x24 + iVar2);
			uVar17 = (ulonglong)uVar4;
			lVar26 = (ulonglong) * (uint *)(puVar6 + 0x20) - uVar19;
			lVar25 = uVar13 - (ulonglong) * (uint *)(puVar9 + iVar2 + 0x2c);
			uVar12 = GetDirection((ulonglong) * (uint *)(puVar6 + 0x20), *(uint *)(puVar6 + 0x24), uVar15,
			    uVar4);
			*(int *)(puVar6 + 0x48) = (int)uVar12;
			lVar26 = abs(lVar26);
			if ((int)lVar26 < 2) {
				lVar26 = abs(lVar25);
				uVar20 = (undefined)uVar19;
				uVar18 = (undefined)uVar17;
				uVar16 = (undefined)uVar15;
				if (((int)lVar26 < 2) && (uVar5 != 0)) {
					puVar6[0x50] = (char)*(undefined4 *)(puVar9 + 0x20 + *(int *)(puVar6 + 0x4c) * 0xe8);
					puVar6[0x51] = (char)*(undefined4 *)(puVar9 + 0x24 + *(int *)(puVar6 + 0x4c) * 0xe8);
					lVar26 = uVar28 + (ulonglong) * (uint *)(puVar6 + 0x4c) * 0xe8 + 0xa4;
					uVar22 = (undefined)lVar26;
					pcVar7 = (char *)lVar26;
					if (*pcVar7 == '\0') {
						uVar18 = 0xff;
						piVar3 = (int *)ppuVar10[-0x1d9f];
						*pcVar7 = -1;
						lVar25 = 5;
						lVar26 = 0;
						*(undefined4 *)(puVar9 + *(int *)(puVar6 + 0x4c) * 0xe8 + 0xac) = *(undefined4 *)(puVar6 + 0x20);
						*(undefined4 *)(puVar9 + *(int *)(puVar6 + 0x4c) * 0xe8 + 0xb0) = *(undefined4 *)(puVar6 + 0x24);
						iVar2 = *piVar3;
						uVar16 = (undefined)iVar2;
						do {
							iVar8 = (int)lVar26;
							sVar1 = *(short *)(iVar2 + (*(int *)(puVar6 + 0x20) + -2) * 0xe0 + (*(int *)(puVar6 + 0x24) + iVar8 + -2) * 2);
							if (0 < sVar1) {
								puVar9[(int)sVar1 * 0xe8 + 0xa4] = 0xff;
							}
							sVar1 = *(short *)(iVar2 + (*(int *)(puVar6 + 0x20) + -1) * 0xe0 + (*(int *)(puVar6 + 0x24) + iVar8 + -2) * 2);
							if (0 < sVar1) {
								puVar9[(int)sVar1 * 0xe8 + 0xa4] = 0xff;
							}
							sVar1 = *(short *)(iVar2 + *(int *)(puVar6 + 0x20) * 0xe0 + (*(int *)(puVar6 + 0x24) + iVar8 + -2) * 2);
							if (0 < sVar1) {
								puVar9[(int)sVar1 * 0xe8 + 0xa4] = 0xff;
							}
							sVar1 = *(short *)(iVar2 + (*(int *)(puVar6 + 0x20) + 1) * 0xe0 + (*(int *)(puVar6 + 0x24) + iVar8 + -2) * 2);
							if (0 < sVar1) {
								puVar9[(int)sVar1 * 0xe8 + 0xa4] = 0xff;
							}
							lVar14 = ((ulonglong) * (uint *)(puVar6 + 0x20) + 2) * 0xe0;
							uVar22 = (undefined)lVar14;
							sVar1 = *(short *)(iVar2 + (int)lVar14 + (*(int *)(puVar6 + 0x24) + iVar8 + -2) * 2);
							if (0 < sVar1) {
								puVar9[(int)sVar1 * 0xe8 + 0xa4] = 0xff;
							}
							lVar26 = lVar26 + 1;
							uVar20 = (undefined)lVar26;
							lVar25 = lVar25 + -1;
						} while (lVar25 != 0);
					}
					FUN_1006bc80(iVar27, uVar22, uVar16, uVar18, uVar20, (char)lVar21, (char)lVar23, (char)lVar24,
					    in_stack_ffffffa8);
					return;
				}
			}
			if ((uVar5 == 0) || (uVar11 = MAI_Path(param_1, uVar13, uVar15, uVar17, uVar19, (int)lVar21, (int)lVar23, (int)lVar24, in_stack_ffffffa8), (int)uVar11 == 0)) {
				puVar6[0x1c] = puVar6[0x1c] + '\x01';
				if (8 < (byte)puVar6[0x1c]) {
					puVar6[0x1c] = 5;
				}
				uVar28 = FUN_1006f8f8(param_1, *(uint *)(ppuVar10[-0x1dea] + iVar27 * 0x55ec + 0x70), uVar15,
				    uVar17, uVar19, (int)lVar21, (int)lVar23, (int)lVar24, in_stack_ffffffa8);
				if ((int)uVar28 == 0) {
					uVar5 = (int)uVar12 - 1U & 7;
					iVar27 = 0;
					while (true) {
						if ((7 < iVar27) || ((int)uVar28 != 0))
							break;
						uVar5 = uVar5 + 1 & 7;
						uVar28 = DirOK(param_1, uVar5, uVar15, uVar17, uVar19, (int)lVar21, (int)lVar23,
						    (int)lVar24, in_stack_ffffffa8);
						iVar27 = iVar27 + 1;
					}
					if ((int)uVar28 != 0) {
						M_WalkDir(param_1, uVar5, uVar15, uVar17, uVar19, (int)lVar21, (int)lVar23, (int)lVar24,
						    in_stack_ffffffa8);
					}
				}
			}
		}
	}
	return;
}

void MAI_Counselor(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	byte bVar1;
	byte bVar2;
	char cVar3;
	uint uVar4;
	int iVar5;
	int iVar6;
	undefined *puVar7;
	undefined **ppuVar8;
	ulonglong uVar9;
	int iVar12;
	longlong lVar10;
	longlong lVar11;
	int iVar13;
	ulonglong uVar14;
	ulonglong uVar15;
	byte bVar16;
	undefined uVar17;
	ulonglong uVar18;
	ulonglong uVar19;
	undefined uVar20;
	undefined uVar21;
	undefined uVar22;
	undefined uVar23;
	longlong lVar24;
	int iVar25;
	longlong lVar26;
	longlong lVar27;
	ulonglong uVar28;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined4 in_stack_ffffffa8;
	undefined uVar29;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;

	puVar7 = PTR_DAT_100f187c;
	uVar29 = (undefined)in_stack_ffffffa8;
	ppuVar8 = &toc;
	uVar28 = ZEXT48(PTR_DAT_100f187c);
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar8 = &toc;
		app_fatal((int)PTR_s_MAI_Counselor__Invalid_monster___100f3174, param_1, param_3, param_4,
		    param_5, param_6, param_7, param_8, in_stack_ffffff98, in_stack_ffffff9f,
		    in_stack_ffffffa8, in_stack_ffffffac, in_stack_ffffffb0, in_stack_ffffffb4,
		    in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4);
	}
	lVar27 = uVar28 + param_1 * 0xe8;
	iVar6 = (int)lVar27;
	if (*(int *)(iVar6 + 4) != 0) {
		return;
	}
	if (*(char *)(iVar6 + 0xa4) == '\0') {
		return;
	}
	bVar1 = *(byte *)(iVar6 + 0x50);
	bVar2 = *(byte *)(iVar6 + 0x51);
	uVar18 = (ulonglong)bVar2;
	uVar14 = (ulonglong) * (uint *)(iVar6 + 0x24);
	lVar26 = (ulonglong) * (uint *)(iVar6 + 0x20) - (ulonglong)bVar1;
	uVar15 = (ulonglong) * (uint *)(iVar6 + 0xac);
	uVar28 = (ulonglong) * (uint *)(iVar6 + 0xb0);
	lVar24 = uVar14 - uVar18;
	uVar19 = uVar18;
	uVar9 = GetDirection((ulonglong) * (uint *)(iVar6 + 0x20), *(uint *)(iVar6 + 0x24), uVar15,
	    *(uint *)(iVar6 + 0xb0));
	iVar12 = (int)param_1;
	if (*(char *)(iVar6 + 0xa4) != -1) {
		FUN_10087a2c(iVar12, uVar14, uVar15, uVar28, uVar19, param_6, param_7, param_8, in_stack_ffffff98);
	}
	lVar10 = random(0x79, 100, (char)uVar15, (char)uVar28, (char)uVar19, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffff98, in_stack_ffffff9f, uVar29);
	uVar23 = (undefined)param_8;
	uVar22 = (undefined)param_7;
	uVar21 = (undefined)param_6;
	uVar20 = (undefined)uVar19;
	uVar17 = (undefined)uVar28;
	bVar16 = (byte)uVar15;
	cVar3 = *(char *)(iVar6 + 8);
	iVar25 = (int)uVar9;
	if (cVar3 == '\x02') {
		iVar13 = *(int *)(iVar6 + 0xc);
		*(int *)(iVar6 + 0xc) = iVar13 + 1;
		if (iVar13 < 4) {
			FUN_1006f8f8(param_1, *(uint *)(ppuVar8[-0x1c41] + iVar25 * 4), uVar15, uVar28, uVar19, param_6,
			    param_7, param_8, in_stack_ffffff98);
		} else {
			*(undefined *)(iVar6 + 8) = 1;
			bVar16 = 1;
			M_StartFadein(param_1, iVar25, 1, uVar28, uVar19, param_6, param_7, param_8, in_stack_ffffff98);
		}
	} else {
		if (cVar3 == '\x04') {
			lVar10 = abs(lVar24);
			lVar11 = abs(lVar26);
			if ((int)lVar10 < (int)lVar11) {
				lVar10 = abs(lVar26);
				iVar13 = (int)lVar10;
			} else {
				lVar10 = abs(lVar24);
				iVar13 = (int)lVar10;
			}
			lVar26 = abs(lVar26);
			if (((1 < (int)lVar26) || (lVar24 = abs(lVar24), 1 < (int)lVar24)) && (*(char *)(iVar6 + 0xa4) == -1)) {
				uVar4 = *(uint *)ppuVar8[-0x1d62];
				if (*(char *)(uVar4 + *(int *)(iVar6 + 0x20) * 0x70 + *(int *)(iVar6 + 0x24)) == *(char *)(uVar4 + (uint)bVar1 * 0x70 + (uint)bVar2)) {
					iVar5 = *(int *)(iVar6 + 0xc);
					*(int *)(iVar6 + 0xc) = iVar5 + 1;
					if (iVar13 << 1 <= iVar5) {
						uVar9 = DirOK(param_1, iVar25, (ulonglong)uVar4, uVar28, uVar19, param_6, param_7,
						    param_8, in_stack_ffffff98);
						uVar23 = (undefined)param_8;
						uVar22 = (undefined)param_7;
						uVar21 = (undefined)param_6;
						uVar20 = (undefined)uVar19;
						uVar17 = (undefined)uVar28;
						if ((int)uVar9 != 0) {
							*(undefined *)(iVar6 + 8) = 1;
							bVar16 = 1;
							M_StartFadein(param_1, iVar25, 1, uVar28, uVar19, param_6, param_7, param_8, in_stack_ffffff98);
							goto LAB_10073924;
						}
					}
					uVar23 = (undefined)param_8;
					uVar22 = (undefined)param_7;
					uVar21 = (undefined)param_6;
					uVar20 = (undefined)uVar19;
					uVar17 = (undefined)uVar28;
					lVar27 = lVar27 + 0x10;
					bVar16 = (byte)lVar27;
					FUN_1006fd4c(param_1, iVar25, lVar27, uVar28, uVar19, param_6, param_7, param_8, in_stack_ffffff98);
					goto LAB_10073924;
				}
			}
			uVar23 = (undefined)param_8;
			uVar22 = (undefined)param_7;
			uVar21 = (undefined)param_6;
			uVar20 = (undefined)uVar19;
			uVar17 = (undefined)uVar28;
			*(undefined *)(iVar6 + 8) = 1;
			bVar16 = 1;
			M_StartFadein(param_1, iVar25, 1, uVar28, uVar19, param_6, param_7, param_8, in_stack_ffffff98);
		} else {
			if (cVar3 == '\x01') {
				lVar27 = abs(lVar26);
				if ((int)lVar27 < 2) {
					lVar27 = abs(lVar24);
					uVar23 = (undefined)param_8;
					uVar22 = (undefined)param_7;
					uVar21 = (undefined)param_6;
					uVar20 = (undefined)uVar19;
					uVar17 = (undefined)uVar28;
					if ((int)lVar27 < 2) {
						*(int *)(iVar6 + 0x48) = iVar25;
						if (*(int *)(iVar6 + 0x98) < *(int *)(iVar6 + 0x94) >> 1) {
							*(undefined *)(iVar6 + 8) = 2;
							*(undefined4 *)(iVar6 + 0xc) = 0;
							bVar16 = 0;
							M_StartFadeout(param_1, iVar25, 0, uVar28, uVar19, param_6, param_7, param_8, in_stack_ffffff98);
						} else {
							if ((*(int *)(iVar6 + 0x74) == 0xd) || (lVar27 = random(0x69, 100, bVar16, uVar17, uVar20, uVar21, uVar22, uVar23, in_stack_ffffff98, in_stack_ffffff9f, uVar29), (int)lVar27 < (int)((uint) * (byte *)(iVar6 + 0x9d) * 2 + 0x14))) {
								FUN_1006bd20(iVar12, 0xffffffff, 0, uVar17, uVar20, uVar21, uVar22, uVar23,
								    in_stack_ffffff98);
								iVar25 = (int)(param_1 * 0xe8);
								AddMissile((ulonglong) * (uint *)(puVar7 + iVar25 + 0x20),
								    (ulonglong) * (uint *)(puVar7 + iVar25 + 0x24), 0, 0,
								    (ulonglong) * (uint *)(puVar7 + iVar25 + 0x48), 0xb, 1, param_1,
								    in_stack_ffffff98, in_stack_ffffff9f, 4, 0);
								bVar16 = 0;
								uVar17 = 0;
								uVar21 = 0xc;
								uVar22 = 1;
								uVar4 = *(uint *)(puVar7 + iVar25 + 0x48);
								uVar20 = (undefined)uVar4;
								uVar23 = (char)param_1;
								AddMissile((ulonglong) * (uint *)(puVar7 + iVar25 + 0x20),
								    (ulonglong) * (uint *)(puVar7 + iVar25 + 0x24), 0, 0, (ulonglong)uVar4, 0xc, 1, param_1, in_stack_ffffff98, in_stack_ffffff9f, 4, 0);
							} else {
								lVar27 = random(0x69, 10, bVar16, uVar17, uVar20, uVar21, uVar22, uVar23,
								    in_stack_ffffff98, in_stack_ffffff9f, uVar29);
								FUN_1006b838(iVar12, (int)lVar27 + 10 + (uint) * (byte *)(iVar6 + 0x9d) * -2);
							}
						}
						goto LAB_10073924;
					}
				}
				if ((int)lVar10 < (int)((uint) * (byte *)(iVar6 + 0x9d) * 5 + 0x32)) {
					bVar16 = bVar1;
					iVar13 = LineClear((ulonglong) * (uint *)(iVar6 + 0x20),
					    (ulonglong) * (uint *)(iVar6 + 0x24), (ulonglong)bVar1, uVar18,
					    (char)uVar19, (char)param_6, (char)param_7, (char)param_8,
					    in_stack_ffffff98);
					uVar23 = (undefined)param_8;
					uVar22 = (undefined)param_7;
					uVar21 = (undefined)param_6;
					uVar20 = (undefined)uVar19;
					uVar28 = uVar18;
					if (iVar13 != 0) {
						lVar27 = random(0x4d, ((ulonglong) * (byte *)(iVar6 + 0xca) - (ulonglong) * (byte *)(iVar6 + 0xc9)) + 1, bVar16, (char)uVar18,
						    uVar20, uVar21, uVar22, uVar23, in_stack_ffffff98, in_stack_ffffff9f,
						    uVar29);
						lVar24 = (ulonglong) * (byte *)(iVar6 + 0xc9) + lVar27;
						bVar16 = (byte)lVar24;
						uVar17 = (undefined)lVar27;
						FUN_1006bd20(iVar12, (uint) * (byte *)((int)ppuVar8 + ((uint) * (byte *)(iVar6 + 0x9d) - 0x4d90)), (int)lVar24, uVar17, uVar20, uVar21, uVar22, uVar23, in_stack_ffffff98);
						goto LAB_10073924;
					}
				}
				lVar27 = random(0x7c, 100, bVar16, (char)uVar28, (char)uVar19, (char)param_6, (char)param_7,
				    (char)param_8, in_stack_ffffff98, in_stack_ffffff9f, uVar29);
				uVar23 = (undefined)param_8;
				uVar22 = (undefined)param_7;
				uVar21 = (undefined)param_6;
				uVar20 = (undefined)uVar19;
				uVar17 = (undefined)uVar28;
				if ((int)lVar27 < 0x1e) {
					*(undefined *)(iVar6 + 8) = 4;
					*(undefined4 *)(iVar6 + 0xc) = 0;
					bVar16 = 0;
					M_StartFadeout(param_1, iVar25, 0, uVar28, uVar19, param_6, param_7, param_8, in_stack_ffffff98);
				} else {
					lVar27 = random(0x69, 10, bVar16, uVar17, uVar20, uVar21, uVar22, uVar23, in_stack_ffffff98,
					    in_stack_ffffff9f, uVar29);
					FUN_1006b838(iVar12, (int)lVar27 + 10 + (uint) * (byte *)(iVar6 + 0x9d) * -2);
				}
			}
		}
	}
LAB_10073924:
	if (*(int *)(iVar6 + 4) == 0) {
		lVar27 = random(0x7d, 10, bVar16, uVar17, uVar20, uVar21, uVar22, uVar23, in_stack_ffffff98,
		    in_stack_ffffff9f, uVar29);
		FUN_1006b838(iVar12, (int)lVar27 + 5);
	}
	return;
}

void DeleteMonsterList(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	int iVar4;

	puVar3 = PTR_DAT_100f19a8;
	puVar2 = PTR_DAT_100f19a4;
	puVar1 = PTR_DAT_100f187c;
	if (*(int *)(PTR_DAT_100f187c + 0x70) != 0) {
		*(undefined4 *)(PTR_DAT_100f187c + 0x20) = 1;
		*(undefined4 *)(puVar1 + 0x24) = 0;
		*(undefined4 *)(puVar1 + 0x28) = 0;
		*(undefined4 *)(puVar1 + 0x2c) = 0;
		*(undefined4 *)(puVar1 + 0x30) = 0;
		*(undefined4 *)(puVar1 + 0x34) = 0;
		*(undefined4 *)(puVar1 + 0x70) = 0;
	}
	if (*(int *)(puVar1 + 0x158) != 0) {
		*(undefined4 *)(puVar1 + 0x108) = 1;
		*(undefined4 *)(puVar1 + 0x10c) = 0;
		*(undefined4 *)(puVar1 + 0x110) = 0;
		*(undefined4 *)(puVar1 + 0x114) = 0;
		*(undefined4 *)(puVar1 + 0x118) = 0;
		*(undefined4 *)(puVar1 + 0x11c) = 0;
		*(undefined4 *)(puVar1 + 0x158) = 0;
	}
	if (*(int *)(puVar1 + 0x240) != 0) {
		*(undefined4 *)(puVar1 + 0x1f0) = 1;
		*(undefined4 *)(puVar1 + 500) = 0;
		*(undefined4 *)(puVar1 + 0x1f8) = 0;
		*(undefined4 *)(puVar1 + 0x1fc) = 0;
		*(undefined4 *)(puVar1 + 0x200) = 0;
		*(undefined4 *)(puVar1 + 0x204) = 0;
		*(undefined4 *)(puVar1 + 0x240) = 0;
	}
	if (*(int *)(puVar1 + 0x328) != 0) {
		*(undefined4 *)(puVar1 + 0x2d8) = 1;
		*(undefined4 *)(puVar1 + 0x2dc) = 0;
		*(undefined4 *)(puVar1 + 0x2e0) = 0;
		*(undefined4 *)(puVar1 + 0x2e4) = 0;
		*(undefined4 *)(puVar1 + 0x2e8) = 0;
		*(undefined4 *)(puVar1 + 0x2ec) = 0;
		*(undefined4 *)(puVar1 + 0x328) = 0;
	}
	iVar4 = 4;
	while (iVar4 < *(int *)puVar2) {
		if (*(int *)(puVar1 + *(int *)(puVar3 + iVar4 * 4) * 0xe8 + 0x70) == 0) {
			iVar4 = iVar4 + 1;
		} else {
			FUN_1006b0bc(iVar4);
			iVar4 = 0;
		}
	}
	return;
}

// WARNING: Removing unreachable block (ram,0x10074860)

void ProcessMonsters(undefined8 param_1, ulonglong param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	char cVar1;
	uint uVar2;
	int iVar3;
	int iVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined *puVar12;
	ulonglong uVar13;
	ulonglong uVar14;
	undefined uVar16;
	undefined4 uVar15;
	ulonglong uVar17;
	undefined7 uVar18;
	undefined uVar19;
	undefined7 uVar20;
	undefined uVar21;
	longlong lVar22;
	longlong lVar23;
	longlong lVar24;
	uint *puVar25;
	int iVar26;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;
	uint local_6c;
	undefined4 in_stack_ffffff98;
	undefined4 in_stack_ffffff9c;
	undefined4 in_stack_ffffffa0;
	undefined4 in_stack_ffffffa4;
	undefined4 in_stack_ffffffa8;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;

	puVar12 = PTR_s_Illegal_enemy_monster__d_for_mon_100f3150;
	puVar11 = PTR_s_Illegal_enemy_player__d_for_mons_100f314c;
	puVar10 = PTR_DAT_100f19a4;
	puVar9 = PTR_DAT_100f187c;
	puVar8 = PTR_DAT_100f1834;
	puVar7 = PTR_DAT_100f1828;
	puVar6 = PTR_DAT_100f17e0;
	uVar20 = (undefined7)((ulonglong)param_5 >> 8);
	uVar21 = (undefined)param_5;
	uVar18 = (undefined7)((ulonglong)param_4 >> 8);
	uVar19 = (undefined)param_4;
	lVar24 = (longlong)param_8;
	lVar23 = (longlong)param_7;
	lVar22 = (longlong)param_6;
	uVar13 = ZEXT48(&toc);
	uVar14 = DeleteMonsterList((undefined)param_1, (char)param_2, (char)param_3, uVar19, uVar21, (char)param_6,
	    (char)param_7, (char)param_8, in_stack_ffffff88);
	puVar25 = *(uint **)((int)uVar13 + -0x7628);
	iVar26 = 0;
	while (true) {
		if (*(int *)puVar10 <= iVar26) {
			DeleteMonsterList((char)uVar14, (char)param_2, (char)param_3, uVar19, uVar21, (char)lVar22, (char)lVar23,
			    (char)lVar24, in_stack_ffffff88);
			return;
		}
		uVar2 = *puVar25;
		uVar17 = (ulonglong)uVar2;
		uVar17._7_1_ = (undefined)uVar2;
		puVar5 = puVar9 + uVar2 * 0xe8;
		if (1 < (byte)*puVar6) {
			uVar16 = SetRndSeed(*(undefined4 *)(puVar5 + 0xb8));
			uVar15 = GetRndSeed(uVar16, (undefined)uVar17, (char)param_3, uVar19, uVar21, (char)lVar22,
			    (char)lVar23, (char)lVar24, in_stack_ffffff88);
			*(undefined4 *)(puVar5 + 0xb8) = uVar15;
		}
		if ((((*(uint *)(puVar9 + uVar2 * 0xe8 + 0xa0) & 8) == 0) && (iVar3 = *(int *)(puVar5 + 0x98), iVar3 < *(int *)(puVar5 + 0x94))) && (iVar3 >> 6 != 0)) {
			cVar1 = puVar5[0xc4];
			if ((int)cVar1 < 2) {
				*(int *)(puVar5 + 0x98) = iVar3 + (int)cVar1;
			} else {
				*(int *)(puVar5 + 0x98) = iVar3 + ((int)cVar1 >> 1);
			}
		}
		iVar3 = *(int *)(puVar5 + 0x20);
		iVar4 = *(int *)(puVar5 + 0x24);
		if ((((*(byte *)(*(int *)puVar8 + iVar3 * 0x70 + iVar4) & 2) != 0) && (puVar5[0xa4] == '\0')) && (**(char **)(puVar5 + 0xe0) == '3')) {
			PlaySFX(0x346);
		}
		if ((*(uint *)(puVar5 + 0xa0) & 0x10) == 0) {
			param_2 = (ulonglong) * (uint *)(puVar5 + 0x4c);
			if (3 < *(uint *)(puVar5 + 0x4c)) {
				param_3 = (ulonglong) * (uint *)(puVar5 + 0xdc);
				app_fatal((int)puVar11, param_2, param_3, CONCAT71(uVar18, uVar19), CONCAT71(uVar20, uVar21),
				    (int)lVar22, (int)lVar23, (int)lVar24, in_stack_ffffff88, in_stack_ffffff8f,
				    in_stack_ffffff98, in_stack_ffffff9c, in_stack_ffffffa0, in_stack_ffffffa4,
				    in_stack_ffffffa8, in_stack_ffffffac, in_stack_ffffffb0, in_stack_ffffffb4);
			}
			puVar5[0x50] = (char)*(undefined4 *)(puVar7 + *(int *)(puVar5 + 0x4c) * 0x55ec + 0x40);
			puVar5[0x51] = (char)*(undefined4 *)(puVar7 + *(int *)(puVar5 + 0x4c) * 0x55ec + 0x44);
			if ((*(byte *)(*(int *)puVar8 + iVar3 * 0x70 + iVar4) & 2) == 0) {
				if ((puVar5[0xa4] != '\0') && (puVar5[0x9c] != 'n')) {
					puVar5[0xa4] = puVar5[0xa4] + -1;
				}
			} else {
				puVar5[0xa4] = 0xff;
				*(undefined4 *)(puVar5 + 0xac) = *(undefined4 *)(puVar7 + *(int *)(puVar5 + 0x4c) * 0x55ec + 0x40);
				*(undefined4 *)(puVar5 + 0xb0) = *(undefined4 *)(puVar7 + *(int *)(puVar5 + 0x4c) * 0x55ec + 0x44);
			}
		} else {
			param_2 = (ulonglong) * (uint *)(puVar5 + 0x4c);
			if (199 < *(uint *)(puVar5 + 0x4c)) {
				param_3 = (ulonglong) * (uint *)(puVar5 + 0xdc);
				app_fatal((int)puVar12, param_2, param_3, CONCAT71(uVar18, uVar19), CONCAT71(uVar20, uVar21),
				    (int)lVar22, (int)lVar23, (int)lVar24, in_stack_ffffff88, in_stack_ffffff8f,
				    in_stack_ffffff98, in_stack_ffffff9c, in_stack_ffffffa0, in_stack_ffffffa4,
				    in_stack_ffffffa8, in_stack_ffffffac, in_stack_ffffffb0, in_stack_ffffffb4);
			}
			uVar15 = *(undefined4 *)(puVar9 + *(int *)(puVar5 + 0x4c) * 0xe8 + 0x28);
			*(undefined4 *)(puVar5 + 0xac) = uVar15;
			puVar5[0x50] = (char)uVar15;
			uVar15 = *(undefined4 *)(puVar9 + *(int *)(puVar5 + 0x4c) * 0xe8 + 0x2c);
			*(undefined4 *)(puVar5 + 0xb0) = uVar15;
			puVar5[0x51] = (char)uVar15;
		}
		if ((*(uint *)(puVar5 + 0xa0) & 0x100) == 0) {
			uVar14 = FUN_100dbf44(uVar17);
			uVar13 = (ulonglong)local_6c;
		} else {
			uVar14 = MAI_Path(uVar17, param_2, param_3, CONCAT71(uVar18, uVar19), CONCAT71(uVar20, uVar21),
			    (int)lVar22, (int)lVar23, (int)lVar24, in_stack_ffffff88);
			if ((int)uVar14 == 0) {
				uVar14 = FUN_100dbf44(uVar17);
				uVar13 = (ulonglong)local_6c;
			}
		}
		if (*(uint *)(puVar5 + 4) < 0x12)
			break;
		if (*(int *)(puVar5 + 4) != 0xf) {
			uVar14 = (ulonglong) * (uint *)(puVar5 + 0x60);
			*(uint *)(puVar5 + 0x60) = *(uint *)(puVar5 + 0x60) + 1;
			if (((*(uint *)(puVar5 + 0xa0) & 4) == 0) && (uVar14 = (ulonglong) * (uint *)(puVar5 + 0x60), *(int *)(puVar5 + 0x5c) <= (int)*(uint *)(puVar5 + 0x60))) {
				*(undefined4 *)(puVar5 + 0x60) = 0;
				if ((*(uint *)(puVar5 + 0xa0) & 2) == 0) {
					*(int *)(puVar5 + 0x68) = *(int *)(puVar5 + 0x68) + 1;
					uVar14 = (ulonglong) * (uint *)(puVar5 + 0x68);
					if (*(int *)(puVar5 + 100) < (int)*(uint *)(puVar5 + 0x68)) {
						*(undefined4 *)(puVar5 + 0x68) = 1;
					}
				} else {
					uVar14 = (ulonglong) * (uint *)(puVar5 + 0x68);
					*(uint *)(puVar5 + 0x68) = *(uint *)(puVar5 + 0x68) - 1;
					if (*(int *)(puVar5 + 0x68) == 0) {
						*(undefined4 *)(puVar5 + 0x68) = *(undefined4 *)(puVar5 + 100);
					}
				}
			}
		}
		puVar25 = puVar25 + 1;
		iVar26 = iVar26 + 1;
	}
	// WARNING: Could not recover jumptable at 0x10074740. Too many branches
	// WARNING: Treating indirect jump as call
	(**(code **)(*(int *)((int)uVar13 + -0x5e88) + *(uint *)(puVar5 + 4) * 4))();
	return;
}

void FreeMonsters(undefined param_1, char param_2, char param_3, char param_4, char param_5, char param_6, char param_7, char param_8, undefined4 param_9)

{
	byte bVar1;
	undefined *puVar2;
	int iVar3;
	undefined *puVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	int iVar12;
	int iVar13;
	byte *pbVar14;
	byte *pbVar15;
	char *pcVar16;
	undefined4 in_stack_ffffff98;

	puVar4 = PTR_s_nwahds_100f1f30;
	iVar3 = _DAT_100f1d1c;
	puVar2 = PTR_DAT_100f19b8;
	lVar11 = (longlong)param_8;
	lVar10 = (longlong)param_7;
	lVar9 = (longlong)param_6;
	lVar8 = (longlong)param_5;
	lVar7 = (longlong)param_4;
	lVar6 = (longlong)param_3;
	lVar5 = (longlong)param_2;
	iVar13 = 0;
	pbVar14 = PTR_DAT_100f19c0;
	while (iVar13 < *(int *)puVar2) {
		iVar12 = 0;
		bVar1 = *pbVar14;
		param_1 = 0;
		pcVar16 = puVar4;
		pbVar15 = pbVar14;
		do {
			if ((*pcVar16 != 's') || (*(int *)(iVar3 + (uint)bVar1 * 0x80 + 0xc) != 0)) {
				param_1 = mem_free_dbg((int **)(pbVar15 + 4), (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11, in_stack_ffffff98);
			}
			iVar12 = iVar12 + 1;
			pbVar15 = pbVar15 + 0x4c;
			pcVar16 = pcVar16 + 1;
		} while (iVar12 < 6);
		pbVar14 = pbVar14 + 0x208;
		iVar13 = iVar13 + 1;
	}
	FUN_1005f264(param_1, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10,
	    (char)lVar11, in_stack_ffffff98);
	return;
}

ulonglong DirOK(ulonglong param_1, int param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	short sVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	longlong lVar5;
	undefined8 uVar6;
	undefined **ppuVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	int iVar11;
	undefined uVar13;
	int iVar12;
	undefined uVar15;
	int iVar14;
	undefined uVar18;
	longlong lVar16;
	int iVar17;
	uint uVar19;
	int iVar20;
	longlong lVar21;
	int iVar22;
	ulonglong uVar23;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar4 = PTR_DAT_100f187c;
	puVar3 = PTR_DAT_100f1834;
	uVar18 = (undefined)param_8;
	uVar15 = (undefined)param_7;
	uVar13 = (undefined)param_6;
	ppuVar7 = &toc;
	uVar23 = ZEXT48(PTR_DAT_100f187c);
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar7 = &toc;
		app_fatal((int)PTR_s_DirOK__Invalid_monster__d_100f3144, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffb8,
		    in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
	}
	lVar10 = uVar23 + param_1 * 0xe8;
	iVar2 = param_2 * 4;
	iVar20 = (int)lVar10;
	lVar8 = (ulonglong) * (uint *)(iVar20 + 0x24) + (ulonglong) * (uint *)(ppuVar7[-0x1c7c] + iVar2);
	lVar21 = (ulonglong) * (uint *)(iVar20 + 0x20) + (ulonglong) * (uint *)(ppuVar7[-0x1c7b] + iVar2);
	iVar20 = (int)lVar8;
	if (((iVar20 < 0x70) && (iVar22 = (int)lVar21, -1 < iVar22)) && (iVar22 < 0x70)) {
		uVar23 = FUN_10075e58((uint)param_1, iVar22, iVar20, (char)lVar10, (char)iVar2, uVar13, uVar15, uVar18,
		    in_stack_ffffffa8);
		if ((int)uVar23 == 0) {
			uVar23 = 0;
		} else {
			if (param_2 == 6) {
				uVar23 = FUN_1009352c(iVar22, iVar20 + 1);
				if ((int)uVar23 != 0) {
					return 0;
				}
				if ((*(byte *)(*(int *)puVar3 + iVar22 * 0x70 + iVar20 + 1) & 0x10) != 0) {
					return 0;
				}
			} else {
				if (param_2 == 2) {
					uVar23 = FUN_1009352c(iVar22 + 1, iVar20);
					if ((int)uVar23 != 0) {
						return 0;
					}
					if ((*(byte *)(*(int *)puVar3 + iVar22 * 0x70 + iVar20 + 0x70) & 0x10) != 0) {
						return 0;
					}
				} else {
					if (param_2 == 4) {
						uVar23 = FUN_1009352c(iVar22 + 1, iVar20);
						if ((int)uVar23 != 0) {
							return 0;
						}
						uVar23 = FUN_1009352c(iVar22, iVar20 + 1);
						if ((int)uVar23 != 0) {
							return 0;
						}
					} else {
						if (param_2 == 0) {
							uVar23 = FUN_1009352c(iVar22 + -1, iVar20);
							if ((int)uVar23 != 0) {
								return 0;
							}
							uVar23 = FUN_1009352c(iVar22, iVar20 + -1);
							if ((int)uVar23 != 0) {
								return 0;
							}
						}
					}
				}
			}
			iVar2 = (int)(param_1 * 0xe8);
			puVar3 = puVar4 + iVar2;
			if (puVar3[0xd9] == '\x01') {
				uVar19 = 0;
				lVar10 = abs(lVar21 - (ulonglong) * (uint *)(puVar4 + (uint)(byte)puVar3[0xd8] * 0xe8 + 0x28));
				if (((int)lVar10 < 4) && (lVar8 = abs(lVar8 - (ulonglong) * (uint *)(puVar4 + (uint)(byte)puVar3[0xd8] * 0xe8 + 0x2c)), (int)lVar8 < 4)) {
					uVar19 = 1;
				}
				uVar23 = (ulonglong)uVar19;
			} else {
				if ((puVar3[0xc0] == 0) || ((*(ushort *)(ppuVar7[-0x1c23] + (uint)(byte)puVar3[0xc0] * 0x20 + -10) & 2) == 0)) {
					uVar23 = 1;
				} else {
					lVar21 = lVar21 + -3;
					lVar10 = (ulonglong) * (uint *)ppuVar7[-0x1d9f] + lVar21 * 0xe0;
					iVar12 = 0;
					while (iVar14 = (int)lVar21, iVar14 <= iVar22 + 3) {
						lVar16 = lVar8 + -3;
						lVar5 = (lVar8 + 4) - lVar16;
						lVar9 = lVar10 + (ulonglong)(uint)((int)lVar16 << 1);
						if ((int)lVar16 <= iVar20 + 3) {
							do {
								iVar17 = (int)lVar16;
								if (((-1 < iVar17) && (iVar17 < 0x70)) && ((-1 < iVar14 && (iVar14 < 0x70)))) {
									sVar1 = *(short *)lVar9;
									iVar11 = (int)sVar1;
									if (sVar1 < 0) {
										iVar11 = -(int)sVar1;
									}
									if (iVar11 != 0) {
										iVar11 = iVar11 + -1;
									}
									puVar3 = puVar4 + iVar11 * 0xe8;
									if ((((puVar3[0xd9] == '\x01') && ((uint)param_1 == (uint)(byte)puVar3[0xd8])) && (iVar14 == *(int *)(puVar3 + 0x28))) && (iVar17 == *(int *)(puVar3 + 0x2c))) {
										iVar12 = iVar12 + 1;
									}
								}
								lVar9 = lVar9 + 2;
								lVar16 = lVar16 + 1;
								lVar5 = lVar5 + -1;
							} while (lVar5 != 0);
						}
						lVar10 = lVar10 + 0xe0;
						lVar21 = lVar21 + 1;
					}
					uVar6 = countLeadingZeros((uint)(byte)puVar4[iVar2 + 0xda] - iVar12);
					uVar23 = (ulonglong)((uint)uVar6 >> 5 & 0xff);
				}
			}
		}
	} else {
		uVar23 = 0;
	}
	return uVar23;
}

ulonglong PosOkMissile(int param_1, int param_2)

{
	undefined8 uVar1;
	undefined4 uVar2;

	uVar2 = 1;
	if ((PTR_DAT_100f1d9c[(int)*(short *)(*(int *)PTR_DAT_100f1a54 + param_1 * 0xe0 + param_2 * 2)] == '\0') && ((*(byte *)(*(int *)PTR_DAT_100f1834 + param_1 * 0x70 + param_2) & 0x10) == 0)) {
		uVar2 = 0;
	}
	uVar1 = countLeadingZeros(uVar2);
	return (ulonglong)((uint)uVar1 >> 5 & 0xff);
}

ulonglong LineClearF(undefined8 param_1, longlong param_2, longlong param_3, longlong param_4,
    longlong param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	bool bVar2;
	bool bVar3;
	uint uVar4;
	longlong lVar5;
	longlong lVar6;
	ulonglong uVar7;
	int iVar8;
	int iVar9;
	int iVar10;
	longlong lVar11;
	int iVar12;
	longlong lVar13;
	int iVar14;
	int iVar15;
	int iVar16;
	int iVar17;

	iVar10 = (int)param_3;
	iVar9 = (int)param_2;
	lVar13 = param_5 - param_3;
	iVar14 = (int)lVar13;
	lVar11 = param_4 - param_2;
	iVar12 = (int)lVar11;
	bVar3 = false;
	lVar5 = abs(lVar13);
	lVar6 = abs(lVar11);
	if ((int)lVar5 < (int)lVar6) {
		iVar16 = (int)param_4;
		iVar17 = (int)param_5;
		if (iVar12 < 0) {
			lVar11 = -lVar11;
			iVar14 = -iVar14;
			param_2 = param_4;
			param_3 = param_5;
			iVar16 = iVar9;
			iVar17 = iVar10;
		}
		iVar12 = (int)lVar11;
		if (iVar14 < 1) {
			uVar7 = (ulonglong)(uint)(iVar14 << 1);
			lVar11 = lVar11 + uVar7;
			lVar5 = -1;
		} else {
			uVar7 = (ulonglong)(uint)(iVar14 << 1);
			iVar12 = -iVar12;
			lVar11 = uVar7 - lVar11;
			lVar5 = 1;
		}
		while (true) {
			iVar15 = (int)param_3;
			iVar8 = (int)param_2;
			if ((bVar3) || ((iVar8 == iVar16 && (iVar15 == iVar17))))
				break;
			uVar1 = uVar7;
			if (((uint)lVar11 >> 0x1f) + (uint)(lVar11 == 0) == ((~(uint)lVar5 >> 0x1f) + 1 & 1)) {
				param_3 = param_3 + lVar5;
				uVar1 = (ulonglong)(uint)((iVar14 + iVar12) * 2);
			}
			lVar11 = lVar11 + uVar1;
			param_2 = param_2 + 1;
			bVar3 = false;
			bVar2 = true;
			if (((int)param_2 == iVar9) && ((int)param_3 == iVar10)) {
				bVar2 = false;
			}
			if ((bVar2) && (iVar8 = FUN_100dbf44(param_2, param_3), iVar8 == 0)) {
				bVar3 = true;
			}
		}
	} else {
		iVar16 = (int)param_4;
		iVar17 = (int)param_5;
		if (iVar14 < 0) {
			lVar13 = -lVar13;
			iVar12 = -iVar12;
			param_2 = param_4;
			param_3 = param_5;
			iVar16 = iVar9;
			iVar17 = iVar10;
		}
		iVar14 = (int)lVar13;
		if (iVar12 < 1) {
			uVar7 = (ulonglong)(uint)(iVar12 << 1);
			lVar13 = lVar13 + uVar7;
			lVar5 = -1;
		} else {
			uVar7 = (ulonglong)(uint)(iVar12 << 1);
			iVar14 = -iVar14;
			lVar13 = uVar7 - lVar13;
			lVar5 = 1;
		}
		while (true) {
			iVar15 = (int)param_3;
			iVar8 = (int)param_2;
			if ((bVar3) || ((iVar15 == iVar17 && (iVar8 == iVar16))))
				break;
			uVar1 = uVar7;
			if (((uint)lVar13 >> 0x1f) + (uint)(lVar13 == 0) == ((~(uint)lVar5 >> 0x1f) + 1 & 1)) {
				param_2 = param_2 + lVar5;
				uVar1 = (ulonglong)(uint)((iVar12 + iVar14) * 2);
			}
			lVar13 = lVar13 + uVar1;
			param_3 = param_3 + 1;
			bVar3 = false;
			bVar2 = true;
			if (((int)param_3 == iVar10) && ((int)param_2 == iVar9)) {
				bVar2 = false;
			}
			if ((bVar2) && (iVar8 = FUN_100dbf44(param_2, param_3), iVar8 == 0)) {
				bVar3 = true;
			}
		}
	}
	uVar4 = 0;
	if ((iVar8 == iVar16) && (iVar15 == iVar17)) {
		uVar4 = 1;
	}
	return (ulonglong)uVar4;
}

void LineClear(longlong param_1, longlong param_2, longlong param_3, longlong param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	LineClearF(ZEXT48(PTR_PTR_FUN_100f1efc), param_1, param_2, param_3, param_4, (char)param_2,
	    (char)param_1, param_8, in_stack_ffffffc8);
	return;
}

ulonglong LineClearF1(undefined8 param_1, undefined8 param_2, longlong param_3, longlong param_4,
    longlong param_5, longlong param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	bool bVar2;
	bool bVar3;
	uint uVar4;
	longlong lVar5;
	longlong lVar6;
	ulonglong uVar7;
	int iVar8;
	int iVar9;
	int iVar10;
	longlong lVar11;
	int iVar12;
	longlong lVar13;
	int iVar14;
	int iVar15;
	int iVar16;
	int iVar17;

	iVar10 = (int)param_4;
	iVar9 = (int)param_3;
	lVar13 = param_6 - param_4;
	iVar14 = (int)lVar13;
	lVar11 = param_5 - param_3;
	iVar12 = (int)lVar11;
	bVar3 = false;
	lVar5 = abs(lVar13);
	lVar6 = abs(lVar11);
	if ((int)lVar5 < (int)lVar6) {
		iVar16 = (int)param_5;
		iVar17 = (int)param_6;
		if (iVar12 < 0) {
			lVar11 = -lVar11;
			iVar14 = -iVar14;
			param_3 = param_5;
			param_4 = param_6;
			iVar16 = iVar9;
			iVar17 = iVar10;
		}
		iVar12 = (int)lVar11;
		if (iVar14 < 1) {
			uVar7 = (ulonglong)(uint)(iVar14 << 1);
			lVar11 = lVar11 + uVar7;
			lVar5 = -1;
		} else {
			uVar7 = (ulonglong)(uint)(iVar14 << 1);
			iVar12 = -iVar12;
			lVar11 = uVar7 - lVar11;
			lVar5 = 1;
		}
		while (true) {
			iVar15 = (int)param_4;
			iVar8 = (int)param_3;
			if ((bVar3) || ((iVar8 == iVar16 && (iVar15 == iVar17))))
				break;
			uVar1 = uVar7;
			if (((uint)lVar11 >> 0x1f) + (uint)(lVar11 == 0) == ((~(uint)lVar5 >> 0x1f) + 1 & 1)) {
				param_4 = param_4 + lVar5;
				uVar1 = (ulonglong)(uint)((iVar14 + iVar12) * 2);
			}
			lVar11 = lVar11 + uVar1;
			param_3 = param_3 + 1;
			bVar3 = false;
			bVar2 = true;
			if (((int)param_3 == iVar9) && ((int)param_4 == iVar10)) {
				bVar2 = false;
			}
			if ((bVar2) && (iVar8 = FUN_100dbf44(param_2, param_3, param_4), iVar8 == 0)) {
				bVar3 = true;
			}
		}
	} else {
		iVar16 = (int)param_5;
		iVar17 = (int)param_6;
		if (iVar14 < 0) {
			lVar13 = -lVar13;
			iVar12 = -iVar12;
			param_3 = param_5;
			param_4 = param_6;
			iVar16 = iVar9;
			iVar17 = iVar10;
		}
		iVar14 = (int)lVar13;
		if (iVar12 < 1) {
			uVar7 = (ulonglong)(uint)(iVar12 << 1);
			lVar13 = lVar13 + uVar7;
			lVar5 = -1;
		} else {
			uVar7 = (ulonglong)(uint)(iVar12 << 1);
			iVar14 = -iVar14;
			lVar13 = uVar7 - lVar13;
			lVar5 = 1;
		}
		while (true) {
			iVar15 = (int)param_4;
			iVar8 = (int)param_3;
			if ((bVar3) || ((iVar15 == iVar17 && (iVar8 == iVar16))))
				break;
			uVar1 = uVar7;
			if (((uint)lVar13 >> 0x1f) + (uint)(lVar13 == 0) == ((~(uint)lVar5 >> 0x1f) + 1 & 1)) {
				param_3 = param_3 + lVar5;
				uVar1 = (ulonglong)(uint)((iVar12 + iVar14) * 2);
			}
			lVar13 = lVar13 + uVar1;
			param_4 = param_4 + 1;
			bVar3 = false;
			bVar2 = true;
			if (((int)param_4 == iVar10) && ((int)param_3 == iVar9)) {
				bVar2 = false;
			}
			if ((bVar2) && (iVar8 = FUN_100dbf44(param_2, param_3, param_4), iVar8 == 0)) {
				bVar3 = true;
			}
		}
	}
	uVar4 = 0;
	if ((iVar8 == iVar16) && (iVar15 == iVar17)) {
		uVar4 = 1;
	}
	return (ulonglong)uVar4;
}

void SyncMonsterAnim(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined4 uVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	int iVar6;
	int *piVar7;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar3 = PTR_DAT_100f19c0;
	puVar4 = PTR_DAT_100f187c;
	ppuVar5 = &toc;
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar5 = &toc;
		app_fatal(_DAT_100f3140, param_1, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4);
	}
	iVar6 = (int)param_1 * 0xe8;
	piVar7 = (int *)(puVar4 + iVar6);
	*(undefined **)(piVar7 + 0x38) = puVar3 + *piVar7 * 0x208;
	piVar7[0x39] = *(int *)(puVar3 + *piVar7 * 0x208 + 0x200);
	if (*(byte *)(piVar7 + 0x30) == 0) {
		piVar7[0x37] = *(int *)(piVar7[0x39] + 0x50);
	} else {
		piVar7[0x37] = *(int *)(ppuVar5[-0x1c23] + (uint) * (byte *)(piVar7 + 0x30) * 0x20 + -0x1c);
	}
	uVar1 = *(uint *)(puVar4 + iVar6 + 4);
	if (uVar1 < 0x12) {
		// WARNING: Could not recover jumptable at 0x100753fc. Too many branches
		// WARNING: Treating indirect jump as call
		(**(code **)(ppuVar5[-0x17a5] + uVar1 * 4))();
		return;
	}
	puVar3 = puVar4 + iVar6;
	iVar6 = piVar7[0x38] + *(int *)(puVar4 + iVar6 + 0x48) * 8;
	uVar2 = *(undefined4 *)(iVar6 + 0xc);
	*(undefined4 *)(puVar3 + 0x54) = *(undefined4 *)(iVar6 + 8);
	*(undefined4 *)(puVar3 + 0x58) = uVar2;
	*(undefined4 *)(puVar3 + 0x68) = 1;
	*(undefined4 *)(puVar3 + 100) = *(undefined4 *)(piVar7[0x38] + 0x48);
	return;
}

// WARNING: Removing unreachable block (ram,0x1007575c)
// WARNING: Removing unreachable block (ram,0x10075770)
// WARNING: Removing unreachable block (ram,0x10075784)
// WARNING: Removing unreachable block (ram,0x10075790)

void FUN_100756b8(longlong param_1, longlong param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	int *piVar2;

	iVar1 = 0;
	piVar2 = (int *)PTR_DAT_100f19a8;
	while (true) {
		if (*(int *)PTR_DAT_100f19a4 <= iVar1) {
			return;
		}
		if (((ulonglong) * *(byte **)(PTR_DAT_100f187c + *piVar2 * 0xe8 + 0xe0) - 4 & 0xffffffff) < 0xc)
			break;
		piVar2 = piVar2 + 1;
		iVar1 = iVar1 + 1;
	}
	// WARNING: Could not recover jumptable at 0x10075720. Too many branches
	// WARNING: Treating indirect jump as call
	(**(code **)(_DAT_100f3138 + (int)((ulonglong) * *(byte **)(PTR_DAT_100f187c + *piVar2 * 0xe8 + 0xe0) - 4) * 4))();
	return;
}

void PrintMonstHistory(int param_1, undefined8 param_2, undefined8 param_3, undefined4 param_4,
    undefined4 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	ushort uVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	int iVar5;
	int iVar6;
	int iVar7;
	undefined **ppuVar8;
	int iVar9;
	int iVar10;
	undefined uVar11;
	int iVar12;
	undefined uVar13;
	undefined uVar14;
	undefined uVar15;
	undefined uVar16;
	undefined uVar17;
	int *piVar18;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	iVar7 = _DAT_100f3124;
	iVar6 = _DAT_100f3120;
	iVar5 = _DAT_100f311c;
	puVar4 = PTR_DAT_100f1e4c;
	iVar9 = _DAT_100f1d1c;
	puVar3 = PTR_DAT_100f191c;
	uVar13 = (undefined)param_4;
	ppuVar8 = &toc;
	piVar18 = (int *)(_DAT_100f1e84 + param_1 * 4);
	uVar11 = (undefined)*piVar18;
	sprintf((int)PTR_DAT_100f191c, _DAT_100f3134, *piVar18, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbc, in_stack_ffffffc0,
	    in_stack_ffffffc4, in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0,
	    in_stack_ffffffd4);
	AddPanelString((int)puVar3, 1, uVar11, uVar13, (char)param_5, (char)param_6, (char)param_7, (char)param_8,
	    in_stack_ffffffa8);
	uVar17 = (undefined)param_8;
	uVar16 = (undefined)param_7;
	uVar15 = (undefined)param_6;
	uVar14 = (undefined)param_5;
	if (0x1d < *piVar18) {
		iVar12 = iVar9 + param_1 * 0x80;
		iVar10 = *(int *)(iVar12 + 0x58);
		iVar12 = *(int *)(iVar12 + 0x5c);
		if (*ppuVar8[-0x1dfc] == '\x01') {
			iVar10 = iVar10 >> 1;
			iVar12 = iVar12 >> 1;
		}
		if (iVar10 < 1) {
			iVar10 = 1;
		}
		if (iVar12 < 1) {
			iVar12 = 1;
		}
		iVar2 = *(int *)puVar4;
		if (iVar2 == 1) {
			iVar10 = iVar10 * 3 + 1;
			iVar12 = iVar12 * 3 + 1;
		}
		if (iVar2 == 2) {
			iVar10 = iVar10 * 4 + 3;
			iVar12 = iVar12 * 4 + 3;
		}
		uVar13 = (undefined)iVar12;
		uVar11 = (undefined)iVar10;
		sprintf((int)puVar3, ppuVar8[-0x17a8], iVar10, iVar12, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbc, in_stack_ffffffc0,
		    in_stack_ffffffc4, in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0,
		    in_stack_ffffffd4);
		AddPanelString((int)puVar3, 1, uVar11, uVar13, uVar14, uVar15, uVar16, uVar17, in_stack_ffffffa8);
	}
	if (0xe < *piVar18) {
		if (*(int *)puVar4 == 2) {
			uVar1 = *(ushort *)(iVar9 + param_1 * 0x80 + 0x76);
		} else {
			uVar1 = *(ushort *)(iVar9 + param_1 * 0x80 + 0x74);
		}
		if ((uVar1 & 0x3f) == 0) {
			strcpy((int)puVar3, (int)ppuVar8[-0x17a9]);
			AddPanelString((int)puVar3, 1, uVar11, uVar13, uVar14, uVar15, uVar16, uVar17, in_stack_ffffffa8);
		} else {
			if ((uVar1 & 7) != 0) {
				strcpy((int)puVar3, (int)ppuVar8[-0x17aa]);
				if ((uVar1 & 1) != 0) {
					strcat((int)puVar3, iVar7);
				}
				if ((uVar1 & 2) != 0) {
					strcat((int)puVar3, iVar6);
				}
				if ((uVar1 & 4) != 0) {
					strcat((int)puVar3, iVar5);
				}
				iVar9 = strlen((uint)puVar3);
				puVar3[iVar9 + -1] = 0;
				AddPanelString((int)puVar3, 1, uVar11, uVar13, uVar14, uVar15, uVar16, uVar17, in_stack_ffffffa8);
			}
			if ((uVar1 & 0x38) != 0) {
				strcpy((int)puVar3, (int)ppuVar8[-0x17ae]);
				if ((uVar1 & 8) != 0) {
					strcat((int)puVar3, iVar7);
				}
				if ((uVar1 & 0x10) != 0) {
					strcat((int)puVar3, iVar6);
				}
				if ((uVar1 & 0x20) != 0) {
					strcat((int)puVar3, iVar5);
				}
				iVar9 = strlen((uint)puVar3);
				puVar3[iVar9 + -1] = 0;
				AddPanelString((int)puVar3, 1, uVar11, uVar13, uVar14, uVar15, uVar16, uVar17, in_stack_ffffffa8);
			}
		}
	}
	*(undefined4 *)ppuVar8[-0x1db3] = 1;
	return;
}

void PrintUniqueHistory(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	ushort uVar1;
	undefined *puVar2;
	int iVar3;
	undefined **ppuVar4;
	undefined uVar5;
	undefined4 in_stack_ffffffb8;

	iVar3 = _DAT_100f3110;
	puVar2 = PTR_DAT_100f191c;
	ppuVar4 = &toc;
	uVar5 = SUB41(PTR_DAT_100f187c, 0);
	uVar1 = *(ushort *)(PTR_DAT_100f187c + *(int *)PTR_DAT_100f1880 * 0xe8 + 0xd0);
	if ((uVar1 & 0x3f) == 0) {
		strcpy((int)PTR_DAT_100f191c, _DAT_100f3114);
		AddPanelString((int)puVar2, 1, uVar5, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
		strcpy((int)puVar2, iVar3);
		AddPanelString((int)puVar2, 1, uVar5, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	} else {
		if ((uVar1 & 7) == 0) {
			ppuVar4 = &toc;
			strcpy((int)PTR_DAT_100f191c, _DAT_100f3114);
		} else {
			ppuVar4 = &toc;
			strcpy((int)PTR_DAT_100f191c, _DAT_100f310c);
		}
		AddPanelString((int)puVar2, 1, uVar5, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
		if ((uVar1 & 0x38) == 0) {
			strcpy((int)puVar2, iVar3);
		} else {
			strcpy((int)puVar2, (int)ppuVar4[-0x17b2]);
		}
		AddPanelString((int)puVar2, 1, uVar5, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	*(undefined4 *)ppuVar4[-0x1db3] = 1;
	return;
}

void MissToMonst(ulonglong param_1, int param_2, undefined8 param_3, ulonglong param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	char cVar1;
	short sVar2;
	uint uVar3;
	uint uVar4;
	uint uVar5;
	int iVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined *puVar12;
	ulonglong uVar13;
	undefined **ppuVar14;
	undefined8 uVar15;
	ulonglong uVar16;
	int iVar17;
	int iVar18;
	ulonglong uVar19;
	byte bVar20;
	ulonglong uVar21;
	byte bVar22;
	undefined4 uVar23;
	undefined uVar24;
	undefined4 uVar25;
	undefined uVar26;
	undefined4 uVar27;
	undefined uVar28;
	longlong lVar29;
	longlong lVar30;
	int iVar31;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined4 in_stack_ffffffa8;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;

	iVar17 = _DAT_100f1de4;
	iVar18 = _DAT_100f1de0;
	puVar12 = PTR_DAT_100f1954;
	puVar11 = PTR_DAT_100f1950;
	puVar10 = PTR_DAT_100f187c;
	puVar9 = PTR_DAT_100f1828;
	ppuVar14 = &toc;
	uVar15 = param_3;
	if (0x7c < (param_1 & 0xffffffff)) {
		uVar15 = param_3;
		ppuVar14 = &toc;
		app_fatal((int)PTR_s_MissToMonst__Invalid_missile__d_100f3104, param_1, param_3, param_4, param_5, (int)param_6, (int)param_7, (int)param_8, in_stack_ffffff98, in_stack_ffffff9f,
		    in_stack_ffffffa8, in_stack_ffffffac, in_stack_ffffffb0, in_stack_ffffffb4,
		    in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4);
	}
	puVar7 = ppuVar14[-0x1d99] + (int)param_1 * 0xb4;
	uVar3 = *(uint *)(puVar7 + 0x78);
	uVar13 = (ulonglong)uVar3;
	if (199 < uVar3) {
		app_fatal((int)ppuVar14[-0x17b4], uVar13, uVar15, param_4, param_5, (int)param_6, (int)param_7,
		    (int)param_8, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffa8,
		    in_stack_ffffffac, in_stack_ffffffb0, in_stack_ffffffb4, in_stack_ffffffb8,
		    in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4);
	}
	uVar4 = *(uint *)(puVar7 + 4);
	uVar5 = *(uint *)(puVar7 + 8);
	*(undefined2 *)(*(int *)puVar12 + param_2 * 0xe0 + (int)param_3 * 2) = (short)(uVar13 + 1);
	puVar8 = puVar10 + uVar3 * 0xe8;
	*(undefined4 *)(puVar8 + 0x48) = *(undefined4 *)(puVar7 + 0x2c);
	*(int *)(puVar8 + 0x20) = param_2;
	*(int *)(puVar8 + 0x24) = (int)param_3;
	FUN_1006b758(uVar3, *(int *)(puVar8 + 0x48), (char)(uVar13 + 1), (char)param_4, (char)param_5,
	    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffff98);
	uVar27 = (undefined4)param_8;
	uVar25 = (undefined4)param_7;
	uVar23 = (undefined4)param_6;
	if ((**(byte **)(puVar8 + 0xe0) < 0x48) || (0x4b < **(byte **)(puVar8 + 0xe0))) {
		if ((*(uint *)(puVar8 + 0xa0) & 0x10) == 0) {
			M_StartHit(uVar13, -1, 0, param_4, param_5, uVar23, uVar25, uVar27, in_stack_ffffff98);
		} else {
			M2MStartHit(uVar13, -1, 0, param_4, param_5, uVar23, uVar25, uVar27, in_stack_ffffff98);
		}
	} else {
		M_StartFadein(uVar13, *(int *)(puVar8 + 0x48), 0, param_4, param_5, uVar23, uVar25, uVar27,
		    in_stack_ffffff98);
	}
	uVar28 = (undefined)param_8;
	uVar26 = (undefined)param_7;
	uVar24 = (undefined)param_6;
	if ((*(uint *)(puVar8 + 0xa0) & 0x10) == 0) {
		cVar1 = *(char *)(*(int *)puVar11 + uVar4 * 0x70 + uVar5);
		uVar16 = (longlong)cVar1 - 1;
		if ((('\0' < cVar1) && (bVar20 = **(byte **)(puVar8 + 0xe0), bVar20 != 0x28)) && ((bVar20 < 0x48 || (0x4b < bVar20)))) {
			uVar19 = (ulonglong)(byte)puVar8[0xcc];
			uVar21 = (ulonglong)(byte)puVar8[0xcd];
			M_TryH2HHit(uVar13, uVar16, 500, uVar19, uVar21, (int)param_6, (int)param_7, param_8,
			    in_stack_ffffff98);
			uVar27 = (undefined4)param_8;
			uVar25 = (undefined4)param_7;
			uVar23 = (undefined4)param_6;
			iVar31 = (int)uVar16;
			if ((iVar31 == (int)*(char *)(*(int *)puVar11 + uVar4 * 0x70 + uVar5) + -1) && ((**(byte **)(puVar8 + 0xe0) < 0x59 || (0x5c < **(byte **)(puVar8 + 0xe0))))) {
				iVar6 = *(int *)(puVar9 + iVar31 * 0x55ec);
				if ((iVar6 != 7) && (iVar6 != 8)) {
					StartPlrHit(uVar16, '\0', 1, uVar19, uVar21, param_6, param_7, param_8, in_stack_ffffff98);
				}
				lVar29 = (ulonglong)uVar4 + (ulonglong) * (uint *)(iVar17 + *(int *)(puVar8 + 0x48) * 4);
				lVar30 = (ulonglong)uVar5 + (ulonglong) * (uint *)(iVar18 + *(int *)(puVar8 + 0x48) * 4);
				iVar18 = (int)lVar30;
				uVar15 = PosOkPlayer(iVar31, lVar29, iVar18, (char)uVar19, (char)uVar21, (char)uVar23,
				    (char)uVar25, (char)uVar27, in_stack_ffffff98);
				if ((int)uVar15 != 0) {
					puVar9 = puVar9 + iVar31 * 0x55ec;
					iVar17 = (int)lVar29;
					*(int *)(puVar9 + 0x38) = iVar17;
					*(int *)(puVar9 + 0x3c) = iVar18;
					uVar13 = (ulonglong) * (uint *)(puVar9 + 0x70);
					FixPlayerLocation(uVar16, *(uint *)(puVar9 + 0x70), lVar30, uVar19, uVar21, uVar23, uVar25, uVar27,
					    in_stack_ffffff98);
					FixPlrWalkTags(uVar16, uVar13, lVar30, uVar19, uVar21, uVar23, uVar25, uVar27, in_stack_ffffff98);
					*(char *)(*(int *)puVar11 + iVar17 * 0x70 + iVar18) = cVar1;
					SetPlayerOld(uVar16, (longlong)cVar1, lVar30, uVar19, uVar21, uVar23, uVar25, uVar27,
					    in_stack_ffffff98);
				}
			}
		}
	} else {
		sVar2 = *(short *)(*(int *)puVar12 + uVar4 * 0xe0 + uVar5 * 2);
		if (((0 < sVar2) && (bVar20 = **(byte **)(puVar8 + 0xe0), bVar20 != 0x28)) && ((bVar20 < 0x48 || (0x4b < bVar20)))) {
			bVar20 = puVar8[0xcc];
			bVar22 = puVar8[0xcd];
			M_TryM2MHit(uVar13, (longlong)sVar2 - 1, 500, (ulonglong)bVar20, (ulonglong)bVar22, (int)param_6,
			    (int)param_7, (int)param_8, in_stack_ffffff98);
			if ((**(byte **)(puVar8 + 0xe0) < 0x59) || (0x5c < **(byte **)(puVar8 + 0xe0))) {
				iVar31 = uVar4 * 0xe0 + uVar5 * 2;
				iVar17 = uVar4 + *(int *)(iVar17 + *(int *)(puVar8 + 0x48) * 4);
				iVar18 = uVar5 + *(int *)(iVar18 + *(int *)(puVar8 + 0x48) * 4);
				uVar13 = FUN_10075e58((int)*(short *)(*(int *)puVar12 + iVar31) + -1, iVar17, iVar18, bVar20,
				    bVar22, uVar24, uVar26, uVar28, in_stack_ffffff98);
				if ((int)uVar13 != 0) {
					sVar2 = *(short *)(*(int *)puVar12 + iVar31);
					*(short *)(*(int *)puVar12 + iVar17 * 0xe0 + iVar18 * 2) = sVar2;
					puVar10 = puVar10 + ((int)sVar2 + -1) * 0xe8;
					*(undefined2 *)(*(int *)puVar12 + iVar31) = 0;
					*(int *)(puVar10 + 0x20) = iVar17;
					*(int *)(puVar10 + 0x28) = iVar17;
					*(int *)(puVar10 + 0x24) = iVar18;
					*(int *)(puVar10 + 0x2c) = iVar18;
				}
			}
		}
	}
	return;
}

ulonglong FUN_10075e58(int param_1, int param_2, int param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	char cVar1;
	bool bVar2;
	bool bVar3;
	undefined *puVar4;
	undefined *puVar5;
	int iVar7;
	ulonglong uVar6;
	undefined **ppuVar8;
	ulonglong uVar9;
	int *piVar10;
	uint uVar11;

	puVar5 = PTR_DAT_100f196c;
	puVar4 = PTR_DAT_100f187c;
	ppuVar8 = &toc;
	uVar11 = 0;
	bVar2 = false;
	bVar3 = false;
	uVar9 = FUN_1009352c(param_2, param_3);
	if ((int)uVar9 == 0) {
		if (*(char *)(*(int *)ppuVar8[-0x1da0] + param_2 * 0x70 + param_3) == '\0') {
			bVar2 = true;
		}
	}
	if (bVar2) {
		if (*(short *)(*(int *)ppuVar8[-0x1d9f] + param_2 * 0xe0 + param_3 * 2) == 0) {
			uVar11 = 1;
		}
	}
	uVar9 = (ulonglong)uVar11;
	if (uVar11 != 0) {
		cVar1 = *(char *)(*(int *)ppuVar8[-0x1da1] + param_2 * 0x70 + param_3);
		if (cVar1 != '\0') {
			if (cVar1 < '\x01') {
				iVar7 = -((int)cVar1 + 1);
			} else {
				iVar7 = (int)cVar1 + -1;
			}
			if (*(int *)(ppuVar8[-0x1da2] + iVar7 * 0x78 + 0x38) != 0) {
				uVar9 = 0;
			}
		}
	}
	if (((int)uVar9 != 0) && (cVar1 = *(char *)(*(int *)ppuVar8[-0x1d65] + param_2 * 0x70 + param_3), cVar1 != '\0')) {
		if (-1 < param_1) {
			if ('\0' < cVar1) {
				if (*(int *)(puVar5 + (int)cVar1 * 0xb4) == 5) {
					bVar3 = true;
				} else {
					piVar10 = (int *)ppuVar8[-0x1d98];
					uVar6 = (ulonglong) * (uint *)ppuVar8[-0x1d9a];
					bVar2 = false;
					if (0 < (int)*(uint *)ppuVar8[-0x1d9a]) {
						do {
							bVar3 = bVar2;
							if (*(int *)(puVar5 + *piVar10 * 0xb4) == 5) {
								bVar3 = true;
							}
							piVar10 = piVar10 + 1;
							uVar6 = uVar6 - 1;
							bVar2 = bVar3;
						} while (uVar6 != 0);
					}
				}
			}
			if (((bVar3) && ((*(ushort *)(puVar4 + param_1 * 0xe8 + 0xd0) & 0x10) == 0)) || ((bVar3 && (**(char **)(puVar4 + param_1 * 0xe8 + 0xe0) == 'n')))) {
				uVar9 = 0;
			}
		}
	}
	return uVar9;
}

ulonglong FUN_10076400(int param_1)

{
	bool bVar1;
	bool bVar2;
	uint uVar3;

	uVar3 = 1;
	bVar2 = true;
	bVar1 = false;
	if ((7 < param_1) && (param_1 < 0xc)) {
		bVar1 = true;
	}
	if (!bVar1) {
		bVar1 = false;
		if ((0x13 < param_1) && (param_1 < 0x18)) {
			bVar1 = true;
		}
		if (!bVar1) {
			bVar2 = false;
		}
	}
	if (!bVar2) {
		bVar1 = false;
		if ((0x17 < param_1) && (param_1 < 0x1c)) {
			bVar1 = true;
		}
		if (!bVar1) {
			uVar3 = 0;
		}
	}
	return (ulonglong)uVar3;
}

ulonglong FUN_10076480(int param_1)

{
	bool bVar1;
	uint uVar2;

	uVar2 = 1;
	bVar1 = false;
	if ((0x21 < param_1) && (param_1 < 0x26)) {
		bVar1 = true;
	}
	if (!bVar1) {
		bVar1 = false;
		if ((0x29 < param_1) && (param_1 < 0x2e)) {
			bVar1 = true;
		}
		if (!bVar1) {
			uVar2 = 0;
		}
	}
	return (ulonglong)uVar2;
}

ulonglong FUN_100764d0(int param_1, int param_2, int param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	longlong lVar2;
	ulonglong uVar3;
	undefined uVar4;
	undefined uVar5;
	longlong lVar6;
	undefined uVar7;
	longlong lVar8;
	undefined uVar9;
	longlong lVar10;
	undefined uVar11;
	longlong lVar12;
	undefined uVar13;
	int iVar15;
	longlong lVar14;
	longlong lVar16;
	byte *pbVar17;
	byte *pbVar18;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	pbVar17 = PTR_DAT_100f19c0;
	puVar1 = PTR_DAT_100f19b8;
	lVar12 = (longlong)param_8;
	lVar10 = (longlong)param_7;
	lVar8 = (longlong)param_6;
	lVar6 = (longlong)param_5;
	lVar14 = (longlong)param_4;
	lVar2 = (longlong)param_3;
	uVar4 = (undefined)param_3;
	iVar15 = 0;
	lVar16 = 0;
	pbVar18 = PTR_DAT_100f19c0;
	while (iVar15 < *(int *)puVar1) {
		uVar3 = FUN_10076400((uint)*pbVar18);
		if ((int)uVar3 != 0) {
			lVar16 = lVar16 + 1;
		}
		pbVar18 = pbVar18 + 0x208;
		iVar15 = iVar15 + 1;
	}
	if ((int)lVar16 == 0) {
		uVar3 = 0xffffffffffffffff;
	} else {
		lVar2 = random(0x88, lVar16, (char)lVar2, (char)lVar14, (char)lVar6, (char)lVar8, (char)lVar10,
		    (char)lVar12, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
		iVar15 = 0;
		lVar14 = 0;
		while (true) {
			uVar13 = (undefined)lVar12;
			uVar11 = (undefined)lVar10;
			uVar9 = (undefined)lVar8;
			if ((*(int *)puVar1 <= (int)lVar14) || ((int)lVar2 < iVar15))
				break;
			uVar3 = FUN_10076400((uint)*pbVar17);
			if ((int)uVar3 != 0) {
				iVar15 = iVar15 + 1;
			}
			pbVar17 = pbVar17 + 0x208;
			lVar14 = lVar14 + 1;
		}
		uVar5 = (undefined)(lVar14 + -1);
		uVar7 = 1;
		uVar3 = FUN_1006b0f8(param_1, param_2, param_3, (int)(lVar14 + -1), 1, uVar9, uVar11, uVar13,
		    in_stack_ffffffa8);
		if ((int)uVar3 != -1) {
			FUN_1006b868((int)uVar3, param_3, uVar4, uVar5, uVar7, uVar9, uVar11, uVar13, in_stack_ffffffa8);
		}
	}
	return uVar3;
}

void FUN_100765dc(int param_1, int param_2, int param_3, int param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	longlong lVar4;
	longlong lVar5;
	ulonglong uVar6;
	undefined4 in_stack_ffffffc8;

	puVar3 = PTR_DAT_100f187c;
	uVar6 = ZEXT48(PTR_DAT_100f187c);
	lVar5 = (longlong)param_1 + 1;
	iVar1 = *(int *)PTR_DAT_100f1954;
	*(undefined2 *)(iVar1 + param_2 * 0xe0 + param_3 * 2) = (short)lVar5;
	lVar4 = uVar6 + (longlong)param_1 * 0xe8;
	iVar2 = (int)lVar4;
	*(int *)(iVar2 + 0x20) = param_2;
	*(int *)(iVar2 + 0x24) = param_3;
	*(int *)(iVar2 + 0x28) = param_2;
	*(int *)(iVar2 + 0x2c) = param_3;
	*(int *)(iVar2 + 0x30) = param_2;
	*(int *)(iVar2 + 0x34) = param_3;
	FUN_1006b868(param_1, param_4, (char)param_3, (char)param_4, (char)lVar4, (char)iVar1, (char)lVar5,
	    (char)puVar3, in_stack_ffffffc8);
	return;
}

undefined8
FUN_10076640(int param_1, longlong param_2, int param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	uint uVar1;
	undefined8 uVar2;
	ulonglong uVar3;
	longlong lVar4;
	int iVar5;
	longlong lVar6;
	longlong lVar7;
	undefined uVar8;
	longlong lVar9;
	undefined uVar10;
	longlong lVar11;
	undefined uVar12;
	longlong lVar13;
	undefined uVar14;
	undefined8 unaff_r22;
	uint uVar15;
	undefined8 unaff_r23;
	longlong lVar16;
	undefined8 unaff_r24;
	longlong lVar17;
	undefined8 unaff_r25;
	uint *puVar18;
	undefined8 unaff_r26;
	uint *puVar19;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffff78;
	undefined in_stack_ffffff7f;
	undefined in_stack_ffffff8b;
	uint local_58[12];
	undefined4 local_28;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	lVar13 = (longlong)param_8;
	lVar11 = (longlong)param_7;
	lVar9 = (longlong)param_6;
	lVar7 = (longlong)param_5;
	lVar4 = (longlong)param_4;
	local_28 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	if (param_1 == -1) {
		uVar2 = 0;
	} else {
		iVar5 = (int)param_2;
		lVar6 = (longlong)param_3;
		uVar3 = FUN_10075e58(-1, iVar5, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff78);
		uVar14 = (undefined)lVar13;
		uVar12 = (undefined)lVar11;
		uVar10 = (undefined)lVar9;
		uVar8 = (undefined)lVar7;
		if ((int)uVar3 == 0) {
			lVar16 = (longlong)param_3 + -1;
			puVar18 = local_58;
			uVar15 = 0;
			while (true) {
				uVar12 = (undefined)lVar13;
				uVar10 = (undefined)lVar11;
				uVar8 = (undefined)lVar9;
				if (param_3 + 1 < (int)lVar16)
					break;
				lVar17 = param_2 + -1;
				puVar19 = puVar18;
				while ((int)lVar17 <= iVar5 + 1) {
					lVar6 = lVar16;
					uVar3 = FUN_10075e58(-1, (int)lVar17, (int)lVar16, (char)lVar4, (char)lVar7, (char)lVar9,
					    (char)lVar11, (char)lVar13, in_stack_ffffff78);
					*puVar19 = (uint)uVar3;
					lVar17 = lVar17 + 1;
					uVar1 = *puVar19;
					puVar19 = puVar19 + 3;
					uVar15 = uVar15 | uVar1;
				}
				puVar18 = puVar18 + 1;
				lVar16 = lVar16 + 1;
			}
			if (uVar15 == 0) {
				return 0;
			}
			lVar4 = random(0x89, 0xf, (char)lVar6, (char)lVar4, (char)lVar7, uVar8, uVar10, uVar12,
			    in_stack_ffffff78, in_stack_ffffff7f, in_stack_ffffff8b);
			lVar7 = 0;
			lVar4 = lVar4 + 1;
			iVar5 = 0;
			while (uVar14 = (undefined)lVar4, 0 < (int)lVar4) {
				if (local_58[iVar5 + (int)lVar7 * 3] != 0) {
					lVar4 = lVar4 + -1;
				}
				if ((0 < (int)lVar4) && (lVar7 = lVar7 + 1, (int)lVar7 == 3)) {
					iVar5 = iVar5 + 1;
					lVar7 = 0;
					if (iVar5 == 3) {
						iVar5 = 0;
					}
				}
			}
			lVar7 = lVar7 + param_2 + -1;
			iVar5 = iVar5 + param_3 + -1;
			uVar3 = GetDirection(lVar7, iVar5, param_2, param_3);
			FUN_100765dc(param_1, (int)lVar7, iVar5, (int)uVar3, uVar14, uVar8, uVar10, uVar12, in_stack_ffffff78);
		} else {
			uVar3 = GetDirection(param_2, param_3, param_2, param_3);
			FUN_100765dc(param_1, iVar5, param_3, (int)uVar3, uVar8, uVar10, uVar12, uVar14, in_stack_ffffff78);
		}
		uVar2 = 1;
	}
	return uVar2;
}

ulonglong FUN_100767dc(undefined param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	longlong lVar2;
	ulonglong uVar3;
	undefined uVar4;
	undefined uVar5;
	longlong lVar6;
	undefined uVar7;
	longlong lVar8;
	undefined uVar9;
	longlong lVar10;
	undefined uVar11;
	longlong lVar12;
	undefined uVar13;
	int iVar15;
	longlong lVar14;
	longlong lVar16;
	byte *pbVar17;
	byte *pbVar18;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined in_stack_ffffffcb;

	pbVar17 = PTR_DAT_100f19c0;
	puVar1 = PTR_DAT_100f19b8;
	lVar12 = (longlong)param_8;
	lVar10 = (longlong)param_7;
	lVar8 = (longlong)param_6;
	lVar6 = (longlong)param_5;
	lVar14 = (longlong)param_4;
	lVar2 = (longlong)param_3;
	iVar15 = 0;
	lVar16 = 0;
	pbVar18 = PTR_DAT_100f19c0;
	while (iVar15 < *(int *)puVar1) {
		uVar3 = FUN_10076400((uint)*pbVar18);
		if ((int)uVar3 != 0) {
			lVar16 = lVar16 + 1;
		}
		pbVar18 = pbVar18 + 0x208;
		iVar15 = iVar15 + 1;
	}
	if ((int)lVar16 == 0) {
		uVar3 = 0xffffffffffffffff;
	} else {
		lVar2 = random(0x88, lVar16, (char)lVar2, (char)lVar14, (char)lVar6, (char)lVar8, (char)lVar10,
		    (char)lVar12, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb);
		iVar15 = 0;
		lVar14 = 0;
		while (true) {
			uVar13 = (undefined)lVar12;
			uVar11 = (undefined)lVar10;
			uVar9 = (undefined)lVar8;
			if ((*(int *)puVar1 <= (int)lVar14) || ((int)lVar2 < iVar15))
				break;
			uVar3 = FUN_10076400((uint)*pbVar17);
			if ((int)uVar3 != 0) {
				iVar15 = iVar15 + 1;
			}
			pbVar17 = pbVar17 + 0x208;
			lVar14 = lVar14 + 1;
		}
		uVar5 = (undefined)(lVar14 + -1);
		uVar4 = 0;
		uVar7 = 0;
		uVar3 = FUN_1006b0f8(0, 0, 0, (int)(lVar14 + -1), 0, uVar9, uVar11, uVar13, in_stack_ffffffb8);
		if ((int)uVar3 != -1) {
			FUN_1006b758((int)uVar3, 0, uVar4, uVar5, uVar7, uVar9, uVar11, uVar13, in_stack_ffffffb8);
		}
	}
	return uVar3;
}

void TalktoMonster(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined8 uVar4;
	undefined *puVar5;
	undefined *puVar6;
	longlong lVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	uint local_18;

	puVar6 = PTR_DAT_100f19cc;
	uVar9 = (undefined)param_5;
	uVar8 = (undefined)param_4;
	uVar12 = (undefined)param_8;
	uVar11 = (undefined)param_7;
	uVar10 = (undefined)param_6;
	ppuVar3 = &toc;
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar3 = &toc;
		app_fatal((int)PTR_s_TalktoMonster__Invalid_monster___100f30fc, param_1, param_3, param_4,
		    param_5, param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	puVar2 = ppuVar3[-0x1dd5] + (int)param_1 * 0xe8;
	uVar1 = *(uint *)(puVar2 + 0x4c);
	*(undefined4 *)(puVar2 + 4) = 0x11;
	if ((puVar2[0x9c] == '\x17') || (puVar2[0x9c] == '\x1e')) {
		uVar4 = QuestStatus(7);
		if (((int)uVar4 != 0) && (puVar6[0xb7] == '\x02')) {
			lVar7 = ZEXT48(register0x0000000c) - 0x18;
			lVar7._7_1_ = (undefined)lVar7;
			puVar5 = PlrHasItem(uVar1, 0xc, (int *)lVar7);
			if (puVar5 != (undefined *)0x0) {
				RemoveInvItem((ulonglong)uVar1, (ulonglong)local_18, (undefined)lVar7, uVar8, uVar9, uVar10, uVar11, uVar12, in_stack_ffffffb8);
				puVar6[0xaa] = 3;
				*(undefined4 *)(puVar2 + 0xd4) = 0x16;
				puVar2[8] = 6;
			}
		}
		uVar4 = QuestStatus(4);
		if (((int)uVar4 != 0) && (0x50 < *(int *)(puVar2 + 0xd4))) {
			lVar7 = ZEXT48(register0x0000000c) - 0x18;
			lVar7._7_1_ = (undefined)lVar7;
			puVar6 = PlrHasItem(uVar1, 0xf, (int *)lVar7);
			if (puVar6 != (undefined *)0x0) {
				RemoveInvItem((ulonglong)uVar1, (ulonglong)local_18, (undefined)lVar7, uVar8, uVar9, uVar10, uVar11, uVar12, in_stack_ffffffb8);
				*(undefined4 *)(puVar2 + 0xd4) = 0x53;
				puVar2[8] = 6;
			}
		}
	}
	return;
}

void SpawnGolum(ulonglong param_1, uint param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	int iVar2;
	undefined *puVar3;
	int iVar4;
	char cVar5;
	int iVar6;
	undefined *puVar7;
	undefined **ppuVar8;
	undefined uVar9;
	char cVar10;
	char cVar11;
	char cVar12;
	undefined uVar13;
	longlong lVar14;
	int iVar15;
	uint uVar16;
	ulonglong uVar17;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar7 = PTR_DAT_100f187c;
	ppuVar8 = &toc;
	uVar17 = ZEXT48(PTR_DAT_100f1828);
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar8 = &toc;
		app_fatal((int)PTR_s_SpawnGolum__Invalid_monster__d_100f30f8, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffb8,
		    in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
	}
	puVar1 = ppuVar8[-0x1d99];
	iVar6 = (int)param_1;
	iVar4 = iVar6 * 0xe8;
	uVar16 = (uint)param_3;
	*(short *)(*(int *)ppuVar8[-0x1d9f] + param_2 * 0xe0 + uVar16 * 2) = (short)param_1 + 1;
	puVar3 = puVar7 + iVar4;
	*(uint *)(puVar7 + iVar4 + 0x20) = param_2;
	*(uint *)(puVar7 + iVar4 + 0x24) = uVar16;
	lVar14 = uVar17 + param_1 * 0x55ec;
	*(uint *)(puVar3 + 0x28) = param_2;
	*(uint *)(puVar3 + 0x2c) = uVar16;
	*(uint *)(puVar3 + 0x30) = param_2;
	*(uint *)(puVar3 + 0x34) = uVar16;
	puVar3[0x1c] = 0;
	uVar9 = 0;
	iVar15 = *(int *)(puVar1 + (int)param_4 * 0xb4 + 0x30);
	iVar2 = *(int *)((int)lVar14 + 0x1ac);
	cVar5 = (char)(iVar15 << 1);
	uVar16 = iVar2 / 3 + (iVar2 >> 0x1f);
	cVar11 = cVar5 + '\b';
	*(uint *)(puVar3 + 0x94) = iVar15 * 0x280 + (uVar16 + (uVar16 >> 0x1f)) * 2;
	uVar13 = (undefined) * (undefined4 *)(puVar3 + 0x94);
	*(undefined4 *)(puVar3 + 0x98) = *(undefined4 *)(puVar3 + 0x94);
	puVar3[0xce] = 0x19;
	cVar12 = (char)((int)*(char *)((int)lVar14 + 0x1b4) << 1);
	cVar10 = (char)iVar15 + (char)(iVar15 << 2) + cVar12 + '(';
	puVar3[200] = cVar10;
	puVar3[0xc9] = cVar11;
	puVar3[0xca] = cVar5 + '\x10';
	*(uint *)(puVar3 + 0xa0) = *(uint *)(puVar3 + 0xa0) | 0x20;
	FUN_1006b868(iVar6, 0, cVar10, cVar11, cVar12, uVar13, (char)lVar14, (char)iVar15, in_stack_ffffffa8);
	FUN_1006b278(iVar6, uVar9, cVar10, cVar11, cVar12, uVar13, (char)lVar14, (char)iVar15, in_stack_ffffffa8);
	if (iVar6 == *(int *)ppuVar8[-0x1deb]) {
		FUN_1007a814((ulonglong)(*(uint *)(puVar7 + iVar4 + 0x20) & 0xff),
		    (ulonglong)(*(uint *)(puVar7 + iVar4 + 0x24) & 0xff),
		    (ulonglong)(*(uint *)(puVar3 + 0x48) & 0xff),
		    (ulonglong)(*(uint *)(puVar3 + 0x4c) & 0xff), (ulonglong) * (uint *)(puVar3 + 0x98),
		    (uint)(byte)*ppuVar8[-0x1df9], lVar14, iVar15, in_stack_ffffffa8);
	}
	return;
}

undefined8
CanTalkToMonst(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined8 uVar2;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	ppuVar1 = &toc;
	if (199 < (param_1 & 0xffffffff)) {
		ppuVar1 = &toc;
		app_fatal((int)PTR_s_CanTalkToMonst__Invalid_monster___100f30f4, param_1, param_3, param_4,
		    param_5, param_6, param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4,
		    in_stack_ffffffe8, in_stack_ffffffec, in_stack_fffffff0, in_stack_fffffff4);
	}
	if (ppuVar1[-0x1dd5][(int)param_1 * 0xe8 + 8] == '\x06') {
		uVar2 = 1;
	} else {
		if (ppuVar1[-0x1dd5][(int)param_1 * 0xe8 + 8] == '\a') {
			uVar2 = 1;
		} else {
			uVar2 = 0;
		}
	}
	return uVar2;
}

undefined8
CheckMonsterHit(ulonglong param_1, undefined4 *param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	byte bVar1;
	undefined *puVar2;
	undefined *puVar3;
	int iVar4;
	undefined8 uVar5;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar3 = PTR_DAT_100f187c;
	if (199 < (param_1 & 0xffffffff)) {
		app_fatal(_DAT_100f30f0, param_1, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4);
	}
	iVar4 = (int)param_1 * 0xe8;
	puVar2 = puVar3 + iVar4;
	if (puVar2[0x9c] == '\f') {
		if ((*(uint *)(puVar2 + 0xa0) & 4) != 0) {
			*(uint *)(puVar2 + 0xa0) = *(uint *)(puVar2 + 0xa0) & 0xfffffffb;
			*(undefined4 *)(puVar2 + 4) = 7;
			*param_2 = 1;
			return 1;
		}
	}
	puVar3 = puVar3 + iVar4;
	bVar1 = **(byte **)(puVar3 + 0xe0);
	if (((bVar1 < 0x69) || (0x6c < bVar1)) || (puVar3[8] == '\x01')) {
		uVar5 = 0;
	} else {
		*param_2 = 0;
		uVar5 = 1;
	}
	return uVar5;
}

ulonglong FUN_10076cd0(int param_1)

{
	undefined *puVar1;

	puVar1 = PTR_DAT_100f187c + param_1 * 0xe8;
	if ((*(uint *)(puVar1 + 0xa0) & 0x10) != 0) {
		return (ulonglong) * (uint *)(puVar1 + 0x4c) + 4;
	}
	return (ulonglong) * (uint *)(puVar1 + 0x4c);
}

void FUN_10076cfc(int param_1, uint param_2)

{
	undefined *puVar1;
	undefined *puVar2;

	if (param_2 < 4) {
		puVar2 = PTR_DAT_100f187c + param_1 * 0xe8;
		puVar1 = PTR_DAT_100f1828 + param_2 * 0x55ec;
		*(uint *)(puVar2 + 0xa0) = *(uint *)(puVar2 + 0xa0) & 0xffffffef;
		*(uint *)(puVar2 + 0x4c) = param_2;
		puVar2[0x50] = (char)*(undefined4 *)(puVar1 + 0x40);
		puVar2[0x51] = (char)*(undefined4 *)(puVar1 + 0x44);
		return;
	}
	puVar2 = PTR_DAT_100f187c + param_1 * 0xe8;
	puVar1 = PTR_DAT_100f187c + (param_2 - 4) * 0xe8;
	*(uint *)(puVar2 + 0xa0) = *(uint *)(puVar2 + 0xa0) | 0x10;
	*(uint *)(puVar2 + 0x4c) = param_2 - 4;
	puVar2[0x50] = (char)*(undefined4 *)(puVar1 + 0x28);
	puVar2[0x51] = (char)*(undefined4 *)(puVar1 + 0x2c);
	return;
}

void FUN_10078c70(void)

{
	_DAT_100f4280 = _DAT_100f4264;
	return;
}

void FUN_10078c7c(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	int iVar2;
	undefined4 uVar3;
	ulonglong uVar4;
	uint *puVar5;

	uVar4 = ZEXT48(&toc);
	uVar3 = DiabloAllocPtr(0x7d08, param_2, param_3, param_4, param_5, param_6, param_7, param_8);
	iVar2 = (int)uVar4;
	*(undefined4 *)(iVar2 + -0x4d3c) = uVar3;
	uVar4 = uVar4 - 0x4d38;
	**(undefined4 **)(iVar2 + -0x4d3c) = 0;
	*(undefined4 *)(*(int *)(iVar2 + -0x4d3c) + 4) = 32000;
	do {
		puVar5 = (uint *)uVar4;
		uVar1 = *puVar5;
		uVar4 = (ulonglong)uVar1;
	} while (uVar1 != 0);
	*puVar5 = *(uint *)(iVar2 + -0x4d3c);
	return;
}

undefined msg_free_packets(undefined param_1, char param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined4 *puVar1;
	int iVar2;
	ulonglong uVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	undefined4 in_stack_ffffffc8;

	lVar10 = (longlong)param_8;
	lVar9 = (longlong)param_7;
	lVar8 = (longlong)param_6;
	lVar7 = (longlong)param_5;
	lVar6 = (longlong)param_4;
	lVar5 = (longlong)param_3;
	lVar4 = (longlong)param_2;
	uVar3 = ZEXT48(&toc);
	while (iVar2 = (int)uVar3, *(int *)(iVar2 + -0x4d38) != 0) {
		puVar1 = *(undefined4 **)(iVar2 + -0x4d38);
		*(undefined4 *)(iVar2 + -0x4d3c) = *puVar1;
		*(undefined4 *)(iVar2 + -0x4d38) = 0;
		param_1 = mem_free_dbg(ZEXT48(puVar1), (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7,
		    (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffc8);
		*(undefined4 *)((int)uVar3 + -0x4d38) = *(undefined4 *)((int)uVar3 + -0x4d3c);
	}
	return param_1;
}

void msg_pre_packet(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	undefined4 *puVar1;
	byte *pbVar2;
	uint *puVar3;
	int iVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	int iVar8;
	undefined4 *puVar9;
	ulonglong uVar10;
	undefined4 in_stack_ffffffb8;

	lVar7 = (longlong)param_8;
	lVar6 = (longlong)param_7;
	lVar5 = (longlong)param_6;
	uVar10 = 0xffffffffffffffff;
	puVar1 = _DAT_100f4298;
	while (puVar1 != (undefined4 *)0x0) {
		puVar9 = puVar1 + 2;
		iVar8 = 32000;
		while (iVar8 != puVar1[1]) {
			if (*(char *)puVar9 == '^') {
				uVar10 = (ulonglong) * (byte *)((int)puVar9 + 1);
				iVar8 = iVar8 + -2;
				puVar9 = (undefined4 *)((int)puVar9 + 2);
			} else {
				if (*(char *)puVar9 == '_') {
					iVar8 = iVar8 + -6;
					*(uint *)((int)puVar9 + 2) = (uint) * (byte *)((int)puVar9 + 5) << 0x18 | (uint) * (byte *)(puVar9 + 1) << 0x10 | (uint) * (byte *)((int)puVar9 + 3) << 8 | (uint) * (byte *)((int)puVar9 + 2);
					pbVar2 = (byte *)((int)puVar9 + 1);
					puVar3 = (uint *)((int)puVar9 + 2);
					puVar9 = (undefined4 *)((int)puVar9 + 6);
					FUN_1007ffb0((ulonglong)*pbVar2, (ulonglong)*puVar3, param_3, param_4, param_5, (int)lVar5,
					    (int)lVar6, (int)lVar7, in_stack_ffffffb8);
				} else {
					iVar4 = FUN_1007eff4(uVar10, puVar9);
					puVar9 = (undefined4 *)((int)puVar9 + iVar4);
					iVar8 = iVar8 - iVar4;
				}
			}
		}
		puVar1 = (undefined4 *)*puVar1;
	}
	return;
}

void msg_send_packet(undefined8 param_1, undefined8 param_2, uint param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	char cVar1;
	undefined **ppuVar2;
	undefined uVar3;
	undefined uVar4;
	undefined4 param_9_00;
	undefined uVar5;
	undefined in_stack_ffffffbf;
	int local_3c;

	ppuVar2 = &toc;
	uVar3 = (undefined)param_2;
	uVar4 = (char)param_3;
	if ((int)param_1 != _DAT_100f4290) {
		uVar3 = (undefined)(ZEXT48(register0x0000000c) - 0x18);
		uVar4 = 2;
		ppuVar2 = &toc;
		_DAT_100f4290 = (int)param_1;
		msg_send_packet(param_1, ZEXT48(register0x0000000c) - 0x18, 2, param_4, param_5, param_6, param_7, param_8, param_9_00);
	}
	uVar5 = (undefined)param_9_00;
	if (*(uint *)(ppuVar2[-0x134f] + 4) < param_3) {
		FUN_10078c7c((char)ppuVar2[-0x134f], uVar3, uVar4, param_4, param_5, param_6, param_7, param_8,
		    param_9_00);
	}
	cVar1 = (char)ppuVar2[-0x134f];
	memcpy((cVar1 + '\b') - (char)*(undefined4 *)(ppuVar2[-0x134f] + 4), (undefined)param_2,
	    (char)param_3, cVar1, param_5, param_6, param_7, param_8, uVar5, in_stack_ffffffbf, local_3c);
	*(int *)(*(int *)(local_3c + -0x4d3c) + 4) = *(int *)(*(int *)(local_3c + -0x4d3c) + 4) - param_3;
	return;
}

void FUN_10078e9c(undefined8 param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	msg_send_packet(param_1, ZEXT48(register0x0000000c) - 8, 6, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

undefined8
msg_wait_resync(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined4 uParm6, undefined4 uParm7, undefined4 uParm8)

{
	undefined *puVar1;
	undefined **ppuVar2;
	undefined4 uVar4;
	undefined8 uVar3;
	undefined uVar5;
	uint uVar6;
	undefined4 uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined4 uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined uVar14;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	int local_2c;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	puVar1 = _DAT_100f1d14;
	ppuVar2 = &toc;
	FUN_10078c7c(param_1, param_2, param_3, param_4, param_5, (char)uParm6, (char)uParm7, (char)uParm8,
	    in_stack_ffffffc8);
	*(undefined *)(ppuVar2 + -0x134a) = 0x4c;
	*(undefined *)((int)ppuVar2 + -0x4d2f) = 0;
	*puVar1 = 1;
	ppuVar2[-0x1350] = (undefined *)0xffffffff;
	uVar4 = GetTickCount(1, param_2, param_3, param_4, param_5, (char)uParm6, (char)uParm7, (char)uParm8,
	    (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
	*(undefined4 *)(local_2c + -0x4d34) = uVar4;
	uVar7 = 1;
	uVar10 = 0x14;
	uVar6 = *(uint *)(local_2c + -0x5c6c);
	uVar4 = *(undefined4 *)(local_2c + -0x5c70);
	uVar3 = FUN_1000bc90((ulonglong) * *(uint **)(local_2c + -0x780c), (ulonglong)uVar6, 1, uVar4, 0x14,
	    (char)uParm6, (char)uParm7, (char)uParm8, in_stack_ffffffc8);
	uVar14 = (undefined)uParm8;
	uVar13 = (undefined)uParm7;
	uVar12 = (undefined)uParm6;
	uVar11 = (undefined)uVar10;
	uVar9 = (undefined)uVar4;
	uVar8 = (undefined)uVar7;
	uVar6._3_1_ = (undefined)uVar6;
	*puVar1 = 0;
	if ((int)uVar3 == 0) {
		msg_free_packets((char)uVar3, (undefined)uVar6, uVar8, uVar9, uVar11, uVar12, uVar13, uVar14,
		    in_stack_ffffffc8);
		uVar3 = 0;
	} else {
		if (**(char **)(local_2c + -0x7064) == '\0') {
			if (*(char *)(local_2c + -0x4d2f) == '\x15') {
				uVar3 = 1;
			} else {
				uVar5 = DrawDlg(*(undefined4 *)(local_2c + -0x5c78), uVar6, uVar7, uVar4, uVar10, uParm6,
				    uParm7, uParm8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8,
				    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8, in_stack_ffffffec, in_stack_fffffff0, in_stack_fffffff4);
				msg_free_packets(uVar5, (undefined)uVar6, uVar8, uVar9, uVar11, uVar12, uVar13, uVar14,
				    in_stack_ffffffc8);
				uVar3 = 0;
			}
		} else {
			uVar5 = DrawDlg(*(undefined4 *)(local_2c + -0x5c74), uVar6, uVar7, uVar4, uVar10, uParm6,
			    uParm7, uParm8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8,
			    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8,
			    in_stack_ffffffec, in_stack_fffffff0, in_stack_fffffff4);
			msg_free_packets(uVar5, (undefined)uVar6, uVar8, uVar9, uVar11, uVar12, uVar13, uVar14, in_stack_ffffffc8);
			uVar3 = 0;
		}
	}
	return uVar3;
}

void msg_process_net_packets(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	ulonglong uVar2;
	undefined uVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined4 in_stack_ffffffc8;

	puVar1 = _DAT_100f1d14;
	uVar7 = (undefined)param_5;
	uVar6 = (undefined)param_4;
	uVar5 = (undefined)param_3;
	uVar4 = (undefined)param_2;
	uVar10 = (undefined)param_8;
	uVar9 = (undefined)param_7;
	uVar8 = (undefined)param_6;
	uVar2 = ZEXT48(PTR_DAT_100f17e0);
	if (*PTR_DAT_100f17e0 != '\x01') {
		*_DAT_100f1d14 = 2;
		uVar3 = msg_pre_packet(uVar2, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
		*puVar1 = 0;
		msg_free_packets(uVar3, uVar4, uVar5, uVar6, uVar7, uVar8, uVar9, uVar10, in_stack_ffffffc8);
	}
	return;
}

undefined *
FUN_10079154(undefined *param_1, char *param_2, undefined param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	longlong lVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	undefined *puVar7;
	longlong lVar6;
	longlong lVar8;
	int iVar9;
	undefined in_stack_ffffffbb;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	lVar5 = (longlong)param_8;
	lVar4 = (longlong)param_7;
	lVar3 = (longlong)param_6;
	lVar2 = (longlong)param_5;
	lVar1 = (longlong)param_4;
	lVar8 = (longlong)(int)param_2;
	lVar6 = (longlong)(int)param_1;
	iVar9 = 0;
	do {
		puVar7 = (undefined *)lVar6;
		if (*(char *)lVar8 == -1) {
			*puVar7 = 0xff;
			lVar6 = lVar6 + 1;
		} else {
			memcpy((char)lVar6, (char)lVar8, 0x16, (char)lVar1, (char)lVar2, (char)lVar3, (char)lVar4,
			    (char)lVar5, in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
			*(ushort *)(puVar7 + 3) = CONCAT11(puVar7[4], puVar7[3]);
			*(ushort *)(puVar7 + 5) = CONCAT11(puVar7[6], puVar7[5]);
			*(uint *)(puVar7 + 7) = (uint)(byte)puVar7[10] << 0x18 | (uint)(byte)puVar7[9] << 0x10 | (uint)(byte)puVar7[8] << 8 | (uint)(byte)puVar7[7];
			*(ushort *)(puVar7 + 0x10) = CONCAT11(puVar7[0x11], puVar7[0x10]);
			*(uint *)(puVar7 + 0x12) = (uint)(byte)puVar7[0x15] << 0x18 | (uint)(byte)puVar7[0x14] << 0x10 | (uint)(byte)puVar7[0x13] << 8 | (uint)(byte)puVar7[0x12];
			lVar6 = lVar6 + 0x16;
		}
		iVar9 = iVar9 + 1;
		lVar8 = lVar8 + 0x16;
	} while (iVar9 < 0x7f);
	return (undefined *)lVar6;
}

char *FUN_10079224(char *param_1, int param_2, undefined param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	int iVar9;
	undefined in_stack_ffffffbb;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	lVar6 = (longlong)param_8;
	lVar5 = (longlong)param_7;
	lVar4 = (longlong)param_6;
	lVar3 = (longlong)param_5;
	lVar2 = (longlong)param_4;
	lVar8 = (longlong)param_2;
	lVar7 = (longlong)(int)param_1;
	iVar9 = 0;
	do {
		if (*(char *)lVar7 == -1) {
			memset((char)lVar8, 0x16, 0xff, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6,
			    in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
			lVar7 = lVar7 + 1;
		} else {
			memcpy((char)lVar8, (char)lVar7, 0x16, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5,
			    (char)lVar6, in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
			iVar1 = (int)lVar8;
			*(undefined2 *)(iVar1 + 3) = CONCAT11(*(undefined *)(iVar1 + 4), *(undefined *)(iVar1 + 3));
			*(undefined2 *)(iVar1 + 5) = CONCAT11(*(undefined *)(iVar1 + 6), *(undefined *)(iVar1 + 5));
			*(uint *)(iVar1 + 7) = (uint) * (byte *)(iVar1 + 10) << 0x18 | (uint) * (byte *)(iVar1 + 9) << 0x10 | (uint) * (byte *)(iVar1 + 8) << 8 | (uint) * (byte *)(iVar1 + 7);
			*(undefined2 *)(iVar1 + 0x10) = CONCAT11(*(undefined *)(iVar1 + 0x11), *(undefined *)(iVar1 + 0x10));
			lVar7 = lVar7 + 0x16;
			*(uint *)(iVar1 + 0x12) = (uint) * (byte *)(iVar1 + 0x15) << 0x18 | (uint) * (byte *)(iVar1 + 0x14) << 0x10 | (uint) * (byte *)(iVar1 + 0x13) << 8 | (uint) * (byte *)(iVar1 + 0x12);
		}
		iVar9 = iVar9 + 1;
		lVar8 = lVar8 + 0x16;
	} while (iVar9 < 0x7f);
	return (char *)lVar7;
}

longlong FUN_10079300(longlong param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	memcpy((char)param_1, param_2, 0x7f, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffcb,
	    in_stack_ffffffcf, local_2c);
	return param_1 + 0x7f;
}

longlong FUN_10079338(longlong param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	memcpy(param_2, (char)param_1, 0x7f, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffcb,
	    in_stack_ffffffcf, local_2c);
	return param_1 + 0x7f;
}

undefined *
FUN_10079378(undefined *param_1, char *param_2, undefined param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	longlong lVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	undefined *puVar7;
	longlong lVar6;
	longlong lVar8;
	int iVar9;
	undefined in_stack_ffffffbb;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	lVar5 = (longlong)param_8;
	lVar4 = (longlong)param_7;
	lVar3 = (longlong)param_6;
	lVar2 = (longlong)param_5;
	lVar1 = (longlong)param_4;
	lVar8 = (longlong)(int)param_2;
	lVar6 = (longlong)(int)param_1;
	iVar9 = 0;
	do {
		puVar7 = (undefined *)lVar6;
		if (*(char *)lVar8 == -1) {
			*puVar7 = 0xff;
			lVar6 = lVar6 + 1;
		} else {
			memcpy((char)lVar6, (char)lVar8, 9, (char)lVar1, (char)lVar2, (char)lVar3, (char)lVar4,
			    (char)lVar5, in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
			*(uint *)(puVar7 + 5) = (uint)(byte)puVar7[8] << 0x18 | (uint)(byte)puVar7[7] << 0x10 | (uint)(byte)puVar7[6] << 8 | (uint)(byte)puVar7[5];
			lVar6 = lVar6 + 9;
		}
		iVar9 = iVar9 + 1;
		lVar8 = lVar8 + 9;
	} while (iVar9 < 200);
	return (undefined *)lVar6;
}

char *FUN_10079414(char *param_1, int param_2, undefined param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	int iVar9;
	undefined in_stack_ffffffbb;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	lVar6 = (longlong)param_8;
	lVar5 = (longlong)param_7;
	lVar4 = (longlong)param_6;
	lVar3 = (longlong)param_5;
	lVar2 = (longlong)param_4;
	lVar8 = (longlong)param_2;
	lVar7 = (longlong)(int)param_1;
	iVar9 = 0;
	do {
		if (*(char *)lVar7 == -1) {
			memset((char)lVar8, 9, 0xff, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6,
			    in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
			lVar7 = lVar7 + 1;
		} else {
			memcpy((char)lVar8, (char)lVar7, 9, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5,
			    (char)lVar6, in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
			iVar1 = (int)lVar8;
			lVar7 = lVar7 + 9;
			*(uint *)(iVar1 + 5) = (uint) * (byte *)(iVar1 + 8) << 0x18 | (uint) * (byte *)(iVar1 + 7) << 0x10 | (uint) * (byte *)(iVar1 + 6) << 8 | (uint) * (byte *)(iVar1 + 5);
		}
		iVar9 = iVar9 + 1;
		lVar8 = lVar8 + 9;
	} while (iVar9 < 200);
	return (char *)lVar7;
}

undefined *
FUN_100794b4(undefined *param_1, undefined param_2, undefined param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	undefined **ppuVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	int iVar9;
	ulonglong uVar10;
	ulonglong uVar11;
	undefined *puVar12;
	undefined *puVar13;
	undefined in_stack_ffffffbb;
	undefined in_stack_ffffffbf;
	undefined **local_3c;

	lVar7 = (longlong)param_8;
	lVar6 = (longlong)param_7;
	lVar5 = (longlong)param_6;
	lVar4 = (longlong)param_5;
	lVar3 = (longlong)param_4;
	lVar8 = (longlong)(int)param_1;
	ppuVar2 = &toc;
	uVar10 = ZEXT48(PTR_DAT_100f3354);
	iVar9 = 0;
	uVar11 = uVar10;
	do {
		if (*(char *)uVar11 == -1) {
			*(undefined *)lVar8 = 0xff;
			lVar8 = lVar8 + 1;
		} else {
			ppuVar2 = local_3c;
			memcpy((char)lVar8, (char)uVar11, 5, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6,
			    (char)lVar7, in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
			lVar8 = lVar8 + 5;
			local_3c = ppuVar2;
		}
		iVar9 = iVar9 + 1;
		uVar11 = uVar11 + 5;
	} while (iVar9 < 4);
	puVar12 = ppuVar2[-0x1c1b];
	iVar9 = 0;
	puVar13 = ppuVar2[-0x1d81];
	do {
		if ((*(uint *)(puVar12 + 8) & 1) != 0) {
			iVar1 = (int)uVar10;
			*(undefined *)(iVar1 + 0x15) = (char)*(undefined4 *)(puVar13 + 0x14);
			*(undefined *)(iVar1 + 0x14) = puVar13[2];
			*(undefined *)(iVar1 + 0x16) = puVar13[0xf];
			memcpy((char)lVar8, (char)uVar10 + '\x14', 3, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7, in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
			lVar8 = lVar8 + 3;
			uVar10 = uVar10 + 3;
		}
		iVar9 = iVar9 + 1;
		puVar13 = puVar13 + 0x18;
		puVar12 = puVar12 + 0x14;
	} while (iVar9 < 0x10);
	return (undefined *)lVar8;
}

void FUN_10079590(char *param_1, undefined param_2, undefined param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	int iVar2;
	ulonglong uVar3;
	ulonglong uVar4;
	ulonglong uVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	int iVar9;
	byte *pbVar11;
	ulonglong uVar10;
	int iVar12;
	ulonglong uVar13;
	undefined in_stack_ffffffbb;
	undefined in_stack_ffffffbf;
	int local_3c;

	lVar7 = (longlong)param_8;
	lVar6 = (longlong)param_7;
	uVar5 = SEXT18(param_6);
	uVar4 = SEXT18(param_5);
	uVar3 = SEXT18(param_4);
	lVar8 = (longlong)(int)param_1;
	iVar12 = 0;
	uVar13 = ZEXT48(PTR_DAT_100f3354);
	uVar10 = uVar13;
	do {
		iVar2 = local_3c;
		if (*(char *)lVar8 == -1) {
			memset((char)uVar10, 5, 0xff, (char)uVar3, (char)uVar4, (char)uVar5, (char)lVar6, (char)lVar7,
			    in_stack_ffffffbb, in_stack_ffffffbf, iVar2);
			lVar8 = lVar8 + 1;
			uVar3 = 0;
			uVar4 = 0;
			uVar5 = 0;
			local_3c = iVar2;
			FUN_1009b2c0(iVar12, 0, 0, 0, 0, 0);
		} else {
			memcpy((char)uVar10, (char)lVar8, 5, (char)uVar3, (char)uVar4, (char)uVar5, (char)lVar6,
			    (char)lVar7, in_stack_ffffffbb, in_stack_ffffffbf, iVar2);
			pbVar11 = (byte *)uVar10;
			uVar3 = (ulonglong)pbVar11[1];
			uVar4 = (ulonglong)pbVar11[2];
			uVar5 = (ulonglong)pbVar11[3];
			lVar8 = lVar8 + 5;
			local_3c = iVar2;
			FUN_1009b2c0(iVar12, 1, (uint)*pbVar11, (uint)pbVar11[1], (uint)pbVar11[2], (uint)pbVar11[3]);
		}
		iVar12 = iVar12 + 1;
		uVar10 = uVar10 + 5;
	} while (iVar12 < 4);
	iVar12 = *(int *)(iVar2 + -0x706c);
	iVar2 = *(int *)(iVar2 + -0x7604);
	iVar9 = 0;
	do {
		if ((*(uint *)(iVar12 + 8) & 1) != 0) {
			memcpy((char)uVar13 + '\x14', (char)lVar8, 3, (char)uVar3, (char)uVar4, (char)uVar5, (char)lVar6, (char)lVar7, in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
			iVar1 = (int)uVar13;
			lVar8 = lVar8 + 3;
			*(uint *)(iVar2 + 0x14) = (uint) * (byte *)(iVar1 + 0x15);
			*(undefined *)(iVar2 + 2) = *(undefined *)(iVar1 + 0x14);
			uVar13 = uVar13 + 3;
			*(undefined *)(iVar2 + 0xf) = *(undefined *)(iVar1 + 0x16);
		}
		iVar9 = iVar9 + 1;
		iVar2 = iVar2 + 0x18;
		iVar12 = iVar12 + 0x14;
	} while (iVar9 < 0x10);
	return;
}

longlong FUN_100796bc(longlong param_1, longlong param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	ulonglong uVar2;
	undefined4 in_stack_ffffffc8;

	uVar2 = (param_2 - param_1) - 1;
	uVar1 = PkwareCompress((char *)param_1 + 1, uVar2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	*(char *)param_1 = '\x01' - (uVar1 == uVar2);
	return uVar1 + 1;
}

void FUN_10079714(undefined4 param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined **ppuVar1;
	longlong lVar2;
	undefined *puVar5;
	longlong lVar3;
	longlong lVar4;
	ulonglong uVar6;
	char cVar7;
	undefined uVar8;
	undefined uVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	longlong lVar14;
	undefined4 in_stack_ffffffa8;

	lVar13 = (longlong)param_8;
	lVar12 = (longlong)param_7;
	lVar11 = (longlong)param_6;
	lVar10 = (longlong)param_5;
	lVar4 = (longlong)param_4;
	lVar3 = (longlong)param_3;
	ppuVar1 = &toc;
	if (DAT_100f42a0 != '\0') {
		lVar2 = DiabloAllocPtr(0x1272, param_2);
		lVar2._7_1_ = (undefined)lVar2;
		lVar14 = 0;
		uVar6 = ZEXT48(ppuVar1[-0x1720]);
		do {
			uVar8 = (undefined)lVar3;
			uVar9 = (undefined)lVar4;
			puVar5 = FUN_10079154((undefined *)((int)lVar2 + 1), (char *)uVar6, uVar8, uVar9, (char)lVar10,
			    (char)lVar11, (char)lVar12, (char)lVar13, in_stack_ffffffa8);
			lVar3 = FUN_10079300((longlong)(int)puVar5, (char)uVar6 + -0x16, uVar8, uVar9, (char)lVar10,
			    (char)lVar11, (char)lVar12, (char)lVar13, in_stack_ffffffa8);
			puVar5 = FUN_10079378((undefined *)lVar3, (char *)uVar6 + 0xb69, uVar8, uVar9, (char)lVar10,
			    (char)lVar11, (char)lVar12, (char)lVar13, in_stack_ffffffa8);
			lVar4 = FUN_100796bc(lVar2, (longlong)(int)puVar5, uVar8, uVar9, (char)lVar10, (char)lVar11,
			    (char)lVar12, (char)lVar13, in_stack_ffffffa8);
			cVar7 = (char)lVar14 + ':';
			lVar3 = lVar2;
			dthread_send_delta(param_1, cVar7, lVar2, lVar4, (char)lVar10, (char)lVar11, (char)lVar12, (char)lVar13,
			    in_stack_ffffffa8);
			param_8 = (char)lVar13;
			param_7 = (char)lVar12;
			param_6 = (char)lVar11;
			param_5 = (char)lVar10;
			uVar9 = (undefined)lVar4;
			uVar8 = (undefined)lVar3;
			lVar14 = lVar14 + 1;
			uVar6 = uVar6 + 0x1271;
		} while ((int)lVar14 < 0x11);
		puVar5 = FUN_100794b4((undefined *)((int)lVar2 + 1), cVar7, uVar8, uVar9, param_5, param_6, param_7,
		    param_8, in_stack_ffffffa8);
		lVar3 = FUN_100796bc(lVar2, (longlong)(int)puVar5, uVar8, uVar9, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8);
		uVar8 = (undefined)lVar3;
		uVar9 = 0x4b;
		dthread_send_delta(param_1, 0x4b, lVar2, lVar3, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
		mem_free_dbg(lVar2, uVar9, (undefined)lVar2, uVar8, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8);
	}
	dthread_send_delta(param_1, 0x4c, ZEXT48(register0x0000000c) - 0x28, 1, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	return;
}

void FUN_10079800(byte param_1, longlong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	char *pcVar2;
	int iVar3;
	undefined uVar4;
	undefined7 uVar5;
	undefined uVar6;
	undefined7 uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	longlong lVar12;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	pcVar2 = _DAT_100f334c;
	uVar7 = (undefined7)((ulonglong)param_5 >> 8);
	uVar8 = (undefined)param_5;
	uVar5 = (undefined7)((ulonglong)param_4 >> 8);
	uVar6 = (undefined)param_4;
	ppuVar1 = &toc;
	if (*_DAT_100f334c != '\0') {
		param_3 = 0x1271;
		ppuVar1 = &toc;
		FUN_1003cd04(_DAT_100f334c + 1, (int)param_2, 0x1271, uVar6, uVar8, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffffc8);
	}
	uVar4 = (undefined)param_3;
	uVar9 = (undefined)param_6;
	uVar10 = (undefined)param_7;
	uVar11 = (undefined)param_8;
	if (param_1 == 0x4b) {
		FUN_10079590(pcVar2 + 1, (char)param_2, uVar4, uVar6, uVar8, uVar9, uVar10, uVar11, in_stack_ffffffc8);
	} else {
		if ((param_1 < 0x3a) || (0x4a < param_1)) {
			app_fatal((int)ppuVar1[-0x1722], param_2, param_3, CONCAT71(uVar5, uVar6), CONCAT71(uVar7, uVar8), param_6, param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8,
			    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8,
			    in_stack_ffffffec, in_stack_fffffff0, in_stack_fffffff4);
		} else {
			lVar12 = ZEXT48(ppuVar1[-0x1720]) + (ulonglong)((int)(char)param_1 - 0x3aU & 0xff) * 0x1271;
			iVar3 = (int)lVar12;
			pcVar2 = FUN_10079224(pcVar2 + 1, iVar3, uVar4, uVar6, uVar8, uVar9, uVar10, uVar11, in_stack_ffffffc8);
			lVar12 = FUN_10079338((longlong)(int)pcVar2, (char)lVar12 + -0x16, uVar4, uVar6, uVar8, uVar9,
			    uVar10, uVar11, in_stack_ffffffc8);
			FUN_10079414((char *)lVar12, iVar3 + 0xb69, uVar4, uVar6, uVar8, uVar9, uVar10, uVar11,
			    in_stack_ffffffc8);
		}
	}
	*(undefined *)(ppuVar1 + -0x134c) = 1;
	*(char *)((int)ppuVar1 + -0x4d2f) = *(char *)((int)ppuVar1 + -0x4d2f) + '\x01';
	return;
}

longlong FUN_100798c0(undefined8 param_1, byte *param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	ulonglong uVar2;
	undefined uVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined4 in_stack_ffffffc8;
	undefined uVar8;
	undefined in_stack_ffffffcf;
	int local_2c;

	uVar8 = (undefined)in_stack_ffffffc8;
	uVar4 = (undefined)param_5;
	uVar3 = (undefined)param_4;
	uVar7 = (undefined)param_8;
	uVar6 = (undefined)param_7;
	uVar5 = (undefined)param_6;
	ppuVar1 = &toc;
	uVar2 = ZEXT48(_DAT_100f1f68);
	if ((uint)*_DAT_100f1f68 != (uint)param_1) {
		if ((*param_2 != 0x4c) && ((*param_2 != 0x3a || (*(short *)(param_2 + 1) != 0)))) {
			return (ulonglong) * (ushort *)(param_2 + 3) + 5;
		}
		*_DAT_100f1f68 = (byte)param_1;
		DAT_100f42a8 = 0x4c;
	}
	if (DAT_100f42a8 == 0x4c) {
		if (*param_2 == 0x4c) {
			DAT_100f42a1 = 0x14;
			return (ulonglong) * (ushort *)(param_2 + 3) + 5;
		}
		if ((*param_2 != 0x3a) || (*(short *)(param_2 + 1) != 0)) {
			return (ulonglong) * (ushort *)(param_2 + 3) + 5;
		}
		_DAT_100f42a4 = 0;
		DAT_100f42a8 = *param_2;
	} else {
		if (DAT_100f42a8 != *param_2) {
			ppuVar1 = &toc;
			FUN_10079800(DAT_100f42a8, (ulonglong)_DAT_100f42a4, uVar2, param_4, param_5, param_6, param_7,
			    param_8, in_stack_ffffffc8);
			if (*param_2 == 0x4c) {
				*(undefined *)((int)ppuVar1 + -0x4d2f) = 0x14;
				*(undefined *)(ppuVar1 + -0x134a) = 0x4c;
				return (ulonglong) * (ushort *)(param_2 + 3) + 5;
			}
			ppuVar1[-0x134b] = (undefined *)0x0;
			*(byte *)(ppuVar1 + -0x134a) = *param_2;
		}
	}
	memcpy((char)ppuVar1[-0x1721] + (char)*(undefined2 *)(param_2 + 1), (char)param_2 + '\x05',
	    (char)*(undefined2 *)(param_2 + 3), uVar3, uVar4, uVar5, uVar6, uVar7, uVar8,
	    in_stack_ffffffcf, local_2c);
	*(int *)(local_2c + -0x4d2c) = *(int *)(local_2c + -0x4d2c) + (uint) * (ushort *)(param_2 + 3);
	return (ulonglong) * (ushort *)(param_2 + 3) + 5;
}

void delta_init(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined uVar1;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	int local_2c;

	DAT_100f42a0 = 0;
	memset((char)PTR_DAT_100f3354, 0x20, 0xff, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	uVar1 = 0xff;
	memset((char)*(undefined4 *)(local_2c + -0x5c80), 0x81, 0xff, param_4, param_5, param_6, param_7,
	    param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	memset((char)*(undefined4 *)(local_2c + -0x5c8c), 0x40, uVar1, param_4, param_5, param_6, param_7,
	    param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	**(undefined4 **)(local_2c + -0x7070) = 0;
	return;
}

void FUN_10079a80(int param_1, undefined param_2, undefined param_3, uint param_4)

{
	undefined *puVar1;
	undefined *puVar2;

	puVar1 = PTR_DAT_100f187c;
	if (*PTR_DAT_100f17e0 == '\x01') {
		return;
	}
	DAT_100f42a0 = 1;
	puVar2 = (undefined *)(_DAT_100f3350 + (param_4 & 0xff) * 0x1271 + param_1 * 9 + 0xb69);
	*puVar2 = param_2;
	puVar2[1] = param_3;
	puVar2[2] = (char)*(undefined4 *)(puVar1 + param_1 * 0xe8 + 0x48);
	*(undefined4 *)(puVar2 + 5) = 0;
	return;
}

void delta_monster_hp(int param_1, int param_2, uint param_3)

{
	int iVar1;

	if (*PTR_DAT_100f17e0 == '\x01') {
		return;
	}
	DAT_100f42a0 = 1;
	iVar1 = _DAT_100f3350 + (param_3 & 0xff) * 0x1271 + param_1 * 9 + 0xb69;
	if (*(int *)(iVar1 + 5) <= param_2) {
		DAT_100f42a0 = 1;
		return;
	}
	*(int *)(iVar1 + 5) = param_2;
	return;
}

void FUN_10079b24(byte *param_1, uint param_2)

{
	byte *pbVar1;

	if (*PTR_DAT_100f17e0 == '\x01') {
		return;
	}
	DAT_100f42a0 = 1;
	pbVar1 = (byte *)(_DAT_100f3350 + (param_2 & 0xff) * 0x1271 + (uint)*param_1 * 9 + 0xb69);
	if (*(int *)(pbVar1 + 5) == 0) {
		DAT_100f42a0 = 1;
		return;
	}
	*pbVar1 = param_1[1];
	pbVar1[1] = param_1[2];
	pbVar1[4] = 0xff;
	pbVar1[3] = param_1[3];
	return;
}

void FUN_10079b8c(int param_1, int param_2, uint param_3)

{
	undefined *puVar1;

	if (*PTR_DAT_100f17e0 == '\x01') {
		return;
	}
	DAT_100f42a0 = 1;
	puVar1 = (undefined *)(_DAT_100f3350 + (param_3 & 0xff) * 0x1271 + param_2 * 9 + 0xb69);
	*puVar1 = *(undefined *)(param_1 + 1);
	puVar1[1] = *(undefined *)(param_1 + 2);
	puVar1[4] = 0xff;
	puVar1[3] = *(undefined *)(param_1 + 4);
	puVar1[2] = *(undefined *)(param_1 + 3);
	*(undefined4 *)(puVar1 + 5) = *(undefined4 *)(param_1 + 5);
	return;
}

void FUN_10079bf4(uint param_1, undefined param_2, undefined param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	int iVar2;
	int iVar3;
	undefined *puVar4;
	undefined *puVar5;
	ulonglong uVar6;
	undefined4 uVar8;
	ulonglong uVar7;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	undefined *puVar14;
	undefined *puVar15;
	int iVar16;
	int *piVar17;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 local_4c;

	puVar5 = PTR_DAT_100f19a4;
	puVar4 = PTR_DAT_100f187c;
	puVar14 = PTR_DAT_100f17ec;
	lVar13 = (longlong)param_8;
	lVar12 = (longlong)param_7;
	lVar11 = (longlong)param_6;
	lVar10 = (longlong)param_5;
	lVar9 = (longlong)param_4;
	uVar6 = ZEXT48(&toc);
	if (*PTR_DAT_100f17e0 != '\x01') {
		if (*PTR_DAT_100f17ec == '\0') {
			uVar8 = GetRndSeed((char)param_1, (char)PTR_DAT_100f17e0, param_3, param_4, param_5, param_6,
			    param_7, param_8, in_stack_ffffffa8);
			**(undefined4 **)((int)uVar6 + -0x75ec) = uVar8;
		}
		if (*puVar14 != '\0') {
			iVar1 = *(int *)((int)uVar6 + -0x5c80);
			piVar17 = *(int **)((int)uVar6 + -0x7628);
			iVar16 = 0;
			while (iVar3 = (int)uVar6, iVar16 < *(int *)puVar5) {
				iVar2 = *piVar17;
				if (*(int *)(puVar4 + iVar2 * 0xe8 + 0x98) != 0) {
					puVar15 = puVar4 + iVar2 * 0xe8;
					*(undefined *)(iVar3 + -0x4d30) = 1;
					puVar14 = (undefined *)(iVar1 + (param_1 & 0xff) * 0x1271 + iVar2 * 9 + 0xb69);
					*puVar14 = (char)*(undefined4 *)(puVar15 + 0x20);
					puVar14[1] = (char)*(undefined4 *)(puVar15 + 0x24);
					puVar14[2] = (char)*(undefined4 *)(puVar15 + 0x48);
					uVar7 = FUN_10076cd0(iVar2);
					puVar14[3] = (char)uVar7;
					*(undefined4 *)(puVar14 + 5) = *(undefined4 *)(puVar15 + 0x98);
					puVar14[4] = puVar15[0xa4];
				}
				piVar17 = piVar17 + 1;
				iVar16 = iVar16 + 1;
			}
			memcpy((char)*(undefined4 *)(iVar3 + -0x5c8c) + (char)(param_1 & 0xff) * '@',
			    (char)*(undefined4 *)(iVar3 + -0x7798), 0x40, (char)lVar9, (char)lVar10, (char)lVar11,
			    (char)lVar12, (char)lVar13, (char)in_stack_ffffffa8, in_stack_ffffffaf, local_4c);
		}
	}
	return;
}

void FUN_10079d08(int param_1, undefined param_2, uint param_3)

{
	if (*PTR_DAT_100f17e0 == '\x01') {
		return;
	}
	DAT_100f42a0 = 1;
	*(undefined *)(_DAT_100f3350 + (param_3 & 0xff) * 0x1271 + param_1 + 0xaea) = param_2;
	return;
}

undefined8
delta_get_item(int param_1, uint param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	byte bVar1;
	undefined **ppuVar2;
	undefined8 uVar3;
	byte *pbVar4;
	longlong lVar5;
	char *pcVar6;
	longlong lVar7;
	longlong lVar8;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	ppuVar2 = &toc;
	if (*PTR_DAT_100f17e0 == '\x01') {
		uVar3 = 1;
	} else {
		lVar5 = (ulonglong)_DAT_100f3350 + (ulonglong)(param_2 & 0xff) * 0x1271;
		lVar7 = 0x7f;
		lVar8 = lVar5;
		do {
			pbVar4 = (byte *)lVar8;
			bVar1 = *pbVar4;
			if ((((bVar1 != 0xff) && (*(short *)(pbVar4 + 3) == *(short *)(param_1 + 7))) && (*(short *)(pbVar4 + 5) == *(short *)(param_1 + 9))) && (*(int *)(pbVar4 + 7) == *(int *)(param_1 + 0xb))) {
				if (bVar1 == 1) {
					return 1;
				}
				if (bVar1 == 0) {
					DAT_100f42a0 = 1;
					*pbVar4 = 1;
					return 1;
				}
				if (bVar1 == 2) {
					DAT_100f42a0 = 1;
					*pbVar4 = 0xff;
					return 1;
				}
				ppuVar2 = &toc;
				app_fatal((int)PTR_s_delta_1_100f3340, (ulonglong)bVar1, lVar8, param_4, param_5, param_6,
				    param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8,
				    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8,
				    in_stack_ffffffec, in_stack_fffffff0, in_stack_fffffff4);
				break;
			}
			lVar8 = lVar8 + 0x16;
			lVar7 = lVar7 + -1;
		} while (lVar7 != 0);
		if ((*(ushort *)(param_1 + 9) & 0x8000) == 0) {
			uVar3 = 0;
		} else {
			lVar8 = 0x7f;
			do {
				pcVar6 = (char *)lVar5;
				if (*pcVar6 == -1) {
					*(undefined *)(ppuVar2 + -0x134c) = 1;
					*pcVar6 = '\x01';
					pcVar6[1] = *(char *)(param_1 + 5);
					pcVar6[2] = *(char *)(param_1 + 6);
					*(undefined2 *)(pcVar6 + 3) = *(undefined2 *)(param_1 + 7);
					*(undefined2 *)(pcVar6 + 5) = *(undefined2 *)(param_1 + 9);
					*(undefined4 *)(pcVar6 + 7) = *(undefined4 *)(param_1 + 0xb);
					pcVar6[0xb] = *(char *)(param_1 + 0xf);
					pcVar6[0xc] = *(char *)(param_1 + 0x10);
					pcVar6[0xd] = *(char *)(param_1 + 0x11);
					pcVar6[0xe] = *(char *)(param_1 + 0x12);
					pcVar6[0xf] = *(char *)(param_1 + 0x13);
					*(undefined2 *)(pcVar6 + 0x10) = *(undefined2 *)(param_1 + 0x14);
					*(undefined4 *)(pcVar6 + 0x12) = *(undefined4 *)(param_1 + 0x16);
					return 1;
				}
				lVar5 = lVar5 + 0x16;
				lVar8 = lVar8 + -1;
			} while (lVar8 != 0);
			uVar3 = 1;
		}
	}
	return uVar3;
}

void delta_put_item(int param_1, byte param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    int param_6, int param_7, int param_8, undefined4 param_9)

{
	byte bVar1;
	undefined *puVar2;
	ulonglong uVar3;
	undefined8 uVar4;
	ulonglong uVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	int iVar9;
	byte *pbVar11;
	longlong lVar10;
	longlong lVar12;
	char *pcVar13;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 local_4c;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar2 = PTR_s_Trying_to_drop_a_floor_item__100f333c;
	lVar8 = (longlong)param_8;
	lVar7 = (longlong)param_7;
	lVar6 = (longlong)param_6;
	uVar3 = ZEXT48(&toc);
	uVar5 = ZEXT48(PTR_DAT_100f17e0);
	if (*PTR_DAT_100f17e0 != '\x01') {
		lVar12 = (ulonglong)_DAT_100f3350 + (ulonglong)((uint)param_4 & 0xff) * 0x1271;
		iVar9 = 0;
		uVar4 = param_3;
		lVar10 = lVar12;
		do {
			pbVar11 = (byte *)lVar10;
			bVar1 = *pbVar11;
			if ((((bVar1 != 1) && (bVar1 != 0xff)) && (*(short *)(pbVar11 + 3) == *(short *)(param_1 + 3))) && ((*(short *)(pbVar11 + 5) == *(short *)(param_1 + 5) && (*(int *)(pbVar11 + 7) == *(int *)(param_1 + 7))))) {
				if (bVar1 == 2) {
					return;
				}
				app_fatal((int)puVar2, (ulonglong)bVar1, uVar4, param_4, uVar5, (int)lVar6, (int)lVar7,
				    (int)lVar8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffb8,
				    in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4, in_stack_ffffffc8,
				    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
			}
			iVar9 = iVar9 + 1;
			lVar10 = lVar10 + 0x16;
		} while (iVar9 < 0x7f);
		lVar10 = 0x7f;
		do {
			pcVar13 = (char *)lVar12;
			if (*pcVar13 == -1) {
				*(undefined *)((int)uVar3 + -0x4d30) = 1;
				memcpy((char)lVar12, (char)param_1, 0x16, (char)param_4, (char)uVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)in_stack_ffffffa8, in_stack_ffffffaf, local_4c);
				*pcVar13 = '\x02';
				pcVar13[1] = param_2;
				pcVar13[2] = (char)param_3;
				return;
			}
			lVar12 = lVar12 + 0x16;
			lVar10 = lVar10 + -1;
		} while (lVar10 != 0);
	}
	return;
}

undefined8 delta_portal_inited(int param_1)

{
	if (PTR_DAT_100f3354[param_1 * 5] == -1) {
		return 1;
	}
	return 0;
}

undefined8 delta_quest_inited(int param_1)

{
	if (PTR_DAT_100f3354[param_1 * 3 + 0x14] == -1) {
		return 0;
	}
	return 1;
}

void FUN_1007a03c(int param_1)

{
	char cVar1;
	undefined *puVar2;
	longlong lVar3;
	int *piVar4;
	char *pcVar6;
	longlong lVar5;
	longlong lVar7;

	if (*PTR_DAT_100f17e0 == '\x01') {
		return;
	}
	piVar4 = (int *)(PTR_DAT_100f1940 + param_1 * 0x170);
	lVar3 = (ulonglong)_DAT_100f3350 + (ulonglong)(byte)*PTR_DAT_100f17ec * 0x1271;
	lVar7 = 0x7f;
	lVar5 = lVar3;
	do {
		pcVar6 = (char *)lVar5;
		cVar1 = *pcVar6;
		if ((((cVar1 != -1) && ((uint) * (ushort *)(pcVar6 + 3) == piVar4[0x5a])) && (*(short *)(pcVar6 + 5) == *(short *)(piVar4 + 1))) && (*(int *)(pcVar6 + 7) == *piVar4)) {
			if (cVar1 == '\x01') {
				return;
			}
			if (cVar1 == '\0') {
				return;
			}
		}
		lVar5 = lVar5 + 0x16;
		lVar7 = lVar7 + -1;
		if (lVar7 == 0) {
			lVar5 = 0x7f;
			do {
				pcVar6 = (char *)lVar3;
				if (*pcVar6 == -1) {
					puVar2 = PTR_DAT_100f1940 + param_1 * 0x170;
					DAT_100f42a0 = 1;
					*pcVar6 = '\0';
					pcVar6[1] = (char)*(undefined4 *)(puVar2 + 0xc);
					pcVar6[2] = (char)*(undefined4 *)(puVar2 + 0x10);
					*(short *)(pcVar6 + 3) = (short)*(undefined4 *)(puVar2 + 0x168);
					*(undefined2 *)(pcVar6 + 5) = *(undefined2 *)(puVar2 + 4);
					*(int *)(pcVar6 + 7) = *piVar4;
					pcVar6[0xb] = (char)*(undefined4 *)(puVar2 + 0x38);
					pcVar6[0xc] = (char)*(undefined4 *)(puVar2 + 0xec);
					pcVar6[0xd] = (char)*(undefined4 *)(puVar2 + 0xf0);
					pcVar6[0xe] = (char)*(undefined4 *)(puVar2 + 0xe4);
					pcVar6[0xf] = (char)*(undefined4 *)(puVar2 + 0xe8);
					*(short *)(pcVar6 + 0x10) = (short)*(undefined4 *)(puVar2 + 0xc4);
					return;
				}
				lVar3 = lVar3 + 0x16;
				lVar5 = lVar5 + -1;
			} while (lVar5 != 0);
			return;
		}
	} while (true);
}

void FUN_1007a15c(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	byte bVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	ulonglong uVar5;
	longlong lVar6;
	undefined4 in_stack_ffffffc8;

	puVar4 = PTR_DAT_100f1828;
	puVar3 = PTR_DAT_100f1824;
	uVar5 = ZEXT48(PTR_DAT_100f1828);
	if (*PTR_DAT_100f17e0 != '\x01') {
		iVar2 = *(int *)PTR_DAT_100f1824;
		if (iVar2 != 0) {
			*(undefined4 *)(PTR_DAT_100f1828 + 0x214) = 0;
		}
		if (iVar2 != 1) {
			*(undefined4 *)(puVar4 + 0x5800) = 0;
		}
		if (iVar2 != 2) {
			*(undefined4 *)(puVar4 + 0xadec) = 0;
		}
		if (iVar2 != 3) {
			*(undefined4 *)(puVar4 + 0x103d8) = 0;
		}
		bVar1 = *PTR_DAT_100f17ec;
		lVar6 = uVar5 + (ulonglong) * (uint *)puVar3 * 0x55ec + (ulonglong)bVar1;
		*(undefined *)((int)lVar6 + 0x1f0) = 1;
		FUN_10079bf4((uint)bVar1, (char)lVar6, 1, (char)iVar2, 3, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return;
}

void DeltaLoadLevel(undefined8 param_1, undefined8 param_2, ulonglong param_3, ulonglong param_4,
    longlong param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	byte bVar1;
	byte bVar2;
	uint uVar3;
	int iVar4;
	undefined *puVar5;
	bool bVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	uint *puVar11;
	uint uVar12;
	ulonglong uVar13;
	int iVar15;
	undefined8 uVar14;
	char *pcVar16;
	ulonglong uVar17;
	int *piVar18;
	ulonglong uVar19;
	ulonglong uVar20;
	undefined *puVar21;
	ulonglong uVar22;
	int iVar24;
	longlong lVar23;
	longlong lVar25;
	uint uVar26;
	longlong lVar27;
	ulonglong uVar28;
	ulonglong uVar29;
	longlong lVar30;
	undefined4 in_stack_ffffff78;
	undefined in_stack_ffffff7f;
	uint local_7c;

	uVar12 = _DAT_100f3350;
	piVar18 = _DAT_100f1dec;
	puVar11 = _DAT_100f1ddc;
	puVar10 = PTR_DAT_100f19a4;
	puVar5 = PTR_DAT_100f1954;
	puVar9 = PTR_DAT_100f1944;
	puVar8 = PTR_DAT_100f1940;
	puVar7 = PTR_DAT_100f17ec;
	uVar13 = ZEXT48(&toc);
	uVar17 = (ulonglong)_DAT_100f1df0;
	uVar20 = (ulonglong)_DAT_100f3350;
	if (*PTR_DAT_100f17e0 != '\x01') {
		*(undefined4 *)PTR_DAT_100f1f60 = 1;
		if (*puVar7 != '\0') {
			uVar22 = 0;
			lVar25 = 0;
			puVar21 = PTR_DAT_100f187c;
			while (iVar24 = (int)uVar22, iVar24 < *(int *)puVar10) {
				iVar15 = (int)lVar25;
				if (*(char *)(uVar12 + (uint)(byte)*puVar7 * 0x1271 + iVar15 + 0xb69) != -1) {
					FUN_1006bf90(iVar24);
					*(uint *)(puVar21 + 0x20) = (uint) * (byte *)(uVar12 + (uint)(byte)*puVar7 * 0x1271 + iVar15 + 0xb69);
					*(uint *)(puVar21 + 0x24) = (uint) * (byte *)(uVar12 + (uint)(byte)*puVar7 * 0x1271 + iVar15 + 0xb6a);
					*(undefined4 *)(puVar21 + 0x30) = *(undefined4 *)(puVar21 + 0x20);
					*(undefined4 *)(puVar21 + 0x34) = *(undefined4 *)(puVar21 + 0x24);
					*(undefined4 *)(puVar21 + 0x28) = *(undefined4 *)(puVar21 + 0x20);
					*(undefined4 *)(puVar21 + 0x2c) = *(undefined4 *)(puVar21 + 0x24);
					iVar4 = *(int *)(uVar12 + (uint)(byte)*puVar7 * 0x1271 + iVar15 + 0xb6e);
					if (iVar4 != -1) {
						*(int *)(puVar21 + 0x98) = iVar4;
					}
					iVar4 = uVar12 + (uint)(byte)*puVar7 * 0x1271 + iVar15;
					if (*(int *)(iVar4 + 0xb6e) == 0) {
						*(uint *)(puVar21 + 0x30) = (uint) * (byte *)(iVar4 + 0xb69);
						uVar19 = (ulonglong)(byte)*puVar7 * 0x1271 + lVar25;
						*(uint *)(puVar21 + 0x34) = (uint) * (byte *)(uVar12 + (int)uVar19 + 0xb6a);
						FUN_1006bf90(iVar24);
						if (puVar21[0x9c] != '\x1b') {
							if (puVar21[0xc0] == '\0') {
								uVar19 = (ulonglong) * (uint *)(puVar21 + 0x24);
								param_3 = (ulonglong) * (byte *)(*(int *)(puVar21 + 0xe0) + 0x1fd);
								param_4 = (ulonglong) * (uint *)(puVar21 + 0x48);
								AddDead(*(int *)(puVar21 + 0x20), *(uint *)(puVar21 + 0x24),
								    (uint) * (byte *)(*(int *)(puVar21 + 0xe0) + 0x1fd),
								    *(uint *)(puVar21 + 0x48));
							} else {
								uVar19 = (ulonglong) * (uint *)(puVar21 + 0x24);
								param_3 = (ulonglong)(byte)puVar21[0xc2];
								param_4 = (ulonglong) * (uint *)(puVar21 + 0x48);
								AddDead(*(int *)(puVar21 + 0x20), *(uint *)(puVar21 + 0x24),
								    (uint)(byte)puVar21[0xc2], *(uint *)(puVar21 + 0x48));
							}
						}
						*(undefined4 *)(puVar21 + 0x70) = 1;
						M_UpdateLeader(uVar22, uVar19, param_3, param_4, param_5, (int)param_6, (int)param_7,
						    (int)param_8, in_stack_ffffff78);
					} else {
						uVar19 = (ulonglong) * (byte *)(iVar4 + 0xb6c);
						FUN_10076cfc(iVar24, (uint) * (byte *)(iVar4 + 0xb6c));
						iVar4 = *(int *)(puVar21 + 0x20);
						if (((iVar4 != 0) && (iVar4 != 1)) || (*(int *)(puVar21 + 0x24) != 0)) {
							uVar19 = uVar22 + 1;
							param_3 = (ulonglong)(uint)(*(int *)(puVar21 + 0x24) * 2);
							*(undefined2 *)(*(int *)puVar5 + iVar4 * 0xe0 + *(int *)(puVar21 + 0x24) * 2) = (short)uVar19;
						}
						if (iVar24 < 4) {
							MAI_Golum(uVar22, uVar19, param_3, param_4, param_5, (int)param_6, (int)param_7,
							    (int)param_8, in_stack_ffffff78);
							*(uint *)(puVar21 + 0xa0) = *(uint *)(puVar21 + 0xa0) | 0x10;
							*(uint *)(puVar21 + 0xa0) = *(uint *)(puVar21 + 0xa0) | 0x20;
						} else {
							FUN_1006b758(iVar24, *(int *)(puVar21 + 0x48), (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffff78);
						}
						puVar21[0xa4] = *(undefined *)(uVar12 + (uint)(byte)*puVar7 * 0x1271 + iVar15 + 0xb6d);
					}
				}
				lVar25 = lVar25 + 9;
				puVar21 = puVar21 + 0xe8;
				uVar22 = uVar22 + 1;
			}
			memcpy((char)*(undefined4 *)((int)uVar13 + -0x7798),
			    (char)*(undefined4 *)((int)uVar13 + -0x5c8c) + *puVar7 * '@', 0x40, (char)param_4,
			    (char)param_5, (char)param_6, (char)param_7, (char)param_8, (char)in_stack_ffffff78,
			    in_stack_ffffff7f, local_7c);
			uVar13 = (ulonglong)local_7c;
		}
		iVar24 = 0;
		lVar25 = 0;
		do {
			uVar22 = uVar20 + (ulonglong)(byte)*puVar7 * 0x1271 + lVar25;
			pcVar16 = (char *)uVar22;
			if (*pcVar16 != -1) {
				if (*pcVar16 == '\x01') {
					uVar22 = (ulonglong) * (uint *)(pcVar16 + 7);
					iVar15 = FindGetItem((uint) * (ushort *)(pcVar16 + 3), *(short *)(pcVar16 + 5),
					    *(uint *)(pcVar16 + 7));
					if (iVar15 != -1) {
						uVar3 = *(uint *)puVar9;
						uVar22 = (ulonglong)uVar3;
						param_4 = (longlong)iVar15 + 1;
						pcVar16 = (char *)(uVar3 + *(int *)(puVar8 + iVar15 * 0x170 + 0xc) * 0x70 + *(int *)(puVar8 + iVar15 * 0x170 + 0x10));
						if ((int)param_4 == (int)*pcVar16) {
							*pcVar16 = '\0';
						}
						DeleteItem(iVar15, iVar24);
					}
				}
				param_8 = uVar20 + (ulonglong)(byte)*puVar7 * 0x1271 + lVar25;
				pcVar16 = (char *)param_8;
				if (*pcVar16 == '\x02') {
					iVar15 = *piVar18;
					uVar3 = *puVar11;
					uVar19 = (ulonglong)uVar3;
					*puVar11 = puVar11[0x7e - iVar15];
					*(uint *)((int)uVar17 + iVar15 * 4) = uVar3;
					if (*(ushort *)(pcVar16 + 3) == 0x17) {
						param_6 = (ulonglong)(byte)pcVar16[0xd];
						param_7 = (ulonglong)(byte)pcVar16[0xe];
						param_8 = (ulonglong)(byte)pcVar16[0xf];
						FUN_1004fd24(uVar3, (ulonglong) * (ushort *)(pcVar16 + 5), *(undefined4 *)(pcVar16 + 7),
						    (uint)(byte)pcVar16[0xb], (uint)(byte)pcVar16[0xc], (uint)(byte)pcVar16[0xd],
						    (uint)(byte)pcVar16[0xe], (uint)(byte)pcVar16[0xf], in_stack_ffffff78,
						    in_stack_ffffff7f, (uint) * (ushort *)(pcVar16 + 0x10),
						    *(undefined4 *)(pcVar16 + 0x12));
					} else {
						FUN_1004fbc4(uVar19, (uint) * (ushort *)(pcVar16 + 3), (ulonglong) * (ushort *)(pcVar16 + 5),
						    (ulonglong) * (uint *)(pcVar16 + 7), (uint) * (ushort *)(pcVar16 + 0x10),
						    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffff78);
						iVar15 = uVar12 + (uint)(byte)*puVar7 * 0x1271 + (int)lVar25;
						if (*(char *)(iVar15 + 0xb) != '\0') {
							*(undefined4 *)(puVar8 + uVar3 * 0x170 + 0x38) = 1;
						}
						puVar5 = puVar8 + uVar3 * 0x170;
						*(uint *)(puVar5 + 0xec) = (uint) * (byte *)(iVar15 + 0xc);
						*(uint *)(puVar5 + 0xf0) = (uint) * (byte *)(iVar15 + 0xd);
						*(uint *)(puVar5 + 0xe4) = (uint) * (byte *)(iVar15 + 0xe);
						*(uint *)(puVar5 + 0xe8) = (uint) * (byte *)(iVar15 + 0xf);
					}
					iVar15 = uVar12 + (uint)(byte)*puVar7 * 0x1271 + (int)lVar25;
					bVar1 = *(byte *)(iVar15 + 1);
					uVar28 = (ulonglong)bVar1;
					uVar28._4_4_ = (uint)bVar1;
					bVar2 = *(byte *)(iVar15 + 2);
					uVar22 = (ulonglong)bVar2;
					uVar26 = (uint)bVar2;
					uVar14 = CanPut((uint)bVar1, (uint)bVar2);
					if ((int)uVar14 == 0) {
						bVar6 = false;
						lVar27 = 1;
						while (true) {
							uVar26 = (uint)uVar22;
							uVar28._4_4_ = (uint)uVar28;
							iVar15 = (int)lVar27;
							if ((0x31 < iVar15) || (bVar6))
								break;
							lVar23 = -lVar27;
							while (((int)lVar23 <= iVar15 && (!bVar6))) {
								uVar29 = uVar22 + lVar23;
								lVar30 = -lVar27;
								while (((int)lVar30 <= iVar15 && (!bVar6))) {
									uVar14 = CanPut((int)(uVar28 + lVar30), (int)uVar29);
									if ((int)uVar14 != 0) {
										bVar6 = true;
										uVar22 = uVar29;
										uVar28 = uVar28 + lVar30;
									}
									lVar30 = lVar30 + 1;
								}
								lVar23 = lVar23 + 1;
							}
							lVar27 = lVar27 + 1;
						}
					}
					param_5 = uVar19 + 1;
					puVar5 = puVar8 + uVar3 * 0x170;
					*(uint *)(puVar5 + 0xc) = uVar28._4_4_;
					*(uint *)(puVar5 + 0x10) = uVar26;
					param_4 = (ulonglong) * (uint *)(puVar5 + 0xc) * 0x70;
					uVar3 = *(uint *)puVar9;
					uVar22 = (ulonglong)uVar3;
					*(undefined *)(uVar3 + (int)param_4 + *(uint *)(puVar5 + 0x10)) = (char)param_5;
					RespawnItem(uVar19, 0, (char)uVar3, (char)param_4, (char)param_5, (char)param_6, (char)param_7,
					    (char)param_8, in_stack_ffffff78);
					*piVar18 = *piVar18 + 1;
				}
			}
			iVar15 = (int)uVar13;
			iVar24 = iVar24 + 1;
			lVar25 = lVar25 + 0x16;
		} while (iVar24 < 0x7f);
		if (*puVar7 != '\0') {
			uVar17 = 0;
			do {
				bVar1 = *(byte *)(uVar12 + (uint)(byte)*puVar7 * 0x1271 + (int)uVar17 + 0xaea);
				if (bVar1 == 0x2f) {
					FUN_1008c740(0xffffffffffffffff, uVar17);
				} else {
					if ((bVar1 < 0x2f) && (0x2a < bVar1)) {
						uVar22 = uVar17;
						FUN_1008c0a0(0xffffffffffffffff, (ulonglong)bVar1, (int)uVar17, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffff78);
					}
				}
				uVar17 = uVar17 + 1;
			} while ((int)uVar17 < 0x7f);
			piVar18 = *(int **)((int)uVar13 + -0x7190);
			iVar24 = 0;
			while (iVar15 = (int)uVar13, iVar24 < **(int **)(iVar15 + -0x7194)) {
				iVar4 = *(int *)(*(int *)(iVar15 + -0x7688) + *piVar18 * 0x78);
				if ((iVar4 == 0x35) || (iVar4 == 0x36)) {
					Obj_Trap(*piVar18, (char)*(int *)(iVar15 + -0x7688), (char)uVar22, (char)param_4,
					    (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffff78);
				}
				piVar18 = piVar18 + 1;
				iVar24 = iVar24 + 1;
			}
		}
		**(undefined4 **)(iVar15 + -0x7070) = 0;
	}
	return;
}

void FUN_1007a7d0(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	if (param_1 == 0) {
		NetSendLoPri(ZEXT48(register0x0000000c) - 8, 1, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	} else {
		NetSendHiPri(ZEXT48(register0x0000000c) - 8, 1, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	}
	return;
}

void FUN_1007a814(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined8 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffb8;
	undefined4 local_13;
	undefined local_f;

	local_f = (undefined)param_6;
	local_13._2_1_ = (byte)((ulonglong)param_5 >> 8);
	local_13._1_1_ = (byte)((ulonglong)param_5 >> 0x10);
	local_13._0_1_ = (byte)((ulonglong)param_5 >> 0x18);
	local_13 = (int)param_5 << 0x18 | (uint)local_13._2_1_ << 0x10 | (uint)local_13._1_1_ << 8 | (uint)local_13._0_1_;
	NetSendLoPri(ZEXT48(register0x0000000c) - 0x18, 10, param_3, param_4, param_5, param_6, &local_13,
	    param_8, in_stack_ffffffb8);
	return;
}

void NetSendCmdLoc(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	if (param_1 == 0) {
		NetSendLoPri(ZEXT48(register0x0000000c) - 8, 3, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	} else {
		NetSendHiPri(ZEXT48(register0x0000000c) - 8, 3, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	}
	return;
}

void NetSendCmdLocParam1(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	if (param_1 == 0) {
		NetSendLoPri(ZEXT48(register0x0000000c) - 8, 5, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	} else {
		NetSendHiPri(ZEXT48(register0x0000000c) - 8, 5, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	}
	return;
}

void NetSendCmdLocParam2(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	if (param_1 == 0) {
		NetSendLoPri(ZEXT48(register0x0000000c) - 8, 7, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	} else {
		NetSendHiPri(ZEXT48(register0x0000000c) - 8, 7, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	}
	return;
}

void NetSendCmdLocParam3(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffb8;
	undefined2 local_11;

	local_11._1_1_ = (undefined)param_7;
	local_11._0_1_ = (undefined)((uint)param_7 >> 8);
	local_11 = CONCAT11((undefined)local_11, local_11._0_1_);
	if (param_1 == 0) {
		NetSendLoPri(ZEXT48(register0x0000000c) - 0x18, 9, param_3, param_4, param_5, param_6, param_7,
		    &local_11, in_stack_ffffffb8);
	} else {
		NetSendHiPri(ZEXT48(register0x0000000c) - 0x18, 9, param_3, param_4, param_5, param_6, param_7,
		    &local_11, in_stack_ffffffb8);
	}
	return;
}

void NetSendCmdParam1(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	if (param_1 == 0) {
		NetSendLoPri(ZEXT48(register0x0000000c) - 8, 3, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	} else {
		NetSendHiPri(ZEXT48(register0x0000000c) - 8, 3, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	}
	return;
}

void NetSendCmdParam2(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	if (param_1 == 0) {
		NetSendLoPri(ZEXT48(register0x0000000c) - 8, 5, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	} else {
		NetSendHiPri(ZEXT48(register0x0000000c) - 8, 5, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	}
	return;
}

void NetSendCmdParam3(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined8 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;
	undefined2 local_3;

	local_3._1_1_ = (undefined)param_5;
	local_3._0_1_ = (undefined)((ulonglong)param_5 >> 8);
	local_3 = CONCAT11((undefined)local_3, local_3._0_1_);
	if (param_1 == 0) {
		NetSendLoPri(ZEXT48(register0x0000000c) - 8, 7, param_3, param_4, param_5, &local_3, param_7, param_8,
		    in_stack_ffffffc8);
	} else {
		NetSendHiPri(ZEXT48(register0x0000000c) - 8, 7, param_3, param_4, param_5, &local_3, param_7, param_8,
		    in_stack_ffffffc8);
	}
	return;
}

void NetSendCmdQuest(int iParm1)

{
	undefined8 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffc8;

	if (iParm1 == 0) {
		NetSendLoPri(ZEXT48(register0x0000000c) - 8, 5, 0x58, ZEXT48(PTR_DAT_100f19cc), in_r7, in_r8, in_r9,
		    in_r10, in_stack_ffffffc8);
	} else {
		NetSendHiPri(ZEXT48(register0x0000000c) - 8, 5, 0x58, ZEXT48(PTR_DAT_100f19cc), in_r7, in_r8, in_r9,
		    in_r10, in_stack_ffffffc8);
	}
	return;
}

void NetSendCmdGItem(int iParm1)

{
	uint uVar1;
	ulonglong uVar2;
	longlong in_r7;
	undefined *puVar3;
	undefined *puVar4;
	int iVar5;
	undefined4 in_stack_ffffffa8;

	uVar2 = ZEXT48(register0x0000000c);
	iVar5 = ((uint)in_r7 & 0xff) * 0x170;
	puVar4 = PTR_DAT_100f1940 + iVar5;
	if (*(int *)(puVar4 + 0x168) == 0x17) {
		uVar1 = (int)(char)puVar4[0x52] << 8;
		in_r7 = (longlong)(char)puVar4[0x53];
		puVar3 = (undefined *)(int)(char)puVar4[0x52];
		puVar4 = (undefined *)(uint)(byte)puVar4[0x53];
	} else {
		uVar1 = *(uint *)(puVar4 + 0xe8);
		puVar3 = PTR_DAT_100f17ec;
		puVar4 = PTR_DAT_100f1940;
	}
	if (iParm1 == 0) {
		NetSendLoPri(uVar2 - 0x28, 0x1e, uVar2 - 0xe, (ulonglong)uVar1, in_r7, puVar3, puVar4, iVar5,
		    in_stack_ffffffa8);
	} else {
		NetSendHiPri(uVar2 - 0x28, 0x1e, uVar2 - 0xe, (ulonglong)uVar1, in_r7, puVar3, puVar4, iVar5,
		    in_stack_ffffffa8);
	}
	return;
}

void NetSendCmdGItem2(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	byte *pbVar2;
	ulonglong uVar3;
	int iVar4;
	undefined uVar5;
	undefined8 uVar6;
	undefined uVar7;
	undefined7 uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined7 uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined uVar14;
	undefined uVar15;
	undefined local_31;
	undefined uStack48;
	undefined local_2f;
	undefined uStack46;
	byte local_2d;
	byte bStack44;
	byte bStack43;
	byte bStack42;
	undefined local_24;
	undefined uStack35;
	byte local_1e;
	byte bStack29;
	byte bStack28;
	byte bStack27;

	uVar11 = (undefined7)((ulonglong)param_5 >> 8);
	uVar12 = (undefined)param_5;
	uVar8 = (undefined7)((ulonglong)param_4 >> 8);
	uVar9 = (undefined)param_4;
	uVar3 = ZEXT48(register0x0000000c);
	uVar6 = 0x1e;
	iVar1 = (int)(uVar3 - 0x70);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	uVar10 = uVar9;
	uVar5 = uVar12;
	memcpy((char)(uVar3 - 0x70) + '8', uVar12, 0x1e, uVar9, uVar12, (char)param_6, (char)param_7,
	    (char)param_8, *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
	    *(undefined4 *)(iVar1 + 0x14));
	uVar15 = (undefined)param_8;
	uVar14 = (undefined)param_7;
	uVar13 = (undefined)param_6;
	uVar7 = (undefined)uVar6;
	*(undefined *)(iVar1 + 0x38) = (undefined)param_2;
	*(undefined *)(iVar1 + 0x3a) = uVar9;
	*(undefined *)(iVar1 + 0x39) = (undefined)param_3;
	*(undefined2 *)(iVar1 + 0x3f) = CONCAT11(uStack48, local_31);
	*(undefined2 *)(iVar1 + 0x41) = CONCAT11(uStack46, local_2f);
	*(uint *)(iVar1 + 0x43) = (uint)bStack42 << 0x18 | (uint)bStack43 << 0x10 | (uint)bStack44 << 8 | (uint)local_2d;
	*(undefined2 *)(iVar1 + 0x4c) = CONCAT11(uStack35, local_24);
	pbVar2 = (byte *)(uVar3 - 0x22);
	*(uint *)(iVar1 + 0x4e) = (uint)pbVar2[3] << 0x18 | (uint)pbVar2[2] << 0x10 | (uint)pbVar2[1] << 8 | (uint)*pbVar2;
	if (param_1 == 0) {
		*(undefined4 *)(iVar1 + 0x52) = 0;
		*(uint *)(iVar1 + 0x52) = (uint)bStack27 << 0x18 | (uint)bStack28 << 0x10 | (uint)bStack29 << 8 | (uint)local_1e;
		NetSendHiPri(uVar3 - 0x38, 0x1e, uVar6, CONCAT71(uVar8, uVar10), CONCAT71(uVar11, uVar12), param_6,
		    param_7, param_8, *(undefined4 *)(iVar1 + 8));
	} else {
		iVar4 = GetTickCount((char)(uVar3 - 0x22), uVar5, uVar7, uVar10, uVar12, uVar13, uVar14, uVar15,
		    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
		    *(undefined4 *)(iVar1 + 0x14));
		if (*(int *)(iVar1 + 0x52) == 0) {
			*(int *)(iVar1 + 0x52) = iVar4;
		} else {
			if (5000 < iVar4 - *(int *)(iVar1 + 0x52)) {
				return;
			}
		}
		*(uint *)(iVar1 + 0x52) = (uint)bStack27 << 0x18 | (uint)bStack28 << 0x10 | (uint)bStack29 << 8 | (uint)local_1e;
		FUN_1007f794(uVar3 - 0x38, 0x1e, uVar7, uVar10, uVar12, uVar13, uVar14, uVar15,
		    *(undefined4 *)(iVar1 + 8));
	}
	return;
}

undefined8
FUN_1007aef8(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	longlong lVar1;
	int iVar2;
	undefined uVar4;
	int iVar3;
	undefined uVar5;
	undefined uVar6;
	undefined local_31;
	undefined uStack48;
	undefined local_2f;
	undefined uStack46;
	byte local_2d;
	byte bStack44;
	byte bStack43;
	byte bStack42;
	undefined local_24;
	undefined uStack35;
	byte local_22;
	byte bStack33;
	byte bStack32;
	byte bStack31;
	byte local_1e;
	byte bStack29;
	byte bStack28;
	byte bStack27;

	uVar5 = 0x1e;
	lVar1 = ZEXT48(register0x0000000c) - 0x70;
	iVar2 = (int)lVar1;
	*(BADSPACEBASE **)iVar2 = register0x0000000c;
	uVar6 = param_4;
	uVar4 = memcpy((char)lVar1 + '8', param_4, 0x1e, param_4, param_5, param_6, param_7, param_8,
	    *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf),
	    *(undefined4 *)(iVar2 + 0x14));
	*(undefined *)(iVar2 + 0x38) = param_1;
	*(undefined *)(iVar2 + 0x3a) = param_3;
	*(undefined *)(iVar2 + 0x39) = param_2;
	iVar3 = GetTickCount(uVar4, param_4, uVar5, uVar6, param_5, param_6, param_7, param_8,
	    *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf),
	    *(undefined4 *)(iVar2 + 0x14));
	if (*(int *)(iVar2 + 0x52) == 0) {
		*(int *)(iVar2 + 0x52) = iVar3;
	} else {
		if (5000 < iVar3 - *(int *)(iVar2 + 0x52)) {
			return 0;
		}
	}
	*(undefined2 *)(iVar2 + 0x3f) = CONCAT11(uStack48, local_31);
	*(undefined2 *)(iVar2 + 0x41) = CONCAT11(uStack46, local_2f);
	*(uint *)(iVar2 + 0x43) = (uint)bStack42 << 0x18 | (uint)bStack43 << 0x10 | (uint)bStack44 << 8 | (uint)local_2d;
	*(undefined2 *)(iVar2 + 0x4c) = CONCAT11(uStack35, local_24);
	*(uint *)(iVar2 + 0x4e) = (uint)bStack31 << 0x18 | (uint)bStack32 << 0x10 | (uint)bStack33 << 8 | (uint)local_22;
	*(uint *)(iVar2 + 0x52) = (uint)bStack27 << 0x18 | (uint)bStack28 << 0x10 | (uint)bStack29 << 8 | (uint)local_1e;
	FUN_1007f794(ZEXT48(register0x0000000c) - 0x38, 0x1e, uVar5, uVar6, param_5, param_6, param_7, param_8,
	    *(undefined4 *)(iVar2 + 8));
	return 1;
}

void FUN_1007afec(undefined param_1, undefined8 uParm2, undefined8 uParm3, undefined8 uParm4,
    undefined8 uParm5, undefined4 uParm6, undefined4 uParm7, undefined4 uParm8)

{
	longlong lVar1;
	int iVar2;
	undefined8 uVar3;
	undefined7 uVar4;
	undefined uVar5;
	undefined7 uVar6;
	undefined uVar7;
	undefined local_21;
	undefined uStack32;
	undefined local_1f;
	undefined uStack30;
	byte local_1d;
	byte bStack28;
	byte bStack27;
	byte bStack26;
	undefined local_14;
	undefined uStack19;
	byte local_12;
	byte bStack17;
	byte bStack16;
	byte bStack15;
	byte local_e;
	byte bStack13;
	byte bStack12;
	byte bStack11;

	uVar7 = (undefined)uParm5;
	uVar6 = (undefined7)((ulonglong)uParm5 >> 8);
	uVar5 = (undefined)uParm4;
	uVar4 = (undefined7)((ulonglong)uParm4 >> 8);
	uVar3 = 0x1e;
	lVar1 = ZEXT48(register0x0000000c) - 0x60;
	iVar2 = (int)lVar1;
	*(BADSPACEBASE **)iVar2 = register0x0000000c;
	memcpy((char)lVar1 + '8', param_1, 0x1e, uVar5, uVar7, (char)uParm6, (char)uParm7, (char)uParm8,
	    *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf), *(undefined4 *)(iVar2 + 0x14));
	*(undefined *)(iVar2 + 0x38) = 0x55;
	*(undefined4 *)(iVar2 + 0x52) = 0;
	*(undefined2 *)(iVar2 + 0x3f) = CONCAT11(uStack32, local_21);
	*(undefined2 *)(iVar2 + 0x41) = CONCAT11(uStack30, local_1f);
	*(uint *)(iVar2 + 0x43) = (uint)bStack26 << 0x18 | (uint)bStack27 << 0x10 | (uint)bStack28 << 8 | (uint)local_1d;
	*(undefined2 *)(iVar2 + 0x4c) = CONCAT11(uStack19, local_14);
	*(uint *)(iVar2 + 0x4e) = (uint)bStack15 << 0x18 | (uint)bStack16 << 0x10 | (uint)bStack17 << 8 | (uint)local_12;
	*(uint *)(iVar2 + 0x52) = (uint)bStack11 << 0x18 | (uint)bStack12 << 0x10 | (uint)bStack13 << 8 | (uint)local_e;
	NetSendHiPri(ZEXT48(register0x0000000c) - 0x28, 0x1e, uVar3, CONCAT71(uVar4, uVar5),
	    CONCAT71(uVar6, uVar7), uParm6, uParm7, uParm8, *(undefined4 *)(iVar2 + 8));
	return;
}

void NetSendCmdPItem(int param_1, undefined8 param_2, undefined8 param_3, longlong param_4,
    longlong param_5, uint param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	undefined4 in_stack_ffffffb8;

	puVar2 = PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec;
	if (*(int *)(puVar2 + 0x553c) == 0x17) {
		param_6 = (uint)(byte)puVar2[0x5427];
		param_5 = (longlong)(char)puVar2[0x5426];
		uVar1 = (int)(char)puVar2[0x5426] << 8;
		param_4 = (longlong)(char)puVar2[0x5427];
	} else {
		uVar1 = *(uint *)(puVar2 + 0x54bc);
	}
	if (param_1 == 0) {
		NetSendLoPri(ZEXT48(register0x0000000c) - 0x18, 0x16, (ulonglong)uVar1, param_4, param_5, param_6,
		    param_7, param_8, in_stack_ffffffb8);
	} else {
		NetSendHiPri(ZEXT48(register0x0000000c) - 0x18, 0x16, (ulonglong)uVar1, param_4, param_5, param_6,
		    param_7, param_8, in_stack_ffffffb8);
	}
	return;
}

void FUN_1007b26c(int iParm1)

{
	uint uVar1;
	undefined *puVar2;
	ulonglong uVar3;
	undefined4 in_r10;
	undefined4 in_stack_ffffffb8;
	undefined2 local_14;
	uint local_12;
	undefined local_e;

	uVar3 = ZEXT48(register0x0000000c);
	puVar2 = PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec;
	uVar1 = *(uint *)(puVar2 + 0x53d4);
	local_e = (undefined) * (undefined4 *)(puVar2 + 0x540c);
	local_14._1_1_ = (undefined) * (undefined2 *)(puVar2 + 0x53d8);
	local_14._0_1_ = (undefined)((ushort) * (undefined2 *)(puVar2 + 0x53d8) >> 8);
	local_14 = CONCAT11((undefined)local_14, local_14._0_1_);
	local_12 = uVar1 << 0x18 | (uVar1 >> 8 & 0xff) << 0x10 | (uVar1 >> 0x10 & 0xff) << 8 | uVar1 >> 0x18;
	if (iParm1 == 0) {
		NetSendLoPri(uVar3 - 0x18, 0xb, ZEXT48(PTR_DAT_100f1824), ZEXT48(PTR_DAT_100f1828), uVar3 - 0x16,
		    &local_14, &local_12, in_r10, in_stack_ffffffb8);
	} else {
		NetSendHiPri(uVar3 - 0x18, 0xb, ZEXT48(PTR_DAT_100f1824), ZEXT48(PTR_DAT_100f1828), uVar3 - 0x16,
		    &local_14, &local_12, in_r10, in_stack_ffffffb8);
	}
	return;
}

void NetSendCmdDelItem(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	if (param_1 == 0) {
		NetSendLoPri(ZEXT48(register0x0000000c) - 8, 2, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	} else {
		NetSendHiPri(ZEXT48(register0x0000000c) - 8, 2, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	}
	return;
}

void FUN_1007b364(int iParm1, longlong lParm2)

{
	uint uVar1;
	undefined *puVar2;
	ulonglong uVar3;
	uint in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffb8;

	lParm2 = lParm2 * 0x170;
	uVar3 = ZEXT48(PTR_DAT_100f1940);
	puVar2 = PTR_DAT_100f1940 + (int)lParm2;
	if (*(int *)(puVar2 + 0x168) == 0x17) {
		in_r8 = (uint)(byte)puVar2[0x53];
		lParm2 = (longlong)(char)puVar2[0x52];
		uVar1 = (int)(char)puVar2[0x52] << 8;
		uVar3 = SEXT18((char)puVar2[0x53]);
	} else {
		uVar1 = *(uint *)(puVar2 + 0xe8);
	}
	if (iParm1 == 0) {
		NetSendLoPri(ZEXT48(register0x0000000c) - 0x18, 0x16, (ulonglong)uVar1, uVar3, lParm2, in_r8, in_r9,
		    in_r10, in_stack_ffffffb8);
	} else {
		NetSendHiPri(ZEXT48(register0x0000000c) - 0x18, 0x16, (ulonglong)uVar1, uVar3, lParm2, in_r8, in_r9,
		    in_r10, in_stack_ffffffb8);
	}
	return;
}

ulonglong FUN_1007b548(int param_1)

{
	char cVar1;
	int iVar2;
	undefined8 uVar3;
	int iVar4;

	iVar4 = 0;
	iVar2 = *(int *)PTR_DAT_100f1824;
	cVar1 = *_DAT_100f1d14;
	if ((((((PTR_DAT_100f1828[0x1d] == '\0') || (PTR_DAT_100f1828[0x13b] != '\0')) || (param_1 != *(int *)(PTR_DAT_100f1828 + 0x34))) || ((iVar2 == 0 && (cVar1 != '\0')))) && ((((iVar4 = 1, PTR_DAT_100f1828[0x5609] == '\0' || ((PTR_DAT_100f1828[0x5727] != '\0' || (param_1 != *(int *)(PTR_DAT_100f1828 + 0x5620))))) || ((iVar2 == 1 && (cVar1 != '\0')))) && ((((iVar4 = 2, PTR_DAT_100f1828[0xabf5] == '\0' || (PTR_DAT_100f1828[0xad13] != '\0')) || (param_1 != *(int *)(PTR_DAT_100f1828 + 0xac0c))) || ((iVar2 == 2 && (cVar1 != '\0'))))))))
	    && (((iVar4 = 3, PTR_DAT_100f1828[0x101e1] == '\0' || ((PTR_DAT_100f1828[0x102ff] != '\0' || (param_1 != *(int *)(PTR_DAT_100f1828 + 0x101f8))))) || ((iVar2 == 3 && (cVar1 != '\0')))))) {
		iVar4 = 4;
	}
	uVar3 = countLeadingZeros(iVar2 - iVar4);
	return (ulonglong)((uint)uVar3 >> 5 & 0xff);
}

void NetSendCmdDamage(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	undefined4 in_stack_ffffffc8;

	uVar1 = ZEXT48(register0x0000000c);
	if (param_1 == 0) {
		NetSendLoPri(uVar1 - 8, 6, param_3, uVar1 - 6, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	} else {
		NetSendHiPri(uVar1 - 8, 6, param_3, uVar1 - 6, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return;
}

void NetSendCmdString(uint param_1, uint param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	int iVar1;
	undefined4 in_stack_ffffff68;
	undefined auStack103[103];

	iVar1 = strlen(param_2);
	strcpy((int)auStack103, param_2);
	multi_send_msg_packet(param_1, ZEXT48(register0x0000000c) - 0x68, iVar1 + 2, param_4, param_5, param_6, param_7,
	    param_8, in_stack_ffffff68);
	return;
}

longlong FUN_1007b724(undefined8 param_1, longlong param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	int iVar2;

	ppuVar1 = &toc;
	iVar2 = strlen((int)param_2 + 1);
	if (*ppuVar1[-0x1caf] == '\0') {
		FUN_1009aeb4(param_1, param_2 + 1);
	}
	return (longlong)iVar2 + 2;
}

void FUN_1007b78c(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6)

{
	undefined *puVar1;

	puVar1 = PTR_DAT_100f3354;
	PTR_DAT_100f3354[param_1 * 5] = param_2;
	puVar1 = puVar1 + param_1 * 5;
	puVar1[1] = param_3;
	puVar1[2] = param_4;
	puVar1[3] = param_5;
	puVar1[4] = param_6;
	DAT_100f42a0 = 1;
	return;
}

void FUN_1007b7b8(char param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	int local_2c;

	memset((char)PTR_DAT_100f3354 + param_1 * '\x05', 5, 0xff, param_4, param_5, param_6, param_7,
	    param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	*(undefined *)(local_2c + -0x4d30) = 1;
	return;
}

void check_update_plr(int param_1, undefined8 param_2, ulonglong param_3, undefined4 param_4,
    undefined4 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	if ((*PTR_DAT_100f17e0 != '\x01') && (param_1 == *(int *)PTR_DAT_100f1824)) {
		pfile_update(1, ZEXT48(PTR_DAT_100f1824), param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	}
	return;
}

void msg_errorf(undefined4 param_1, undefined4 param_2, undefined4 param_3, undefined4 param_4,
    undefined4 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11, undefined4 param_12,
    undefined4 param_13, undefined4 param_14, undefined4 param_15, undefined4 param_16,
    undefined4 param_17, undefined4 param_18)

{
	longlong lVar1;
	undefined uVar2;
	undefined4 in_stack_fffffec8;
	undefined in_stack_fffffecf;
	int local_12c;
	undefined auStack264[264];

	lVar1 = GetTickCount((undefined)param_1, (undefined)param_2, (undefined)param_3, (undefined)param_4,
	    (undefined)param_5, (undefined)param_6, (undefined)param_7, (undefined)param_8,
	    (char)in_stack_fffffec8, in_stack_fffffecf, local_12c);
	if (4999 < (lVar1 - (ulonglong) * (uint *)(local_12c + -0x4d44) & 0xffffffff)) {
		*(undefined4 *)(local_12c + -0x4d44) = (int)lVar1;
		uVar2 = 0x1c;
		wvsprintf((int)auStack264, (undefined)param_1, 0x1c, (undefined)param_4, (undefined)param_5,
		    (undefined)param_6, (undefined)param_7, (undefined)param_8, in_stack_fffffec8);
		FUN_1009ada8((int)auStack264, (undefined)param_1, uVar2, (undefined)param_4, (undefined)param_5,
		    (undefined)param_6, (undefined)param_7, (undefined)param_8, in_stack_fffffec8);
	}
	return;
}

void FUN_1007b8ac(longlong param_1, int param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	FUN_100ada58(param_2, param_1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

undefined8
On_WALKXY(int param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined4 in_stack_ffffffb8;

	if ((*_DAT_100f1d14 != '\x01') && (puVar1 = PTR_DAT_100f1828 + (int)param_2 * 0x55ec, (uint)(byte)*PTR_DAT_100f17ec == *(uint *)(puVar1 + 0x34))) {
		ClrPlrPath(param_2, param_2, ZEXT48(_DAT_100f1d14), ZEXT48(PTR_DAT_100f1828), param_5, param_6,
		    param_7, param_8, in_stack_ffffffb8);
		MakePlrPath(param_2, (ulonglong) * (byte *)(param_1 + 1), (ulonglong) * (byte *)(param_1 + 2), 1,
		    param_5, param_6, param_7, param_8, in_stack_ffffffb8);
		*(undefined4 *)(puVar1 + 0x20) = 0xffffffff;
	}
	return 3;
}

undefined8
FUN_1007b96c(undefined8 param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	int iVar1;
	ulonglong uVar2;
	undefined4 in_stack_ffffffc8;

	uVar2 = ZEXT48(_DAT_100f1d14);
	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 3, (char)param_1, (char)param_5, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffffc8);
	} else {
		iVar1 = (int)param_1;
		*(undefined2 *)(iVar1 + 1) = CONCAT11(*(undefined *)(iVar1 + 2), *(undefined *)(iVar1 + 1));
		if (*(ushort *)(iVar1 + 1) < 0x101) {
			FUN_1009a120(param_2, (uint) * (ushort *)(iVar1 + 1), uVar2, param_1, param_5, param_6, param_7,
			    param_8, in_stack_ffffffc8);
		}
	}
	return 3;
}

undefined8
FUN_1007b9e4(undefined8 param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	int iVar1;
	ulonglong uVar2;
	undefined4 in_stack_ffffffc8;

	uVar2 = ZEXT48(_DAT_100f1d14);
	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 3, (char)param_1, (char)param_5, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffffc8);
	} else {
		iVar1 = (int)param_1;
		*(undefined2 *)(iVar1 + 1) = CONCAT11(*(undefined *)(iVar1 + 2), *(undefined *)(iVar1 + 1));
		if (*(ushort *)(iVar1 + 1) < 0x101) {
			FUN_1009a274(param_2, (uint) * (ushort *)(iVar1 + 1), uVar2, param_1, param_5, param_6, param_7,
			    param_8, in_stack_ffffffc8);
		}
	}
	return 3;
}

undefined8
FUN_1007ba5c(ulonglong param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    ulonglong param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	int iVar1;
	ulonglong uVar2;
	undefined4 in_stack_ffffffc8;

	uVar2 = ZEXT48(_DAT_100f1d14);
	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 3, (char)param_1, (char)param_5, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffffc8);
	} else {
		iVar1 = (int)param_1;
		*(undefined2 *)(iVar1 + 1) = CONCAT11(*(undefined *)(iVar1 + 2), *(undefined *)(iVar1 + 1));
		if (*(ushort *)(iVar1 + 1) < 0x101) {
			FUN_1009a3a8(param_2, (uint) * (ushort *)(iVar1 + 1), uVar2, param_1, param_5, param_6, param_7,
			    param_8, in_stack_ffffffc8);
		}
	}
	return 3;
}

undefined8
FUN_1007bad4(undefined8 param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	int iVar1;
	ulonglong uVar2;
	undefined4 in_stack_ffffffc8;

	uVar2 = ZEXT48(_DAT_100f1d14);
	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 3, (char)param_1, (char)param_5, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffffc8);
	} else {
		iVar1 = (int)param_1;
		*(undefined2 *)(iVar1 + 1) = CONCAT11(*(undefined *)(iVar1 + 2), *(undefined *)(iVar1 + 1));
		if (*(ushort *)(iVar1 + 1) < 0x101) {
			FUN_1009a4b4(param_2, (uint) * (ushort *)(iVar1 + 1), uVar2, param_1, param_5, param_6, param_7,
			    param_8, in_stack_ffffffc8);
		}
	}
	return 3;
}

undefined8 On_SBSPELL(int iParm1, int iParm2)

{
	ushort uVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	puVar3 = PTR_DAT_100f1828;
	puVar2 = PTR_DAT_100f17ec;
	if (*_DAT_100f1d14 != '\x01') {
		*(undefined2 *)(iParm1 + 1) = CONCAT11(*(undefined *)(iParm1 + 2), *(undefined *)(iParm1 + 1));
		uVar1 = *(ushort *)(iParm1 + 1);
		if ((*puVar2 == '\0') && (*(int *)(PTR_DAT_100f1934 + (uint)uVar1 * 0x38 + 0x18) == 0)) {
			msg_errorf(PTR_s__s_has_cast_an_illegal_spell__100f3338, puVar3 + iParm2 * 0x55ec + 0x13c,
			    puVar2, puVar3, (uint)uVar1, in_r8, in_r9, in_r10, in_stack_ffffffc8, in_stack_ffffffcf,
			    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4,
			    in_stack_ffffffe8, in_stack_ffffffec, in_stack_fffffff0, in_stack_fffffff4);
		} else {
			puVar3 = puVar3 + iParm2 * 0x55ec;
			*(uint *)(puVar3 + 0xa4) = (uint)uVar1;
			puVar3[0xa8] = puVar3[0xc0];
			puVar3[0xa9] = 1;
			*(undefined4 *)(puVar3 + 0x20) = 0xc;
		}
	}
	return 3;
}

undefined8
On_GOTOGETITEM(int param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined4 in_stack_ffffffc8;

	if ((*_DAT_100f1d14 != '\x01') && (puVar1 = PTR_DAT_100f1828 + (int)param_2 * 0x55ec, (uint)(byte)*PTR_DAT_100f17ec == *(uint *)(puVar1 + 0x34))) {
		*(undefined2 *)(param_1 + 3) = CONCAT11(*(undefined *)(param_1 + 4), *(undefined *)(param_1 + 3));
		MakePlrPath(param_2, (ulonglong) * (byte *)(param_1 + 1), (ulonglong) * (byte *)(param_1 + 2), 0,
		    param_5, param_6, param_7, param_8, in_stack_ffffffc8);
		*(undefined4 *)(puVar1 + 0x20) = 0xf;
		*(uint *)(puVar1 + 0x24) = (uint) * (ushort *)(param_1 + 3);
	}
	return 5;
}

undefined8
On_REQUESTGITEM(longlong lParm1, int iParm2, undefined8 uParm3, undefined param_4, undefined param_5,
    uint uParm6, undefined4 uParm7, undefined4 uParm8)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	ulonglong uVar4;
	undefined8 uVar5;
	int iVar6;
	ulonglong uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffdc;

	puVar2 = PTR_DAT_100f1824;
	if (*_DAT_100f1d14 != '\x01') {
		iVar1 = (int)lParm1;
		*(undefined2 *)(iVar1 + 7) = CONCAT11(*(undefined *)(iVar1 + 8), *(undefined *)(iVar1 + 7));
		*(undefined2 *)(iVar1 + 9) = CONCAT11(*(undefined *)(iVar1 + 10), *(undefined *)(iVar1 + 9));
		*(uint *)(iVar1 + 0xb) = (uint) * (byte *)(iVar1 + 0xe) << 0x18 | (uint) * (byte *)(iVar1 + 0xd) << 0x10 | (uint) * (byte *)(iVar1 + 0xc) << 8 | (uint) * (byte *)(iVar1 + 0xb);
		*(undefined2 *)(iVar1 + 0x14) = CONCAT11(*(undefined *)(iVar1 + 0x15), *(undefined *)(iVar1 + 0x14));
		*(uint *)(iVar1 + 0x16) = (uint) * (byte *)(iVar1 + 0x19) << 0x18 | (uint) * (byte *)(iVar1 + 0x18) << 0x10 | (uint) * (byte *)(iVar1 + 0x17) << 8 | (uint) * (byte *)(iVar1 + 0x16);
		puVar3 = PTR_DAT_100f1828;
		*(uint *)(iVar1 + 0x1a) = (uint) * (byte *)(iVar1 + 0x1d) << 0x18 | (uint) * (byte *)(iVar1 + 0x1c) << 0x10 | (uint) * (byte *)(iVar1 + 0x1b) << 8 | (uint) * (byte *)(iVar1 + 0x1a);
		uVar4 = FUN_1007b548(*(int *)(puVar3 + iParm2 * 0x55ec + 0x34));
		if (((int)uVar4 != 0) && (uVar5 = FUN_100540d0(*(int *)(iVar1 + 0xb), *(short *)(iVar1 + 9), (uint) * (ushort *)(iVar1 + 7), param_4, param_5, (char)uParm6, (char)uParm7, (char)uParm8, in_stack_ffffffb8), (int)uVar5 != 0)) {
			iVar6 = FindGetItem((uint) * (ushort *)(iVar1 + 7), *(short *)(iVar1 + 9), *(int *)(iVar1 + 0xb));
			if (iVar6 == -1) {
				if ((iVar6 == -1) && (uVar5 = FUN_1007aef8(0x27, (char)*(undefined4 *)puVar2, *(undefined *)(iVar1 + 2), (char)lParm1, param_5, (char)uParm6, (char)uParm7, (char)uParm8, in_stack_ffffffb8), (int)uVar5 == 0)) {
					FUN_1007afec(lParm1);
				}
			} else {
				uVar7 = (ulonglong) * (byte *)(iVar1 + 2);
				uVar4 = (ulonglong)(*(uint *)puVar2 & 0xff);
				NetSendCmdGItem2(0, 8, uVar4, uVar7, lParm1, uParm6, uParm7, uParm8, in_stack_ffffffb8);
				uVar10 = (undefined)uParm6;
				uVar9 = (undefined)lParm1;
				uVar8 = (undefined)uVar7;
				uVar12 = (undefined)uParm8;
				uVar11 = (undefined)uParm7;
				if ((uint) * (byte *)(iVar1 + 2) == *(uint *)puVar2) {
					FUN_100490dc(*(uint *)puVar2, iVar6, uVar4, uVar7, lParm1, uParm6, uParm7, uParm8,
					    in_stack_ffffffb8);
				} else {
					uVar10 = 3;
					uVar8 = (undefined) * (short *)(iVar1 + 9);
					uVar9 = (undefined) * (int *)(iVar1 + 0xb);
					SyncGetItem((uint) * (byte *)(iVar1 + 5), (uint) * (byte *)(iVar1 + 6),
					    (uint) * (ushort *)(iVar1 + 7), *(short *)(iVar1 + 9), *(int *)(iVar1 + 0xb), 3,
					    uVar11, uVar12, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffdc);
				}
				FUN_10054188(*(undefined4 *)(iVar1 + 0xb), *(undefined2 *)(iVar1 + 9),
				    (uint) * (ushort *)(iVar1 + 7), uVar8, uVar9, uVar10, uVar11, uVar12, in_stack_ffffffb8);
			}
		}
	}
	return 0x1e;
}

undefined8
On_GETITEM(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    longlong param_5, uint param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	uint uVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	int iVar7;
	undefined8 uVar6;
	ulonglong uVar8;
	ulonglong uVar9;
	undefined8 uVar10;
	ulonglong uVar11;
	ulonglong uVar12;
	uint uVar13;
	uint uVar14;
	uint uVar15;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffcc;

	puVar4 = PTR_DAT_100f1828;
	puVar3 = PTR_DAT_100f1824;
	ppuVar5 = &toc;
	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 0x1e, (char)param_1, (char)param_5, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffffa8);
	} else {
		iVar2 = (int)param_1;
		*(undefined2 *)(iVar2 + 7) = CONCAT11(*(undefined *)(iVar2 + 8), *(undefined *)(iVar2 + 7));
		*(undefined2 *)(iVar2 + 9) = CONCAT11(*(undefined *)(iVar2 + 10), *(undefined *)(iVar2 + 9));
		*(uint *)(iVar2 + 0xb) = (uint) * (byte *)(iVar2 + 0xe) << 0x18 | (uint) * (byte *)(iVar2 + 0xd) << 0x10 | (uint) * (byte *)(iVar2 + 0xc) << 8 | (uint) * (byte *)(iVar2 + 0xb);
		*(undefined2 *)(iVar2 + 0x14) = CONCAT11(*(undefined *)(iVar2 + 0x15), *(undefined *)(iVar2 + 0x14));
		*(uint *)(iVar2 + 0x16) = (uint) * (byte *)(iVar2 + 0x19) << 0x18 | (uint) * (byte *)(iVar2 + 0x18) << 0x10 | (uint) * (byte *)(iVar2 + 0x17) << 8 | (uint) * (byte *)(iVar2 + 0x16);
		*(uint *)(iVar2 + 0x1a) = (uint) * (byte *)(iVar2 + 0x1d) << 0x18 | (uint) * (byte *)(iVar2 + 0x1c) << 0x10 | (uint) * (byte *)(iVar2 + 0x1b) << 8 | (uint) * (byte *)(iVar2 + 0x1a);
		uVar8 = (ulonglong) * (uint *)(iVar2 + 0xb);
		uVar10 = param_1;
		iVar7 = FindGetItem((uint) * (ushort *)(iVar2 + 7), *(short *)(iVar2 + 9), *(uint *)(iVar2 + 0xb));
		uVar6 = delta_get_item(iVar2, (uint) * (byte *)(iVar2 + 4), uVar8, uVar10, param_5, param_6, param_7,
		    param_8, in_stack_ffffffa8);
		if ((int)uVar6 == 0) {
			NetSendCmdGItem2(1, 8, (ulonglong) * (byte *)(iVar2 + 1), (ulonglong) * (byte *)(iVar2 + 2), param_1,
			    param_6, param_7, param_8, in_stack_ffffffa8);
		} else {
			uVar8 = (ulonglong)(byte)*ppuVar5[-0x1df9];
			if (((uVar8 == (ulonglong) * (byte *)(iVar2 + 4)) || ((uint) * (byte *)(iVar2 + 2) == *(uint *)puVar3)) && (uVar1 = *(uint *)puVar3, (uint) * (byte *)(iVar2 + 1) != uVar1)) {
				if ((uint) * (byte *)(iVar2 + 2) == uVar1) {
					if (uVar8 == (ulonglong) * (byte *)(iVar2 + 4)) {
						FUN_100490dc(uVar1, iVar7, uVar8, uVar10, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
					} else {
						uVar9 = (ulonglong) * (uint *)(puVar4 + uVar1 * 0x55ec + 0x3c);
						uVar11 = (ulonglong) * (ushort *)(iVar2 + 7);
						uVar12 = (ulonglong) * (ushort *)(iVar2 + 9);
						uVar13 = *(uint *)(iVar2 + 0xb);
						uVar14 = (uint) * (byte *)(iVar2 + 0xf);
						uVar15 = (uint) * (byte *)(iVar2 + 0x10);
						uVar8 = FUN_1004a11c(uVar1, (ulonglong) * (uint *)(puVar4 + uVar1 * 0x55ec + 0x38), uVar9,
						    (uint) * (ushort *)(iVar2 + 7), uVar12, (ulonglong)uVar13,
						    (uint) * (byte *)(iVar2 + 0xf), (uint) * (byte *)(iVar2 + 0x10),
						    in_stack_ffffffa8, in_stack_ffffffaf, (uint) * (byte *)(iVar2 + 0x11),
						    (uint) * (byte *)(iVar2 + 0x12), (uint) * (byte *)(iVar2 + 0x13),
						    (uint) * (ushort *)(iVar2 + 0x14), *(undefined4 *)(iVar2 + 0x16));
						if ((int)uVar8 != -1) {
							FUN_100490dc(*(int *)puVar3, (int)uVar8, uVar9, uVar11, uVar12, uVar13, uVar14, uVar15,
							    in_stack_ffffffa8);
						}
					}
				} else {
					SyncGetItem((uint) * (byte *)(iVar2 + 5), (uint) * (byte *)(iVar2 + 6),
					    (uint) * (ushort *)(iVar2 + 7), *(short *)(iVar2 + 9), *(int *)(iVar2 + 0xb), 4,
					    (char)param_7, (char)param_8, in_stack_ffffffa8, in_stack_ffffffaf,
					    in_stack_ffffffcc);
				}
			}
		}
	}
	return 0x1e;
}

undefined8
On_GOTOAGETITEM(int param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined4 in_stack_ffffffc8;

	if ((*_DAT_100f1d14 != '\x01') && (puVar1 = PTR_DAT_100f1828 + (int)param_2 * 0x55ec, (uint)(byte)*PTR_DAT_100f17ec == *(uint *)(puVar1 + 0x34))) {
		*(undefined2 *)(param_1 + 3) = CONCAT11(*(undefined *)(param_1 + 4), *(undefined *)(param_1 + 3));
		MakePlrPath(param_2, (ulonglong) * (byte *)(param_1 + 1), (ulonglong) * (byte *)(param_1 + 2), 0,
		    param_5, param_6, param_7, param_8, in_stack_ffffffc8);
		*(undefined4 *)(puVar1 + 0x20) = 0x10;
		*(uint *)(puVar1 + 0x24) = (uint) * (ushort *)(param_1 + 3);
	}
	return 5;
}

undefined8
On_REQUESTAGITEM(ulonglong uParm1, int iParm2, undefined8 uParm3, undefined param_4, undefined param_5,
    undefined8 uParm6, undefined8 uParm7, undefined8 uParm8)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	ulonglong uVar4;
	undefined8 uVar5;
	int iVar6;
	ulonglong uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined4 uVar11;
	undefined4 uVar12;
	undefined uVar13;
	undefined4 uVar14;
	undefined4 uVar15;
	undefined uVar16;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffec;

	puVar2 = PTR_DAT_100f1824;
	uVar15 = (undefined4)uParm8;
	uVar14 = (undefined4)((ulonglong)uParm8 >> 0x20);
	uVar12 = (undefined4)uParm7;
	uVar11 = (undefined4)((ulonglong)uParm7 >> 0x20);
	if (*_DAT_100f1d14 != '\x01') {
		iVar1 = (int)uParm1;
		*(undefined2 *)(iVar1 + 7) = CONCAT11(*(undefined *)(iVar1 + 8), *(undefined *)(iVar1 + 7));
		*(undefined2 *)(iVar1 + 9) = CONCAT11(*(undefined *)(iVar1 + 10), *(undefined *)(iVar1 + 9));
		*(uint *)(iVar1 + 0xb) = (uint) * (byte *)(iVar1 + 0xe) << 0x18 | (uint) * (byte *)(iVar1 + 0xd) << 0x10 | (uint) * (byte *)(iVar1 + 0xc) << 8 | (uint) * (byte *)(iVar1 + 0xb);
		*(undefined2 *)(iVar1 + 0x14) = CONCAT11(*(undefined *)(iVar1 + 0x15), *(undefined *)(iVar1 + 0x14));
		*(uint *)(iVar1 + 0x16) = (uint) * (byte *)(iVar1 + 0x19) << 0x18 | (uint) * (byte *)(iVar1 + 0x18) << 0x10 | (uint) * (byte *)(iVar1 + 0x17) << 8 | (uint) * (byte *)(iVar1 + 0x16);
		puVar3 = PTR_DAT_100f1828;
		*(uint *)(iVar1 + 0x1a) = (uint) * (byte *)(iVar1 + 0x1d) << 0x18 | (uint) * (byte *)(iVar1 + 0x1c) << 0x10 | (uint) * (byte *)(iVar1 + 0x1b) << 8 | (uint) * (byte *)(iVar1 + 0x1a);
		uVar4 = FUN_1007b548(*(int *)(puVar3 + iParm2 * 0x55ec + 0x34));
		if (((int)uVar4 != 0) && (uVar5 = FUN_100540d0(*(int *)(iVar1 + 0xb), *(short *)(iVar1 + 9), (uint) * (ushort *)(iVar1 + 7), param_4, param_5, (char)uParm6, (char)uVar12, (char)uVar15, in_stack_ffffffc8), (int)uVar5 != 0)) {
			iVar6 = FindGetItem((uint) * (ushort *)(iVar1 + 7), *(short *)(iVar1 + 9), *(int *)(iVar1 + 0xb));
			if (iVar6 == -1) {
				if ((iVar6 == -1) && (uVar5 = FUN_1007aef8(0x28, (char)*(undefined4 *)puVar2, *(undefined *)(iVar1 + 2), (char)uParm1, param_5, (char)uParm6, (char)uVar12, (char)uVar15, in_stack_ffffffc8), (int)uVar5 == 0)) {
					FUN_1007afec(uParm1);
				}
			} else {
				uVar7 = (ulonglong) * (byte *)(iVar1 + 2);
				uVar4 = (ulonglong)(*(uint *)puVar2 & 0xff);
				NetSendCmdGItem2(0, 9, uVar4, uVar7, uParm1, (int)uParm6, uVar12, uVar15, in_stack_ffffffc8);
				uVar10 = (undefined)uParm6;
				uVar9 = (undefined)uParm1;
				uVar8 = (undefined)uVar7;
				uVar16 = (undefined)uVar15;
				uVar13 = (undefined)uVar12;
				if ((uint) * (byte *)(iVar1 + 2) == *(uint *)puVar2) {
					AutoGetItem((ulonglong) * (uint *)puVar2, (ulonglong) * (byte *)(iVar1 + 3), uVar4, uVar7, uParm1, uParm6, CONCAT44(uVar11, uVar12), CONCAT44(uVar14, uVar15), in_stack_ffffffc8);
				} else {
					uVar10 = 5;
					uVar8 = (undefined) * (short *)(iVar1 + 9);
					uVar9 = (undefined) * (int *)(iVar1 + 0xb);
					SyncGetItem((uint) * (byte *)(iVar1 + 5), (uint) * (byte *)(iVar1 + 6),
					    (uint) * (ushort *)(iVar1 + 7), *(short *)(iVar1 + 9), *(int *)(iVar1 + 0xb), 5,
					    uVar13, uVar16, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffec);
				}
				FUN_10054188(*(undefined4 *)(iVar1 + 0xb), *(undefined2 *)(iVar1 + 9),
				    (uint) * (ushort *)(iVar1 + 7), uVar8, uVar9, uVar10, uVar13, uVar16, in_stack_ffffffc8);
			}
		}
	}
	return 0x1e;
}

undefined8
On_AGETITEM(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    ulonglong param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	uint uVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	undefined8 uVar6;
	ulonglong uVar7;
	ulonglong uVar8;
	ulonglong uVar9;
	ulonglong uVar10;
	ulonglong uVar11;
	ulonglong uVar12;
	ulonglong uVar13;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined4 in_stack_ffffffbc;

	puVar4 = PTR_DAT_100f1828;
	puVar3 = PTR_DAT_100f1824;
	ppuVar5 = &toc;
	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 0x1e, (char)param_1, (char)param_5, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffff98);
	} else {
		iVar2 = (int)param_1;
		*(undefined2 *)(iVar2 + 7) = CONCAT11(*(undefined *)(iVar2 + 8), *(undefined *)(iVar2 + 7));
		*(undefined2 *)(iVar2 + 9) = CONCAT11(*(undefined *)(iVar2 + 10), *(undefined *)(iVar2 + 9));
		*(uint *)(iVar2 + 0xb) = (uint) * (byte *)(iVar2 + 0xe) << 0x18 | (uint) * (byte *)(iVar2 + 0xd) << 0x10 | (uint) * (byte *)(iVar2 + 0xc) << 8 | (uint) * (byte *)(iVar2 + 0xb);
		*(undefined2 *)(iVar2 + 0x14) = CONCAT11(*(undefined *)(iVar2 + 0x15), *(undefined *)(iVar2 + 0x14));
		*(uint *)(iVar2 + 0x16) = (uint) * (byte *)(iVar2 + 0x19) << 0x18 | (uint) * (byte *)(iVar2 + 0x18) << 0x10 | (uint) * (byte *)(iVar2 + 0x17) << 8 | (uint) * (byte *)(iVar2 + 0x16);
		*(uint *)(iVar2 + 0x1a) = (uint) * (byte *)(iVar2 + 0x1d) << 0x18 | (uint) * (byte *)(iVar2 + 0x1c) << 0x10 | (uint) * (byte *)(iVar2 + 0x1b) << 8 | (uint) * (byte *)(iVar2 + 0x1a);
		uVar8 = (ulonglong) * (uint *)(iVar2 + 0xb);
		uVar7 = param_1;
		FindGetItem((uint) * (ushort *)(iVar2 + 7), *(short *)(iVar2 + 9), *(uint *)(iVar2 + 0xb));
		uVar6 = delta_get_item(iVar2, (uint) * (byte *)(iVar2 + 4), uVar8, uVar7, param_5, (int)param_6,
		    (int)param_7, (int)param_8, in_stack_ffffff98);
		if ((int)uVar6 == 0) {
			NetSendCmdGItem2(1, 9, (ulonglong) * (byte *)(iVar2 + 1), (ulonglong) * (byte *)(iVar2 + 2), param_1,
			    (int)param_6, (int)param_7, (int)param_8, in_stack_ffffff98);
		} else {
			uVar8 = (ulonglong)(byte)*ppuVar5[-0x1df9];
			if ((uVar8 == (ulonglong) * (byte *)(iVar2 + 4)) || ((uint) * (byte *)(iVar2 + 2) == *(uint *)puVar3)) {
				uVar1 = *(uint *)puVar3;
				if ((uint) * (byte *)(iVar2 + 1) != uVar1) {
					if ((uint) * (byte *)(iVar2 + 2) == uVar1) {
						if (uVar8 == (ulonglong) * (byte *)(iVar2 + 4)) {
							AutoGetItem((ulonglong)uVar1, (ulonglong) * (byte *)(iVar2 + 3), uVar8, uVar7, param_5,
							    param_6, param_7, param_8, in_stack_ffffff98);
						} else {
							uVar8 = (ulonglong) * (uint *)(puVar4 + uVar1 * 0x55ec + 0x3c);
							uVar9 = (ulonglong) * (ushort *)(iVar2 + 7);
							uVar10 = (ulonglong) * (ushort *)(iVar2 + 9);
							uVar11 = (ulonglong) * (uint *)(iVar2 + 0xb);
							uVar12 = (ulonglong) * (byte *)(iVar2 + 0xf);
							uVar13 = (ulonglong) * (byte *)(iVar2 + 0x10);
							uVar7 = FUN_1004a11c(uVar1, (ulonglong) * (uint *)(puVar4 + uVar1 * 0x55ec + 0x38), uVar8,
							    (uint) * (ushort *)(iVar2 + 7), uVar10, uVar11,
							    (uint) * (byte *)(iVar2 + 0xf), (uint) * (byte *)(iVar2 + 0x10),
							    in_stack_ffffff98, in_stack_ffffff9f, (uint) * (byte *)(iVar2 + 0x11), (uint) * (byte *)(iVar2 + 0x12), (uint) * (byte *)(iVar2 + 0x13),
							    (uint) * (ushort *)(iVar2 + 0x14), *(undefined4 *)(iVar2 + 0x16));
							if ((int)uVar7 != -1) {
								AutoGetItem((ulonglong) * (uint *)puVar3, uVar7, uVar8, uVar9, uVar10, uVar11, uVar12,
								    uVar13, in_stack_ffffff98);
							}
						}
					} else {
						SyncGetItem((uint) * (byte *)(iVar2 + 5), (uint) * (byte *)(iVar2 + 6),
						    (uint) * (ushort *)(iVar2 + 7), *(short *)(iVar2 + 9), *(int *)(iVar2 + 0xb), 6,
						    (char)param_7, (char)param_8, in_stack_ffffff98, in_stack_ffffff9f,
						    in_stack_ffffffbc);
					}
				}
			}
		}
	}
	return 0x1e;
}

undefined8
On_ITEMEXTRA(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined **ppuVar2;
	ulonglong uVar3;
	undefined uVar4;
	undefined uVar5;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffec;

	uVar5 = (undefined)param_8;
	uVar4 = (undefined)param_7;
	ppuVar2 = &toc;
	uVar3 = ZEXT48(_DAT_100f1d14);
	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 0x1e, (char)param_1, (char)param_5, (char)param_6, uVar4, uVar5,
		    in_stack_ffffffc8);
	} else {
		iVar1 = (int)param_1;
		*(undefined2 *)(iVar1 + 7) = CONCAT11(*(undefined *)(iVar1 + 8), *(undefined *)(iVar1 + 7));
		*(undefined2 *)(iVar1 + 9) = CONCAT11(*(undefined *)(iVar1 + 10), *(undefined *)(iVar1 + 9));
		*(uint *)(iVar1 + 0xb) = (uint) * (byte *)(iVar1 + 0xe) << 0x18 | (uint) * (byte *)(iVar1 + 0xd) << 0x10 | (uint) * (byte *)(iVar1 + 0xc) << 8 | (uint) * (byte *)(iVar1 + 0xb);
		*(undefined2 *)(iVar1 + 0x14) = CONCAT11(*(undefined *)(iVar1 + 0x15), *(undefined *)(iVar1 + 0x14));
		*(uint *)(iVar1 + 0x16) = (uint) * (byte *)(iVar1 + 0x19) << 0x18 | (uint) * (byte *)(iVar1 + 0x18) << 0x10 | (uint) * (byte *)(iVar1 + 0x17) << 8 | (uint) * (byte *)(iVar1 + 0x16);
		*(uint *)(iVar1 + 0x1a) = (uint) * (byte *)(iVar1 + 0x1d) << 0x18 | (uint) * (byte *)(iVar1 + 0x1c) << 0x10 | (uint) * (byte *)(iVar1 + 0x1b) << 8 | (uint) * (byte *)(iVar1 + 0x1a);
		delta_get_item(iVar1, (uint) * (byte *)(iVar1 + 4), uVar3, param_1, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
		if ((uint)(byte)*ppuVar2[-0x1df9] == *(uint *)(ppuVar2[-0x1dea] + (int)param_2 * 0x55ec + 0x34)) {
			SyncGetItem((uint) * (byte *)(iVar1 + 5), (uint) * (byte *)(iVar1 + 6),
			    (uint) * (ushort *)(iVar1 + 7), *(short *)(iVar1 + 9), *(int *)(iVar1 + 0xb), 7, uVar4,
			    uVar5, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffec);
		}
	}
	return 0x1e;
}

undefined8 FUN_1007c4f8(ulonglong uParm1, undefined8 uParm2)

{
	uint *puVar1;
	int iVar2;
	int iVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	ulonglong uVar7;
	ulonglong uVar8;
	undefined uVar11;
	uint uVar9;
	uint uVar10;
	undefined uVar13;
	undefined4 uVar12;
	undefined8 in_r8;
	undefined uVar15;
	uint uVar14;
	undefined8 in_r9;
	undefined uVar17;
	uint uVar16;
	undefined8 in_r10;
	undefined uVar19;
	uint uVar18;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;

	puVar6 = PTR_DAT_100f1940;
	puVar5 = PTR_DAT_100f1828;
	uVar18 = (uint)in_r10;
	uVar16 = (uint)in_r9;
	uVar14 = (uint)in_r8;
	uVar11 = SUB41(PTR_DAT_100f1828, 0);
	uVar15 = (undefined)in_r8;
	uVar17 = (undefined)in_r9;
	uVar19 = (undefined)in_r10;
	uVar13 = (undefined)uParm1;
	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(uParm2, uParm1, 0x16, uVar11, uVar13, uVar15, uVar17, uVar19, in_stack_ffffff98);
	} else {
		iVar2 = (int)uParm1;
		*(undefined2 *)(iVar2 + 3) = CONCAT11(*(undefined *)(iVar2 + 4), *(undefined *)(iVar2 + 3));
		*(undefined2 *)(iVar2 + 5) = CONCAT11(*(undefined *)(iVar2 + 6), *(undefined *)(iVar2 + 5));
		*(uint *)(iVar2 + 7) = (uint) * (byte *)(iVar2 + 10) << 0x18 | (uint) * (byte *)(iVar2 + 9) << 0x10 | (uint) * (byte *)(iVar2 + 8) << 8 | (uint) * (byte *)(iVar2 + 7);
		*(undefined2 *)(iVar2 + 0x10) = CONCAT11(*(undefined *)(iVar2 + 0x11), *(undefined *)(iVar2 + 0x10));
		puVar4 = PTR_DAT_100f17ec;
		iVar3 = (int)uParm2;
		*(uint *)(iVar2 + 0x12) = (uint) * (byte *)(iVar2 + 0x15) << 0x18 | (uint) * (byte *)(iVar2 + 0x14) << 0x10 | (uint) * (byte *)(iVar2 + 0x13) << 8 | (uint) * (byte *)(iVar2 + 0x12);
		puVar1 = (uint *)(puVar5 + iVar3 * 0x55ec + 0x34);
		if ((uint)(byte)*puVar4 == *puVar1) {
			if (iVar3 == *(int *)PTR_DAT_100f1824) {
				uVar7 = FUN_10049e58(iVar3, (ulonglong) * (byte *)(iVar2 + 1), (ulonglong) * (byte *)(iVar2 + 2),
				    uVar11, uVar13, uVar15, uVar17, uVar19, in_stack_ffffff98);
				uVar7._4_4_ = (int)uVar7;
			} else {
				uVar11 = (undefined) * (ushort *)(iVar2 + 3);
				uParm1 = (ulonglong) * (ushort *)(iVar2 + 5);
				uVar14 = *(uint *)(iVar2 + 7);
				uVar16 = (uint) * (byte *)(iVar2 + 0xb);
				uVar18 = (uint) * (byte *)(iVar2 + 0xc);
				uVar7 = FUN_1004a11c(iVar3, (ulonglong) * (byte *)(iVar2 + 1), (ulonglong) * (byte *)(iVar2 + 2),
				    (uint) * (ushort *)(iVar2 + 3), uParm1, (ulonglong)uVar14,
				    (uint) * (byte *)(iVar2 + 0xb), (uint) * (byte *)(iVar2 + 0xc),
				    in_stack_ffffff98, in_stack_ffffff9f, (uint) * (byte *)(iVar2 + 0xd),
				    (uint) * (byte *)(iVar2 + 0xe), (uint) * (byte *)(iVar2 + 0xf),
				    (uint) * (ushort *)(iVar2 + 0x10), *(undefined4 *)(iVar2 + 0x12));
				uVar7._4_4_ = (int)uVar7;
			}
			if (uVar7._4_4_ != -1) {
				FUN_100541f8(*(int *)(iVar2 + 7), *(short *)(iVar2 + 5), (uint) * (ushort *)(iVar2 + 3), uVar11,
				    (char)uParm1, (char)uVar14, (char)uVar16, (char)uVar18, in_stack_ffffff98);
				uVar12 = (undefined4)uParm1;
				uVar10 = *(uint *)(puVar6 + uVar7._4_4_ * 0x170 + 0xc);
				uVar7 = (ulonglong)uVar10;
				uVar8 = (ulonglong) * (uint *)(puVar6 + uVar7._4_4_ * 0x170 + 0x10);
				uVar9 = *puVar1 & 0xff;
				delta_put_item(iVar2, (byte)uVar10, uVar8, (ulonglong)uVar9, uParm1, uVar14, uVar16, uVar18,
				    in_stack_ffffff98);
				check_update_plr(iVar3, uVar7, uVar8, uVar9, uVar12, uVar14, uVar16, uVar18, in_stack_ffffff98);
			}
		} else {
			FUN_100541f8(*(int *)(iVar2 + 7), *(short *)(iVar2 + 5), (uint) * (ushort *)(iVar2 + 3), uVar11,
			    uVar13, uVar15, uVar17, uVar19, in_stack_ffffff98);
			uVar12 = (undefined4)uParm1;
			uVar7 = (ulonglong) * (byte *)(iVar2 + 1);
			uVar8 = (ulonglong) * (byte *)(iVar2 + 2);
			uVar10 = *puVar1 & 0xff;
			delta_put_item(iVar2, *(byte *)(iVar2 + 1), uVar8, (ulonglong)uVar10, uParm1, uVar14, uVar16, uVar18,
			    in_stack_ffffff98);
			check_update_plr(iVar3, uVar7, uVar8, uVar10, uVar12, uVar14, uVar16, uVar18, in_stack_ffffff98);
		}
	}
	return 0x16;
}

undefined8 FUN_1007c6ac(undefined8 uParm1, undefined8 uParm2)

{
	uint uVar1;
	uint *puVar2;
	int iVar3;
	int iVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	ulonglong uVar8;
	ulonglong uVar9;
	undefined uVar11;
	uint uVar10;
	ulonglong uVar12;
	undefined4 uVar13;
	undefined4 uVar14;
	undefined8 in_r8;
	uint uVar15;
	undefined8 in_r9;
	uint uVar16;
	undefined4 uVar17;
	undefined8 in_r10;
	uint uVar18;
	undefined4 uVar19;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;

	puVar7 = PTR_DAT_100f1940;
	puVar6 = PTR_DAT_100f1828;
	uVar19 = (undefined4)in_r10;
	uVar17 = (undefined4)in_r9;
	uVar13 = (undefined4)in_r8;
	uVar11 = SUB41(PTR_DAT_100f1828, 0);
	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(uParm2, uParm1, 0x16, uVar11, (char)uParm1, (char)in_r8, (char)in_r9, (char)in_r10,
		    in_stack_ffffff98);
	} else {
		iVar3 = (int)uParm1;
		*(undefined2 *)(iVar3 + 3) = CONCAT11(*(undefined *)(iVar3 + 4), *(undefined *)(iVar3 + 3));
		*(undefined2 *)(iVar3 + 5) = CONCAT11(*(undefined *)(iVar3 + 6), *(undefined *)(iVar3 + 5));
		*(uint *)(iVar3 + 7) = (uint) * (byte *)(iVar3 + 10) << 0x18 | (uint) * (byte *)(iVar3 + 9) << 0x10 | (uint) * (byte *)(iVar3 + 8) << 8 | (uint) * (byte *)(iVar3 + 7);
		*(undefined2 *)(iVar3 + 0x10) = CONCAT11(*(undefined *)(iVar3 + 0x11), *(undefined *)(iVar3 + 0x10));
		puVar5 = PTR_DAT_100f17ec;
		iVar4 = (int)uParm2;
		*(uint *)(iVar3 + 0x12) = (uint) * (byte *)(iVar3 + 0x15) << 0x18 | (uint) * (byte *)(iVar3 + 0x14) << 0x10 | (uint) * (byte *)(iVar3 + 0x13) << 8 | (uint) * (byte *)(iVar3 + 0x12);
		puVar2 = (uint *)(puVar6 + iVar4 * 0x55ec + 0x34);
		if ((uint)(byte)*puVar5 == *puVar2) {
			uVar11 = (undefined) * (ushort *)(iVar3 + 3);
			uVar12 = (ulonglong) * (ushort *)(iVar3 + 5);
			uVar15 = *(uint *)(iVar3 + 7);
			uVar16 = (uint) * (byte *)(iVar3 + 0xb);
			uVar18 = (uint) * (byte *)(iVar3 + 0xc);
			uVar8 = FUN_1004a11c(iVar4, (ulonglong) * (byte *)(iVar3 + 1), (ulonglong) * (byte *)(iVar3 + 2),
			    (uint) * (ushort *)(iVar3 + 3), uVar12, (ulonglong)uVar15,
			    (uint) * (byte *)(iVar3 + 0xb), (uint) * (byte *)(iVar3 + 0xc),
			    in_stack_ffffff98, in_stack_ffffff9f, (uint) * (byte *)(iVar3 + 0xd),
			    (uint) * (byte *)(iVar3 + 0xe), (uint) * (byte *)(iVar3 + 0xf),
			    (uint) * (ushort *)(iVar3 + 0x10), *(undefined4 *)(iVar3 + 0x12));
			if ((int)uVar8 != -1) {
				FUN_100541f8(*(int *)(iVar3 + 7), *(short *)(iVar3 + 5), (uint) * (ushort *)(iVar3 + 3), uVar11,
				    (char)uVar12, (char)uVar15, (char)uVar16, (char)uVar18, in_stack_ffffff98);
				uVar13 = (undefined4)uVar12;
				uVar1 = *(uint *)(puVar7 + (int)uVar8 * 0x170 + 0xc);
				uVar9 = (ulonglong)uVar1;
				uVar8 = (ulonglong) * (uint *)(puVar7 + (int)uVar8 * 0x170 + 0x10);
				uVar10 = *puVar2 & 0xff;
				delta_put_item(iVar3, (byte)uVar1, uVar8, (ulonglong)uVar10, uVar12, uVar15, uVar16, uVar18,
				    in_stack_ffffff98);
				check_update_plr(iVar4, uVar9, uVar8, uVar10, uVar13, uVar15, uVar16, uVar18, in_stack_ffffff98);
			}
		} else {
			FUN_100541f8(*(int *)(iVar3 + 7), *(short *)(iVar3 + 5), (uint) * (ushort *)(iVar3 + 3), uVar11,
			    (char)uParm1, (char)in_r8, (char)in_r9, (char)in_r10, in_stack_ffffff98);
			uVar14 = (undefined4)uParm1;
			uVar8 = (ulonglong) * (byte *)(iVar3 + 1);
			uVar12 = (ulonglong) * (byte *)(iVar3 + 2);
			uVar15 = *puVar2 & 0xff;
			delta_put_item(iVar3, *(byte *)(iVar3 + 1), uVar12, (ulonglong)uVar15, uParm1, uVar13, uVar17, uVar19,
			    in_stack_ffffff98);
			check_update_plr(iVar4, uVar8, uVar12, uVar15, uVar14, uVar13, uVar17, uVar19, in_stack_ffffff98);
		}
	}
	return 0x16;
}

undefined8 FUN_1007c838(ulonglong uParm1, undefined8 uParm2)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined uVar5;
	undefined8 in_r8;
	uint uVar6;
	undefined8 in_r9;
	uint uVar7;
	undefined8 in_r10;
	uint uVar8;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;

	puVar4 = PTR_DAT_100f1828;
	uVar8 = (uint)in_r10;
	uVar7 = (uint)in_r9;
	uVar6 = (uint)in_r8;
	uVar5 = SUB41(PTR_DAT_100f1828, 0);
	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(uParm2, uParm1, 0x16, uVar5, (char)uParm1, (char)in_r8, (char)in_r9, (char)in_r10,
		    in_stack_ffffff98);
	} else {
		iVar1 = (int)uParm1;
		*(undefined2 *)(iVar1 + 3) = CONCAT11(*(undefined *)(iVar1 + 4), *(undefined *)(iVar1 + 3));
		*(undefined2 *)(iVar1 + 5) = CONCAT11(*(undefined *)(iVar1 + 6), *(undefined *)(iVar1 + 5));
		*(uint *)(iVar1 + 7) = (uint) * (byte *)(iVar1 + 10) << 0x18 | (uint) * (byte *)(iVar1 + 9) << 0x10 | (uint) * (byte *)(iVar1 + 8) << 8 | (uint) * (byte *)(iVar1 + 7);
		*(undefined2 *)(iVar1 + 0x10) = CONCAT11(*(undefined *)(iVar1 + 0x11), *(undefined *)(iVar1 + 0x10));
		puVar3 = PTR_DAT_100f17ec;
		iVar2 = (int)uParm2;
		*(uint *)(iVar1 + 0x12) = (uint) * (byte *)(iVar1 + 0x15) << 0x18 | (uint) * (byte *)(iVar1 + 0x14) << 0x10 | (uint) * (byte *)(iVar1 + 0x13) << 8 | (uint) * (byte *)(iVar1 + 0x12);
		if (((uint)(byte)*puVar3 == *(uint *)(puVar4 + iVar2 * 0x55ec + 0x34)) && (iVar2 != *(int *)PTR_DAT_100f1824)) {
			uVar5 = (undefined) * (ushort *)(iVar1 + 3);
			uParm1 = (ulonglong) * (ushort *)(iVar1 + 5);
			uVar6 = *(uint *)(iVar1 + 7);
			uVar7 = (uint) * (byte *)(iVar1 + 0xb);
			uVar8 = (uint) * (byte *)(iVar1 + 0xc);
			FUN_1004a11c(iVar2, (ulonglong) * (byte *)(iVar1 + 1), (ulonglong) * (byte *)(iVar1 + 2),
			    (uint) * (ushort *)(iVar1 + 3), uParm1, (ulonglong)uVar6, (uint) * (byte *)(iVar1 + 0xb), (uint) * (byte *)(iVar1 + 0xc), in_stack_ffffff98, in_stack_ffffff9f,
			    (uint) * (byte *)(iVar1 + 0xd), (uint) * (byte *)(iVar1 + 0xe),
			    (uint) * (byte *)(iVar1 + 0xf), (uint) * (ushort *)(iVar1 + 0x10),
			    *(undefined4 *)(iVar1 + 0x12));
		}
		FUN_100541f8(*(int *)(iVar1 + 7), *(short *)(iVar1 + 5), (uint) * (ushort *)(iVar1 + 3), uVar5,
		    (char)uParm1, (char)uVar6, (char)uVar7, (char)uVar8, in_stack_ffffff98);
		delta_put_item(iVar1, *(byte *)(iVar1 + 1), (ulonglong) * (byte *)(iVar1 + 2),
		    (ulonglong)(*(uint *)(puVar4 + iVar2 * 0x55ec + 0x34) & 0xff), uParm1, uVar6, uVar7,
		    uVar8, in_stack_ffffff98);
	}
	return 0x16;
}

undefined8
On_ATTACKXY(int param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined4 in_stack_ffffffc8;

	if ((*_DAT_100f1d14 != '\x01') && (puVar1 = PTR_DAT_100f1828 + (int)param_2 * 0x55ec, (uint)(byte)*PTR_DAT_100f17ec == *(uint *)(puVar1 + 0x34))) {
		MakePlrPath(param_2, (ulonglong) * (byte *)(param_1 + 1), (ulonglong) * (byte *)(param_1 + 2), 0,
		    param_5, param_6, param_7, param_8, in_stack_ffffffc8);
		*(undefined4 *)(puVar1 + 0x20) = 9;
		*(uint *)(puVar1 + 0x24) = (uint) * (byte *)(param_1 + 1);
		*(uint *)(puVar1 + 0x28) = (uint) * (byte *)(param_1 + 2);
	}
	return 3;
}

undefined8
On_SATTACKXY(int param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined4 in_stack_ffffffc8;

	if ((*_DAT_100f1d14 != '\x01') && (puVar1 = PTR_DAT_100f1828 + (int)param_2 * 0x55ec, (uint)(byte)*PTR_DAT_100f17ec == *(uint *)(puVar1 + 0x34))) {
		ClrPlrPath(param_2, param_2, ZEXT48(_DAT_100f1d14), ZEXT48(PTR_DAT_100f1828), param_5, param_6,
		    param_7, param_8, in_stack_ffffffc8);
		*(undefined4 *)(puVar1 + 0x20) = 9;
		*(uint *)(puVar1 + 0x24) = (uint) * (byte *)(param_1 + 1);
		*(uint *)(puVar1 + 0x28) = (uint) * (byte *)(param_1 + 2);
	}
	return 3;
}

undefined8
On_RATTACKXY(int param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined4 in_stack_ffffffc8;

	if ((*_DAT_100f1d14 != '\x01') && (puVar1 = PTR_DAT_100f1828 + (int)param_2 * 0x55ec, (uint)(byte)*PTR_DAT_100f17ec == *(uint *)(puVar1 + 0x34))) {
		ClrPlrPath(param_2, param_2, ZEXT48(_DAT_100f1d14), ZEXT48(PTR_DAT_100f1828), param_5, param_6,
		    param_7, param_8, in_stack_ffffffc8);
		*(undefined4 *)(puVar1 + 0x20) = 10;
		*(uint *)(puVar1 + 0x24) = (uint) * (byte *)(param_1 + 1);
		*(uint *)(puVar1 + 0x28) = (uint) * (byte *)(param_1 + 2);
	}
	return 3;
}

undefined8
On_SPELLXYD(int param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	byte bVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	ulonglong uVar5;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar3 = PTR_DAT_100f1828;
	puVar4 = PTR_DAT_100f17ec;
	uVar5 = ZEXT48(PTR_DAT_100f17ec);
	if (*_DAT_100f1d14 != '\x01') {
		iVar2 = (int)param_2 * 0x55ec;
		bVar1 = *PTR_DAT_100f17ec;
		if ((uint)bVar1 == *(uint *)(PTR_DAT_100f1828 + iVar2 + 0x34)) {
			*(undefined2 *)(param_1 + 3) = CONCAT11(*(undefined *)(param_1 + 4), *(undefined *)(param_1 + 3));
			*(undefined2 *)(param_1 + 5) = CONCAT11(*(undefined *)(param_1 + 6), *(undefined *)(param_1 + 5));
			*(undefined2 *)(param_1 + 7) = CONCAT11(*(undefined *)(param_1 + 8), *(undefined *)(param_1 + 7));
			if ((*puVar4 == '\0') && (*(int *)(PTR_DAT_100f1934 + (uint) * (ushort *)(param_1 + 3) * 0x38 + 0x18) == 0)) {
				msg_errorf(PTR_s__s_has_cast_an_illegal_spell__100f3338, puVar3 + iVar2 + 0x13c, (uint)bVar1, puVar4, (int)param_5, param_6, param_7, param_8, in_stack_ffffffb8,
				    in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0,
				    in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0,
				    in_stack_ffffffe4);
			} else {
				ClrPlrPath(param_2, param_2, (ulonglong)bVar1, uVar5, param_5, param_6, param_7, param_8,
				    in_stack_ffffffb8);
				puVar3 = puVar3 + iVar2;
				*(undefined4 *)(puVar3 + 0x20) = 0x1a;
				*(uint *)(puVar3 + 0x24) = (uint) * (byte *)(param_1 + 1);
				*(uint *)(puVar3 + 0x28) = (uint) * (byte *)(param_1 + 2);
				*(uint *)(puVar3 + 0x2c) = (uint) * (ushort *)(param_1 + 5);
				*(uint *)(puVar3 + 0x30) = (uint) * (ushort *)(param_1 + 7);
				*(uint *)(puVar3 + 0xa4) = (uint) * (ushort *)(param_1 + 3);
				puVar3[0xa8] = puVar3[0xb8];
				puVar3[0xa9] = 0;
			}
		}
	}
	return 9;
}

undefined8
On_SPELLXY(int param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	byte bVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	ulonglong uVar5;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar3 = PTR_DAT_100f1828;
	puVar4 = PTR_DAT_100f17ec;
	uVar5 = ZEXT48(PTR_DAT_100f17ec);
	if (*_DAT_100f1d14 != '\x01') {
		iVar2 = (int)param_2 * 0x55ec;
		bVar1 = *PTR_DAT_100f17ec;
		if ((uint)bVar1 == *(uint *)(PTR_DAT_100f1828 + iVar2 + 0x34)) {
			*(undefined2 *)(param_1 + 3) = CONCAT11(*(undefined *)(param_1 + 4), *(undefined *)(param_1 + 3));
			*(undefined2 *)(param_1 + 5) = CONCAT11(*(undefined *)(param_1 + 6), *(undefined *)(param_1 + 5));
			if ((*puVar4 == '\0') && (*(int *)(PTR_DAT_100f1934 + (uint) * (ushort *)(param_1 + 3) * 0x38 + 0x18) == 0)) {
				msg_errorf(PTR_s__s_has_cast_an_illegal_spell__100f3338, puVar3 + iVar2 + 0x13c, (uint)bVar1, puVar4, (int)param_5, param_6, param_7, param_8, in_stack_ffffffb8,
				    in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0,
				    in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0,
				    in_stack_ffffffe4);
			} else {
				ClrPlrPath(param_2, param_2, (ulonglong)bVar1, uVar5, param_5, param_6, param_7, param_8,
				    in_stack_ffffffb8);
				puVar3 = puVar3 + iVar2;
				*(undefined4 *)(puVar3 + 0x20) = 0xc;
				*(uint *)(puVar3 + 0x24) = (uint) * (byte *)(param_1 + 1);
				*(uint *)(puVar3 + 0x28) = (uint) * (byte *)(param_1 + 2);
				*(uint *)(puVar3 + 0x2c) = (uint) * (ushort *)(param_1 + 5);
				*(uint *)(puVar3 + 0xa4) = (uint) * (ushort *)(param_1 + 3);
				puVar3[0xa8] = puVar3[0xb8];
				puVar3[0xa9] = 0;
			}
		}
	}
	return 7;
}

undefined8
On_TSPELLXY(int param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	byte bVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	ulonglong uVar5;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar3 = PTR_DAT_100f1828;
	puVar4 = PTR_DAT_100f17ec;
	uVar5 = ZEXT48(PTR_DAT_100f17ec);
	if (*_DAT_100f1d14 != '\x01') {
		iVar2 = (int)param_2 * 0x55ec;
		bVar1 = *PTR_DAT_100f17ec;
		if ((uint)bVar1 == *(uint *)(PTR_DAT_100f1828 + iVar2 + 0x34)) {
			*(undefined2 *)(param_1 + 3) = CONCAT11(*(undefined *)(param_1 + 4), *(undefined *)(param_1 + 3));
			*(undefined2 *)(param_1 + 5) = CONCAT11(*(undefined *)(param_1 + 6), *(undefined *)(param_1 + 5));
			if ((*puVar4 == '\0') && (*(int *)(PTR_DAT_100f1934 + (uint) * (ushort *)(param_1 + 3) * 0x38 + 0x18) == 0)) {
				msg_errorf(PTR_s__s_has_cast_an_illegal_spell__100f3338, puVar3 + iVar2 + 0x13c, (uint)bVar1, puVar4, (int)param_5, param_6, param_7, param_8, in_stack_ffffffb8,
				    in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0,
				    in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0,
				    in_stack_ffffffe4);
			} else {
				ClrPlrPath(param_2, param_2, (ulonglong)bVar1, uVar5, param_5, param_6, param_7, param_8,
				    in_stack_ffffffb8);
				puVar3 = puVar3 + iVar2;
				*(undefined4 *)(puVar3 + 0x20) = 0xc;
				*(uint *)(puVar3 + 0x24) = (uint) * (byte *)(param_1 + 1);
				*(uint *)(puVar3 + 0x28) = (uint) * (byte *)(param_1 + 2);
				*(uint *)(puVar3 + 0x2c) = (uint) * (ushort *)(param_1 + 5);
				*(uint *)(puVar3 + 0xa4) = (uint) * (ushort *)(param_1 + 3);
				puVar3[0xa8] = puVar3[0xb0];
				puVar3[0xa9] = 2;
			}
		}
	}
	return 7;
}

undefined8
On_OPOBJXY(int param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined4 in_stack_ffffffb8;

	puVar3 = PTR_DAT_100f1948;
	puVar2 = PTR_DAT_100f1828;
	if ((*_DAT_100f1d14 != '\x01') && (iVar1 = (int)param_2 * 0x55ec, (uint)(byte)*PTR_DAT_100f17ec == *(uint *)(PTR_DAT_100f1828 + iVar1 + 0x34))) {
		*(undefined2 *)(param_1 + 3) = CONCAT11(*(undefined *)(param_1 + 4), *(undefined *)(param_1 + 3));
		if ((*(int *)(puVar3 + (uint) * (ushort *)(param_1 + 3) * 0x78 + 0x38) == 0) && (*(int *)(puVar3 + (uint) * (ushort *)(param_1 + 3) * 0x78 + 0x4c) == 0)) {
			MakePlrPath(param_2, (ulonglong) * (byte *)(param_1 + 1), (ulonglong) * (byte *)(param_1 + 2), 1,
			    param_5, param_6, param_7, param_8, in_stack_ffffffb8);
		} else {
			MakePlrPath(param_2, (ulonglong) * (byte *)(param_1 + 1), (ulonglong) * (byte *)(param_1 + 2), 0,
			    param_5, param_6, param_7, param_8, in_stack_ffffffb8);
		}
		*(undefined4 *)(puVar2 + iVar1 + 0x20) = 0xd;
		*(uint *)(puVar2 + iVar1 + 0x24) = (uint) * (ushort *)(param_1 + 3);
	}
	return 5;
}

undefined8
On_DISARMXY(int param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined4 in_stack_ffffffb8;

	puVar3 = PTR_DAT_100f1948;
	puVar2 = PTR_DAT_100f1828;
	if ((*_DAT_100f1d14 != '\x01') && (iVar1 = (int)param_2 * 0x55ec, (uint)(byte)*PTR_DAT_100f17ec == *(uint *)(PTR_DAT_100f1828 + iVar1 + 0x34))) {
		*(undefined2 *)(param_1 + 3) = CONCAT11(*(undefined *)(param_1 + 4), *(undefined *)(param_1 + 3));
		if ((*(int *)(puVar3 + (uint) * (ushort *)(param_1 + 3) * 0x78 + 0x38) == 0) && (*(int *)(puVar3 + (uint) * (ushort *)(param_1 + 3) * 0x78 + 0x4c) == 0)) {
			MakePlrPath(param_2, (ulonglong) * (byte *)(param_1 + 1), (ulonglong) * (byte *)(param_1 + 2), 1,
			    param_5, param_6, param_7, param_8, in_stack_ffffffb8);
		} else {
			MakePlrPath(param_2, (ulonglong) * (byte *)(param_1 + 1), (ulonglong) * (byte *)(param_1 + 2), 0,
			    param_5, param_6, param_7, param_8, in_stack_ffffffb8);
		}
		*(undefined4 *)(puVar2 + iVar1 + 0x20) = 0xe;
		*(uint *)(puVar2 + iVar1 + 0x24) = (uint) * (ushort *)(param_1 + 3);
	}
	return 5;
}

undefined8 FUN_1007d028(int param_1, int param_2)

{
	undefined *puVar1;

	if ((*_DAT_100f1d14 != '\x01') && (puVar1 = PTR_DAT_100f1828 + param_2 * 0x55ec, (uint)(byte)*PTR_DAT_100f17ec == *(uint *)(puVar1 + 0x34))) {
		*(undefined2 *)(param_1 + 1) = CONCAT11(*(undefined *)(param_1 + 2), *(undefined *)(param_1 + 1));
		*(undefined4 *)(puVar1 + 0x20) = 0x12;
		*(uint *)(puVar1 + 0x24) = (uint) * (ushort *)(param_1 + 1);
	}
	return 3;
}

undefined8
On_ATTACKID(int param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	int iVar2;
	int iVar3;
	undefined *puVar4;
	undefined *puVar5;
	longlong lVar6;
	longlong lVar7;
	undefined *puVar8;
	undefined4 in_stack_ffffffa8;

	puVar5 = PTR_DAT_100f187c;
	puVar4 = PTR_DAT_100f1828;
	if (*_DAT_100f1d14 != '\x01') {
		iVar3 = (int)param_2 * 0x55ec;
		puVar1 = PTR_DAT_100f1828 + iVar3;
		if ((uint)(byte)*PTR_DAT_100f17ec == *(uint *)(puVar1 + 0x34)) {
			puVar8 = PTR_DAT_100f187c + 0x28;
			*(undefined2 *)(param_1 + 1) = CONCAT11(*(undefined *)(param_1 + 2), *(undefined *)(param_1 + 1));
			lVar6 = abs((ulonglong) * (uint *)(puVar1 + 0x38) - (ulonglong) * (uint *)(puVar8 + (uint) * (ushort *)(param_1 + 1) * 0xe8));
			lVar7 = abs((ulonglong) * (uint *)(puVar1 + 0x3c) - (ulonglong) * (uint *)(puVar5 + 0x2c + (uint) * (ushort *)(param_1 + 1) * 0xe8));
			if ((1 < (int)lVar6) || (1 < (int)lVar7)) {
				iVar2 = (uint) * (ushort *)(param_1 + 1) * 0xe8;
				MakePlrPath(param_2, (ulonglong) * (uint *)(puVar8 + iVar2),
				    (ulonglong) * (uint *)(puVar5 + 0x2c + iVar2), 0, param_5, param_6, param_7, param_8,
				    in_stack_ffffffa8);
			}
			*(undefined4 *)(puVar4 + iVar3 + 0x20) = 0x14;
			*(uint *)(puVar4 + iVar3 + 0x24) = (uint) * (ushort *)(param_1 + 1);
		}
	}
	return 3;
}

undefined8 On_ATTACKPID(int iParm1, ulonglong uParm2)

{
	undefined *puVar1;
	undefined *puVar2;
	ulonglong uVar3;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffc8;

	puVar2 = PTR_DAT_100f1828;
	uVar3 = ZEXT48(PTR_DAT_100f1828);
	if ((*_DAT_100f1d14 != '\x01') && (puVar1 = PTR_DAT_100f1828 + (int)uParm2 * 0x55ec, (uint)(byte)*PTR_DAT_100f17ec == *(uint *)(puVar1 + 0x34))) {
		*(undefined2 *)(iParm1 + 1) = CONCAT11(*(undefined *)(iParm1 + 2), *(undefined *)(iParm1 + 1));
		MakePlrPath(uParm2, (ulonglong) * (uint *)(puVar2 + (uint) * (ushort *)(iParm1 + 1) * 0x55ec + 0x40), (ulonglong) * (uint *)(puVar2 + (uint) * (ushort *)(iParm1 + 1) * 0x55ec + 0x44), 0,
		    uVar3, in_r8, in_r9, in_r10, in_stack_ffffffc8);
		*(undefined4 *)(puVar1 + 0x20) = 0x15;
		*(uint *)(puVar1 + 0x24) = (uint) * (ushort *)(iParm1 + 1);
	}
	return 3;
}

undefined8
FUN_1007d214(int param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	ulonglong uVar2;
	ulonglong uVar3;
	undefined4 in_stack_ffffffc8;

	uVar2 = ZEXT48(_DAT_100f1d14);
	uVar3 = ZEXT48(PTR_DAT_100f1828);
	if ((*_DAT_100f1d14 != '\x01') && (puVar1 = PTR_DAT_100f1828 + (int)param_2 * 0x55ec, (uint)(byte)*PTR_DAT_100f17ec == *(uint *)(puVar1 + 0x34))) {
		*(undefined2 *)(param_1 + 1) = CONCAT11(*(undefined *)(param_1 + 2), *(undefined *)(param_1 + 1));
		ClrPlrPath(param_2, param_2, uVar2, uVar3, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
		*(undefined4 *)(puVar1 + 0x20) = 0x16;
		*(uint *)(puVar1 + 0x24) = (uint) * (ushort *)(param_1 + 1);
	}
	return 3;
}

undefined8
FUN_1007d2a0(int param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	ulonglong uVar2;
	ulonglong uVar3;
	undefined4 in_stack_ffffffc8;

	uVar2 = ZEXT48(_DAT_100f1d14);
	uVar3 = ZEXT48(PTR_DAT_100f1828);
	if ((*_DAT_100f1d14 != '\x01') && (puVar1 = PTR_DAT_100f1828 + (int)param_2 * 0x55ec, (uint)(byte)*PTR_DAT_100f17ec == *(uint *)(puVar1 + 0x34))) {
		*(undefined2 *)(param_1 + 1) = CONCAT11(*(undefined *)(param_1 + 2), *(undefined *)(param_1 + 1));
		ClrPlrPath(param_2, param_2, uVar2, uVar3, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
		*(undefined4 *)(puVar1 + 0x20) = 0x17;
		*(uint *)(puVar1 + 0x24) = (uint) * (ushort *)(param_1 + 1);
	}
	return 3;
}

undefined8
On_SPELLID(int param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	byte bVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	ulonglong uVar5;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar3 = PTR_DAT_100f1828;
	puVar4 = PTR_DAT_100f17ec;
	uVar5 = ZEXT48(PTR_DAT_100f17ec);
	if (*_DAT_100f1d14 != '\x01') {
		iVar2 = (int)param_2 * 0x55ec;
		bVar1 = *PTR_DAT_100f17ec;
		if ((uint)bVar1 == *(uint *)(PTR_DAT_100f1828 + iVar2 + 0x34)) {
			*(undefined2 *)(param_1 + 1) = CONCAT11(*(undefined *)(param_1 + 2), *(undefined *)(param_1 + 1));
			*(undefined2 *)(param_1 + 3) = CONCAT11(*(undefined *)(param_1 + 4), *(undefined *)(param_1 + 3));
			*(undefined2 *)(param_1 + 5) = CONCAT11(*(undefined *)(param_1 + 6), *(undefined *)(param_1 + 5));
			if ((*puVar4 == '\0') && (*(int *)(PTR_DAT_100f1934 + (uint) * (ushort *)(param_1 + 3) * 0x38 + 0x18) == 0)) {
				msg_errorf(PTR_s__s_has_cast_an_illegal_spell__100f3338, puVar3 + iVar2 + 0x13c, (uint)bVar1, puVar4, (int)param_5, param_6, param_7, param_8, in_stack_ffffffb8,
				    in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0,
				    in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0,
				    in_stack_ffffffe4);
			} else {
				ClrPlrPath(param_2, param_2, (ulonglong)bVar1, uVar5, param_5, param_6, param_7, param_8,
				    in_stack_ffffffb8);
				puVar3 = puVar3 + iVar2;
				*(undefined4 *)(puVar3 + 0x20) = 0x18;
				*(uint *)(puVar3 + 0x24) = (uint) * (ushort *)(param_1 + 1);
				*(uint *)(puVar3 + 0x28) = (uint) * (ushort *)(param_1 + 5);
				*(uint *)(puVar3 + 0xa4) = (uint) * (ushort *)(param_1 + 3);
				puVar3[0xa8] = puVar3[0xb8];
				puVar3[0xa9] = 0;
			}
		}
	}
	return 7;
}

undefined8
On_SPELLPID(int param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	byte bVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	ulonglong uVar5;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar3 = PTR_DAT_100f1828;
	puVar4 = PTR_DAT_100f17ec;
	uVar5 = ZEXT48(PTR_DAT_100f17ec);
	if (*_DAT_100f1d14 != '\x01') {
		iVar2 = (int)param_2 * 0x55ec;
		bVar1 = *PTR_DAT_100f17ec;
		if ((uint)bVar1 == *(uint *)(PTR_DAT_100f1828 + iVar2 + 0x34)) {
			*(undefined2 *)(param_1 + 1) = CONCAT11(*(undefined *)(param_1 + 2), *(undefined *)(param_1 + 1));
			*(undefined2 *)(param_1 + 3) = CONCAT11(*(undefined *)(param_1 + 4), *(undefined *)(param_1 + 3));
			*(undefined2 *)(param_1 + 5) = CONCAT11(*(undefined *)(param_1 + 6), *(undefined *)(param_1 + 5));
			if ((*puVar4 == '\0') && (*(int *)(PTR_DAT_100f1934 + (uint) * (ushort *)(param_1 + 3) * 0x38 + 0x18) == 0)) {
				msg_errorf(PTR_s__s_has_cast_an_illegal_spell__100f3338, puVar3 + iVar2 + 0x13c, (uint)bVar1, puVar4, (int)param_5, param_6, param_7, param_8, in_stack_ffffffb8,
				    in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0,
				    in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0,
				    in_stack_ffffffe4);
			} else {
				ClrPlrPath(param_2, param_2, (ulonglong)bVar1, uVar5, param_5, param_6, param_7, param_8,
				    in_stack_ffffffb8);
				puVar3 = puVar3 + iVar2;
				*(undefined4 *)(puVar3 + 0x20) = 0x19;
				*(uint *)(puVar3 + 0x24) = (uint) * (ushort *)(param_1 + 1);
				*(uint *)(puVar3 + 0x28) = (uint) * (ushort *)(param_1 + 5);
				*(uint *)(puVar3 + 0xa4) = (uint) * (ushort *)(param_1 + 3);
				puVar3[0xa8] = puVar3[0xb8];
				puVar3[0xa9] = 0;
			}
		}
	}
	return 7;
}

undefined8
On_TSPELLID(int param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	byte bVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	ulonglong uVar5;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar3 = PTR_DAT_100f1828;
	puVar4 = PTR_DAT_100f17ec;
	uVar5 = ZEXT48(PTR_DAT_100f17ec);
	if (*_DAT_100f1d14 != '\x01') {
		iVar2 = (int)param_2 * 0x55ec;
		bVar1 = *PTR_DAT_100f17ec;
		if ((uint)bVar1 == *(uint *)(PTR_DAT_100f1828 + iVar2 + 0x34)) {
			*(undefined2 *)(param_1 + 1) = CONCAT11(*(undefined *)(param_1 + 2), *(undefined *)(param_1 + 1));
			*(undefined2 *)(param_1 + 3) = CONCAT11(*(undefined *)(param_1 + 4), *(undefined *)(param_1 + 3));
			*(undefined2 *)(param_1 + 5) = CONCAT11(*(undefined *)(param_1 + 6), *(undefined *)(param_1 + 5));
			if ((*puVar4 == '\0') && (*(int *)(PTR_DAT_100f1934 + (uint) * (ushort *)(param_1 + 3) * 0x38 + 0x18) == 0)) {
				msg_errorf(PTR_s__s_has_cast_an_illegal_spell__100f3338, puVar3 + iVar2 + 0x13c, (uint)bVar1, puVar4, (int)param_5, param_6, param_7, param_8, in_stack_ffffffb8,
				    in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0,
				    in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0,
				    in_stack_ffffffe4);
			} else {
				ClrPlrPath(param_2, param_2, (ulonglong)bVar1, uVar5, param_5, param_6, param_7, param_8,
				    in_stack_ffffffb8);
				puVar3 = puVar3 + iVar2;
				*(undefined4 *)(puVar3 + 0x20) = 0x18;
				*(uint *)(puVar3 + 0x24) = (uint) * (ushort *)(param_1 + 1);
				*(uint *)(puVar3 + 0x28) = (uint) * (ushort *)(param_1 + 5);
				*(uint *)(puVar3 + 0xa4) = (uint) * (ushort *)(param_1 + 3);
				puVar3[0xa8] = puVar3[0xb0];
				puVar3[0xa9] = 2;
			}
		}
	}
	return 7;
}

undefined8
On_TSPELLPID(int param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	byte bVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	ulonglong uVar5;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar3 = PTR_DAT_100f1828;
	puVar4 = PTR_DAT_100f17ec;
	uVar5 = ZEXT48(PTR_DAT_100f17ec);
	if (*_DAT_100f1d14 != '\x01') {
		iVar2 = (int)param_2 * 0x55ec;
		bVar1 = *PTR_DAT_100f17ec;
		if ((uint)bVar1 == *(uint *)(PTR_DAT_100f1828 + iVar2 + 0x34)) {
			*(undefined2 *)(param_1 + 1) = CONCAT11(*(undefined *)(param_1 + 2), *(undefined *)(param_1 + 1));
			*(undefined2 *)(param_1 + 3) = CONCAT11(*(undefined *)(param_1 + 4), *(undefined *)(param_1 + 3));
			*(undefined2 *)(param_1 + 5) = CONCAT11(*(undefined *)(param_1 + 6), *(undefined *)(param_1 + 5));
			if ((*puVar4 == '\0') && (*(int *)(PTR_DAT_100f1934 + (uint) * (ushort *)(param_1 + 3) * 0x38 + 0x18) == 0)) {
				msg_errorf(PTR_s__s_has_cast_an_illegal_spell__100f3338, puVar3 + iVar2 + 0x13c, (uint)bVar1, puVar4, (int)param_5, param_6, param_7, param_8, in_stack_ffffffb8,
				    in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0,
				    in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0,
				    in_stack_ffffffe4);
			} else {
				ClrPlrPath(param_2, param_2, (ulonglong)bVar1, uVar5, param_5, param_6, param_7, param_8,
				    in_stack_ffffffb8);
				puVar3 = puVar3 + iVar2;
				*(undefined4 *)(puVar3 + 0x20) = 0x19;
				*(uint *)(puVar3 + 0x24) = (uint) * (ushort *)(param_1 + 1);
				*(uint *)(puVar3 + 0x28) = (uint) * (ushort *)(param_1 + 5);
				*(uint *)(puVar3 + 0xa4) = (uint) * (ushort *)(param_1 + 3);
				puVar3[0xa8] = puVar3[0xb0];
				puVar3[0xa9] = 2;
			}
		}
	}
	return 7;
}

undefined8
FUN_1007d78c(int param_1, longlong param_2, undefined8 param_3, ulonglong param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	short sVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined4 in_stack_ffffffc8;

	puVar3 = PTR_DAT_100f1828;
	puVar2 = PTR_DAT_100f17ec;
	if (*_DAT_100f1d14 != '\x01') {
		sVar1 = CONCAT11(*(undefined *)(param_1 + 2), *(undefined *)(param_1 + 1));
		*(short *)(param_1 + 1) = sVar1;
		if ((uint)(byte)*puVar2 == *(uint *)(puVar3 + (int)param_2 * 0x55ec + 0x34)) {
			M_GetKnockback((ulonglong) * (ushort *)(param_1 + 1), (ulonglong)(byte)*puVar2, (longlong)sVar1,
			    param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
			M_StartHit((ulonglong) * (ushort *)(param_1 + 1), param_2, 0, param_4, param_5, param_6, param_7,
			    param_8, in_stack_ffffffc8);
		}
	}
	return 3;
}

undefined8
On_RESURRECT(ulonglong param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	int iVar1;
	ulonglong uVar2;
	ulonglong uVar3;
	undefined4 uVar4;
	undefined4 uVar5;
	undefined4 uVar6;
	undefined4 uVar7;
	undefined4 in_stack_ffffffc8;

	iVar1 = (int)param_1;
	uVar7 = (undefined4)param_8;
	uVar6 = (undefined4)param_7;
	uVar5 = (undefined4)param_6;
	uVar4 = (undefined4)param_5;
	uVar3 = ZEXT48(_DAT_100f1d14);
	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 3, (char)param_1, (char)param_5, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffffc8);
	} else {
		*(undefined2 *)(iVar1 + 1) = CONCAT11(*(undefined *)(iVar1 + 2), *(undefined *)(iVar1 + 1));
		uVar2 = (ulonglong) * (ushort *)(iVar1 + 1);
		DoResurrect(param_2, uVar2, uVar3, param_1, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
		check_update_plr((int)param_2, uVar2, uVar3, iVar1, uVar4, uVar5, uVar6, uVar7, in_stack_ffffffc8);
	}
	return 3;
}

undefined8
On_HEALOTHER(int param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	byte bVar1;
	undefined4 in_stack_ffffffc8;

	if ((*_DAT_100f1d14 != '\x01') && (bVar1 = *PTR_DAT_100f17ec, (uint)bVar1 == *(uint *)(PTR_DAT_100f1828 + param_2 * 0x55ec + 0x34))) {
		*(undefined2 *)(param_1 + 1) = CONCAT11(*(undefined *)(param_1 + 2), *(undefined *)(param_1 + 1));
		DoHealOther(param_2, (ulonglong) * (ushort *)(param_1 + 1), bVar1, (char)param_1, param_5, param_6,
		    param_7, param_8, in_stack_ffffffc8);
	}
	return 3;
}

undefined8
On_TALKXY(int param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined4 in_stack_ffffffc8;

	if ((*_DAT_100f1d14 != '\x01') && (puVar1 = PTR_DAT_100f1828 + (int)param_2 * 0x55ec, (uint)(byte)*PTR_DAT_100f17ec == *(uint *)(puVar1 + 0x34))) {
		*(undefined2 *)(param_1 + 3) = CONCAT11(*(undefined *)(param_1 + 4), *(undefined *)(param_1 + 3));
		MakePlrPath(param_2, (ulonglong) * (byte *)(param_1 + 1), (ulonglong) * (byte *)(param_1 + 2), 0,
		    param_5, param_6, param_7, param_8, in_stack_ffffffc8);
		*(undefined4 *)(puVar1 + 0x20) = 0x11;
		*(uint *)(puVar1 + 0x24) = (uint) * (ushort *)(param_1 + 3);
	}
	return 5;
}

undefined8
FUN_1007d99c(ulonglong param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    ulonglong param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined4 in_stack_ffffffc8;

	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 5, (char)param_1, (char)param_5, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffffc8);
	} else {
		if ((int)param_2 != *(int *)PTR_DAT_100f1824) {
			iVar1 = (int)param_1;
			*(undefined2 *)(iVar1 + 1) = CONCAT11(*(undefined *)(iVar1 + 2), *(undefined *)(iVar1 + 1));
			*(undefined2 *)(iVar1 + 3) = CONCAT11(*(undefined *)(iVar1 + 4), *(undefined *)(iVar1 + 3));
			StartNewLvl(param_2, (ulonglong) * (ushort *)(iVar1 + 1), (ulonglong) * (ushort *)(iVar1 + 3),
			    param_1, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
		}
	}
	return 5;
}

undefined8
On_WARP(ulonglong param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    ulonglong param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined4 uVar2;
	int iVar3;
	undefined **ppuVar4;
	ulonglong uVar5;
	longlong lVar6;
	undefined7 uVar7;
	undefined uVar8;
	longlong lVar9;
	undefined4 in_stack_ffffffc8;

	uVar7 = (undefined7)(param_5 >> 8);
	uVar8 = (undefined)param_5;
	ppuVar4 = &toc;
	uVar5 = ZEXT48(_DAT_100f1d14);
	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 3, (char)param_1, uVar8, (char)param_6, (char)param_7, (char)param_8,
		    in_stack_ffffffc8);
	} else {
		iVar3 = (int)param_1;
		*(undefined2 *)(iVar3 + 1) = CONCAT11(*(undefined *)(iVar3 + 2), *(undefined *)(iVar3 + 1));
		StartWarpLvl(param_2, (ulonglong) * (ushort *)(iVar3 + 1), uVar5, param_1, param_5, (int)param_6,
		    (int)param_7, (int)param_8, in_stack_ffffffc8);
		uVar1 = *(uint *)ppuVar4[-0x1deb];
		if (((uint)param_2 == uVar1) && (0xb < *(int *)ppuVar4[-0x1dd1])) {
			lVar9 = 0x2e;
			uVar5 = ZEXT48(ppuVar4[-0x1da4]) + 0xb688;
			lVar6 = ZEXT48(ppuVar4[-0x1dea]) + (ulonglong)uVar1 * 0x55ec + 0x53cc;
			do {
				lVar6 = lVar6 + 8;
				uVar2 = ((undefined4 *)lVar6)[1];
				uVar5 = uVar5 + 8;
				*(undefined4 *)uVar5 = *(undefined4 *)lVar6;
				((undefined4 *)uVar5)[1] = uVar2;
				lVar9 = lVar9 + -1;
			} while (lVar9 != 0);
			AutoGetItem((ulonglong)uVar1, 0x7f, lVar6, uVar5, CONCAT71(uVar7, uVar8), param_6, param_7, param_8,
			    in_stack_ffffffc8);
		}
	}
	return 3;
}

undefined8
FUN_1007daf4(undefined8 param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined4 in_stack_ffffffc8;

	puVar3 = PTR_DAT_100f1828;
	puVar2 = PTR_DAT_100f17ec;
	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 5, (undefined)param_4, (char)param_5, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffffc8);
	} else {
		if ((int)param_2 != *(int *)PTR_DAT_100f1824) {
			iVar1 = (int)param_1;
			*(undefined2 *)(iVar1 + 3) = CONCAT11(*(undefined *)(iVar1 + 4), *(undefined *)(iVar1 + 3));
			if ((uint)(byte)*puVar2 == *(uint *)(puVar3 + (int)param_2 * 0x55ec + 0x34)) {
				M_SyncStartKill((ulonglong) * (ushort *)(iVar1 + 3), (uint) * (byte *)(iVar1 + 1),
				    (ulonglong) * (byte *)(iVar1 + 2), param_2, param_5, param_6, param_7, param_8,
				    in_stack_ffffffc8);
			}
			FUN_10079a80((uint) * (ushort *)(iVar1 + 3), *(undefined *)(iVar1 + 1), *(undefined *)(iVar1 + 2),
			    *(uint *)(puVar3 + (int)param_2 * 0x55ec + 0x34) & 0xff);
		}
	}
	return 5;
}

undefined8
FUN_1007dbb8(undefined8 param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	int iVar4;
	undefined4 in_stack_ffffffc8;

	puVar2 = PTR_DAT_100f17ec;
	ppuVar3 = &toc;
	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 5, (undefined)param_4, (char)param_5, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffffc8);
	} else {
		iVar4 = (int)param_2;
		if (iVar4 != *(int *)PTR_DAT_100f1824) {
			iVar1 = (int)param_1;
			*(undefined2 *)(iVar1 + 3) = CONCAT11(*(undefined *)(iVar1 + 4), *(undefined *)(iVar1 + 3));
			if ((uint)(byte)*puVar2 == (uint) * (ushort *)(iVar1 + 3)) {
				ppuVar3 = &toc;
				M_SyncStartKill(param_2, (uint) * (byte *)(iVar1 + 1), (ulonglong) * (byte *)(iVar1 + 2), param_2,
				    param_5, param_6, param_7, param_8, in_stack_ffffffc8);
			}
			FUN_10079a80(iVar4, *(undefined *)(iVar1 + 1), *(undefined *)(iVar1 + 2),
			    *(uint *)(ppuVar3[-0x1dea] + iVar4 * 0x55ec + 0x34) & 0xff);
		}
	}
	return 5;
}

undefined8
FUN_1007dc80(undefined8 param_1, undefined8 param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	int iVar2;
	bool bVar3;
	int iVar4;
	undefined *puVar5;
	undefined *puVar6;
	bool bVar7;
	ulonglong uVar8;
	int *piVar9;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;

	puVar6 = PTR_DAT_100f196c;
	puVar1 = PTR_DAT_100f1828;
	puVar5 = PTR_DAT_100f17ec;
	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 10, (char)PTR_DAT_100f1828, (char)param_1, (char)PTR_DAT_100f196c,
		    param_7, param_8, in_stack_ffffffc8);
	} else {
		iVar2 = (int)param_1;
		iVar4 = (int)param_2;
		*(uint *)(iVar2 + 5) = (uint) * (byte *)(iVar2 + 8) << 0x18 | (uint) * (byte *)(iVar2 + 7) << 0x10 | (uint) * (byte *)(iVar2 + 6) << 8 | (uint) * (byte *)(iVar2 + 5);
		if ((uint)(byte)*puVar5 == *(uint *)(puVar1 + iVar4 * 0x55ec + 0x34)) {
			if (iVar4 != *(int *)PTR_DAT_100f1824) {
				bVar3 = true;
				uVar8 = (ulonglong) * (uint *)PTR_DAT_100f1968;
				piVar9 = (int *)PTR_DAT_100f1970;
				bVar7 = true;
				if (0 < (int)*(uint *)PTR_DAT_100f1968) {
					do {
						bVar3 = bVar7;
						if ((*(int *)(puVar6 + *piVar9 * 0xb4) == 0x21) && (iVar4 == *(int *)(puVar6 + *piVar9 * 0xb4 + 0x78))) {
							bVar3 = false;
						}
						piVar9 = piVar9 + 1;
						uVar8 = uVar8 - 1;
						bVar7 = bVar3;
					} while (uVar8 != 0);
				}
				if (bVar3) {
					puVar1 = puVar1 + iVar4 * 0x55ec;
					AddMissile((ulonglong) * (uint *)(puVar1 + 0x38), (ulonglong) * (uint *)(puVar1 + 0x3c),
					    (ulonglong) * (byte *)(iVar2 + 1), (ulonglong) * (byte *)(iVar2 + 2),
					    (ulonglong) * (byte *)(iVar2 + 3), 0x21, 0, param_2, in_stack_ffffffc8,
					    in_stack_ffffffcf, 0, 1);
				}
			}
		} else {
			FUN_10079b8c(iVar2, iVar4, (uint) * (byte *)(iVar2 + 9));
		}
	}
	return 10;
}

undefined8
FUN_1007dda4(undefined8 param_1, longlong param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	int iVar5;
	undefined *puVar6;
	undefined4 in_stack_ffffffc8;

	puVar3 = PTR_DAT_100f187c;
	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 5, (char)_DAT_100f1d14, param_5, (char)PTR_DAT_100f187c, param_7,
		    param_8, in_stack_ffffffc8);
	} else {
		if ((int)param_2 != *(int *)PTR_DAT_100f1824) {
			iVar5 = (int)param_1;
			*(undefined2 *)(iVar5 + 1) = CONCAT11(*(undefined *)(iVar5 + 2), *(undefined *)(iVar5 + 1));
			puVar6 = PTR_DAT_100f1828;
			puVar4 = PTR_DAT_100f17ec;
			*(undefined2 *)(iVar5 + 3) = CONCAT11(*(undefined *)(iVar5 + 4), *(undefined *)(iVar5 + 3));
			uVar1 = *(uint *)(puVar6 + (int)param_2 * 0x55ec + 0x34);
			if ((uint)(byte)*puVar4 == uVar1) {
				puVar4 = puVar3 + 0x98;
				puVar3 = puVar3 + (uint) * (ushort *)(iVar5 + 1) * 0xe8;
				puVar3[0xc3] = puVar3[0xc3] | (byte)(1 << param_2);
				iVar2 = *(int *)(puVar4 + (uint) * (ushort *)(iVar5 + 1) * 0xe8);
				if (iVar2 != 0) {
					*(uint *)(puVar4 + (uint) * (ushort *)(iVar5 + 1) * 0xe8) = iVar2 - (uint) * (ushort *)(iVar5 + 3);
					if (*(int *)(puVar4 + (uint) * (ushort *)(iVar5 + 1) * 0xe8) >> 6 < 1) {
						*(int *)(puVar4 + (uint) * (ushort *)(iVar5 + 1) * 0xe8) = 0x40;
					}
					delta_monster_hp((uint) * (ushort *)(iVar5 + 1),
					    *(int *)(puVar4 + (uint) * (ushort *)(iVar5 + 1) * 0xe8), uVar1 & 0xff);
				}
			}
		}
	}
	return 5;
}

undefined8
FUN_1007dec0(undefined8 param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	int iVar1;
	ulonglong uVar2;
	undefined4 in_stack_ffffffc8;

	uVar2 = ZEXT48(_DAT_100f1d14);
	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 3, (char)param_1, (char)param_5, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffffc8);
	} else {
		iVar1 = (int)param_1;
		if ((int)param_2 == *(int *)PTR_DAT_100f1824) {
			check_update_plr((int)param_2, param_2, uVar2, iVar1, (int)param_5, (int)param_6, (int)param_7,
			    (int)param_8, in_stack_ffffffc8);
		} else {
			*(undefined2 *)(iVar1 + 1) = CONCAT11(*(undefined *)(iVar1 + 2), *(undefined *)(iVar1 + 1));
			FUN_10095b28(param_2, (uint) * (ushort *)(iVar1 + 1), uVar2, param_1, param_5, param_6, param_7,
			    param_8, in_stack_ffffffc8);
		}
	}
	return 3;
}

undefined8
FUN_1007df40(int param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	longlong lVar1;
	longlong lVar2;
	uint uVar3;
	uint uVar4;
	uint uVar5;
	uint *puVar6;
	int *piVar7;
	undefined *puVar8;
	undefined *puVar9;
	ulonglong uVar10;
	longlong lVar11;
	undefined4 in_stack_ffffffc8;

	puVar8 = PTR_DAT_100f1828;
	puVar9 = PTR_DAT_100f1824;
	uVar10 = ZEXT48(PTR_DAT_100f1828);
	*(uint *)(param_1 + 2) = (uint) * (byte *)(param_1 + 5) << 0x18 | (uint) * (byte *)(param_1 + 4) << 0x10 | (uint) * (byte *)(param_1 + 3) << 8 | (uint) * (byte *)(param_1 + 2);
	uVar3 = *(uint *)puVar9;
	if (((((uint) * (byte *)(param_1 + 1) == uVar3) && (*PTR_DAT_100f17ec != 0)) && (*_DAT_100f1d14 != '\x01')) && (((uint)(byte)*PTR_DAT_100f17ec == *(uint *)(puVar8 + param_2 * 0x55ec + 0x34) && (*(uint *)(param_1 + 2) < 0x2ee01)))) {
		lVar11 = (ulonglong)uVar3 * 0x55ec;
		lVar1 = uVar10 + lVar11 + 0x194;
		puVar6 = (uint *)lVar1;
		if ((int)*puVar6 >> 6 != 0) {
			puVar8 = puVar8 + (int)lVar11;
			*(undefined4 *)PTR_DAT_100f18e0 = 1;
			uVar4 = *(uint *)(param_1 + 2);
			*puVar6 = *puVar6 - uVar4;
			lVar2 = uVar10 + lVar11 + 0x18c;
			piVar7 = (int *)lVar2;
			*piVar7 = *(int *)((int)(uVar10 + lVar11) + 0x18c) - *(int *)(param_1 + 2);
			uVar5 = *(uint *)(puVar8 + 0x198);
			if ((int)uVar5 < (int)*puVar6) {
				*puVar6 = uVar5;
				*piVar7 = *(int *)(puVar8 + 400);
			}
			if ((int)*puVar6 >> 6 == 0) {
				SyncPlrKill((ulonglong)uVar3, 1, (ulonglong)uVar5, (ulonglong)uVar4, uVar10, lVar1, lVar11, lVar2,
				    in_stack_ffffffc8);
			}
		}
	}
	return 6;
}

undefined8
FUN_1007e048(undefined8 param_1, undefined8 param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined uVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined4 in_stack_ffffffc8;

	puVar4 = PTR_DAT_100f1828;
	puVar3 = PTR_DAT_100f17ec;
	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	} else {
		iVar2 = (int)param_1;
		uVar1 = *(undefined *)(iVar2 + 1);
		*(undefined2 *)(iVar2 + 1) = CONCAT11(*(undefined *)(iVar2 + 2), uVar1);
		if ((uint)(byte)*puVar3 == *(uint *)(puVar4 + (int)param_2 * 0x55ec + 0x34)) {
			FUN_1008c0a0(param_2, 0x2b, (uint) * (ushort *)(iVar2 + 1), uVar1, param_5, param_6, param_7, param_8,
			    in_stack_ffffffc8);
		}
		FUN_10079d08((uint) * (ushort *)(iVar2 + 1), 0x2b,
		    *(uint *)(puVar4 + (int)param_2 * 0x55ec + 0x34) & 0xff);
	}
	return 3;
}

undefined8
FUN_1007e0f4(undefined8 param_1, undefined8 param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined uVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined4 in_stack_ffffffc8;

	puVar4 = PTR_DAT_100f1828;
	puVar3 = PTR_DAT_100f17ec;
	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	} else {
		iVar2 = (int)param_1;
		uVar1 = *(undefined *)(iVar2 + 1);
		*(undefined2 *)(iVar2 + 1) = CONCAT11(*(undefined *)(iVar2 + 2), uVar1);
		if ((uint)(byte)*puVar3 == *(uint *)(puVar4 + (int)param_2 * 0x55ec + 0x34)) {
			FUN_1008c0a0(param_2, 0x2c, (uint) * (ushort *)(iVar2 + 1), uVar1, param_5, param_6, param_7, param_8,
			    in_stack_ffffffc8);
		}
		FUN_10079d08((uint) * (ushort *)(iVar2 + 1), 0x2c,
		    *(uint *)(puVar4 + (int)param_2 * 0x55ec + 0x34) & 0xff);
	}
	return 3;
}

undefined8
FUN_1007e1a0(undefined8 param_1, undefined8 param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined uVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined4 in_stack_ffffffc8;

	puVar4 = PTR_DAT_100f1828;
	puVar3 = PTR_DAT_100f17ec;
	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	} else {
		iVar2 = (int)param_1;
		uVar1 = *(undefined *)(iVar2 + 1);
		*(undefined2 *)(iVar2 + 1) = CONCAT11(*(undefined *)(iVar2 + 2), uVar1);
		if ((uint)(byte)*puVar3 == *(uint *)(puVar4 + (int)param_2 * 0x55ec + 0x34)) {
			FUN_1008c0a0(param_2, 0x2d, (uint) * (ushort *)(iVar2 + 1), uVar1, param_5, param_6, param_7, param_8,
			    in_stack_ffffffc8);
		}
		FUN_10079d08((uint) * (ushort *)(iVar2 + 1), 0x2d,
		    *(uint *)(puVar4 + (int)param_2 * 0x55ec + 0x34) & 0xff);
	}
	return 3;
}

undefined8
FUN_1007e24c(undefined8 param_1, undefined8 param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined4 in_stack_ffffffc8;

	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 5, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	} else {
		iVar1 = (int)param_1;
		*(undefined2 *)(iVar1 + 1) = CONCAT11(*(undefined *)(iVar1 + 2), *(undefined *)(iVar1 + 1));
		puVar3 = PTR_DAT_100f1828;
		puVar2 = PTR_DAT_100f17ec;
		*(undefined2 *)(iVar1 + 3) = CONCAT11(*(undefined *)(iVar1 + 4), *(undefined *)(iVar1 + 3));
		if ((uint)(byte)*puVar2 == *(uint *)(puVar3 + (int)param_2 * 0x55ec + 0x34)) {
			FUN_1008c0a0((ulonglong) * (ushort *)(iVar1 + 1), 0x2e, (uint) * (ushort *)(iVar1 + 3), param_4,
			    param_5, param_6, param_7, param_8, in_stack_ffffffc8);
		}
		FUN_10079d08((uint) * (ushort *)(iVar1 + 3), 0x2e,
		    *(uint *)(puVar3 + (int)param_2 * 0x55ec + 0x34) & 0xff);
	}
	return 5;
}

undefined8
FUN_1007e308(undefined8 param_1, undefined8 param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined4 in_stack_ffffffc8;

	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 5, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	} else {
		iVar1 = (int)param_1;
		*(undefined2 *)(iVar1 + 1) = CONCAT11(*(undefined *)(iVar1 + 2), *(undefined *)(iVar1 + 1));
		puVar3 = PTR_DAT_100f1828;
		puVar2 = PTR_DAT_100f17ec;
		*(undefined2 *)(iVar1 + 3) = CONCAT11(*(undefined *)(iVar1 + 4), *(undefined *)(iVar1 + 3));
		if ((uint)(byte)*puVar2 == *(uint *)(puVar3 + (int)param_2 * 0x55ec + 0x34)) {
			FUN_1008c740((ulonglong) * (ushort *)(iVar1 + 1), (ulonglong) * (ushort *)(iVar1 + 3));
		}
		FUN_10079d08((uint) * (ushort *)(iVar1 + 3), 0x2f,
		    *(uint *)(puVar3 + (int)param_2 * 0x55ec + 0x34) & 0xff);
	}
	return 5;
}

undefined8
FUN_1007e3c0(undefined8 uParm1, ulonglong uParm2, undefined8 uParm3, undefined param_4,
    undefined param_5, undefined8 uParm6, ulonglong uParm7, ulonglong uParm8)

{
	int iVar1;
	undefined *puVar2;
	undefined4 in_stack_ffffffc8;

	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(uParm2, uParm1, 0xb, param_4, param_5, (char)uParm1, (char)uParm7, (char)uParm8,
		    in_stack_ffffffc8);
	} else {
		iVar1 = (int)uParm1;
		*(undefined2 *)(iVar1 + 2) = CONCAT11(*(undefined *)(iVar1 + 3), *(undefined *)(iVar1 + 2));
		*(undefined2 *)(iVar1 + 4) = CONCAT11(*(undefined *)(iVar1 + 5), *(undefined *)(iVar1 + 4));
		puVar2 = PTR_DAT_100f1824;
		*(uint *)(iVar1 + 6) = (uint) * (byte *)(iVar1 + 9) << 0x18 | (uint) * (byte *)(iVar1 + 8) << 0x10 | (uint) * (byte *)(iVar1 + 7) << 8 | (uint) * (byte *)(iVar1 + 6);
		if ((int)uParm2 != *(int *)puVar2) {
			FUN_10047e6c(uParm2, *(byte *)(iVar1 + 1), (uint) * (ushort *)(iVar1 + 2),
			    (ulonglong) * (ushort *)(iVar1 + 4), (ulonglong) * (uint *)(iVar1 + 6),
			    (ulonglong) * (byte *)(iVar1 + 10), uParm7, uParm8, in_stack_ffffffc8);
		}
	}
	return 0xb;
}

undefined8
FUN_1007e45c(ulonglong param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 2, (char)param_1, (char)param_5, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffffc8);
	} else {
		if ((int)param_2 != *(int *)PTR_DAT_100f1824) {
			FUN_100487a4(param_2, (uint) * (byte *)((int)param_1 + 1), ZEXT48(_DAT_100f1d14), param_1, param_5,
			    param_6, param_7, param_8, in_stack_ffffffc8);
		}
	}
	return 2;
}

undefined8
FUN_1007e4c0(undefined8 param_1, undefined8 param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined4 in_stack_ffffffc8;

	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 3, (char)param_1, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	} else {
		iVar1 = (int)param_1;
		*(undefined2 *)(iVar1 + 1) = CONCAT11(*(undefined *)(iVar1 + 2), *(undefined *)(iVar1 + 1));
		if ((*(ushort *)(iVar1 + 1) < 0x34) && ((int)param_2 != *(int *)PTR_DAT_100f1824)) {
			PTR_DAT_100f1828[(int)param_2 * 0x55ec + 0x1b4] = (char)*(ushort *)(iVar1 + 1);
		}
	}
	return 3;
}

undefined8
FUN_1007e548(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined4 in_stack_ffffffc8;

	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 0x16, (char)param_1, (char)param_5, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffffc8);
	} else {
		iVar1 = (int)param_1;
		*(undefined2 *)(iVar1 + 3) = CONCAT11(*(undefined *)(iVar1 + 4), *(undefined *)(iVar1 + 3));
		*(undefined2 *)(iVar1 + 5) = CONCAT11(*(undefined *)(iVar1 + 6), *(undefined *)(iVar1 + 5));
		*(uint *)(iVar1 + 7) = (uint) * (byte *)(iVar1 + 10) << 0x18 | (uint) * (byte *)(iVar1 + 9) << 0x10 | (uint) * (byte *)(iVar1 + 8) << 8 | (uint) * (byte *)(iVar1 + 7);
		*(undefined2 *)(iVar1 + 0x10) = CONCAT11(*(undefined *)(iVar1 + 0x11), *(undefined *)(iVar1 + 0x10));
		puVar2 = PTR_DAT_100f1828;
		*(uint *)(iVar1 + 0x12) = (uint) * (byte *)(iVar1 + 0x15) << 0x18 | (uint) * (byte *)(iVar1 + 0x14) << 0x10 | (uint) * (byte *)(iVar1 + 0x13) << 8 | (uint) * (byte *)(iVar1 + 0x12);
		delta_put_item(iVar1, *(byte *)(iVar1 + 1), (ulonglong) * (byte *)(iVar1 + 2),
		    (ulonglong)(*(uint *)(puVar2 + (int)param_2 * 0x55ec + 0x34) & 0xff), param_5,
		    param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return 0x16;
}

longlong FUN_1007e5fc(undefined8 param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    ulonglong param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	byte *pbVar1;
	undefined8 uVar2;
	undefined4 in_stack_ffffffc8;
	undefined local_8;
	undefined uStack7;

	pbVar1 = (byte *)param_1;
	uStack7 = (undefined) * (undefined2 *)(pbVar1 + 3);
	local_8 = (undefined)((ushort) * (undefined2 *)(pbVar1 + 3) >> 8);
	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, (uint)CONCAT11(uStack7, local_8) + 5, (char)param_1, (char)param_5,
		    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffc8);
	} else {
		*(ushort *)(pbVar1 + 1) = CONCAT11(pbVar1[2], pbVar1[1]);
		*(ushort *)(pbVar1 + 3) = CONCAT11(pbVar1[4], pbVar1[3]);
		uVar2 = countLeadingZeros(2 - (uint)*pbVar1);
		FUN_100812d4(param_2, (int)pbVar1, (uint)uVar2 >> 5 & 0xff, param_1, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return (ulonglong)CONCAT11(uStack7, local_8) + 5;
}

void FUN_1007e6a0(undefined8 param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    ulonglong param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	FUN_1007e5fc(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

undefined8
FUN_1007e6c0(undefined8 param_1, ulonglong param_2, undefined8 param_3, ulonglong param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	byte *pbVar1;
	int *piVar2;
	int iVar3;
	undefined4 *puVar4;
	undefined *puVar5;
	int iVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined8 uVar10;
	undefined **ppuVar11;
	int iVar12;
	undefined4 uVar13;
	ulonglong uVar14;
	ulonglong uVar15;
	longlong lVar16;
	undefined4 uVar17;
	undefined4 uVar18;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar5 = PTR_DAT_100f1828;
	puVar7 = PTR_DAT_100f1824;
	ppuVar11 = &toc;
	uVar15 = ZEXT48(_DAT_100f1d14);
	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 5, (char)param_4, (undefined)param_5, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffffa8);
	} else {
		iVar6 = (int)param_1;
		lVar16 = ZEXT48(PTR_DAT_100f1828) + param_2 * 0x55ec;
		*(undefined2 *)(iVar6 + 3) = CONCAT11(*(undefined *)(iVar6 + 4), *(undefined *)(iVar6 + 3));
		iVar12 = (int)lVar16;
		*(undefined *)(iVar12 + 0x13b) = 0;
		iVar3 = (int)(param_2 * 0x55ec);
		if ((*(char *)(iVar12 + 0x13c) != '\0') && (*(char *)(iVar12 + 0x1d) == '\0')) {
			*(undefined *)(iVar12 + 0x1d) = 1;
			puVar9 = PTR_s_Player___s___level__d__just_join_100f3334;
			puVar8 = PTR_DAT_100f1f2c;
			param_4 = ZEXT48(PTR_DAT_100f1f2c);
			*PTR_DAT_100f1f2c = *PTR_DAT_100f1f2c + '\x01';
			uVar15 = SEXT18(*(char *)(iVar12 + 0x1b4));
			ppuVar11 = &toc;
			FUN_1009ae28(puVar9, puVar5 + iVar3 + 0x13c, (int)*(char *)(iVar12 + 0x1b4), puVar8, iVar12,
			    (int)param_6, (int)param_7, (int)param_8, in_stack_ffffffa8, in_stack_ffffffaf,
			    in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4,
			    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
		}
		puVar4 = (undefined4 *)(puVar5 + iVar3);
		if ((*(char *)((int)puVar4 + 0x1d) != '\0') && (*(int *)puVar7 != (int)param_2)) {
			pbVar1 = ppuVar11[-0x1df9];
			puVar4[0xe] = (uint) * (byte *)(iVar6 + 1);
			puVar4[0xf] = (uint) * (byte *)(iVar6 + 2);
			puVar4[0xd] = (uint) * (ushort *)(iVar6 + 3);
			puVar4[0x85] = 0;
			if ((uint)*pbVar1 == puVar4[0xd]) {
				uVar14 = 1;
				LoadPlrGFX(param_2);
				SyncInitPlr(param_2, uVar14, uVar15, param_4, lVar16, (int)param_6, (int)param_7, (int)param_8,
				    in_stack_ffffffa8);
				uVar18 = (undefined4)param_8;
				uVar17 = (undefined4)param_7;
				uVar13 = (undefined4)param_6;
				if ((int)puVar4[0x65] >> 6 == 0) {
					puVar4[0x1e] = 0;
					LoadPlrGFX(param_2, 0x80);
					*puVar4 = 8;
					NewPlrAnim(param_2, puVar4 + 0x102, (ulonglong)(uint)puVar4[0x112], 1,
					    (ulonglong)(uint)puVar4[0x113], uVar13, uVar17, uVar18, in_stack_ffffffa8);
					piVar2 = (int *)ppuVar11[-0x1de7];
					puVar4[0x23] = puVar4[0x22] + -1;
					puVar4[0x7b] = puVar4[0x22] << 1;
					iVar12 = puVar4[0xe] * 0x70 + puVar4[0xf];
					*(byte *)(*piVar2 + iVar12) = *(byte *)(*piVar2 + iVar12) | 4;
				} else {
					StartStand(param_2, 0, uVar15, param_4, lVar16, param_6, param_7, param_8, in_stack_ffffffa8);
				}
				puVar5 = puVar5 + iVar3;
				uVar10 = countLeadingZeros(*(int *)puVar7 - (int)param_2);
				uVar13 = FUN_100bb33c(puVar4[0xe], puVar4[0xf], (int)(char)puVar5[0x13a],
				    (uint)uVar10 >> 5 & 0xff);
				*(undefined4 *)(puVar5 + 0xa0) = uVar13;
				*(undefined4 *)(puVar5 + 0x9c) = 0xffffffff;
			}
		}
	}
	return 5;
}

undefined8
On_ACTIVATEPORTAL(undefined8 param_1, undefined8 param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	bool bVar2;
	undefined *puVar3;
	bool bVar4;
	ulonglong uVar5;
	undefined **ppuVar6;
	int iVar7;
	int *piVar8;
	byte bVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined4 in_stack_ffffffb8;

	puVar3 = PTR_DAT_100f196c;
	ppuVar6 = &toc;
	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 9, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	} else {
		iVar1 = (int)param_1;
		*(undefined2 *)(iVar1 + 3) = CONCAT11(*(undefined *)(iVar1 + 4), *(undefined *)(iVar1 + 3));
		*(undefined2 *)(iVar1 + 5) = CONCAT11(*(undefined *)(iVar1 + 6), *(undefined *)(iVar1 + 5));
		*(undefined2 *)(iVar1 + 7) = CONCAT11(*(undefined *)(iVar1 + 8), *(undefined *)(iVar1 + 7));
		bVar9 = *(byte *)(iVar1 + 2);
		uVar10 = (undefined) * (ushort *)(iVar1 + 3);
		uVar11 = (undefined) * (ushort *)(iVar1 + 5);
		uVar12 = (undefined) * (ushort *)(iVar1 + 7);
		iVar7 = (int)param_2;
		FUN_1009b4d4(iVar7, (uint) * (byte *)(iVar1 + 1), (uint)bVar9, (uint) * (ushort *)(iVar1 + 3),
		    (uint) * (ushort *)(iVar1 + 5), (uint) * (ushort *)(iVar1 + 7));
		if (iVar7 != *(int *)ppuVar6[-0x1deb]) {
			if (*ppuVar6[-0x1df9] == 0) {
				AddInTownPortal(param_2, 0, bVar9, uVar10, uVar11, uVar12, param_7, param_8, in_stack_ffffffb8);
			} else {
				if ((uint)(byte)*ppuVar6[-0x1df9] == *(uint *)(ppuVar6[-0x1dea] + iVar7 * 0x55ec + 0x34)) {
					bVar2 = true;
					piVar8 = (int *)ppuVar6[-0x1d98];
					uVar5 = (ulonglong) * (uint *)ppuVar6[-0x1d9a];
					bVar4 = true;
					if (0 < (int)*(uint *)ppuVar6[-0x1d9a]) {
						do {
							bVar2 = bVar4;
							if ((*(int *)(puVar3 + *piVar8 * 0xb4) == 10) && (iVar7 == *(int *)(puVar3 + *piVar8 * 0xb4 + 0x78))) {
								bVar2 = false;
							}
							piVar8 = piVar8 + 1;
							uVar5 = uVar5 - 1;
							bVar4 = bVar2;
						} while (uVar5 != 0);
					}
					if (bVar2) {
						AddWarpMissile(param_2, (ulonglong) * (byte *)(iVar1 + 1), (ulonglong) * (byte *)(iVar1 + 2),
						    uVar10, uVar11, uVar12, param_7, param_8, in_stack_ffffffb8);
					}
				} else {
					FUN_1009b55c(param_2);
				}
			}
		}
		FUN_1007b78c(iVar7, *(undefined *)(iVar1 + 1), *(undefined *)(iVar1 + 2),
		    (char)*(undefined2 *)(iVar1 + 3), (char)*(undefined2 *)(iVar1 + 5),
		    (char)*(undefined2 *)(iVar1 + 7));
	}
	return 9;
}

undefined8
FUN_1007ea40(undefined8 param_1, undefined8 param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined8 uVar1;
	undefined uVar2;
	undefined uVar3;
	undefined uVar4;
	undefined4 in_stack_ffffffc8;

	uVar4 = (undefined)param_1;
	uVar3 = SUB41(_DAT_100f1d14, 0);
	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 1, uVar4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	} else {
		uVar2 = (char)param_2;
		uVar1 = FUN_1009b51c((int)param_2);
		if ((int)uVar1 != 0) {
			FUN_1009b55c(param_2);
		}
		FUN_1009b508((int)param_2);
		FUN_1007b7b8((char)param_2, uVar2, uVar3, uVar4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return 1;
}

undefined8
FUN_1007eabc(ulonglong param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    ulonglong param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	char *pcVar2;
	ulonglong uVar3;
	ulonglong uVar4;
	undefined7 uVar5;
	undefined uVar6;
	undefined7 uVar7;
	undefined uVar8;
	undefined7 uVar9;
	undefined uVar10;
	undefined7 uVar11;
	undefined uVar12;
	undefined4 in_stack_ffffffc8;

	pcVar2 = _DAT_100f1d14;
	puVar1 = PTR_DAT_100f1a04;
	uVar11 = (undefined7)((ulonglong)param_8 >> 8);
	uVar12 = (undefined)param_8;
	uVar9 = (undefined7)((ulonglong)param_7 >> 8);
	uVar10 = (undefined)param_7;
	uVar7 = (undefined7)((ulonglong)param_6 >> 8);
	uVar8 = (undefined)param_6;
	uVar5 = (undefined7)(param_5 >> 8);
	uVar6 = (undefined)param_5;
	uVar4 = ZEXT48(_DAT_100f1d14);
	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 1, (char)param_1, uVar6, uVar8, uVar10, uVar12, in_stack_ffffffc8);
	} else {
		uVar3 = param_2;
		if ((int)param_2 == *(int *)PTR_DAT_100f1824) {
			*(undefined4 *)PTR_DAT_100f1a04 = 0;
			uVar3 = param_2;
			gamemenu_off((char)puVar1, (char)param_2, (char)pcVar2, (char)param_1, uVar6, uVar8, uVar10, uVar12,
			    in_stack_ffffffc8);
		}
		RestartTownLvl(param_2, uVar3, uVar4, param_1, CONCAT71(uVar5, uVar6), CONCAT71(uVar7, uVar8),
		    CONCAT71(uVar9, uVar10), CONCAT71(uVar11, uVar12), in_stack_ffffffc8);
	}
	return 1;
}

undefined8
FUN_1007eb38(ulonglong param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    ulonglong param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	ushort uVar1;
	int iVar2;
	undefined4 in_stack_ffffffc8;

	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 3, (char)param_1, (char)param_5, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffffc8);
	} else {
		iVar2 = (int)param_1;
		*(undefined2 *)(iVar2 + 1) = CONCAT11(*(undefined *)(iVar2 + 2), *(undefined *)(iVar2 + 1));
		uVar1 = *(ushort *)(iVar2 + 1);
		if ((uVar1 < 0x2ef) && ((int)param_2 != *(int *)PTR_DAT_100f1824)) {
			SetPlrStr(param_2, (uint)uVar1, (ulonglong)uVar1, param_1, param_5, param_6, param_7, param_8,
			    in_stack_ffffffc8);
		}
	}
	return 3;
}

undefined8
FUN_1007ebc0(ulonglong param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    ulonglong param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	ushort uVar1;
	int iVar2;
	undefined4 in_stack_ffffffc8;

	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 3, (char)param_1, (char)param_5, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffffc8);
	} else {
		iVar2 = (int)param_1;
		*(undefined2 *)(iVar2 + 1) = CONCAT11(*(undefined *)(iVar2 + 2), *(undefined *)(iVar2 + 1));
		uVar1 = *(ushort *)(iVar2 + 1);
		if ((uVar1 < 0x2ef) && ((int)param_2 != *(int *)PTR_DAT_100f1824)) {
			SetPlrDex(param_2, (uint)uVar1, (ulonglong)uVar1, param_1, param_5, param_6, param_7, param_8,
			    in_stack_ffffffc8);
		}
	}
	return 3;
}

undefined8
FUN_1007ec48(ulonglong param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    ulonglong param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	ushort uVar1;
	int iVar2;
	undefined4 in_stack_ffffffc8;

	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 3, (char)param_1, (char)param_5, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffffc8);
	} else {
		iVar2 = (int)param_1;
		*(undefined2 *)(iVar2 + 1) = CONCAT11(*(undefined *)(iVar2 + 2), *(undefined *)(iVar2 + 1));
		uVar1 = *(ushort *)(iVar2 + 1);
		if ((uVar1 < 0x2ef) && ((int)param_2 != *(int *)PTR_DAT_100f1824)) {
			SetPlrMag(param_2, (uint)uVar1, (ulonglong)uVar1, param_1, param_5, param_6, param_7, param_8,
			    in_stack_ffffffc8);
		}
	}
	return 3;
}

undefined8
FUN_1007ecd0(ulonglong param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    ulonglong param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	ushort uVar1;
	int iVar2;
	undefined4 in_stack_ffffffc8;

	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 3, (char)param_1, (char)param_5, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffffc8);
	} else {
		iVar2 = (int)param_1;
		*(undefined2 *)(iVar2 + 1) = CONCAT11(*(undefined *)(iVar2 + 2), *(undefined *)(iVar2 + 1));
		uVar1 = *(ushort *)(iVar2 + 1);
		if ((uVar1 < 0x2ef) && ((int)param_2 != *(int *)PTR_DAT_100f1824)) {
			SetPlrVit(param_2, (uint)uVar1, (ulonglong)uVar1, param_1, param_5, param_6, param_7, param_8,
			    in_stack_ffffffc8);
		}
	}
	return 3;
}

void FUN_1007ed58(longlong param_1, undefined8 param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	FUN_1007b724(param_2, param_1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

undefined8
FUN_1007ed84(undefined8 param_1, undefined8 param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined **ppuVar2;
	undefined4 in_stack_ffffffc8;

	ppuVar2 = &toc;
	if (*_DAT_100f1d14 == '\x01') {
		msg_send_packet(param_2, param_1, 5, (char)param_1, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	} else {
		if ((int)param_2 != *(int *)PTR_DAT_100f1824) {
			iVar1 = (int)param_1;
			ppuVar2 = &toc;
			FUN_1009db1c((uint) * (byte *)(iVar1 + 1), (ulonglong) * (byte *)(iVar1 + 2),
			    (uint) * (byte *)(iVar1 + 3), (uint) * (byte *)(iVar1 + 4));
		}
		*(undefined *)(ppuVar2 + -0x134c) = 1;
	}
	return 5;
}

undefined8
On_ENDSHIELD(undefined8 param_1, int param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	undefined *puVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	int iVar7;
	uint *puVar8;
	undefined4 in_stack_ffffffb8;

	puVar3 = PTR_DAT_100f196c;
	puVar2 = PTR_DAT_100f1968;
	lVar6 = (longlong)param_8;
	lVar5 = (longlong)param_7;
	lVar4 = (longlong)param_6;
	if (((*_DAT_100f1d14 != '\x01') && (param_2 != *(int *)PTR_DAT_100f1824)) && ((uint)(byte)*PTR_DAT_100f17ec == *(uint *)(PTR_DAT_100f1828 + param_2 * 0x55ec + 0x34))) {
		iVar7 = 0;
		puVar8 = (uint *)PTR_DAT_100f1970;
		while (iVar7 < *(int *)puVar2) {
			uVar1 = *puVar8;
			if ((*(int *)(puVar3 + uVar1 * 0xb4) == 0xd) && (param_2 == *(int *)(puVar3 + uVar1 * 0xb4 + 0x78))) {
				ClearMissileSpot(uVar1);
				DeleteMissile((ulonglong)uVar1, iVar7, param_3, param_4, param_5, (int)lVar4, (int)lVar5, (int)lVar6, in_stack_ffffffb8);
			}
			puVar8 = puVar8 + 1;
			iVar7 = iVar7 + 1;
		}
	}
	return 1;
}

undefined8
FUN_1007eec8(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined param_9, undefined param_10, undefined4 param_11, undefined4 param_12)

{
	return 1;
}

undefined8
FUN_1007eed8(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined param_9, undefined param_10, undefined4 param_11, undefined4 param_12)

{
	return 1;
}

undefined8
On_NOVA(int param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined4 in_stack_ffffffc8;

	if (((*_DAT_100f1d14 != '\x01') && (puVar1 = PTR_DAT_100f1828 + (int)param_2 * 0x55ec, (uint)(byte)*PTR_DAT_100f17ec == *(uint *)(puVar1 + 0x34))) && ((int)param_2 != *(int *)PTR_DAT_100f1824)) {
		ClrPlrPath(param_2, param_2, ZEXT48(_DAT_100f1d14), ZEXT48(PTR_DAT_100f1828), param_5, param_6,
		    param_7, param_8, in_stack_ffffffc8);
		*(undefined4 *)(puVar1 + 0xa4) = 0x12;
		puVar1[0xa8] = 4;
		puVar1[0xa9] = 3;
		*(undefined4 *)(puVar1 + 0x20) = 0xc;
		*(uint *)(puVar1 + 0x24) = (uint) * (byte *)(param_1 + 1);
		*(uint *)(puVar1 + 0x28) = (uint) * (byte *)(param_1 + 2);
	}
	return 3;
}

undefined8 FUN_1007ef94(undefined8 param_1, int param_2)

{
	if (*_DAT_100f1d14 != '\x01') {
		PTR_DAT_100f1828[param_2 * 0x55ec + 0x5594] = 1;
	}
	return 1;
}

undefined8 FUN_1007efc0(undefined8 param_1, int param_2)

{
	if (*_DAT_100f1d14 != '\x01') {
		PTR_DAT_100f1828[param_2 * 0x55ec + 0x5594] = 0;
	}
	return 1;
}

undefined8 FUN_1007efec(void)

{
	return 1;
}

longlong FUN_1007eff4(undefined8 uParm1, byte *pbParm2)

{
	byte bVar1;
	longlong lVar2;
	undefined8 uVar3;
	ulonglong uVar4;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	DAT_100f4288 = *pbParm2;
	uVar4 = (ulonglong)DAT_100f4288;
	if (((*(short *)(PTR_DAT_100f1f5c + (int)uParm1 * 2) == 0) || (DAT_100f4288 == 2)) || (DAT_100f4288 == 0x36)) {
		bVar1 = *pbParm2;
		if (bVar1 < 0x5e) {
			// WARNING: Could not recover jumptable at 0x1007f058. Too many branches
			// WARNING: Treating indirect jump as call
			uVar3 = (**(code **)(PTR_PTR_LAB_100f3330 + (uint)bVar1 * 4))();
			return uVar3;
		}
		if ((bVar1 < 0x3a) || (0x4c < bVar1)) {
			SNetDropPlayer((char)uParm1, 6, bVar1, DAT_100f4288, (char)uParm1, (char)in_r8, (char)in_r9,
			    (char)in_r10, (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
			lVar2 = 0;
		} else {
			*(ushort *)(pbParm2 + 1) = CONCAT11(pbParm2[2], pbParm2[1]);
			*(ushort *)(pbParm2 + 3) = CONCAT11(pbParm2[4], pbParm2[3]);
			lVar2 = FUN_100798c0(uParm1, pbParm2, (ulonglong)bVar1, uVar4, uParm1, in_r8, in_r9, in_r10,
			    in_stack_ffffffc8);
		}
	} else {
		lVar2 = 0;
	}
	return lVar2;
}

void FUN_1007f560(void)

{
	_DAT_100f42ac = _DAT_100f4284;
	return;
}

void buffer_init(undefined4 *param_1)

{
	*param_1 = 0;
	*(undefined *)(param_1 + 1) = 0;
	return;
}

ulonglong FUN_1007f57c(int *param_1)

{
	undefined8 uVar1;

	uVar1 = countLeadingZeros(-*param_1);
	return (ulonglong)((uint)uVar1 >> 5 & 0xff);
}

void multi_copy_packet(int *param_1, undefined8 param_2, byte param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	longlong lVar3;
	ulonglong uVar4;
	longlong lVar5;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	uVar2 = (int)(char)param_3 & 0xff;
	uVar1 = *param_1;
	uVar4 = (ulonglong)uVar1;
	if ((uVar4 + (ulonglong)uVar2 + 2 & 0xffffffff) < 0x1001) {
		lVar3 = (ulonglong)uVar2 + uVar4;
		lVar5 = (longlong)(int)param_1 + uVar4 + 4;
		*param_1 = (int)lVar3 + 1;
		*(byte *)lVar5 = param_3;
		lVar5 = lVar5 + 1;
		memcpy((char)lVar5, (undefined)param_2, (char)uVar2, (char)lVar3, (char)uVar1, param_6, param_7,
		    param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
		*(undefined *)((int)lVar5 + uVar2) = 0;
	}
	return;
}

longlong multi_recv_packet(longlong param_1, longlong param_2, uint *param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	byte bVar1;
	int *piVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	ulonglong uVar9;
	longlong lVar10;
	undefined in_stack_ffffffbb;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	lVar7 = (longlong)param_8;
	lVar6 = (longlong)param_7;
	lVar5 = (longlong)param_6;
	lVar4 = (longlong)param_5;
	lVar3 = (longlong)param_4;
	piVar2 = (int *)param_1;
	if (*piVar2 != 0) {
		lVar8 = param_1 + 4;
		while (true) {
			bVar1 = *(byte *)lVar8;
			uVar9 = (ulonglong)bVar1;
			if ((bVar1 == 0) || ((ulonglong)*param_3 < uVar9))
				break;
			memcpy((char)param_2, (char)(lVar8 + 1), bVar1, (char)lVar3, (char)lVar4, (char)lVar5,
			    (char)lVar6, (char)lVar7, in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
			lVar8 = lVar8 + 1 + uVar9;
			param_2 = param_2 + uVar9;
			*param_3 = *param_3 - (uint)bVar1;
		}
		lVar10 = lVar8 - (param_1 + 4);
		MoveMemory((char)(param_1 + 4), (char)lVar8, ((char)*piVar2 - (char)lVar10) + '\x01', (char)lVar3,
		    (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7, in_stack_ffffffbb, in_stack_ffffffbf,
		    local_3c);
		*piVar2 = *piVar2 - (int)lVar10;
	}
	return param_2;
}

void NetRecvPlrData(undefined *param_1)

{
	undefined *puVar1;
	undefined *puVar2;

	puVar1 = PTR_DAT_100f1824;
	*(undefined2 *)(param_1 + 0xf) = 0x6970;
	puVar2 = PTR_DAT_100f1828;
	*param_1 = (char)*(undefined4 *)(PTR_DAT_100f1828 + *(int *)puVar1 * 0x55ec + 0x38);
	param_1[1] = (char)*(undefined4 *)(puVar2 + *(int *)puVar1 * 0x55ec + 0x3c);
	param_1[2] = (char)*(undefined4 *)(puVar2 + *(int *)puVar1 * 0x55ec + 0x48);
	param_1[3] = (char)*(undefined4 *)(puVar2 + *(int *)puVar1 * 0x55ec + 0x4c);
	*(undefined4 *)(param_1 + 4) = *(undefined4 *)(puVar2 + *(int *)puVar1 * 0x55ec + 0x194);
	*(undefined4 *)(param_1 + 8) = *(undefined4 *)(puVar2 + *(int *)puVar1 * 0x55ec + 0x198);
	param_1[0xc] = (char)*(undefined4 *)(puVar2 + *(int *)puVar1 * 0x55ec + 0x164);
	param_1[0xd] = (char)*(undefined4 *)(puVar2 + *(int *)puVar1 * 0x55ec + 0x16c);
	param_1[0xe] = (char)*(undefined4 *)(puVar2 + *(int *)puVar1 * 0x55ec + 0x174);
	return;
}

void FUN_1007f794(ulonglong param_1, byte param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	if (((param_1 & 0xffffffff) != 0) && (param_2 != 0)) {
		FUN_100b0574(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return;
}

void multi_send_packet(undefined8 param_1, uint param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	ushort uVar1;
	undefined *puVar2;
	int iVar3;
	longlong lVar4;
	undefined7 uVar5;
	undefined uVar6;
	undefined7 uVar7;
	undefined uVar8;
	ulonglong uVar9;
	byte local_204;
	byte bStack515;
	byte bStack514;
	byte bStack513;
	byte local_200;
	byte bStack511;
	byte bStack510;
	byte bStack509;
	undefined local_1f9;
	undefined uStack504;
	undefined local_1f7;
	undefined uStack502;

	uVar7 = (undefined7)((ulonglong)param_5 >> 8);
	uVar8 = (undefined)param_5;
	uVar5 = (undefined7)((ulonglong)param_4 >> 8);
	uVar6 = (undefined)param_4;
	lVar4 = ZEXT48(register0x0000000c) - 0x240;
	puVar2 = (undefined *)lVar4;
	*(BADSPACEBASE **)puVar2 = register0x0000000c;
	NetRecvPlrData(puVar2 + 0x38, *puVar2);
	*(short *)(puVar2 + 0x49) = (short)(param_2 & 0xff) + 0x13;
	uVar1 = *(ushort *)(puVar2 + 0x49);
	uVar9 = (ulonglong)uVar1;
	*(uint *)(puVar2 + 0x3c) = (uint)bStack513 << 0x18 | (uint)bStack514 << 0x10 | (uint)bStack515 << 8 | (uint)local_204;
	*(uint *)(puVar2 + 0x40) = (uint)bStack509 << 0x18 | (uint)bStack510 << 0x10 | (uint)bStack511 << 8 | (uint)local_200;
	*(ushort *)(puVar2 + 0x47) = CONCAT11(uStack504, local_1f9);
	*(ushort *)(puVar2 + 0x49) = CONCAT11(uStack502, local_1f7);
	memcpy((char)lVar4 + 'K', (undefined)param_1, (char)(param_2 & 0xff), uVar6, uVar8, (char)param_6,
	    (char)param_7, (char)param_8, puVar2[0xb], puVar2[0xf], *(undefined4 *)(puVar2 + 0x14));
	lVar4 = ZEXT48(register0x0000000c) - 0x208;
	iVar3 = SNetSendMessage((char)**(undefined4 **)(*(int *)(puVar2 + 0x14) + -0x77ac), (char)lVar4,
	    (char)uVar1, uVar6, uVar8, (char)param_6, (char)param_7, (char)param_8,
	    puVar2[0xb], puVar2[0xf], *(undefined4 *)(puVar2 + 0x14));
	if (iVar3 == 0) {
		nthread_terminate_game((ulonglong) * (uint *)(*(int *)(puVar2 + 0x14) + -0x5c0c), lVar4, uVar9,
		    CONCAT71(uVar5, uVar6), CONCAT71(uVar7, uVar8), param_6, param_7, param_8,
		    *(undefined4 *)(puVar2 + 8));
	}
	return;
}

void NetSendLoPri(longlong param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined7 uVar1;
	undefined uVar2;
	undefined7 uVar3;
	undefined uVar4;
	undefined4 uVar5;
	undefined4 in_stack_ffffffc8;

	uVar3 = (undefined7)((ulonglong)param_5 >> 8);
	uVar4 = (undefined)param_5;
	uVar1 = (undefined7)((ulonglong)param_4 >> 8);
	uVar2 = (undefined)param_4;
	if ((param_1 != 0) && (uVar5 = (undefined4)param_2, (param_2 & 0xff) != 0)) {
		multi_copy_packet(_DAT_100f33c0, param_1, (byte)param_2, uVar2, uVar4, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffffc8);
		multi_send_packet(param_1, uVar5, param_2, CONCAT71(uVar1, uVar2), CONCAT71(uVar3, uVar4), param_6, param_7,
		    param_8, in_stack_ffffffc8);
	}
	return;
}

void NetSendHiPri(longlong param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	ulonglong uVar2;
	undefined **ppuVar3;
	longlong lVar4;
	int iVar5;
	undefined uVar7;
	longlong lVar6;
	undefined uVar9;
	longlong lVar8;
	undefined7 uVar10;
	undefined uVar11;
	undefined4 uVar12;
	ulonglong uVar13;
	undefined4 in_stack_fffffdb8;
	undefined in_stack_fffffdbf;
	int local_23c;
	uint local_218;
	undefined auStack532[4];
	uint local_210;
	uint local_20c;
	undefined2 local_205;
	undefined2 local_203;

	puVar1 = PTR_DAT_100f1fcc;
	uVar10 = (undefined7)((ulonglong)param_5 >> 8);
	uVar11 = (undefined)param_5;
	uVar2 = ZEXT48(register0x0000000c);
	ppuVar3 = &toc;
	uVar13 = ZEXT48(_DAT_100f33bc);
	if ((param_1 != 0) && (uVar12 = (undefined4)param_2, (param_2 & 0xff) != 0)) {
		ppuVar3 = &toc;
		multi_copy_packet(_DAT_100f33bc, param_1, (byte)param_2, (char)param_4, uVar11, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_fffffdb8);
		multi_send_packet(param_1, uVar12, param_2, param_4, CONCAT71(uVar10, uVar11), param_6, param_7, param_8,
		    in_stack_fffffdb8);
	}
	if (ppuVar3[-0x1340] == (undefined *)0x0) {
		ppuVar3[-0x1340] = (undefined *)0x1;
		NetRecvPlrData(auStack532);
		iVar5 = *(int *)puVar1;
		uVar9 = (undefined)iVar5;
		local_218 = iVar5 - 0x13;
		lVar4 = multi_recv_packet(uVar13, uVar2 - 0x201, &local_218, uVar9, uVar11, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_fffffdb8);
		uVar7 = (undefined)(uVar2 - 0x218);
		lVar4 = multi_recv_packet(ZEXT48(ppuVar3[-0x1704]), lVar4, (uint *)(uVar2 - 0x218), uVar9, uVar11,
		    (char)param_6, (char)param_7, (char)param_8, in_stack_fffffdb8);
		uVar13 = sync_all_monsters((undefined *)lVar4, (ulonglong)local_218, uVar7, uVar9, uVar11, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_fffffdb8);
		local_218 = (uint)uVar13;
		lVar8 = uVar2 - 0x203;
		lVar6 = (ulonglong) * (uint *)puVar1 - (uVar13 & 0xffffffff);
		local_210 = local_210 << 0x18 | (local_210 >> 8 & 0xff) << 0x10 | (local_210 >> 0x10 & 0xff) << 8 | local_210 >> 0x18;
		local_20c = local_20c << 0x18 | (local_20c >> 8 & 0xff) << 0x10 | (local_20c >> 0x10 & 0xff) << 8 | local_20c >> 0x18;
		local_205 = CONCAT11((undefined)local_205, local_205._0_1_);
		local_203 = CONCAT11(((undefined *)lVar8)[1], *(undefined *)lVar8);
		lVar4 = uVar2 - 0x214;
		iVar5 = SNetSendMessage(0xfe, (char)lVar4, (char)lVar6, (char)lVar8, uVar11, (char)param_6,
		    (char)param_7, (char)param_8, (char)in_stack_fffffdb8, in_stack_fffffdbf,
		    local_23c);
		if (iVar5 == 0) {
			nthread_terminate_game((ulonglong) * (uint *)(local_23c + -0x5c18), lVar4, lVar6, lVar8,
			    CONCAT71(uVar10, uVar11), param_6, param_7, param_8, in_stack_fffffdb8);
		}
	}
	return;
}

void multi_send_msg_packet(uint param_1, undefined8 param_2, uint param_3, undefined8 param_4, undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	undefined *puVar1;
	longlong lVar2;
	int iVar4;
	longlong lVar3;
	longlong lVar5;
	longlong lVar6;
	undefined7 uVar7;
	undefined uVar8;
	undefined7 uVar9;
	undefined uVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	ulonglong uVar14;
	uint uVar15;
	byte local_214;
	byte bStack531;
	byte bStack530;
	byte bStack529;
	byte local_210;
	byte bStack527;
	byte bStack526;
	byte bStack525;
	undefined local_209;
	undefined uStack520;
	undefined local_207;
	undefined uStack518;

	uVar9 = (undefined7)((ulonglong)param_5 >> 8);
	uVar10 = (undefined)param_5;
	uVar7 = (undefined7)((ulonglong)param_4 >> 8);
	uVar8 = (undefined)param_4;
	lVar13 = (longlong)param_8;
	lVar12 = (longlong)param_7;
	lVar11 = (longlong)param_6;
	lVar6 = ZEXT48(register0x0000000c) - 0x250;
	puVar1 = (undefined *)lVar6;
	*(BADSPACEBASE **)puVar1 = register0x0000000c;
	NetRecvPlrData(puVar1 + 0x38, *puVar1);
	lVar2 = (ulonglong)(param_3 & 0xff) + 0x13;
	*(short *)(puVar1 + 0x49) = (short)lVar2;
	memcpy((char)lVar6 + 'K', (undefined)param_2, (char)(param_3 & 0xff), uVar8, uVar10, (char)lVar11,
	    (char)lVar12, (char)lVar13, puVar1[0xb], puVar1[0xf], *(undefined4 *)(puVar1 + 0x14));
	*(uint *)(puVar1 + 0x3c) = (uint)bStack529 << 0x18 | (uint)bStack530 << 0x10 | (uint)bStack531 << 8 | (uint)local_214;
	*(uint *)(puVar1 + 0x40) = (uint)bStack525 << 0x18 | (uint)bStack526 << 0x10 | (uint)bStack527 << 8 | (uint)local_210;
	*(ushort *)(puVar1 + 0x47) = CONCAT11(uStack520, local_209);
	uVar15 = 1;
	uVar14 = 0;
	*(ushort *)(puVar1 + 0x49) = CONCAT11(uStack518, local_207);
	do {
		if ((uVar15 & param_1) != 0) {
			lVar5 = ZEXT48(register0x0000000c) - 0x218;
			lVar6 = lVar2;
			iVar4 = SNetSendMessage((char)uVar14, (char)lVar5, (char)lVar2, uVar8, uVar10, (char)lVar11,
			    (char)lVar12, (char)lVar13, puVar1[0xb], puVar1[0xf],
			    *(undefined4 *)(puVar1 + 0x14));
			if (iVar4 == 0) {
				lVar3 = SErrGetLastError(0, (char)lVar5, (char)lVar6, uVar8, uVar10, (char)lVar11, (char)lVar12,
				    (char)lVar13, puVar1[0xb], puVar1[0xf], *(undefined4 *)(puVar1 + 0x14));
				if ((lVar3 + 0x7af00000U & 0xffffffff) != 0x6a) {
					nthread_terminate_game((ulonglong) * (uint *)(*(int *)(puVar1 + 0x14) + -0x5c18), lVar5, lVar6,
					    CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10), (int)lVar11, (int)lVar12,
					    (int)lVar13, *(undefined4 *)(puVar1 + 8));
					return;
				}
			}
		}
		uVar14 = uVar14 + 1;
		uVar15 = uVar15 << 1;
	} while ((uVar14 & 0xffffffff) < 4);
	return;
}

void FUN_1007faf8(void)

{
	uint uVar1;
	int iVar2;
	int iVar3;
	undefined *puVar4;
	int iVar5;
	longlong lVar6;

	lVar6 = 5;
	_DAT_100f42c8 = _DAT_100f42c8 + 1;
	iVar5 = 0;
	uVar1 = _DAT_100f42c8 * 0x1000000 | _DAT_100f42c8 >> 8;
	puVar4 = PTR_DAT_100f187c;
	do {
		iVar2 = iVar5 + uVar1;
		*(int *)(puVar4 + 0xb8) = iVar2;
		*(int *)(puVar4 + 0x1a0) = iVar2 + 1;
		*(int *)(puVar4 + 0x288) = iVar2 + 2;
		iVar3 = iVar5 + 8 + uVar1;
		*(int *)(puVar4 + 0x370) = iVar2 + 3;
		*(int *)(puVar4 + 0x458) = iVar2 + 4;
		*(int *)(puVar4 + 0x540) = iVar2 + 5;
		*(int *)(puVar4 + 0x628) = iVar2 + 6;
		*(int *)(puVar4 + 0x710) = iVar2 + 7;
		*(int *)(puVar4 + 0x7f8) = iVar3;
		iVar2 = iVar5 + 0x10 + uVar1;
		*(int *)(puVar4 + 0x8e0) = iVar3 + 1;
		*(int *)(puVar4 + 0x9c8) = iVar3 + 2;
		*(int *)(puVar4 + 0xab0) = iVar3 + 3;
		*(int *)(puVar4 + 0xb98) = iVar3 + 4;
		*(int *)(puVar4 + 0xc80) = iVar3 + 5;
		*(int *)(puVar4 + 0xd68) = iVar3 + 6;
		*(int *)(puVar4 + 0xe50) = iVar3 + 7;
		*(int *)(puVar4 + 0xf38) = iVar2;
		iVar3 = iVar5 + 0x18 + uVar1;
		*(int *)(puVar4 + 0x1020) = iVar2 + 1;
		*(int *)(puVar4 + 0x1108) = iVar2 + 2;
		*(int *)(puVar4 + 0x11f0) = iVar2 + 3;
		*(int *)(puVar4 + 0x12d8) = iVar2 + 4;
		*(int *)(puVar4 + 0x13c0) = iVar2 + 5;
		*(int *)(puVar4 + 0x14a8) = iVar2 + 6;
		*(int *)(puVar4 + 0x1590) = iVar2 + 7;
		*(int *)(puVar4 + 0x1678) = iVar3;
		iVar2 = iVar5 + 0x20 + uVar1;
		iVar5 = iVar5 + 0x28;
		*(int *)(puVar4 + 0x1760) = iVar3 + 1;
		*(int *)(puVar4 + 0x1848) = iVar3 + 2;
		*(int *)(puVar4 + 0x1930) = iVar3 + 3;
		*(int *)(puVar4 + 0x1a18) = iVar3 + 4;
		*(int *)(puVar4 + 0x1b00) = iVar3 + 5;
		*(int *)(puVar4 + 0x1be8) = iVar3 + 6;
		*(int *)(puVar4 + 0x1cd0) = iVar3 + 7;
		*(int *)(puVar4 + 0x1db8) = iVar2;
		*(int *)(puVar4 + 0x1ea0) = iVar2 + 1;
		*(int *)(puVar4 + 0x1f88) = iVar2 + 2;
		*(int *)(puVar4 + 0x2070) = iVar2 + 3;
		*(int *)(puVar4 + 0x2158) = iVar2 + 4;
		*(int *)(puVar4 + 0x2240) = iVar2 + 5;
		*(int *)(puVar4 + 9000) = iVar2 + 6;
		*(int *)(puVar4 + 0x2410) = iVar2 + 7;
		puVar4 = puVar4 + 0x2440;
		lVar6 = lVar6 + -1;
	} while (lVar6 != 0);
	return;
}

void FUN_1007fc80(int param_1)

{
	int iVar1;

	iVar1 = 0;
	if (((*(uint *)PTR_DAT_100f1fc8 & 0x10000) == 0) || (param_1 == 0)) {
		iVar1 = 1;
		if (((*(uint *)(PTR_DAT_100f1fc8 + 4) & 0x10000) == 0) || (param_1 == 1)) {
			iVar1 = 2;
			if ((((*(uint *)(PTR_DAT_100f1fc8 + 8) & 0x10000) == 0) || (param_1 == 2)) && ((iVar1 = 3, (*(uint *)(PTR_DAT_100f1fc8 + 0xc) & 0x10000) == 0 || (param_1 == 3)))) {
				iVar1 = 4;
			}
		}
	}
	if (*(int *)PTR_DAT_100f1824 == iVar1) {
		*(undefined *)(param_1 + 0x100f42bd) = 1;
		return;
	}
	if (*(int *)PTR_DAT_100f1824 != param_1) {
		return;
	}
	*_DAT_100f1f68 = (char)iVar1;
	return;
}

void FUN_1007fd1c(int param_1, uint param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined **ppuVar1;
	uint uVar2;

	ppuVar1 = &toc;
	if ((param_2 & 0x80000000) != 0) {
		ppuVar1 = &toc;
		FUN_1007fc80(param_1);
	}
	uVar2 = param_2 & 0x7fffffff;
	if (ppuVar1[-0x1341] < (undefined *)(uVar2 + *(int *)ppuVar1[-0x1c18])) {
		if (0x7ffffffe < uVar2) {
			uVar2 = param_2 & 0xffff;
		}
		ppuVar1[-0x1341] = (undefined *)(uVar2 + *(int *)ppuVar1[-0x1c18]);
		ppuVar1[-0x1342] = (undefined *)(uVar2 * 4 * (uint)(byte)*ppuVar1[-0x1c03]);
	}
	return;
}

undefined FUN_1007fd9c(undefined param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	byte *pbVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	int iVar8;
	byte **ppbVar9;
	int *piVar10;
	uint *puVar11;
	undefined4 in_stack_ffffffb8;

	lVar7 = (longlong)param_8;
	lVar6 = (longlong)param_7;
	lVar5 = (longlong)param_6;
	lVar4 = (longlong)param_5;
	lVar3 = (longlong)param_4;
	lVar2 = (longlong)param_3;
	iVar8 = 0;
	puVar11 = (uint *)PTR_DAT_100f1fc8;
	piVar10 = (int *)PTR_DAT_100f1fc0;
	ppbVar9 = (byte **)PTR_DAT_100f1fbc;
	do {
		if (((*puVar11 & 0x20000) != 0) && (*piVar10 == 4)) {
			pbVar1 = *ppbVar9;
			param_1 = FUN_1007fd1c(iVar8, (uint)pbVar1[3] << 0x18 | (uint)pbVar1[2] << 0x10 | (uint)pbVar1[1] << 8 | (uint)*pbVar1, (char)lVar2, (char)lVar3,
			    (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7, in_stack_ffffffb8);
		}
		iVar8 = iVar8 + 1;
		piVar10 = piVar10 + 1;
		ppbVar9 = ppbVar9 + 1;
		puVar11 = puVar11 + 1;
	} while (iVar8 < 4);
	return param_1;
}

void FUN_1007fe28(uint param_1, undefined8 param_2, ulonglong param_3, ulonglong param_4,
    ulonglong param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	char *pcVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	undefined *puVar5;
	undefined8 uVar6;
	undefined4 uVar7;
	undefined4 uVar8;
	int iVar9;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar3 = PTR_DAT_100f1828;
	ppuVar4 = &toc;
	iVar9 = param_1 * 0x55ec;
	pcVar2 = PTR_DAT_100f1828 + iVar9 + 0x1d;
	if (*pcVar2 != '\0') {
		uVar6 = param_2;
		RemovePlrFromMap(param_1);
		FUN_1009b55c(param_1);
		FUN_1009b508(param_1);
		FUN_1007b7b8((char)param_1, (char)uVar6, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffffb8);
		uVar8 = (undefined4)param_5;
		uVar7 = (undefined4)param_4;
		RemovePlrMissiles(param_1, uVar6, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
		if ((int)param_2 != 0) {
			puVar5 = ppuVar4[-0x1707];
			iVar1 = *(int *)(ppuVar4[-0x1708] + param_1 * 4);
			if (iVar1 != 0x40000005) {
				if (iVar1 < 0x40000005) {
					if (0x40000003 < iVar1) {
						puVar5 = ppuVar4[-0x170a];
						*ppuVar4[-0x1c7f] = 1;
					}
				} else {
					if (iVar1 < 0x40000007) {
						puVar5 = ppuVar4[-0x1709];
					}
				}
			}
			FUN_1009ae28(puVar5, puVar3 + iVar9 + 0x13c, iVar1, uVar7, uVar8, param_6, param_7, param_8,
			    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc,
			    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
			    in_stack_ffffffe0, in_stack_ffffffe4);
		}
		*pcVar2 = '\0';
		pcVar2 = ppuVar4[-0x1c29];
		puVar3[iVar9 + 0x13c] = 0;
		*pcVar2 = *pcVar2 + -1;
	}
	return;
}

void FUN_1007ff20(undefined8 param_1, undefined8 param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	char *pcVar1;
	undefined7 uVar2;
	undefined uVar3;
	undefined7 uVar4;
	undefined uVar5;
	undefined7 uVar6;
	undefined uVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	undefined4 *puVar12;
	char *pcVar13;
	undefined4 in_stack_ffffffb8;

	pcVar1 = _DAT_100f1d14;
	uVar6 = (undefined7)((ulonglong)param_5 >> 8);
	uVar7 = (undefined)param_5;
	uVar4 = (undefined7)((ulonglong)param_4 >> 8);
	uVar5 = (undefined)param_4;
	uVar2 = (undefined7)(param_3 >> 8);
	uVar3 = (undefined)param_3;
	lVar10 = (longlong)param_8;
	lVar9 = (longlong)param_7;
	lVar8 = (longlong)param_6;
	lVar11 = 0;
	pcVar13 = (char *)0x100f42c1;
	puVar12 = _DAT_100f33b0;
	do {
		if (*pcVar13 != '\0') {
			if (*pcVar1 == '\x01') {
				FUN_10078e9c(lVar11, (char)*puVar12, uVar3, uVar5, uVar7, (char)lVar8, (char)lVar9, (char)lVar10,
				    in_stack_ffffffb8);
			} else {
				FUN_1007fe28((uint)lVar11, 1, CONCAT71(uVar2, uVar3), CONCAT71(uVar4, uVar5),
				    CONCAT71(uVar6, uVar7), (int)lVar8, (int)lVar9, (int)lVar10, in_stack_ffffffb8);
			}
			*pcVar13 = '\0';
			*puVar12 = 0;
		}
		lVar11 = lVar11 + 1;
		puVar12 = puVar12 + 1;
		pcVar13 = pcVar13 + 1;
	} while ((int)lVar11 < 4);
	return;
}

void FUN_1007ffb0(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint uVar1;
	ulonglong uVar2;
	undefined4 in_stack_ffffffc8;

	uVar1 = _DAT_100f33b0;
	uVar2 = (ulonglong)_DAT_100f33b0;
	*(undefined *)((int)param_1 + 0x100f42c1) = 1;
	*(undefined4 *)(uVar1 + (int)param_1 * 4) = (int)param_2;
	FUN_1007ff20(param_1, param_2, uVar2, 0x100f42c1, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void multi_net_ping(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 uVar1;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	int local_2c;

	DAT_100f42b8 = 1;
	uVar1 = GetTickCount(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	*(undefined4 *)(local_2c + -0x4d1c) = uVar1;
	return;
}

void FUN_10080018(undefined param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	longlong lVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	uint *puVar8;
	undefined in_stack_ffffffbb;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	lVar6 = (longlong)param_8;
	lVar5 = (longlong)param_7;
	lVar4 = (longlong)param_6;
	lVar3 = (longlong)param_5;
	lVar2 = (longlong)param_4;
	lVar1 = (longlong)param_3;
	lVar7 = 0;
	puVar8 = (uint *)PTR_DAT_100f1fc8;
	do {
		if (((*puVar8 & 0x40000) == 0) && ((*puVar8 & 0x10000) != 0)) {
			SNetDropPlayer((char)lVar7, 6, (char)lVar1, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5,
			    (char)lVar6, in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
		}
		lVar7 = lVar7 + 1;
		puVar8 = puVar8 + 1;
	} while ((int)lVar7 < 4);
	return;
}

void FUN_1008008c(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint *puVar1;
	uint uVar2;
	undefined *puVar3;
	undefined *puVar4;
	int iVar5;
	int iVar6;
	byte bVar7;
	byte bVar8;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	int local_2c;

	puVar4 = _DAT_100f1f6c;
	puVar3 = PTR_DAT_100f1824;
	if (DAT_100f42b8 != '\0') {
		iVar5 = GetTickCount(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
		iVar5 = iVar5 - *(int *)(local_2c + -0x4d1c);
		if (iVar5 < 0x4e21) {
			if (9999 < iVar5) {
				puVar1 = *(uint **)(local_2c + -0x7008);
				iVar5 = -1;
				iVar6 = -1;
				bVar7 = 0;
				bVar8 = 0;
				if ((*puVar1 & 0x10000) != 0) {
					iVar6 = 0;
					if ((*puVar1 & 0x40000) == 0) {
						bVar8 = 1;
					} else {
						bVar7 = 1;
						iVar5 = 0;
					}
				}
				if ((puVar1[1] & 0x10000) != 0) {
					if (iVar6 == -1) {
						iVar6 = 1;
					}
					if ((puVar1[1] & 0x40000) == 0) {
						bVar8 = bVar8 + 1;
					} else {
						bVar7 = bVar7 + 1;
						if (iVar5 == -1) {
							iVar5 = 1;
						}
					}
				}
				if ((puVar1[2] & 0x10000) != 0) {
					if (iVar6 == -1) {
						iVar6 = 2;
					}
					if ((puVar1[2] & 0x40000) == 0) {
						bVar8 = bVar8 + 1;
					} else {
						bVar7 = bVar7 + 1;
						if (iVar5 == -1) {
							iVar5 = 2;
						}
					}
				}
				uVar2 = puVar1[3];
				if ((uVar2 & 0x10000) != 0) {
					if (iVar6 == -1) {
						iVar6 = 3;
					}
					if ((uVar2 & 0x40000) == 0) {
						bVar8 = bVar8 + 1;
					} else {
						bVar7 = bVar7 + 1;
						if (iVar5 == -1) {
							iVar5 = 3;
						}
					}
				}
				if (bVar7 < bVar8) {
					*puVar4 = 1;
				} else {
					if (bVar7 == bVar8) {
						if (iVar6 == iVar5) {
							if (iVar5 == *(int *)puVar3) {
								FUN_10080018(bVar7, (char)uVar2, (char)iVar5, (char)iVar6, bVar7, bVar8, param_7, param_8,
								    in_stack_ffffffc8);
							}
						} else {
							*puVar4 = 1;
						}
					} else {
						if (iVar5 == *(int *)puVar3) {
							FUN_10080018(bVar7, (char)uVar2, (char)iVar5, (char)iVar6, bVar7, bVar8, param_7, param_8,
							    in_stack_ffffffc8);
						}
					}
				}
			}
		} else {
			**(undefined4 **)(local_2c + -0x75a4) = 0;
		}
	}
	return;
}

undefined8
multi_handle_delta(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	int iVar1;
	undefined8 uVar2;
	ulonglong uVar3;
	int iVar4;
	undefined uVar5;
	undefined7 uVar6;
	undefined uVar7;
	undefined7 uVar8;
	undefined uVar9;
	undefined7 uVar10;
	undefined uVar11;
	longlong lVar12;
	undefined4 uVar13;
	longlong lVar14;
	undefined4 uVar15;
	longlong lVar16;
	undefined4 uVar17;
	char *pcVar18;
	undefined4 in_stack_ffffffb8;
	int local_18[6];

	uVar10 = (undefined7)((ulonglong)param_5 >> 8);
	uVar11 = (undefined)param_5;
	uVar8 = (undefined7)((ulonglong)param_4 >> 8);
	uVar9 = (undefined)param_4;
	uVar6 = (undefined7)((ulonglong)param_3 >> 8);
	uVar7 = (undefined)param_3;
	lVar16 = (longlong)param_8;
	lVar14 = (longlong)param_7;
	lVar12 = (longlong)param_6;
	uVar3 = ZEXT48(&toc);
	if (*_DAT_100f1f6c == '\0') {
		pcVar18 = (char *)0x100f42bd;
		iVar4 = 0;
		do {
			if (*pcVar18 != '\0') {
				*pcVar18 = '\0';
				FUN_10079714(iVar4, (char)param_2, uVar7, uVar9, uVar11, (char)lVar12, (char)lVar14, (char)lVar16,
				    in_stack_ffffffb8);
			}
			uVar17 = (undefined4)lVar16;
			uVar15 = (undefined4)lVar14;
			uVar13 = (undefined4)lVar12;
			iVar1 = (int)uVar3;
			iVar4 = iVar4 + 1;
			pcVar18 = pcVar18 + 1;
		} while (iVar4 < 4);
		uVar5 = 1;
		uVar3 = nthread_send_and_recv_turn((ulonglong) * (uint *)(iVar1 + -0x4d04), 1, CONCAT71(uVar6, uVar7),
		    CONCAT71(uVar8, uVar9), CONCAT71(uVar10, uVar11), uVar13, uVar15, uVar17,
		    in_stack_ffffffb8);
		*(undefined4 *)(iVar1 + -0x4d04) = (int)uVar3;
		iVar4 = FUN_10081664(local_18);
		if (iVar4 == 0) {
			FUN_1008008c(0, uVar5, uVar7, uVar9, uVar11, (char)uVar13, (char)uVar15, (char)uVar17,
			    in_stack_ffffffb8);
			uVar2 = 0;
		} else {
			*(undefined *)(iVar1 + -0x4d18) = 0;
			if (local_18[0] != 0) {
				if (*(int *)(iVar1 + -0x4d00) == 0) {
					NetSendHiPri(0, 0, CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9), CONCAT71(uVar10, uVar11),
					    uVar13, uVar15, uVar17, in_stack_ffffffb8);
					*(undefined4 *)(iVar1 + -0x4d00) = 0;
				} else {
					*(undefined4 *)(iVar1 + -0x4d00) = 0;
					uVar3 = FUN_1007f57c(*(int **)(iVar1 + -0x5c14));
					if ((int)uVar3 == 0) {
						NetSendHiPri(0, 0, CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9), CONCAT71(uVar10, uVar11),
						    uVar13, uVar15, uVar17, in_stack_ffffffb8);
					}
				}
			}
			FUN_1007faf8();
			uVar2 = 1;
		}
	} else {
		uVar2 = 0;
		*(undefined4 *)PTR_DAT_100f1a2c = 0;
	}
	return uVar2;
}

void FUN_1008035c(undefined8 param_1, longlong param_2, ulonglong param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	ulonglong uVar1;

	while (((param_3 & 0xffffffff) != 0 && (uVar1 = FUN_1007eff4(param_1, param_2), (uVar1 & 0xffffffff) != 0))) {
		param_2 = param_2 + uVar1;
		param_3 = param_3 - uVar1;
	}
	return;
}

void FUN_100803c4(undefined param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	longlong lVar1;
	int iVar2;
	undefined *puVar3;
	ulonglong uVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;

	puVar3 = PTR_DAT_100f1824;
	lVar9 = (longlong)param_8;
	lVar8 = (longlong)param_7;
	lVar7 = (longlong)param_6;
	lVar6 = (longlong)param_5;
	lVar5 = (longlong)param_4;
	uVar4 = SEXT18(param_3);
	lVar1 = ZEXT48(register0x0000000c) - 0x240;
	iVar2 = (int)lVar1;
	*(BADSPACEBASE **)iVar2 = register0x0000000c;
	while (true) {
		uVar4 = FUN_100b04e0((char)lVar1 + '8', 0, (char)uVar4, (char)lVar5, (char)lVar6, (char)lVar7,
		    (char)lVar8, (char)lVar9, *(undefined4 *)(iVar2 + 8));
		if (uVar4 == 0)
			break;
		FUN_1008035c((ulonglong) * (uint *)puVar3, ZEXT48(register0x0000000c) - 0x208, uVar4, (char)lVar5,
		    (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, *(undefined4 *)(iVar2 + 8));
	}
	return;
}

void multi_process_network_packets(undefined8 param_1, undefined8 param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	uint uVar1;
	byte *pbVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	char *pcVar9;
	undefined *puVar10;
	ulonglong uVar11;
	undefined uVar15;
	longlong lVar12;
	int iVar14;
	longlong lVar13;
	undefined uVar17;
	longlong lVar16;
	undefined uVar19;
	ulonglong uVar18;
	undefined7 uVar20;
	undefined uVar21;
	undefined4 uVar22;
	longlong lVar23;
	undefined4 uVar24;
	longlong lVar25;
	undefined4 uVar26;
	ulonglong uVar27;

	puVar10 = PTR_DAT_100f1fb8;
	pcVar9 = _DAT_100f1d14;
	puVar8 = PTR_DAT_100f1950;
	puVar7 = PTR_DAT_100f1828;
	puVar6 = PTR_DAT_100f1824;
	puVar5 = PTR_DAT_100f17ec;
	uVar19 = (undefined)param_3;
	uVar17 = (undefined)param_2;
	uVar20 = (undefined7)((ulonglong)param_5 >> 8);
	uVar21 = (undefined)param_5;
	lVar25 = (longlong)param_8;
	lVar23 = (longlong)param_7;
	lVar13 = (longlong)param_6;
	uVar11 = ZEXT48(register0x0000000c);
	uVar27 = ZEXT48(PTR_DAT_100f1828);
	puVar3 = (undefined *)(uVar11 - 0x70);
	*(BADSPACEBASE **)puVar3 = register0x0000000c;
	uVar15 = FUN_1007ff20(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    *(undefined4 *)(puVar3 + 8));
	FUN_100803c4(uVar15, uVar17, uVar19, (char)param_4, uVar21, (char)lVar13, (char)lVar23, (char)lVar25,
	    *(undefined4 *)(puVar3 + 8));
	do {
		do {
			lVar16 = uVar11 - 0x34;
			uVar18 = uVar11 - 0x38;
			iVar14 = SNetReceiveMessage((char)(uVar11 - 0x70) + '@', (char)lVar16, (char)uVar18,
			    (char)param_4, uVar21, (char)lVar13, (char)lVar23, (char)lVar25,
			    puVar3[0xb], puVar3[0xf], *(undefined4 *)(puVar3 + 0x14));
			uVar26 = (undefined4)lVar25;
			uVar24 = (undefined4)lVar23;
			uVar22 = (undefined4)lVar13;
			if (iVar14 == 0) {
				lVar13 = SErrGetLastError(0, (char)lVar16, (char)uVar18, (char)param_4, uVar21, (char)lVar13,
				    (char)lVar23, (char)lVar25, puVar3[0xb], puVar3[0xf],
				    *(undefined4 *)(puVar3 + 0x14));
				if ((lVar13 + 0x7af00000U & 0xffffffff) != 0x6b) {
					nthread_terminate_game((ulonglong) * (uint *)(*(int *)(puVar3 + 0x14) + -0x5c2c), lVar16, uVar18, param_4, CONCAT71(uVar20, uVar21), uVar22, uVar24, uVar26, *(undefined4 *)(puVar3 + 8));
				}
				return;
			}
			uVar1 = *(uint *)puVar10;
			*(uint *)puVar10 = uVar1 + 1;
			FUN_1007ff20((ulonglong)uVar1, lVar16, uVar18, param_4, CONCAT71(uVar20, uVar21), uVar22, uVar24,
			    uVar26, *(undefined4 *)(puVar3 + 8));
			pbVar2 = *(byte **)(puVar3 + 0x3c);
			*(uint *)(pbVar2 + 4) = (uint)pbVar2[7] << 0x18 | (uint)pbVar2[6] << 0x10 | (uint)pbVar2[5] << 8 | (uint)pbVar2[4];
			*(uint *)(pbVar2 + 8) = (uint)pbVar2[0xb] << 0x18 | (uint)pbVar2[10] << 0x10 | (uint)pbVar2[9] << 8 | (uint)pbVar2[8];
			*(ushort *)(pbVar2 + 0xf) = CONCAT11(pbVar2[0x10], pbVar2[0xf]);
			*(ushort *)(pbVar2 + 0x11) = CONCAT11(pbVar2[0x12], pbVar2[0x11]);
		} while ((((*(uint *)(puVar3 + 0x38) < 0x13) || (uVar1 = *(uint *)(puVar3 + 0x40), uVar18 = (ulonglong)uVar1, 3 < uVar1)) || (*(short *)(pbVar2 + 0xf) != 0x6970)) || ((ulonglong) * (ushort *)(pbVar2 + 0x11) != (ulonglong) * (uint *)(puVar3 + 0x38)));
		puVar4 = puVar7 + uVar1 * 0x55ec;
		*(uint *)(puVar4 + 0x50) = (uint)*pbVar2;
		*(uint *)(puVar4 + 0x54) = (uint)pbVar2[1];
		if (uVar18 != (ulonglong) * (uint *)puVar6) {
			*(undefined4 *)(puVar4 + 0x194) = *(undefined4 *)(pbVar2 + 4);
			*(undefined4 *)(puVar4 + 0x198) = *(undefined4 *)(pbVar2 + 8);
			*(uint *)(puVar4 + 0x164) = (uint)pbVar2[0xc];
			*(uint *)(puVar4 + 0x16c) = (uint)pbVar2[0xd];
			*(uint *)(puVar4 + 0x174) = (uint)pbVar2[0xe];
			if (((*pcVar9 != '\x01') && (puVar4[0x1d] != '\0')) && (*(int *)(puVar4 + 0x194) != 0)) {
				if (((uint)(byte)*puVar5 == *(uint *)(puVar4 + 0x34)) && (puVar4[0x13b] == '\0')) {
					lVar16 = abs((ulonglong) * (uint *)(puVar4 + 0x38) - (ulonglong)*pbVar2, *puVar3);
					lVar12 = abs((ulonglong)
					            * (uint *)(puVar7 + *(int *)(puVar3 + 0x40) * 0x55ec + 0x3c)
					        - (ulonglong)pbVar2[1],
					    *puVar3);
					if ((int)lVar16 < 4) {
						if (3 < (int)lVar12)
							goto LAB_10080590;
					} else {
					LAB_10080590:
						uVar1 = *(uint *)puVar8;
						if (*(char *)(uVar1 + (uint)*pbVar2 * 0x70 + (uint)pbVar2[1]) == '\0') {
							FixPlrWalkTags((ulonglong) * (uint *)(puVar3 + 0x40), (ulonglong)uVar1, uVar18, param_4,
							    CONCAT71(uVar20, uVar21), (int)lVar13, (int)lVar23, (int)lVar25,
							    *(undefined4 *)(puVar3 + 8));
							uVar1 = *(uint *)(puVar3 + 0x40);
							lVar16 = uVar27 + (ulonglong)uVar1 * 0x55ec;
							iVar14 = (int)lVar16;
							*(undefined4 *)(iVar14 + 0x58) = *(undefined4 *)(iVar14 + 0x38);
							*(undefined4 *)(iVar14 + 0x5c) = *(undefined4 *)(iVar14 + 0x3c);
							FixPlrWalkTags((ulonglong)uVar1, lVar16, uVar18, param_4, CONCAT71(uVar20, uVar21),
							    (int)lVar13, (int)lVar23, (int)lVar25, *(undefined4 *)(puVar3 + 8));
							iVar14 = *(int *)(puVar3 + 0x40);
							puVar4 = puVar7 + iVar14 * 0x55ec;
							*(uint *)(puVar4 + 0x38) = (uint)*pbVar2;
							*(uint *)(puVar4 + 0x3c) = (uint)pbVar2[1];
							*(uint *)(puVar4 + 0x40) = (uint)*pbVar2;
							*(uint *)(puVar4 + 0x44) = (uint)pbVar2[1];
							*(char *)(*(int *)puVar8 + *(int *)(puVar4 + 0x38) * 0x70 + *(int *)(puVar4 + 0x3c)) = (char)iVar14 + '\x01';
						}
					}
					lVar16 = abs((ulonglong)
					            * (uint *)(puVar7 + *(int *)(puVar3 + 0x40) * 0x55ec + 0x40)
					        - (ulonglong)
					            * (uint *)(puVar7 + *(int *)(puVar3 + 0x40) * 0x55ec + 0x38),
					    *puVar3);
					lVar12 = abs((ulonglong)
					            * (uint *)(puVar7 + *(int *)(puVar3 + 0x40) * 0x55ec + 0x44)
					        - (ulonglong)
					            * (uint *)(puVar7 + *(int *)(puVar3 + 0x40) * 0x55ec + 0x3c),
					    *puVar3);
					if ((1 < (int)lVar16) || (1 < (int)lVar12)) {
						puVar4 = puVar7 + *(int *)(puVar3 + 0x40) * 0x55ec;
						*(undefined4 *)(puVar4 + 0x40) = *(undefined4 *)(puVar4 + 0x38);
						*(undefined4 *)(puVar4 + 0x44) = *(undefined4 *)(puVar4 + 0x3c);
					}
					param_4 = 1;
					MakePlrPath((ulonglong) * (uint *)(puVar3 + 0x40), (ulonglong)pbVar2[2], (ulonglong)pbVar2[3], 1, CONCAT71(uVar20, uVar21), (int)lVar13, (int)lVar23, (int)lVar25,
					    *(undefined4 *)(puVar3 + 8));
				} else {
					*(uint *)(puVar4 + 0x38) = (uint)*pbVar2;
					*(uint *)(puVar4 + 0x3c) = (uint)pbVar2[1];
					*(uint *)(puVar4 + 0x40) = (uint)*pbVar2;
					*(uint *)(puVar4 + 0x44) = (uint)pbVar2[1];
					*(uint *)(puVar4 + 0x48) = (uint)pbVar2[2];
					*(uint *)(puVar4 + 0x4c) = (uint)pbVar2[3];
				}
			}
		}
		FUN_1008035c((ulonglong) * (uint *)(puVar3 + 0x40), ZEXT48(pbVar2) + 0x13,
		    (ulonglong) * (uint *)(puVar3 + 0x38) - 0x13, (char)param_4, uVar21, (char)lVar13,
		    (char)lVar23, (char)lVar25, *(undefined4 *)(puVar3 + 8));
	} while (true);
}

void FUN_10080734(undefined param_1, undefined8 uParm2, longlong lParm3, ulonglong uParm4,
    undefined8 uParm5, undefined4 uParm6, undefined4 uParm7, undefined4 uParm8)

{
	undefined *puVar1;
	ulonglong uVar2;
	int iVar3;
	longlong lVar4;
	longlong lVar5;
	undefined7 uVar6;
	undefined uVar7;
	longlong lVar8;
	undefined4 in_stack_fffffd98;
	undefined in_stack_fffffd9f;
	int local_25c;
	undefined uStack550;

	puVar1 = PTR_DAT_100f1fb4;
	uVar7 = (undefined)uParm4;
	uVar6 = (undefined7)(uParm4 >> 8);
	lVar8 = ZEXT48(register0x0000000c) - 0x225;
	while (true) {
		if ((uParm4 & 0xffffffff) == 0) {
			return;
		}
		uVar2 = (ulonglong) * (uint *)puVar1 - 0x18;
		if ((uParm4 & 0xffffffff) < (uVar2 & 0xffffffff)) {
			uVar2 = uParm4;
		}
		memcpy(0xe0, (char)lParm3, (char)uVar2, uVar7, (char)lVar8, (char)uParm6, (char)uParm7,
		    (char)uParm8, (char)in_stack_fffffd98, in_stack_fffffd9f, local_25c);
		lVar5 = (uVar2 & 0xffff) + 0x18;
		uStack550 = (undefined)lVar5;
		lVar4 = ZEXT48(register0x0000000c) - 0x238;
		iVar3 = SNetSendMessage(param_1, (char)lVar4, uStack550, uVar7, (char)lVar8, (char)uParm6,
		    (char)uParm7, (char)uParm8, (char)in_stack_fffffd98, in_stack_fffffd9f,
		    local_25c);
		if (iVar3 == 0)
			break;
		lParm3 = lParm3 + uVar2;
		uParm4 = uParm4 - uVar2;
	}
	nthread_terminate_game((ulonglong) * (uint *)(local_25c + -0x5c30), lVar4, lVar5, CONCAT71(uVar6, uVar7), lVar8,
	    uParm6, uParm7, uParm8, in_stack_fffffd98);
	return;
}

void multi_send_pinfo(undefined4 param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	longlong lVar1;
	undefined uVar2;
	undefined4 in_stack_fffffab8;
	uint *local_518[2];
	uint auStack1296[324];

	uVar2 = 1;
	PackPlayer((int)auStack1296, *(int *)PTR_DAT_100f1824, 1, param_4, param_5, param_6, param_7, param_8,
	    in_stack_fffffab8);
	lVar1 = DiabloAllocPtr(0x4f2);
	lVar1._7_1_ = (undefined)lVar1;
	local_518[0] = (uint *)lVar1;
	FUN_1008fe2c(local_518, auStack1296, uVar2, param_4, param_5, param_6, param_7, param_8, in_stack_fffffab8);
	uVar2 = (undefined)(ZEXT48(local_518[0]) - lVar1);
	dthread_send_delta(param_1, param_2, lVar1, ZEXT48(local_518[0]) - lVar1, param_5, param_6, param_7, param_8,
	    in_stack_fffffab8);
	mem_free_dbg(lVar1, param_2, (undefined)lVar1, uVar2, param_5, param_6, param_7, param_8,
	    in_stack_fffffab8);
	return;
}

undefined8 InitNewSeed(int param_1)

{
	if (param_1 == 0) {
		return 0;
	}
	if ((0 < param_1) && (param_1 < 5)) {
		return 1;
	}
	if ((4 < param_1) && (param_1 < 9)) {
		return 2;
	}
	if ((8 < param_1) && (param_1 < 0xd)) {
		return 3;
	}
	return 4;
}

void SetupLocalCoords(void)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	int iVar4;
	undefined *puVar5;
	int iVar6;
	int iVar7;

	puVar5 = PTR_DAT_100f183c;
	puVar3 = PTR_DAT_100f1828;
	puVar1 = PTR_DAT_100f17ec;
	if ((*(int *)PTR_DAT_100f1d5c == 0) || (1 < (byte)*PTR_DAT_100f17e0)) {
		*PTR_DAT_100f17ec = 0;
		puVar2 = PTR_DAT_100f17f8;
		*puVar5 = 0;
		*puVar2 = 0;
	}
	iVar7 = *(int *)PTR_DAT_100f1824 * 4;
	iVar6 = *(int *)PTR_DAT_100f1824 * 0x55ec;
	iVar4 = *(int *)(PTR_DAT_100f1fac + iVar7);
	iVar7 = *(int *)(PTR_DAT_100f1fb0 + iVar7) + 0x4b;
	puVar5 = puVar3 + iVar6;
	*(int *)(puVar5 + 0x38) = iVar7;
	iVar4 = iVar4 + 0x44;
	*(int *)(puVar5 + 0x3c) = iVar4;
	*(int *)(puVar5 + 0x40) = iVar7;
	*(int *)(puVar5 + 0x44) = iVar4;
	*(int *)(puVar5 + 0x48) = iVar7;
	*(int *)(puVar5 + 0x4c) = iVar4;
	*(uint *)(puVar5 + 0x34) = (uint)(byte)*puVar1;
	puVar5[0x13b] = 1;
	puVar5[0x5592] = 0;
	*(undefined4 *)(puVar3 + iVar6) = 10;
	*(undefined4 *)(puVar5 + 0x20) = 0xffffffff;
	return;
}

undefined8
multi_upgrade(undefined4 *param_1, undefined4 param_2, undefined4 param_3, undefined4 param_4,
    undefined4 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	int iVar2;
	undefined8 uVar3;

	iVar2 = (int)(ZEXT48(register0x0000000c) - 0x50);
	*(BADSPACEBASE **)iVar2 = register0x0000000c;
	SNetPerformUpgrade((char)(ZEXT48(register0x0000000c) - 0x50) + '8', (char)param_2, (char)param_3,
	    (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8,
	    *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf),
	    *(undefined4 *)(iVar2 + 0x14));
	iVar1 = *(int *)(iVar2 + 0x38);
	if (iVar1 == 1) {
		uVar3 = 1;
	} else {
		if (iVar1 < 1) {
			if (iVar1 == -1) {
				DrawDlg(*(undefined4 *)(*(int *)(iVar2 + 0x14) + -0x5c34), param_2, param_3, param_4,
				    param_5, param_6, param_7, param_8, *(undefined4 *)(iVar2 + 8),
				    *(undefined *)(iVar2 + 0xf), *(undefined4 *)(iVar2 + 0x18),
				    *(undefined4 *)(iVar2 + 0x1c), *(undefined4 *)(iVar2 + 0x20),
				    *(undefined4 *)(iVar2 + 0x24), *(undefined4 *)(iVar2 + 0x28),
				    *(undefined4 *)(iVar2 + 0x2c), *(undefined4 *)(iVar2 + 0x30),
				    *(undefined4 *)(iVar2 + 0x34));
			} else {
				if (-2 < iVar1) {
					return 1;
				}
			}
		} else {
			if (iVar1 < 3) {
				*param_1 = 1;
			}
		}
		uVar3 = 0;
	}
	return uVar3;
}

void multi_event_handler(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	int iVar1;
	undefined8 uVar2;
	uint uVar3;
	ulonglong uVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	uint uVar8;
	uint *puVar9;
	ulonglong uVar10;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	iVar1 = _DAT_100f338c;
	lVar7 = (longlong)param_8;
	lVar6 = (longlong)param_7;
	lVar5 = (longlong)param_6;
	uVar10 = (ulonglong)_DAT_100f3390;
	uVar8 = 0;
	puVar9 = (uint *)PTR_DAT_100f3394;
	do {
		uVar4 = uVar10;
		uVar2 = FUN_100dbf44((ulonglong)*puVar9);
		if (((int)uVar2 == 0) && (param_1 != 0)) {
			uVar3 = TraceLastError(uVar2, uVar4, param_3, param_4, param_5, (int)lVar5, (int)lVar6, (int)lVar7,
			    in_stack_ffffffa8);
			app_fatal(iVar1, (longlong)(int)uVar3, param_3, param_4, param_5, (int)lVar5, (int)lVar6,
			    (int)lVar7, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffb8,
			    in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4, in_stack_ffffffc8,
			    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
		}
		uVar8 = uVar8 + 1;
		puVar9 = puVar9 + 1;
	} while (uVar8 < 3);
	return;
}

void NetClose(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined8 uVar1;
	undefined uVar2;
	undefined7 uVar3;
	undefined uVar4;
	undefined7 uVar5;
	undefined uVar6;
	undefined7 uVar7;
	undefined uVar8;
	undefined7 uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined4 in_stack_ffffffc8;
	undefined uVar14;
	undefined in_stack_ffffffcf;
	int local_2c;
	int iVar15;

	uVar9 = (undefined7)((ulonglong)param_5 >> 8);
	uVar10 = (undefined)param_5;
	uVar7 = (undefined7)((ulonglong)param_4 >> 8);
	uVar8 = (undefined)param_4;
	uVar5 = (undefined7)((ulonglong)param_3 >> 8);
	uVar6 = (undefined)param_3;
	uVar3 = (undefined7)((ulonglong)param_2 >> 8);
	uVar4 = (undefined)param_2;
	if (_DAT_100f42d4 != 0) {
		_DAT_100f42d4 = 0;
		uVar1 = nthread_cleanup(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
		uVar2 = dthread_cleanup(uVar1, CONCAT71(uVar3, uVar4), CONCAT71(uVar5, uVar6), CONCAT71(uVar7, uVar8),
		    CONCAT71(uVar9, uVar10), param_6, param_7, param_8, in_stack_ffffffc8);
		tmsg_cleanup(uVar2, uVar4, uVar6, uVar8, uVar10, (char)param_6, (char)param_7, (char)param_8,
		    in_stack_ffffffc8);
		uVar13 = (undefined)param_8;
		uVar12 = (undefined)param_7;
		uVar11 = (undefined)param_6;
		multi_event_handler(0, CONCAT71(uVar3, uVar4), CONCAT71(uVar5, uVar6), CONCAT71(uVar7, uVar8),
		    CONCAT71(uVar9, uVar10), param_6, param_7, param_8, in_stack_ffffffc8);
		uVar2 = SNetLeaveGame(3, uVar4, uVar6, uVar8, uVar10, uVar11, uVar12, uVar13, (char)in_stack_ffffffc8,
		    in_stack_ffffffcf, local_2c);
		uVar14 = (undefined)in_stack_ffffffc8;
		iVar15 = local_2c;
		msgcmd_cmd_cleanup(uVar2, uVar4, uVar6, uVar8, uVar10, uVar11, uVar12, uVar13, in_stack_ffffffc8);
		if (1 < **(byte **)(local_2c + -0x77f0)) {
			Sleep(0xd0, uVar4, uVar6, uVar8, uVar10, uVar11, uVar12, uVar13, uVar14, in_stack_ffffffcf, iVar15);
		}
	}
	return;
}

undefined8
multi_init_single(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	int iVar3;
	undefined8 uVar2;
	undefined uVar5;
	uint uVar4;
	ulonglong uVar6;
	undefined8 uVar7;
	undefined4 uVar8;
	undefined4 uVar9;
	undefined *puVar10;
	ulonglong uVar11;
	ulonglong uVar12;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	int local_3c;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar1 = PTR_DAT_100f3398;
	puVar10 = PTR_s_local_100f3388;
	uVar12 = ZEXT48(PTR_DAT_100f3398);
	uVar11 = ZEXT48(PTR_s_local_100f3388);
	iVar3 = SNetInitializeProvider(0, param_1, param_2, param_3, (char)PTR_DAT_100f1dc8, param_6, param_7, param_8,
	    (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
	if (iVar3 == 0) {
		uVar2 = 0;
	} else {
		*(uint *)puVar1 = (uint)(byte)puVar1[3] << 0x18 | (uint)(byte)puVar1[2] << 0x10 | (uint)(byte)puVar1[1] << 8
		    | (uint)(byte)*puVar1;
		uVar7 = 0;
		uVar8 = 8;
		uVar9 = 1;
		uVar5 = SUB41(puVar10, 0);
		uVar6 = uVar11;
		uVar2 = SNetCreateGame(uVar5, uVar5, uVar5, 0, (char)puVar1, 8, 1, uVar5, (char)in_stack_ffffffb8,
		    in_stack_ffffffbf, local_3c);
		*(uint *)puVar1 = (uint)(byte)puVar1[3] << 0x18 | (uint)(byte)puVar1[2] << 0x10 | (uint)(byte)puVar1[1] << 8
		    | (uint)(byte)*puVar1;
		if ((int)uVar2 == 0) {
			uVar4 = TraceLastError(uVar2, uVar11, uVar6, uVar7, uVar12, uVar8, uVar9, puVar10, in_stack_ffffffb8);
			app_fatal(*(int *)(local_3c + -0x5c4c), (longlong)(int)uVar4, uVar6, uVar7, uVar12, uVar8, uVar9,
			    puVar10, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc,
			    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
			    in_stack_ffffffe0, in_stack_ffffffe4);
		}
		puVar10 = *(undefined **)(local_3c + -0x77f0);
		**(undefined4 **)(local_3c + -0x77ac) = 0;
		uVar2 = 1;
		*puVar10 = 1;
	}
	return uVar2;
}

undefined8
multi_init_multi(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    ulonglong param_5, longlong param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	bool bVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	ulonglong uVar6;
	undefined8 uVar7;
	longlong lVar8;
	int iVar10;
	undefined8 uVar9;
	undefined8 uVar11;
	undefined8 uVar12;
	int *piVar13;
	undefined8 unaff_r23;
	undefined8 unaff_r24;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	ulonglong uVar14;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	uint local_5c;
	uint local_38;
	int local_34[4];
	undefined4 local_24;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar5 = PTR_DAT_100f1dc8;
	puVar1 = PTR_DAT_100f1a1c;
	puVar4 = PTR_DAT_100f1828;
	puVar3 = PTR_DAT_100f1824;
	uVar6 = ZEXT48(&toc);
	local_24 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar14 = ZEXT48(PTR_DAT_100f1dc8);
	bVar2 = true;
	uVar9 = param_2;
	uVar11 = param_3;
	uVar12 = param_4;
	do {
		piVar13 = (int *)param_6;
		local_34[0] = 0;
		if (*puVar1 != '\0') {
			piVar13 = local_34;
			uVar9 = param_1;
			uVar11 = param_2;
			uVar12 = param_3;
			param_5 = uVar14;
			uVar7 = FUN_1000e110(0, (int)param_1, (int)param_2, (int)param_3, puVar5, piVar13, (char)param_7,
			    (char)param_8, in_stack_ffffff98);
			if ((int)uVar7 == 0) {
				if (!bVar2) {
					return 0;
				}
				lVar8 = SErrGetLastError((char)uVar7, (char)uVar9, (char)uVar11, (char)uVar12, (char)param_5,
				    (char)piVar13, (char)param_7, (char)param_8, (char)in_stack_ffffff98,
				    in_stack_ffffff9f, local_5c);
				uVar6 = (ulonglong)local_5c;
				if ((lVar8 + 0x7af00000U & 0xffffffff) != 0x77) {
					return 0;
				}
				uVar7 = multi_upgrade((undefined4 *)param_4, (int)uVar9, (int)uVar11, (int)uVar12, (int)param_5,
				    piVar13, (int)param_7, (int)param_8, in_stack_ffffff98);
				if ((int)uVar7 == 0) {
					return 0;
				}
			}
			if (local_34[0] == 0x424e4554) {
				puVar4[0x5593] = 1;
			}
		}
		multi_event_handler(1, uVar9, uVar11, uVar12, param_5, piVar13, (int)param_7, (int)param_8, in_stack_ffffff98);
		param_6 = ZEXT48(register0x0000000c) - 0x38;
		uVar9 = param_1;
		uVar11 = param_2;
		uVar12 = param_3;
		param_5 = uVar14;
		iVar10 = UiSelectGame(1, (int)param_1, (int)param_2, (int)param_3, puVar5, (int)param_6, (char)param_7, (char)param_8, in_stack_ffffff98);
		if (iVar10 != 0) {
			if (local_38 < 4) {
				*(uint *)puVar3 = local_38;
				puVar1 = *(undefined **)((int)uVar6 + -0x77f0);
				*puVar1 = 4;
				pfile_read_player_from_save(ZEXT48(puVar1), uVar9, uVar11, uVar12, param_5, param_6, param_7, param_8,
				    in_stack_ffffff98);
				if (local_34[0] == 0x424e4554) {
					puVar4[*(int *)puVar3 * 0x55ec + 0x5593] = 1;
				}
				uVar9 = 1;
			} else {
				uVar9 = 0;
			}
			return uVar9;
		}
		*puVar1 = 1;
		bVar2 = false;
	} while (true);
}

undefined8
NetInit(int iParm1, undefined8 uParm2, undefined8 uParm3, undefined8 uParm4, ulonglong uParm5,
    longlong lParm6, undefined8 uParm7, undefined8 uParm8)

{
	uint uVar1;
	undefined *puVar2;
	char cVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined *puVar12;
	undefined *puVar13;
	ulonglong uVar14;
	char cVar16;
	ulonglong uVar15;
	undefined4 uVar20;
	ulonglong uVar17;
	undefined8 uVar18;
	undefined uVar24;
	undefined8 uVar19;
	undefined4 uVar21;
	int iVar22;
	int iVar23;
	longlong lVar25;
	undefined uVar27;
	longlong lVar26;
	undefined uVar28;
	undefined uVar29;
	undefined uVar30;
	undefined4 uVar31;
	undefined4 uVar32;
	undefined4 uVar33;
	ulonglong uVar34;
	byte *pbVar35;
	undefined4 *puVar36;
	undefined4 *puVar37;

	puVar13 = PTR_DAT_100f3398;
	puVar12 = PTR_PTR_LAB_100f1f84;
	puVar11 = PTR_PTR_LAB_100f1f80;
	puVar10 = PTR_PTR_LAB_100f1f7c;
	puVar9 = PTR_PTR_LAB_100f1f78;
	puVar8 = PTR_PTR_LAB_100f1f74;
	puVar7 = PTR_DAT_100f1f5c;
	puVar6 = PTR_DAT_100f1e4c;
	puVar5 = PTR_DAT_100f1828;
	puVar4 = PTR_DAT_100f1824;
	uVar33 = (undefined4)uParm8;
	uVar32 = (undefined4)((ulonglong)uParm8 >> 0x20);
	uVar31 = (undefined4)uParm7;
	uVar21 = (undefined4)((ulonglong)uParm7 >> 0x20);
	uVar14 = ZEXT48(register0x0000000c);
	uVar17 = 0;
	pbVar35 = PTR_DAT_100f3398 + 4;
	uVar34 = ZEXT48(PTR_PTR_LAB_100f1f88);
	puVar2 = (undefined *)(uVar14 - 0x130);
	*(BADSPACEBASE **)puVar2 = register0x0000000c;
	uVar18 = uParm2;
	while (true) {
		uVar30 = (undefined)lParm6;
		uVar29 = (undefined)uParm5;
		uVar28 = (undefined)uParm4;
		uVar27 = (undefined)uVar17;
		uVar24 = (undefined)uVar18;
		*(undefined4 *)uParm2 = 0;
		SetRndSeed(0, *puVar2);
		uVar20 = FUN_100d9060((undefined4 *)0x0, uVar24, uVar27, uVar28, uVar29, uVar30, (char)uVar31,
		    (char)uVar33, *(undefined4 *)(puVar2 + 8));
		*(undefined4 *)puVar13 = uVar20;
		cVar3 = (char)(uVar14 - 0x130);
		*pbVar35 = (byte) * (undefined4 *)puVar6;
		memset(cVar3 + -100, 0x3c, uVar27, uVar28, uVar29, uVar30, (char)uVar31, (char)uVar33, puVar2[0xb],
		    puVar2[0xf], *(undefined4 *)(puVar2 + 0x14));
		*(undefined4 *)(puVar2 + 0x9c) = 0x3c;
		lParm6 = 0x2a;
		uParm5 = 4;
		uParm4 = 8;
		*(undefined4 *)(puVar2 + 0xa0) = *(undefined4 *)(*(int *)(puVar2 + 0x14) + -0x5c50);
		uVar27 = 0xf;
		*(int *)(puVar2 + 0xa4) = *(int *)(puVar2 + 0x14) + 0x3252;
		*(undefined4 *)(puVar2 + 0xa8) = 0x4452544c;
		*(undefined4 *)(puVar2 + 0xac) = 0x2a;
		*(undefined4 *)(puVar2 + 0xb4) = 4;
		*(undefined **)(puVar2 + 0xb8) = puVar13;
		*(undefined4 *)(puVar2 + 0xbc) = 8;
		*(undefined4 *)(puVar2 + 0xc4) = 0xf;
		*(undefined4 *)(puVar2 + 0xd4) = 0x409;
		memset(cVar3 + -0x74, 0x10, 0xf, 8, 4, 0x2a, (char)uVar31, (char)uVar33, puVar2[0xb], puVar2[0xf],
		    *(undefined4 *)(puVar2 + 0x14));
		*(undefined4 *)(puVar2 + 0x8c) = 0x10;
		uVar24 = 0x50;
		memset(cVar3 + '<', 0x50, uVar27, (char)uParm4, (char)uParm5, (char)lParm6, (char)uVar31,
		    (char)uVar33, puVar2[0xb], puVar2[0xf], *(undefined4 *)(puVar2 + 0x14));
		*(undefined4 *)(puVar2 + 0x3c) = 0x50;
		uVar20 = SDrawGetFrameWindow(0, uVar24, uVar27, (char)uParm4, (char)uParm5, (char)lParm6, (char)uVar31, (char)uVar33, puVar2[0xb], puVar2[0xf],
		    *(undefined4 *)(puVar2 + 0x14));
		iVar23 = *(int *)(puVar2 + 0x14);
		cVar16 = (char)iVar23;
		*(undefined4 *)(puVar2 + 0x44) = uVar20;
		*(undefined4 *)(puVar2 + 0x48) = *(undefined4 *)(iVar23 + -0x7030);
		*(undefined4 *)(puVar2 + 0x50) = *(undefined4 *)(iVar23 + -0x7034);
		*(undefined4 *)(puVar2 + 0x54) = *(undefined4 *)(iVar23 + -0x7038);
		*(undefined4 *)(puVar2 + 0x5c) = *(undefined4 *)(iVar23 + -0x703c);
		*(undefined4 *)(puVar2 + 0x60) = *(undefined4 *)(iVar23 + -0x7040);
		*(undefined4 *)(puVar2 + 0x4c) = *(undefined4 *)(iVar23 + -0x7044);
		*(int *)(puVar2 + 0x68) = (int)uVar34;
		*(undefined **)(puVar2 + 0x6c) = puVar12;
		*(undefined **)(puVar2 + 0x84) = puVar11;
		*(undefined **)(puVar2 + 0x88) = puVar10;
		*(undefined **)(puVar2 + 0x80) = puVar9;
		*(undefined **)(puVar2 + 0x78) = puVar8;
		uVar17 = UiProfileGetString(*puVar2);
		*(int *)(puVar2 + 0x7c) = (int)uVar17;
		memset(cVar16 + -0x17, 4, uVar27, (char)uParm4, (char)uParm5, (char)lParm6, (char)uVar31,
		    (char)uVar33, puVar2[0xb], puVar2[0xf], *(undefined4 *)(puVar2 + 0x14));
		iVar23 = *(int *)(puVar2 + 0x14);
		**(undefined **)(iVar23 + -0x7064) = 0;
		memset((char)iVar23 + -0xf, 4, uVar27, (char)uParm4, (char)uParm5, (char)lParm6, (char)uVar31,
		    (char)uVar33, puVar2[0xb], puVar2[0xf], *(undefined4 *)(puVar2 + 0x14));
		memset((char)*(undefined4 *)(*(int *)(puVar2 + 0x14) + -0x5c20), 0x10, uVar27, (char)uParm4,
		    (char)uParm5, (char)lParm6, (char)uVar31, (char)uVar33, puVar2[0xb], puVar2[0xf],
		    *(undefined4 *)(puVar2 + 0x14));
		memset((char)*(undefined4 *)(puVar2 + 0x14) + -0x13, 4, uVar27, (char)uParm4, (char)uParm5,
		    (char)lParm6, (char)uVar31, (char)uVar33, puVar2[0xb], puVar2[0xf],
		    *(undefined4 *)(puVar2 + 0x14));
		memset((char)puVar5, 0xb0, uVar27, (char)uParm4, (char)uParm5, (char)lParm6, (char)uVar31,
		    (char)uVar33, puVar2[0xb], puVar2[0xf], *(undefined4 *)(puVar2 + 0x14));
		uVar24 = 8;
		memset((char)puVar7, 8, uVar27, (char)uParm4, (char)uParm5, (char)lParm6, (char)uVar31,
		    (char)uVar33, puVar2[0xb], puVar2[0xf], *(undefined4 *)(puVar2 + 0x14));
		SNetSetBasePlayer(0, uVar24, uVar27, (char)uParm4, (char)uParm5, (char)lParm6, (char)uVar31,
		    (char)uVar33, puVar2[0xb], puVar2[0xf], *(undefined4 *)(puVar2 + 0x14));
		uVar15 = (ulonglong) * (uint *)(puVar2 + 0x14);
		if (iParm1 == 0) {
			lVar25 = uVar14 - 0xa4;
			lVar26 = uVar14 - 0xf4;
			uParm4 = uParm2;
			uVar18 = multi_init_multi(uVar14 - 0x94, lVar25, lVar26, uParm2, uParm5, lParm6, CONCAT44(uVar21, uVar31), CONCAT44(uVar32, uVar33), *(undefined4 *)(puVar2 + 8));
			uVar24 = (undefined)uVar18;
			if ((int)uVar18 == 0) {
				return 0;
			}
		} else {
			lVar25 = uVar14 - 0xa4;
			lVar26 = uVar14 - 0xf4;
			uVar18 = multi_init_single(cVar3 + -100, (char)lVar25, (char)lVar26, (char)uParm4, (char)uParm5,
			    (char)lParm6, (char)uVar31, (char)uVar33, *(undefined4 *)(puVar2 + 8));
			uVar24 = (undefined)uVar18;
			if ((int)uVar18 == 0) {
				return 0;
			}
		}
		*(undefined4 *)((int)uVar15 + -0x4cfc) = 1;
		*(undefined *)((int)uVar15 + -0x4d18) = 0;
		uVar24 = delta_init(uVar24, (char)lVar25, (char)lVar26, (char)uParm4, (char)uParm5, (char)lParm6,
		    (char)uVar31, (char)uVar33, *(undefined4 *)(puVar2 + 8));
		InitPlrMsg(uVar24, (char)lVar25, (char)lVar26, (char)uParm4, (char)uParm5, (char)lParm6,
		    (char)uVar31, (char)uVar33, *(undefined4 *)(puVar2 + 8));
		buffer_init(*(undefined4 *)((int)uVar15 + -0x5c14), *puVar2);
		uVar24 = buffer_init(*(undefined4 *)((int)uVar15 + -0x5c10), *puVar2);
		*(undefined4 *)((int)uVar15 + -0x4d00) = 0;
		sync_init(uVar24, (char)lVar25, (char)lVar26, (char)uParm4, (char)uParm5, (char)lParm6,
		    (char)uVar31, (char)uVar33, *(undefined4 *)(puVar2 + 8));
		nthread_start((uint) * (byte *)(*(int *)puVar4 + 0x100f42b9), lVar25, lVar26, uParm4, uParm5,
		    (int)lParm6, uVar31, uVar33, *(undefined4 *)(puVar2 + 8));
		dthread_start();
		tmsg_start(*puVar2);
		iVar23 = (int)uVar15;
		*(undefined4 *)(iVar23 + -0x4d08) = 0;
		*(undefined4 *)(iVar23 + -0x4d04) = 0;
		**(undefined **)(iVar23 + -0x7068) = (char)*(undefined4 *)puVar4;
		uVar17 = ZEXT48(*(undefined **)(iVar23 + -0x71fc));
		**(undefined **)(iVar23 + -0x71fc) = 0;
		nthread_send_and_recv_turn(0, 0, uVar17, uParm4, uParm5, (int)lParm6, uVar31, uVar33, *(undefined4 *)(puVar2 + 8));
		SetupLocalCoords(*puVar2);
		uVar18 = 0x36;
		multi_send_pinfo(0xfffffffe, 0x36, (char)uVar17, (char)uParm4, (char)uParm5, (char)lParm6, (char)uVar31,
		    (char)uVar33, *(undefined4 *)(puVar2 + 8));
		iVar23 = *(int *)puVar4;
		puVar5[iVar23 * 0x55ec + 0x1d] = 1;
		**(undefined **)((int)uVar15 + -0x70a4) = 1;
		if (*(char *)(iVar23 + 0x100f42b9) == '\0')
			break;
		uVar19 = msg_wait_resync();
		iVar23 = (int)uVar15;
		if ((int)uVar19 != 0)
			break;
		NetClose(uVar19, uVar18, uVar17, uParm4, uParm5, (int)lParm6, uVar31, uVar33,
		    *(undefined4 *)(puVar2 + 8));
		**(undefined **)(iVar23 + -0x75b4) = 0;
	}
	*(uint *)puVar6 = (uint)*pbVar35;
	uVar19 = SetRndSeed(*(undefined4 *)puVar13, *puVar2);
	puVar37 = *(undefined4 **)((int)uVar15 + -0x75ec);
	iVar23 = 0;
	puVar36 = *(undefined4 **)((int)uVar15 + -0x71f8);
	do {
		uVar21 = GetRndSeed((char)uVar19, (char)uVar18, (char)uVar17, (char)uParm4, (char)uParm5,
		    (char)lParm6, (char)uVar31, (char)uVar33, *(undefined4 *)(puVar2 + 8));
		*puVar37 = uVar21;
		uVar19 = InitNewSeed(iVar23, *puVar2);
		uVar21 = (undefined4)lParm6;
		iVar23 = iVar23 + 1;
		*puVar36 = (int)uVar19;
		puVar37 = puVar37 + 1;
		puVar36 = puVar36 + 1;
	} while (iVar23 < 0x11);
	uVar1 = *(uint *)((int)uVar15 + -0x77d0);
	uVar17 = (ulonglong)uVar1;
	lVar25 = uVar14 - 0xf8;
	uVar18 = 0x80;
	iVar22 = SNetGetGameInfo(1, (char)uVar1, 0x80, (char)lVar25, (char)uParm5, (char)lParm6, (char)uVar31,
	    (char)uVar33, puVar2[0xb], puVar2[0xf], *(undefined4 *)(puVar2 + 0x14));
	iVar23 = *(int *)(puVar2 + 0x14);
	if (iVar22 == 0) {
		nthread_terminate_game((ulonglong) * (uint *)(iVar23 + -0x5c54), uVar17, uVar18, lVar25, uParm5, uVar21, uVar31,
		    uVar33, *(undefined4 *)(puVar2 + 8));
	}
	uVar17 = (ulonglong) * (uint *)(iVar23 + -0x77d4);
	lVar25 = uVar14 - 0xf8;
	uVar18 = 0x80;
	iVar23 = SNetGetGameInfo(2, (char)*(uint *)(iVar23 + -0x77d4), 0x80, (char)lVar25, (char)uParm5,
	    (char)uVar21, (char)uVar31, (char)uVar33, puVar2[0xb], puVar2[0xf],
	    *(undefined4 *)(puVar2 + 0x14));
	if (iVar23 == 0) {
		nthread_terminate_game((ulonglong) * (uint *)(*(int *)(puVar2 + 0x14) + -0x5c58), uVar17, uVar18, lVar25, uParm5, uVar21, uVar31, uVar33, *(undefined4 *)(puVar2 + 8));
	}
	return 1;
}

void FUN_100812d4(ulonglong param_1, int param_2, int param_3, undefined8 param_4, ulonglong param_5,
    undefined8 param_6, undefined8 param_7, undefined8 param_8, undefined4 param_9)

{
	char *pcVar1;
	int *piVar2;
	undefined *puVar3;
	undefined4 *puVar4;
	undefined *puVar5;
	undefined **ppuVar6;
	uint *puVar7;
	int iVar8;
	ulonglong uVar9;
	undefined uVar10;
	ulonglong uVar11;
	undefined4 uVar12;
	undefined4 uVar13;
	undefined4 uVar14;
	undefined8 unaff_r24;
	undefined8 unaff_r25;
	longlong lVar15;
	undefined8 unaff_r26;
	short *psVar16;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	uint uVar17;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	int local_4c;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	byte *local_28[2];
	undefined4 local_20;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar5 = PTR_DAT_100f1828;
	puVar3 = PTR_DAT_100f1824;
	ppuVar6 = &toc;
	local_20 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar11 = ZEXT48(PTR_DAT_100f1824);
	uVar17 = (uint)param_1;
	if ((*(uint *)PTR_DAT_100f1824 != uVar17) && ((psVar16 = (short *)(PTR_DAT_100f1f5c + uVar17 * 2), *(short *)(param_2 + 1) == *psVar16 || (*psVar16 = 0, *(short *)(param_2 + 1) == 0)))) {
		if ((param_3 == 0) && (*psVar16 == 0)) {
			ppuVar6 = &toc;
			multi_send_pinfo(uVar17, 2, 0, (char)puVar3, (char)param_5, (char)param_6, (char)param_7, (char)param_8,
			    in_stack_ffffffa8);
		}
		uVar9 = (ulonglong) * (ushort *)(param_2 + 3);
		lVar15 = ZEXT48(ppuVar6[-0x1717]) + param_1 * 0x4f2;
		memcpy((char)lVar15 + (char)*(undefined2 *)(param_2 + 1), (char)param_2 + '\x05',
		    (char)*(ushort *)(param_2 + 3), (char)uVar11, (char)param_5, (char)param_6, (char)param_7, (char)param_8, (char)in_stack_ffffffa8, in_stack_ffffffaf, local_4c);
		uVar10 = (undefined)uVar9;
		*psVar16 = *psVar16 + *(short *)(param_2 + 3);
		if (*psVar16 == 0x4f2) {
			*psVar16 = 0;
			FUN_1007fe28(uVar17, 0, uVar9, uVar11, param_5, (int)param_6, (int)param_7, (int)param_8,
			    in_stack_ffffffa8);
			puVar7 = (uint *)(*(int *)(local_4c + -0x5c60) + (int)(param_1 * 0x4f2));
			puVar3 = puVar5 + uVar17 * 0x55ec;
			*(undefined4 *)(puVar3 + 0x214) = 0;
			local_28[0] = (byte *)lVar15;
			FUN_1008f81c(puVar7, local_28, uVar10, (char)uVar11, (char)param_5, (char)param_6, (char)param_7,
			    (char)param_8, in_stack_ffffffa8);
			UnPackPlayer((int)puVar7, param_1, 1, uVar11, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
			if (param_3 != 0) {
				pcVar1 = *(char **)(local_4c + -0x70a4);
				puVar3[0x1d] = 1;
				*pcVar1 = *pcVar1 + '\x01';
				if (*(char *)(local_4c + -0x4d17 + uVar17) == '\0') {
					uVar12 = *(undefined4 *)(local_4c + -0x5c68);
				} else {
					uVar12 = *(undefined4 *)(local_4c + -0x5c64);
				}
				puVar4 = (undefined4 *)(puVar5 + uVar17 * 0x55ec);
				lVar15 = (longlong) * (char *)(puVar4 + 0x6d);
				FUN_1009ae28(uVar12, puVar4 + 0x4f, (int)*(char *)(puVar4 + 0x6d), (int)uVar11, (int)param_5,
				    (int)param_6, (int)param_7, (int)param_8, in_stack_ffffffa8, in_stack_ffffffaf,
				    in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4,
				    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
				uVar9 = 1;
				LoadPlrGFX(param_1);
				SyncInitPlr(param_1, uVar9, lVar15, uVar11, param_5, (int)param_6, (int)param_7, (int)param_8,
				    in_stack_ffffffa8);
				uVar14 = (undefined4)param_8;
				uVar13 = (undefined4)param_7;
				uVar12 = (undefined4)param_6;
				if ((uint) * *(byte **)(local_4c + -0x77e4) == puVar4[0xd]) {
					if ((int)puVar4[0x65] >> 6 == 0) {
						puVar4[0x1e] = 0;
						LoadPlrGFX(param_1, 0x80);
						*puVar4 = 8;
						NewPlrAnim(param_1, puVar4 + 0x102, (ulonglong)(uint)puVar4[0x112], 1,
						    (ulonglong)(uint)puVar4[0x113], uVar12, uVar13, uVar14, in_stack_ffffffa8);
						piVar2 = *(int **)(local_4c + -0x779c);
						puVar4[0x23] = puVar4[0x22] + -1;
						puVar4[0x7b] = puVar4[0x22] << 1;
						iVar8 = puVar4[0xe] * 0x70 + puVar4[0xf];
						*(byte *)(*piVar2 + iVar8) = *(byte *)(*piVar2 + iVar8) | 4;
					} else {
						StartStand(param_1, 0, lVar15, uVar11, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
					}
				}
			}
		}
	}
	return;
}

void FUN_100814f4(void)

{
	_DAT_100f42d8 = _DAT_100f42b0;
	return;
}

void nthread_terminate_game(longlong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	ulonglong uVar2;
	longlong lVar3;
	uint uVar4;
	undefined7 uVar5;
	undefined uVar6;
	undefined7 uVar7;
	undefined uVar8;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	int local_2c;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	puVar1 = _DAT_100f1f6c;
	uVar7 = (undefined7)((ulonglong)param_5 >> 8);
	uVar8 = (undefined)param_5;
	uVar5 = (undefined7)((ulonglong)param_4 >> 8);
	uVar6 = (undefined)param_4;
	lVar3 = SErrGetLastError((char)param_1, (char)param_2, (char)param_3, uVar6, uVar8, (char)param_6,
	    (char)param_7, (char)param_8, (char)in_stack_ffffffc8, in_stack_ffffffcf,
	    local_2c);
	uVar2 = lVar3 + 0x7af00000;
	if ((uVar2 & 0xffffffff) != 0x6a) {
		if ((uVar2 & 0xffffffff) == 0x69) {
			*puVar1 = 1;
		} else {
			if ((uVar2 & 0xffffffff) == 0x70) {
				*puVar1 = 1;
			} else {
				uVar4 = TraceLastError(lVar3, param_2, param_3, CONCAT71(uVar5, uVar6), CONCAT71(uVar7, uVar8),
				    param_6, param_7, param_8, in_stack_ffffffc8);
				app_fatal(*(int *)(local_2c + -0x5be0), param_1, (longlong)(int)uVar4, CONCAT71(uVar5, uVar6), CONCAT71(uVar7, uVar8), param_6, param_7, param_8, in_stack_ffffffc8,
				    in_stack_ffffffcf, in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0,
				    in_stack_ffffffe4, in_stack_ffffffe8, in_stack_ffffffec, in_stack_fffffff0,
				    in_stack_fffffff4);
			}
		}
	}
	return;
}

ulonglong nthread_send_and_recv_turn(ulonglong param_1, longlong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	int iVar3;
	byte *pbVar4;
	undefined *puVar5;
	int iVar6;
	int iVar7;
	longlong lVar8;
	undefined8 uVar9;
	undefined7 uVar10;
	undefined uVar11;
	undefined7 uVar12;
	undefined uVar13;
	undefined7 uVar14;
	undefined uVar15;
	longlong lVar16;
	longlong lVar17;
	longlong lVar18;
	longlong lVar19;

	puVar5 = PTR_DAT_100f1f70;
	uVar14 = (undefined7)((ulonglong)param_5 >> 8);
	uVar15 = (undefined)param_5;
	uVar12 = (undefined7)((ulonglong)param_4 >> 8);
	uVar13 = (undefined)param_4;
	uVar10 = (undefined7)((ulonglong)param_3 >> 8);
	uVar11 = (undefined)param_3;
	lVar18 = (longlong)param_8;
	lVar17 = (longlong)param_7;
	lVar16 = (longlong)param_6;
	lVar19 = ZEXT48(register0x0000000c) - 0x60;
	iVar3 = (int)lVar19;
	*(BADSPACEBASE **)iVar3 = register0x0000000c;
	lVar8 = param_2;
	iVar7 = SNetGetTurnsInTransit((char)lVar19 + '<', (char)param_2, uVar11, uVar13, uVar15, (char)param_6,
	    (char)param_7, (char)param_8, *(undefined *)(iVar3 + 0xb),
	    *(undefined *)(iVar3 + 0xf), *(undefined4 *)(iVar3 + 0x14));
	iVar6 = *(int *)(iVar3 + 0x14);
	if (iVar7 == 0) {
		nthread_terminate_game((ulonglong) * (uint *)(iVar6 + -0x5be4), lVar8, CONCAT71(uVar10, uVar11),
		    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), (int)lVar16, (int)lVar17, (int)lVar18, *(undefined4 *)(iVar3 + 8));
		param_1 = 0;
	} else {
		lVar19 = ZEXT48(register0x0000000c) - 0x28;
		while (uVar2 = *(uint *)(iVar3 + 0x3c), *(int *)(iVar3 + 0x3c) = uVar2 + 1,
		    uVar2 < *(uint *)puVar5) {
			uVar2 = *(uint *)(iVar6 + -0x4cdc);
			*(uint *)(iVar3 + 0x38) = (uint)param_1 & 0x7fffffff;
			uVar1 = *(uint *)(iVar3 + 0x38);
			*(undefined4 *)(iVar6 + -0x4cdc) = 0;
			*(uint *)(iVar3 + 0x38) = uVar1 | uVar2;
			pbVar4 = (byte *)lVar19;
			uVar9 = 4;
			*(uint *)(iVar3 + 0x38) = (uint)pbVar4[3] << 0x18 | (uint)pbVar4[2] << 0x10 | (uint)pbVar4[1] << 8 | (uint)*pbVar4;
			iVar7 = SNetSendTurn((char)lVar19, 4, uVar11, uVar13, uVar15, (char)lVar16, (char)lVar17,
			    (char)lVar18, *(undefined *)(iVar3 + 0xb), *(undefined *)(iVar3 + 0xf),
			    *(undefined4 *)(iVar3 + 0x14));
			iVar6 = *(int *)(iVar3 + 0x14);
			if (iVar7 == 0) {
				nthread_terminate_game((ulonglong) * (uint *)(iVar6 + -0x5be8), uVar9, CONCAT71(uVar10, uVar11),
				    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), (int)lVar16, (int)lVar17,
				    (int)lVar18, *(undefined4 *)(iVar3 + 8));
				return 0;
			}
			param_1 = param_1 + param_2;
			if (0x7ffffffe < (param_1 & 0xffffffff)) {
				param_1 = (ulonglong)((uint)param_1 & 0xffff);
			}
		}
	}
	return param_1;
}

undefined8 FUN_10081664(undefined4 *puParm1)

{
	undefined **ppuVar1;
	int iVar3;
	undefined uVar5;
	longlong lVar2;
	undefined *puVar4;
	undefined8 uVar6;
	undefined uVar7;
	ulonglong uVar8;
	undefined uVar9;
	ulonglong uVar10;
	undefined uVar11;
	ulonglong uVar12;
	undefined uVar13;
	undefined4 in_r8;
	undefined uVar14;
	undefined4 in_r9;
	undefined uVar15;
	undefined4 in_r10;
	undefined uVar16;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined **local_2c;

	ppuVar1 = &toc;
	*puParm1 = 0;
	DAT_100f42e5 = DAT_100f42e5 + -1;
	if (DAT_100f42e5 == '\0') {
		DAT_100f42e4 = DAT_100f42e4 + -1;
		DAT_100f42e5 = *PTR_DAT_100f1fc4;
		if (DAT_100f42e4 == '\0') {
			uVar8 = ZEXT48(PTR_DAT_100f1fbc);
			uVar10 = ZEXT48(PTR_DAT_100f1fc0);
			uVar6 = 4;
			uVar12 = ZEXT48(PTR_DAT_100f1fc8);
			ppuVar1 = local_2c;
			iVar3 = SNetReceiveTurns(0, 4, (char)PTR_DAT_100f1fbc, (char)PTR_DAT_100f1fc0,
			    (char)PTR_DAT_100f1fc8, (char)in_r8, (char)in_r9, (char)in_r10,
			    (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
			uVar5 = (undefined)iVar3;
			uVar7 = (undefined)uVar6;
			uVar9 = (undefined)uVar8;
			uVar11 = (undefined)uVar10;
			uVar13 = (undefined)uVar12;
			uVar14 = (undefined)in_r8;
			uVar15 = (undefined)in_r9;
			uVar16 = (undefined)in_r10;
			if (iVar3 == 0) {
				lVar2 = SErrGetLastError(uVar5, uVar7, uVar9, uVar11, uVar13, uVar14, uVar15, uVar16,
				    (char)in_stack_ffffffc8, in_stack_ffffffcf, ppuVar1);
				if ((lVar2 + 0x7af00000U & 0xffffffff) != 0x6b) {
					nthread_terminate_game(ZEXT48(ppuVar1[-0x16fb]), uVar6, uVar8, uVar10, uVar12, in_r8, in_r9, in_r10,
					    in_stack_ffffffc8);
				}
				*(undefined *)(ppuVar1 + -0x133b) = 1;
				*(undefined *)((int)ppuVar1 + -0x4ceb) = 1;
				*(undefined *)((int)ppuVar1 + -0x4cea) = 0;
				return 0;
			}
			if (*(char *)((int)ppuVar1 + -0x4cea) == '\0') {
				*(undefined *)((int)ppuVar1 + -0x4cea) = 1;
				puVar4 = (undefined *)
				    GetTickCount(uVar5, uVar7, uVar9, uVar11, uVar13, uVar14, uVar15, uVar16,
				        (char)in_stack_ffffffc8, in_stack_ffffffcf, ppuVar1);
				uVar5 = SUB41(puVar4, 0);
				ppuVar1[-0x133c] = puVar4;
			}
			*(undefined *)(ppuVar1 + -0x133b) = 4;
			FUN_1007fd9c(uVar5, uVar7, uVar9, uVar11, uVar13, uVar14, uVar15, uVar16, in_stack_ffffffc8);
		}
		*puParm1 = 1;
		ppuVar1[-0x133c] = ppuVar1[-0x133c] + 0x32;
	} else {
		_DAT_100f42e0 = _DAT_100f42e0 + 0x32;
	}
	return 1;
}

void FUN_10081840(void)

{
	_DAT_100f42f4 = 0x80000000;
	return;
}

void nthread_start(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint *puVar1;
	uint uVar2;
	uint uVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	int iVar8;
	undefined4 uVar10;
	undefined8 uVar9;
	uint uVar11;
	undefined8 uVar12;
	ulonglong uVar13;
	undefined8 uVar14;
	undefined8 uVar15;
	undefined uVar16;
	undefined uVar18;
	undefined uVar19;
	undefined4 uVar17;
	undefined uVar20;
	undefined uVar21;
	undefined uVar22;

	puVar7 = PTR_DAT_100f1fcc;
	puVar6 = PTR_DAT_100f1fc4;
	puVar5 = PTR_DAT_100f1f70;
	puVar4 = (undefined *)(ZEXT48(register0x0000000c) - 0x70);
	*(BADSPACEBASE **)puVar4 = register0x0000000c;
	uVar10 = GetTickCount((char)param_1, (char)param_2, (char)param_3, (char)param_4, (char)param_5,
	    (char)param_6, (char)param_7, (char)param_8, puVar4[0xb], puVar4[0xf],
	    *(undefined4 *)(puVar4 + 0x14));
	iVar8 = *(int *)(puVar4 + 0x14);
	*(undefined4 *)(iVar8 + -0x4cf0) = uVar10;
	*(undefined *)(iVar8 + -0x4ceb) = 1;
	*(undefined *)(iVar8 + -0x4cec) = 1;
	*(undefined *)(iVar8 + -0x4cea) = 1;
	if (param_1 == 0) {
		*(undefined4 *)(iVar8 + -0x4cdc) = 0;
	} else {
		FUN_10081840(*puVar4);
	}
	*(undefined4 *)(puVar4 + 0x38) = 0x24;
	uVar9 = SNetGetProviderCaps((char)(ZEXT48(register0x0000000c) - 0x70) + '8', (char)param_2,
	    (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7,
	    (char)param_8, puVar4[0xb], puVar4[0xf], *(undefined4 *)(puVar4 + 0x14));
	uVar20 = (undefined)param_7;
	uVar18 = (undefined)param_6;
	iVar8 = *(int *)(puVar4 + 0x14);
	if ((int)uVar9 == 0) {
		uVar11 = TraceLastError(uVar9, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    *(undefined4 *)(puVar4 + 8));
		uVar20 = (undefined)param_7;
		uVar18 = (undefined)param_6;
		app_fatal(*(int *)(iVar8 + -0x5bf4), (longlong)(int)uVar11, param_3, param_4, param_5, param_6,
		    param_7, param_8, *(undefined4 *)(puVar4 + 8), puVar4[0xf],
		    *(undefined4 *)(puVar4 + 0x18), *(undefined4 *)(puVar4 + 0x1c),
		    *(undefined4 *)(puVar4 + 0x20), *(undefined4 *)(puVar4 + 0x24),
		    *(undefined4 *)(puVar4 + 0x28), *(undefined4 *)(puVar4 + 0x2c),
		    *(undefined4 *)(puVar4 + 0x30), *(undefined4 *)(puVar4 + 0x34));
	}
	if (*(int *)(puVar4 + 0x58) == 0) {
		*(undefined4 *)puVar5 = 1;
	} else {
		*(int *)puVar5 = *(int *)(puVar4 + 0x58);
	}
	uVar11 = *(uint *)(puVar4 + 0x54);
	if ((uVar11 < 0x15) && (uVar11 != 0)) {
		*puVar6 = (char)(0x14 / (ulonglong)uVar11);
	} else {
		*puVar6 = 1;
	}
	uVar11 = *(uint *)(puVar4 + 0x40);
	if (0x1ff < uVar11) {
		uVar11 = 0x200;
	}
	puVar1 = *(uint **)(iVar8 + -0x72c0);
	**(uint **)(iVar8 + -0x701c) = uVar11;
	uVar2 = *(uint *)(puVar4 + 0x4c);
	uVar3 = (uint)(((longlong)(int)uVar2 * (longlong)(int)(uint)(byte)*puVar6 & 0xffffffffU) * 0xcccccccd >> 0x24);
	*(uint *)puVar7 = uVar3;
	*puVar1 = uVar2 >> 2;
	*(int *)puVar7 = *(int *)puVar7 * 3;
	*(uint *)puVar7 = *(uint *)puVar7 >> 2;
	if (4 < *(uint *)(puVar4 + 0x48)) {
		*(undefined4 *)(puVar4 + 0x48) = 4;
	}
	*(uint *)puVar7 = *(uint *)puVar7 / *(uint *)(puVar4 + 0x48);
	while (*(uint *)puVar7 < 0x80) {
		*(int *)puVar7 = *(int *)puVar7 << 1;
		*puVar6 = *puVar6 << 1;
	}
	if (uVar11 < *(uint *)puVar7) {
		*(uint *)puVar7 = uVar11;
	}
	if (1 < **(byte **)(iVar8 + -0x77f0)) {
		*(undefined *)(iVar8 + -0x4ce0) = 0;
		EnterCriticalSection((char)*(undefined4 *)(iVar8 + -0x5bf0), (char)uVar3, 0xcd, (char)uVar11, (char)uVar2,
		    uVar18, uVar20, (char)param_8, puVar4[0xb], puVar4[0xf], *(undefined4 *)(puVar4 + 0x14));
		uVar11 = *(uint *)(puVar4 + 0x14);
		uVar2 = *(uint *)(uVar11 - 0x5bf8);
		uVar13 = (ulonglong)uVar2;
		*(undefined *)(uVar11 - 0x4cdf) = 1;
		uVar17 = (undefined4)((ulonglong)uVar11 - 0x4ce8);
		uVar10 = *(undefined4 *)(uVar11 - 0x5bfc);
		uVar12 = 0;
		uVar14 = 0;
		uVar15 = 0;
		uVar9 = FUN_100dbaac(0, 0, (char)uVar2, 0, 0, (char)((ulonglong)uVar11 - 0x4ce8), (char)uVar10,
		    (char)param_8, puVar4[0xb], puVar4[0xf], *(undefined4 *)(puVar4 + 0x14));
		uVar22 = (undefined)param_8;
		uVar21 = (undefined)uVar10;
		uVar19 = (undefined)uVar17;
		uVar16 = (undefined)uVar15;
		uVar20 = (undefined)uVar14;
		uVar18 = (undefined)uVar13;
		iVar8 = *(int *)(puVar4 + 0x14);
		*(undefined4 *)(iVar8 + -0x4ce4) = (int)uVar9;
		if (*(int *)(iVar8 + -0x4ce4) == 0) {
			uVar11 = TraceLastError(uVar9, uVar12, uVar13, uVar14, uVar15, uVar17, uVar10, param_8,
			    *(undefined4 *)(puVar4 + 8));
			uVar22 = (undefined)param_8;
			uVar21 = (undefined)uVar10;
			uVar19 = (undefined)uVar17;
			uVar16 = (undefined)uVar15;
			uVar20 = (undefined)uVar14;
			uVar18 = (undefined)uVar13;
			app_fatal(*(int *)(iVar8 + -0x5c00), (longlong)(int)uVar11, uVar13, uVar14, uVar15, uVar17,
			    uVar10, param_8, *(undefined4 *)(puVar4 + 8), puVar4[0xf],
			    *(undefined4 *)(puVar4 + 0x18), *(undefined4 *)(puVar4 + 0x1c),
			    *(undefined4 *)(puVar4 + 0x20), *(undefined4 *)(puVar4 + 0x24),
			    *(undefined4 *)(puVar4 + 0x28), *(undefined4 *)(puVar4 + 0x2c),
			    *(undefined4 *)(puVar4 + 0x30), *(undefined4 *)(puVar4 + 0x34));
		}
		SetThreadPriority((char)*(undefined4 *)(iVar8 + -0x4ce4), 2, uVar18, uVar20, uVar16, uVar19, uVar21,
		    uVar22, puVar4[0xb], puVar4[0xf], *(undefined4 *)(puVar4 + 0x14));
	}
	return;
}

void nthread_cleanup(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	ulonglong uVar3;
	longlong lVar4;
	uint uVar5;
	undefined uVar7;
	undefined8 uVar6;
	undefined7 uVar8;
	undefined uVar9;
	undefined7 uVar10;
	undefined uVar11;
	undefined7 uVar12;
	undefined uVar13;
	undefined uVar14;
	undefined uVar15;
	undefined uVar16;
	undefined4 in_stack_ffffffc8;
	undefined uVar17;
	undefined in_stack_ffffffcf;
	int local_2c;
	int iVar18;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	puVar2 = PTR_DAT_100f1fcc;
	uVar12 = (undefined7)((ulonglong)param_5 >> 8);
	uVar13 = (undefined)param_5;
	uVar10 = (undefined7)((ulonglong)param_4 >> 8);
	uVar11 = (undefined)param_4;
	uVar8 = (undefined7)((ulonglong)param_3 >> 8);
	uVar9 = (undefined)param_3;
	uVar7 = SUB41(PTR_DAT_100f1fcc, 0);
	DAT_100f42f1 = 0;
	*(undefined4 *)PTR_DAT_100f1f70 = 0;
	puVar1 = PTR_DAT_100f1fb4;
	*(undefined4 *)puVar2 = 0;
	*(undefined4 *)puVar1 = 0;
	if (_DAT_100f42ec != 0) {
		uVar3 = GetCurrentThreadId((char)puVar1, uVar7, uVar9, uVar11, uVar13, (char)param_6, (char)param_7,
		    (char)param_8, (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
		if ((ulonglong) * (uint *)(local_2c + -0x4ce8) != (uVar3 & 0xffffffff)) {
			if (*(char *)(local_2c + -0x4ce0) == '\0') {
				LeaveCriticalSection((char)*(undefined4 *)(local_2c + -0x5bf0), uVar7, uVar9, uVar11, uVar13, (char)param_6, (char)param_7, (char)param_8, (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
			}
			uVar6 = 0xffffffffffffffff;
			lVar4 = WaitForSingleObject((char)*(undefined4 *)(local_2c + -0x4ce4), 0xff, uVar9, uVar11, uVar13, (char)param_6, (char)param_7, (char)param_8, (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
			uVar17 = (undefined)in_stack_ffffffc8;
			uVar16 = (undefined)param_8;
			uVar15 = (undefined)param_7;
			uVar14 = (undefined)param_6;
			uVar7 = (undefined)uVar6;
			iVar18 = local_2c;
			if ((lVar4 + 0x10000U & 0xffffffff) == 0xffff) {
				iVar18 = local_2c;
				uVar5 = TraceLastError(lVar4, uVar6, CONCAT71(uVar8, uVar9), CONCAT71(uVar10, uVar11),
				    CONCAT71(uVar12, uVar13), param_6, param_7, param_8, in_stack_ffffffc8);
				uVar17 = (undefined)in_stack_ffffffc8;
				uVar16 = (undefined)param_8;
				uVar15 = (undefined)param_7;
				uVar14 = (undefined)param_6;
				uVar7 = (undefined)uVar5;
				app_fatal(*(int *)(local_2c + -0x5c04), (longlong)(int)uVar5, CONCAT71(uVar8, uVar9),
				    CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13), param_6, param_7, param_8,
				    in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8, in_stack_ffffffdc,
				    in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8, in_stack_ffffffec,
				    in_stack_fffffff0, in_stack_fffffff4);
			}
			CloseHandle((char)*(undefined4 *)(local_2c + -0x4ce4), uVar7, uVar9, uVar11, uVar13, uVar14, uVar15,
			    uVar16, uVar17, in_stack_ffffffcf, iVar18);
			*(undefined4 *)(iVar18 + -0x4ce4) = 0;
		}
	}
	return;
}

ulonglong nthread_ignore_mutex(undefined8 param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	int local_2c;

	uVar1 = (ulonglong)_DAT_100f33e0;
	if (_DAT_100f42ec != 0) {
		if ((int)param_1 == 0) {
			uVar1 = EnterCriticalSection((char)_DAT_100f33e0, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
		} else {
			uVar1 = LeaveCriticalSection((char)_DAT_100f33e0, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
		}
		*(undefined *)(local_2c + -0x4ce0) = (char)param_1;
	}
	return uVar1;
}

ulonglong nthread_has_500ms_passed(undefined4 param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11)

{
	int iVar1;
	int iVar2;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	int local_2c;

	iVar1 = GetTickCount((undefined)param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	iVar2 = iVar1 - *(int *)(local_2c + -0x4cf0);
	if ((**(char **)(local_2c + -0x77f0) == '\x01') && (500 < iVar2)) {
		*(int *)(local_2c + -0x4cf0) = iVar1;
		iVar2 = 0;
	}
	return (ulonglong)((iVar2 >> 0x1f) + 1U & 0xff);
}

void FUN_10081bec(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined uVar1;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	int local_2c;

	_DAT_100f42f8 = _DAT_100f42dc;
	uVar1 = (undefined)_DAT_100f33e0;
	InitializeCriticalSection(uVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, (char)in_stack_ffffffc8,
	    in_stack_ffffffcf, local_2c);
	FUN_1000058c(uVar1, (char)*(undefined4 *)(local_2c + -0x7810),
	    (char)*(undefined4 *)(local_2c + -0x5c08), param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

void FUN_10081c38(void)

{
	_DAT_100f4300 = _DAT_100f42fc;
	return;
}

void FUN_10081c44(undefined8 uParm1, undefined8 uParm2, undefined param_3, longlong lParm4,
    undefined8 uParm5, undefined4 uParm6, undefined4 uParm7, undefined4 uParm8)

{
	char cVar1;
	undefined *puVar2;
	int iVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	int iVar8;
	undefined4 uVar9;
	ulonglong uVar10;
	ulonglong uVar11;
	undefined8 uVar12;
	longlong lVar13;
	char *pcVar15;
	ulonglong uVar14;
	undefined4 uVar16;
	undefined4 uVar17;
	undefined8 unaff_r24;
	char *pcVar19;
	longlong lVar18;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	uint *puVar20;
	undefined8 unaff_r29;
	longlong lVar21;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined local_58[56];
	undefined4 local_20;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	uVar9 = _DAT_100f34d0;
	iVar8 = _DAT_100f34cc;
	puVar7 = PTR_DAT_100f2004;
	puVar6 = PTR_DAT_100f2000;
	puVar5 = PTR_DAT_100f1ff8;
	puVar4 = PTR_DAT_100f17ec;
	uVar17 = (undefined4)uParm5;
	uVar16 = (undefined4)((ulonglong)uParm5 >> 0x20);
	uVar10 = ZEXT48(register0x0000000c);
	local_20 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	puVar2 = (undefined *)(uVar10 - 0xb0);
	*(BADSPACEBASE **)puVar2 = register0x0000000c;
	memset((char)(uVar10 - 0xb0) + 'X', 0x38, param_3, (char)lParm4, (char)uParm5, (char)uParm6,
	    (char)uParm7, (char)uParm8, puVar2[0xb], puVar2[0xf], *(undefined4 *)(puVar2 + 0x14));
	uVar11 = (ulonglong) * (uint *)(puVar2 + 0x14);
	pcVar19 = *(char **)(*(uint *)(puVar2 + 0x14) - 0x6fc8);
	while (*pcVar19 != -1) {
		if (((*pcVar19 == '\x01') && ((int)pcVar19[2] <= (int)(uint)(byte)*puVar4)) && ((int)(uint)(byte)*puVar4 <= (int)pcVar19[3])) {
			local_58[(int)pcVar19[1]] = 1;
		}
		cVar1 = pcVar19[5];
		if (cVar1 != -1) {
			uVar14 = (ulonglong) * (uint *)puVar6;
			lParm4 = (uVar10 - 0x58) + (longlong)pcVar19[1];
			pcVar15 = puVar7;
			if (0 < (int)*(uint *)puVar6) {
				do {
					if (*pcVar15 == cVar1) {
						*(undefined *)lParm4 = 1;
					}
					pcVar15 = pcVar15 + 8;
					uVar14 = uVar14 - 1;
				} while (uVar14 != 0);
			}
		}
		if ((pcVar19[6] != -1) && (uVar12 = QuestStatus((int)pcVar19[6], *puVar2), (int)uVar12 != 0)) {
			local_58[(int)pcVar19[1]] = 1;
		}
		pcVar19 = pcVar19 + 0x2c;
	}
	lVar21 = 0;
	puVar20 = *(uint **)((int)uVar11 + -0x6fd4);
	lVar18 = uVar10 - 0x58;
	do {
		if (*(char *)lVar18 != '\0') {
			puVar5[*(int *)((int)uVar11 + -0x4cc8)] = (char)lVar21;
			uVar14 = (ulonglong)*puVar20;
			sprintf((int)(puVar2 + 0x38), uVar9, *puVar20, (int)lParm4, uVar17, uParm6, uParm7, uParm8,
			    *(undefined4 *)(puVar2 + 8), puVar2[0xf], *(undefined4 *)(puVar2 + 0x1c),
			    *(undefined4 *)(puVar2 + 0x20), *(undefined4 *)(puVar2 + 0x24),
			    *(undefined4 *)(puVar2 + 0x28), *(undefined4 *)(puVar2 + 0x2c),
			    *(undefined4 *)(puVar2 + 0x30), *(undefined4 *)(puVar2 + 0x34));
			lVar13 = LoadFileInMem(uVar10 - 0x78, (undefined4 *)0x0, uVar14, lParm4, CONCAT44(uVar16, uVar17),
			    uParm6, uParm7, uParm8, *(undefined4 *)(puVar2 + 8));
			iVar3 = (int)uVar11;
			*(undefined4 *)(iVar8 + *(int *)(iVar3 + -0x4cc8) * 4) = (int)lVar13;
			*(int *)(iVar3 + -0x4cc8) = *(int *)(iVar3 + -0x4cc8) + 1;
		}
		lVar21 = lVar21 + 1;
		puVar20 = puVar20 + 1;
		lVar18 = lVar18 + 1;
	} while ((int)lVar21 < 0x38);
	return;
}

void FreeObjectGFX(undefined param_1, char param_2, char param_3, char param_4, char param_5, char param_6, char param_7, char param_8, undefined4 param_9)

{
	ulonglong uVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	int iVar9;
	int **ppiVar10;
	undefined4 in_stack_ffffffc8;

	lVar8 = (longlong)param_8;
	lVar7 = (longlong)param_7;
	lVar6 = (longlong)param_6;
	lVar5 = (longlong)param_5;
	lVar4 = (longlong)param_4;
	lVar3 = (longlong)param_3;
	lVar2 = (longlong)param_2;
	uVar1 = ZEXT48(&toc);
	iVar9 = 0;
	ppiVar10 = _DAT_100f34cc;
	while (iVar9 < *(int *)((int)uVar1 + -0x4cc8)) {
		mem_free_dbg(ppiVar10, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7,
		    (char)lVar8, in_stack_ffffffc8);
		ppiVar10 = ppiVar10 + 1;
		iVar9 = iVar9 + 1;
	}
	*(undefined4 *)((int)uVar1 + -0x4cc8) = 0;
	return;
}

undefined8 FUN_10081e4c(int param_1, int param_2)

{
	short sVar1;
	int iVar2;

	iVar2 = param_1 * 0xe0 + param_2 * 2;
	if (*(short *)(*(int *)PTR_DAT_100f1954 + iVar2) != 0) {
		return 0;
	}
	param_2 = param_1 * 0x70 + param_2;
	if (*(char *)(*(int *)PTR_DAT_100f1950 + param_2) != '\0') {
		return 0;
	}
	if (*(char *)(*(int *)PTR_DAT_100f194c + param_2) != '\0') {
		return 0;
	}
	if ((*(byte *)(*(int *)PTR_DAT_100f1834 + param_2) & 8) != 0) {
		return 0;
	}
	sVar1 = *(short *)(*(int *)PTR_DAT_100f1a54 + iVar2);
	if (*(char *)(_DAT_100f1da4 + (int)sVar1) != '\0') {
		return 0;
	}
	if (((*PTR_DAT_100f183c == '\x01') && (0x7e < sVar1)) && (sVar1 < 0x90)) {
		return 0;
	}
	return 1;
}

void FUN_10081f24(longlong param_1, longlong param_2, uint param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	int iVar2;
	longlong lVar3;
	longlong lVar4;
	int iVar7;
	longlong lVar5;
	undefined8 uVar6;
	int iVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	longlong lVar14;
	int iVar15;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined in_stack_ffffffcb;

	lVar14 = (longlong)param_8;
	lVar13 = (longlong)param_7;
	lVar12 = (longlong)param_6;
	lVar11 = (longlong)param_5;
	lVar10 = (longlong)param_4;
	lVar4 = (longlong)(int)param_3;
	lVar3 = random(0x8b, param_2 - param_1, (char)param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb);
	iVar15 = 0;
	while (lVar9 = lVar4, iVar15 < (int)param_1 + (int)lVar3) {
		do {
			do {
				do {
					lVar4 = random(0x8b, 0x50, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12,
					    (char)lVar13, (char)lVar14, in_stack_ffffffb8, in_stack_ffffffbf,
					    in_stack_ffffffcb);
					iVar2 = (int)lVar4;
					iVar7 = iVar2 + 0x10;
					lVar5 = random(0x8b, 0x50, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12,
					    (char)lVar13, (char)lVar14, in_stack_ffffffb8, in_stack_ffffffbf,
					    in_stack_ffffffcb);
					lVar4 = lVar5 + 0x10;
					iVar1 = (int)lVar5;
					uVar6 = FUN_10081e4c(iVar2 + 0xf, iVar1 + 0xf);
				} while ((int)uVar6 == 0);
				uVar6 = FUN_10081e4c(iVar7, iVar1 + 0xf);
			} while (((int)uVar6 == 0) || (uVar6 = FUN_10081e4c(iVar2 + 0x11, iVar1 + 0xf), (int)uVar6 == 0));
			iVar8 = (int)lVar4;
			uVar6 = FUN_10081e4c(iVar2 + 0xf, iVar8);
		} while ((((int)uVar6 == 0) || (((uVar6 = FUN_10081e4c(iVar7, iVar8), (int)uVar6 == 0 || (uVar6 = FUN_10081e4c(iVar2 + 0x11, iVar8), (int)uVar6 == 0)) || (uVar6 = FUN_10081e4c(iVar2 + 0xf, iVar1 + 0x11), (int)uVar6 == 0)))) || ((uVar6 = FUN_10081e4c(iVar7, iVar1 + 0x11), (int)uVar6 == 0 || (uVar6 = FUN_10081e4c(iVar2 + 0x11, iVar1 + 0x11), (int)uVar6 == 0))));
		AddObject(param_3, iVar7, iVar8, (char)lVar10, (char)lVar11, (char)lVar12, (char)lVar13,
		    (char)lVar14, in_stack_ffffffb8);
		iVar15 = iVar15 + 1;
	}
	return;
}

void FUN_10082058(longlong param_1, longlong param_2, uint param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	int iVar2;
	longlong lVar3;
	longlong lVar4;
	int iVar7;
	longlong lVar5;
	undefined8 uVar6;
	int iVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	longlong lVar14;
	int iVar15;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined in_stack_ffffffcb;

	lVar14 = (longlong)param_8;
	lVar13 = (longlong)param_7;
	lVar12 = (longlong)param_6;
	lVar11 = (longlong)param_5;
	lVar10 = (longlong)param_4;
	lVar4 = (longlong)(int)param_3;
	lVar3 = random(0x8c, param_2 - param_1, (char)param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb);
	iVar15 = 0;
	while (lVar9 = lVar4, iVar15 < (int)param_1 + (int)lVar3) {
		do {
			do {
				do {
					lVar4 = random(0x8c, 0x50, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12,
					    (char)lVar13, (char)lVar14, in_stack_ffffffb8, in_stack_ffffffbf,
					    in_stack_ffffffcb);
					iVar2 = (int)lVar4;
					iVar7 = iVar2 + 0x10;
					lVar5 = random(0x8c, 0x50, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12,
					    (char)lVar13, (char)lVar14, in_stack_ffffffb8, in_stack_ffffffbf,
					    in_stack_ffffffcb);
					lVar4 = lVar5 + 0x10;
					iVar1 = (int)lVar5;
					uVar6 = FUN_10081e4c(iVar2 + 0xf, iVar1 + 0xe);
				} while ((int)uVar6 == 0);
				uVar6 = FUN_10081e4c(iVar7, iVar1 + 0xe);
			} while (((((int)uVar6 == 0) || (uVar6 = FUN_10081e4c(iVar2 + 0x11, iVar1 + 0xe), (int)uVar6 == 0)) || (uVar6 = FUN_10081e4c(iVar2 + 0xf, iVar1 + 0xf), (int)uVar6 == 0)) || ((uVar6 = FUN_10081e4c(iVar7, iVar1 + 0xf), (int)uVar6 == 0 || (uVar6 = FUN_10081e4c(iVar2 + 0x11, iVar1 + 0xf), (int)uVar6 == 0))));
			iVar8 = (int)lVar4;
			uVar6 = FUN_10081e4c(iVar2 + 0xf, iVar8);
		} while (((((int)uVar6 == 0) || ((uVar6 = FUN_10081e4c(iVar7, iVar8), (int)uVar6 == 0 || (uVar6 = FUN_10081e4c(iVar2 + 0x11, iVar8), (int)uVar6 == 0)))) || (uVar6 = FUN_10081e4c(iVar2 + 0xf, iVar1 + 0x11), (int)uVar6 == 0)) || ((uVar6 = FUN_10081e4c(iVar7, iVar1 + 0x11), (int)uVar6 == 0 || (uVar6 = FUN_10081e4c(iVar2 + 0x11, iVar1 + 0x11), (int)uVar6 == 0))));
		AddObject(param_3, iVar7, iVar8, (char)lVar10, (char)lVar11, (char)lVar12, (char)lVar13,
		    (char)lVar14, in_stack_ffffffb8);
		iVar15 = iVar15 + 1;
	}
	return;
}

void FUN_100821c8(longlong param_1, longlong param_2, uint param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	bool bVar1;
	longlong lVar2;
	longlong lVar3;
	undefined8 uVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	int iVar11;
	int iVar12;
	int iVar13;
	int iVar14;
	longlong unaff_r29;
	longlong unaff_r30;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	lVar10 = (longlong)param_8;
	lVar9 = (longlong)param_7;
	lVar8 = (longlong)param_6;
	lVar7 = (longlong)param_5;
	lVar6 = (longlong)param_4;
	lVar5 = (longlong)(int)param_3;
	lVar2 = random(0x8b, param_2 - param_1, (char)param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
	iVar11 = 0;
	do {
		if ((int)param_1 + (int)lVar2 <= iVar11) {
			return;
		}
		iVar12 = 0;
		bVar1 = false;
		while (true) {
			if (bVar1)
				break;
			bVar1 = true;
			lVar3 = random(0x8b, 0x50, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9,
			    (char)lVar10, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
			unaff_r30 = lVar3 + 0x10;
			lVar3 = random(0x8b, 0x50, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9,
			    (char)lVar10, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
			unaff_r29 = lVar3 + 0x10;
			iVar13 = -2;
			do {
				iVar14 = -2;
				do {
					uVar4 = FUN_10081e4c((int)unaff_r30 + iVar14, (int)unaff_r29 + iVar13);
					if ((int)uVar4 == 0) {
						bVar1 = false;
					}
					iVar14 = iVar14 + 1;
				} while (iVar14 < 3);
				iVar13 = iVar13 + 1;
			} while (iVar13 < 3);
			if ((!bVar1) && (iVar12 = iVar12 + 1, 20000 < iVar12)) {
				return;
			}
		}
		lVar5 = unaff_r29;
		AddObject(param_3, (int)unaff_r30, (int)unaff_r29, (char)lVar6, (char)lVar7, (char)lVar8,
		    (char)lVar9, (char)lVar10, in_stack_ffffffa8);
		iVar11 = iVar11 + 1;
	} while (true);
}

void FUN_100822b0(void)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined4 *puVar4;
	undefined4 *puVar5;
	int *piVar6;
	longlong lVar7;
	int iVar8;
	longlong lVar9;

	puVar2 = PTR_DAT_100f1e7c;
	puVar1 = PTR_DAT_100f1e40;
	lVar9 = 0x7f;
	lVar7 = 0;
	puVar3 = PTR_DAT_100f1948;
	do {
		*(undefined4 *)(puVar3 + 4) = 0;
		*(undefined4 *)(puVar3 + 8) = 0;
		*(undefined4 *)(puVar3 + 0x14) = 0;
		*(undefined4 *)(puVar3 + 0x18) = 0;
		*(undefined4 *)(puVar3 + 0x1c) = 0;
		*(undefined4 *)(puVar3 + 0x20) = 0;
		*(undefined4 *)(puVar3 + 0x24) = 0;
		*(undefined4 *)(puVar3 + 0x30) = 0;
		*(undefined4 *)(puVar3 + 0x58) = 0;
		*(undefined4 *)(puVar3 + 0x5c) = 0;
		*(undefined4 *)(puVar3 + 0x60) = 0;
		*(undefined4 *)(puVar3 + 100) = 0;
		puVar3 = puVar3 + 0x78;
		lVar9 = lVar9 + -1;
	} while (lVar9 != 0);
	lVar9 = 0xf;
	*(undefined4 *)PTR_DAT_100f1e3c = 0;
	piVar6 = (int *)puVar2;
	puVar4 = (undefined4 *)puVar1;
	do {
		iVar8 = (int)lVar7;
		*piVar6 = iVar8;
		*puVar4 = 0;
		piVar6[1] = iVar8 + 1;
		puVar4[1] = 0;
		lVar7 = lVar7 + 8;
		piVar6[2] = iVar8 + 2;
		puVar4[2] = 0;
		piVar6[3] = iVar8 + 3;
		puVar4[3] = 0;
		piVar6[4] = iVar8 + 4;
		puVar4[4] = 0;
		piVar6[5] = iVar8 + 5;
		puVar4[5] = 0;
		piVar6[6] = iVar8 + 6;
		puVar4[6] = 0;
		piVar6[7] = iVar8 + 7;
		piVar6 = piVar6 + 8;
		puVar4[7] = 0;
		puVar4 = puVar4 + 8;
		lVar9 = lVar9 + -1;
	} while (lVar9 != 0);
	iVar8 = (int)lVar7 * 4;
	puVar4 = (undefined4 *)(puVar2 + iVar8);
	puVar5 = (undefined4 *)(puVar1 + iVar8);
	lVar9 = 0x7f - lVar7;
	if ((int)lVar7 < 0x7f) {
		do {
			*puVar4 = (int)lVar7;
			puVar4 = puVar4 + 1;
			lVar7 = lVar7 + 1;
			*puVar5 = 0;
			puVar5 = puVar5 + 1;
			lVar9 = lVar9 + -1;
		} while (lVar9 != 0);
	}
	puVar2 = PTR_DAT_100f1ff0;
	*(undefined4 *)PTR_DAT_100f1ff4 = 1;
	puVar1 = PTR_DAT_100f1fec;
	*(undefined4 *)puVar2 = 0;
	*(undefined4 *)puVar1 = 1;
	return;
}

undefined FUN_100823f4(undefined param_1, undefined param_2, undefined param_3, char param_4,
    char param_5, char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	int iVar7;
	int iVar8;
	int iVar9;
	int iVar10;
	undefined4 in_stack_ffffffb8;

	puVar1 = PTR_DAT_100f1a54;
	lVar6 = (longlong)param_8;
	lVar5 = (longlong)param_7;
	lVar4 = (longlong)param_6;
	lVar3 = (longlong)param_5;
	lVar2 = (longlong)param_4;
	iVar8 = 0;
	iVar9 = 0;
	do {
		iVar7 = 0;
		iVar10 = 0;
		do {
			if (*(short *)(iVar9 + *(int *)puVar1 + iVar10) == 0x16f) {
				AddObject(0x24, iVar7, iVar8 + 1, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5,
				    (char)lVar6, in_stack_ffffffb8);
				AddObject(0x26, iVar7 + 2, iVar8 + -1, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5,
				    (char)lVar6, in_stack_ffffffb8);
				AddObject(0x25, iVar7, iVar8 + 3, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5,
				    (char)lVar6, in_stack_ffffffb8);
				AddObject(0x27, iVar7 + 4, iVar8 + -1, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5,
				    (char)lVar6, in_stack_ffffffb8);
				AddObject(0x28, iVar7, iVar8 + 5, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5,
				    (char)lVar6, in_stack_ffffffb8);
				AddObject(0x1d, iVar7 + 1, iVar8 + 3, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5,
				    (char)lVar6, in_stack_ffffffb8);
				AddObject(0x1e, iVar7 + 4, iVar8 + 5, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5,
				    (char)lVar6, in_stack_ffffffb8);
				AddObject(0x1f, iVar7 + 2, iVar8, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5,
				    (char)lVar6, in_stack_ffffffb8);
				AddObject(0x20, iVar7 + 3, iVar8 + 2, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5,
				    (char)lVar6, in_stack_ffffffb8);
				AddObject(0x21, iVar7 + 2, iVar8 + 4, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5,
				    (char)lVar6, in_stack_ffffffb8);
				AddObject(0x22, iVar7 + 2, iVar8 + 1, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5,
				    (char)lVar6, in_stack_ffffffb8);
				param_1 = AddObject(0x23, iVar7 + 4, iVar8 + 2, (char)lVar2, (char)lVar3, (char)lVar4,
				    (char)lVar5, (char)lVar6, in_stack_ffffffb8);
			}
			iVar7 = iVar7 + 1;
			iVar10 = iVar10 + 0xe0;
		} while (iVar7 < 0x70);
		iVar8 = iVar8 + 1;
		iVar9 = iVar9 + 2;
	} while (iVar8 < 0x70);
	return param_1;
}

void FUN_10082520(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	int iVar2;
	undefined4 in_stack_ffffffc8;

	iVar1 = *(int *)(PTR_DAT_100f19cc + 0x140);
	iVar2 = *(int *)(PTR_DAT_100f19cc + 0x13c);
	AddObject(0x57, iVar2 + -2, iVar1 + 1, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	AddObject(0x57, iVar2 + 3, iVar1 + 1, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	AddObject(0x57, iVar2 + -1, iVar1 + 2, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	AddObject(0x57, iVar2 + 2, iVar1 + 2, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_10082598(undefined4 param_1, undefined4 param_2, int param_3, int param_4, int param_5,
    int param_6, int param_7, int param_8, undefined4 param_9, undefined param_10,
    undefined4 param_11, undefined4 param_12, undefined4 param_13, undefined4 param_14,
    undefined4 param_15)

{
	bool bVar1;
	undefined *puVar2;
	undefined *puVar3;
	ulonglong uVar4;
	int iVar5;
	longlong lVar6;
	undefined8 uVar7;
	int iVar8;
	int iVar9;
	longlong lVar10;
	int iVar11;
	longlong lVar12;
	undefined uVar13;
	longlong lVar14;
	undefined uVar15;
	longlong lVar16;
	undefined uVar17;
	longlong lVar18;
	undefined uVar19;
	longlong lVar20;
	undefined uVar21;
	longlong unaff_r22;
	longlong unaff_r23;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined in_stack_ffffffab;

	puVar3 = PTR_DAT_100f1fec;
	puVar2 = PTR_DAT_100f1948;
	lVar20 = (longlong)param_8;
	lVar18 = (longlong)param_7;
	lVar16 = (longlong)param_6;
	lVar14 = (longlong)param_5;
	lVar12 = (longlong)param_4;
	lVar10 = (longlong)param_3;
	uVar4 = ZEXT48(&toc);
	iVar8 = 0;
	bVar1 = false;
	do {
		iVar5 = (int)uVar4;
		uVar21 = (undefined)lVar20;
		uVar19 = (undefined)lVar18;
		uVar17 = (undefined)lVar16;
		uVar15 = (undefined)lVar14;
		uVar13 = (undefined)lVar12;
		iVar9 = (int)unaff_r23;
		iVar11 = (int)unaff_r22;
		if (bVar1) {
			uVar7 = QuestStatus(8);
			if ((int)uVar7 != 0) {
				AddObject(0x47, iVar9, iVar11, uVar13, uVar15, uVar17, uVar19, uVar21, in_stack_ffffff98);
			}
			uVar7 = QuestStatus(0xb);
			if ((int)uVar7 != 0) {
				AddObject(0x58, iVar9, iVar11, uVar13, uVar15, uVar17, uVar19, uVar21, in_stack_ffffff98);
			}
			uVar7 = QuestStatus(9);
			if ((int)uVar7 != 0) {
				iVar9 = **(int **)(iVar5 + -0x754c) * 2 + 0x19;
				iVar11 = **(int **)(iVar5 + -0x7550) * 2 + 0x28;
				AddObject(0x48, iVar9, iVar11, uVar13, uVar15, uVar17, uVar19, uVar21, in_stack_ffffff98);
			}
			iVar8 = (int)*(char *)(**(int **)(iVar5 + -0x7684) + iVar9 * 0x70 + iVar11) + -1;
			FUN_10084160(iVar8, param_5, param_6, param_7, param_8, *(undefined4 *)puVar3);
			FUN_10084184(iVar8, param_15);
			*(int *)puVar3 = *(int *)puVar3 + 1;
			*(int *)(puVar2 + iVar8 * 0x78 + 0x6c) = *(int *)(puVar2 + iVar8 * 0x78 + 0x24) + 1;
			return;
		}
		bVar1 = true;
		lVar6 = random(0x8b, 0x50, (char)lVar10, uVar13, uVar15, uVar17, uVar19, uVar21, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
		unaff_r23 = lVar6 + 0x10;
		lVar6 = random(0x8b, 0x50, (char)lVar10, (char)lVar12, (char)lVar14, (char)lVar16, (char)lVar18,
		    (char)lVar20, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
		unaff_r22 = lVar6 + 0x10;
		iVar5 = -2;
		do {
			iVar9 = -2;
			do {
				uVar7 = FUN_10081e4c((int)unaff_r23 + iVar9, (int)unaff_r22 + iVar5);
				if ((int)uVar7 == 0) {
					bVar1 = false;
				}
				iVar9 = iVar9 + 1;
			} while (iVar9 < 3);
			iVar5 = iVar5 + 1;
		} while (iVar5 < 3);
	} while ((bVar1) || (iVar8 = iVar8 + 1, iVar8 < 0x4e21));
	return;
}

void FUN_10082754(undefined param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	int iVar2;
	int iVar3;
	longlong lVar4;
	longlong lVar5;
	undefined8 uVar6;
	uint uVar7;
	ulonglong uVar8;
	ulonglong uVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	longlong lVar14;
	int iVar15;
	int iVar16;
	int iVar17;
	ulonglong uVar18;
	ulonglong uVar19;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	iVar3 = _DAT_100f34c8;
	iVar2 = _DAT_100f34c4;
	lVar14 = (longlong)param_8;
	lVar13 = (longlong)param_7;
	lVar12 = (longlong)param_6;
	lVar11 = (longlong)param_5;
	lVar10 = (longlong)param_4;
	uVar9 = SEXT18(param_3);
	lVar4 = random(0x8f, 5, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8,
	    in_stack_ffffffaf, in_stack_ffffffbb);
	iVar15 = 0;
	while (iVar15 < (int)lVar4 + 3) {
		do {
			lVar5 = random(0x8f, 0x50, (char)uVar9, (char)lVar10, (char)lVar11, (char)lVar12, (char)lVar13, (char)lVar14, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
			uVar19 = lVar5 + 0x10;
			lVar5 = random(0x8f, 0x50, (char)uVar9, (char)lVar10, (char)lVar11, (char)lVar12, (char)lVar13, (char)lVar14, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
			uVar18 = lVar5 + 0x10;
			uVar6 = FUN_10081e4c((int)uVar19, (int)uVar18);
		} while ((int)uVar6 == 0);
		lVar5 = random(0x8f, 4, (char)uVar9, (char)lVar10, (char)lVar11, (char)lVar12, (char)lVar13,
		    (char)lVar14, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
		if ((int)lVar5 == 0) {
			uVar7 = 0x3a;
		} else {
			uVar7 = 0x39;
		}
		uVar8 = uVar19;
		uVar9 = uVar18;
		AddObject(uVar7, (int)uVar19, (int)uVar18, (char)lVar10, (char)lVar11, (char)lVar12, (char)lVar13,
		    (char)lVar14, in_stack_ffffffa8);
		iVar17 = 1;
		uVar6 = 1;
		while (true) {
			uVar8 = uVar8 & 0xffffffff00000000 | (ulonglong)(uint)(iVar17 >> 1);
			lVar5 = random(0x8f, uVar8, (char)uVar9, (char)lVar10, (char)lVar11, (char)lVar12,
			    (char)lVar13, (char)lVar14, in_stack_ffffffa8, in_stack_ffffffaf,
			    in_stack_ffffffbb);
			if (((int)lVar5 != 0) || ((int)uVar6 == 0))
				break;
			iVar16 = 0;
			uVar6 = 0;
			while (true) {
				if (((int)uVar6 != 0) || (2 < iVar16))
					break;
				lVar5 = random(0x8f, 8, (char)uVar9, (char)lVar10, (char)lVar11, (char)lVar12, (char)lVar13,
				    (char)lVar14, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
				iVar1 = (int)lVar5 * 4;
				uVar19 = uVar19 + (ulonglong) * (uint *)(iVar3 + iVar1);
				uVar18 = uVar18 + (ulonglong) * (uint *)(iVar2 + iVar1);
				uVar8 = uVar18;
				uVar6 = FUN_10081e4c((int)uVar19, (int)uVar18);
				iVar16 = iVar16 + 1;
			}
			if ((int)uVar6 != 0) {
				lVar5 = random(0x8f, 5, (char)uVar9, (char)lVar10, (char)lVar11, (char)lVar12, (char)lVar13,
				    (char)lVar14, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
				if ((int)lVar5 == 0) {
					uVar7 = 0x3a;
				} else {
					uVar7 = 0x39;
				}
				uVar8 = uVar19;
				uVar9 = uVar18;
				AddObject(uVar7, (int)uVar19, (int)uVar18, (char)lVar10, (char)lVar11, (char)lVar12,
				    (char)lVar13, (char)lVar14, in_stack_ffffffa8);
				iVar17 = iVar17 + 1;
			}
		}
		iVar15 = iVar15 + 1;
	}
	return;
}

void AddL1Objs(int param_1, int param_2, int param_3, int param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	short sVar1;
	undefined *puVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	int iVar8;
	int iVar9;
	int iVar10;
	undefined4 in_stack_ffffffa8;

	puVar2 = PTR_DAT_100f1a54;
	lVar7 = (longlong)param_8;
	lVar6 = (longlong)param_7;
	lVar5 = (longlong)param_6;
	lVar4 = (longlong)param_5;
	lVar3 = (longlong)param_4;
	iVar9 = param_2 << 1;
	while (param_2 < param_4) {
		iVar10 = param_1 * 0xe0;
		iVar8 = param_1;
		while (iVar8 < param_3) {
			sVar1 = *(short *)(iVar9 + *(int *)puVar2 + iVar10);
			if (sVar1 == 0x10e) {
				AddObject(0, iVar8, param_2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7,
				    in_stack_ffffffa8);
			}
			if (((sVar1 == 0x2c) || (sVar1 == 0x33)) || (sVar1 == 0xd6)) {
				AddObject(1, iVar8, param_2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7,
				    in_stack_ffffffa8);
			}
			if ((sVar1 == 0x2e) || (sVar1 == 0x38)) {
				AddObject(2, iVar8, param_2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7,
				    in_stack_ffffffa8);
			}
			iVar10 = iVar10 + 0xe0;
			iVar8 = iVar8 + 1;
		}
		iVar9 = iVar9 + 2;
		param_2 = param_2 + 1;
	}
	return;
}

void AddL2Objs(int param_1, int param_2, int param_3, int param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	short sVar1;
	undefined *puVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	int iVar8;
	int iVar9;
	int iVar10;
	undefined4 in_stack_ffffffa8;

	puVar2 = PTR_DAT_100f1a54;
	lVar7 = (longlong)param_8;
	lVar6 = (longlong)param_7;
	lVar5 = (longlong)param_6;
	lVar4 = (longlong)param_5;
	lVar3 = (longlong)param_4;
	iVar9 = param_2 << 1;
	while (param_2 < param_4) {
		iVar10 = param_1 * 0xe0;
		iVar8 = param_1;
		while (iVar8 < param_3) {
			sVar1 = *(short *)(iVar9 + *(int *)puVar2 + iVar10);
			if ((sVar1 == 0xd) || (sVar1 == 0x21d)) {
				AddObject(0x2a, iVar8, param_2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7,
				    in_stack_ffffffa8);
			}
			if ((sVar1 == 0x11) || (sVar1 == 0x21e)) {
				AddObject(0x2b, iVar8, param_2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7,
				    in_stack_ffffffa8);
			}
			iVar10 = iVar10 + 0xe0;
			iVar8 = iVar8 + 1;
		}
		iVar9 = iVar9 + 2;
		param_2 = param_2 + 1;
	}
	return;
}

void FUN_10082a44(int param_1, int param_2, int param_3, int param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	short sVar1;
	undefined *puVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	int iVar8;
	int iVar9;
	int iVar10;
	undefined4 in_stack_ffffffa8;

	puVar2 = PTR_DAT_100f1a54;
	lVar7 = (longlong)param_8;
	lVar6 = (longlong)param_7;
	lVar5 = (longlong)param_6;
	lVar4 = (longlong)param_5;
	lVar3 = (longlong)param_4;
	iVar9 = param_2 << 1;
	while (param_2 < param_4) {
		iVar10 = param_1 * 0xe0;
		iVar8 = param_1;
		while (iVar8 < param_3) {
			sVar1 = *(short *)(iVar9 + *(int *)puVar2 + iVar10);
			if (sVar1 == 0x213) {
				AddObject(0x4a, iVar8, param_2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7,
				    in_stack_ffffffa8);
			}
			if (sVar1 == 0x216) {
				AddObject(0x4b, iVar8, param_2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7,
				    in_stack_ffffffa8);
			}
			iVar10 = iVar10 + 0xe0;
			iVar8 = iVar8 + 1;
		}
		iVar9 = iVar9 + 2;
		param_2 = param_2 + 1;
	}
	return;
}

undefined8 FUN_10082aec(int param_1, int param_2)

{
	if ((*(byte *)(*(int *)PTR_DAT_100f1834 + param_1 * 0x70 + param_2) & 8) != 0) {
		return 0;
	}
	return 1;
}

void FUN_10082b18(undefined param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	short sVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined8 uVar4;
	longlong lVar5;
	int iVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	int iVar13;
	int iVar14;
	int iVar15;
	longlong lVar16;
	int iVar17;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	puVar3 = PTR_DAT_100f1a54;
	puVar2 = PTR_DAT_100f194c;
	lVar12 = (longlong)param_8;
	lVar11 = (longlong)param_7;
	lVar10 = (longlong)param_6;
	lVar9 = (longlong)param_5;
	lVar8 = (longlong)param_4;
	lVar7 = (longlong)param_3;
	lVar16 = 0;
	iVar13 = 0;
	do {
		iVar15 = 0;
		iVar14 = 0;
		iVar17 = 0;
		do {
			iVar6 = (int)lVar16;
			uVar4 = FUN_10082aec(iVar17, iVar6);
			if ((int)uVar4 != 0) {
				sVar1 = *(short *)(iVar13 + *(int *)puVar3 + iVar15);
				if ((sVar1 == 1) && (lVar5 = random(0x91, 3, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb), (int)lVar5 == 0)) {
					lVar7 = lVar16;
					AddObject(0x2e, iVar17, iVar6, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11,
					    (char)lVar12, in_stack_ffffffa8);
				}
				if ((sVar1 == 5) && (lVar5 = random(0x91, 3, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb), (int)lVar5 == 0)) {
					lVar7 = lVar16;
					AddObject(0x2f, iVar17, iVar6, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11,
					    (char)lVar12, in_stack_ffffffa8);
				}
				if (sVar1 == 0x25) {
					lVar5 = random(0x91, 10, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
					if (((int)lVar5 == 0) && (*(char *)(iVar6 + *(int *)puVar2 + iVar14 + -0x70) == '\0')) {
						lVar7 = lVar16;
						AddObject(0x2c, iVar17 + -1, iVar6, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11,
						    (char)lVar12, in_stack_ffffffa8);
					}
				}
				if (sVar1 == 0x29) {
					lVar5 = random(0x91, 10, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
					if (((int)lVar5 == 0) && (*(char *)(iVar6 + *(int *)puVar2 + iVar14 + -1) == '\0')) {
						lVar7 = lVar16 + -1;
						AddObject(0x2d, iVar17, (int)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11,
						    (char)lVar12, in_stack_ffffffa8);
					}
				}
			}
			iVar17 = iVar17 + 1;
			iVar14 = iVar14 + 0x70;
			iVar15 = iVar15 + 0xe0;
		} while (iVar17 < 0x70);
		lVar16 = lVar16 + 1;
		iVar13 = iVar13 + 2;
	} while ((int)lVar16 < 0x70);
	return;
}

undefined8 FUN_10082c7c(int param_1, int param_2)

{
	if ((*(byte *)(*(int *)PTR_DAT_100f1834 + param_1 * 0x70 + param_2) & 8) != 0) {
		return 0;
	}
	if (PTR_DAT_100f1d98[(int)*(short *)(*(int *)PTR_DAT_100f1a54 + param_1 * 0xe0 + param_2 * 2)] == '\0') {
		return 0;
	}
	return 1;
}

void FUN_10082cd8(undefined param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	byte bVar1;
	char cVar2;
	int iVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	int iVar7;
	undefined *puVar8;
	char cVar9;
	longlong lVar10;
	undefined8 uVar11;
	short *psVar12;
	int iVar13;
	longlong lVar14;
	longlong lVar15;
	longlong lVar16;
	longlong lVar17;
	longlong lVar18;
	longlong lVar19;
	int unaff_r19;
	longlong lVar20;
	int iVar21;
	int iVar22;
	int iVar23;
	int iVar24;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;
	undefined in_stack_ffffff9b;

	puVar8 = PTR_DAT_100f2008;
	iVar7 = _DAT_100f1da4;
	puVar6 = PTR_DAT_100f1a54;
	puVar5 = PTR_DAT_100f194c;
	puVar4 = PTR_DAT_100f1948;
	lVar19 = (longlong)param_8;
	lVar18 = (longlong)param_7;
	lVar17 = (longlong)param_6;
	lVar16 = (longlong)param_5;
	lVar15 = (longlong)param_4;
	lVar14 = (longlong)param_3;
	bVar1 = *PTR_DAT_100f17ec;
	if (bVar1 == 1) {
		unaff_r19 = 10;
	}
	if (1 < bVar1) {
		unaff_r19 = 0xf;
	}
	if (4 < bVar1) {
		unaff_r19 = 0x14;
	}
	if (6 < bVar1) {
		unaff_r19 = 0x19;
	}
	lVar20 = 0;
	iVar22 = 0;
	do {
		iVar24 = 0;
		iVar23 = 0;
		iVar21 = 0;
		do {
			iVar3 = (int)lVar20;
			if ((('\0' < *(char *)(iVar3 + *(int *)puVar5 + iVar24)) && (lVar10 = random(0x90, 100, (char)lVar14, (char)lVar15, (char)lVar16, (char)lVar17, (char)lVar18, (char)lVar19, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff9b), (int)lVar10 < unaff_r19)) && (cVar9 = *(char *)(iVar3 + *(int *)puVar5 + iVar24) + -1, *(int *)(puVar8 + *(int *)(puVar4 + (int)cVar9 * 0x78) * 0x2c + 0x28) != 0)) {
				lVar10 = random(0x90, 2, (char)lVar14, (char)lVar15, (char)lVar16, (char)lVar17,
				    (char)lVar18, (char)lVar19, in_stack_ffffff88, in_stack_ffffff8f,
				    in_stack_ffffff9b);
				if ((int)lVar10 == 0) {
					iVar13 = iVar21 + -1;
					psVar12 = (short *)(*(int *)puVar6 + iVar22 + iVar13 * 0xe0);
					while (*(char *)(iVar7 + (int)*psVar12) == '\0') {
						psVar12 = psVar12 + -0x70;
						iVar13 = iVar13 + -1;
					}
					uVar11 = FUN_10082c7c(iVar13, iVar3);
					if (((int)uVar11 != 0) && (1 < iVar21 - iVar13)) {
						lVar14 = lVar20;
						AddObject(0x35, iVar13, iVar3, (char)lVar15, (char)lVar16, (char)lVar17, (char)lVar18,
						    (char)lVar19, in_stack_ffffff88);
						cVar2 = *(char *)(iVar3 + *(int *)puVar5 + iVar13 * 0x70);
						*(int *)(puVar4 + (int)(char)(cVar2 + -1) * 0x78 + 0x58) = iVar21;
						*(int *)(puVar4 + (int)(char)(cVar2 + -1) * 0x78 + 0x5c) = iVar3;
						*(undefined4 *)(puVar4 + (int)cVar9 * 0x78 + 0x48) = 1;
					}
				} else {
					lVar10 = lVar20 + -1;
					psVar12 = (short *)(*(int *)puVar6 + iVar23 + (int)lVar10 * 2);
					while (*(char *)(iVar7 + (int)*psVar12) == '\0') {
						psVar12 = psVar12 + -1;
						lVar10 = lVar10 + -1;
					}
					iVar13 = (int)lVar10;
					uVar11 = FUN_10082c7c(iVar21, iVar13);
					if (((int)uVar11 != 0) && (1 < iVar3 - iVar13)) {
						AddObject(0x36, iVar21, iVar13, (char)lVar15, (char)lVar16, (char)lVar17, (char)lVar18,
						    (char)lVar19, in_stack_ffffff88);
						cVar2 = *(char *)(*(int *)puVar5 + iVar24 + iVar13);
						*(int *)(puVar4 + (int)(char)(cVar2 + -1) * 0x78 + 0x58) = iVar21;
						*(int *)(puVar4 + (int)(char)(cVar2 + -1) * 0x78 + 0x5c) = iVar3;
						*(undefined4 *)(puVar4 + (int)cVar9 * 0x78 + 0x48) = 1;
						lVar14 = lVar10;
					}
				}
			}
			iVar21 = iVar21 + 1;
			iVar23 = iVar23 + 0xe0;
			iVar24 = iVar24 + 0x70;
		} while (iVar21 < 0x70);
		lVar20 = lVar20 + 1;
		iVar22 = iVar22 + 2;
	} while ((int)lVar20 < 0x70);
	return;
}

void FUN_10082f28(undefined param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	char cVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	int *piVar13;
	int iVar14;
	int iVar15;
	int iVar16;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	puVar5 = PTR_DAT_100f194c;
	puVar4 = PTR_DAT_100f1948;
	puVar3 = PTR_DAT_100f183c;
	lVar12 = (longlong)param_8;
	lVar11 = (longlong)param_7;
	lVar10 = (longlong)param_6;
	lVar9 = (longlong)param_5;
	lVar8 = (longlong)param_4;
	lVar7 = (longlong)param_3;
	iVar15 = 0;
	do {
		iVar16 = 0;
		iVar14 = 0;
		do {
			cVar1 = *(char *)(iVar15 + *(int *)puVar5 + iVar14);
			if (((('\0' < cVar1) && (iVar2 = (int)(char)(cVar1 + -1) * 0x78, 4 < *(int *)(puVar4 + iVar2))) && (piVar13 = (int *)(puVar4 + iVar2), *piVar13 < 8)) && ((piVar13[0x12] == 0 && (lVar6 = random(0, 100, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb), (int)lVar6 < 10)))) {
				*piVar13 = *piVar13 + 0x3f;
				piVar13[0x12] = 1;
				if (*puVar3 == '\x02') {
					lVar6 = random(0, 2, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11,
					    (char)lVar12, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
					piVar13[0x19] = (int)lVar6;
				} else {
					lVar6 = random(0, 3, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11,
					    (char)lVar12, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
					piVar13[0x19] = (int)lVar6;
				}
			}
			iVar16 = iVar16 + 1;
			iVar14 = iVar14 + 0x70;
		} while (iVar16 < 0x70);
		iVar15 = iVar15 + 1;
	} while (iVar15 < 0x70);
	return;
}

void FUN_10083028(longlong param_1, longlong param_2, longlong param_3, longlong param_4,
    longlong param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	ulonglong uVar5;
	longlong lVar6;
	int iVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	longlong lVar14;
	longlong lVar15;
	longlong lVar16;
	longlong lVar17;
	uint uVar18;
	uint uVar19;
	longlong lVar20;
	longlong lVar21;
	undefined4 in_stack_ffffff88;

	puVar4 = PTR_DAT_100f1fe8;
	puVar3 = PTR_DAT_100f1fe4;
	*(undefined4 *)PTR_DAT_100f1fe8 = 1;
	lVar14 = param_2;
	lVar8 = param_3;
	lVar9 = param_4;
	lVar10 = param_5;
	lVar11 = (longlong)param_6;
	lVar12 = (longlong)param_7;
	lVar13 = (longlong)param_8;
	uVar5 = FUN_100b8f7c(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffff88);
	lVar16 = param_5 + (longlong)param_7;
	lVar15 = param_4 + (longlong)param_6;
	uVar19 = (uint) * (byte *)uVar5;
	uVar18 = (uint)((byte *)uVar5)[2];
	iVar1 = uVar19 * 2;
	iVar2 = uVar18 * 2;
	lVar17 = uVar5 + (ulonglong)(uVar19 * uVar18 * 2) + 4 + (ulonglong)(uint)(iVar1 * iVar2 * 4);
	lVar20 = 0;
	while ((int)lVar20 < iVar2) {
		lVar6 = lVar20 + param_3 + 0x10;
		lVar21 = 0;
		while ((int)lVar21 < iVar1) {
			if (*(byte *)lVar17 != 0) {
				lVar14 = lVar21 + param_2 + 0x10;
				AddObject(*(uint *)(puVar3 + (uint) * (byte *)lVar17 * 4), (int)lVar14, (int)lVar6,
				    (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12, (char)lVar13,
				    in_stack_ffffff88);
				iVar7 = FUN_100a2e14(lVar14, lVar6);
				lVar14 = param_4;
				lVar8 = param_5;
				lVar9 = lVar15;
				lVar10 = lVar16;
				lVar11 = (longlong)param_8;
				FUN_10084160(iVar7, (int)param_4, (int)param_5, (int)lVar15, (int)lVar16, param_8);
			}
			lVar17 = lVar17 + 2;
			lVar21 = lVar21 + 1;
		}
		lVar20 = lVar20 + 1;
	}
	FUN_100b9100((int)param_1, (char)lVar14, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11,
	    (char)lVar12, (char)lVar13, in_stack_ffffff88);
	*(undefined4 *)puVar4 = 0;
	return;
}

void FUN_1008314c(longlong param_1, longlong param_2, longlong param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	ulonglong uVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	undefined uVar9;
	undefined uVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	longlong lVar14;
	uint uVar15;
	uint uVar16;
	longlong lVar17;
	longlong lVar18;
	undefined4 in_stack_ffffff98;

	puVar4 = PTR_DAT_100f1fe8;
	puVar3 = PTR_DAT_100f1fe4;
	uVar10 = (undefined)param_5;
	uVar9 = (undefined)param_4;
	lVar13 = (longlong)param_8;
	lVar12 = (longlong)param_7;
	lVar11 = (longlong)param_6;
	*(undefined4 *)PTR_DAT_100f1fe8 = 1;
	lVar7 = param_2;
	lVar8 = param_3;
	uVar5 = FUN_100b8f7c(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffff98);
	lVar17 = 0;
	uVar16 = (uint) * (byte *)uVar5;
	uVar15 = (uint)((byte *)uVar5)[2];
	iVar1 = uVar16 * 2;
	iVar2 = uVar15 * 2;
	lVar14 = uVar5 + (ulonglong)(uVar16 * uVar15 * 2) + 4 + (ulonglong)(uint)(iVar1 * iVar2 * 4);
	while ((int)lVar17 < iVar2) {
		lVar6 = lVar17 + param_3 + 0x10;
		lVar18 = 0;
		while ((int)lVar18 < iVar1) {
			if (*(byte *)lVar14 != 0) {
				lVar7 = lVar18 + param_2 + 0x10;
				lVar8 = lVar6;
				AddObject(*(uint *)(puVar3 + (uint) * (byte *)lVar14 * 4), (int)lVar7, (int)lVar6, uVar9,
				    uVar10, (char)lVar11, (char)lVar12, (char)lVar13, in_stack_ffffff98);
			}
			lVar14 = lVar14 + 2;
			lVar18 = lVar18 + 1;
		}
		lVar17 = lVar17 + 1;
	}
	FUN_100b9100((int)param_1, (char)lVar7, (char)lVar8, uVar9, uVar10, (char)lVar11, (char)lVar12,
	    (char)lVar13, in_stack_ffffff98);
	*(undefined4 *)puVar4 = 0;
	return;
}

void FUN_1008322c(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined **ppuVar7;
	ulonglong uVar8;
	undefined uVar9;
	ulonglong uVar10;
	undefined uVar11;
	ulonglong uVar12;
	undefined uVar13;
	ulonglong uVar14;
	undefined uVar15;
	undefined4 uVar16;
	undefined uVar17;
	undefined4 uVar18;
	undefined uVar19;
	undefined4 uVar20;
	undefined uVar21;
	undefined4 in_stack_ffffffb8;
	int *local_18[6];

	puVar6 = PTR_DAT_100f1cdc;
	puVar5 = PTR_DAT_100f1cd8;
	puVar4 = PTR_DAT_100f1cd4;
	puVar3 = PTR_DAT_100f1cd0;
	ppuVar7 = &toc;
	uVar8 = LoadFileInMem((ulonglong)_DAT_100f34c0, (undefined4 *)0x0, param_3, param_4, param_5, param_6,
	    param_7, param_8, in_stack_ffffffb8);
	local_18[0] = (int *)uVar8;
	uVar16 = 0xb;
	uVar18 = 0xc;
	uVar20 = 1;
	uVar9 = (undefined)(*(int *)ppuVar7[-0x1cbb] << 1);
	uVar12 = (ulonglong) * (uint *)puVar6;
	uVar10 = (ulonglong)(uint)(*(int *)ppuVar7[-0x1cbc] << 1);
	uVar14 = (ulonglong) * (uint *)puVar5;
	FUN_10083028(uVar8 & 0xffffffff, (ulonglong)(uint)(*(int *)ppuVar7[-0x1cbb] << 1), uVar10, uVar12,
	    uVar14, 0xb, 0xc, 1, in_stack_ffffffb8);
	mem_free_dbg(local_18, uVar9, (char)uVar10, (char)uVar12, (char)uVar14, (char)uVar16, (char)uVar18,
	    (char)uVar20, in_stack_ffffffb8);
	uVar8 = LoadFileInMem(ZEXT48(ppuVar7[-0x16c5]), (undefined4 *)0x0, uVar10, uVar12, uVar14, uVar16, uVar18, uVar20, in_stack_ffffffb8);
	local_18[0] = (int *)uVar8;
	uVar16 = 0xb;
	uVar18 = 0xb;
	uVar20 = 2;
	uVar1 = *(int *)puVar6 << 1;
	uVar9 = (undefined)uVar1;
	uVar12 = (ulonglong) * (uint *)puVar4;
	uVar10 = (ulonglong)(uint)(*(int *)puVar5 << 1);
	uVar14 = (ulonglong) * (uint *)puVar3;
	FUN_10083028(uVar8 & 0xffffffff, (ulonglong)uVar1, uVar10, uVar12, uVar14, 0xb, 0xb, 2, in_stack_ffffffb8);
	mem_free_dbg(local_18, uVar9, (char)uVar10, (char)uVar12, (char)uVar14, (char)uVar16, (char)uVar18,
	    (char)uVar20, in_stack_ffffffb8);
	uVar8 = LoadFileInMem(ZEXT48(ppuVar7[-0x16c6]), (undefined4 *)0x0, uVar10, uVar12, uVar14, uVar16, uVar18, uVar20, in_stack_ffffffb8);
	local_18[0] = (int *)uVar8;
	uVar17 = 9;
	uVar19 = 9;
	uVar21 = 3;
	uVar1 = *(int *)puVar4 << 1;
	uVar9 = (undefined)uVar1;
	uVar13 = (undefined) * (uint *)ppuVar7[-0x1cc1];
	uVar2 = *(int *)puVar3 << 1;
	uVar11 = (undefined)uVar2;
	uVar15 = (undefined) * (uint *)ppuVar7[-0x1cc2];
	FUN_10083028(uVar8 & 0xffffffff, (ulonglong)uVar1, (ulonglong)uVar2,
	    (ulonglong) * (uint *)ppuVar7[-0x1cc1], (ulonglong) * (uint *)ppuVar7[-0x1cc2], 9, 9, 3,
	    in_stack_ffffffb8);
	mem_free_dbg(local_18, uVar9, uVar11, uVar13, uVar15, uVar17, uVar19, uVar21, in_stack_ffffffb8);
	return;
}

void FUN_10083354(undefined param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	bool bVar1;
	longlong lVar2;
	undefined8 uVar3;
	int iVar4;
	longlong lVar5;
	int iVar6;
	longlong lVar7;
	undefined uVar8;
	longlong lVar9;
	undefined uVar10;
	longlong lVar11;
	undefined uVar12;
	longlong lVar13;
	undefined uVar14;
	longlong lVar15;
	undefined uVar16;
	int iVar17;
	longlong unaff_r29;
	longlong unaff_r30;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	lVar15 = (longlong)param_8;
	lVar13 = (longlong)param_7;
	lVar11 = (longlong)param_6;
	lVar9 = (longlong)param_5;
	lVar7 = (longlong)param_4;
	lVar5 = (longlong)param_3;
	iVar4 = 0;
	bVar1 = false;
	do {
		uVar8 = (undefined)lVar7;
		uVar10 = (undefined)lVar9;
		uVar12 = (undefined)lVar11;
		uVar14 = (undefined)lVar13;
		uVar16 = (undefined)lVar15;
		if (bVar1) {
			iVar4 = (int)unaff_r30;
			iVar6 = (int)unaff_r29;
			AddObject(0x56, iVar4, iVar6, uVar8, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffa8);
			AddObject(0x57, iVar4 + -2, iVar6 + 1, uVar8, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffa8);
			AddObject(0x57, iVar4 + -2, iVar6, uVar8, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffa8);
			AddObject(0x57, iVar4 + -1, iVar6 + -1, uVar8, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffa8);
			AddObject(0x57, iVar4 + 1, iVar6 + -1, uVar8, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffa8);
			AddObject(0x57, iVar4 + 2, iVar6, uVar8, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffa8);
			AddObject(0x57, iVar4 + 2, iVar6 + 1, uVar8, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffa8);
			return;
		}
		bVar1 = true;
		lVar2 = random(0x8b, 0x50, (char)lVar5, uVar8, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffa8,
		    in_stack_ffffffaf, in_stack_ffffffbb);
		unaff_r30 = lVar2 + 0x10;
		lVar2 = random(0x8b, 0x50, (char)lVar5, (char)lVar7, (char)lVar9, (char)lVar11, (char)lVar13,
		    (char)lVar15, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
		unaff_r29 = lVar2 + 0x10;
		iVar6 = -2;
		do {
			iVar17 = -3;
			do {
				uVar3 = FUN_10081e4c((int)unaff_r30 + iVar17, (int)unaff_r29 + iVar6);
				if ((int)uVar3 == 0) {
					bVar1 = false;
				}
				iVar17 = iVar17 + 1;
			} while (iVar17 < 4);
			iVar6 = iVar6 + 1;
		} while (iVar6 < 3);
	} while ((bVar1) || (iVar4 = iVar4 + 1, iVar4 < 0x4e21));
	return;
}

void FUN_10083470(longlong param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	longlong lVar1;
	undefined8 uVar2;
	int iVar3;
	longlong lVar4;
	int iVar5;
	longlong lVar6;
	undefined uVar7;
	longlong lVar8;
	undefined uVar9;
	longlong lVar10;
	undefined uVar11;
	longlong lVar12;
	undefined uVar13;
	longlong lVar14;
	undefined uVar15;
	int iVar16;
	int iVar17;
	longlong lVar18;
	char *pcVar19;
	int iVar20;
	char *pcVar21;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	lVar14 = (longlong)param_8;
	lVar12 = (longlong)param_7;
	lVar10 = (longlong)param_6;
	lVar8 = (longlong)param_5;
	lVar6 = (longlong)param_4;
	lVar4 = (longlong)param_3;
	iVar16 = 0;
	lVar18 = 0x10;
	pcVar19 = PTR_DAT_100f1804;
	do {
		iVar17 = 0;
		iVar20 = 0x10;
		pcVar21 = pcVar19;
		do {
			if ((((*pcVar21 == '\x01') || (*pcVar21 == '\x02')) && (lVar1 = random(0, param_1, (char)lVar4, (char)lVar6, (char)lVar8, (char)lVar10, (char)lVar12, (char)lVar14, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb), (int)lVar1 == 0)) && (uVar2 = SkipThemeRoom(iVar17, iVar16), (int)uVar2 != 0)) {
				iVar5 = (int)lVar18;
				if ((*pcVar21 == '\x01') && (pcVar21[0x28] == '\x06')) {
					lVar1 = random(0, 3, (char)lVar4, (char)lVar6, (char)lVar8, (char)lVar10, (char)lVar12,
					    (char)lVar14, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
					iVar3 = (int)lVar1;
					uVar7 = (undefined)lVar6;
					uVar9 = (undefined)lVar8;
					uVar11 = (undefined)lVar10;
					uVar13 = (undefined)lVar12;
					uVar15 = (undefined)lVar14;
					if (iVar3 == 1) {
						lVar4 = lVar18;
						AddObject(0x25, iVar20 + 1, iVar5, uVar7, uVar9, uVar11, uVar13, uVar15, in_stack_ffffffa8);
					} else {
						if (iVar3 < 1) {
							if (-1 < iVar3) {
								lVar4 = lVar18;
								AddObject(0x24, iVar20 + 1, iVar5, uVar7, uVar9, uVar11, uVar13, uVar15,
								    in_stack_ffffffa8);
							}
						} else {
							if (iVar3 < 3) {
								lVar4 = lVar18;
								AddObject(0x28, iVar20 + 1, iVar5, uVar7, uVar9, uVar11, uVar13, uVar15,
								    in_stack_ffffffa8);
							}
						}
					}
				} else {
					if ((*pcVar21 == '\x02') && (pcVar21[1] == '\x06')) {
						lVar1 = random(0, 2, (char)lVar4, (char)lVar6, (char)lVar8, (char)lVar10, (char)lVar12,
						    (char)lVar14, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
						iVar3 = (int)lVar1;
						if (iVar3 == 1) {
							lVar4 = lVar18;
							AddObject(0x27, iVar20, iVar5, (char)lVar6, (char)lVar8, (char)lVar10, (char)lVar12,
							    (char)lVar14, in_stack_ffffffa8);
						} else {
							if ((iVar3 < 1) && (-1 < iVar3)) {
								lVar4 = lVar18;
								AddObject(0x26, iVar20, iVar5, (char)lVar6, (char)lVar8, (char)lVar10, (char)lVar12,
								    (char)lVar14, in_stack_ffffffa8);
							}
						}
					}
				}
			}
			iVar17 = iVar17 + 1;
			iVar20 = iVar20 + 2;
			pcVar21 = pcVar21 + 0x28;
		} while (iVar17 < 0x28);
		iVar16 = iVar16 + 1;
		lVar18 = lVar18 + 2;
		pcVar19 = pcVar19 + 1;
	} while (iVar16 < 0x28);
	return;
}

void FUN_100835f8(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	FUN_10083470(6, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	FUN_10081f24(2, 6, 0x1d, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	FUN_10081f24(2, 6, 0x1e, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	FUN_10081f24(2, 6, 0x1f, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	FUN_10081f24(2, 6, 0x20, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	FUN_10081f24(2, 6, 0x21, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	FUN_10081f24(2, 6, 0x22, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	FUN_10081f24(2, 6, 0x23, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	FUN_10081f24(2, 6, 0x43, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	FUN_10081f24(1, 3, 0x50, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_100836ac(undefined param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	bool bVar1;
	longlong lVar2;
	undefined8 uVar3;
	int iVar4;
	longlong lVar5;
	int iVar6;
	longlong lVar7;
	undefined uVar8;
	longlong lVar9;
	undefined uVar10;
	longlong lVar11;
	undefined uVar12;
	longlong lVar13;
	undefined uVar14;
	longlong lVar15;
	undefined uVar16;
	int iVar17;
	longlong unaff_r29;
	longlong unaff_r30;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	lVar15 = (longlong)param_8;
	lVar13 = (longlong)param_7;
	lVar11 = (longlong)param_6;
	lVar9 = (longlong)param_5;
	lVar7 = (longlong)param_4;
	lVar5 = (longlong)param_3;
	iVar4 = 0;
	bVar1 = false;
	do {
		uVar8 = (undefined)lVar7;
		uVar10 = (undefined)lVar9;
		uVar12 = (undefined)lVar11;
		uVar14 = (undefined)lVar13;
		uVar16 = (undefined)lVar15;
		if (bVar1) {
			iVar4 = (int)unaff_r30;
			iVar6 = (int)unaff_r29;
			AddObject(0x5f, iVar4, iVar6, uVar8, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffa8);
			AddObject(0x1e, iVar4, iVar6 + 2, uVar8, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffa8);
			AddObject(0x57, iVar4 + 1, iVar6 + 2, uVar8, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffa8);
			AddObject(0x1f, iVar4 + 2, iVar6 + 2, uVar8, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffa8);
			AddObject(0x21, iVar4, iVar6 + -2, uVar8, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffa8);
			AddObject(0x57, iVar4 + 1, iVar6 + -2, uVar8, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffa8);
			AddObject(0x22, iVar4 + 2, iVar6 + -2, uVar8, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffa8);
			AddObject(0x57, iVar4 + -1, iVar6 + -1, uVar8, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffa8);
			AddObject(0x23, iVar4 + -1, iVar6, uVar8, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffa8);
			AddObject(0x57, iVar4 + -1, iVar6 + 1, uVar8, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffa8);
			return;
		}
		bVar1 = true;
		lVar2 = random(0x8b, 0x50, (char)lVar5, uVar8, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffa8,
		    in_stack_ffffffaf, in_stack_ffffffbb);
		unaff_r30 = lVar2 + 0x10;
		lVar2 = random(0x8b, 0x50, (char)lVar5, (char)lVar7, (char)lVar9, (char)lVar11, (char)lVar13,
		    (char)lVar15, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
		unaff_r29 = lVar2 + 0x10;
		iVar6 = -3;
		do {
			iVar17 = -2;
			do {
				uVar3 = FUN_10081e4c((int)unaff_r30 + iVar17, (int)unaff_r29 + iVar6);
				if ((int)uVar3 == 0) {
					bVar1 = false;
				}
				iVar17 = iVar17 + 1;
			} while (iVar17 < 4);
			iVar6 = iVar6 + 1;
		} while (iVar6 < 4);
	} while ((bVar1) || (iVar4 = iVar4 + 1, iVar4 < 0x2711));
	FUN_10081f24(1, 1, 0x5f, (char)lVar7, (char)lVar9, (char)lVar11, (char)lVar13, (char)lVar15,
	    in_stack_ffffffa8);
	return;
}

void InitObjects(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined *puVar12;
	undefined **ppuVar13;
	undefined8 uVar14;
	undefined uVar16;
	char cVar17;
	ulonglong uVar15;
	undefined uVar18;
	undefined uVar19;
	undefined uVar21;
	undefined8 uVar20;
	ulonglong uVar22;
	undefined uVar23;
	longlong lVar24;
	int iVar25;
	undefined uVar26;
	int iVar27;
	undefined uVar28;
	longlong lVar29;
	int iVar30;
	undefined uVar31;
	undefined8 unaff_r20;
	undefined4 uVar32;
	undefined8 unaff_r21;
	undefined8 unaff_r22;
	undefined8 unaff_r23;
	undefined8 unaff_r24;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;
	undefined4 in_stack_ffffff98;
	undefined4 in_stack_ffffff9c;
	undefined4 in_stack_ffffffa0;
	undefined4 in_stack_ffffffa4;
	int *local_3c[3];
	undefined4 local_30;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar12 = PTR_DAT_100f1fe8;
	puVar11 = PTR_DAT_100f1a84;
	puVar10 = PTR_DAT_100f1a80;
	puVar9 = PTR_DAT_100f1a7c;
	puVar8 = PTR_DAT_100f1a78;
	puVar7 = PTR_DAT_100f19cc;
	puVar6 = PTR_DAT_100f183c;
	puVar5 = PTR_DAT_100f1828;
	puVar4 = PTR_DAT_100f1824;
	puVar3 = PTR_DAT_100f17ec;
	puVar2 = PTR_DAT_100f17e0;
	uVar32 = (undefined4)unaff_r20;
	ppuVar13 = &toc;
	local_30 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar14 = FUN_100822b0();
	uVar31 = (undefined)param_8;
	uVar28 = (undefined)param_7;
	uVar26 = (undefined)param_6;
	uVar23 = (undefined)param_5;
	uVar21 = (undefined)param_4;
	uVar19 = (undefined)param_3;
	uVar18 = (undefined)param_2;
	if (*puVar3 == '\x10') {
		FUN_1008322c(uVar14, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff88);
	} else {
		*(undefined4 *)puVar12 = 1;
		uVar16 = GetRndSeed((char)uVar14, uVar18, uVar19, uVar21, uVar23, uVar26, uVar28, uVar31,
		    in_stack_ffffff88);
		if ((*puVar3 == '\t') && (*puVar2 == '\x01')) {
			FUN_100850f4(uVar16, uVar18, uVar19, uVar21, uVar23, uVar26, uVar28, uVar31, in_stack_ffffff88);
		}
		cVar17 = *puVar3;
		if ((cVar17 == puVar7[0x18]) && (puVar7[0x1a] == '\x01')) {
			cVar17 = FUN_10085024(cVar17, uVar18, uVar19, uVar21, uVar23, uVar26, uVar28, uVar31,
			    in_stack_ffffff88);
		}
		if (*puVar3 == '\x04') {
			cVar17 = FUN_10083354(cVar17, uVar18, uVar19, uVar21, uVar23, uVar26, uVar28, uVar31,
			    in_stack_ffffff88);
		}
		if (*puVar3 == '\b') {
			cVar17 = FUN_10083354(cVar17, uVar18, uVar19, uVar21, uVar23, uVar26, uVar28, uVar31,
			    in_stack_ffffff88);
		}
		if (*puVar3 == '\f') {
			FUN_10083354(cVar17, uVar18, uVar19, uVar21, uVar23, uVar26, uVar28, uVar31, in_stack_ffffff88);
		}
		if (*puVar6 == '\x01') {
			uVar14 = QuestStatus(6);
			if ((int)uVar14 != 0) {
				FUN_100823f4((char)uVar14, uVar18, uVar19, uVar21, uVar23, uVar26, uVar28, uVar31, in_stack_ffffff88);
			}
			uVar14 = QuestStatus(0xd);
			if ((int)uVar14 != 0) {
				FUN_10082520((char)uVar14, uVar18, uVar19, uVar21, uVar23, uVar26, uVar28, uVar31, in_stack_ffffff88);
			}
			uVar14 = QuestStatus(7);
			if ((int)uVar14 != 0) {
				AddObject(0x61, *(int *)puVar11 * 2 + 0x1a, *(int *)puVar10 * 2 + 0x13, uVar21, uVar23, uVar26, uVar28, uVar31, in_stack_ffffff88);
			}
			FUN_10082058(10, 0xf, 0x30, uVar21, uVar23, uVar26, uVar28, uVar31, in_stack_ffffff88);
			uVar18 = 0;
			uVar19 = 0x70;
			uVar21 = 0x70;
			uVar16 = AddL1Objs(0, 0, 0x70, 0x70, uVar23, uVar26, uVar28, uVar31, in_stack_ffffff88);
			FUN_10082754(uVar16, uVar18, uVar19, uVar21, uVar23, uVar26, uVar28, uVar31, in_stack_ffffff88);
		}
		if (*puVar6 == '\x02') {
			uVar14 = QuestStatus(0);
			if ((int)uVar14 != 0) {
				FUN_100821c8(1, 1, 0x17, uVar21, uVar23, uVar26, uVar28, uVar31, in_stack_ffffff88);
			}
			uVar14 = QuestStatus(0xe);
			if ((int)uVar14 != 0) {
				FUN_100821c8(1, 1, 0x29, uVar21, uVar23, uVar26, uVar28, uVar31, in_stack_ffffff88);
			}
			uVar18 = 0;
			uVar19 = 0x70;
			uVar21 = 0x70;
			uVar16 = AddL2Objs(0, 0, 0x70, 0x70, uVar23, uVar26, uVar28, uVar31, in_stack_ffffff88);
			FUN_10082b18(uVar16, uVar18, uVar19, uVar21, uVar23, uVar26, uVar28, uVar31, in_stack_ffffff88);
			uVar14 = QuestStatus(8);
			if ((int)uVar14 != 0) {
				cVar17 = puVar5[*(int *)puVar4 * 0x55ec + 0x15c];
				if (cVar17 == '\0') {
					uVar32 = 0xed;
				} else {
					if (cVar17 == '\x01') {
						uVar32 = 0xf5;
					} else {
						if (cVar17 == '\x02') {
							uVar32 = 0xf1;
						}
					}
				}
				puVar7[0xce] = (char)uVar32;
				iVar25 = *(int *)puVar10;
				uVar14 = 0x70;
				uVar1 = *(uint *)puVar11;
				uVar22 = (ulonglong)uVar1;
				uVar20 = 0x70;
				iVar27 = uVar1 + *(int *)puVar9 + 1;
				iVar30 = iVar25 + *(int *)puVar8 + 1;
				FUN_10082598(0, 0, 0x70, 0x70, uVar1, iVar25, iVar27, iVar30, in_stack_ffffff88, in_stack_ffffff8f,
				    in_stack_ffffff98, in_stack_ffffff9c, in_stack_ffffffa0, in_stack_ffffffa4, uVar32);
				uVar15 = LoadFileInMem(ZEXT48(ppuVar13[-0x16c7]), (undefined4 *)0x0, uVar14, uVar20, uVar22,
				    iVar25, iVar27, iVar30, in_stack_ffffff88);
				uVar31 = (undefined)iVar30;
				uVar28 = (undefined)iVar27;
				uVar26 = (undefined)iVar25;
				uVar23 = (undefined)uVar22;
				uVar21 = (undefined)uVar20;
				local_3c[0] = (int *)uVar15;
				uVar18 = (undefined)(*(int *)puVar11 << 1);
				uVar19 = (undefined)(*(int *)puVar10 << 1);
				FUN_1008314c(uVar15 & 0xffffffff, (ulonglong)(uint)(*(int *)puVar11 << 1),
				    (ulonglong)(uint)(*(int *)puVar10 << 1), uVar20, uVar22, iVar25, iVar27, iVar30,
				    in_stack_ffffff88);
				mem_free_dbg(local_3c, uVar18, uVar19, uVar21, uVar23, uVar26, uVar28, uVar31, in_stack_ffffff88);
			}
			uVar14 = QuestStatus(9);
			uVar16 = (undefined)uVar14;
			if ((int)uVar14 != 0) {
				cVar17 = puVar5[*(int *)puVar4 * 0x55ec + 0x15c];
				if (cVar17 == '\0') {
					uVar32 = 0xec;
				} else {
					if (cVar17 == '\x01') {
						uVar32 = 0xf4;
					} else {
						if (cVar17 == '\x02') {
							uVar32 = 0xf0;
						}
					}
				}
				puVar7[0xe6] = (char)uVar32;
				uVar1 = *(uint *)puVar11;
				uVar23 = (undefined)uVar1;
				uVar21 = 0x70;
				lVar24 = (ulonglong) * (uint *)puVar10 + 3;
				uVar26 = (undefined)lVar24;
				uVar28 = (undefined)((ulonglong)uVar1 + 2);
				lVar29 = (ulonglong) * (uint *)puVar10 + 7;
				uVar31 = (undefined)lVar29;
				FUN_10082598(0, 0, 0x70, 0x70, uVar1, (int)lVar24, (int)((ulonglong)uVar1 + 2), (int)lVar29,
				    in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff98, in_stack_ffffff9c,
				    in_stack_ffffffa0, in_stack_ffffffa4, uVar32);
				lVar24 = (ulonglong)(uint)(*(int *)puVar11 << 1) + 0x19;
				uVar18 = (undefined)lVar24;
				lVar29 = (ulonglong)(uint)(*(int *)puVar10 << 1) + 0x20;
				uVar19 = (undefined)lVar29;
				uVar16 = AddObject(0x49, (int)lVar24, (int)lVar29, uVar21, uVar23, uVar26, uVar28, uVar31,
				    in_stack_ffffff88);
			}
			FUN_10082754(uVar16, uVar18, uVar19, uVar21, uVar23, uVar26, uVar28, uVar31, in_stack_ffffff88);
		}
		if (*puVar6 == '\x03') {
			uVar18 = 0;
			uVar19 = 0x70;
			uVar21 = 0x70;
			uVar16 = FUN_10082a44(0, 0, 0x70, 0x70, uVar23, uVar26, uVar28, uVar31, in_stack_ffffff88);
			FUN_10082754(uVar16, uVar18, uVar19, uVar21, uVar23, uVar26, uVar28, uVar31, in_stack_ffffff88);
		}
		if (*puVar6 == '\x04') {
			uVar14 = QuestStatus(0xb);
			if ((int)uVar14 != 0) {
				cVar17 = puVar5[*(int *)puVar4 * 0x55ec + 0x15c];
				if (cVar17 == '\0') {
					uVar32 = 0xee;
				} else {
					if (cVar17 == '\x01') {
						uVar32 = 0xf6;
					} else {
						if (cVar17 == '\x02') {
							uVar32 = 0xf2;
						}
					}
				}
				puVar7[0x116] = (char)uVar32;
				iVar25 = *(int *)puVar10;
				uVar14 = 0x70;
				uVar1 = *(uint *)puVar11;
				uVar22 = (ulonglong)uVar1;
				uVar20 = 0x70;
				iVar27 = uVar1 + *(int *)puVar9;
				iVar30 = iVar25 + *(int *)puVar8;
				FUN_10082598(0, 0, 0x70, 0x70, uVar1, iVar25, iVar27, iVar30, in_stack_ffffff88, in_stack_ffffff8f,
				    in_stack_ffffff98, in_stack_ffffff9c, in_stack_ffffffa0, in_stack_ffffffa4, uVar32);
				uVar15 = LoadFileInMem(ZEXT48(ppuVar13[-0x16c8]), (undefined4 *)0x0, uVar14, uVar20, uVar22,
				    iVar25, iVar27, iVar30, in_stack_ffffff88);
				uVar31 = (undefined)iVar30;
				uVar28 = (undefined)iVar27;
				uVar26 = (undefined)iVar25;
				uVar23 = (undefined)uVar22;
				uVar21 = (undefined)uVar20;
				local_3c[0] = (int *)uVar15;
				uVar18 = (undefined)(*(int *)puVar11 << 1);
				uVar19 = (undefined)(*(int *)puVar10 << 1);
				FUN_1008314c(uVar15 & 0xffffffff, (ulonglong)(uint)(*(int *)puVar11 << 1),
				    (ulonglong)(uint)(*(int *)puVar10 << 1), uVar20, uVar22, iVar25, iVar27, iVar30,
				    in_stack_ffffff88);
				mem_free_dbg(local_3c, uVar18, uVar19, uVar21, uVar23, uVar26, uVar28, uVar31, in_stack_ffffff88);
			}
			uVar14 = QuestStatus(0xf);
			uVar16 = (undefined)uVar14;
			if (((int)uVar14 != 0) && (*puVar2 == '\x01')) {
				uVar16 = FUN_100836ac(uVar16, uVar18, uVar19, uVar21, uVar23, uVar26, uVar28, uVar31,
				    in_stack_ffffff88);
			}
			uVar16 = FUN_10082754(uVar16, uVar18, uVar19, uVar21, uVar23, uVar26, uVar28, uVar31,
			    in_stack_ffffff88);
			FUN_100835f8(uVar16, uVar18, uVar19, uVar21, uVar23, uVar26, uVar28, uVar31, in_stack_ffffff88);
		}
		FUN_10081f24(5, 10, 5, uVar21, uVar23, uVar26, uVar28, uVar31, in_stack_ffffff88);
		FUN_10081f24(3, 6, 6, uVar21, uVar23, uVar26, uVar28, uVar31, in_stack_ffffff88);
		uVar19 = 5;
		uVar16 = 7;
		uVar18 = FUN_10081f24(1, 5, 7, uVar21, uVar23, uVar26, uVar28, uVar31, in_stack_ffffff88);
		if (*puVar6 != '\x04') {
			uVar18 = FUN_10082cd8(uVar18, uVar19, uVar16, uVar21, uVar23, uVar26, uVar28, uVar31,
			    in_stack_ffffff88);
		}
		if (1 < (byte)*puVar6) {
			FUN_10082f28(uVar18, uVar19, uVar16, uVar21, uVar23, uVar26, uVar28, uVar31, in_stack_ffffff88);
		}
		*(undefined4 *)puVar12 = 0;
	}
	return;
}

void FUN_10083ca0(longlong param_1, longlong param_2, longlong param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	byte bVar1;
	byte *pbVar2;
	uint uVar3;
	int iVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	int iVar9;
	undefined4 uVar10;
	ulonglong uVar11;
	ulonglong uVar12;
	int iVar15;
	longlong lVar13;
	ulonglong uVar14;
	longlong lVar16;
	longlong lVar17;
	ulonglong uVar18;
	char *pcVar20;
	longlong lVar19;
	undefined8 uVar21;
	longlong lVar22;
	longlong lVar23;
	longlong lVar24;
	undefined8 unaff_r18;
	longlong lVar25;
	undefined8 unaff_r19;
	longlong lVar26;
	undefined8 unaff_r20;
	undefined8 unaff_r21;
	undefined8 unaff_r22;
	undefined8 unaff_r23;
	undefined8 unaff_r24;
	undefined8 unaff_r25;
	uint *puVar27;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	uint uVar28;
	undefined8 unaff_r31;
	undefined4 in_stack_fffffe88;
	undefined in_stack_fffffe8f;
	undefined4 in_stack_fffffe9c;
	undefined4 in_stack_fffffea0;
	undefined4 in_stack_fffffea4;
	undefined4 in_stack_fffffea8;
	undefined4 in_stack_fffffeac;
	undefined4 in_stack_fffffeb0;
	undefined4 in_stack_fffffeb4;
	undefined auStack320[32];
	undefined4 local_120;
	undefined4 local_11c;
	undefined4 local_118;
	undefined4 local_114;
	undefined4 local_110;
	undefined4 local_10c;
	undefined4 local_108;
	undefined4 local_104;
	undefined4 local_100;
	undefined4 local_fc;
	undefined4 local_f8;
	undefined4 local_f4;
	undefined4 local_f0;
	undefined4 local_ec;
	undefined4 local_e8;
	undefined4 local_e4;
	undefined4 local_e0;
	undefined4 local_dc;
	undefined4 local_d8;
	undefined4 local_d4;
	undefined4 local_d0;
	undefined4 local_cc;
	undefined4 local_c8;
	undefined4 local_c4;
	undefined4 local_c0;
	undefined4 local_bc;
	undefined4 local_b8;
	undefined4 local_b4;
	undefined4 local_b0;
	undefined4 local_ac;
	undefined4 local_a8;
	undefined4 local_a4;
	undefined4 local_a0;
	undefined4 local_9c;
	undefined4 local_98;
	undefined4 local_94;
	undefined4 local_90;
	undefined4 local_8c;
	undefined4 local_88;
	undefined4 local_84;
	undefined4 local_80;
	undefined4 local_7c;
	undefined4 local_78;
	undefined4 local_74;
	undefined4 local_70;
	undefined4 local_6c;
	undefined4 local_68;
	undefined4 local_64;
	undefined4 local_60;
	undefined4 local_5c;
	undefined4 local_58;
	undefined4 local_54;
	undefined4 local_50;
	undefined4 local_4c;
	undefined4 local_48;
	undefined4 local_44;
	undefined4 local_38;
	undefined4 uStack52;
	undefined4 uStack48;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	uVar10 = _DAT_100f34d0;
	iVar9 = _DAT_100f34cc;
	puVar8 = PTR_DAT_100f2008;
	puVar7 = PTR_DAT_100f1ff8;
	puVar6 = PTR_DAT_100f1fe8;
	puVar5 = PTR_DAT_100f1fe4;
	lVar24 = (longlong)param_8;
	lVar23 = (longlong)param_7;
	lVar22 = (longlong)param_6;
	uVar11 = ZEXT48(register0x0000000c);
	uVar14 = ZEXT48(&toc);
	local_38 = (undefined4)((ulonglong)unaff_r18 >> 0x20);
	uStack52 = (undefined4)((ulonglong)unaff_r19 >> 0x20);
	uStack48 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar12 = FUN_100b8f7c(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_fffffe88);
	FUN_100822b0();
	pbVar2 = *(byte **)((int)uVar14 + -0x7794);
	*(undefined4 *)puVar6 = 1;
	lVar26 = uVar11 - 0x120;
	local_120 = 0;
	local_11c = 0;
	local_118 = 0;
	local_114 = 0;
	local_110 = 0;
	local_10c = 0;
	local_108 = 0;
	local_104 = 0;
	local_100 = 0;
	local_fc = 0;
	local_f8 = 0;
	local_f4 = 0;
	local_f0 = 0;
	local_ec = 0;
	local_e8 = 0;
	local_e4 = 0;
	local_e0 = 0;
	local_dc = 0;
	local_d8 = 0;
	local_d4 = 0;
	local_d0 = 0;
	local_cc = 0;
	local_c8 = 0;
	local_c4 = 0;
	local_c0 = 0;
	local_bc = 0;
	local_b8 = 0;
	local_b4 = 0;
	local_b0 = 0;
	local_ac = 0;
	local_a8 = 0;
	local_a4 = 0;
	local_a0 = 0;
	local_9c = 0;
	local_98 = 0;
	local_94 = 0;
	local_90 = 0;
	local_8c = 0;
	local_88 = 0;
	local_84 = 0;
	local_80 = 0;
	local_7c = 0;
	local_78 = 0;
	local_74 = 0;
	local_70 = 0;
	local_6c = 0;
	local_68 = 0;
	local_64 = 0;
	local_60 = 0;
	local_5c = 0;
	local_58 = 0;
	local_54 = 0;
	local_50 = 0;
	local_4c = 0;
	local_48 = 0;
	local_44 = 0;
	bVar1 = *pbVar2;
	pcVar20 = puVar8;
	while (*pcVar20 != -1) {
		if ((*pcVar20 == '\x01') && ((uint)bVar1 == (int)pcVar20[4])) {
			*(undefined4 *)((int)lVar26 + (int)pcVar20[1] * 4) = 1;
		}
		pcVar20 = pcVar20 + 0x2c;
	}
	bVar1 = *(byte *)uVar12;
	uVar18 = uVar11 - 0x120;
	iVar15 = 0;
	uVar28 = (uint)((byte *)uVar12)[2];
	uVar3 = (uint)bVar1 * 2;
	iVar4 = uVar28 * 2;
	lVar19 = (ulonglong)((uint)bVar1 * uVar28 * 2) + 2 + (ulonglong)(uVar3 * iVar4 * 4);
	lVar16 = uVar12 + 2 + lVar19;
	uVar21 = 1;
	lVar17 = lVar16;
	while (iVar15 < iVar4) {
		uVar12 = (ulonglong)uVar3;
		if (bVar1 != 0) {
			do {
				if (*(byte *)lVar17 != 0) {
					lVar19 = (ulonglong) * (uint *)(puVar5 + (uint) * (byte *)lVar17 * 4) * 0x2c;
					*(undefined4 *)((int)uVar18 + (int)(char)puVar8[(int)lVar19 + 1] * 4) = 1;
				}
				lVar17 = lVar17 + 2;
				uVar12 = uVar12 - 1;
			} while (uVar12 != 0);
		}
		iVar15 = iVar15 + 1;
	}
	lVar25 = 0;
	puVar27 = *(uint **)((int)uVar14 + -0x6fd4);
	do {
		if (*(int *)lVar26 != 0) {
			puVar7[*(int *)((int)uVar14 + -0x4cc8)] = (char)lVar25;
			uVar18 = (ulonglong)*puVar27;
			sprintf((int)auStack320, uVar10, *puVar27, (int)lVar19, (int)uVar21, (int)lVar22, (int)lVar23,
			    (int)lVar24, in_stack_fffffe88, in_stack_fffffe8f, in_stack_fffffe9c,
			    in_stack_fffffea0, in_stack_fffffea4, in_stack_fffffea8, in_stack_fffffeac,
			    in_stack_fffffeb0, in_stack_fffffeb4);
			lVar17 = 0;
			lVar13 = LoadFileInMem(uVar11 - 0x140, (undefined4 *)0x0, uVar18, lVar19, uVar21, (int)lVar22,
			    (int)lVar23, (int)lVar24, in_stack_fffffe88);
			iVar15 = (int)uVar14;
			*(undefined4 *)(iVar9 + *(int *)(iVar15 + -0x4cc8) * 4) = (int)lVar13;
			*(int *)(iVar15 + -0x4cc8) = *(int *)(iVar15 + -0x4cc8) + 1;
		}
		lVar25 = lVar25 + 1;
		puVar27 = puVar27 + 1;
		lVar26 = lVar26 + 4;
	} while ((int)lVar25 < 0x38);
	lVar26 = 0;
	while ((int)lVar26 < iVar4) {
		uVar14 = lVar26 + param_3 + 0x10;
		lVar25 = 0;
		while ((int)lVar25 < (int)uVar3) {
			if (*(byte *)lVar16 != 0) {
				lVar17 = lVar25 + param_2 + 0x10;
				uVar18 = uVar14;
				AddObject(*(uint *)(puVar5 + (uint) * (byte *)lVar16 * 4), (int)lVar17, (int)uVar14,
				    (char)lVar19, (char)uVar21, (char)lVar22, (char)lVar23, (char)lVar24,
				    in_stack_fffffe88);
			}
			lVar16 = lVar16 + 2;
			lVar25 = lVar25 + 1;
		}
		lVar26 = lVar26 + 1;
	}
	FUN_100b9100((int)param_1, (char)lVar17, (char)uVar18, (char)lVar19, (char)uVar21, (char)lVar22,
	    (char)lVar23, (char)lVar24, in_stack_fffffe88);
	*(undefined4 *)puVar6 = 0;
	return;
}

void FUN_10083fa4(int param_1, int param_2)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;

	puVar4 = PTR_DAT_100f1e7c;
	puVar3 = PTR_DAT_100f1e40;
	puVar2 = PTR_DAT_100f1e3c;
	*(undefined *)(*(int *)PTR_DAT_100f194c + *(int *)(PTR_DAT_100f1948 + param_1 * 0x78 + 4) * 0x70 + *(int *)(PTR_DAT_100f1948 + param_1 * 0x78 + 8)) = 0;
	*(int *)(puVar4 + (0x7f - *(int *)puVar2) * 4) = param_1;
	*(int *)puVar2 = *(int *)puVar2 + -1;
	iVar1 = *(int *)puVar2;
	if (iVar1 < 1) {
		return;
	}
	if (param_2 == iVar1) {
		return;
	}
	*(undefined4 *)(puVar3 + param_2 * 4) = *(undefined4 *)(puVar3 + iVar1 * 4);
	return;
}

void FUN_10084020(int param_1, undefined4 param_2, undefined4 param_3, int param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	uint uVar1;
	undefined *puVar3;
	longlong lVar2;
	int iVar4;
	undefined *puVar5;
	undefined uVar7;
	undefined *puVar6;
	undefined uVar8;
	ulonglong uVar9;
	undefined uVar10;
	undefined *puVar11;
	int iVar12;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined in_stack_ffffffcb;

	puVar6 = PTR_DAT_100f2008;
	puVar5 = PTR_DAT_100f1948;
	uVar8 = (undefined)param_4;
	uVar7 = (undefined)param_3;
	param_1 = param_1 * 0x78;
	uVar9 = ZEXT48(PTR_DAT_100f1ff8);
	puVar3 = PTR_DAT_100f1948 + param_1;
	iVar12 = param_4 * 0x2c;
	*(int *)(PTR_DAT_100f1948 + param_1) = param_4;
	*(undefined4 *)(puVar3 + 4) = param_2;
	iVar4 = 0;
	*(undefined4 *)(puVar3 + 8) = param_3;
	while (uVar10 = (undefined)uVar9, *(char *)uVar9 != puVar6[iVar12 + 1]) {
		uVar9 = uVar9 + 1;
		iVar4 = iVar4 + 1;
	}
	puVar3 = puVar5 + param_1;
	puVar11 = puVar6 + iVar12;
	*(undefined4 *)(puVar3 + 0x14) = *(undefined4 *)(_DAT_100f34cc + iVar4 * 4);
	*(undefined4 *)(puVar3 + 0x10) = *(undefined4 *)(puVar11 + 8);
	if (*(int *)(puVar3 + 0x10) == 0) {
		*(undefined4 *)(puVar3 + 0x18) = 1000;
		*(undefined4 *)(puVar3 + 0x1c) = 0;
		*(undefined4 *)(puVar3 + 0x20) = *(undefined4 *)(puVar11 + 0x10);
		*(undefined4 *)(puVar3 + 0x24) = *(undefined4 *)(puVar11 + 0xc);
	} else {
		uVar1 = *(uint *)(puVar11 + 0xc);
		*(uint *)(puVar3 + 0x18) = uVar1;
		lVar2 = random(0x92, (ulonglong)uVar1, uVar7, uVar8, uVar10, param_6, param_7, param_8,
		    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb);
		*(int *)(puVar3 + 0x1c) = (int)lVar2;
		uVar1 = *(uint *)(puVar11 + 0x10);
		*(uint *)(puVar3 + 0x20) = uVar1;
		lVar2 = random(0x92, (ulonglong)uVar1 - 1, uVar7, uVar8, uVar10, param_6, param_7, param_8,
		    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb);
		*(int *)(puVar3 + 0x24) = (int)lVar2 + 1;
	}
	puVar6 = puVar6 + iVar12;
	puVar5 = puVar5 + param_1;
	*(undefined4 *)(puVar5 + 0x28) = *(undefined4 *)(puVar6 + 0x14);
	*(undefined4 *)(puVar5 + 0x38) = *(undefined4 *)(puVar6 + 0x18);
	*(undefined4 *)(puVar5 + 0x3c) = *(undefined4 *)(puVar6 + 0x1c);
	*(undefined4 *)(puVar5 + 0xc) = *(undefined4 *)(puVar6 + 0x20);
	*(undefined4 *)(puVar5 + 0x30) = 0;
	puVar5[0x34] = puVar6[0x24];
	puVar5[0x40] = puVar6[0x25];
	*(undefined4 *)(puVar5 + 0x44) = 0;
	*(undefined4 *)(puVar5 + 0x48) = 0;
	*(undefined4 *)(puVar5 + 0x4c) = 0;
	return;
}

void FUN_10084160(int param_1, undefined4 param_2, undefined4 param_3, undefined4 param_4,
    undefined4 param_5, undefined4 param_6)

{
	undefined *puVar1;

	puVar1 = PTR_DAT_100f1948 + param_1 * 0x78;
	*(undefined4 *)(puVar1 + 0x58) = param_2;
	*(undefined4 *)(puVar1 + 0x5c) = param_3;
	*(undefined4 *)(puVar1 + 0x60) = param_4;
	*(undefined4 *)(puVar1 + 100) = param_5;
	*(undefined4 *)(puVar1 + 0x74) = param_6;
	return;
}

void FUN_10084184(int param_1, undefined4 param_2)

{
	*(undefined4 *)(PTR_DAT_100f1948 + param_1 * 0x78 + 0x70) = param_2;
	return;
}

void FUN_10084198(int param_1, int param_2, int param_3, int param_4)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;

	puVar3 = PTR_DAT_100f1a54;
	puVar2 = PTR_DAT_100f1948;
	puVar4 = PTR_DAT_100f1948 + param_1 * 0x78;
	*(undefined4 *)(puVar4 + 0x4c) = 1;
	if (param_4 == 1) {
		iVar1 = *(int *)puVar3;
		*(int *)(puVar4 + 0x58) = (int)*(short *)(iVar1 + param_2 * 0xe0 + param_3 * 2);
		*(int *)(puVar4 + 0x5c) = (int)*(short *)(iVar1 + param_2 * 0xe0 + param_3 * 2 + -2);
	} else {
		iVar1 = *(int *)puVar3;
		*(int *)(puVar4 + 0x58) = (int)*(short *)(iVar1 + param_2 * 0xe0 + param_3 * 2);
		*(int *)(puVar4 + 0x5c) = (int)*(short *)(iVar1 + param_2 * 0xe0 + param_3 * 2 + -0xe0);
	}
	*(undefined4 *)(puVar2 + param_1 * 0x78 + 100) = 0;
	return;
}

void FUN_1008421c(int param_1)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;

	puVar5 = PTR_DAT_100f1a80;
	iVar1 = *(int *)PTR_DAT_100f1a84;
	puVar6 = PTR_DAT_100f1948 + param_1 * 0x78;
	*(int *)(puVar6 + 0x58) = iVar1;
	puVar4 = PTR_DAT_100f1a7c;
	puVar3 = PTR_DAT_100f1a78;
	iVar2 = *(int *)puVar5;
	*(int *)(puVar6 + 0x5c) = iVar2;
	*(int *)(puVar6 + 0x60) = iVar1 + *(int *)puVar4 + 1;
	*(int *)(puVar6 + 100) = iVar2 + *(int *)puVar3 + 1;
	*(int *)(puVar6 + 0x6c) = *(int *)(puVar6 + 0x24) + 1;
	return;
}

void FUN_10084278(int param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	longlong lVar5;
	undefined4 uVar6;
	undefined uVar7;
	ulonglong uVar8;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined in_stack_ffffffcb;

	puVar4 = PTR_DAT_100f1948;
	puVar3 = PTR_DAT_100f17f8;
	uVar8 = ZEXT48(PTR_DAT_100f1948);
	uVar7 = 2;
	lVar5 = random(0x93, 2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8,
	    in_stack_ffffffbf, in_stack_ffffffcb);
	lVar5._7_1_ = (undefined)lVar5;
	if ((int)lVar5 == 0) {
		lVar5 = uVar8 + (longlong)param_1 * 0x78;
		uVar7 = (undefined)lVar5;
		iVar2 = (int)lVar5;
		iVar1 = *(int *)(iVar2 + 0x24);
		lVar5._7_1_ = (undefined)iVar1;
		*(int *)(iVar2 + 0x24) = iVar1 + 3;
	}
	uVar6 = GetRndSeed((undefined)lVar5, uVar7, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	param_1 = param_1 * 0x78;
	*(undefined4 *)(puVar4 + param_1 + 0x54) = uVar6;
	if (param_2 == 0x44) {
	LAB_1008431c:
		if (*puVar3 == '\0') {
			lVar5 = random(0x93, 2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8,
			    in_stack_ffffffbf, in_stack_ffffffcb);
			*(int *)(puVar4 + param_1 + 0x58) = (int)lVar5;
		} else {
			*(undefined4 *)(puVar4 + param_1 + 0x58) = 1;
		}
	} else {
		if (param_2 < 0x44) {
			if (param_2 != 6) {
				if (5 < param_2) {
					if (7 < param_2)
						goto LAB_100843b4;
					goto LAB_10084384;
				}
				if (param_2 < 5)
					goto LAB_100843b4;
				goto LAB_1008431c;
			}
		} else {
			if (param_2 == 0x46) {
			LAB_10084384:
				if (*puVar3 == '\0') {
					lVar5 = random(0x93, 4, param_3, param_4, param_5, param_6, param_7, param_8,
					    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb);
					*(int *)(puVar4 + param_1 + 0x58) = (int)lVar5;
				} else {
					*(undefined4 *)(puVar4 + param_1 + 0x58) = 3;
				}
				goto LAB_100843b4;
			}
			if (0x45 < param_2)
				goto LAB_100843b4;
		}
		if (*puVar3 == '\0') {
			lVar5 = random(0x93, 3, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8,
			    in_stack_ffffffbf, in_stack_ffffffcb);
			*(int *)(puVar4 + param_1 + 0x58) = (int)lVar5;
		} else {
			*(undefined4 *)(puVar4 + param_1 + 0x58) = 2;
		}
	}
LAB_100843b4:
	lVar5 = random(0x93, 8, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8,
	    in_stack_ffffffbf, in_stack_ffffffcb);
	*(int *)(puVar4 + param_1 + 0x5c) = (int)lVar5;
	return;
}

void FUN_100843e8(int param_1, longlong param_2, int param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined4 in_stack_ffffffc8;

	puVar1 = PTR_DAT_100f1948;
	*(undefined4 *)(PTR_DAT_100f1948 + param_1 * 0x78 + 0x4c) = 1;
	if ((int)param_4 == 0x2a) {
		FUN_1008610c(param_2, param_3, 0x21a, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	} else {
		FUN_1008610c(param_2, param_3, 0x21c, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	*(undefined4 *)(puVar1 + param_1 * 0x78 + 100) = 0;
	return;
}

void FUN_10084460(int param_1, longlong param_2, int param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined4 in_stack_ffffffc8;

	puVar1 = PTR_DAT_100f1948;
	*(undefined4 *)(PTR_DAT_100f1948 + param_1 * 0x78 + 0x4c) = 1;
	if ((int)param_4 == 0x4a) {
		FUN_1008610c(param_2, param_3, 0x213, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	} else {
		FUN_1008610c(param_2, param_3, 0x216, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	*(undefined4 *)(puVar1 + param_1 * 0x78 + 100) = 0;
	return;
}

void FUN_100844d8(undefined8 param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	longlong lVar2;
	undefined4 uVar4;
	ulonglong uVar3;
	undefined uVar5;
	undefined uVar6;
	char cVar7;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined1 in_stack_ffffffcb;

	cVar7 = -1 - (char)param_1;
	puVar1 = PTR_DAT_100f1948 + (int)param_1 * 0x78;
	uVar6 = (undefined) * (int *)PTR_DAT_100f194c;
	*(char *)(*(int *)PTR_DAT_100f194c + *(int *)(puVar1 + 4) * 0x70 + *(int *)(puVar1 + 8) + -1) = cVar7;
	uVar5 = 10;
	lVar2 = random(0x99, 10, uVar6, cVar7, param_5, param_6, param_7, param_8, in_stack_ffffffb8,
	    in_stack_ffffffbf, in_stack_ffffffcb);
	*(int *)(puVar1 + 0x58) = (int)lVar2;
	uVar4 = GetRndSeed((char)lVar2, uVar5, uVar6, cVar7, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	*(undefined4 *)(puVar1 + 0x54) = uVar4;
	if (7 < *(int *)(puVar1 + 0x58)) {
		uVar3 = FUN_100767dc((char)uVar4, uVar5, uVar6, cVar7, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8);
		*(int *)(puVar1 + 0x5c) = (int)uVar3;
	}
	return;
}

void FUN_10084568(int param_1)

{
	undefined *puVar1;
	undefined *puVar2;

	puVar1 = PTR_DAT_100f1ff0;
	puVar2 = PTR_DAT_100f1948 + param_1 * 0x78;
	*(undefined4 *)(puVar2 + 0x58) = *(undefined4 *)PTR_DAT_100f1ff4;
	*(undefined4 *)(puVar2 + 0x5c) = 0;
	*(undefined4 *)(puVar2 + 0x60) = *(undefined4 *)puVar1;
	*(undefined4 *)(puVar2 + 100) = 0;
	return;
}

void FUN_1008459c(int param_1)

{
	undefined *puVar1;

	puVar1 = PTR_DAT_100f1948 + param_1 * 0x78;
	*(undefined4 *)(puVar1 + 0x58) = *(undefined4 *)PTR_DAT_100f1ff4;
	*(undefined4 *)(puVar1 + 0x5c) = 0x31;
	return;
}

void FUN_100845c0(int param_1, undefined4 param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11)

{
	undefined *puVar1;
	longlong lVar2;
	int iVar3;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined1 in_stack_ffffffdb;

	puVar1 = PTR_DAT_100f1948;
	lVar2 = random(0x94, (longlong)((int)(uint)(byte)*PTR_DAT_100f17ec / 3) + (ulonglong)((uint)((int)(uint)(byte)*PTR_DAT_100f17ec / 3) >> 0x1f) + 1,
	    (char)PTR_DAT_100f17ec, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffdb);
	iVar3 = (int)lVar2;
	if (iVar3 == 0) {
		*(undefined4 *)(puVar1 + param_1 * 0x78 + 0x60) = 0;
	}
	if (iVar3 == 1) {
		*(undefined4 *)(puVar1 + param_1 * 0x78 + 0x60) = 1;
	}
	if (iVar3 == 2) {
		*(undefined4 *)(puVar1 + param_1 * 0x78 + 0x60) = 7;
	}
	*(undefined4 *)(puVar1 + param_1 * 0x78 + 100) = 0;
	return;
}

void FUN_10084678(int param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined4 in_stack_ffffffc8;

	if (*(int *)PTR_DAT_100f1fe8 == 0) {
		*(undefined4 *)(PTR_DAT_100f1948 + param_1 * 0x78 + 0x58) = 0;
	} else {
		puVar1 = PTR_DAT_100f1948 + param_1 * 0x78;
		DoLighting((ulonglong) * (uint *)(puVar1 + 4), (ulonglong) * (uint *)(puVar1 + 8), param_2, -1,
		    param_5, param_6, param_7, param_8, in_stack_ffffffc8);
		*(undefined4 *)(puVar1 + 0x58) = 0xffffffff;
	}
	return;
}

void FUN_100846e8(int param_1, undefined4 param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11)

{
	undefined *puVar1;
	undefined4 uVar4;
	longlong lVar2;
	ulonglong uVar3;
	undefined uVar5;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined in_stack_ffffffdb;

	puVar1 = PTR_DAT_100f1948 + (int)((longlong)param_1 * 0x78);
	*(undefined4 *)(puVar1 + 0x58) = 0;
	uVar4 = GetRndSeed((char)((longlong)param_1 * 0x78), (undefined)param_2, param_3, param_4, param_5,
	    param_6, param_7, param_8, in_stack_ffffffc8);
	*(undefined4 *)(puVar1 + 0x54) = uVar4;
	lVar2 = random(0x95, 10, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8,
	    in_stack_ffffffcf, in_stack_ffffffdb);
	*(int *)(puVar1 + 0x5c) = (int)lVar2;
	uVar5 = 3;
	lVar2 = random(0x95, 3, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8,
	    in_stack_ffffffcf, in_stack_ffffffdb);
	*(int *)(puVar1 + 0x60) = (int)lVar2;
	if (7 < *(int *)(puVar1 + 0x5c)) {
		uVar3 = FUN_100767dc((char)lVar2, uVar5, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
		*(int *)(puVar1 + 100) = (int)uVar3;
	}
	return;
}

void FUN_1008476c(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, char param_8,
    undefined4 param_9)

{
	byte bVar1;
	char cVar2;
	undefined *puVar3;
	undefined *puVar4;
	ulonglong uVar5;
	char *pcVar6;
	ulonglong uVar7;
	ulonglong uVar8;
	longlong lVar9;
	undefined4 *puVar10;
	longlong lVar11;
	longlong lVar12;
	undefined *puVar13;
	longlong lVar14;
	undefined4 in_stack_ffffff58;
	undefined in_stack_ffffff5f;
	undefined in_stack_ffffff6b;
	int local_78[30];

	puVar13 = PTR_DAT_100f1948;
	puVar4 = PTR_DAT_100f17ec;
	puVar3 = PTR_DAT_100f17e0;
	lVar12 = (longlong)param_8;
	lVar11 = 0;
	uVar7 = ZEXT48(PTR_DAT_100f34ac);
	uVar8 = ZEXT48(PTR_DAT_100f34a8);
	*(undefined4 *)(PTR_DAT_100f1948 + param_1 * 0x78 + 0x44) = 1;
	lVar14 = 0xd;
	uVar5 = ZEXT48(PTR_DAT_100f34a4);
	bVar1 = *puVar4;
	cVar2 = *puVar3;
	lVar9 = ZEXT48(register0x0000000c) - 0x78;
	do {
		puVar10 = (undefined4 *)lVar9;
		if (((int)(uint)bVar1 < (int)*(char *)uVar7) || ((int)*(char *)uVar8 < (int)(uint)bVar1)) {
			*puVar10 = 0;
		} else {
			*puVar10 = 1;
		}
		pcVar6 = (char *)uVar5;
		if ((cVar2 != '\x01') && (*pcVar6 == '\x01')) {
			*puVar10 = 0;
		}
		if ((cVar2 == '\x01') && (*pcVar6 == '\x02')) {
			*puVar10 = 0;
		}
		puVar10 = puVar10 + 1;
		if (((int)(uint)bVar1 < (int)((char *)uVar7)[1]) || ((int)((char *)uVar8)[1] < (int)(uint)bVar1)) {
			*puVar10 = 0;
		} else {
			*puVar10 = 1;
		}
		if ((cVar2 != '\x01') && (pcVar6[1] == '\x01')) {
			*puVar10 = 0;
		}
		if ((cVar2 == '\x01') && (pcVar6[1] == '\x02')) {
			*puVar10 = 0;
		}
		uVar7 = uVar7 + 2;
		uVar8 = uVar8 + 2;
		lVar9 = lVar9 + 8;
		uVar5 = uVar5 + 2;
		lVar11 = lVar11 + 1;
		lVar14 = lVar14 + -1;
	} while (lVar14 != 0);
	do {
		lVar14 = random(0x96, 0x1a, (char)uVar5, (char)uVar7, (char)uVar8, (char)lVar9, (char)lVar11,
		    (char)lVar12, in_stack_ffffff58, in_stack_ffffff5f, in_stack_ffffff6b);
	} while (local_78[(int)lVar14] == 0);
	puVar13 = puVar13 + param_1 * 0x78;
	*(int *)(puVar13 + 0x58) = (int)lVar14;
	lVar9 = random(0x96, 2, (char)uVar5, (char)uVar7, (char)uVar8, (char)lVar9, (char)lVar11,
	    (char)lVar12, in_stack_ffffff58, in_stack_ffffff5f, in_stack_ffffff6b);
	if ((int)lVar9 != 0) {
		*(undefined4 *)(puVar13 + 0x24) = 0xc;
		*(undefined4 *)(puVar13 + 0x20) = 0x16;
	}
	return;
}

void FUN_10084928(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined4 uVar2;
	undefined4 in_stack_ffffffc8;

	puVar1 = PTR_DAT_100f1948;
	uVar2 = GetRndSeed((char)param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	*(undefined4 *)(puVar1 + param_1 * 0x78 + 0x54) = uVar2;
	*(undefined4 *)(puVar1 + param_1 * 0x78 + 0x44) = 1;
	return;
}

void FUN_10084974(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 uVar2;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	uVar2 = GetRndSeed((char)param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	*(undefined4 *)(ppuVar1[-0x1da2] + param_1 * 0x78 + 0x54) = uVar2;
	return;
}

void FUN_100849b0(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 uVar2;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	uVar2 = GetRndSeed((char)param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	*(undefined4 *)(ppuVar1[-0x1da2] + param_1 * 0x78 + 0x54) = uVar2;
	return;
}

void FUN_100849ec(undefined8 param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	undefined *puVar3;
	char cVar6;
	longlong lVar4;
	undefined4 uVar5;
	longlong lVar7;
	undefined4 in_stack_ffffffc8;

	puVar3 = PTR_DAT_100f194c;
	puVar2 = PTR_DAT_100f1948 + (int)param_1 * 0x78;
	cVar6 = -1 - (char)param_1;
	lVar7 = (ulonglong) * (uint *)(puVar2 + 4) * 0x70;
	uVar1 = *(uint *)(puVar2 + 8);
	*(char *)(*(int *)PTR_DAT_100f194c + (int)lVar7 + uVar1 + -1) = cVar6;
	*(char *)(*(int *)puVar3 + (int)lVar7 + uVar1 + -0x70) = cVar6;
	lVar4 = (ulonglong) * (uint *)puVar3 + lVar7 + (ulonglong)uVar1;
	*(char *)((int)lVar4 + -0x71) = cVar6;
	uVar5 = GetRndSeed((char)lVar4, cVar6, (char)puVar3, (char)lVar7, (char)uVar1, param_6, param_7,
	    param_8, in_stack_ffffffc8);
	*(undefined4 *)(puVar2 + 0x54) = uVar5;
	return;
}

void FUN_10084a70(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined uVar6;
	longlong lVar4;
	undefined4 uVar5;
	undefined4 in_stack_ffffffc8;

	puVar3 = PTR_DAT_100f1fe0;
	puVar2 = PTR_DAT_100f1948;
	uVar6 = (undefined)param_1;
	if (*(int *)PTR_DAT_100f1fe0 == 0) {
		lVar4 = ZEXT48(PTR_DAT_100f1948) + (longlong)param_1 * 0x78;
		uVar6 = (undefined)lVar4;
		iVar1 = (int)lVar4;
		*(undefined4 *)(iVar1 + 0x10) = 2;
		*(undefined *)(iVar1 + 0x40) = 0;
	}
	uVar5 = GetRndSeed(uVar6, (char)puVar3, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	*(undefined4 *)(puVar2 + param_1 * 0x78 + 0x54) = uVar5;
	return;
}

void FUN_10084adc(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 uVar2;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	uVar2 = GetRndSeed((char)param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	*(undefined4 *)(ppuVar1[-0x1da2] + param_1 * 0x78 + 0x54) = uVar2;
	return;
}

void FUN_10084b18(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 uVar2;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	uVar2 = GetRndSeed((char)param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	*(undefined4 *)(ppuVar1[-0x1da2] + param_1 * 0x78 + 0x54) = uVar2;
	return;
}

void FUN_10084b54(undefined8 param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	undefined *puVar3;
	char cVar6;
	longlong lVar4;
	undefined4 uVar5;
	longlong lVar7;
	undefined4 in_stack_ffffffc8;

	puVar3 = PTR_DAT_100f194c;
	puVar2 = PTR_DAT_100f1948 + (int)param_1 * 0x78;
	cVar6 = -1 - (char)param_1;
	lVar7 = (ulonglong) * (uint *)(puVar2 + 4) * 0x70;
	uVar1 = *(uint *)(puVar2 + 8);
	*(char *)(*(int *)PTR_DAT_100f194c + (int)lVar7 + uVar1 + -1) = cVar6;
	*(char *)(*(int *)puVar3 + (int)lVar7 + uVar1 + -0x70) = cVar6;
	lVar4 = (ulonglong) * (uint *)puVar3 + lVar7 + (ulonglong)uVar1;
	*(char *)((int)lVar4 + -0x71) = cVar6;
	uVar5 = GetRndSeed((char)lVar4, cVar6, (char)puVar3, (char)lVar7, (char)uVar1, param_6, param_7,
	    param_8, in_stack_ffffffc8);
	*(undefined4 *)(puVar2 + 0x54) = uVar5;
	return;
}

void FUN_10084bd8(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 uVar2;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	uVar2 = GetRndSeed((char)param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	*(undefined4 *)(ppuVar1[-0x1da2] + param_1 * 0x78 + 0x54) = uVar2;
	return;
}

void FUN_10084c14(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 uVar2;
	longlong lVar1;
	undefined *puVar3;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined in_stack_ffffffdb;

	puVar3 = PTR_DAT_100f1948;
	uVar2 = GetRndSeed((char)param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	puVar3 = puVar3 + param_1 * 0x78;
	*(undefined4 *)(puVar3 + 0x54) = uVar2;
	lVar1 = random(0x97, 8, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8,
	    in_stack_ffffffcf, in_stack_ffffffdb);
	*(int *)(puVar3 + 0x24) = (int)lVar1 + 1;
	*(undefined4 *)(puVar3 + 0x44) = 1;
	return;
}

void FUN_10084c74(int param_1)

{
	if (*PTR_DAT_100f17f8 == '\0') {
		return;
	}
	if (*PTR_DAT_100f17f0 != '\x05') {
		return;
	}
	*(undefined4 *)(PTR_DAT_100f1948 + param_1 * 0x78 + 0x24) = 4;
	return;
}

void FUN_10084cac(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 uVar1;
	undefined *puVar2;
	undefined4 in_stack_ffffffc8;

	puVar2 = PTR_DAT_100f1948;
	uVar1 = GetRndSeed((char)param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	puVar2 = puVar2 + param_1 * 0x78;
	*(undefined4 *)(puVar2 + 0x54) = uVar1;
	*(undefined4 *)(puVar2 + 0x44) = 1;
	*(undefined4 *)(puVar2 + 0x6c) = 0;
	*(undefined4 *)(puVar2 + 0x68) = 1;
	return;
}

void FUN_10084d04(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 uVar2;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	uVar2 = GetRndSeed((char)param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	*(undefined4 *)(ppuVar1[-0x1da2] + param_1 * 0x78 + 0x54) = uVar2;
	return;
}

void FUN_10084d40(int param_1)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;

	puVar5 = PTR_DAT_100f1a80;
	iVar1 = *(int *)PTR_DAT_100f1a84;
	puVar6 = PTR_DAT_100f1948 + param_1 * 0x78;
	*(int *)(puVar6 + 0x58) = iVar1;
	puVar4 = PTR_DAT_100f1a7c;
	puVar3 = PTR_DAT_100f1a78;
	iVar2 = *(int *)puVar5;
	*(int *)(puVar6 + 0x5c) = iVar2;
	*(int *)(puVar6 + 0x60) = iVar1 + *(int *)puVar4;
	*(int *)(puVar6 + 100) = iVar2 + *(int *)puVar3;
	return;
}

void FUN_10084d88(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int *piVar1;
	byte bVar2;
	byte *pbVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	longlong lVar6;
	undefined *puVar7;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined in_stack_ffffffcb;

	puVar4 = PTR_DAT_100f1fdc;
	puVar7 = PTR_DAT_100f1948;
	ppuVar5 = &toc;
	SetRndSeed(*(undefined4 *)(PTR_DAT_100f19e4 + 0x40));
	lVar6 = random(0, 3, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8,
	    in_stack_ffffffbf, in_stack_ffffffcb);
	param_1 = param_1 * 0x78;
	pbVar3 = ppuVar5[-0x1df9];
	piVar1 = (int *)(puVar7 + param_1 + 0x58);
	*piVar1 = (int)lVar6;
	bVar2 = *pbVar3;
	if (bVar2 == 4) {
		*(undefined4 *)(puVar7 + param_1 + 0x5c) = *(undefined4 *)(puVar4 + *piVar1 * 0xc);
	}
	if (bVar2 == 8) {
		*(undefined4 *)(puVar7 + param_1 + 0x5c) = *(undefined4 *)(puVar4 + *piVar1 * 0xc + 4);
	}
	if (bVar2 == 0xc) {
		*(undefined4 *)(puVar7 + param_1 + 0x5c) = *(undefined4 *)(puVar4 + *piVar1 * 0xc + 8);
	}
	puVar7 = puVar7 + param_1;
	*(int *)(puVar7 + 0x60) = ((int)(uint)bVar2 >> 2) + *piVar1 * 3 + -1;
	*(int *)(puVar7 + 0x24) = *piVar1 * -2 + 5;
	*(int *)(puVar7 + 100) = *(int *)(puVar7 + 0x24) + 1;
	return;
}

void FUN_10084e88(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined uVar6;
	longlong lVar4;
	undefined4 uVar5;
	undefined4 in_stack_ffffffc8;

	puVar3 = PTR_DAT_100f1fd8;
	puVar2 = PTR_DAT_100f1948;
	uVar6 = (undefined)param_1;
	if (*(int *)PTR_DAT_100f1fd8 == 0) {
		lVar4 = ZEXT48(PTR_DAT_100f1948) + (longlong)param_1 * 0x78;
		uVar6 = (undefined)lVar4;
		iVar1 = (int)lVar4;
		*(undefined4 *)(iVar1 + 0x10) = 2;
		*(undefined *)(iVar1 + 0x40) = 0;
	}
	uVar5 = GetRndSeed(uVar6, (char)puVar3, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	*(undefined4 *)(puVar2 + param_1 * 0x78 + 0x54) = uVar5;
	return;
}

void FUN_10084ef4(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 uVar2;
	longlong lVar1;
	undefined *puVar3;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined in_stack_ffffffdb;

	puVar3 = PTR_DAT_100f1948;
	uVar2 = GetRndSeed((char)param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	puVar3 = puVar3 + param_1 * 0x78;
	*(undefined4 *)(puVar3 + 0x54) = uVar2;
	lVar1 = random(0, 4, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8,
	    in_stack_ffffffcf, in_stack_ffffffdb);
	*(int *)(puVar3 + 0x24) = (int)lVar1 + 1;
	*(undefined4 *)(puVar3 + 0x44) = 1;
	return;
}

void FUN_10084f54(longlong param_1, int *param_2, int *param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	uint uVar1;
	longlong lVar2;
	undefined8 uVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	int iVar10;
	int iVar11;
	int iVar12;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined in_stack_ffffffcb;

	lVar9 = (longlong)param_8;
	lVar8 = (longlong)param_7;
	lVar7 = (longlong)param_6;
	lVar6 = (longlong)param_5;
	lVar5 = (longlong)param_4;
	lVar4 = (longlong)(int)param_3;
	if (param_1 != 0) {
		iVar10 = 0;
		do {
			iVar10 = iVar10 + 1;
			if ((1000 < iVar10) && (1 < (int)param_1)) {
				param_1 = param_1 + -1;
			}
			lVar2 = random(0, 0x70, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8,
			    (char)lVar9, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb);
			*param_2 = (int)lVar2;
			lVar2 = random(0, 0x70, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8,
			    (char)lVar9, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb);
			*param_3 = (int)lVar2;
			uVar1 = 0;
			iVar12 = 0;
			while ((iVar12 < (int)param_1 && (uVar1 == 0))) {
				iVar11 = 0;
				while ((iVar11 < (int)param_1 && (uVar1 == 0))) {
					uVar3 = FUN_10081e4c(*param_2 + iVar12, *param_3 + iVar11);
					uVar3 = countLeadingZeros((int)uVar3);
					iVar11 = iVar11 + 1;
					uVar1 = (uint)uVar3 >> 5 & 0xff;
				}
				iVar12 = iVar12 + 1;
			}
		} while (uVar1 != 0);
	}
	return;
}

void FUN_10085024(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 uVar1;
	undefined *puVar2;
	char cVar3;
	undefined4 in_stack_ffffffb8;
	int local_18;
	int local_14[5];

	puVar2 = PTR_DAT_100f194c;
	if (*(int *)PTR_DAT_100f1e3c < 0x7f) {
		uVar1 = *(undefined4 *)PTR_DAT_100f1e7c;
		FUN_10084f54(5, local_14, &local_18, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
		cVar3 = -1 - (char)uVar1;
		*(char *)(*(int *)puVar2 + local_14[0] * 0x70 + local_18 + 0x71) = cVar3;
		*(char *)(*(int *)puVar2 + local_14[0] * 0x70 + local_18 + 0xe1) = cVar3;
		*(char *)(*(int *)puVar2 + local_14[0] * 0x70 + local_18 + 0x72) = cVar3;
		AddObject(0x5e, local_14[0] + 2, local_18 + 2, cVar3, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8);
	}
	return;
}

void FUN_100850f4(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;
	int local_8;
	int local_4;

	FUN_10084f54(5, &local_4, &local_8, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	AddObject(0x60, local_4 + 2, local_8 + 2, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

void AddObject(uint param_1, int param_2, int param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined **ppuVar8;
	undefined4 in_stack_ffffffb8;

	puVar7 = PTR_DAT_100f1e7c;
	puVar6 = PTR_DAT_100f1e40;
	puVar5 = PTR_DAT_100f1e3c;
	puVar4 = PTR_DAT_100f194c;
	puVar3 = PTR_DAT_100f1948;
	ppuVar8 = &toc;
	iVar1 = *(int *)PTR_DAT_100f1e3c;
	if (iVar1 < 0x7f) {
		iVar2 = *(int *)PTR_DAT_100f1e7c;
		*(undefined4 *)PTR_DAT_100f1e7c = *(undefined4 *)(PTR_DAT_100f1e7c + (0x7e - iVar1) * 4);
		*(int *)(puVar6 + iVar1 * 4) = iVar2;
		*(char *)(*(int *)puVar4 + param_2 * 0x70 + param_3) = (char)iVar2 + '\x01';
		FUN_10084020(iVar2, param_2, param_3, param_1, (char)puVar7, param_6, param_7, param_8,
		    in_stack_ffffffb8);
		if (param_1 < 0x5d) {
			// WARNING: Could not recover jumptable at 0x100851d4. Too many branches
			// WARNING: Treating indirect jump as call
			(**(code **)(ppuVar8[-0x16cc] + param_1 * 4))();
			return;
		}
		*(int *)(puVar3 + iVar2 * 0x78 + 0x2c) = *(int *)(puVar3 + iVar2 * 0x78 + 0x28) + -0x40 >> 1;
		*(int *)puVar5 = *(int *)puVar5 + 1;
	}
	return;
}

void FUN_100853ec(int param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int *piVar1;
	uint uVar2;
	uint uVar3;
	bool bVar4;
	undefined *puVar5;
	undefined *puVar6;
	longlong lVar7;
	longlong lVar8;
	ulonglong uVar9;
	int iVar10;
	undefined *puVar11;

	puVar6 = PTR_DAT_100f1948;
	puVar5 = PTR_DAT_100f17ec;
	param_1 = param_1 * 0x78;
	piVar1 = (int *)(PTR_DAT_100f1948 + param_1 + 0x58);
	if (*piVar1 != -1) {
		uVar2 = *(uint *)(PTR_DAT_100f1948 + param_1 + 4);
		uVar3 = *(uint *)(PTR_DAT_100f1948 + param_1 + 8);
		bVar4 = false;
		if (*(int *)PTR_DAT_100f1aa4 == 0) {
			iVar10 = 0;
			puVar11 = PTR_DAT_100f1828;
			while ((iVar10 < 4 && (!bVar4))) {
				if ((puVar11[0x1d] != '\0') && ((uint)(byte)*puVar5 == *(uint *)(puVar11 + 0x34))) {
					lVar7 = abs((ulonglong) * (uint *)(puVar11 + 0x38) - (ulonglong)uVar2);
					lVar8 = abs((ulonglong) * (uint *)(puVar11 + 0x3c) - (ulonglong)uVar3);
					if (((int)lVar7 < param_2 + 10) && ((int)lVar8 < param_2 + 10)) {
						bVar4 = true;
					}
				}
				puVar11 = puVar11 + 0x55ec;
				iVar10 = iVar10 + 1;
			}
		}
		if (bVar4) {
			if (*piVar1 == 0) {
				uVar9 = AddLight(uVar2, uVar3, param_2);
				*(int *)(puVar6 + param_1 + 0x50) = (int)uVar9;
			}
			*piVar1 = 1;
		} else {
			if (*piVar1 == 1) {
				FUN_100baf2c(*(int *)(puVar6 + param_1 + 0x50));
			}
			*piVar1 = 0;
		}
	}
	return;
}

void Obj_Circle(int iParm1)

{
	uint uVar1;
	int iVar2;
	int iVar3;
	undefined *puVar4;
	int iVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined **ppuVar8;
	int *piVar9;
	ulonglong uVar10;
	undefined8 uVar11;
	undefined *puVar13;
	undefined8 uVar12;
	ulonglong uVar14;
	undefined8 uVar15;
	undefined4 in_r9;
	undefined8 uVar16;
	undefined4 in_r10;
	ulonglong uVar17;
	undefined *puVar18;
	undefined *puVar19;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 local_4c;

	puVar7 = PTR_DAT_100f19cc;
	puVar13 = PTR_DAT_100f1948;
	puVar4 = PTR_DAT_100f1828;
	puVar6 = PTR_DAT_100f1824;
	ppuVar8 = &toc;
	iParm1 = iParm1 * 0x78;
	puVar18 = PTR_DAT_100f1828 + 0x38;
	piVar9 = (int *)(PTR_DAT_100f1948 + iParm1);
	puVar19 = PTR_DAT_100f1828 + 0x3c;
	uVar1 = *(uint *)PTR_DAT_100f1824;
	iVar2 = piVar9[1];
	iVar3 = piVar9[2];
	iVar5 = (int)((ulonglong)uVar1 * 0x55ec);
	if ((*(int *)(puVar18 + iVar5) == iVar2) && (*(int *)(puVar19 + iVar5) == iVar3)) {
		if (*piVar9 == 0x54) {
			piVar9[9] = 2;
		}
		if (*piVar9 == 0x55) {
			*(undefined4 *)(puVar13 + iParm1 + 0x24) = 4;
		}
		if ((iVar2 == 0x2d) && (iVar3 == 0x2f)) {
			*(undefined4 *)(puVar13 + iParm1 + 0x6c) = 2;
		} else {
			if ((iVar2 == 0x1a) && (iVar3 == 0x2e)) {
				*(undefined4 *)(puVar13 + iParm1 + 0x6c) = 1;
			} else {
				*(undefined4 *)(puVar13 + iParm1 + 0x6c) = 0;
			}
		}
		if (((iVar2 == 0x23) && (iVar3 == 0x24)) && (puVar13 = puVar13 + iParm1, *(int *)(puVar13 + 0x68) == 3)) {
			*(undefined4 *)(puVar13 + 0x6c) = 4;
			ObjChangeMapResync((ulonglong) * (uint *)(puVar13 + 0x58), (ulonglong) * (uint *)(puVar13 + 0x5c),
			    *(int *)(puVar13 + 0x60), (ulonglong) * (uint *)(puVar13 + 100),
			    (ulonglong)uVar1 * 0x55ec, 0x24, in_r9, in_r10, in_stack_ffffffa8);
			if (puVar7[0x16a] == '\x02') {
				puVar7[0x177] = 4;
			}
			uVar17 = (ulonglong) * (uint *)puVar6;
			uVar11 = 0x23;
			iVar2 = *(uint *)puVar6 * 0x55ec;
			uVar12 = 0x2e;
			uVar10 = (ulonglong) * (uint *)(puVar19 + iVar2);
			uVar15 = 3;
			uVar14 = (ulonglong) * (uint *)(puVar4 + iVar2 + 0x70);
			uVar16 = 0;
			AddMissile((ulonglong) * (uint *)(puVar18 + iVar2), uVar10, 0x23, 0x2e, uVar14, 3, 0, uVar17,
			    in_stack_ffffffa8, in_stack_ffffffaf, 0, 0);
			track_repeat_walk(0);
			puVar4 = ppuVar8[-0x1d58];
			*puVar4 = 0;
			ReleaseCapture((char)puVar4, (char)uVar10, (char)uVar11, (char)uVar12, (char)uVar14, (char)uVar15,
			    (char)uVar16, (char)uVar17, (char)in_stack_ffffffa8, in_stack_ffffffaf, local_4c);
			ClrPlrPath((ulonglong) * (uint *)puVar6, uVar10, uVar11, uVar12, uVar14, (int)uVar15, (int)uVar16,
			    (int)uVar17, in_stack_ffffffa8);
			StartStand((ulonglong) * (uint *)puVar6, 0, uVar11, uVar12, uVar14, uVar15, uVar16, uVar17,
			    in_stack_ffffffa8);
		}
	} else {
		piVar9 = (int *)(PTR_DAT_100f1948 + iParm1);
		if (*piVar9 == 0x54) {
			piVar9[9] = 1;
		}
		if (*piVar9 == 0x55) {
			*(undefined4 *)(puVar13 + iParm1 + 0x24) = 3;
		}
		*(undefined4 *)(puVar13 + iParm1 + 0x6c) = 0;
	}
	return;
}

void FUN_100856f0(int param_1)

{
	undefined *puVar1;

	puVar1 = PTR_DAT_100f1948 + param_1 * 0x78;
	if (*(int *)(puVar1 + 0x24) != *(int *)(puVar1 + 0x20)) {
		return;
	}
	*(undefined4 *)(puVar1 + 0x1c) = 0;
	*(undefined4 *)(puVar1 + 0x18) = 1000;
	return;
}

void FUN_10085720(int param_1)

{
	int *piVar1;
	char cVar2;
	char cVar3;
	char cVar4;
	short sVar5;
	undefined *puVar6;
	undefined8 uVar7;
	undefined8 uVar8;
	undefined8 uVar9;
	int iVar11;
	undefined8 uVar10;
	undefined *puVar12;

	puVar6 = PTR_DAT_100f1948;
	param_1 = param_1 * 0x78;
	piVar1 = (int *)(PTR_DAT_100f1948 + param_1 + 100);
	if (*piVar1 == 0) {
		puVar6 = PTR_DAT_100f1948 + param_1;
		puVar6[0x40] = 3;
		*(undefined4 *)(puVar6 + 0x3c) = 0;
	} else {
		puVar12 = PTR_DAT_100f1948 + param_1;
		iVar11 = *(int *)(puVar12 + 4) * 0x70 + *(int *)(puVar12 + 8);
		cVar2 = *(char *)(*(int *)PTR_DAT_100f1944 + iVar11);
		cVar3 = *(char *)(*(int *)PTR_DAT_100f19a0 + iVar11);
		cVar4 = *(char *)(*(int *)PTR_DAT_100f1950 + iVar11);
		sVar5 = *(short *)(*(int *)PTR_DAT_100f1954 + *(int *)(puVar12 + 4) * 0xe0 + *(int *)(puVar12 + 8) * 2);
		puVar12[0x40] = 2;
		uVar10 = countLeadingZeros(-(int)sVar5);
		uVar9 = countLeadingZeros(-(int)cVar2);
		uVar8 = countLeadingZeros(-(int)cVar3);
		uVar7 = countLeadingZeros(-(int)cVar4);
		if (((uint)uVar9 >> 5 & 0xff & (uint)uVar10 >> 5 & 0xff & (uint)uVar8 >> 5 & 0xff & (uint)uVar7 >> 5 & 0xff) == 0) {
			*piVar1 = 2;
		} else {
			*piVar1 = 1;
		}
		*(undefined4 *)(puVar6 + param_1 + 0x3c) = 1;
	}
	return;
}

void FUN_10085824(int param_1)

{
	undefined *puVar1;

	puVar1 = PTR_DAT_100f1948 + param_1 * 0x78;
	if (*(int *)(puVar1 + 0x24) != *(int *)(puVar1 + 0x20)) {
		return;
	}
	*(undefined4 *)(puVar1 + 0x10) = 0;
	return;
}

void FUN_1008584c(int param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	ulonglong uVar3;
	int iVar4;
	undefined *puVar5;
	int *piVar6;

	puVar2 = PTR_DAT_100f1e3c;
	puVar1 = PTR_DAT_100f1948;
	iVar4 = 0;
	piVar6 = (int *)PTR_DAT_100f1e40;
	while (iVar4 < *(int *)puVar2) {
		if ((param_1 == *(int *)(puVar1 + *piVar6 * 0x78)) && (puVar5 = puVar1 + *piVar6 * 0x78, param_2 == *(int *)(puVar5 + 0x58))) {
			*(undefined4 *)(puVar5 + 100) = 1;
			*(undefined4 *)(puVar5 + 0x10) = 1;
			*(undefined4 *)(puVar5 + 0x18) = 1;
			uVar3 = AddLight(*(undefined4 *)(puVar5 + 4), *(undefined4 *)(puVar5 + 8), 1);
			*(int *)(puVar5 + 0x50) = (int)uVar3;
		}
		piVar6 = piVar6 + 1;
		iVar4 = iVar4 + 1;
	}
	return;
}

void FUN_100858e8(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	short sVar1;
	int iVar2;
	uint uVar3;
	undefined *puVar4;
	undefined *puVar5;
	int *piVar6;
	char cVar7;
	longlong lVar8;
	short *psVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	char *pcVar13;
	undefined4 in_stack_ffffffc8;

	puVar4 = PTR_DAT_100f1948;
	param_1 = param_1 * 0x78;
	puVar5 = PTR_DAT_100f1948 + param_1;
	if (*(int *)(puVar5 + 0x5c) != 0) {
		if (*(int *)(puVar5 + 100) == 0) {
			return;
		}
		*(int *)(puVar5 + 0x24) = *(int *)(puVar5 + 0x24) + -1;
		iVar2 = *(int *)(puVar5 + 0x24);
		if (iVar2 == 1) {
			*(undefined4 *)(puVar5 + 100) = 0;
			FUN_100baf2c(*(int *)(puVar5 + 0x50));
			return;
		}
		if (4 < iVar2) {
			return;
		}
		FUN_100baf64(*(int *)(puVar5 + 0x50), iVar2);
		return;
	}
	if (*(int *)(puVar5 + 100) == 0) {
		if (*(int *)(puVar5 + 0x60) == 2) {
			uVar12 = (undefined) * (uint *)PTR_DAT_100f1954;
			pcVar13 = (char *)(*(int *)PTR_DAT_100f1950 + *(int *)(puVar5 + 8) + (int)((ulonglong) * (uint *)(puVar5 + 4) - 2) * 0x70);
			uVar3 = *(int *)(puVar5 + 8) << 1;
			uVar11 = (undefined)uVar3;
			lVar8 = (ulonglong) * (uint *)PTR_DAT_100f1954 + (ulonglong)uVar3 + ((ulonglong) * (uint *)(puVar5 + 4) - 2) * 0xe0;
			psVar9 = (short *)lVar8;
			if ((*pcVar13 != '\0') || (*psVar9 != 0)) {
				*(undefined4 *)(puVar5 + 100) = 1;
			}
			if ((pcVar13[0x70] != '\0') || (psVar9[0x70] != 0)) {
				*(undefined4 *)(puVar5 + 100) = 1;
			}
			if ((pcVar13[0xe0] != '\0') || (psVar9[0xe0] != 0)) {
				*(undefined4 *)(puVar5 + 100) = 1;
			}
			if ((pcVar13[0x150] != '\0') || (psVar9[0x150] != 0)) {
				*(undefined4 *)(puVar5 + 100) = 1;
			}
			cVar7 = pcVar13[0x1c0];
			lVar8 = lVar8 + 0x380;
			uVar10 = (undefined)lVar8;
			if ((cVar7 != '\0') || (sVar1 = *(short *)lVar8, cVar7 = (char)sVar1, sVar1 != 0)) {
				*(undefined4 *)(puVar5 + 100) = 1;
			}
		} else {
			uVar12 = (undefined) * (uint *)PTR_DAT_100f1954;
			pcVar13 = (char *)(*(int *)PTR_DAT_100f1950 + *(uint *)(puVar5 + 4) * 0x70 + *(int *)(puVar5 + 8) + -2);
			lVar8 = (ulonglong) * (uint *)(puVar5 + 4) * 0xe0;
			uVar11 = (undefined)lVar8;
			lVar8 = (ulonglong) * (uint *)PTR_DAT_100f1954 + lVar8 + (ulonglong)(uint)((*(int *)(puVar5 + 8) + -2) * 2);
			psVar9 = (short *)lVar8;
			if ((*pcVar13 != '\0') || (*psVar9 != 0)) {
				*(undefined4 *)(puVar5 + 100) = 1;
			}
			if ((pcVar13[1] != '\0') || (psVar9[1] != 0)) {
				*(undefined4 *)(puVar5 + 100) = 1;
			}
			if ((pcVar13[2] != '\0') || (psVar9[2] != 0)) {
				*(undefined4 *)(puVar5 + 100) = 1;
			}
			if ((pcVar13[3] != '\0') || (psVar9[3] != 0)) {
				*(undefined4 *)(puVar5 + 100) = 1;
			}
			cVar7 = pcVar13[4];
			lVar8 = lVar8 + 8;
			uVar10 = (undefined)lVar8;
			if ((cVar7 != '\0') || (sVar1 = *(short *)lVar8, cVar7 = (char)sVar1, sVar1 != 0)) {
				*(undefined4 *)(puVar5 + 100) = 1;
			}
		}
		if (*(int *)(puVar5 + 100) != 0) {
			FUN_1008584c(*(int *)(puVar4 + param_1), *(int *)(puVar4 + param_1 + 0x58), (char)puVar4, 1, cVar7, uVar10, uVar11, uVar12, in_stack_ffffffc8);
		}
		return;
	}
	piVar6 = (int *)(puVar5 + 0x24);
	if (*piVar6 == *(int *)(puVar5 + 0x20)) {
		*piVar6 = 0xb;
	}
	if (5 < *piVar6) {
		return;
	}
	FUN_100baf64(*(int *)(puVar4 + param_1 + 0x50), *piVar6);
	return;
}

void Obj_Trap(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	uint uVar3;
	uint uVar4;
	int iVar5;
	bool bVar6;
	undefined *puVar7;
	undefined *puVar8;
	longlong lVar9;
	undefined *puVar10;
	undefined *puVar12;
	longlong lVar11;
	undefined *puVar14;
	longlong lVar13;
	ulonglong uVar15;
	ulonglong uVar16;
	int iVar17;
	ulonglong uVar18;
	undefined4 uVar19;
	undefined4 uVar20;
	ulonglong uVar21;
	ulonglong uVar22;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;

	puVar8 = PTR_DAT_100f1950;
	puVar7 = PTR_DAT_100f1948;
	param_1 = param_1 * 0x78;
	puVar14 = PTR_DAT_100f1948 + 100;
	bVar6 = false;
	if (*(int *)(puVar14 + param_1) != 0) {
		return;
	}
	iVar5 = (int)*(char *)(*(int *)PTR_DAT_100f194c + *(int *)(PTR_DAT_100f1948 + param_1 + 0x58) * 0x70 + *(int *)(PTR_DAT_100f1948 + param_1 + 0x5c)) + -1;
	iVar17 = *(int *)(PTR_DAT_100f1948 + iVar5 * 0x78);
	if (iVar17 < 0x2a) {
		if (iVar17 < 8) {
			if (iVar17 == 3)
				goto LAB_10085c90;
			if (iVar17 < 3) {
				if (iVar17 < 1)
					goto LAB_10085c90;
				goto LAB_10085c7c;
			}
		} else {
			if (iVar17 != 0x1c)
				goto LAB_10085c90;
		}
	} else {
		if (iVar17 != 0x30) {
			if (iVar17 < 0x30) {
				if (0x2b < iVar17)
					goto LAB_10085c90;
			} else {
				if ((0x4b < iVar17) || (iVar17 < 0x4a))
					goto LAB_10085c90;
			}
		LAB_10085c7c:
			if (*(int *)(puVar14 + iVar5 * 0x78) != 0) {
				bVar6 = true;
			}
			goto LAB_10085c90;
		}
	}
	if (PTR_DAT_100f1948[iVar5 * 0x78 + 0x40] == '\0') {
		bVar6 = true;
	}
LAB_10085c90:
	if (bVar6) {
		iVar5 = iVar5 * 0x78;
		puVar12 = PTR_DAT_100f1948 + 8;
		puVar10 = PTR_DAT_100f1948 + 4;
		*(int *)(puVar14 + param_1) = 1;
		uVar1 = *(uint *)(puVar12 + iVar5);
		uVar21 = (ulonglong)uVar1;
		uVar2 = *(uint *)(puVar10 + iVar5);
		uVar15 = (ulonglong)uVar2;
		uVar18 = uVar21 - 1;
		uVar3 = *(uint *)(puVar10 + param_1);
		uVar4 = *(uint *)(puVar12 + param_1);
		lVar13 = uVar21 + (ulonglong) * (uint *)puVar8 + -1;
		uVar22 = uVar15;
		while ((int)uVar18 <= (int)(uVar1 + 1)) {
			uVar16 = uVar15 - 1;
			lVar9 = (uVar15 + 2) - uVar16;
			lVar11 = lVar13 + uVar16 * 0x70;
			if ((int)uVar16 <= (int)(uVar2 + 1)) {
				do {
					if (*(char *)lVar11 != '\0') {
						uVar21 = uVar18;
						uVar22 = uVar16;
					}
					lVar11 = lVar11 + 0x70;
					uVar16 = uVar16 + 1;
					lVar9 = lVar9 + -1;
				} while (lVar9 != 0);
			}
			lVar13 = lVar13 + 1;
			uVar18 = uVar18 + 1;
		}
		if (*(int *)PTR_DAT_100f1f60 == 0) {
			uVar15 = GetDirection((ulonglong)uVar3, uVar4, uVar22, (int)uVar21);
			iVar17 = *(int *)(puVar7 + param_1 + 0x60);
			uVar19 = 1;
			uVar20 = 0xffffffff;
			AddMissile((ulonglong)uVar3, (ulonglong)uVar4, uVar22, uVar21, uVar15, iVar17, 1,
			    0xffffffffffffffff, in_stack_ffffff98, in_stack_ffffff9f, 0, 0);
			PlaySfxLoc(0x48, (ulonglong) * (uint *)(puVar10 + iVar5), (ulonglong) * (uint *)(puVar12 + iVar5),
			    uVar21, uVar15, iVar17, uVar19, uVar20, in_stack_ffffff98);
		}
		*(undefined4 *)(puVar7 + iVar5 + 0x48) = 0;
	}
	return;
}

void Obj_BCrossDamage(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	longlong lVar1;
	char cVar2;
	uint uVar3;
	uint uVar4;
	int iVar5;
	uint *puVar6;
	uint *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	longlong lVar11;
	undefined **ppuVar12;
	ulonglong uVar13;
	ulonglong uVar14;
	int iVar16;
	ulonglong uVar15;
	ulonglong uVar17;
	undefined4 in_stack_ffffffb8;
	uint auStack28[4];
	undefined4 local_c;

	puVar10 = PTR_DAT_100f1948;
	puVar9 = PTR_DAT_100f183c;
	puVar8 = PTR_DAT_100f1828;
	ppuVar12 = &toc;
	uVar13 = ZEXT48(PTR_DAT_100f1828);
	auStack28[1] = *(undefined4 *)PTR_DAT_100f349c;
	auStack28[2] = *(undefined4 *)(PTR_DAT_100f349c + 4);
	uVar17 = ZEXT48(PTR_DAT_100f1948);
	auStack28[3] = *(undefined4 *)(PTR_DAT_100f349c + 8);
	local_c = *(undefined4 *)(PTR_DAT_100f349c + 0xc);
	uVar14 = (ulonglong) * (uint *)PTR_DAT_100f1824;
	lVar11 = uVar14 * 0x55ec;
	iVar5 = (int)lVar11;
	if (*(int *)(PTR_DAT_100f1828 + iVar5) != 8) {
		if ('\0' < (char)PTR_DAT_100f1828[iVar5 + 0x1c6]) {
			uVar3 = auStack28[(uint)(byte)*PTR_DAT_100f183c];
			iVar16 = (int)(char)PTR_DAT_100f1828[iVar5 + 0x1c6] * uVar3;
			uVar4 = iVar16 / 100 + (iVar16 >> 0x1f);
			auStack28[(uint)(byte)*PTR_DAT_100f183c] = uVar3 - (uVar4 + (uVar4 >> 0x1f));
		}
		puVar6 = (uint *)(puVar8 + iVar5 + 0x38);
		if (*puVar6 == *(uint *)(puVar10 + param_1 * 0x78 + 4)) {
			lVar1 = uVar13 + lVar11 + 0x3c;
			puVar7 = (uint *)lVar1;
			if (*puVar7 == *(int *)(puVar10 + param_1 * 0x78 + 8) - 1U) {
				uVar3 = auStack28[(uint)(byte)*puVar9];
				uVar15 = (ulonglong)uVar3;
				puVar8 = puVar8 + iVar5;
				iVar5 = (int)(uVar13 + lVar11);
				*(int *)(iVar5 + 0x194) = *(int *)(iVar5 + 0x194) - uVar3;
				*(uint *)(puVar8 + 0x18c) = *(int *)(puVar8 + 0x18c) - uVar3;
				if (*(int *)(iVar5 + 0x194) >> 6 == 0) {
					ppuVar12 = &toc;
					SyncPlrKill(uVar14, 0, uVar13, uVar14, uVar15, uVar13 + lVar11, lVar1, uVar17, in_stack_ffffffb8);
				} else {
					cVar2 = puVar8[0x15c];
					if (cVar2 == '\0') {
						ppuVar12 = &toc;
						PlaySfxLoc(0x313, (ulonglong)*puVar6, (ulonglong)*puVar7, uVar14, uVar15, iVar5, puVar7,
						    puVar10, in_stack_ffffffb8);
					} else {
						if (cVar2 == '\x01') {
							ppuVar12 = &toc;
							PlaySfxLoc(0x2a6, (ulonglong)*puVar6, (ulonglong)*puVar7, uVar14, uVar15, iVar5, puVar7,
							    puVar10, in_stack_ffffffb8);
						} else {
							if (cVar2 == '\x02') {
								ppuVar12 = &toc;
								PlaySfxLoc(0x23f, (ulonglong)*puVar6, (ulonglong)*puVar7, uVar14, uVar15, iVar5, puVar7,
								    puVar10, in_stack_ffffffb8);
							}
						}
					}
				}
				*(undefined4 *)ppuVar12[-0x1dbc] = 1;
			}
		}
	}
	return;
}

ulonglong ProcessObjects(char param_1, char param_2, char param_3, char param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	uint uVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined8 uVar6;
	ulonglong uVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	int iVar11;
	uint *puVar12;
	ulonglong uVar13;

	puVar5 = PTR_DAT_100f1e40;
	puVar4 = PTR_DAT_100f1e3c;
	puVar3 = PTR_DAT_100f1948;
	lVar10 = (longlong)param_4;
	lVar9 = (longlong)param_3;
	lVar8 = (longlong)param_2;
	uVar7 = SEXT18(param_1);
	iVar11 = 0;
	uVar13 = ZEXT48(PTR_DAT_100f1948);
	puVar12 = (uint *)PTR_DAT_100f1e40;
	while (true) {
		if (*(int *)puVar4 <= iVar11) {
			iVar11 = 0;
			while (iVar11 < *(int *)puVar4) {
				uVar1 = *(uint *)(puVar5 + iVar11 * 4);
				uVar7 = (ulonglong)uVar1;
				if (*(int *)(puVar3 + uVar1 * 0x78 + 0x30) == 0) {
					iVar11 = iVar11 + 1;
				} else {
					uVar7 = FUN_10083fa4(uVar1, iVar11);
					iVar11 = 0;
				}
			}
			return uVar7;
		}
		uVar7 = (ulonglong)*puVar12;
		uVar1 = *(uint *)(puVar3 + *puVar12 * 0x78);
		if (uVar1 < 0x5c)
			break;
		lVar8 = uVar13 + uVar7 * 0x78;
		iVar2 = (int)lVar8;
		if (*(int *)(iVar2 + 0x10) != 0) {
			lVar9 = lVar8 + 0x1c;
			*(int *)(iVar2 + 0x1c) = *(int *)(iVar2 + 0x1c) + 1;
			uVar7 = (ulonglong) * (uint *)(iVar2 + 0x1c);
			if (*(int *)(iVar2 + 0x18) <= (int)*(uint *)(iVar2 + 0x1c)) {
				lVar10 = lVar8 + 0x24;
				*(undefined4 *)lVar9 = 0;
				*(int *)(iVar2 + 0x24) = *(int *)(iVar2 + 0x24) + 1;
				uVar7 = (ulonglong) * (uint *)(iVar2 + 0x24);
				if (*(int *)(iVar2 + 0x20) < (int)*(uint *)(iVar2 + 0x24)) {
					*(undefined4 *)lVar10 = 1;
				}
			}
		}
		puVar12 = puVar12 + 1;
		iVar11 = iVar11 + 1;
	}
	// WARNING: Could not recover jumptable at 0x10085fa0. Too many branches
	// WARNING: Treating indirect jump as call
	uVar6 = (**(code **)(PTR_PTR_LAB_100f3498 + uVar1 * 4))(*(code **)(PTR_PTR_LAB_100f3498 + uVar1 * 4), lVar8, lVar9, lVar10, param_5, param_6, param_7, param_8);
	return uVar6;
}

void FUN_1008610c(longlong param_1, int param_2, longlong param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	int iVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	longlong lVar5;
	undefined uVar6;
	undefined uVar7;
	longlong lVar8;
	undefined uVar11;
	longlong lVar9;
	uint uVar10;
	ulonglong uVar12;
	undefined uVar13;
	undefined uVar14;
	undefined uVar15;
	undefined uVar16;
	undefined2 *puVar17;
	longlong lVar18;
	undefined4 in_stack_ffffffb8;

	puVar3 = PTR_DAT_100f1a60;
	ppuVar4 = &toc;
	lVar8 = param_1 * 0xe0;
	uVar12 = (ulonglong) * (uint *)PTR_DAT_100f1a54;
	*(undefined2 *)(*(uint *)PTR_DAT_100f1a54 + (int)lVar8 + param_2 * 2) = (short)param_3;
	lVar5 = IsometricCoord(param_1, param_2);
	uVar13 = (undefined)uVar12;
	uVar16 = (undefined)param_8;
	uVar15 = (undefined)param_7;
	uVar14 = (undefined)param_6;
	uVar10 = (int)lVar5 << 5;
	uVar7 = (undefined)uVar10;
	lVar5 = (ulonglong) * (uint *)ppuVar4[-0x1d61] + (ulonglong)uVar10;
	uVar12 = FUN_100b8f7c((ulonglong) * (uint *)puVar3, ZEXT48(ppuVar4[-0x1d61]), (ulonglong)uVar10, lVar8,
	    uVar12, param_6, param_7, param_8, in_stack_ffffffb8);
	if (*ppuVar4[-0x1de5] == '\x04') {
		lVar18 = 2;
		lVar8 = uVar12 + (ulonglong)(uint)(((int)param_3 + -1) * 0x20);
		uVar6 = (undefined)lVar8;
		lVar9 = 0;
		do {
			uVar10 = (uint)lVar9;
			iVar2 = (int)lVar8;
			puVar1 = (undefined *)(iVar2 + (0xe - (uVar10 & 0xe)) * 2);
			puVar17 = (undefined2 *)lVar5;
			*puVar17 = CONCAT11(puVar1[1], *puVar1);
			puVar1 = (undefined *)(iVar2 + ((0xe - (uVar10 + 1 & 0xe)) + (uVar10 + 1 & 1)) * 2);
			puVar17[1] = CONCAT11(puVar1[1], *puVar1);
			puVar1 = (undefined *)(iVar2 + (0xe - (uVar10 + 2 & 0xe)) * 2);
			puVar17[2] = CONCAT11(puVar1[1], *puVar1);
			puVar1 = (undefined *)(iVar2 + ((0xe - (uVar10 + 3 & 0xe)) + (uVar10 + 3 & 1)) * 2);
			puVar17[3] = CONCAT11(puVar1[1], *puVar1);
			puVar1 = (undefined *)(iVar2 + (0xe - (uVar10 + 4 & 0xe)) * 2);
			puVar17[4] = CONCAT11(puVar1[1], *puVar1);
			puVar1 = (undefined *)(iVar2 + ((0xe - (uVar10 + 5 & 0xe)) + (uVar10 + 5 & 1)) * 2);
			puVar17[5] = CONCAT11(puVar1[1], *puVar1);
			puVar1 = (undefined *)(iVar2 + (0xe - (uVar10 + 6 & 0xe)) * 2);
			puVar17[6] = CONCAT11(puVar1[1], *puVar1);
			puVar1 = (undefined *)(iVar2 + ((0xe - (uVar10 + 7 & 0xe)) + (uVar10 + 7 & 1)) * 2);
			lVar9 = lVar9 + 8;
			uVar11 = (undefined)lVar9;
			puVar17[7] = CONCAT11(puVar1[1], *puVar1);
			lVar5 = lVar5 + 0x10;
			uVar7 = (undefined)lVar5;
			lVar18 = lVar18 + -1;
		} while (lVar18 != 0);
	} else {
		lVar8 = uVar12 + (param_3 + -1) * 0x14;
		uVar11 = (undefined)lVar8;
		puVar1 = (undefined *)lVar8;
		puVar17 = (undefined2 *)lVar5;
		*puVar17 = CONCAT11(puVar1[0x11], puVar1[0x10]);
		puVar17[1] = CONCAT11(puVar1[0x13], puVar1[0x12]);
		puVar17[2] = CONCAT11(puVar1[0xd], puVar1[0xc]);
		puVar17[3] = CONCAT11(puVar1[0xf], puVar1[0xe]);
		puVar17[4] = CONCAT11(puVar1[9], puVar1[8]);
		puVar17[5] = CONCAT11(puVar1[0xb], puVar1[10]);
		puVar17[6] = CONCAT11(puVar1[5], puVar1[4]);
		puVar17[7] = CONCAT11(puVar1[7], puVar1[6]);
		uVar13 = 9;
		puVar17[8] = CONCAT11(puVar1[1], *puVar1);
		uVar6 = puVar1[2];
		puVar17[9] = CONCAT11(puVar1[3], uVar6);
	}
	FUN_100b9100(*(int *)puVar3, uVar6, uVar7, uVar11, uVar13, uVar14, uVar15, uVar16, in_stack_ffffffb8);
	return;
}

void FUN_10086454(longlong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined uVar1;
	undefined uVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined **ppuVar6;
	ulonglong uVar7;
	longlong lVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined uVar14;
	undefined uVar15;
	int iVar16;
	undefined4 in_stack_ffffffa8;

	puVar5 = PTR_DAT_100f1a60;
	puVar4 = PTR_DAT_100f1a4c;
	uVar9 = (undefined)param_2;
	uVar12 = (undefined)param_5;
	uVar11 = (undefined)param_4;
	uVar15 = (undefined)param_8;
	uVar14 = (undefined)param_7;
	uVar13 = (undefined)param_6;
	ppuVar6 = &toc;
	uVar7 = FUN_100b8f7c((ulonglong) * (uint *)PTR_DAT_100f1a60, param_2, param_3, param_4, param_5, param_6,
	    param_7, param_8, in_stack_ffffffa8);
	uVar10 = (undefined) * (int *)ppuVar6[-0x1d5f];
	iVar16 = (int)param_2;
	puVar3 = (undefined *)((int)uVar7 + ((int)*(short *)(*(int *)ppuVar6[-0x1d5f] + (int)param_1 * 0xe0 + iVar16 * 2) + -1) * 0x14 + 0x10);
	uVar1 = puVar3[1];
	uVar2 = *puVar3;
	lVar8 = IsometricCoord(param_1, iVar16);
	*(undefined2 *)(*(int *)puVar4 + (int)lVar8 * 0x20) = CONCAT11(uVar1, uVar2);
	uVar1 = puVar3[3];
	uVar2 = puVar3[2];
	lVar8 = IsometricCoord(param_1, iVar16);
	*(undefined2 *)(*(int *)puVar4 + (int)lVar8 * 0x20 + 2) = CONCAT11(uVar1, uVar2);
	FUN_100b9100(*(int *)puVar5, uVar9, uVar10, uVar11, uVar12, uVar13, uVar14, uVar15, in_stack_ffffffa8);
	return;
}

void FUN_10086508(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	undefined *puVar3;
	ulonglong uVar4;
	undefined uVar5;
	undefined7 uVar6;
	undefined uVar7;
	undefined7 uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	longlong lVar13;
	undefined4 in_stack_ffffffb8;

	puVar3 = PTR_DAT_100f1a64;
	uVar8 = (undefined7)((ulonglong)param_5 >> 8);
	uVar9 = (undefined)param_5;
	uVar6 = (undefined7)((ulonglong)param_4 >> 8);
	uVar7 = (undefined)param_4;
	uVar4 = FUN_100b8f7c((ulonglong) * (uint *)PTR_DAT_100f1a64, param_2, param_3, param_4, param_5, param_6,
	    param_7, param_8, in_stack_ffffffb8);
	puVar2 = (undefined *)((int)uVar4 + ((int)param_3 + -1) * 8);
	uVar5 = puVar2[3];
	uVar11 = puVar2[2];
	uVar10 = puVar2[5];
	uVar12 = puVar2[4];
	uVar1 = (int)param_2 * 2;
	uVar4 = (ulonglong)(uint)(param_1 << 1);
	lVar13 = (longlong)CONCAT11(puVar2[7], puVar2[6]) + 1;
	lVar13._7_1_ = (undefined)lVar13;
	FUN_1008610c(uVar4 + 0x10, uVar1 + 0x10, (longlong)CONCAT11(puVar2[1], *puVar2) + 1,
	    CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9), param_6, param_7, param_8, in_stack_ffffffb8);
	FUN_1008610c(uVar4 + 0x11, uVar1 + 0x10, (longlong)CONCAT11(uVar5, uVar11) + 1, CONCAT71(uVar6, uVar7),
	    CONCAT71(uVar8, uVar9), param_6, param_7, param_8, in_stack_ffffffb8);
	FUN_1008610c(uVar4 + 0x10, uVar1 + 0x11, (longlong)CONCAT11(uVar10, uVar12) + 1, CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9), param_6, param_7, param_8, in_stack_ffffffb8);
	uVar12 = (undefined)param_8;
	uVar11 = (undefined)param_7;
	uVar10 = (undefined)param_6;
	uVar5 = (undefined)((ulonglong)uVar1 + 0x11);
	FUN_1008610c(uVar4 + 0x11, (int)((ulonglong)uVar1 + 0x11), lVar13, CONCAT71(uVar6, uVar7),
	    CONCAT71(uVar8, uVar9), param_6, param_7, param_8, in_stack_ffffffb8);
	FUN_100b9100(*(int *)puVar3, uVar5, (undefined)lVar13, uVar7, uVar9, uVar10, uVar11, uVar12,
	    in_stack_ffffffb8);
	return;
}

void FUN_100865e0(longlong param_1, int param_2, longlong param_3, int param_4)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	int iVar8;

	puVar4 = PTR_DAT_100f1a54;
	puVar3 = PTR_DAT_100f1a38;
	iVar8 = param_2 << 1;
	while (param_2 <= param_4) {
		lVar5 = (param_3 + 1) - param_1;
		lVar6 = param_1 * 0x70;
		lVar7 = param_1 * 0xe0;
		if ((int)param_1 <= (int)param_3) {
			do {
				iVar1 = (int)lVar6;
				*(undefined *)(param_2 + *(int *)puVar3 + iVar1) = 0;
				iVar2 = (int)lVar7;
				if (*(short *)(iVar8 + *(int *)puVar4 + iVar2) == 0xc) {
					*(undefined *)(param_2 + *(int *)puVar3 + iVar1) = 1;
				}
				if (*(short *)(iVar8 + *(int *)puVar4 + iVar2) == 0xb) {
					*(undefined *)(param_2 + *(int *)puVar3 + iVar1) = 2;
				}
				if (*(short *)(iVar8 + *(int *)puVar4 + iVar2) == 0x47) {
					*(undefined *)(param_2 + *(int *)puVar3 + iVar1) = 1;
				}
				if (*(short *)(iVar8 + *(int *)puVar4 + iVar2) == 0x103) {
					*(undefined *)(param_2 + *(int *)puVar3 + iVar1) = 5;
				}
				if (*(short *)(iVar8 + *(int *)puVar4 + iVar2) == 0xf9) {
					*(undefined *)(param_2 + *(int *)puVar3 + iVar1) = 2;
				}
				if (*(short *)(iVar8 + *(int *)puVar4 + iVar2) == 0x145) {
					*(undefined *)(param_2 + *(int *)puVar3 + iVar1) = 2;
				}
				if (*(short *)(iVar8 + *(int *)puVar4 + iVar2) == 0x141) {
					*(undefined *)(param_2 + *(int *)puVar3 + iVar1) = 1;
				}
				if (*(short *)(iVar8 + *(int *)puVar4 + iVar2) == 0xff) {
					*(undefined *)(param_2 + *(int *)puVar3 + iVar1) = 4;
				}
				if (*(short *)(iVar8 + *(int *)puVar4 + iVar2) == 0xd3) {
					*(undefined *)(param_2 + *(int *)puVar3 + iVar1) = 1;
				}
				if (*(short *)(iVar8 + *(int *)puVar4 + iVar2) == 0x158) {
					*(undefined *)(param_2 + *(int *)puVar3 + iVar1) = 2;
				}
				if (*(short *)(iVar8 + *(int *)puVar4 + iVar2) == 0x155) {
					*(undefined *)(param_2 + *(int *)puVar3 + iVar1) = 1;
				}
				if (*(short *)(iVar8 + *(int *)puVar4 + iVar2) == 0x14b) {
					*(undefined *)(param_2 + *(int *)puVar3 + iVar1) = 2;
				}
				if (*(short *)(iVar8 + *(int *)puVar4 + iVar2) == 0x1a2) {
					*(undefined *)(param_2 + *(int *)puVar3 + iVar1) = 1;
				}
				if (*(short *)(iVar8 + *(int *)puVar4 + iVar2) == 0x1a5) {
					*(undefined *)(param_2 + *(int *)puVar3 + iVar1) = 2;
				}
				lVar6 = lVar6 + 0x70;
				lVar7 = lVar7 + 0xe0;
				lVar5 = lVar5 + -1;
			} while (lVar5 != 0);
		}
		iVar8 = iVar8 + 2;
		param_2 = param_2 + 1;
	}
	return;
}

void FUN_10086834(longlong param_1, int param_2, longlong param_3, int param_4)

{
	short sVar1;
	int iVar2;
	int iVar3;
	undefined *puVar4;
	undefined *puVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	int iVar9;
	int iVar10;
	int iVar11;

	puVar5 = PTR_DAT_100f1a54;
	puVar4 = PTR_DAT_100f1a38;
	iVar10 = param_2 << 1;
	iVar11 = param_2;
	iVar9 = iVar10;
	while (iVar11 <= param_4) {
		lVar6 = (param_3 + 1) - param_1;
		lVar7 = param_1 * 0x70;
		lVar8 = param_1 * 0xe0;
		if ((int)param_1 <= (int)param_3) {
			do {
				iVar2 = (int)lVar7;
				*(undefined *)(iVar11 + *(int *)puVar4 + iVar2) = 0;
				iVar3 = (int)lVar8;
				if (*(short *)(iVar9 + *(int *)puVar5 + iVar3) == 0x21d) {
					*(undefined *)(iVar11 + *(int *)puVar4 + iVar2) = 5;
				}
				if (*(short *)(iVar9 + *(int *)puVar5 + iVar3) == 0xb2) {
					*(undefined *)(iVar11 + *(int *)puVar4 + iVar2) = 5;
				}
				if (*(short *)(iVar9 + *(int *)puVar5 + iVar3) == 0x227) {
					*(undefined *)(iVar11 + *(int *)puVar4 + iVar2) = 5;
				}
				if (*(short *)(iVar9 + *(int *)puVar5 + iVar3) == 0x21e) {
					*(undefined *)(iVar11 + *(int *)puVar4 + iVar2) = 6;
				}
				if (*(short *)(iVar9 + *(int *)puVar5 + iVar3) == 0x229) {
					*(undefined *)(iVar11 + *(int *)puVar4 + iVar2) = 6;
				}
				if (*(short *)(iVar9 + *(int *)puVar5 + iVar3) == 0xd) {
					*(undefined *)(iVar11 + *(int *)puVar4 + iVar2) = 5;
				}
				if (*(short *)(iVar9 + *(int *)puVar5 + iVar3) == 0x11) {
					*(undefined *)(iVar11 + *(int *)puVar4 + iVar2) = 6;
				}
				lVar7 = lVar7 + 0x70;
				lVar8 = lVar8 + 0xe0;
				lVar6 = lVar6 + -1;
			} while (lVar6 != 0);
		}
		iVar9 = iVar9 + 2;
		iVar11 = iVar11 + 1;
	}
	while (param_2 <= param_4) {
		lVar6 = (param_3 + 1) - param_1;
		lVar7 = param_1 * 0xe0;
		lVar8 = param_1 * 0x70;
		if ((int)param_1 <= (int)param_3) {
			do {
				iVar11 = (int)lVar8;
				if (*(short *)(iVar10 + *(int *)puVar5 + (int)lVar7) == 0x84) {
					*(undefined *)(param_2 + *(int *)puVar4 + iVar11 + 1) = 2;
					*(undefined *)(param_2 + *(int *)puVar4 + iVar11 + 2) = 1;
				}
				sVar1 = *(short *)(iVar10 + *(int *)puVar5 + (int)lVar7);
				if ((sVar1 == 0x87) || (sVar1 == 0x8b)) {
					*(undefined *)(param_2 + *(int *)puVar4 + iVar11 + 0x70) = 3;
					*(undefined *)(param_2 + *(int *)puVar4 + iVar11 + 0xe0) = 4;
				}
				lVar7 = lVar7 + 0xe0;
				lVar8 = lVar8 + 0x70;
				lVar6 = lVar6 + -1;
			} while (lVar6 != 0);
		}
		iVar10 = iVar10 + 2;
		param_2 = param_2 + 1;
	}
	return;
}

void FUN_10086a60(int param_1, longlong param_2, int param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	short sVar1;
	undefined *puVar2;
	ulonglong uVar3;
	undefined4 in_stack_ffffffb8;

	puVar2 = PTR_DAT_100f1948;
	uVar3 = (ulonglong) * (uint *)PTR_DAT_100f1a54;
	sVar1 = *(short *)(*(uint *)PTR_DAT_100f1a54 + (int)param_2 * 0xe0 + param_3 * 2);
	if (sVar1 == 0x2b) {
		FUN_1008610c(param_2, param_3, 0x188, uVar3, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	if (sVar1 == 0x2d) {
		FUN_1008610c(param_2, param_3, 0x18a, uVar3, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	if ((sVar1 == 0x32) && (*(int *)(puVar2 + param_1 * 0x78) == 1)) {
		FUN_1008610c(param_2, param_3, 0x19b, uVar3, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	if ((sVar1 == 0x32) && (*(int *)(puVar2 + param_1 * 0x78) == 2)) {
		FUN_1008610c(param_2, param_3, 0x19c, uVar3, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	if (sVar1 == 0x36) {
		FUN_1008610c(param_2, param_3, 0x18d, uVar3, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	if (sVar1 == 0x37) {
		FUN_1008610c(param_2, param_3, 0x18e, uVar3, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	if (sVar1 == 0x3d) {
		FUN_1008610c(param_2, param_3, 399, uVar3, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	if (sVar1 == 0x43) {
		FUN_1008610c(param_2, param_3, 400, uVar3, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	if (sVar1 == 0x44) {
		FUN_1008610c(param_2, param_3, 0x191, uVar3, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	if (sVar1 == 0x45) {
		FUN_1008610c(param_2, param_3, 0x193, uVar3, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	if (sVar1 == 0x46) {
		FUN_1008610c(param_2, param_3, 0x194, uVar3, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	if (sVar1 == 0x48) {
		FUN_1008610c(param_2, param_3, 0x196, uVar3, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	if (sVar1 == 0xd4) {
		FUN_1008610c(param_2, param_3, 0x197, uVar3, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	if (sVar1 == 0x162) {
		FUN_1008610c(param_2, param_3, 0x199, uVar3, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	if (sVar1 == 0x163) {
		FUN_1008610c(param_2, param_3, 0x19a, uVar3, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	if (sVar1 == 0x19b) {
		FUN_1008610c(param_2, param_3, 0x18c, uVar3, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	if (sVar1 == 0x19c) {
		FUN_1008610c(param_2, param_3, 0x18c, uVar3, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	return;
}

ulonglong RedoPlayerVision(char param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	ulonglong uVar2;
	int iVar3;
	undefined *puVar4;

	puVar1 = PTR_DAT_100f17ec;
	uVar2 = SEXT18(param_1);
	iVar3 = 0;
	puVar4 = PTR_DAT_100f1828;
	do {
		if ((puVar4[0x1d] != '\0') && (uVar2 = (ulonglong)(byte)*puVar1, (uint)(byte)*puVar1 == *(uint *)(puVar4 + 0x34))) {
			uVar2 = ChangeVisionXY(*(int *)(puVar4 + 0xa0), *(undefined4 *)(puVar4 + 0x38),
			    *(undefined4 *)(puVar4 + 0x3c));
		}
		iVar3 = iVar3 + 1;
		puVar4 = puVar4 + 0x55ec;
	} while (iVar3 < 4);
	return uVar2;
}

void FUN_10086ce0(int param_1, uint param_2, int param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	uint uVar3;
	int *piVar4;
	undefined *puVar5;
	uint *puVar6;
	undefined *puVar7;
	int iVar8;
	int iVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined8 uVar12;
	undefined **ppuVar13;
	undefined uVar16;
	undefined8 uVar14;
	longlong lVar15;
	ulonglong uVar17;
	undefined uVar20;
	undefined8 uVar18;
	longlong lVar19;
	undefined uVar21;
	undefined uVar23;
	ulonglong uVar22;
	undefined7 uVar24;
	undefined uVar25;
	undefined uVar26;
	undefined uVar27;
	undefined uVar28;
	ulonglong uVar29;
	undefined4 in_stack_ffffff98;

	puVar11 = PTR_DAT_100f1f60;
	puVar7 = PTR_DAT_100f1948;
	puVar10 = PTR_DAT_100f1824;
	uVar24 = (undefined7)((ulonglong)param_5 >> 8);
	uVar25 = (undefined)param_5;
	ppuVar13 = &toc;
	uVar29 = ZEXT48(PTR_DAT_100f1948);
	iVar9 = (int)((longlong)(int)param_2 * 0x78);
	piVar4 = (int *)(PTR_DAT_100f1948 + iVar9 + 100);
	if (*piVar4 == 2) {
		if (*(int *)PTR_DAT_100f1f60 == 0) {
			PlaySfxLoc(0x13, (ulonglong) * (uint *)(PTR_DAT_100f1948 + iVar9 + 4),
			    (ulonglong) * (uint *)(PTR_DAT_100f1948 + iVar9 + 8), param_4, param_5, param_6,
			    param_7, param_8, in_stack_ffffff98);
		}
	} else {
		puVar5 = PTR_DAT_100f1948 + iVar9;
		uVar1 = *(uint *)(puVar5 + 8);
		uVar21 = (undefined)uVar1;
		puVar6 = (uint *)(PTR_DAT_100f1948 + iVar9 + 4);
		uVar3 = *puVar6;
		uVar17 = (ulonglong)uVar3;
		if (*piVar4 == 0) {
			if ((param_1 == *(int *)PTR_DAT_100f1824) && (param_3 != 0)) {
				ppuVar13 = &toc;
				NetSendCmdParam1(1, 0x2b, (ulonglong)(param_2 & 0xffff), param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffff98);
			}
			if (*(int *)puVar11 == 0) {
				PlaySfxLoc(0x14, (ulonglong)*puVar6, (ulonglong) * (uint *)(puVar5 + 8), param_4,
				    CONCAT71(uVar24, uVar25), param_6, param_7, param_8, in_stack_ffffff98);
			}
			FUN_1008610c(uVar17, uVar1, 0x18b, param_4, CONCAT71(uVar24, uVar25), param_6, param_7, param_8,
			    in_stack_ffffff98);
			*(undefined *)(*(int *)ppuVar13[-0x1d66] + uVar3 * 0x70 + uVar1) = 8;
			FUN_10086454(uVar17, (ulonglong)uVar1 - 1, 8, param_4, CONCAT71(uVar24, uVar25), param_6, param_7,
			    param_8, in_stack_ffffff98);
			uVar28 = (undefined)param_8;
			uVar27 = (undefined)param_7;
			uVar26 = (undefined)param_6;
			uVar23 = (undefined)param_4;
			puVar7 = puVar7 + iVar9;
			uVar20 = (undefined)(uVar17 - 1);
			*(int *)(puVar7 + 0x24) = *(int *)(puVar7 + 0x24) + 2;
			*(undefined4 *)(puVar7 + 0x44) = 1;
			uVar16 = FUN_10086a60(param_2, uVar17 - 1, uVar1, param_4, CONCAT71(uVar24, uVar25), param_6, param_7, param_8, in_stack_ffffff98);
			*piVar4 = 1;
			puVar7[0x40] = 2;
			RedoPlayerVision(uVar16, uVar20, uVar21, uVar23, uVar25, uVar26, uVar27, uVar28, in_stack_ffffff98);
		} else {
			if (*(int *)PTR_DAT_100f1f60 == 0) {
				ppuVar13 = &toc;
				PlaySfxLoc(0x13, uVar17, (ulonglong)uVar1, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffff98);
			}
			iVar8 = uVar3 * 0x70 + uVar1;
			uVar22 = (ulonglong) * (uint *)ppuVar13[-0x1d9f];
			uVar14 = countLeadingZeros(-(int)*(char *)(*(int *)ppuVar13[-0x1da3] + iVar8));
			uVar18 = countLeadingZeros(-(int)*(short *)(*(uint *)ppuVar13[-0x1d9f] + uVar3 * 0xe0 + uVar1 * 2));
			uVar12 = countLeadingZeros(-(int)*(char *)(*(int *)ppuVar13[-0x1d8c] + iVar8));
			if (((uint)uVar14 >> 5 & 0xff & (uint)uVar18 >> 5 & 0xff & (uint)uVar12 >> 5 & 0xff) == 0) {
				*piVar4 = 2;
			} else {
				if ((param_1 == *(int *)puVar10) && (param_3 != 0)) {
					NetSendCmdParam1(1, 0x2c, (ulonglong)(param_2 & 0xffff), uVar22, CONCAT71(uVar24, uVar25), param_6,
					    param_7, param_8, in_stack_ffffff98);
				}
				puVar7 = puVar7 + iVar9;
				*piVar4 = 0;
				puVar7[0x40] = 3;
				FUN_1008610c(uVar17, uVar1, (ulonglong) * (uint *)(puVar7 + 0x58), uVar22, CONCAT71(uVar24, uVar25), param_6, param_7, param_8, in_stack_ffffff98);
				uVar26 = (undefined)param_8;
				uVar23 = (undefined)param_7;
				uVar20 = (undefined)param_6;
				uVar16 = (undefined)uVar22;
				uVar2 = *(uint *)(puVar7 + 0x5c);
				uVar21 = (undefined)uVar2;
				if (uVar2 == 0x32) {
					if (*(short *)(*(int *)ppuVar13[-0x1d5f] + uVar3 * 0xe0 + uVar1 * 2 + -0xe0) == 0x18c) {
						uVar21 = 0x9b;
						FUN_1008610c(uVar17 - 1, uVar1, 0x19b, uVar22, CONCAT71(uVar24, uVar25), param_6, param_7,
						    param_8, in_stack_ffffff98);
					} else {
						FUN_1008610c(uVar17 - 1, uVar1, (ulonglong)uVar2, uVar22, CONCAT71(uVar24, uVar25), param_6,
						    param_7, param_8, in_stack_ffffff98);
					}
				} else {
					FUN_1008610c(uVar17 - 1, uVar1, (ulonglong)uVar2, uVar22, CONCAT71(uVar24, uVar25), param_6,
					    param_7, param_8, in_stack_ffffff98);
				}
				lVar19 = uVar29 + (longlong)(int)param_2 * 0x78;
				iVar9 = (int)lVar19;
				lVar15 = (ulonglong) * (uint *)(iVar9 + 0x24) - 2;
				*(undefined4 *)(iVar9 + 0x24) = (int)lVar15;
				*(undefined4 *)(iVar9 + 0x44) = 0;
				RedoPlayerVision((char)lVar15, (char)lVar19, uVar21, uVar16, uVar25, uVar20, uVar23, uVar26,
				    in_stack_ffffff98);
			}
		}
	}
	return;
}

void FUN_10086f74(int param_1, uint param_2, int param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	uint uVar3;
	int *piVar4;
	undefined *puVar5;
	uint *puVar6;
	undefined *puVar7;
	int iVar8;
	int iVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined8 uVar12;
	undefined **ppuVar13;
	undefined **ppuVar14;
	undefined uVar17;
	undefined8 uVar15;
	longlong lVar16;
	ulonglong uVar18;
	undefined8 uVar19;
	longlong lVar20;
	ulonglong uVar21;
	undefined uVar22;
	undefined uVar23;
	undefined7 uVar24;
	undefined uVar25;
	undefined uVar26;
	undefined uVar27;
	undefined uVar28;
	ulonglong uVar29;
	undefined4 in_stack_ffffff98;

	puVar11 = PTR_DAT_100f1f60;
	puVar7 = PTR_DAT_100f1948;
	puVar10 = PTR_DAT_100f1824;
	uVar24 = (undefined7)((ulonglong)param_5 >> 8);
	uVar25 = (undefined)param_5;
	ppuVar13 = &toc;
	ppuVar14 = &toc;
	uVar29 = ZEXT48(PTR_DAT_100f1948);
	iVar9 = (int)((longlong)(int)param_2 * 0x78);
	piVar4 = (int *)(PTR_DAT_100f1948 + iVar9 + 100);
	if (*piVar4 == 2) {
		if (*(int *)PTR_DAT_100f1f60 == 0) {
			PlaySfxLoc(0x13, (ulonglong) * (uint *)(PTR_DAT_100f1948 + iVar9 + 4),
			    (ulonglong) * (uint *)(PTR_DAT_100f1948 + iVar9 + 8), param_4, param_5, param_6,
			    param_7, param_8, in_stack_ffffff98);
		}
	} else {
		puVar5 = PTR_DAT_100f1948 + iVar9;
		uVar1 = *(uint *)(puVar5 + 8);
		uVar21 = (ulonglong)uVar1;
		puVar6 = (uint *)(PTR_DAT_100f1948 + iVar9 + 4);
		uVar3 = *puVar6;
		uVar18 = (ulonglong)uVar3;
		uVar18._7_1_ = (undefined)uVar3;
		if (*piVar4 == 0) {
			if ((param_1 == *(int *)PTR_DAT_100f1824) && (param_3 != 0)) {
				ppuVar13 = &toc;
				NetSendCmdParam1(1, 0x2b, (ulonglong)(param_2 & 0xffff), param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffff98);
			}
			if (*(int *)puVar11 == 0) {
				PlaySfxLoc(0x14, (ulonglong)*puVar6, (ulonglong) * (uint *)(puVar5 + 8), param_4,
				    CONCAT71(uVar24, uVar25), param_6, param_7, param_8, in_stack_ffffff98);
			}
			if (*(int *)(puVar7 + iVar9 + 0x58) == 0xd6) {
				FUN_1008610c(uVar18, uVar1, 0x198, param_4, CONCAT71(uVar24, uVar25), param_6, param_7, param_8,
				    in_stack_ffffff98);
			} else {
				FUN_1008610c(uVar18, uVar1, 0x189, param_4, CONCAT71(uVar24, uVar25), param_6, param_7, param_8,
				    in_stack_ffffff98);
			}
			*(undefined *)(*(int *)ppuVar13[-0x1d66] + uVar3 * 0x70 + uVar1) = 7;
			FUN_10086454(uVar18 - 1, uVar21, 7, param_4, CONCAT71(uVar24, uVar25), param_6, param_7, param_8,
			    in_stack_ffffff98);
			uVar28 = (undefined)param_8;
			uVar27 = (undefined)param_7;
			uVar26 = (undefined)param_6;
			uVar23 = (undefined)param_4;
			puVar7 = puVar7 + iVar9;
			uVar22 = (undefined)(uVar21 - 1);
			*(int *)(puVar7 + 0x24) = *(int *)(puVar7 + 0x24) + 2;
			*(undefined4 *)(puVar7 + 0x44) = 1;
			uVar17 = FUN_10086a60(param_2, uVar18, (int)(uVar21 - 1), param_4, CONCAT71(uVar24, uVar25), param_6, param_7, param_8, in_stack_ffffff98);
			*piVar4 = 1;
			puVar7[0x40] = 2;
			RedoPlayerVision(uVar17, (undefined)uVar18, uVar22, uVar23, uVar25, uVar26, uVar27, uVar28,
			    in_stack_ffffff98);
		} else {
			if (*(int *)PTR_DAT_100f1f60 == 0) {
				ppuVar14 = ppuVar13;
				PlaySfxLoc(0x13, uVar18, uVar21, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff98);
			}
			iVar8 = uVar3 * 0x70 + uVar1;
			uVar21 = (ulonglong) * (uint *)ppuVar14[-0x1d9f];
			uVar15 = countLeadingZeros(-(int)*(char *)(*(int *)ppuVar14[-0x1da3] + iVar8));
			uVar19 = countLeadingZeros(-(int)*(short *)(*(uint *)ppuVar14[-0x1d9f] + uVar3 * 0xe0 + uVar1 * 2));
			uVar12 = countLeadingZeros(-(int)*(char *)(*(int *)ppuVar14[-0x1d8c] + iVar8));
			if (((uint)uVar15 >> 5 & 0xff & (uint)uVar19 >> 5 & 0xff & (uint)uVar12 >> 5 & 0xff) == 0) {
				*piVar4 = 2;
			} else {
				if ((param_1 == *(int *)puVar10) && (param_3 != 0)) {
					NetSendCmdParam1(1, 0x2c, (ulonglong)(param_2 & 0xffff), uVar21, CONCAT71(uVar24, uVar25), param_6,
					    param_7, param_8, in_stack_ffffff98);
				}
				puVar7 = puVar7 + iVar9;
				*piVar4 = 0;
				puVar7[0x40] = 3;
				FUN_1008610c(uVar18, uVar1, (ulonglong) * (uint *)(puVar7 + 0x58), uVar21, CONCAT71(uVar24, uVar25), param_6, param_7, param_8, in_stack_ffffff98);
				uVar26 = (undefined)param_8;
				uVar23 = (undefined)param_7;
				uVar22 = (undefined)param_6;
				uVar17 = (undefined)uVar21;
				uVar2 = *(uint *)(puVar7 + 0x5c);
				uVar18._7_1_ = (undefined)uVar2;
				if (uVar2 == 0x32) {
					if (*(short *)(*(int *)ppuVar14[-0x1d5f] + uVar3 * 0xe0 + uVar1 * 2 + -2) == 0x18c) {
						uVar18._7_1_ = 0x9c;
						FUN_1008610c(uVar18, uVar1 - 1, 0x19c, uVar21, CONCAT71(uVar24, uVar25), param_6, param_7,
						    param_8, in_stack_ffffff98);
					} else {
						FUN_1008610c(uVar18, uVar1 - 1, (ulonglong)uVar2, uVar21, CONCAT71(uVar24, uVar25), param_6,
						    param_7, param_8, in_stack_ffffff98);
					}
				} else {
					FUN_1008610c(uVar18, uVar1 - 1, (ulonglong)uVar2, uVar21, CONCAT71(uVar24, uVar25), param_6,
					    param_7, param_8, in_stack_ffffff98);
				}
				lVar20 = uVar29 + (longlong)(int)param_2 * 0x78;
				iVar9 = (int)lVar20;
				lVar16 = (ulonglong) * (uint *)(iVar9 + 0x24) - 2;
				*(undefined4 *)(iVar9 + 0x24) = (int)lVar16;
				*(undefined4 *)(iVar9 + 0x44) = 0;
				RedoPlayerVision((char)lVar16, (char)lVar20, (undefined)uVar18, uVar17, uVar25, uVar22, uVar23, uVar26,
				    in_stack_ffffff98);
			}
		}
	}
	return;
}

void FUN_1008722c(int param_1, uint param_2, int param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	int iVar3;
	uint uVar4;
	int *piVar5;
	undefined *puVar6;
	uint *puVar7;
	int iVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined8 uVar12;
	undefined **ppuVar13;
	undefined8 uVar14;
	ulonglong uVar15;
	longlong lVar16;
	undefined8 uVar17;
	longlong lVar18;
	undefined uVar19;
	undefined uVar21;
	ulonglong uVar20;
	undefined uVar22;
	undefined uVar23;
	undefined uVar24;
	undefined uVar25;
	undefined uVar26;
	ulonglong uVar27;
	undefined4 in_stack_ffffff98;

	puVar11 = PTR_DAT_100f1f60;
	puVar9 = PTR_DAT_100f1948;
	puVar10 = PTR_DAT_100f1824;
	ppuVar13 = &toc;
	uVar27 = ZEXT48(PTR_DAT_100f1948);
	iVar3 = (int)((longlong)(int)param_2 * 0x78);
	piVar5 = (int *)(PTR_DAT_100f1948 + iVar3 + 100);
	if (*piVar5 == 2) {
		if (*(int *)PTR_DAT_100f1f60 == 0) {
			PlaySfxLoc(0x13, (ulonglong) * (uint *)(PTR_DAT_100f1948 + iVar3 + 4),
			    (ulonglong) * (uint *)(PTR_DAT_100f1948 + iVar3 + 8), param_4, param_5, param_6,
			    param_7, param_8, in_stack_ffffff98);
		}
	} else {
		puVar6 = PTR_DAT_100f1948 + iVar3;
		uVar1 = *(uint *)(puVar6 + 8);
		uVar19 = (undefined)uVar1;
		puVar7 = (uint *)(PTR_DAT_100f1948 + iVar3 + 4);
		uVar4 = *puVar7;
		uVar15 = (ulonglong)uVar4;
		if (*piVar5 == 0) {
			if ((param_1 == *(int *)PTR_DAT_100f1824) && (param_3 != 0)) {
				NetSendCmdParam1(1, 0x2b, (ulonglong)(param_2 & 0xffff), param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffff98);
			}
			if (*(int *)puVar11 == 0) {
				PlaySfxLoc(0x14, (ulonglong)*puVar7, (ulonglong) * (uint *)(puVar6 + 8), param_4, param_5,
				    param_6, param_7, param_8, in_stack_ffffff98);
			}
			uVar25 = (undefined)param_8;
			uVar23 = (undefined)param_7;
			uVar22 = (undefined)param_6;
			uVar21 = (undefined)param_5;
			uVar19 = (undefined)param_4;
			FUN_1008610c(uVar15, uVar1, 0x11, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff98);
			lVar18 = uVar27 + (longlong)(int)param_2 * 0x78;
			iVar3 = (int)lVar18;
			lVar16 = (ulonglong) * (uint *)(iVar3 + 0x24) + 2;
			*(undefined4 *)(iVar3 + 0x24) = (int)lVar16;
			*(undefined4 *)(iVar3 + 0x44) = 1;
			*piVar5 = 1;
			*(undefined *)(iVar3 + 0x40) = 2;
			RedoPlayerVision(1, (char)lVar16, (char)lVar18, uVar19, uVar21, uVar22, uVar23, uVar25, in_stack_ffffff98);
		} else {
			if (*(int *)PTR_DAT_100f1f60 == 0) {
				ppuVar13 = &toc;
				PlaySfxLoc(0x13, uVar15, (ulonglong)uVar1, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffff98);
			}
			uVar20 = ZEXT48(ppuVar13[-0x1d9f]);
			iVar8 = uVar4 * 0x70 + uVar1;
			uVar2 = *(uint *)ppuVar13[-0x1d9f];
			uVar27 = (ulonglong)uVar2;
			uVar14 = countLeadingZeros(-(int)*(char *)(*(int *)ppuVar13[-0x1da3] + iVar8));
			uVar17 = countLeadingZeros(-(int)*(short *)(uVar2 + uVar4 * 0xe0 + uVar1 * 2));
			uVar12 = countLeadingZeros(-(int)*(char *)(*(int *)ppuVar13[-0x1d8c] + iVar8));
			if (((uint)uVar14 >> 5 & 0xff & (uint)uVar17 >> 5 & 0xff & (uint)uVar12 >> 5 & 0xff) == 0) {
				*piVar5 = 2;
			} else {
				if ((param_1 == *(int *)puVar10) && (param_3 != 0)) {
					NetSendCmdParam1(1, 0x2c, (ulonglong)(param_2 & 0xffff), uVar27, uVar20, param_6, param_7, param_8,
					    in_stack_ffffff98);
				}
				uVar26 = (undefined)param_8;
				uVar24 = (undefined)param_7;
				uVar25 = (undefined)param_6;
				uVar23 = (undefined)uVar20;
				uVar22 = (undefined)uVar27;
				puVar9 = puVar9 + iVar3;
				*piVar5 = 0;
				puVar9[0x40] = 3;
				uVar21 = 0x1c;
				FUN_1008610c(uVar15, uVar1, 0x21c, uVar27, uVar20, param_6, param_7, param_8, in_stack_ffffff98);
				iVar3 = *(int *)(puVar9 + 0x24);
				*(int *)(puVar9 + 0x24) = iVar3 + -2;
				*(undefined4 *)(puVar9 + 0x44) = 0;
				RedoPlayerVision((char)iVar3, uVar19, uVar21, uVar22, uVar23, uVar25, uVar24, uVar26, in_stack_ffffff98);
			}
		}
	}
	return;
}

void FUN_1008742c(int param_1, uint param_2, int param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	int iVar3;
	uint uVar4;
	int *piVar5;
	undefined *puVar6;
	uint *puVar7;
	int iVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined8 uVar12;
	undefined **ppuVar13;
	undefined8 uVar14;
	ulonglong uVar15;
	longlong lVar16;
	undefined8 uVar17;
	longlong lVar18;
	undefined uVar19;
	undefined uVar21;
	ulonglong uVar20;
	undefined uVar22;
	undefined uVar23;
	undefined uVar24;
	undefined uVar25;
	undefined uVar26;
	ulonglong uVar27;
	undefined4 in_stack_ffffff98;

	puVar11 = PTR_DAT_100f1f60;
	puVar9 = PTR_DAT_100f1948;
	puVar10 = PTR_DAT_100f1824;
	ppuVar13 = &toc;
	uVar27 = ZEXT48(PTR_DAT_100f1948);
	iVar3 = (int)((longlong)(int)param_2 * 0x78);
	piVar5 = (int *)(PTR_DAT_100f1948 + iVar3 + 100);
	if (*piVar5 == 2) {
		if (*(int *)PTR_DAT_100f1f60 == 0) {
			PlaySfxLoc(0x13, (ulonglong) * (uint *)(PTR_DAT_100f1948 + iVar3 + 4),
			    (ulonglong) * (uint *)(PTR_DAT_100f1948 + iVar3 + 8), param_4, param_5, param_6,
			    param_7, param_8, in_stack_ffffff98);
		}
	} else {
		puVar6 = PTR_DAT_100f1948 + iVar3;
		uVar1 = *(uint *)(puVar6 + 8);
		uVar19 = (undefined)uVar1;
		puVar7 = (uint *)(PTR_DAT_100f1948 + iVar3 + 4);
		uVar4 = *puVar7;
		uVar15 = (ulonglong)uVar4;
		if (*piVar5 == 0) {
			if ((param_1 == *(int *)PTR_DAT_100f1824) && (param_3 != 0)) {
				NetSendCmdParam1(1, 0x2b, (ulonglong)(param_2 & 0xffff), param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffff98);
			}
			if (*(int *)puVar11 == 0) {
				PlaySfxLoc(0x14, (ulonglong)*puVar7, (ulonglong) * (uint *)(puVar6 + 8), param_4, param_5,
				    param_6, param_7, param_8, in_stack_ffffff98);
			}
			uVar25 = (undefined)param_8;
			uVar23 = (undefined)param_7;
			uVar22 = (undefined)param_6;
			uVar21 = (undefined)param_5;
			uVar19 = (undefined)param_4;
			FUN_1008610c(uVar15, uVar1, 0xd, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff98);
			lVar18 = uVar27 + (longlong)(int)param_2 * 0x78;
			iVar3 = (int)lVar18;
			lVar16 = (ulonglong) * (uint *)(iVar3 + 0x24) + 2;
			*(undefined4 *)(iVar3 + 0x24) = (int)lVar16;
			*(undefined4 *)(iVar3 + 0x44) = 1;
			*piVar5 = 1;
			*(undefined *)(iVar3 + 0x40) = 2;
			RedoPlayerVision(1, (char)lVar16, (char)lVar18, uVar19, uVar21, uVar22, uVar23, uVar25, in_stack_ffffff98);
		} else {
			if (*(int *)PTR_DAT_100f1f60 == 0) {
				ppuVar13 = &toc;
				PlaySfxLoc(0x13, uVar15, (ulonglong)uVar1, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffff98);
			}
			uVar20 = ZEXT48(ppuVar13[-0x1d9f]);
			iVar8 = uVar4 * 0x70 + uVar1;
			uVar2 = *(uint *)ppuVar13[-0x1d9f];
			uVar27 = (ulonglong)uVar2;
			uVar14 = countLeadingZeros(-(int)*(char *)(*(int *)ppuVar13[-0x1da3] + iVar8));
			uVar17 = countLeadingZeros(-(int)*(short *)(uVar2 + uVar4 * 0xe0 + uVar1 * 2));
			uVar12 = countLeadingZeros(-(int)*(char *)(*(int *)ppuVar13[-0x1d8c] + iVar8));
			if (((uint)uVar14 >> 5 & 0xff & (uint)uVar17 >> 5 & 0xff & (uint)uVar12 >> 5 & 0xff) == 0) {
				*piVar5 = 2;
			} else {
				if ((param_1 == *(int *)puVar10) && (param_3 != 0)) {
					NetSendCmdParam1(1, 0x2c, (ulonglong)(param_2 & 0xffff), uVar27, uVar20, param_6, param_7, param_8,
					    in_stack_ffffff98);
				}
				uVar26 = (undefined)param_8;
				uVar24 = (undefined)param_7;
				uVar25 = (undefined)param_6;
				uVar23 = (undefined)uVar20;
				uVar22 = (undefined)uVar27;
				puVar9 = puVar9 + iVar3;
				*piVar5 = 0;
				puVar9[0x40] = 3;
				uVar21 = 0x1a;
				FUN_1008610c(uVar15, uVar1, 0x21a, uVar27, uVar20, param_6, param_7, param_8, in_stack_ffffff98);
				iVar3 = *(int *)(puVar9 + 0x24);
				*(int *)(puVar9 + 0x24) = iVar3 + -2;
				*(undefined4 *)(puVar9 + 0x44) = 0;
				RedoPlayerVision((char)iVar3, uVar19, uVar21, uVar22, uVar23, uVar25, uVar24, uVar26, in_stack_ffffff98);
			}
		}
	}
	return;
}

void FUN_1008762c(int param_1, uint param_2, int param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	int iVar3;
	uint uVar4;
	int *piVar5;
	undefined *puVar6;
	uint *puVar7;
	int iVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined8 uVar12;
	undefined **ppuVar13;
	undefined8 uVar14;
	ulonglong uVar15;
	longlong lVar16;
	undefined8 uVar17;
	longlong lVar18;
	undefined uVar19;
	undefined uVar21;
	ulonglong uVar20;
	undefined uVar22;
	undefined uVar23;
	undefined uVar24;
	undefined uVar25;
	undefined uVar26;
	ulonglong uVar27;
	undefined4 in_stack_ffffff98;

	puVar11 = PTR_DAT_100f1f60;
	puVar9 = PTR_DAT_100f1948;
	puVar10 = PTR_DAT_100f1824;
	ppuVar13 = &toc;
	uVar27 = ZEXT48(PTR_DAT_100f1948);
	iVar3 = (int)((longlong)(int)param_2 * 0x78);
	piVar5 = (int *)(PTR_DAT_100f1948 + iVar3 + 100);
	if (*piVar5 == 2) {
		if (*(int *)PTR_DAT_100f1f60 == 0) {
			PlaySfxLoc(0x13, (ulonglong) * (uint *)(PTR_DAT_100f1948 + iVar3 + 4),
			    (ulonglong) * (uint *)(PTR_DAT_100f1948 + iVar3 + 8), param_4, param_5, param_6,
			    param_7, param_8, in_stack_ffffff98);
		}
	} else {
		puVar6 = PTR_DAT_100f1948 + iVar3;
		uVar1 = *(uint *)(puVar6 + 8);
		uVar19 = (undefined)uVar1;
		puVar7 = (uint *)(PTR_DAT_100f1948 + iVar3 + 4);
		uVar4 = *puVar7;
		uVar15 = (ulonglong)uVar4;
		if (*piVar5 == 0) {
			if ((param_1 == *(int *)PTR_DAT_100f1824) && (param_3 != 0)) {
				NetSendCmdParam1(1, 0x2b, (ulonglong)(param_2 & 0xffff), param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffff98);
			}
			if (*(int *)puVar11 == 0) {
				PlaySfxLoc(0x14, (ulonglong)*puVar7, (ulonglong) * (uint *)(puVar6 + 8), param_4, param_5,
				    param_6, param_7, param_8, in_stack_ffffff98);
			}
			uVar25 = (undefined)param_8;
			uVar23 = (undefined)param_7;
			uVar22 = (undefined)param_6;
			uVar21 = (undefined)param_5;
			uVar19 = (undefined)param_4;
			FUN_1008610c(uVar15, uVar1, 0x21d, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff98);
			lVar18 = uVar27 + (longlong)(int)param_2 * 0x78;
			iVar3 = (int)lVar18;
			lVar16 = (ulonglong) * (uint *)(iVar3 + 0x24) + 2;
			*(undefined4 *)(iVar3 + 0x24) = (int)lVar16;
			*(undefined4 *)(iVar3 + 0x44) = 1;
			*piVar5 = 1;
			*(undefined *)(iVar3 + 0x40) = 2;
			RedoPlayerVision(1, (char)lVar16, (char)lVar18, uVar19, uVar21, uVar22, uVar23, uVar25, in_stack_ffffff98);
		} else {
			if (*(int *)PTR_DAT_100f1f60 == 0) {
				ppuVar13 = &toc;
				PlaySfxLoc(0x13, uVar15, (ulonglong)uVar1, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffff98);
			}
			uVar20 = ZEXT48(ppuVar13[-0x1d9f]);
			iVar8 = uVar4 * 0x70 + uVar1;
			uVar2 = *(uint *)ppuVar13[-0x1d9f];
			uVar27 = (ulonglong)uVar2;
			uVar14 = countLeadingZeros(-(int)*(char *)(*(int *)ppuVar13[-0x1da3] + iVar8));
			uVar17 = countLeadingZeros(-(int)*(short *)(uVar2 + uVar4 * 0xe0 + uVar1 * 2));
			uVar12 = countLeadingZeros(-(int)*(char *)(*(int *)ppuVar13[-0x1d8c] + iVar8));
			if (((uint)uVar14 >> 5 & 0xff & (uint)uVar17 >> 5 & 0xff & (uint)uVar12 >> 5 & 0xff) == 0) {
				*piVar5 = 2;
			} else {
				if ((param_1 == *(int *)puVar10) && (param_3 != 0)) {
					NetSendCmdParam1(1, 0x2c, (ulonglong)(param_2 & 0xffff), uVar27, uVar20, param_6, param_7, param_8,
					    in_stack_ffffff98);
				}
				uVar26 = (undefined)param_8;
				uVar24 = (undefined)param_7;
				uVar25 = (undefined)param_6;
				uVar23 = (undefined)uVar20;
				uVar22 = (undefined)uVar27;
				puVar9 = puVar9 + iVar3;
				*piVar5 = 0;
				puVar9[0x40] = 3;
				uVar21 = 0x16;
				FUN_1008610c(uVar15, uVar1, 0x216, uVar27, uVar20, param_6, param_7, param_8, in_stack_ffffff98);
				iVar3 = *(int *)(puVar9 + 0x24);
				*(int *)(puVar9 + 0x24) = iVar3 + -2;
				*(undefined4 *)(puVar9 + 0x44) = 0;
				RedoPlayerVision((char)iVar3, uVar19, uVar21, uVar22, uVar23, uVar25, uVar24, uVar26, in_stack_ffffff98);
			}
		}
	}
	return;
}

void FUN_1008782c(int param_1, uint param_2, int param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	int iVar3;
	uint uVar4;
	int *piVar5;
	undefined *puVar6;
	uint *puVar7;
	int iVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined8 uVar12;
	undefined **ppuVar13;
	undefined8 uVar14;
	ulonglong uVar15;
	longlong lVar16;
	undefined8 uVar17;
	longlong lVar18;
	undefined uVar19;
	undefined uVar21;
	ulonglong uVar20;
	undefined uVar22;
	undefined uVar23;
	undefined uVar24;
	undefined uVar25;
	undefined uVar26;
	ulonglong uVar27;
	undefined4 in_stack_ffffff98;

	puVar11 = PTR_DAT_100f1f60;
	puVar9 = PTR_DAT_100f1948;
	puVar10 = PTR_DAT_100f1824;
	ppuVar13 = &toc;
	uVar27 = ZEXT48(PTR_DAT_100f1948);
	iVar3 = (int)((longlong)(int)param_2 * 0x78);
	piVar5 = (int *)(PTR_DAT_100f1948 + iVar3 + 100);
	if (*piVar5 == 2) {
		if (*(int *)PTR_DAT_100f1f60 == 0) {
			PlaySfxLoc(0x13, (ulonglong) * (uint *)(PTR_DAT_100f1948 + iVar3 + 4),
			    (ulonglong) * (uint *)(PTR_DAT_100f1948 + iVar3 + 8), param_4, param_5, param_6,
			    param_7, param_8, in_stack_ffffff98);
		}
	} else {
		puVar6 = PTR_DAT_100f1948 + iVar3;
		uVar1 = *(uint *)(puVar6 + 8);
		uVar19 = (undefined)uVar1;
		puVar7 = (uint *)(PTR_DAT_100f1948 + iVar3 + 4);
		uVar4 = *puVar7;
		uVar15 = (ulonglong)uVar4;
		if (*piVar5 == 0) {
			if ((param_1 == *(int *)PTR_DAT_100f1824) && (param_3 != 0)) {
				NetSendCmdParam1(1, 0x2b, (ulonglong)(param_2 & 0xffff), param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffff98);
			}
			if (*(int *)puVar11 == 0) {
				PlaySfxLoc(0x14, (ulonglong)*puVar7, (ulonglong) * (uint *)(puVar6 + 8), param_4, param_5,
				    param_6, param_7, param_8, in_stack_ffffff98);
			}
			uVar25 = (undefined)param_8;
			uVar23 = (undefined)param_7;
			uVar22 = (undefined)param_6;
			uVar21 = (undefined)param_5;
			uVar19 = (undefined)param_4;
			FUN_1008610c(uVar15, uVar1, 0x21a, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff98);
			lVar18 = uVar27 + (longlong)(int)param_2 * 0x78;
			iVar3 = (int)lVar18;
			lVar16 = (ulonglong) * (uint *)(iVar3 + 0x24) + 2;
			*(undefined4 *)(iVar3 + 0x24) = (int)lVar16;
			*(undefined4 *)(iVar3 + 0x44) = 1;
			*piVar5 = 1;
			*(undefined *)(iVar3 + 0x40) = 2;
			RedoPlayerVision(1, (char)lVar16, (char)lVar18, uVar19, uVar21, uVar22, uVar23, uVar25, in_stack_ffffff98);
		} else {
			if (*(int *)PTR_DAT_100f1f60 == 0) {
				ppuVar13 = &toc;
				PlaySfxLoc(0x13, uVar15, (ulonglong)uVar1, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffff98);
			}
			uVar20 = ZEXT48(ppuVar13[-0x1d9f]);
			iVar8 = uVar4 * 0x70 + uVar1;
			uVar2 = *(uint *)ppuVar13[-0x1d9f];
			uVar27 = (ulonglong)uVar2;
			uVar14 = countLeadingZeros(-(int)*(char *)(*(int *)ppuVar13[-0x1da3] + iVar8));
			uVar17 = countLeadingZeros(-(int)*(short *)(uVar2 + uVar4 * 0xe0 + uVar1 * 2));
			uVar12 = countLeadingZeros(-(int)*(char *)(*(int *)ppuVar13[-0x1d8c] + iVar8));
			if (((uint)uVar14 >> 5 & 0xff & (uint)uVar17 >> 5 & 0xff & (uint)uVar12 >> 5 & 0xff) == 0) {
				*piVar5 = 2;
			} else {
				if ((param_1 == *(int *)puVar10) && (param_3 != 0)) {
					NetSendCmdParam1(1, 0x2c, (ulonglong)(param_2 & 0xffff), uVar27, uVar20, param_6, param_7, param_8,
					    in_stack_ffffff98);
				}
				uVar26 = (undefined)param_8;
				uVar24 = (undefined)param_7;
				uVar25 = (undefined)param_6;
				uVar23 = (undefined)uVar20;
				uVar22 = (undefined)uVar27;
				puVar9 = puVar9 + iVar3;
				*piVar5 = 0;
				puVar9[0x40] = 3;
				uVar21 = 0x13;
				FUN_1008610c(uVar15, uVar1, 0x213, uVar27, uVar20, param_6, param_7, param_8, in_stack_ffffff98);
				iVar3 = *(int *)(puVar9 + 0x24);
				*(int *)(puVar9 + 0x24) = iVar3 + -2;
				*(undefined4 *)(puVar9 + 0x44) = 0;
				RedoPlayerVision((char)iVar3, uVar19, uVar21, uVar22, uVar23, uVar25, uVar24, uVar26, in_stack_ffffff98);
			}
		}
	}
	return;
}

void FUN_10087a2c(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	int iVar11;
	int *piVar12;
	ulonglong uVar13;
	ulonglong uVar14;
	uint *puVar15;
	undefined4 in_stack_ffffff98;

	puVar5 = PTR_DAT_100f1e3c;
	puVar4 = PTR_DAT_100f1948;
	puVar3 = PTR_DAT_100f1824;
	lVar10 = (longlong)param_8;
	lVar9 = (longlong)param_7;
	lVar8 = (longlong)param_6;
	uVar1 = *(uint *)(PTR_DAT_100f187c + param_1 * 0xe8 + 0x20);
	uVar14 = (ulonglong)uVar1;
	uVar2 = *(uint *)(PTR_DAT_100f187c + param_1 * 0xe8 + 0x24);
	uVar13 = (ulonglong)uVar2;
	iVar11 = *(int *)PTR_DAT_100f194c + uVar1 * 0x70 + uVar2;
	if ((((((*(char *)(iVar11 + -0x71) == '\0') && (*(char *)(iVar11 + -1) == '\0')) && (*(char *)(iVar11 + 0x6f) == '\0')) && ((*(char *)(iVar11 + -0x70) == '\0' && (*(char *)(iVar11 + 0x70) == '\0')))) && (*(char *)(iVar11 + -0x6f) == '\0')) && ((*(char *)(iVar11 + 1) == '\0' && (*(char *)(iVar11 + 0x71) == '\0')))) {
		return;
	}
	iVar11 = 0;
	puVar15 = (uint *)PTR_DAT_100f1e40;
	while (iVar11 < *(int *)puVar5) {
		uVar1 = *puVar15;
		if (((*(int *)(puVar4 + uVar1 * 0x78) == 1) || (*(int *)(puVar4 + uVar1 * 0x78) == 2)) && (piVar12 = (int *)(puVar4 + uVar1 * 0x78), piVar12[0x19] == 0)) {
			lVar6 = abs((ulonglong)(uint)piVar12[1] - uVar14);
			lVar7 = abs((ulonglong)(uint)piVar12[2] - uVar13);
			if ((((int)lVar6 == 1) && ((int)lVar7 < 2)) && (*piVar12 == 1)) {
				FUN_10086f74(*(int *)puVar3, uVar1, 1, param_4, param_5, (int)lVar8, (int)lVar9, (int)lVar10,
				    in_stack_ffffff98);
			}
			if ((((int)lVar6 < 2) && ((int)lVar7 == 1)) && (*piVar12 == 2)) {
				FUN_10086ce0(*(int *)puVar3, uVar1, 1, param_4, param_5, (int)lVar8, (int)lVar9, (int)lVar10,
				    in_stack_ffffff98);
			}
		}
		piVar12 = (int *)(puVar4 + uVar1 * 0x78);
		if (((*piVar12 == 0x2a) || (*piVar12 == 0x2b)) && (piVar12[0x19] == 0)) {
			lVar6 = abs((ulonglong)(uint)piVar12[1] - uVar14);
			lVar7 = abs((ulonglong)(uint)piVar12[2] - uVar13);
			if ((((int)lVar6 == 1) && ((int)lVar7 < 2)) && (*piVar12 == 0x2a)) {
				FUN_1008742c(*(int *)puVar3, uVar1, 1, param_4, param_5, (int)lVar8, (int)lVar9, (int)lVar10,
				    in_stack_ffffff98);
			}
			if ((((int)lVar6 < 2) && ((int)lVar7 == 1)) && (*piVar12 == 0x2b)) {
				FUN_1008722c(*(int *)puVar3, uVar1, 1, param_4, param_5, (int)lVar8, (int)lVar9, (int)lVar10,
				    in_stack_ffffff98);
			}
		}
		if (((*piVar12 == 0x4a) || (*piVar12 == 0x4b)) && (piVar12[0x19] == 0)) {
			lVar6 = abs((ulonglong)(uint)piVar12[1] - uVar14);
			lVar7 = abs((ulonglong)(uint)piVar12[2] - uVar13);
			if ((((int)lVar6 == 1) && ((int)lVar7 < 2)) && (*piVar12 == 0x4b)) {
				FUN_1008762c(*(int *)puVar3, uVar1, 1, param_4, param_5, (int)lVar8, (int)lVar9, (int)lVar10,
				    in_stack_ffffff98);
			}
			if ((((int)lVar6 < 2) && ((int)lVar7 == 1)) && (*piVar12 == 0x4a)) {
				FUN_1008782c(*(int *)puVar3, uVar1, 1, param_4, param_5, (int)lVar8, (int)lVar9, (int)lVar10,
				    in_stack_ffffff98);
			}
		}
		puVar15 = puVar15 + 1;
		iVar11 = iVar11 + 1;
	}
	return;
}

void ObjChangeMap(longlong param_1, longlong param_2, int param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined8 uVar2;
	undefined7 uVar3;
	undefined uVar4;
	undefined uVar5;
	longlong lVar6;
	undefined uVar7;
	longlong lVar8;
	undefined uVar9;
	longlong lVar10;
	longlong lVar11;
	int iVar12;
	longlong lVar13;
	longlong lVar14;
	longlong lVar15;
	int iVar16;
	longlong lVar17;
	byte *pbVar19;
	longlong lVar18;
	int iVar20;
	undefined4 in_stack_ffffff98;

	puVar1 = PTR_DAT_100f183c;
	uVar3 = (undefined7)((ulonglong)param_5 >> 8);
	uVar4 = (undefined)param_5;
	lVar8 = (longlong)param_8;
	lVar6 = (longlong)param_7;
	lVar18 = (longlong)param_6;
	lVar13 = ZEXT48(PTR_DAT_100f1a90) + param_2;
	lVar11 = ZEXT48(PTR_DAT_100f1804) + param_2;
	uVar2 = param_4;
	lVar14 = param_2;
	while (true) {
		uVar9 = (undefined)lVar8;
		uVar7 = (undefined)lVar6;
		uVar5 = (undefined)lVar18;
		iVar20 = (int)param_4;
		if (iVar20 < (int)lVar14)
			break;
		lVar17 = lVar13 + param_1 * 0x28;
		lVar15 = lVar11 + param_1 * 0x28;
		lVar10 = param_1;
		while ((int)lVar10 <= param_3) {
			pbVar19 = (byte *)lVar17;
			FUN_10086508((int)lVar10, lVar14, (ulonglong)*pbVar19, uVar2, CONCAT71(uVar3, uVar4), (int)lVar18,
			    (int)lVar6, (int)lVar8, in_stack_ffffff98);
			lVar17 = lVar17 + 0x28;
			lVar10 = lVar10 + 1;
			*(byte *)lVar15 = *pbVar19;
			lVar15 = lVar15 + 0x28;
		}
		lVar13 = lVar13 + 1;
		lVar11 = lVar11 + 1;
		lVar14 = lVar14 + 1;
	}
	if (*puVar1 == '\x01') {
		lVar18 = (ulonglong)(uint)((int)param_1 << 1) + 0x10;
		iVar16 = (int)param_2 * 2 + 0x10;
		lVar14 = (ulonglong)(uint)(param_3 << 1) + 0x11;
		iVar12 = iVar20 * 2 + 0x11;
		FUN_100865e0(lVar18, iVar16, lVar14, iVar12);
		AddL1Objs((int)lVar18, iVar16, (int)lVar14, iVar12, uVar4, uVar5, uVar7, uVar9, in_stack_ffffff98);
	}
	if (*puVar1 == '\x02') {
		lVar18 = (ulonglong)(uint)((int)param_1 << 1) + 0x10;
		iVar12 = (int)param_2 * 2 + 0x10;
		lVar14 = (ulonglong)(uint)(param_3 << 1) + 0x11;
		iVar20 = iVar20 * 2 + 0x11;
		FUN_10086834(lVar18, iVar12, lVar14, iVar20);
		AddL2Objs((int)lVar18, iVar12, (int)lVar14, iVar20, uVar4, uVar5, uVar7, uVar9, in_stack_ffffff98);
	}
	return;
}

void ObjChangeMapResync(longlong param_1, longlong param_2, int param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined8 uVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	byte *pbVar12;
	int iVar13;
	undefined4 in_stack_ffffff98;

	puVar1 = PTR_DAT_100f183c;
	lVar5 = (longlong)param_8;
	lVar4 = (longlong)param_7;
	lVar3 = (longlong)param_6;
	lVar9 = ZEXT48(PTR_DAT_100f1a90) + param_2;
	lVar8 = ZEXT48(PTR_DAT_100f1804) + param_2;
	uVar2 = param_4;
	lVar6 = param_2;
	while (iVar13 = (int)param_4, (int)lVar6 <= iVar13) {
		lVar11 = lVar9 + param_1 * 0x28;
		lVar10 = lVar8 + param_1 * 0x28;
		lVar7 = param_1;
		while ((int)lVar7 <= param_3) {
			pbVar12 = (byte *)lVar11;
			FUN_10086508((int)lVar7, lVar6, (ulonglong)*pbVar12, uVar2, param_5, (int)lVar3, (int)lVar4,
			    (int)lVar5, in_stack_ffffff98);
			lVar11 = lVar11 + 0x28;
			lVar7 = lVar7 + 1;
			*(byte *)lVar10 = *pbVar12;
			lVar10 = lVar10 + 0x28;
		}
		lVar9 = lVar9 + 1;
		lVar8 = lVar8 + 1;
		lVar6 = lVar6 + 1;
	}
	if (*puVar1 == '\x01') {
		FUN_100865e0((ulonglong)(uint)((int)param_1 << 1) + 0x10, (int)param_2 * 2 + 0x10,
		    (ulonglong)(uint)(param_3 << 1) + 0x11, iVar13 * 2 + 0x11);
	}
	if (*puVar1 == '\x02') {
		FUN_10086834((ulonglong)(uint)((int)param_1 << 1) + 0x10, (int)param_2 * 2 + 0x10,
		    (ulonglong)(uint)(param_3 << 1) + 0x11, iVar13 * 2 + 0x11);
	}
	return;
}

void FUN_10087f38(int param_1, uint param_2, int param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	longlong lVar2;
	longlong lVar3;
	int iVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined4 in_stack_ffffffa8;

	puVar1 = PTR_DAT_100f1948;
	iVar4 = param_2 * 0x78;
	puVar6 = PTR_DAT_100f1948 + iVar4;
	puVar5 = PTR_DAT_100f1828 + param_1 * 0x55ec;
	lVar2 = abs((ulonglong) * (uint *)(puVar6 + 4) - (ulonglong) * (uint *)(puVar5 + 0x38));
	lVar3 = abs((ulonglong) * (uint *)(puVar6 + 8) - (ulonglong) * (uint *)(puVar5 + 0x3c));
	if ((((int)lVar2 == 1) && ((int)lVar3 < 2)) && (*(int *)(puVar1 + iVar4) == 1)) {
		FUN_10086f74(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	}
	if ((((int)lVar2 < 2) && ((int)lVar3 == 1)) && (*(int *)(puVar1 + iVar4) == 2)) {
		FUN_10086ce0(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	}
	return;
}

void OperateLever(int param_1, uint param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	char *pcVar1;
	undefined **ppuVar2;
	ulonglong uVar3;
	int *piVar4;
	ulonglong uVar5;
	undefined *puVar6;
	int iVar7;
	undefined4 in_stack_ffffffa8;

	puVar6 = PTR_DAT_100f1948;
	ppuVar2 = &toc;
	iVar7 = param_2 * 0x78;
	pcVar1 = PTR_DAT_100f1948 + iVar7 + 0x40;
	if (*pcVar1 != '\0') {
		if (*(int *)PTR_DAT_100f1f60 == 0) {
			ppuVar2 = &toc;
			PlaySfxLoc(0x3e, (ulonglong) * (uint *)(PTR_DAT_100f1948 + iVar7 + 4),
			    (ulonglong) * (uint *)(PTR_DAT_100f1948 + iVar7 + 8), param_4, param_5, param_6,
			    param_7, param_8, in_stack_ffffffa8);
		}
		*pcVar1 = '\0';
		uVar5 = 1;
		pcVar1 = ppuVar2[-0x1df9];
		*(int *)(puVar6 + iVar7 + 0x24) = *(int *)(puVar6 + iVar7 + 0x24) + 1;
		if (*pcVar1 == '\x10') {
			piVar4 = (int *)ppuVar2[-0x1c64];
			uVar3 = (ulonglong) * (uint *)ppuVar2[-0x1c65];
			if (0 < (int)*(uint *)ppuVar2[-0x1c65]) {
				do {
					if (*(int *)(puVar6 + *piVar4 * 0x78) == 0x1c) {
						if ((*(int *)(puVar6 + iVar7 + 0x74) == *(int *)(puVar6 + *piVar4 * 0x78 + 0x74)) && ((puVar6 + *piVar4 * 0x78)[0x40] != '\0')) {
							uVar5 = 0;
						}
					}
					piVar4 = piVar4 + 1;
					uVar3 = uVar3 - 1;
				} while (uVar3 != 0);
			}
		}
		if ((int)uVar5 != 0) {
			puVar6 = puVar6 + iVar7;
			uVar5 = (ulonglong) * (uint *)(puVar6 + 100);
			ObjChangeMap((ulonglong) * (uint *)(puVar6 + 0x58), (ulonglong) * (uint *)(puVar6 + 0x5c),
			    *(int *)(puVar6 + 0x60), uVar5, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
		}
		if (param_1 == *(int *)ppuVar2[-0x1deb]) {
			NetSendCmdParam1(0, 0x2d, (ulonglong)(param_2 & 0xffff), uVar5, param_5, param_6, param_7, param_8,
			    in_stack_ffffffa8);
		}
	}
	return;
}

void OperateBook(undefined8 param_1, int param_2, undefined8 param_3, undefined8 param_4,
    ulonglong param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	char *pcVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	bool bVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	ulonglong uVar11;
	undefined **ppuVar12;
	int iVar13;
	longlong lVar14;
	undefined *puVar15;
	undefined4 uVar16;
	undefined4 uVar17;
	uint uVar18;
	uint *puVar19;
	int iVar20;
	undefined8 unaff_r18;
	undefined8 unaff_r19;
	int *piVar21;
	ulonglong uVar22;
	undefined4 in_stack_ffffff78;
	undefined in_stack_ffffff7f;

	puVar19 = (uint *)PTR_DAT_100f1e40;
	puVar10 = PTR_DAT_100f1e3c;
	puVar4 = PTR_DAT_100f194c;
	puVar15 = PTR_DAT_100f1948;
	puVar5 = PTR_DAT_100f1828;
	puVar9 = PTR_DAT_100f1824;
	puVar8 = PTR_DAT_100f17f8;
	puVar7 = PTR_DAT_100f17f0;
	uVar18 = (uint)param_8;
	uVar17 = (undefined4)param_7;
	uVar16 = (undefined4)param_6;
	uVar11 = ZEXT48(&toc);
	ppuVar12 = &toc;
	param_2 = param_2 * 0x78;
	uVar22 = ZEXT48(PTR_DAT_100f1828);
	pcVar1 = PTR_DAT_100f1948 + param_2 + 0x40;
	if (*pcVar1 != '\0') {
		if ((*PTR_DAT_100f17f8 != '\0') && (*PTR_DAT_100f17f0 == '\x05')) {
			puVar3 = PTR_DAT_100f1828 + (int)param_1 * 0x55ec;
			bVar6 = false;
			param_5 = 0;
			iVar20 = 0;
			piVar21 = (int *)PTR_DAT_100f1e40;
			while (true) {
				uVar18 = (uint)param_8;
				uVar17 = (undefined4)param_7;
				uVar16 = (undefined4)param_6;
				ppuVar12 = (undefined **)uVar11;
				if (*(int *)puVar10 <= iVar20)
					break;
				iVar2 = *piVar21;
				iVar13 = iVar2 * 0x78;
				if ((*(int *)(puVar15 + iVar13) == 0x55) && (*(int *)(puVar15 + iVar13 + 0x6c) == 1)) {
					*(int *)(puVar15 + iVar13 + 0x6c) = 4;
					unaff_r19 = 0x1b;
					unaff_r18 = 0x1d;
					param_5 = 1;
				}
				if ((*(int *)(puVar15 + iVar13) == 0x55) && (*(int *)(puVar15 + iVar2 * 0x78 + 0x6c) == 2)) {
					*(int *)(puVar15 + iVar2 * 0x78 + 0x6c) = 4;
					unaff_r19 = 0x2b;
					unaff_r18 = 0x1d;
					param_5 = 1;
				}
				if ((int)param_5 != 0) {
					iVar2 = (int)*(char *)(*(int *)puVar4 + 0xf74) * 0x78 + -0x10;
					param_6 = 3;
					param_7 = 0;
					*(int *)(puVar15 + iVar2) = *(int *)(puVar15 + iVar2) + 1;
					param_8 = param_1;
					AddMissile((ulonglong) * (uint *)(puVar3 + 0x38), (ulonglong) * (uint *)(puVar3 + 0x3c),
					    unaff_r19, unaff_r18, (ulonglong) * (uint *)(puVar3 + 0x70), 3, 0, param_1,
					    in_stack_ffffff78, in_stack_ffffff7f, 0, 0);
					bVar6 = true;
					param_5 = 0;
				}
				piVar21 = piVar21 + 1;
				iVar20 = iVar20 + 1;
			}
			if (!bVar6) {
				return;
			}
		}
		*pcVar1 = '\0';
		*(int *)(puVar15 + param_2 + 0x24) = *(int *)(puVar15 + param_2 + 0x24) + 1;
		if ((*puVar8 != '\0') && (*puVar7 == '\x02')) {
			lVar14 = (ulonglong) * (uint *)puVar9 * 0x55ec;
			iVar2 = (int)lVar14;
			puVar4 = puVar5 + iVar2;
			*(uint *)(puVar4 + 0x108) = *(uint *)(puVar4 + 0x108) | 0x1000;
			iVar20 = (int)(uVar22 + 0xce);
			if (*(char *)(iVar20 + (int)param_1 * 0x55ec) < '\x0f') {
				*(char *)(iVar20 + iVar2) = *(char *)(iVar20 + iVar2) + '\x01';
			}
			piVar21 = (int *)ppuVar12[-0x1c1c];
			ppuVar12[-0x1d81][0x152] = 3;
			if (*piVar21 == 0) {
				PlaySfxLoc(0xc, (ulonglong) * (uint *)(puVar15 + param_2 + 4),
				    (ulonglong) * (uint *)(puVar15 + param_2 + 8), lVar14, uVar22 + 0xce, uVar16, uVar17,
				    uVar18, in_stack_ffffff78);
			}
			InitDiabloMsg('+');
			uVar18 = *(uint *)puVar9;
			puVar5 = puVar5 + uVar18 * 0x55ec;
			uVar16 = 2;
			uVar17 = 0;
			param_5 = (ulonglong) * (uint *)(puVar5 + 0x70);
			AddMissile((ulonglong) * (uint *)(puVar5 + 0x38), (ulonglong) * (uint *)(puVar5 + 0x3c),
			    (ulonglong) * (uint *)(puVar15 + param_2 + 4) - 2,
			    (ulonglong) * (uint *)(puVar15 + param_2 + 8) - 4, param_5, 2, 0, (ulonglong)uVar18,
			    in_stack_ffffff78, in_stack_ffffff7f, 0, 0);
		}
		if ((*puVar8 != '\0') && (*puVar7 == '\x05')) {
			puVar15 = puVar15 + param_2;
			ObjChangeMapResync((ulonglong) * (uint *)(puVar15 + 0x58), (ulonglong) * (uint *)(puVar15 + 0x5c),
			    *(int *)(puVar15 + 0x60), (ulonglong) * (uint *)(puVar15 + 100), param_5, uVar16,
			    uVar17, uVar18, in_stack_ffffff78);
			iVar20 = 0;
			while (iVar20 < *(int *)puVar10) {
				SyncObjectAnim((ulonglong)*puVar19);
				puVar19 = puVar19 + 1;
				iVar20 = iVar20 + 1;
			}
		}
	}
	return;
}

void OperateBookLever(int param_1, uint param_2, undefined8 param_3, undefined8 param_4, longlong param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined uVar1;
	uint uVar2;
	uint uVar3;
	uint uVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined **ppuVar9;
	undefined *puVar10;
	ulonglong uVar11;
	ulonglong uVar12;
	undefined *puVar13;
	int iVar14;
	ulonglong uVar15;
	uint *puVar16;
	undefined4 in_stack_ffffff98;

	puVar8 = PTR_DAT_100f1ab8;
	puVar7 = PTR_DAT_100f1a84;
	puVar6 = PTR_DAT_100f1a80;
	puVar13 = PTR_DAT_100f19cc;
	puVar5 = PTR_DAT_100f1948;
	ppuVar9 = &toc;
	iVar14 = param_2 * 0x78;
	puVar16 = (uint *)(PTR_DAT_100f1948 + iVar14);
	uVar15 = ZEXT48(PTR_DAT_100f19cc);
	uVar3 = *(int *)PTR_DAT_100f1a80 * 2;
	uVar11 = (ulonglong)uVar3;
	uVar4 = *(int *)PTR_DAT_100f1a84 * 2;
	uVar12 = (ulonglong)uVar4;
	if ((*(char *)(puVar16 + 0x10) != '\0') && (*PTR_DAT_100f18a0 == '\0')) {
		uVar2 = *puVar16;
		if ((uVar2 == 0x47) && (puVar10 = PTR_DAT_100f19cc + 0xcf, PTR_DAT_100f19cc[0xcf] == '\0')) {
			PTR_DAT_100f19cc[0xc2] = 2;
			*(undefined4 *)(puVar13 + 0xd4) = 1;
			*puVar10 = 1;
		}
		if ((uVar2 == 0x48) && (param_5 = uVar15 + 0xe7, puVar13[0xe7] == '\0')) {
			puVar13[0xda] = 2;
			*(undefined4 *)(puVar13 + 0xec) = 1;
			*(undefined *)param_5 = 1;
			ppuVar9 = &toc;
			SpawnQuestItem(0x15, uVar4 + 0x13, uVar3 + 0x1a, 0, 1, (char)param_6, (char)param_7, (char)param_8,
			    in_stack_ffffff98);
			SpawnQuestItem(0x15, *(int *)puVar7 * 2 + 0x1f, *(int *)puVar6 * 2 + 0x1a, 0, 1, (char)param_6,
			    (char)param_7, (char)param_8, in_stack_ffffff98);
			uVar12 = 0;
			uVar11 = (ulonglong)(uint)(*(int *)puVar6 << 1) + 0x21;
			param_5 = 1;
			SpawnQuestItem(0x15, *(int *)puVar7 * 2 + 0x19, (int)uVar11, 0, 1, (char)param_6, (char)param_7,
			    (char)param_8, in_stack_ffffff98);
		}
		uVar2 = *puVar16;
		uVar15 = (ulonglong)uVar2;
		if ((uVar2 == 0x58) && (puVar13[0x117] == '\0')) {
			puVar13[0x10a] = 2;
			*(undefined4 *)(puVar13 + 0x11c) = 1;
			puVar13[0x117] = 1;
		}
		if (*(int *)(puVar5 + iVar14 + 0x24) != *(int *)(puVar5 + iVar14 + 0x6c)) {
			if (uVar2 != 0x48) {
				puVar13 = puVar5 + iVar14;
				uVar15 = (ulonglong) * (uint *)(puVar13 + 0x5c);
				uVar11 = (ulonglong) * (uint *)(puVar13 + 0x60);
				uVar12 = (ulonglong) * (uint *)(puVar13 + 100);
				ObjChangeMap((ulonglong) * (uint *)(puVar13 + 0x58), uVar15, *(uint *)(puVar13 + 0x60), uVar12,
				    param_5, param_6, param_7, param_8, in_stack_ffffff98);
			}
			if (*puVar16 == 0x47) {
				CreateItem(3, uVar4 + 0x15, uVar3 + 0x15, (char)uVar12, (char)param_5, (char)param_6,
				    (char)param_7, (char)param_8, in_stack_ffffff98);
				uVar1 = *puVar8;
				puVar13 = puVar5 + iVar14;
				*puVar8 = 9;
				uVar15 = (ulonglong) * (uint *)(puVar13 + 0x5c);
				uVar11 = (ulonglong) * (uint *)(puVar13 + 0x60);
				uVar12 = (ulonglong) * (uint *)(puVar13 + 100);
				DRLG_MRectTrans(*(int *)(puVar13 + 0x58), *(uint *)(puVar13 + 0x5c), *(uint *)(puVar13 + 0x60),
				    *(uint *)(puVar13 + 100));
				*puVar8 = uVar1;
			}
		}
		*(int *)(puVar5 + iVar14 + 0x24) = *(int *)(puVar5 + iVar14 + 0x6c);
		InitQTextMsg(*(int *)(puVar5 + iVar14 + 0x70), uVar15, uVar11, uVar12, param_5, param_6, param_7,
		    param_8, in_stack_ffffff98);
		if (param_1 == *(int *)ppuVar9[-0x1deb]) {
			NetSendCmdParam1(0, 0x2d, (ulonglong)(param_2 & 0xffff), uVar12, param_5, param_6, param_7, param_8,
			    in_stack_ffffff98);
		}
	}
	return;
}

void FUN_10088614(undefined4 param_1, longlong param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9,
    undefined param_10, undefined4 param_11)

{
	char cVar1;
	undefined *puVar2;
	int iVar3;
	undefined *puVar4;
	ulonglong uVar5;
	undefined **ppuVar6;
	ulonglong uVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	int iVar11;
	uint *puVar12;
	int unaff_r30;
	undefined4 in_stack_ffffffa8;

	puVar2 = PTR_DAT_100f1e3c;
	puVar4 = PTR_DAT_100f19cc;
	lVar10 = (longlong)param_8;
	lVar9 = (longlong)param_7;
	lVar8 = (longlong)param_6;
	uVar5 = ZEXT48(&toc);
	ppuVar6 = &toc;
	uVar7 = ZEXT48(PTR_DAT_100f1948) + param_2 * 0x78;
	iVar3 = (int)uVar7;
	if ((*(char *)(iVar3 + 0x40) != '\0') && (*PTR_DAT_100f18a0 == '\0')) {
		if (*(int *)(iVar3 + 0x24) != *(int *)(iVar3 + 0x6c)) {
			param_3 = (ulonglong) * (uint *)(iVar3 + 0x60);
			uVar7 = (ulonglong) * (uint *)(iVar3 + 100);
			ObjChangeMapResync((ulonglong) * (uint *)(iVar3 + 0x58), (ulonglong) * (uint *)(iVar3 + 0x5c),
			    *(uint *)(iVar3 + 0x60), uVar7, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
			iVar11 = 0;
			puVar12 = *(uint **)((int)uVar5 + -0x7190);
			while (true) {
				param_8 = (int)lVar10;
				param_7 = (int)lVar9;
				param_6 = (int)lVar8;
				ppuVar6 = (undefined **)uVar5;
				if (*(int *)puVar2 <= iVar11)
					break;
				SyncObjectAnim((ulonglong)*puVar12);
				puVar12 = puVar12 + 1;
				iVar11 = iVar11 + 1;
			}
		}
		*(undefined4 *)(iVar3 + 0x24) = *(undefined4 *)(iVar3 + 0x6c);
		if (puVar4[0x152] == '\x01') {
			puVar4[0x152] = 2;
			*(undefined4 *)(puVar4 + 0x164) = 1;
		}
		puVar2 = ppuVar6[-0x1dea];
		cVar1 = puVar2[*(int *)ppuVar6[-0x1deb] * 0x55ec + 0x15c];
		if (cVar1 == '\0') {
			unaff_r30 = 0xeb;
		} else {
			if (cVar1 == '\x01') {
				unaff_r30 = 0xf3;
			} else {
				if (cVar1 == '\x02') {
					unaff_r30 = 0xef;
				}
			}
		}
		puVar4[0x15e] = (char)unaff_r30;
		InitQTextMsg(unaff_r30, ZEXT48(puVar2), param_3, uVar7, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8);
	}
	return;
}

void OperateChest(uint param_1, uint param_2, int param_3, undefined8 param_4, ulonglong param_5,
    undefined8 param_6, undefined8 param_7, undefined8 param_8, undefined4 param_9)

{
	char *pcVar1;
	uint *puVar2;
	uint *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	ulonglong uVar7;
	int iVar8;
	int iVar9;
	undefined4 uVar10;
	undefined4 uVar11;
	int iVar12;
	int unaff_r26;
	int iVar13;
	undefined *puVar14;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined4 in_stack_ffffffa8;

	puVar6 = PTR_DAT_100f1f60;
	puVar5 = PTR_DAT_100f1948;
	puVar4 = PTR_DAT_100f1828;
	uVar7 = ZEXT48(&toc);
	iVar13 = param_2 * 0x78;
	pcVar1 = PTR_DAT_100f1948 + iVar13 + 0x40;
	if (*pcVar1 != '\0') {
		if (*(int *)PTR_DAT_100f1f60 == 0) {
			PlaySfxLoc(0x12, (ulonglong) * (uint *)(PTR_DAT_100f1948 + iVar13 + 4),
			    (ulonglong) * (uint *)(PTR_DAT_100f1948 + iVar13 + 8), param_4, param_5, (int)param_6,
			    (int)param_7, (int)param_8, in_stack_ffffff98);
		}
		iVar12 = 0;
		puVar14 = puVar5 + iVar13;
		*pcVar1 = '\0';
		*(int *)(puVar14 + 0x24) = *(int *)(puVar14 + 0x24) + 2;
		if (*(int *)puVar6 == 0) {
			SetRndSeed(*(undefined4 *)(puVar14 + 0x54));
			if (**(char **)((int)uVar7 + -0x77d8) == '\0') {
				while (true) {
					iVar8 = (int)uVar7;
					uVar11 = (undefined4)param_8;
					uVar10 = (undefined4)param_7;
					iVar9 = (int)param_6;
					if (*(int *)(puVar14 + 0x58) <= iVar12)
						break;
					if (*(int *)(puVar14 + 0x5c) == 0) {
						FUN_1004fa00(param_1, *(int *)(puVar14 + 4), *(int *)(puVar14 + 8), param_3, (char)param_5,
						    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffff98,
						    in_stack_ffffff9f, in_stack_ffffffa8);
					} else {
						param_5 = 0;
						FUN_1004f860(*(int *)(puVar14 + 4), *(int *)(puVar14 + 8), 0, param_3, 0, (char)param_6,
						    (char)param_7, (char)param_8, in_stack_ffffff98);
					}
					iVar12 = iVar12 + 1;
				}
			} else {
				iVar12 = 0;
				while (true) {
					iVar8 = (int)uVar7;
					uVar11 = (undefined4)param_8;
					uVar10 = (undefined4)param_7;
					iVar9 = (int)param_6;
					if (*(int *)(puVar14 + 0x58) <= iVar12)
						break;
					param_5 = 0;
					FUN_1004f860(*(int *)(puVar14 + 4), *(int *)(puVar14 + 8), 1, param_3, 0, (char)param_6,
					    (char)param_7, (char)param_8, in_stack_ffffff98);
					iVar12 = iVar12 + 1;
				}
			}
			if (((*(int *)(puVar5 + iVar13 + 0x48) != 0) && (0x43 < *(int *)(puVar5 + iVar13))) && (*(int *)(puVar5 + iVar13) < 0x47)) {
				puVar2 = (uint *)(puVar4 + param_1 * 0x55ec + 0x38);
				puVar3 = (uint *)(puVar4 + param_1 * 0x55ec + 0x3c);
				param_5 = GetDirection((ulonglong) * (uint *)(puVar5 + iVar13 + 4),
				    *(uint *)(puVar5 + iVar13 + 8), (ulonglong)*puVar2, *puVar3);
				iVar12 = *(int *)(puVar5 + iVar13 + 100);
				if (iVar12 == 1) {
					iVar9 = 0x1b;
				} else {
					if (iVar12 < 1) {
						iVar9 = unaff_r26;
						if (-1 < iVar12) {
							iVar9 = 0;
						}
					} else {
						iVar9 = unaff_r26;
						if (iVar12 < 3) {
							iVar9 = 0x2a;
						}
					}
				}
				uVar10 = 1;
				uVar11 = 0xffffffff;
				AddMissile((ulonglong) * (uint *)(puVar5 + iVar13 + 4),
				    (ulonglong) * (uint *)(puVar5 + iVar13 + 8), (ulonglong)*puVar2, (ulonglong)*puVar3, param_5, iVar9, 1, 0xffffffffffffffff, in_stack_ffffff98, in_stack_ffffff9f, 0, 0);
				*(int *)(puVar5 + iVar13 + 0x48) = 0;
			}
			if (param_1 == **(uint **)(iVar8 + -0x77ac)) {
				NetSendCmdParam2(0, 0x2e, (ulonglong)(param_1 & 0xffff), (ulonglong)(param_2 & 0xffff), param_5,
				    iVar9, uVar10, uVar11, in_stack_ffffff98);
			}
		}
	}
	return;
}

void OperateMushPatch(int param_1, int param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	char *pcVar1;
	char cVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined8 unaff_r27;
	undefined *puVar9;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffffa8;
	int local_28;
	int local_24[4];
	undefined4 local_14;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar3 = PTR_DAT_100f1f60;
	puVar4 = PTR_DAT_100f1948;
	uVar5 = (undefined)param_5;
	uVar8 = (undefined)param_8;
	uVar7 = (undefined)param_7;
	uVar6 = (undefined)param_6;
	local_14 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	if ((PTR_DAT_100f19cc[0x1a] != '\x02') || (puVar9 = PTR_DAT_100f19cc + 0x27, (byte)PTR_DAT_100f19cc[0x27] < 2)) {
		if ((*(int *)PTR_DAT_100f1f60 == 0) && (param_1 == *(int *)PTR_DAT_100f1824)) {
			cVar2 = PTR_DAT_100f1828[*(int *)PTR_DAT_100f1824 * 0x55ec + 0x15c];
			if (cVar2 == '\0') {
				PlaySFX(0x2d6);
			} else {
				if (cVar2 == '\x01') {
					PlaySFX(0x26f);
				} else {
					if (cVar2 == '\x02') {
						PlaySFX(0x208);
					}
				}
			}
		}
		return;
	}
	param_2 = param_2 * 0x78;
	pcVar1 = PTR_DAT_100f1948 + param_2 + 0x40;
	if (*pcVar1 == '\0') {
		return;
	}
	if (*(int *)PTR_DAT_100f1f60 == 0) {
		PlaySfxLoc(0x12, (ulonglong) * (uint *)(PTR_DAT_100f1948 + param_2 + 4),
		    (ulonglong) * (uint *)(PTR_DAT_100f1948 + param_2 + 8), param_4, param_5, param_6,
		    param_7, param_8, in_stack_ffffffa8);
	}
	puVar4 = puVar4 + param_2;
	*pcVar1 = '\0';
	*(int *)(puVar4 + 0x24) = *(int *)(puVar4 + 0x24) + 1;
	if (*(int *)puVar3 != 0) {
		return;
	}
	FUN_1004cfe4(*(int *)(puVar4 + 4), *(int *)(puVar4 + 8), local_24, &local_28, uVar5, uVar6, uVar7, uVar8,
	    in_stack_ffffffa8);
	SpawnQuestItem(0x11, local_24[0], local_28, 0, 0, uVar6, uVar7, uVar8, in_stack_ffffffa8);
	*puVar9 = 3;
	return;
}

void OperateInnSignChest(int param_1, int param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	char *pcVar1;
	char cVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined4 in_stack_ffffffb8;
	int local_18;
	int local_14[5];

	puVar3 = PTR_DAT_100f1f60;
	puVar4 = PTR_DAT_100f1948;
	uVar5 = (undefined)param_5;
	uVar8 = (undefined)param_8;
	uVar7 = (undefined)param_7;
	uVar6 = (undefined)param_6;
	if (PTR_DAT_100f19cc[0xb7] == '\x02') {
		param_2 = param_2 * 0x78;
		pcVar1 = PTR_DAT_100f1948 + param_2 + 0x40;
		if (*pcVar1 != '\0') {
			if (*(int *)PTR_DAT_100f1f60 == 0) {
				PlaySfxLoc(0x12, (ulonglong) * (uint *)(PTR_DAT_100f1948 + param_2 + 4),
				    (ulonglong) * (uint *)(PTR_DAT_100f1948 + param_2 + 8), param_4, param_5, param_6,
				    param_7, param_8, in_stack_ffffffb8);
			}
			puVar4 = puVar4 + param_2;
			*pcVar1 = '\0';
			*(int *)(puVar4 + 0x24) = *(int *)(puVar4 + 0x24) + 2;
			if (*(int *)puVar3 == 0) {
				FUN_1004cfe4(*(int *)(puVar4 + 4), *(int *)(puVar4 + 8), local_14, &local_18, uVar5, uVar6, uVar7,
				    uVar8, in_stack_ffffffb8);
				SpawnQuestItem(0xc, local_14[0], local_18, 0, 0, uVar6, uVar7, uVar8, in_stack_ffffffb8);
			}
		}
	} else {
		if (*(int *)PTR_DAT_100f1f60 == 0) {
			if (param_1 == *(int *)PTR_DAT_100f1824) {
				cVar2 = PTR_DAT_100f1828[*(int *)PTR_DAT_100f1824 * 0x55ec + 0x15c];
				if (cVar2 == '\0') {
					PlaySFX(0x2e7);
				} else {
					if (cVar2 == '\x01') {
						PlaySFX(0x27a);
					} else {
						if (cVar2 == '\x02') {
							PlaySFX(0x213);
						}
					}
				}
			}
		}
	}
	return;
}

void OperateSlainHero(int param_1, longlong param_2, undefined4 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11)

{
	char cVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	longlong lVar7;
	undefined uVar8;
	undefined uVar9;
	undefined4 in_stack_ffffffb8;

	puVar6 = PTR_DAT_100f1f60;
	puVar5 = PTR_DAT_100f1948;
	puVar4 = PTR_DAT_100f1828;
	puVar3 = PTR_DAT_100f1824;
	lVar7 = param_2 * 0x78;
	iVar2 = (int)lVar7;
	if (PTR_DAT_100f1948[iVar2 + 0x40] != '\0') {
		PTR_DAT_100f1948[iVar2 + 0x40] = '\0';
		if (*(int *)puVar6 == 0) {
			cVar1 = puVar4[param_1 * 0x55ec + 0x15c];
			uVar8 = (undefined)param_7;
			uVar9 = (undefined)param_8;
			if (cVar1 == '\0') {
				lVar7 = 0x99;
				param_5 = 0;
				param_6 = 1;
				FUN_10053e38(*(int *)(puVar5 + iVar2 + 4), *(int *)(puVar5 + iVar2 + 8), '\t', 0x99, 0, 1, uVar8,
				    uVar9, in_stack_ffffffb8);
				PlaySfxLoc(0x2d2, (ulonglong) * (uint *)(puVar4 + *(int *)puVar3 * 0x55ec + 0x38),
				    (ulonglong) * (uint *)(puVar4 + *(int *)puVar3 * 0x55ec + 0x3c), lVar7, param_5,
				    param_6, param_7, param_8, in_stack_ffffffb8);
			} else {
				if (cVar1 == '\x01') {
					lVar7 = 0x77;
					param_5 = 0;
					param_6 = 1;
					FUN_10053f58(*(int *)(puVar5 + iVar2 + 4), *(int *)(puVar5 + iVar2 + 8), '\x03', 0x77, 0, 1,
					    uVar8, uVar9, in_stack_ffffffb8);
					PlaySfxLoc(0x26b, (ulonglong) * (uint *)(puVar4 + *(int *)puVar3 * 0x55ec + 0x38),
					    (ulonglong) * (uint *)(puVar4 + *(int *)puVar3 * 0x55ec + 0x3c), lVar7, param_5,
					    param_6, param_7, param_8, in_stack_ffffffb8);
				} else {
					if (cVar1 == '\x02') {
						lVar7 = 0;
						param_5 = 1;
						FUN_10053d14(*(int *)(puVar5 + iVar2 + 4), *(int *)(puVar5 + iVar2 + 8), 3, 0, 1,
						    (char)param_6, uVar8, uVar9, in_stack_ffffffb8);
						PlaySfxLoc(0x204, (ulonglong) * (uint *)(puVar4 + *(int *)puVar3 * 0x55ec + 0x38),
						    (ulonglong) * (uint *)(puVar4 + *(int *)puVar3 * 0x55ec + 0x3c), lVar7, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
					}
				}
			}
			if (param_1 == *(int *)puVar3) {
				NetSendCmdParam1(0, 0x2d, (ulonglong)((uint)param_2 & 0xffff), lVar7, param_5, param_6, param_7,
				    param_8, in_stack_ffffffb8);
			}
		}
	}
	return;
}

void FUN_10088d5c(int param_1)

{
	int *piVar1;
	uint uVar2;
	undefined *puVar3;
	ulonglong uVar4;
	undefined *puVar5;
	undefined *puVar6;
	int *piVar7;

	piVar7 = (int *)PTR_DAT_100f1e40;
	puVar5 = PTR_DAT_100f1e3c;
	puVar3 = PTR_DAT_100f1948;
	param_1 = param_1 * 0x78;
	piVar1 = (int *)(PTR_DAT_100f1948 + param_1 + 0x24);
	if (*piVar1 != 1) {
		puVar6 = PTR_DAT_100f1948 + param_1;
		*piVar1 = *piVar1 + -1;
		uVar2 = *(uint *)puVar5;
		uVar4 = (ulonglong)uVar2;
		if ((int)uVar2 < 1) {
			return;
		}
		do {
			if (((*(int *)(puVar3 + *piVar7 * 0x78) == *(int *)(puVar6 + 0x5c)) && (puVar5 = puVar3 + *piVar7 * 0x78, *(int *)(puVar5 + 0x58) == *(int *)(puVar6 + 0x58))) && (*(undefined4 *)(puVar5 + 0x5c) = 0, *(int *)(puVar5 + 100) != 0)) {
				*(undefined4 *)(puVar5 + 0x10) = 1;
			}
			piVar7 = piVar7 + 1;
			uVar4 = uVar4 - 1;
		} while (uVar4 != 0);
		return;
	}
	puVar6 = PTR_DAT_100f1948 + param_1;
	*piVar1 = 2;
	uVar2 = *(uint *)puVar5;
	uVar4 = (ulonglong)uVar2;
	if ((int)uVar2 < 1) {
		return;
	}
	do {
		if ((*(int *)(puVar3 + *piVar7 * 0x78) == *(int *)(puVar6 + 0x5c)) && (puVar5 = puVar3 + *piVar7 * 0x78, *(int *)(puVar5 + 0x58) == *(int *)(puVar6 + 0x58))) {
			*(undefined4 *)(puVar5 + 0x5c) = 1;
			*(undefined4 *)(puVar5 + 0x10) = 0;
		}
		piVar7 = piVar7 + 1;
		uVar4 = uVar4 - 1;
	} while (uVar4 != 0);
	return;
}

void OperateSarc(int param_1, uint param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	char *pcVar1;
	undefined **ppuVar2;
	undefined *puVar3;
	int iVar4;
	undefined *puVar5;
	undefined4 in_stack_ffffffa8;

	puVar5 = PTR_DAT_100f1f60;
	puVar3 = PTR_DAT_100f1948;
	ppuVar2 = &toc;
	iVar4 = param_2 * 0x78;
	pcVar1 = PTR_DAT_100f1948 + iVar4 + 0x40;
	if (*pcVar1 != '\0') {
		if (*(int *)PTR_DAT_100f1f60 == 0) {
			ppuVar2 = &toc;
			PlaySfxLoc(0x42, (ulonglong) * (uint *)(PTR_DAT_100f1948 + iVar4 + 4),
			    (ulonglong) * (uint *)(PTR_DAT_100f1948 + iVar4 + 8), param_4, param_5, param_6,
			    param_7, param_8, in_stack_ffffffa8);
		}
		*pcVar1 = '\0';
		if (*(int *)puVar5 == 0) {
			puVar5 = puVar3 + iVar4;
			*(undefined4 *)(puVar5 + 0x10) = 1;
			*(undefined4 *)(puVar5 + 0x18) = 3;
			SetRndSeed(*(undefined4 *)(puVar5 + 0x54));
			if (*(int *)(puVar5 + 0x58) < 3) {
				param_5 = 0;
				FUN_1004f860(*(int *)(puVar5 + 4), *(int *)(puVar5 + 8), 0, (int)param_3, 0, (char)param_6,
				    (char)param_7, (char)param_8, in_stack_ffffffa8);
				param_4 = param_3;
			}
			if (7 < *(int *)(puVar5 + 0x58)) {
				puVar3 = puVar3 + iVar4;
				FUN_10076640(*(int *)(puVar3 + 0x5c), (ulonglong) * (uint *)(puVar3 + 4), *(int *)(puVar3 + 8),
				    (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8,
				    in_stack_ffffffa8);
			}
			if (param_1 == *(int *)ppuVar2[-0x1deb]) {
				NetSendCmdParam1(0, 0x2d, (ulonglong)(param_2 & 0xffff), param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffffa8);
			}
		} else {
			*(undefined4 *)(puVar3 + iVar4 + 0x24) = *(undefined4 *)(puVar3 + iVar4 + 0x20);
		}
	}
	return;
}

void FUN_10088f64(int param_1, uint param_2, int param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	longlong lVar2;
	longlong lVar3;
	int iVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined4 in_stack_ffffffa8;

	puVar1 = PTR_DAT_100f1948;
	iVar4 = param_2 * 0x78;
	puVar6 = PTR_DAT_100f1948 + iVar4;
	puVar5 = PTR_DAT_100f1828 + param_1 * 0x55ec;
	lVar2 = abs((ulonglong) * (uint *)(puVar6 + 4) - (ulonglong) * (uint *)(puVar5 + 0x38));
	lVar3 = abs((ulonglong) * (uint *)(puVar6 + 8) - (ulonglong) * (uint *)(puVar5 + 0x3c));
	if ((((int)lVar2 == 1) && ((int)lVar3 < 2)) && (*(int *)(puVar1 + iVar4) == 0x2a)) {
		FUN_1008742c(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	}
	if ((((int)lVar2 < 2) && ((int)lVar3 == 1)) && (*(int *)(puVar1 + iVar4) == 0x2b)) {
		FUN_1008722c(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	}
	return;
}

void FUN_1008902c(int param_1, uint param_2, int param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	longlong lVar2;
	longlong lVar3;
	int iVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined4 in_stack_ffffffa8;

	puVar1 = PTR_DAT_100f1948;
	iVar4 = param_2 * 0x78;
	puVar6 = PTR_DAT_100f1948 + iVar4;
	puVar5 = PTR_DAT_100f1828 + param_1 * 0x55ec;
	lVar2 = abs((ulonglong) * (uint *)(puVar6 + 4) - (ulonglong) * (uint *)(puVar5 + 0x38));
	lVar3 = abs((ulonglong) * (uint *)(puVar6 + 8) - (ulonglong) * (uint *)(puVar5 + 0x3c));
	if ((((int)lVar2 == 1) && ((int)lVar3 < 2)) && (*(int *)(puVar1 + iVar4) == 0x4b)) {
		FUN_1008762c(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	}
	if ((((int)lVar2 < 2) && ((int)lVar3 == 1)) && (*(int *)(puVar1 + iVar4) == 0x4a)) {
		FUN_1008782c(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	}
	return;
}

void OperatePedistal(longlong param_1, int param_2, undefined8 param_3, longlong param_4, ulonglong param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	int *piVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	undefined *puVar6;
	undefined uVar8;
	ulonglong uVar7;
	undefined uVar9;
	ulonglong uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined uVar14;
	undefined uVar15;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	undefined *puVar16;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffffa8;
	int *local_28;
	uint local_24;
	undefined4 local_1c;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar4 = PTR_DAT_100f1f60;
	puVar3 = PTR_DAT_100f1a84;
	puVar2 = PTR_DAT_100f1a80;
	puVar16 = PTR_DAT_100f1948;
	ppuVar5 = &toc;
	local_1c = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	param_2 = param_2 * 0x78;
	piVar1 = (int *)(PTR_DAT_100f1948 + param_2 + 0x6c);
	if (*piVar1 != 3) {
		uVar8 = (undefined)(ZEXT48(register0x0000000c) - 0x24);
		puVar6 = PlrHasItem((int)param_1, 0x15, (int *)(ZEXT48(register0x0000000c) - 0x24));
		if (puVar6 != (undefined *)0x0) {
			RemoveInvItem(param_1, (ulonglong)local_24, uVar8, (char)param_4, (char)param_5, (char)param_6,
			    (char)param_7, (char)param_8, in_stack_ffffffa8);
			*(int *)(puVar16 + param_2 + 0x24) = *(int *)(puVar16 + param_2 + 0x24) + 1;
			*piVar1 = *piVar1 + 1;
		}
		if (*piVar1 == 1) {
			if (*(int *)puVar4 == 0) {
				PlaySfxLoc(0x7d, (ulonglong) * (uint *)(puVar16 + param_2 + 4),
				    (ulonglong) * (uint *)(puVar16 + param_2 + 8), param_4, param_5, param_6, param_7,
				    param_8, in_stack_ffffffa8);
			}
			param_4 = (ulonglong) * (uint *)puVar2 + 7;
			ObjChangeMap((ulonglong) * (uint *)puVar3, (ulonglong) * (uint *)puVar2 + 3, *(uint *)puVar3 + 2,
			    param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
		}
		if (*piVar1 == 2) {
			if (*(int *)puVar4 == 0) {
				PlaySfxLoc(0x7d, (ulonglong) * (uint *)(puVar16 + param_2 + 4),
				    (ulonglong) * (uint *)(puVar16 + param_2 + 8), param_4, param_5, param_6, param_7,
				    param_8, in_stack_ffffffa8);
			}
			param_5 = (ulonglong) * (uint *)puVar3;
			param_4 = (ulonglong) * (uint *)puVar2 + 7;
			ObjChangeMap(param_5 + 6, (ulonglong) * (uint *)puVar2 + 3,
			    *(uint *)puVar3 + *(int *)ppuVar5[-0x1d55], param_4, param_5, param_6, param_7,
			    param_8, in_stack_ffffffa8);
		}
		if (*piVar1 == 3) {
			if (*(int *)puVar4 == 0) {
				PlaySfxLoc(0x5b, (ulonglong) * (uint *)(puVar16 + param_2 + 4),
				    (ulonglong) * (uint *)(puVar16 + param_2 + 8), param_4, param_5, param_6, param_7,
				    param_8, in_stack_ffffffa8);
			}
			puVar16 = puVar16 + param_2;
			uVar7 = (ulonglong) * (uint *)(puVar16 + 0x60);
			uVar10 = (ulonglong) * (uint *)(puVar16 + 100);
			ObjChangeMap((ulonglong) * (uint *)(puVar16 + 0x58), (ulonglong) * (uint *)(puVar16 + 0x5c),
			    *(uint *)(puVar16 + 0x60), uVar10, param_5, param_6, param_7, param_8,
			    in_stack_ffffffa8);
			uVar7 = LoadFileInMem(ZEXT48(ppuVar5[-0x16cf]), (undefined4 *)0x0, uVar7, uVar10, param_5, param_6,
			    param_7, param_8, in_stack_ffffffa8);
			uVar15 = (undefined)param_8;
			uVar14 = (undefined)param_7;
			uVar13 = (undefined)param_6;
			uVar12 = (undefined)param_5;
			uVar11 = (undefined)uVar10;
			local_28 = (int *)uVar7;
			uVar8 = (undefined)(*(int *)puVar3 << 1);
			uVar9 = (undefined)(*(int *)puVar2 << 1);
			FUN_1008314c(uVar7 & 0xffffffff, (ulonglong)(uint)(*(int *)puVar3 << 1),
			    (ulonglong)(uint)(*(int *)puVar2 << 1), uVar10, param_5, param_6, param_7, param_8,
			    in_stack_ffffffa8);
			mem_free_dbg(&local_28, uVar8, uVar9, uVar11, uVar12, uVar13, uVar14, uVar15, in_stack_ffffffa8);
			CreateItem(7, *(int *)puVar3 * 2 + 0x19, *(int *)puVar2 * 2 + 0x13, uVar11, uVar12, uVar13, uVar14, uVar15, in_stack_ffffffa8);
			puVar16[0x40] = 0;
		}
	}
	return;
}

void FUN_100892b0(int param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	byte bVar1;
	int iVar2;
	undefined *puVar3;
	ulonglong uVar4;
	undefined **ppuVar5;
	longlong lVar6;
	undefined uVar8;
	int *piVar7;
	int *piVar9;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	puVar3 = PTR_DAT_100f1948;
	ppuVar5 = &toc;
	uVar8 = SUB41(PTR_DAT_100f1824, 0);
	if (param_1 == *(int *)PTR_DAT_100f1824) {
		ppuVar5 = &toc;
		NewCursor(1, (char)param_2, uVar8, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	}
	if ((*(int *)(puVar3 + param_2 * 0x78 + 0x48) != 0) && (bVar1 = *ppuVar5[-0x1df9], iVar2 = *(int *)(ppuVar5[-0x1dea] + param_1 * 0x55ec + 0x170), lVar6 = random(0x9a, 100, uVar8, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb), (int)lVar6 <= (int)(iVar2 * 2 + (uint)bVar1 * -5))) {
		uVar4 = (ulonglong) * (uint *)ppuVar5[-0x1c65];
		piVar7 = (int *)ppuVar5[-0x1c64];
		iVar2 = *(int *)ppuVar5[-0x1da1];
		if (0 < (int)*(uint *)ppuVar5[-0x1c65]) {
			do {
				piVar9 = (int *)(puVar3 + *piVar7 * 0x78);
				if ((*piVar9 == 0x36 || *(int *)(puVar3 + *piVar7 * 0x78) == 0x35) && ((int)*(char *)(iVar2 + piVar9[0x16] * 0x70 + piVar9[0x17]) + -1 == param_2)) {
					piVar9[0x19] = 1;
					*(int *)(puVar3 + param_2 * 0x78 + 0x12) = 0;
				}
				piVar7 = piVar7 + 1;
				uVar4 = uVar4 - 1;
			} while (uVar4 != 0);
		}
		iVar2 = *(int *)(puVar3 + param_2 * 0x78);
		if ((0x43 < iVar2) && (iVar2 < 0x47)) {
			*(undefined4 *)(puVar3 + param_2 * 0x78 + 0x48) = 0;
		}
	}
	return;
}

longlong FUN_10089400(int param_1)

{
	int *piVar1;
	longlong lVar2;

	piVar1 = (int *)&DAT_100fc828;
	lVar2 = 0;
	while ((*piVar1 == 0 || (param_1 != piVar1[0xe]))) {
		piVar1 = piVar1 + 0x13;
		lVar2 = lVar2 + 1;
	}
	return lVar2;
}

void FUN_10089434(ulonglong param_1, uint param_2, ulonglong param_3, undefined8 param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	ulonglong uVar5;
	ulonglong uVar6;
	undefined4 uVar7;
	undefined4 uVar8;
	undefined4 uVar9;
	int iVar10;
	undefined *puVar11;
	undefined4 in_stack_ffffff48;

	puVar3 = PTR_DAT_100f1f60;
	puVar2 = PTR_DAT_100f1948;
	puVar11 = PTR_DAT_100f18c8;
	puVar1 = PTR_DAT_100f1824;
	ppuVar4 = &toc;
	uVar6 = ZEXT48(PTR_DAT_100f18cc);
	if (*(int *)PTR_DAT_100f18cc != 0) {
		*(undefined4 *)PTR_DAT_100f18cc = 0;
		*(undefined4 *)puVar11 = 0;
	}
	iVar10 = param_2 * 0x78;
	if (puVar2[iVar10 + 0x40] != '\0') {
		puVar11 = puVar2 + iVar10;
		uVar5 = param_3;
		SetRndSeed(*(undefined4 *)(puVar11 + 0x54));
		puVar2[iVar10 + 0x40] = '\0';
		if (*(int *)puVar3 == 0) {
			uVar5 = (ulonglong) * (uint *)(puVar11 + 8);
			PlaySfxLoc(param_3, (ulonglong) * (uint *)(puVar11 + 4), uVar5, uVar6, param_5, (int)param_6,
			    (int)param_7, (int)param_8, in_stack_ffffff48);
			*(undefined4 *)(puVar11 + 0x10) = 1;
			*(undefined4 *)(puVar11 + 0x18) = 1;
		} else {
			*(undefined4 *)(puVar11 + 0x24) = *(undefined4 *)(puVar11 + 0x20);
			*(undefined4 *)(puVar11 + 0x10) = 0;
		}
		uVar9 = (undefined4)param_8;
		uVar8 = (undefined4)param_7;
		uVar7 = (undefined4)param_6;
		if (*(uint *)(puVar2 + iVar10 + 0x58) < 0x1a) {
			// WARNING: Could not recover jumptable at 0x1008951c. Too many branches
			// WARNING: Treating indirect jump as call
			(**(code **)(ppuVar4[-0x16d0] + *(uint *)(puVar2 + iVar10 + 0x58) * 4))();
			return;
		}
		CalcPlrInv(param_1, 1, uVar5, uVar6, param_5, param_6, param_7, param_8, in_stack_ffffff48);
		*(undefined4 *)ppuVar4[-0x1daf] = 0xff;
		if ((uint)param_1 == *(uint *)puVar1) {
			NetSendCmdParam2(0, 0x2e, (ulonglong)((uint)param_1 & 0xffff), (ulonglong)(param_2 & 0xffff), param_5,
			    uVar7, uVar8, uVar9, in_stack_ffffff48);
		}
	}
	return;
}

void OperateSkelBook(int param_1, uint param_2, int param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	char *pcVar1;
	uint uVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	longlong lVar5;
	undefined uVar6;
	undefined uVar8;
	undefined8 uVar7;
	undefined uVar10;
	undefined8 uVar9;
	undefined uVar11;
	undefined uVar13;
	undefined4 uVar12;
	int iVar14;
	undefined *puVar15;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	puVar3 = PTR_DAT_100f1f60;
	puVar15 = PTR_DAT_100f1948;
	uVar10 = (undefined)param_5;
	uVar8 = (undefined)param_4;
	uVar13 = (undefined)param_7;
	uVar11 = (undefined)param_6;
	uVar6 = (undefined)param_3;
	ppuVar4 = &toc;
	iVar14 = param_2 * 0x78;
	pcVar1 = PTR_DAT_100f1948 + iVar14 + 0x40;
	if (*pcVar1 != '\0') {
		if (*(int *)PTR_DAT_100f1f60 == 0) {
			uVar2 = *(uint *)(PTR_DAT_100f1948 + iVar14 + 8);
			uVar6 = (undefined)uVar2;
			ppuVar4 = &toc;
			PlaySfxLoc(0x39, (ulonglong) * (uint *)(PTR_DAT_100f1948 + iVar14 + 4), (ulonglong)uVar2, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
		}
		puVar15 = puVar15 + iVar14;
		*pcVar1 = '\0';
		*(int *)(puVar15 + 0x24) = *(int *)(puVar15 + 0x24) + 2;
		if (*(int *)puVar3 == 0) {
			SetRndSeed(*(undefined4 *)(puVar15 + 0x54));
			lVar5 = random(0xa1, 5, uVar6, uVar8, uVar10, uVar11, uVar13, (char)param_8, in_stack_ffffffa8,
			    in_stack_ffffffaf, in_stack_ffffffbb);
			if ((int)lVar5 == 0) {
				uVar7 = 0;
				uVar9 = 0x18;
				uVar12 = 0;
				FUN_1004fac4(*(int *)(puVar15 + 4), *(int *)(puVar15 + 8), 0, 0, 0x18, param_3, 0, (char)param_8,
				    in_stack_ffffffa8);
			} else {
				uVar7 = 0;
				uVar9 = 0x15;
				uVar12 = 0;
				FUN_1004fac4(*(int *)(puVar15 + 4), *(int *)(puVar15 + 8), 0, 0, 0x15, param_3, 0, (char)param_8,
				    in_stack_ffffffa8);
			}
			if (param_1 == *(int *)ppuVar4[-0x1deb]) {
				NetSendCmdParam1(0, 0x2d, (ulonglong)(param_2 & 0xffff), uVar7, uVar9, param_3, uVar12, param_8,
				    in_stack_ffffffa8);
			}
		}
	}
	return;
}

void OperateBookCase(int param_1, uint param_2, int param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	char *pcVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	undefined8 uVar5;
	undefined uVar6;
	undefined8 uVar7;
	undefined8 uVar8;
	undefined4 uVar9;
	int iVar10;
	undefined *puVar11;
	undefined4 in_stack_ffffffa8;

	puVar3 = PTR_DAT_100f1f60;
	puVar11 = PTR_DAT_100f1948;
	puVar2 = PTR_DAT_100f187c;
	ppuVar4 = &toc;
	iVar10 = param_2 * 0x78;
	pcVar1 = PTR_DAT_100f1948 + iVar10 + 0x40;
	if (*pcVar1 != '\0') {
		if (*(int *)PTR_DAT_100f1f60 == 0) {
			ppuVar4 = &toc;
			PlaySfxLoc(0x39, (ulonglong) * (uint *)(PTR_DAT_100f1948 + iVar10 + 4),
			    (ulonglong) * (uint *)(PTR_DAT_100f1948 + iVar10 + 8), param_4, param_5, param_6,
			    param_7, param_8, in_stack_ffffffa8);
		}
		puVar11 = puVar11 + iVar10;
		*pcVar1 = '\0';
		*(int *)(puVar11 + 0x24) = *(int *)(puVar11 + 0x24) + -2;
		if (*(int *)puVar3 == 0) {
			SetRndSeed(*(undefined4 *)(puVar11 + 0x54));
			uVar6 = 0;
			uVar7 = 0;
			uVar8 = 0x18;
			uVar9 = 0;
			FUN_1004fac4(*(int *)(puVar11 + 4), *(int *)(puVar11 + 8), 0, 0, 0x18, param_3, 0, (char)param_8,
			    in_stack_ffffffa8);
			uVar5 = QuestStatus(3);
			if (((((int)uVar5 != 0) && (*(int *)(puVar2 + 0x47c) == *(int *)(ppuVar4[-0x1c23] + 0x44))) && (puVar2[0x444] == -1)) && (*(int *)(puVar2 + 0x438) != 0)) {
				*(undefined4 *)(puVar2 + 0x474) = 0x95;
				FUN_1006b758(0, *(int *)(puVar2 + 1000), uVar6, (char)uVar7, (char)uVar8, (char)param_3,
				    (char)uVar9, (char)param_8, in_stack_ffffffa8);
				puVar2[0x3a8] = 5;
				*(undefined4 *)(puVar2 + 0x3a4) = 0x11;
			}
			if (param_1 == *(int *)ppuVar4[-0x1deb]) {
				NetSendCmdParam1(0, 0x2d, (ulonglong)(param_2 & 0xffff), uVar7, uVar8, param_3, uVar9, param_8,
				    in_stack_ffffffa8);
			}
		}
	}
	return;
}

void FUN_1008b080(int param_1, uint param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined **ppuVar2;
	undefined8 uVar3;
	undefined *puVar4;
	undefined4 in_stack_ffffffb8;

	puVar1 = PTR_DAT_100f1f60;
	puVar4 = PTR_DAT_100f1948;
	ppuVar2 = &toc;
	if ((PTR_DAT_100f1948[param_2 * 0x78 + 0x40] != '\0') && (PTR_DAT_100f1948[param_2 * 0x78 + 0x40] = '\0', *(int *)puVar1 == 0)) {
		puVar4 = puVar4 + param_2 * 0x78;
		SetRndSeed(*(undefined4 *)(puVar4 + 0x54));
		uVar3 = 0;
		FUN_1004f860(*(int *)(puVar4 + 4), *(int *)(puVar4 + 8), 0, (int)param_3, 0, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffffb8);
		if (param_1 == *(int *)ppuVar2[-0x1deb]) {
			NetSendCmdParam1(0, 0x2d, (ulonglong)(param_2 & 0xffff), param_3, uVar3, param_6, param_7, param_8,
			    in_stack_ffffffb8);
		}
	}
	return;
}

void FUN_1008b13c(int param_1, uint param_2, int param_3, undefined8 param_4, undefined8 param_5,
    int param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	byte bVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	longlong lVar4;
	undefined *puVar5;
	undefined uVar6;
	int iVar7;
	undefined *puVar8;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined in_stack_ffffffcb;

	puVar5 = PTR_DAT_100f1948;
	uVar6 = (undefined)param_3;
	ppuVar3 = &toc;
	iVar7 = param_2 * 0x78;
	if (PTR_DAT_100f1948[iVar7 + 0x40] != '\0') {
		puVar8 = PTR_DAT_100f1948 + iVar7;
		PTR_DAT_100f1948[iVar7 + 0x40] = '\0';
		puVar2 = PTR_DAT_100f1f60;
		*(int *)(puVar8 + 0x24) = *(int *)(puVar8 + 0x24) + 1;
		if (*(int *)puVar2 == 0) {
			SetRndSeed(*(undefined4 *)(puVar8 + 0x54));
			lVar4 = random(0, 2, uVar6, (char)param_4, (char)param_5, (char)param_6, (char)param_7,
			    (char)param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb);
			bVar1 = *ppuVar3[-0x1df9];
			uVar6 = (undefined)param_8;
			if (bVar1 < 6) {
				param_4 = 6;
				param_5 = 0;
				param_7 = 0;
				param_6 = param_3;
				FUN_1004fac4(*(int *)(puVar8 + 4), *(int *)(puVar8 + 8), 1, 6, 0, param_3, 0, uVar6,
				    in_stack_ffffffb8);
			} else {
				if ((bVar1 < 6) || (9 < bVar1)) {
					if ((bVar1 < 10) || (0xc < bVar1)) {
						if ((0xc < bVar1) && (bVar1 < 0x11)) {
							puVar5 = puVar5 + iVar7;
							param_4 = 9;
							param_5 = 0;
							param_7 = 0;
							param_6 = param_3;
							FUN_1004fac4(*(int *)(puVar5 + 4), *(int *)(puVar5 + 8), 1, 9, 0, param_3, 0, uVar6,
							    in_stack_ffffffb8);
						}
					} else {
						puVar5 = puVar5 + iVar7;
						param_4 = 9;
						param_5 = 0;
						param_7 = 0;
						param_6 = param_3;
						FUN_1004fac4(*(int *)(puVar5 + 4), *(int *)(puVar5 + 8), 0, 9, 0, param_3, 0, uVar6,
						    in_stack_ffffffb8);
					}
				} else {
					param_4 = 8;
					param_5 = 0;
					param_7 = 0;
					param_6 = param_3;
					FUN_1004fac4(*(int *)(puVar8 + 4), *(int *)(puVar8 + 8), (int)lVar4, 8, 0, param_3, 0, uVar6,
					    in_stack_ffffffb8);
				}
			}
			if (param_1 == *(int *)ppuVar3[-0x1deb]) {
				NetSendCmdParam1(0, 0x2d, (ulonglong)(param_2 & 0xffff), param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffffb8);
			}
		}
	}
	return;
}

void FUN_1008b2b4(undefined4 param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9, undefined param_10,
    undefined4 param_11)

{
	int iVar1;
	bool bVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	longlong lVar14;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined in_stack_ffffffcb;

	puVar7 = PTR_DAT_100f34ac;
	puVar6 = PTR_DAT_100f34a8;
	puVar5 = PTR_DAT_100f34a4;
	puVar4 = PTR_DAT_100f17ec;
	puVar3 = PTR_DAT_100f17e0;
	lVar14 = (longlong)param_8;
	lVar13 = (longlong)param_7;
	lVar12 = (longlong)param_6;
	lVar11 = (longlong)param_5;
	lVar10 = (longlong)param_4;
	lVar9 = (longlong)param_3;
	bVar2 = false;
	do {
		lVar8 = random(0, 0x1a, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12, (char)lVar13,
		    (char)lVar14, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb);
		iVar1 = (int)lVar8;
		if ((((int)(char)puVar7[iVar1] <= (int)(uint)(byte)*puVar4) && ((int)(uint)(byte)*puVar4 <= (int)(char)puVar6[iVar1])) && (iVar1 != 8)) {
			bVar2 = true;
		}
		if (bVar2) {
			if ((*puVar3 == '\x01') || (puVar5[iVar1] != '\x01')) {
				if ((*puVar3 == '\x01') && (puVar5[iVar1] == '\x02')) {
					bVar2 = false;
				} else {
					bVar2 = true;
				}
			} else {
				bVar2 = false;
			}
		}
	} while (!bVar2);
	return;
}

void FUN_1008b388(ulonglong param_1, uint param_2, ulonglong param_3, undefined8 param_4,
    ulonglong param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined4 uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined7 uVar7;
	undefined uVar8;
	undefined7 uVar9;
	undefined uVar10;
	undefined7 uVar11;
	undefined uVar12;
	undefined7 uVar13;
	undefined uVar14;
	undefined7 uVar15;
	undefined uVar16;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;

	uVar6 = (undefined)param_3;
	uVar15 = (undefined7)((ulonglong)param_8 >> 8);
	uVar16 = (undefined)param_8;
	uVar13 = (undefined7)((ulonglong)param_7 >> 8);
	uVar14 = (undefined)param_7;
	uVar11 = (undefined7)((ulonglong)param_6 >> 8);
	uVar12 = (undefined)param_6;
	uVar9 = (undefined7)(param_5 >> 8);
	uVar10 = (undefined)param_5;
	uVar7 = (undefined7)((ulonglong)param_4 >> 8);
	uVar8 = (undefined)param_4;
	ppuVar3 = &toc;
	uVar5 = (undefined)((longlong)(int)param_2 * 0x78);
	puVar2 = PTR_DAT_100f1948 + (int)((longlong)(int)param_2 * 0x78);
	SetRndSeed(*(undefined4 *)(puVar2 + 0x54));
	uVar4 = FUN_1008b2b4(param_2, uVar5, uVar6, uVar8, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffb8,
	    in_stack_ffffffbf, in_stack_ffffffc8);
	*(undefined4 *)(puVar2 + 0x58) = uVar4;
	FUN_10089434(param_1, param_2, param_3, CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10),
	    CONCAT71(uVar11, uVar12), CONCAT71(uVar13, uVar14), CONCAT71(uVar15, uVar16),
	    in_stack_ffffffb8);
	puVar1 = (undefined4 *)ppuVar3[-0x1daf];
	*(undefined4 *)(puVar2 + 0x18) = 2;
	*puVar1 = 0xff;
	return;
}

void FUN_1008b414(ulonglong param_1, uint param_2, ulonglong param_3, undefined8 param_4,
    ulonglong param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined4 uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined7 uVar7;
	undefined uVar8;
	undefined7 uVar9;
	undefined uVar10;
	undefined7 uVar11;
	undefined uVar12;
	undefined7 uVar13;
	undefined uVar14;
	undefined7 uVar15;
	undefined uVar16;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;

	uVar6 = (undefined)param_3;
	uVar15 = (undefined7)((ulonglong)param_8 >> 8);
	uVar16 = (undefined)param_8;
	uVar13 = (undefined7)((ulonglong)param_7 >> 8);
	uVar14 = (undefined)param_7;
	uVar11 = (undefined7)((ulonglong)param_6 >> 8);
	uVar12 = (undefined)param_6;
	uVar9 = (undefined7)(param_5 >> 8);
	uVar10 = (undefined)param_5;
	uVar7 = (undefined7)((ulonglong)param_4 >> 8);
	uVar8 = (undefined)param_4;
	ppuVar3 = &toc;
	uVar5 = (undefined)((longlong)(int)param_2 * 0x78);
	puVar2 = PTR_DAT_100f1948 + (int)((longlong)(int)param_2 * 0x78);
	SetRndSeed(*(undefined4 *)(puVar2 + 0x54));
	uVar4 = FUN_1008b2b4(param_2, uVar5, uVar6, uVar8, uVar10, uVar12, uVar14, uVar16, in_stack_ffffffb8,
	    in_stack_ffffffbf, in_stack_ffffffc8);
	*(undefined4 *)(puVar2 + 0x58) = uVar4;
	FUN_10089434(param_1, param_2, param_3, CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10),
	    CONCAT71(uVar11, uVar12), CONCAT71(uVar13, uVar14), CONCAT71(uVar15, uVar16),
	    in_stack_ffffffb8);
	puVar1 = (undefined4 *)ppuVar3[-0x1daf];
	*(undefined4 *)(puVar2 + 0x24) = 3;
	*(undefined4 *)(puVar2 + 0x10) = 0;
	*puVar1 = 0xff;
	return;
}

undefined8
OperateFountains(ulonglong param_1, uint param_2, ulonglong param_3, ulonglong param_4, ulonglong param_5,
    undefined8 param_6, undefined8 param_7, undefined8 param_8, undefined4 param_9)

{
	int *piVar1;
	undefined *puVar2;
	undefined *puVar3;
	bool bVar4;
	undefined *puVar5;
	undefined *puVar6;
	int iVar8;
	longlong lVar7;
	ulonglong uVar9;
	undefined8 uVar10;
	int iVar11;
	ulonglong uVar12;
	undefined4 uVar13;
	undefined4 uVar14;
	undefined4 uVar15;
	int iVar16;
	int iVar17;
	undefined8 uVar18;
	longlong lVar19;
	undefined *puVar20;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined in_stack_ffffffab;

	puVar6 = PTR_DAT_100f1f60;
	puVar5 = PTR_DAT_100f1948;
	puVar3 = PTR_DAT_100f1828;
	puVar2 = PTR_DAT_100f1824;
	iVar8 = (int)param_1;
	uVar9 = ZEXT48(&toc);
	puVar20 = PTR_DAT_100f1948 + param_2 * 0x78;
	uVar18 = 0;
	SetRndSeed(*(undefined4 *)(puVar20 + 0x54));
	iVar17 = (int)uVar9;
	iVar16 = *(int *)(puVar5 + param_2 * 0x78);
	uVar13 = (undefined4)param_6;
	uVar14 = (undefined4)param_7;
	uVar15 = (undefined4)param_8;
	if (iVar16 == 0x4c) {
		if (*(int *)puVar6 != 0) {
			return 0;
		}
		if (iVar8 != *(int *)puVar2) {
			return 0;
		}
		iVar8 = iVar8 * 0x55ec;
		piVar1 = (int *)(puVar3 + iVar8 + 0x1a8);
		if (*piVar1 < *(int *)(puVar3 + iVar8 + 0x1ac)) {
			PlaySfxLoc(0x6d, (ulonglong) * (uint *)(puVar20 + 4), (ulonglong) * (uint *)(puVar20 + 8), param_4,
			    param_5, uVar13, uVar14, uVar15, in_stack_ffffff98);
			puVar2 = puVar3 + iVar8;
			*piVar1 = *piVar1 + 0x40;
			*(int *)(puVar2 + 0x1a0) = *(int *)(puVar2 + 0x1a0) + 0x40;
			iVar16 = *(int *)(puVar3 + iVar8 + 0x1ac);
			if (iVar16 < *piVar1) {
				*piVar1 = iVar16;
				*(int *)(puVar2 + 0x1a0) = *(int *)(puVar3 + iVar8 + 0x1a4);
			}
			uVar18 = 1;
		} else {
			PlaySfxLoc(0x6d, (ulonglong) * (uint *)(puVar20 + 4), (ulonglong) * (uint *)(puVar20 + 8), param_4,
			    param_5, uVar13, uVar14, uVar15, in_stack_ffffff98);
		}
	} else {
		if (iVar16 < 0x4c) {
			if (iVar16 == 0x42) {
				if (*(int *)puVar6 != 0) {
					return 0;
				}
				if (iVar8 != *(int *)puVar2) {
					return 0;
				}
				iVar8 = iVar8 * 0x55ec;
				piVar1 = (int *)(puVar3 + iVar8 + 0x194);
				if (*piVar1 < *(int *)(puVar3 + iVar8 + 0x198)) {
					PlaySfxLoc(0x6d, (ulonglong) * (uint *)(puVar20 + 4), (ulonglong) * (uint *)(puVar20 + 8),
					    param_4, param_5, uVar13, uVar14, uVar15, in_stack_ffffff98);
					puVar2 = puVar3 + iVar8;
					*piVar1 = *piVar1 + 0x40;
					*(int *)(puVar2 + 0x18c) = *(int *)(puVar2 + 0x18c) + 0x40;
					iVar16 = *(int *)(puVar3 + iVar8 + 0x198);
					if (iVar16 < *piVar1) {
						*piVar1 = iVar16;
						*(int *)(puVar2 + 0x18c) = *(int *)(puVar3 + iVar8 + 400);
					}
					uVar18 = 1;
				} else {
					PlaySfxLoc(0x6d, (ulonglong) * (uint *)(puVar20 + 4), (ulonglong) * (uint *)(puVar20 + 8),
					    param_4, param_5, uVar13, uVar14, uVar15, in_stack_ffffff98);
				}
			}
		} else {
			if (iVar16 == 0x52) {
				if (puVar20[0x40] != '\0') {
					uVar18 = 0xffffffffffffffff;
					lVar19 = -1;
					bVar4 = false;
					iVar16 = 0;
					if (*(int *)puVar6 == 0) {
						param_3 = (ulonglong) * (uint *)(puVar20 + 8);
						PlaySfxLoc(0x6d, (ulonglong) * (uint *)(puVar20 + 4), param_3, param_4, param_5, uVar13,
						    uVar14, uVar15, in_stack_ffffff98);
					}
					puVar20[0x40] = 0;
					if (*(int *)puVar6 != 0) {
						return 0;
					}
					if (iVar8 != *(int *)puVar2) {
						return 0;
					}
					do {
						uVar10 = 4;
						lVar7 = random(0, 4, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
						    (char)param_7, (char)param_8, in_stack_ffffff98, in_stack_ffffff9f,
						    in_stack_ffffffab);
						iVar17 = (int)lVar7;
						if ((int)lVar19 != iVar17) {
							iVar11 = (int)uVar18;
							if (iVar17 == 2) {
								FUN_1009a3a8(param_1, iVar11, param_3, param_4, param_5, param_6, param_7, param_8,
								    in_stack_ffffff98);
								uVar10 = uVar18;
							} else {
								if (iVar17 < 2) {
									if (iVar17 == 0) {
										FUN_1009a120(param_1, iVar11, param_3, param_4, param_5, param_6, param_7, param_8,
										    in_stack_ffffff98);
										uVar10 = uVar18;
									} else {
										if (-1 < iVar17) {
											FUN_1009a274(param_1, iVar11, param_3, param_4, param_5, param_6, param_7, param_8,
											    in_stack_ffffff98);
											uVar10 = uVar18;
										}
									}
								} else {
									if (iVar17 < 4) {
										FUN_1009a4b4(param_1, iVar11, param_3, param_4, param_5, param_6, param_7, param_8,
										    in_stack_ffffff98);
										uVar10 = uVar18;
									}
								}
							}
							iVar16 = iVar16 + 1;
							uVar18 = 1;
							lVar19 = lVar7;
						}
						iVar17 = (int)uVar9;
						uVar15 = (undefined4)param_8;
						uVar14 = (undefined4)param_7;
						uVar13 = (undefined4)param_6;
						if (1 < iVar16) {
							bVar4 = true;
						}
					} while (!bVar4);
					CheckStats(param_1, uVar10, param_3, param_4, param_5, uVar13, uVar14, uVar15, in_stack_ffffff98);
					uVar18 = 1;
					if (iVar8 == *(int *)puVar2) {
						NetSendCmdParam1(0, 0x2d, (ulonglong)(param_2 & 0xffff), param_4, param_5, uVar13, uVar14, uVar15,
						    in_stack_ffffff98);
					}
				}
			} else {
				if (((iVar16 < 0x52) && (0x50 < iVar16)) && (puVar20[0x40] != '\0')) {
					if (*(int *)puVar6 == 0) {
						PlaySfxLoc(0x6d, (ulonglong) * (uint *)(puVar20 + 4), (ulonglong) * (uint *)(puVar20 + 8),
						    param_4, param_5, uVar13, uVar14, uVar15, in_stack_ffffff98);
					}
					puVar20[0x40] = 0;
					if (*(int *)puVar6 != 0) {
						return 0;
					}
					puVar3 = puVar3 + iVar8 * 0x55ec;
					uVar9 = (ulonglong) * (uint *)(puVar3 + 0x3c);
					uVar13 = 0x27;
					uVar14 = 0xffffffff;
					uVar12 = (ulonglong) * (uint *)(puVar3 + 0x70);
					iVar16 = iVar8;
					AddMissile((ulonglong) * (uint *)(puVar3 + 0x38), uVar9, (ulonglong) * (uint *)(puVar3 + 0x38), uVar9, uVar12, 0x27, 0xffffffffffffffff, param_1, in_stack_ffffff98,
					    in_stack_ffffff9f, 0, (uint) * *(byte **)(iVar17 + -0x7794) << 1);
					uVar18 = 1;
					if (iVar8 == *(int *)puVar2) {
						NetSendCmdParam1(0, 0x2d, (ulonglong)(param_2 & 0xffff), uVar9, uVar12, uVar13, uVar14, iVar16,
						    in_stack_ffffff98);
					}
				}
			}
		}
	}
	**(undefined4 **)(iVar17 + -0x76bc) = 0xff;
	return uVar18;
}

void FUN_1008b880(int iParm1, uint uParm2, undefined8 uParm3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined4 uParm8)

{
	char *pcVar1;
	int *piVar2;
	int iVar3;
	undefined **ppuVar4;
	longlong lVar5;
	undefined uVar7;
	undefined *puVar6;
	undefined8 uVar8;
	int iVar9;
	undefined4 uVar10;
	int iVar11;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	puVar6 = PTR_DAT_100f1948;
	iVar9 = (int)uParm3;
	uVar7 = (undefined)uParm3;
	ppuVar4 = &toc;
	iVar11 = uParm2 * 0x78;
	pcVar1 = PTR_DAT_100f1948 + iVar11 + 0x40;
	if (*pcVar1 != '\0') {
		SetRndSeed(*(undefined4 *)(PTR_DAT_100f1948 + iVar11 + 0x54));
		lVar5 = random(0, 4, uVar7, param_4, param_5, param_6, param_7, (char)uParm8, in_stack_ffffffa8,
		    in_stack_ffffffaf, in_stack_ffffffbb);
		iVar3 = (int)lVar5 + 1;
		if (iVar3 == 3) {
			unaff_r31 = 3;
		} else {
			if (iVar3 < 3) {
				if (iVar3 == 1) {
					unaff_r31 = 1;
				} else {
					if (0 < iVar3) {
						unaff_r31 = 2;
					}
				}
			} else {
				if (iVar3 < 5) {
					unaff_r31 = 4;
				}
			}
		}
		puVar6 = puVar6 + iVar11;
		*pcVar1 = '\0';
		piVar2 = (int *)ppuVar4[-0x1c1c];
		*(int *)(puVar6 + 0x24) = *(int *)(puVar6 + 0x24) + 1;
		if (*piVar2 == 0) {
			if ((byte)*ppuVar4[-0x1de5] < 2) {
				uVar8 = 0;
				uVar10 = 0;
				FUN_1004fac4(*(int *)(puVar6 + 4), *(int *)(puVar6 + 8), 0, unaff_r31, 0, iVar9, 0, (char)uParm8,
				    in_stack_ffffffa8);
			} else {
				uVar8 = 0;
				uVar10 = 0;
				FUN_1004fac4(*(int *)(puVar6 + 4), *(int *)(puVar6 + 8), 1, unaff_r31, 0, iVar9, 0, (char)uParm8,
				    in_stack_ffffffa8);
			}
			if (iParm1 == *(int *)ppuVar4[-0x1deb]) {
				NetSendCmdParam1(0, 0x2d, (ulonglong)(uParm2 & 0xffff), unaff_r31, uVar8, iVar9, uVar10, uParm8,
				    in_stack_ffffffa8);
			}
		}
	}
	return;
}

void OperateStoryBook(int param_1, uint param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	ulonglong uVar1;
	ulonglong uVar2;
	undefined *puVar3;
	undefined4 in_stack_ffffffc8;

	puVar3 = PTR_DAT_100f1948 + param_2 * 0x78;
	if ((((puVar3[0x40] != '\0') && (*(int *)PTR_DAT_100f1f60 == 0)) && (*PTR_DAT_100f18a0 == '\0'))
	    && (param_1 == *(int *)PTR_DAT_100f1824)) {
		*(undefined4 *)(puVar3 + 0x24) = *(undefined4 *)(puVar3 + 100);
		uVar1 = (ulonglong) * (uint *)(puVar3 + 4);
		uVar2 = (ulonglong) * (uint *)(puVar3 + 8);
		PlaySfxLoc(0x39, uVar1, uVar2, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
		InitQTextMsg(*(int *)(puVar3 + 0x5c), uVar1, uVar2, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
		NetSendCmdParam1(0, 0x2d, (ulonglong)(param_2 & 0xffff), param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	}
	return;
}

void FUN_1008ba6c(int param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	longlong lVar1;
	char *pcVar2;
	undefined *puVar3;
	undefined4 in_stack_ffffffc8;
	int local_8;
	int local_4;

	lVar1 = ZEXT48(PTR_DAT_100f1948) + (longlong)param_2 * 0x78 + 0x40;
	pcVar2 = (char *)lVar1;
	if ((((*pcVar2 != '\0') && (*(int *)PTR_DAT_100f1f60 == 0)) && (*PTR_DAT_100f18a0 == '\0')) && (param_1 == *(int *)PTR_DAT_100f1824)) {
		puVar3 = PTR_DAT_100f1948 + (int)((longlong)param_2 * 0x78);
		*(int *)(puVar3 + 0x24) = *(int *)(puVar3 + 0x24) + 1;
		*pcVar2 = '\0';
		FUN_1004cfe4(*(int *)(puVar3 + 4), *(int *)(puVar3 + 8), &local_4, &local_8, (char)lVar1, param_6,
		    param_7, param_8, in_stack_ffffffc8);
		SpawnQuestItem(0x21, local_4, local_8, 0, 0, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return;
}

void OperateObject(undefined8 param_1, int param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;

	uVar1 = *(uint *)(PTR_DAT_100f1948 + param_2 * 0x78);
	if (uVar1 < 0x62) {
		// WARNING: Could not recover jumptable at 0x1008bb78. Too many branches
		// WARNING: Treating indirect jump as call
		(**(code **)(PTR_PTR_LAB_100f348c + uVar1 * 4))(*(code **)(PTR_PTR_LAB_100f348c + uVar1 * 4), (ulonglong)uVar1, param_3,
		    (ulonglong) * (uint *)PTR_DAT_100f1824,
		    (ulonglong)(param_1._4_4_ == *(uint *)PTR_DAT_100f1824), param_6, param_7, param_8);
		return;
	}
	return;
}

void FUN_1008be30(int param_1, int param_2, uint param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined8 uVar1;
	int *piVar2;
	undefined4 in_stack_ffffffc8;

	if (param_1 != *(int *)PTR_DAT_100f1824) {
		uVar1 = 0;
		if ((param_2 == 0x2b) && (*(int *)(PTR_DAT_100f1948 + param_3 * 0x78 + 100) == 0)) {
			uVar1 = 1;
		}
		if ((param_2 == 0x2c) && (*(int *)(PTR_DAT_100f1948 + param_3 * 0x78 + 100) == 1)) {
			uVar1 = 1;
		}
		if ((int)uVar1 != 0) {
			piVar2 = (int *)(PTR_DAT_100f1948 + param_3 * 0x78);
			if (*piVar2 == 1) {
				FUN_10086f74(-1, param_3, 0, uVar1, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
			}
			if (*piVar2 == 2) {
				FUN_10086ce0(-1, param_3, 0, uVar1, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
			}
		}
	}
	return;
}

void FUN_1008bf00(int param_1, int param_2, uint param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined8 uVar1;
	int *piVar2;
	undefined4 in_stack_ffffffc8;

	if (param_1 != *(int *)PTR_DAT_100f1824) {
		uVar1 = 0;
		if ((param_2 == 0x2b) && (*(int *)(PTR_DAT_100f1948 + param_3 * 0x78 + 100) == 0)) {
			uVar1 = 1;
		}
		if ((param_2 == 0x2c) && (*(int *)(PTR_DAT_100f1948 + param_3 * 0x78 + 100) == 1)) {
			uVar1 = 1;
		}
		if ((int)uVar1 != 0) {
			piVar2 = (int *)(PTR_DAT_100f1948 + param_3 * 0x78);
			if (*piVar2 == 0x2a) {
				FUN_1008742c(-1, param_3, 0, uVar1, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
			}
			if (*piVar2 == 0x2b) {
				FUN_1008722c(-1, param_3, 0, uVar1, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
			}
		}
	}
	return;
}

void FUN_1008bfd0(int param_1, int param_2, uint param_3, undefined8 param_4, undefined8 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined8 uVar1;
	int *piVar2;
	undefined4 in_stack_ffffffc8;

	if (param_1 != *(int *)PTR_DAT_100f1824) {
		uVar1 = 0;
		if ((param_2 == 0x2b) && (*(int *)(PTR_DAT_100f1948 + param_3 * 0x78 + 100) == 0)) {
			uVar1 = 1;
		}
		if ((param_2 == 0x2c) && (*(int *)(PTR_DAT_100f1948 + param_3 * 0x78 + 100) == 1)) {
			uVar1 = 1;
		}
		if ((int)uVar1 != 0) {
			piVar2 = (int *)(PTR_DAT_100f1948 + param_3 * 0x78);
			if (*piVar2 == 0x4a) {
				FUN_1008782c(-1, param_3, 0, uVar1, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
			}
			if (*piVar2 == 0x4b) {
				FUN_1008762c(-1, param_3, 0, uVar1, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
			}
		}
	}
	return;
}

void FUN_1008c0a0(undefined8 param_1, undefined8 param_2, int param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	if (*(uint *)(PTR_DAT_100f1948 + param_3 * 0x78) < 0x62) {
		// WARNING: Could not recover jumptable at 0x1008c0d0. Too many branches
		// WARNING: Treating indirect jump as call
		(**(code **)(PTR_PTR_LAB_100f3488 + *(uint *)(PTR_DAT_100f1948 + param_3 * 0x78) * 4))();
		return;
	}
	return;
}

void BreakCrux(longlong lParm1)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	ulonglong uVar5;
	longlong lVar6;
	undefined8 uVar7;
	int *piVar8;
	int iVar9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffc8;

	piVar8 = (int *)PTR_DAT_100f1e40;
	puVar4 = PTR_DAT_100f1e3c;
	puVar3 = PTR_DAT_100f1948;
	uVar7 = 1;
	lVar6 = ZEXT48(PTR_DAT_100f1948) + lParm1 * 0x78;
	iVar2 = (int)(lParm1 * 0x78);
	iVar1 = (int)lVar6;
	*(undefined4 *)(iVar1 + 0x10) = 1;
	iVar9 = 1;
	*(undefined4 *)(iVar1 + 0x24) = 1;
	*(undefined4 *)(iVar1 + 0x18) = 1;
	*(undefined4 *)(iVar1 + 0x38) = 1;
	*(undefined4 *)(iVar1 + 0x3c) = 1;
	*(undefined *)(iVar1 + 0x34) = 0xff;
	*(undefined *)(iVar1 + 0x40) = 0;
	uVar5 = (ulonglong) * (uint *)puVar4;
	iVar1 = 1;
	if (0 < (int)*(uint *)puVar4) {
		do {
			iVar9 = iVar1;
			if ((((*(int *)(puVar3 + *piVar8 * 0x78) == 0x14) || (*(int *)(puVar3 + *piVar8 * 0x78) - 0x15U < 2)) && (*(int *)(puVar3 + iVar2 + 0x74) == *(int *)(puVar3 + *piVar8 * 0x78 + 0x74))) && ((puVar3 + *piVar8 * 0x78)[0x34] != -1)) {
				iVar9 = 0;
			}
			piVar8 = piVar8 + 1;
			uVar5 = uVar5 - 1;
			iVar1 = iVar9;
		} while (uVar5 != 0);
	}
	if (iVar9 != 0) {
		if (*(int *)PTR_DAT_100f1f60 == 0) {
			PlaySfxLoc(0x3e, (ulonglong) * (uint *)(puVar3 + iVar2 + 4),
			    (ulonglong) * (uint *)(puVar3 + iVar2 + 8), lVar6, 1, piVar8, iVar9, in_r10,
			    in_stack_ffffffc8);
		}
		puVar3 = puVar3 + iVar2;
		ObjChangeMap((ulonglong) * (uint *)(puVar3 + 0x58), (ulonglong) * (uint *)(puVar3 + 0x5c),
		    *(int *)(puVar3 + 0x60), (ulonglong) * (uint *)(puVar3 + 100), uVar7, piVar8, iVar9,
		    in_r10, in_stack_ffffffc8);
	}
	return;
}

void BreakBarrel(undefined8 param_1, longlong param_2, undefined8 param_3, undefined8 param_4,
    longlong param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	char cVar1;
	short sVar2;
	int *piVar3;
	int iVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	longlong lVar11;
	undefined uVar12;
	longlong lVar13;
	longlong param_6_00;
	char *pcVar14;
	undefined4 uVar15;
	undefined4 uVar16;
	int *piVar17;
	int iVar18;
	uint *puVar19;
	int iVar20;
	longlong param_2_00;
	int iVar21;
	int iVar22;
	int iVar23;
	ulonglong uVar24;
	uint uVar25;
	undefined4 param_9_00;
	undefined in_stack_ffffff8f;
	undefined4 in_stack_ffffff98;

	puVar10 = PTR_DAT_100f1f60;
	puVar9 = PTR_DAT_100f1954;
	puVar8 = PTR_DAT_100f1950;
	puVar7 = PTR_DAT_100f194c;
	puVar6 = PTR_DAT_100f1948;
	puVar5 = PTR_DAT_100f1824;
	uVar16 = (undefined4)param_8;
	uVar15 = (undefined4)param_7;
	param_2_00 = param_2 * 0x78;
	uVar24 = ZEXT48(PTR_DAT_100f1948);
	param_6_00 = uVar24 + param_2_00 + 0x40;
	pcVar14 = (char *)param_6_00;
	if (*pcVar14 != '\0') {
		uVar25 = (uint)param_1;
		iVar21 = (int)param_2_00;
		if ((int)param_4 == 0) {
			piVar3 = (int *)(PTR_DAT_100f1948 + iVar21 + 0x58);
			*piVar3 = *(int *)(PTR_DAT_100f1948 + iVar21 + 0x58) - (int)param_3;
			if ((uVar25 != *(uint *)puVar5) && (*piVar3 < 1)) {
				*piVar3 = 1;
			}
		} else {
			*(undefined4 *)(PTR_DAT_100f1948 + iVar21 + 0x58) = 0;
		}
		if (*(int *)(puVar6 + iVar21 + 0x58) < 1) {
			param_2_00 = uVar24 + param_2_00;
			*(int *)(puVar6 + iVar21 + 0x58) = 0;
			lVar11 = param_2_00 + 0x24;
			uVar12 = (undefined)lVar11;
			lVar13 = param_2_00 + 0x18;
			piVar3 = (int *)param_2_00;
			piVar3[4] = 1;
			piVar3[9] = 1;
			piVar3[6] = 1;
			piVar3[0xe] = 0;
			piVar3[0xf] = 1;
			*(undefined *)(piVar3 + 0xd) = 0xff;
			*pcVar14 = '\0';
			piVar3[0x11] = 1;
			if (*(int *)puVar10 == 0) {
				if (*piVar3 == 0x3a) {
					PlaySfxLoc(0xe, (ulonglong)(uint)piVar3[1], (ulonglong)(uint)piVar3[2], lVar11, lVar13,
					    pcVar14, uVar15, uVar16, param_9_00);
					iVar18 = piVar3[2] + -1;
					iVar21 = iVar18 * 2;
					while (true) {
						uVar16 = (undefined4)param_8;
						uVar15 = (undefined4)param_7;
						pcVar14 = (char *)param_6_00;
						if (piVar3[2] + 1 < iVar18)
							break;
						iVar20 = piVar3[1] + -1;
						iVar23 = iVar20 * 0xe0;
						iVar22 = iVar20 * 0x70;
						while (iVar20 <= piVar3[1] + 1) {
							sVar2 = *(short *)(iVar21 + *(int *)puVar9 + iVar23);
							if (0 < sVar2) {
								lVar13 = 1;
								param_6_00 = 0;
								MonsterTrapHit((longlong)sVar2 - 1, 1, 4, 0, 1, 0, param_7, (int)param_8, param_9_00);
							}
							cVar1 = *(char *)(iVar18 + *(int *)puVar8 + iVar22);
							if ('\0' < cVar1) {
								lVar13 = 0x10;
								param_6_00 = 1;
								param_7 = 0;
								param_8 = 0;
								PlayerMHit((longlong)cVar1 - 1, -1, 0, 8, 0x10, 1, 0, 0, param_9_00);
							}
							cVar1 = *(char *)(iVar18 + *(int *)puVar7 + iVar22);
							if ('\0' < cVar1) {
								param_2_00 = (longlong)cVar1 + -1;
								iVar4 = (int)param_2_00 * 0x78;
								if ((*(int *)(puVar6 + iVar4) == 0x3a) && (puVar6[iVar4 + 0x34] != -1)) {
									lVar13 = param_5;
									BreakBarrel(param_1, param_2_00, param_3, 1, param_5, param_6_00, param_7, param_8,
									    param_9_00);
								}
							}
							iVar23 = iVar23 + 0xe0;
							iVar22 = iVar22 + 0x70;
							iVar20 = iVar20 + 1;
						}
						iVar21 = iVar21 + 2;
						iVar18 = iVar18 + 1;
					}
				} else {
					puVar19 = (uint *)(piVar3 + 1);
					piVar17 = piVar3 + 2;
					PlaySfxLoc(0xf, (ulonglong)(uint)piVar3[1], (ulonglong)(uint)piVar3[2], lVar11, lVar13,
					    pcVar14, uVar15, uVar16, param_9_00);
					SetRndSeed(piVar3[0x15]);
					if (piVar3[0x17] < 2) {
						if (piVar3[0x18] == 0) {
							uVar12 = (char)param_5;
							FUN_1004fa00(uVar25, *puVar19, *piVar17, (int)param_5, (char)lVar13, (char)pcVar14,
							    (char)uVar15, (char)uVar16, param_9_00, in_stack_ffffff8f, in_stack_ffffff98);
						} else {
							lVar13 = 0;
							uVar12 = (char)param_5;
							FUN_1004f860(*puVar19, *piVar17, 0, (int)param_5, 0, (char)pcVar14, (char)uVar15,
							    (char)uVar16, param_9_00);
						}
					}
					if (7 < piVar3[0x17]) {
						FUN_10076640(*(int *)(puVar6 + iVar21 + 100), (ulonglong)*puVar19, *piVar17, uVar12,
						    (char)lVar13, (char)pcVar14, (char)uVar15, (char)uVar16, param_9_00);
					}
				}
				if (uVar25 == *(uint *)puVar5) {
					NetSendCmdParam2(0, 0x2f, (ulonglong)(uVar25 & 0xffff), (ulonglong)((uint)param_2 & 0xffff),
					    lVar13, pcVar14, uVar15, uVar16, param_9_00);
				}
			} else {
				*(int *)lVar11 = piVar3[8];
				piVar3[7] = 0;
				*(undefined4 *)lVar13 = 1000;
			}
		} else {
			if (*(int *)puVar10 == 0) {
				PlaySfxLoc(0x30, (ulonglong) * (uint *)(puVar6 + iVar21 + 4),
				    (ulonglong) * (uint *)(puVar6 + iVar21 + 8), param_4, param_5, pcVar14, uVar15, uVar16, param_9_00);
			}
		}
	}
	return;
}

void BreakObject(undefined8 uParm1, longlong lParm2, undefined param_3, undefined param_4,
    undefined param_5, undefined8 uParm6, undefined8 uParm7, undefined8 uParm8)

{
	uint uVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	longlong lVar4;
	int iVar5;
	undefined7 uVar6;
	undefined uVar7;
	undefined7 uVar8;
	undefined uVar9;
	undefined7 uVar10;
	undefined uVar11;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined1 in_stack_ffffffcb;

	uVar11 = (undefined)uParm8;
	uVar10 = (undefined7)((ulonglong)uParm8 >> 8);
	uVar9 = (undefined)uParm7;
	uVar8 = (undefined7)((ulonglong)uParm7 >> 8);
	uVar7 = (undefined)uParm6;
	uVar6 = (undefined7)((ulonglong)uParm6 >> 8);
	ppuVar3 = &toc;
	if ((int)uParm1 == -1) {
		lVar4 = 10;
	} else {
		puVar2 = PTR_DAT_100f1828 + (int)uParm1 * 0x55ec;
		uVar1 = *(uint *)(puVar2 + 0x5544);
		ppuVar3 = &toc;
		lVar4 = random(0xa3, ((ulonglong) * (uint *)(puVar2 + 0x5548) - (ulonglong)uVar1) + 1, param_3, param_4, param_5, uVar7, uVar9, uVar11, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffcb);
		lVar4 = (ulonglong)uVar1 + lVar4;
		iVar5 = (int)lVar4 * *(int *)(puVar2 + 0x5550);
		uVar1 = iVar5 / 100 + (iVar5 >> 0x1f);
		lVar4 = (ulonglong) * (uint *)(puVar2 + 0x555c) + (ulonglong) * (uint *)(puVar2 + 0x184) + lVar4 + ((longlong)(int)((ulonglong)((longlong)iVar5 * 0x51eb851f) >> 0x20) & 0xffffffff00000000U | (ulonglong)uVar1) + (ulonglong)(uVar1 >> 0x1f);
	}
	iVar5 = *(int *)(ppuVar3[-0x1da2] + (int)lParm2 * 0x78);
	if (iVar5 < 0x39) {
		if ((iVar5 < 0x17) && (0x13 < iVar5)) {
			BreakCrux(lParm2);
		}
	} else {
		if (iVar5 < 0x3b) {
			BreakBarrel(uParm1, lParm2, lVar4, 0, 1, CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9),
			    CONCAT71(uVar10, uVar11), in_stack_ffffffb8);
		}
	}
	return;
}

void FUN_1008c740(undefined8 uParm1, longlong lParm2)

{
	undefined8 in_r8;
	undefined8 in_r9;
	undefined8 in_r10;
	undefined4 in_stack_ffffffc8;

	if ((*(int *)(PTR_DAT_100f1948 + (int)lParm2 * 0x78) < 0x3b) && (0x38 < *(int *)(PTR_DAT_100f1948 + (int)lParm2 * 0x78))) {
		BreakBarrel(uParm1, lParm2, 0, 1, 0, in_r8, in_r9, in_r10, in_stack_ffffffc8);
	}
	return;
}

void FUN_1008c78c(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	uint uVar5;
	ulonglong uVar6;
	undefined4 in_stack_ffffffb8;

	puVar3 = PTR_DAT_100f1a38;
	puVar2 = PTR_DAT_100f1948;
	puVar4 = PTR_DAT_100f1948 + param_1 * 0x78;
	if (*(int *)(puVar4 + 100) == 0) {
		*(undefined4 *)(puVar4 + 0x3c) = 0;
	} else {
		*(undefined4 *)(puVar4 + 0x3c) = 1;
		uVar1 = *(uint *)(puVar4 + 4);
		uVar6 = (ulonglong)uVar1;
		uVar5 = *(uint *)(puVar4 + 8);
		puVar4[0x40] = 2;
		if (*(int *)(puVar2 + param_1 * 0x78) == 1) {
			if (*(int *)(puVar4 + 0x58) == 0xd6) {
				FUN_1008610c(uVar6, uVar5, 0x198, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
			} else {
				FUN_1008610c(uVar6, uVar5, 0x189, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
			}
			*(undefined *)(*(int *)puVar3 + uVar1 * 0x70 + uVar5) = 7;
			FUN_10086454(uVar6 - 1, (ulonglong)uVar5, 7, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffb8);
			uVar5 = uVar5 - 1;
		} else {
			FUN_1008610c(uVar6, uVar5, 0x18b, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
			*(undefined *)(*(int *)puVar3 + uVar1 * 0x70 + uVar5) = 8;
			FUN_10086454(uVar6, (ulonglong)uVar5 - 1, 8, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffb8);
			uVar6 = uVar6 - 1;
		}
		FUN_10086a60(param_1, uVar6, uVar5, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	return;
}

void FUN_1008c8b4(int iParm1)

{
	int iVar1;
	int *piVar2;
	ulonglong uVar3;
	undefined *puVar4;
	ulonglong in_r7;
	int iVar5;
	undefined4 in_r10;
	undefined4 in_stack_ffffffc8;

	iParm1 = iParm1 * 0x78;
	iVar5 = 1;
	uVar3 = (ulonglong) * (uint *)PTR_DAT_100f1e3c;
	piVar2 = (int *)PTR_DAT_100f1e40;
	iVar1 = 1;
	if (0 < (int)*(uint *)PTR_DAT_100f1e3c) {
		do {
			iVar5 = iVar1;
			in_r7 = (ulonglong) * (uint *)(PTR_DAT_100f1948 + *piVar2 * 0x78);
			if ((((*(uint *)(PTR_DAT_100f1948 + *piVar2 * 0x78) == 0x14) || ((in_r7 - 0x15 & 0xffffffff) < 2)) && (*(int *)(PTR_DAT_100f1948 + iParm1 + 0x74) == *(int *)(PTR_DAT_100f1948 + *piVar2 * 0x78 + 0x74))) && ((PTR_DAT_100f1948 + *piVar2 * 0x78)[0x34] != -1)) {
				iVar5 = 0;
			}
			piVar2 = piVar2 + 1;
			uVar3 = uVar3 - 1;
			iVar1 = iVar5;
		} while (uVar3 != 0);
	}
	if (iVar5 != 0) {
		puVar4 = PTR_DAT_100f1948 + iParm1;
		ObjChangeMap((ulonglong) * (uint *)(puVar4 + 0x58), (ulonglong) * (uint *)(puVar4 + 0x5c),
		    *(int *)(puVar4 + 0x60), (ulonglong) * (uint *)(puVar4 + 100), in_r7, iParm1, iVar5,
		    in_r10, in_stack_ffffffc8);
	}
	return;
}

void FUN_1008c96c(int iParm1)

{
	undefined *puVar1;
	undefined8 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffc8;

	puVar1 = PTR_DAT_100f1948 + iParm1 * 0x78;
	if (puVar1[0x40] == '\0') {
		ObjChangeMap((ulonglong) * (uint *)(puVar1 + 0x58), (ulonglong) * (uint *)(puVar1 + 0x5c),
		    *(int *)(puVar1 + 0x60), (ulonglong) * (uint *)(puVar1 + 100), in_r7, in_r8, in_r9, in_r10, in_stack_ffffffc8);
	}
	return;
}

void FUN_1008c9b4(int iParm1)

{
	undefined uVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined8 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffa8;

	puVar3 = PTR_DAT_100f1ab8;
	puVar2 = PTR_DAT_100f1948;
	puVar4 = PTR_DAT_100f1948 + iParm1 * 0x78;
	if (*(int *)(puVar4 + 0x24) == *(int *)(puVar4 + 0x6c)) {
		ObjChangeMapResync((ulonglong) * (uint *)(puVar4 + 0x58), (ulonglong) * (uint *)(puVar4 + 0x5c),
		    *(int *)(puVar4 + 0x60), (ulonglong) * (uint *)(puVar4 + 100), in_r7, in_r8, in_r9, in_r10, in_stack_ffffffa8);
		if (*(int *)(puVar2 + iParm1 * 0x78) == 0x47) {
			uVar1 = *puVar3;
			*puVar3 = 9;
			DRLG_MRectTrans(*(int *)(puVar4 + 0x58), *(int *)(puVar4 + 0x5c), *(int *)(puVar4 + 0x60),
			    *(uint *)(puVar4 + 100));
			*puVar3 = uVar1;
		}
	}
	return;
}

void FUN_1008ca50(int iParm1)

{
	int *piVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	undefined uVar5;
	ulonglong uVar6;
	undefined uVar7;
	undefined *puVar9;
	ulonglong uVar8;
	undefined uVar10;
	ulonglong in_r7;
	undefined uVar11;
	undefined4 in_r8;
	undefined uVar12;
	undefined4 in_r9;
	undefined uVar13;
	undefined4 in_r10;
	undefined uVar14;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffffa8;
	int *local_28[5];
	undefined4 local_14;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar3 = PTR_DAT_100f1a84;
	puVar2 = PTR_DAT_100f1a80;
	puVar9 = PTR_DAT_100f1948;
	ppuVar4 = &toc;
	local_14 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	piVar1 = (int *)(PTR_DAT_100f1948 + iParm1 * 0x78 + 0x6c);
	if (*piVar1 == 1) {
		ppuVar4 = &toc;
		ObjChangeMapResync((ulonglong) * (uint *)PTR_DAT_100f1a84, (ulonglong) * (uint *)PTR_DAT_100f1a80 + 3,
		    *(uint *)PTR_DAT_100f1a84 + 2, (ulonglong) * (uint *)PTR_DAT_100f1a80 + 7, in_r7, in_r8,
		    in_r9, in_r10, in_stack_ffffffa8);
	}
	if (*piVar1 == 2) {
		ObjChangeMapResync((ulonglong) * (uint *)puVar3, (ulonglong) * (uint *)puVar2 + 3, *(uint *)puVar3 + 2,
		    (ulonglong) * (uint *)puVar2 + 7, in_r7, in_r8, in_r9, in_r10, in_stack_ffffffa8);
		in_r7 = (ulonglong) * (uint *)puVar3;
		ObjChangeMapResync(in_r7 + 6, (ulonglong) * (uint *)puVar2 + 3, *(uint *)puVar3 + *(int *)ppuVar4[-0x1d55], (ulonglong) * (uint *)puVar2 + 7, in_r7, in_r8, in_r9, in_r10, in_stack_ffffffa8);
	}
	if (*piVar1 == 3) {
		puVar9 = puVar9 + iParm1 * 0x78;
		uVar6 = (ulonglong) * (uint *)(puVar9 + 0x60);
		uVar8 = (ulonglong) * (uint *)(puVar9 + 100);
		ObjChangeMapResync((ulonglong) * (uint *)(puVar9 + 0x58), (ulonglong) * (uint *)(puVar9 + 0x5c),
		    *(uint *)(puVar9 + 0x60), uVar8, in_r7, in_r8, in_r9, in_r10, in_stack_ffffffa8);
		uVar6 = LoadFileInMem(ZEXT48(ppuVar4[-0x16cf]), (undefined4 *)0x0, uVar6, uVar8, in_r7, in_r8, in_r9,
		    in_r10, in_stack_ffffffa8);
		uVar14 = (undefined)in_r10;
		uVar13 = (undefined)in_r9;
		uVar12 = (undefined)in_r8;
		uVar11 = (undefined)in_r7;
		uVar10 = (undefined)uVar8;
		local_28[0] = (int *)uVar6;
		uVar5 = (undefined)(*(int *)puVar3 << 1);
		uVar7 = (undefined)(*(int *)puVar2 << 1);
		FUN_1008314c(uVar6 & 0xffffffff, (ulonglong)(uint)(*(int *)puVar3 << 1),
		    (ulonglong)(uint)(*(int *)puVar2 << 1), uVar8, in_r7, in_r8, in_r9, in_r10,
		    in_stack_ffffffa8);
		mem_free_dbg(local_28, uVar5, uVar7, uVar10, uVar11, uVar12, uVar13, uVar14, in_stack_ffffffa8);
	}
	return;
}

void FUN_1008cb48(longlong lParm1)

{
	int iVar1;
	int iVar2;
	int *piVar3;
	undefined *puVar4;
	undefined *puVar5;
	ulonglong uVar6;
	ulonglong uVar7;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffc8;

	puVar5 = PTR_DAT_100f1948;
	lParm1 = lParm1 * 0x78;
	uVar7 = ZEXT48(PTR_DAT_100f1948);
	iVar2 = (int)lParm1;
	piVar3 = (int *)(PTR_DAT_100f1948 + iVar2 + 100);
	if (*piVar3 == 0) {
		*(undefined4 *)(PTR_DAT_100f1948 + iVar2 + 0x3c) = 0;
	} else {
		*(undefined4 *)(PTR_DAT_100f1948 + iVar2 + 0x3c) = 1;
	}
	puVar4 = puVar5 + iVar2;
	uVar6 = (ulonglong) * (uint *)(puVar4 + 4);
	iVar1 = *(int *)(puVar4 + 8);
	puVar4[0x40] = 2;
	iVar2 = *(int *)(puVar5 + iVar2);
	if ((iVar2 == 0x2a) && (*piVar3 == 0)) {
		FUN_1008610c(uVar6, iVar1, 0x21a, uVar7, lParm1, piVar3, in_r9, in_r10, in_stack_ffffffc8);
	} else {
		if ((iVar2 == 0x2a) && ((*piVar3 == 1 || (*piVar3 == 2)))) {
			FUN_1008610c(uVar6, iVar1, 0xd, uVar7, lParm1, piVar3, in_r9, in_r10, in_stack_ffffffc8);
		} else {
			if ((iVar2 == 0x2b) && (*piVar3 == 0)) {
				FUN_1008610c(uVar6, iVar1, 0x21c, uVar7, lParm1, piVar3, in_r9, in_r10, in_stack_ffffffc8);
			} else {
				if ((iVar2 == 0x2b) && ((*piVar3 == 1 || (*piVar3 == 2)))) {
					FUN_1008610c(uVar6, iVar1, 0x11, uVar7, lParm1, piVar3, in_r9, in_r10, in_stack_ffffffc8);
				}
			}
		}
	}
	return;
}

void FUN_1008cc3c(longlong lParm1)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	int iVar4;
	undefined *puVar5;
	ulonglong uVar6;
	ulonglong uVar7;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffc8;

	puVar5 = PTR_DAT_100f1948;
	lParm1 = lParm1 * 0x78;
	uVar7 = ZEXT48(PTR_DAT_100f1948);
	iVar4 = (int)lParm1;
	puVar3 = PTR_DAT_100f1948 + iVar4;
	*(undefined4 *)(puVar3 + 0x3c) = 1;
	uVar6 = (ulonglong) * (uint *)(puVar3 + 4);
	iVar1 = *(int *)(puVar3 + 8);
	puVar3[0x40] = 2;
	iVar2 = *(int *)(puVar5 + iVar4);
	if ((iVar2 == 0x4a) && (*(int *)(puVar3 + 100) == 0)) {
		FUN_1008610c(uVar6, iVar1, 0x213, uVar7, lParm1, 0x4a, in_r9, in_r10, in_stack_ffffffc8);
	} else {
		if ((iVar2 == 0x4a) && ((*(int *)(puVar5 + iVar4 + 100) == 1 || (*(int *)(puVar5 + iVar4 + 100) == 2)))) {
			FUN_1008610c(uVar6, iVar1, 0x21a, uVar7, lParm1, 0x4a, in_r9, in_r10, in_stack_ffffffc8);
		} else {
			if ((iVar2 == 0x4b) && (*(int *)(puVar5 + iVar4 + 100) == 0)) {
				FUN_1008610c(uVar6, iVar1, 0x216, uVar7, lParm1, 0x4b, in_r9, in_r10, in_stack_ffffffc8);
			} else {
				if ((iVar2 == 0x4b) && ((*(int *)(puVar5 + iVar4 + 100) == 1 || (*(int *)(puVar5 + iVar4 + 100) == 2)))) {
					FUN_1008610c(uVar6, iVar1, 0x21d, uVar7, lParm1, 0x4b, in_r9, in_r10, in_stack_ffffffc8);
				}
			}
		}
	}
	return;
}

void SyncObjectAnim(longlong lParm1)

{
	int iVar1;
	longlong lVar2;
	char *pcVar4;
	ulonglong uVar3;
	ulonglong uVar5;
	longlong lVar6;
	int *piVar7;
	int iVar8;
	undefined4 in_r10;
	undefined4 in_stack_ffffffc8;

	lVar6 = lParm1 * 0x78;
	uVar5 = ZEXT48(PTR_DAT_100f1948);
	iVar8 = 0;
	piVar7 = (int *)(PTR_DAT_100f1948 + (int)lVar6);
	pcVar4 = PTR_DAT_100f1ff8;
	while (*pcVar4 != PTR_DAT_100f2008[*piVar7 * 0x2c + 1]) {
		pcVar4 = pcVar4 + 1;
		iVar8 = iVar8 + 1;
	}
	uVar3 = (ulonglong)_DAT_100f34cc;
	lVar2 = uVar5 + lVar6;
	*(undefined4 *)((int)lVar2 + 0x14) = *(undefined4 *)(_DAT_100f34cc + iVar8 * 4);
	iVar1 = *piVar7;
	if (iVar1 != 0x29) {
		if (iVar1 < 0x29) {
			if (iVar1 < 0x17) {
				if (iVar1 != 4) {
					if (3 < iVar1) {
						if (iVar1 < 0x14) {
							return;
						}
						FUN_1008c8b4();
						return;
					}
					if (2 < iVar1) {
						return;
					}
					if (iVar1 < 1) {
						return;
					}
					FUN_1008c78c((int)lParm1, lVar2, uVar3, uVar5, lVar6, piVar7, iVar8, in_r10, in_stack_ffffffc8);
					return;
				}
			} else {
				if (iVar1 != 0x1c) {
					if (0x1b < iVar1) {
						return;
					}
					if (iVar1 != 0x19) {
						return;
					}
				}
			}
			FUN_1008c96c();
			return;
		}
		if (iVar1 == 0x49) {
			FUN_1008ca50();
			return;
		}
		if (iVar1 < 0x49) {
			if (iVar1 != 0x47) {
				if (0x46 < iVar1) {
					return;
				}
				if (0x2b < iVar1) {
					return;
				}
				FUN_1008cb48();
				return;
			}
		} else {
			if (iVar1 != 0x58) {
				if (0x57 < iVar1) {
					return;
				}
				if (0x4b < iVar1) {
					return;
				}
				FUN_1008cc3c();
				return;
			}
		}
	}
	FUN_1008c9b4();
	return;
}

void GetObjectStr(int param_1, undefined8 param_2, undefined8 param_3, undefined4 param_4,
    undefined4 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	code *UNRECOVERED_JUMPTABLE;
	undefined *puVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar2 = PTR_DAT_100f192c;
	puVar1 = PTR_DAT_100f191c;
	ppuVar3 = &toc;
	if (*(uint *)(PTR_DAT_100f1948 + param_1 * 0x78) < 0x62) {
		UNRECOVERED_JUMPTABLE = *(code **)(_DAT_100f33f4 + *(uint *)(PTR_DAT_100f1948 + param_1 * 0x78) * 4);
		// WARNING: Could not recover jumptable at 0x1008ce9c. Too many branches
		// WARNING: Treating indirect jump as call
		(*UNRECOVERED_JUMPTABLE)(UNRECOVERED_JUMPTABLE, ZEXT48(PTR_s_Weapon_Rack_100f341c));
		return;
	}
	if ((PTR_DAT_100f1828[*(int *)PTR_DAT_100f1824 * 0x55ec + 0x15c] == '\x01') && (*(int *)(PTR_DAT_100f1948 + param_1 * 0x78 + 0x48) != 0)) {
		sprintf((int)PTR_DAT_100f191c, PTR_s_Trapped__s_100f33f8, PTR_DAT_100f192c, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4);
		strcpy((int)puVar2, (int)puVar1);
		*ppuVar3[-0x1dca] = 2;
	}
	return;
}

void FUN_1008d1c8(void)

{
	_DAT_100f430c = _DAT_100f4304;
	return;
}

void FUN_1008d1d4(uint *param_1, uint *param_2)

{
	if (param_2[2] == 0xffffffff) {
		*(undefined2 *)((int)param_1 + 6) = 0xffff;
		return;
	}
	*(undefined2 *)((int)param_1 + 6) = (short)param_2[0x5a];
	if (param_2[0x5a] == 0x17) {
		*(ushort *)(param_1 + 1) = (ushort)((int)*(char *)(param_2 + 0x11) << 8) | (short)*(char *)((int)param_2 + 0x45);
		*param_1 = (int)*(char *)((int)param_2 + 0x49) | (int)*(char *)(param_2 + 0x12) << 8 | (int)*(char *)((int)param_2 + 0x46) << 0x18 | (int)*(char *)((int)param_2 + 0x47) << 0x10;
		*(undefined *)(param_1 + 2) = *(undefined *)((int)param_2 + 0x4a);
		*(undefined *)((int)param_1 + 9) = *(undefined *)((int)param_2 + 0x4b);
		*(undefined *)((int)param_1 + 10) = *(undefined *)(param_2 + 0x13);
		*(undefined *)((int)param_1 + 0xb) = *(undefined *)((int)param_2 + 0x4d);
		*(undefined *)(param_1 + 3) = *(undefined *)((int)param_2 + 0x4e);
		*(ushort *)((int)param_1 + 0xd) = (ushort)param_2[0x31] | (ushort)((int)*(char *)((int)param_2 + 0x4f) << 8) | ((short)param_2[0x30] + -0x13) * 0x40;
		*(uint *)((int)param_1 + 0xf) = (int)*(char *)((int)param_2 + 0x53) | (int)*(char *)((int)param_2 + 0x52) << 8 | (int)*(char *)(param_2 + 0x14) << 0x18 | (int)*(char *)((int)param_2 + 0x51) << 0x10;
		return;
	}
	*param_1 = *param_2;
	*(undefined2 *)(param_1 + 1) = *(undefined2 *)(param_2 + 1);
	*(char *)(param_1 + 2) = (char)param_2[0xe] + (char)((int)*(char *)(param_2 + 0xf) << 1);
	*(undefined *)((int)param_1 + 9) = (char)param_2[0x3b];
	*(undefined *)((int)param_1 + 10) = (char)param_2[0x3c];
	*(undefined *)((int)param_1 + 0xb) = (char)param_2[0x39];
	*(char *)(param_1 + 3) = (char)param_2[0x3a];
	if (param_2[0x5a] != 0) {
		return;
	}
	*(undefined2 *)((int)param_1 + 0xd) = (short)param_2[0x31];
	return;
}

void PackPlayer(int param_1, int param_2, int param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	bool bVar1;
	undefined4 uVar2;
	char *pcVar3;
	int iVar4;
	int iVar5;
	longlong lVar6;
	ulonglong uVar7;
	undefined *puVar8;
	undefined *puVar9;
	uint *puVar10;
	uint *puVar11;
	int iVar12;
	int iVar13;
	undefined in_stack_ffffffab;
	undefined in_stack_ffffffaf;
	uint local_4c;

	memset((char)param_1, 0xf2, (char)param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffab, in_stack_ffffffaf, local_4c);
	uVar7 = (ulonglong)local_4c;
	iVar13 = *(int *)(local_4c - 0x77a8) + param_2 * 0x55ec;
	*(undefined *)(param_1 + 8) = (char)*(undefined4 *)(iVar13 + 0x20);
	*(undefined *)(param_1 + 9) = (char)*(undefined4 *)(iVar13 + 0x24);
	*(undefined *)(param_1 + 10) = (char)*(undefined4 *)(iVar13 + 0x28);
	*(undefined *)(param_1 + 0xb) = (char)*(undefined4 *)(iVar13 + 0x34);
	*(undefined *)(param_1 + 0xc) = (char)*(undefined4 *)(iVar13 + 0x38);
	*(undefined *)(param_1 + 0xd) = (char)*(undefined4 *)(iVar13 + 0x3c);
	*(undefined *)(param_1 + 0xe) = (char)*(undefined4 *)(iVar13 + 0x48);
	*(undefined *)(param_1 + 0xf) = (char)*(undefined4 *)(iVar13 + 0x4c);
	strcpy(param_1 + 0x10, iVar13 + 0x13c);
	*(undefined *)(param_1 + 0x30) = *(undefined *)(iVar13 + 0x15c);
	*(undefined *)(param_1 + 0x31) = (char)*(undefined4 *)(iVar13 + 0x164);
	*(undefined *)(param_1 + 0x32) = (char)*(undefined4 *)(iVar13 + 0x16c);
	*(undefined *)(param_1 + 0x33) = (char)*(undefined4 *)(iVar13 + 0x174);
	*(undefined *)(param_1 + 0x34) = (char)*(undefined4 *)(iVar13 + 0x17c);
	*(undefined *)(param_1 + 0x35) = *(undefined *)(iVar13 + 0x1b4);
	*(undefined *)(param_1 + 0x36) = (char)*(undefined4 *)(iVar13 + 0x180);
	*(undefined4 *)(param_1 + 0x37) = *(undefined4 *)(iVar13 + 0x1b8);
	*(undefined4 *)(param_1 + 0x3b) = *(undefined4 *)(iVar13 + 0x1c8);
	*(undefined4 *)(param_1 + 0x3f) = *(undefined4 *)(iVar13 + 0x18c);
	*(undefined4 *)(param_1 + 0x43) = *(undefined4 *)(iVar13 + 400);
	*(undefined4 *)(param_1 + 0x47) = *(undefined4 *)(iVar13 + 0x1a0);
	*(undefined4 *)(param_1 + 0x4b) = *(undefined4 *)(iVar13 + 0x1a4);
	uVar2 = *(undefined4 *)(iVar13 + 0x104);
	*(undefined4 *)(param_1 + 0x78) = *(undefined4 *)(iVar13 + 0x108);
	*(undefined4 *)(param_1 + 0x74) = uVar2;
	iVar12 = 0x20;
	lVar6 = 5;
	*(undefined *)(param_1 + 0x4f) = *(undefined *)(iVar13 + 0xc1);
	*(undefined *)(param_1 + 0x50) = *(undefined *)(iVar13 + 0xc2);
	*(undefined *)(param_1 + 0x51) = *(undefined *)(iVar13 + 0xc3);
	*(undefined *)(param_1 + 0x52) = *(undefined *)(iVar13 + 0xc4);
	*(undefined *)(param_1 + 0x53) = *(undefined *)(iVar13 + 0xc5);
	*(undefined *)(param_1 + 0x54) = *(undefined *)(iVar13 + 0xc6);
	*(undefined *)(param_1 + 0x55) = *(undefined *)(iVar13 + 199);
	*(undefined *)(param_1 + 0x56) = *(undefined *)(iVar13 + 200);
	*(undefined *)(param_1 + 0x57) = *(undefined *)(iVar13 + 0xc9);
	*(undefined *)(param_1 + 0x58) = *(undefined *)(iVar13 + 0xca);
	*(undefined *)(param_1 + 0x59) = *(undefined *)(iVar13 + 0xcb);
	*(undefined *)(param_1 + 0x5a) = *(undefined *)(iVar13 + 0xcc);
	*(undefined *)(param_1 + 0x5b) = *(undefined *)(iVar13 + 0xcd);
	*(undefined *)(param_1 + 0x5c) = *(undefined *)(iVar13 + 0xce);
	*(undefined *)(param_1 + 0x5d) = *(undefined *)(iVar13 + 0xcf);
	*(undefined *)(param_1 + 0x5e) = *(undefined *)(iVar13 + 0xd0);
	*(undefined *)(param_1 + 0x5f) = *(undefined *)(iVar13 + 0xd1);
	*(undefined *)(param_1 + 0x60) = *(undefined *)(iVar13 + 0xd2);
	*(undefined *)(param_1 + 0x61) = *(undefined *)(iVar13 + 0xd3);
	*(undefined *)(param_1 + 0x62) = *(undefined *)(iVar13 + 0xd4);
	*(undefined *)(param_1 + 99) = *(undefined *)(iVar13 + 0xd5);
	*(undefined *)(param_1 + 100) = *(undefined *)(iVar13 + 0xd6);
	*(undefined *)(param_1 + 0x65) = *(undefined *)(iVar13 + 0xd7);
	*(undefined *)(param_1 + 0x66) = *(undefined *)(iVar13 + 0xd8);
	*(undefined *)(param_1 + 0x67) = *(undefined *)(iVar13 + 0xd9);
	*(undefined *)(param_1 + 0x68) = *(undefined *)(iVar13 + 0xda);
	*(undefined *)(param_1 + 0x69) = *(undefined *)(iVar13 + 0xdb);
	*(undefined *)(param_1 + 0x6a) = *(undefined *)(iVar13 + 0xdc);
	*(undefined *)(param_1 + 0x6b) = *(undefined *)(iVar13 + 0xdd);
	*(undefined *)(param_1 + 0x6c) = *(undefined *)(iVar13 + 0xde);
	*(undefined *)(param_1 + 0x6d) = *(undefined *)(iVar13 + 0xdf);
	*(undefined *)(param_1 + 0x6e) = *(undefined *)(iVar13 + 0xe0);
	do {
		iVar4 = iVar12 + 0xc1;
		iVar5 = iVar12 + 0x4f;
		iVar12 = iVar12 + 1;
		*(undefined *)(param_1 + iVar5) = *(undefined *)(iVar13 + iVar4);
		lVar6 = lVar6 + -1;
	} while (lVar6 != 0);
	puVar10 = (uint *)(param_1 + 0x7c);
	puVar11 = (uint *)(iVar13 + 0x498);
	iVar12 = 6;
	do {
		FUN_1008d1d4(puVar10, puVar11);
		bVar1 = iVar12 != 0;
		puVar10 = (uint *)((int)puVar10 + 0x13);
		puVar11 = puVar11 + 0x5c;
		iVar12 = iVar12 + -1;
	} while (bVar1);
	puVar11 = (uint *)(param_1 + 0x101);
	puVar10 = (uint *)(iVar13 + 0xea8);
	iVar12 = 0x27;
	do {
		FUN_1008d1d4(puVar11, puVar10);
		bVar1 = iVar12 != 0;
		puVar11 = (uint *)((int)puVar11 + 0x13);
		puVar10 = puVar10 + 0x5c;
		iVar12 = iVar12 + -1;
	} while (bVar1);
	lVar6 = 5;
	iVar12 = 0;
	do {
		puVar8 = (undefined *)(iVar13 + iVar12 + 0x482c);
		puVar9 = (undefined *)(param_1 + iVar12 + 0x3f9);
		iVar12 = iVar12 + 8;
		*puVar9 = *puVar8;
		puVar9[1] = puVar8[1];
		puVar9[2] = puVar8[2];
		puVar9[3] = puVar8[3];
		puVar9[4] = puVar8[4];
		puVar9[5] = puVar8[5];
		puVar9[6] = puVar8[6];
		puVar9[7] = puVar8[7];
		lVar6 = lVar6 + -1;
	} while (lVar6 != 0);
	puVar11 = (uint *)(param_1 + 0x422);
	puVar10 = (uint *)(iVar13 + 0x4854);
	*(undefined *)(param_1 + 0x421) = (char)*(undefined4 *)(iVar13 + 0x4828);
	iVar12 = 7;
	do {
		FUN_1008d1d4(puVar11, puVar10);
		bVar1 = iVar12 != 0;
		puVar11 = (uint *)((int)puVar11 + 0x13);
		puVar10 = puVar10 + 0x5c;
		iVar12 = iVar12 + -1;
	} while (bVar1);
	pcVar3 = *(char **)((int)uVar7 + -0x77f0);
	*(undefined4 *)(param_1 + 0x4d2) = *(undefined4 *)(iVar13 + 0x55a8);
	if ((*pcVar3 == '\x01') || (param_3 != 0)) {
		*(undefined *)(param_1 + 0x4be) = *(undefined *)(iVar13 + 0x5594);
	} else {
		*(undefined *)(param_1 + 0x4be) = 0;
	}
	return;
}

void FUN_1008d6a8(uint *param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	ushort uVar1;
	undefined4 uVar2;
	undefined *puVar3;
	undefined4 *puVar4;
	undefined4 *puVar5;
	longlong lVar6;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;

	puVar3 = PTR_DAT_100f1940;
	uVar1 = *(ushort *)((int)param_1 + 6);
	if (uVar1 == 0xffff) {
		*(undefined4 *)(param_2 + 8) = 0xffffffff;
	} else {
		if (uVar1 == 0x17) {
			FUN_1004fd24(0x7f, (ulonglong) * (ushort *)(param_1 + 1), *param_1, (uint) * (byte *)(param_1 + 2),
			    (uint) * (byte *)((int)param_1 + 9), (uint) * (byte *)((int)param_1 + 10),
			    (uint) * (byte *)((int)param_1 + 0xb), (uint) * (byte *)(param_1 + 3),
			    in_stack_ffffffb8, in_stack_ffffffbf, (uint) * (ushort *)((int)param_1 + 0xd),
			    *(undefined4 *)((int)param_1 + 0xf));
		} else {
			FUN_1004fbc4(0x7f, (uint)uVar1, (ulonglong) * (ushort *)(param_1 + 1), (ulonglong)*param_1,
			    (uint) * (ushort *)((int)param_1 + 0xd), param_6, param_7, param_8, in_stack_ffffffb8);
			puVar3[0xb6cc] = (char)((int)(uint) * (byte *)(param_1 + 2) >> 1);
			*(uint *)(puVar3 + 0xb6c8) = (uint) * (byte *)(param_1 + 2) & 1;
			*(uint *)(puVar3 + 0xb77c) = (uint) * (byte *)((int)param_1 + 9);
			*(uint *)(puVar3 + 0xb780) = (uint) * (byte *)((int)param_1 + 10);
			*(uint *)(puVar3 + 0xb774) = (uint) * (byte *)((int)param_1 + 0xb);
			*(uint *)(puVar3 + 0xb778) = (uint) * (byte *)(param_1 + 3);
		}
		lVar6 = 0x2e;
		puVar4 = (undefined4 *)(puVar3 + 0xb688);
		puVar5 = (undefined4 *)(param_2 + -8);
		do {
			uVar2 = puVar4[3];
			puVar5[2] = puVar4[2];
			puVar5[3] = uVar2;
			lVar6 = lVar6 + -1;
			puVar4 = puVar4 + 2;
			puVar5 = puVar5 + 2;
		} while (lVar6 != 0);
	}
	return;
}

void FUN_1008d7c0(int param_1, undefined param_2, undefined param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	int iVar2;
	undefined4 uVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	int iVar11;
	longlong lVar12;
	undefined4 in_stack_ffffffb8;

	lVar10 = (longlong)param_8;
	lVar9 = (longlong)param_7;
	lVar8 = (longlong)param_6;
	lVar7 = (longlong)param_5;
	lVar6 = (longlong)param_4;
	iVar11 = 0;
	lVar12 = (longlong)param_1;
	while (iVar11 < *(int *)(param_1 + 0x4828)) {
		iVar1 = (int)lVar12;
		if (*(int *)(iVar1 + 0x1010) == 0) {
			lVar5 = 0;
			while ((int)lVar5 < *(int *)(param_1 + 0x4828)) {
				if (((iVar11 != (int)lVar5) && (lVar4 = (longlong)param_1 + lVar5 * 0x170, iVar2 = (int)lVar4, *(int *)(iVar2 + 0x1010) == 0)) && (*(int *)(iVar1 + 0xea8) == *(int *)(iVar2 + 0xea8))) {
					uVar3 = GetRndSeed((char)*(int *)(iVar1 + 0xea8), (char)lVar4, (char)lVar5, (char)lVar6,
					    (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10, in_stack_ffffffb8);
					*(undefined4 *)(iVar1 + 0xea8) = uVar3;
					lVar5 = -1;
				}
				lVar5 = lVar5 + 1;
			}
		}
		lVar12 = lVar12 + 0x170;
		iVar11 = iVar11 + 1;
	}
	return;
}

void UnPackPlayer(int param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	bool bVar1;
	undefined4 uVar2;
	longlong lVar3;
	ulonglong uVar4;
	int iVar5;
	undefined *puVar6;
	ulonglong uVar7;
	longlong lVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined8 uVar11;
	ulonglong uVar12;
	undefined7 uVar13;
	undefined uVar14;
	uint *puVar15;
	int iVar16;
	longlong lVar17;
	undefined4 in_stack_ffffff98;

	puVar10 = PTR_DAT_100f1e58;
	uVar13 = (undefined7)(param_5 >> 8);
	uVar14 = (undefined)param_5;
	uVar4 = ZEXT48(&toc);
	uVar7 = ZEXT48(PTR_DAT_100f1828);
	lVar17 = uVar7 + param_2 * 0x55ec;
	iVar5 = (int)lVar17;
	uVar11 = param_3;
	ClearPlrRVars(iVar5);
	*(uint *)(iVar5 + 0x38) = (uint) * (byte *)(param_1 + 0xc);
	*(uint *)(iVar5 + 0x3c) = (uint) * (byte *)(param_1 + 0xd);
	*(uint *)(iVar5 + 0x40) = (uint) * (byte *)(param_1 + 0xc);
	*(uint *)(iVar5 + 0x44) = (uint) * (byte *)(param_1 + 0xd);
	*(uint *)(iVar5 + 0x48) = (uint) * (byte *)(param_1 + 0xe);
	*(uint *)(iVar5 + 0x4c) = (uint) * (byte *)(param_1 + 0xf);
	*(uint *)(iVar5 + 0x34) = (uint) * (byte *)(param_1 + 0xb);
	ClrPlrPath(param_2, uVar7, uVar11, param_4, CONCAT71(uVar13, uVar14), (int)param_6, (int)param_7,
	    (int)param_8, in_stack_ffffff98);
	*(undefined4 *)(iVar5 + 0x20) = 0xffffffff;
	strcpy(iVar5 + 0x13c, param_1 + 0x10);
	*(undefined *)(iVar5 + 0x15c) = *(undefined *)(param_1 + 0x30);
	InitPlayer(param_2, 1, uVar11, param_4, CONCAT71(uVar13, uVar14), (int)param_6, (int)param_7,
	    (int)param_8, in_stack_ffffff98);
	*(uint *)(iVar5 + 0x164) = (uint) * (byte *)(param_1 + 0x31);
	*(uint *)(iVar5 + 0x160) = (uint) * (byte *)(param_1 + 0x31);
	*(uint *)(iVar5 + 0x16c) = (uint) * (byte *)(param_1 + 0x32);
	*(uint *)(iVar5 + 0x168) = (uint) * (byte *)(param_1 + 0x32);
	*(uint *)(iVar5 + 0x174) = (uint) * (byte *)(param_1 + 0x33);
	*(uint *)(iVar5 + 0x170) = (uint) * (byte *)(param_1 + 0x33);
	*(uint *)(iVar5 + 0x17c) = (uint) * (byte *)(param_1 + 0x34);
	*(uint *)(iVar5 + 0x178) = (uint) * (byte *)(param_1 + 0x34);
	*(undefined *)(iVar5 + 0x1b4) = *(undefined *)(param_1 + 0x35);
	*(uint *)(iVar5 + 0x180) = (uint) * (byte *)(param_1 + 0x36);
	*(undefined4 *)(iVar5 + 0x1b8) = *(undefined4 *)(param_1 + 0x37);
	*(undefined4 *)(iVar5 + 0x1c8) = *(undefined4 *)(param_1 + 0x3b);
	*(undefined4 *)(iVar5 + 400) = *(undefined4 *)(param_1 + 0x43);
	*(undefined4 *)(iVar5 + 0x18c) = *(undefined4 *)(param_1 + 0x3f);
	if (((int)param_3 == 0) && (*(int *)(iVar5 + 0x18c) >> 6 < 1)) {
		*(undefined4 *)(iVar5 + 0x18c) = 0x40;
	}
	uVar7 = 0x20;
	lVar3 = 5;
	*(undefined4 *)(iVar5 + 0x1a4) = *(undefined4 *)(param_1 + 0x4b);
	*(undefined4 *)(iVar5 + 0x1a0) = *(undefined4 *)(param_1 + 0x47);
	uVar2 = *(undefined4 *)(param_1 + 0x74);
	*(undefined4 *)(iVar5 + 0x108) = *(undefined4 *)(param_1 + 0x78);
	*(undefined4 *)(iVar5 + 0x104) = uVar2;
	*(undefined *)(iVar5 + 0xc1) = *(undefined *)(param_1 + 0x4f);
	*(undefined *)(iVar5 + 0xc2) = *(undefined *)(param_1 + 0x50);
	*(undefined *)(iVar5 + 0xc3) = *(undefined *)(param_1 + 0x51);
	*(undefined *)(iVar5 + 0xc4) = *(undefined *)(param_1 + 0x52);
	*(undefined *)(iVar5 + 0xc5) = *(undefined *)(param_1 + 0x53);
	*(undefined *)(iVar5 + 0xc6) = *(undefined *)(param_1 + 0x54);
	*(undefined *)(iVar5 + 199) = *(undefined *)(param_1 + 0x55);
	*(undefined *)(iVar5 + 200) = *(undefined *)(param_1 + 0x56);
	*(undefined *)(iVar5 + 0xc9) = *(undefined *)(param_1 + 0x57);
	*(undefined *)(iVar5 + 0xca) = *(undefined *)(param_1 + 0x58);
	*(undefined *)(iVar5 + 0xcb) = *(undefined *)(param_1 + 0x59);
	*(undefined *)(iVar5 + 0xcc) = *(undefined *)(param_1 + 0x5a);
	*(undefined *)(iVar5 + 0xcd) = *(undefined *)(param_1 + 0x5b);
	*(undefined *)(iVar5 + 0xce) = *(undefined *)(param_1 + 0x5c);
	*(undefined *)(iVar5 + 0xcf) = *(undefined *)(param_1 + 0x5d);
	*(undefined *)(iVar5 + 0xd0) = *(undefined *)(param_1 + 0x5e);
	*(undefined *)(iVar5 + 0xd1) = *(undefined *)(param_1 + 0x5f);
	*(undefined *)(iVar5 + 0xd2) = *(undefined *)(param_1 + 0x60);
	*(undefined *)(iVar5 + 0xd3) = *(undefined *)(param_1 + 0x61);
	*(undefined *)(iVar5 + 0xd4) = *(undefined *)(param_1 + 0x62);
	*(undefined *)(iVar5 + 0xd5) = *(undefined *)(param_1 + 99);
	*(undefined *)(iVar5 + 0xd6) = *(undefined *)(param_1 + 100);
	*(undefined *)(iVar5 + 0xd7) = *(undefined *)(param_1 + 0x65);
	*(undefined *)(iVar5 + 0xd8) = *(undefined *)(param_1 + 0x66);
	*(undefined *)(iVar5 + 0xd9) = *(undefined *)(param_1 + 0x67);
	*(undefined *)(iVar5 + 0xda) = *(undefined *)(param_1 + 0x68);
	*(undefined *)(iVar5 + 0xdb) = *(undefined *)(param_1 + 0x69);
	*(undefined *)(iVar5 + 0xdc) = *(undefined *)(param_1 + 0x6a);
	*(undefined *)(iVar5 + 0xdd) = *(undefined *)(param_1 + 0x6b);
	*(undefined *)(iVar5 + 0xde) = *(undefined *)(param_1 + 0x6c);
	*(undefined *)(iVar5 + 0xdf) = *(undefined *)(param_1 + 0x6d);
	*(undefined *)(iVar5 + 0xe0) = *(undefined *)(param_1 + 0x6e);
	do {
		iVar16 = (int)uVar7;
		uVar7 = uVar7 + 1;
		*(undefined *)(iVar5 + iVar16 + 0xc1) = *(undefined *)(param_1 + iVar16 + 0x4f);
		lVar3 = lVar3 + -1;
	} while (lVar3 != 0);
	puVar15 = (uint *)(param_1 + 0x7c);
	lVar3 = lVar17 + 0x498;
	iVar16 = 6;
	do {
		FUN_1008d6a8(puVar15, (int)lVar3, (char)uVar11, (char)uVar7, uVar14, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffff98);
		bVar1 = iVar16 != 0;
		puVar15 = (uint *)((int)puVar15 + 0x13);
		lVar3 = lVar3 + 0x170;
		iVar16 = iVar16 + -1;
	} while (bVar1);
	puVar15 = (uint *)(param_1 + 0x101);
	lVar3 = lVar17 + 0xea8;
	iVar16 = 0x27;
	do {
		FUN_1008d6a8(puVar15, (int)lVar3, (char)uVar11, (char)uVar7, uVar14, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffff98);
		bVar1 = iVar16 != 0;
		puVar15 = (uint *)((int)puVar15 + 0x13);
		lVar3 = lVar3 + 0x170;
		iVar16 = iVar16 + -1;
	} while (bVar1);
	lVar3 = 5;
	uVar12 = 0;
	do {
		puVar6 = (undefined *)(param_1 + (int)uVar12 + 0x3f9);
		lVar8 = lVar17 + uVar12 + 0x482c;
		uVar12 = uVar12 + 8;
		puVar9 = (undefined *)lVar8;
		*puVar9 = *puVar6;
		puVar9[1] = puVar6[1];
		puVar9[2] = puVar6[2];
		puVar9[3] = puVar6[3];
		puVar9[4] = puVar6[4];
		puVar9[5] = puVar6[5];
		puVar9[6] = puVar6[6];
		puVar9[7] = puVar6[7];
		lVar3 = lVar3 + -1;
	} while (lVar3 != 0);
	*(uint *)(iVar5 + 0x4828) = (uint) * (byte *)(param_1 + 0x421);
	FUN_1008d7c0(iVar5, (char)lVar8, (char)uVar12, (char)uVar7, uVar14, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffff98);
	puVar15 = (uint *)(param_1 + 0x422);
	lVar17 = lVar17 + 0x4854;
	iVar16 = 7;
	do {
		FUN_1008d6a8(puVar15, (int)lVar17, (char)uVar12, (char)uVar7, uVar14, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffff98);
		bVar1 = iVar16 != 0;
		puVar15 = (uint *)((int)puVar15 + 0x13);
		lVar17 = lVar17 + 0x170;
		iVar16 = iVar16 + -1;
	} while (bVar1);
	if ((int)param_2 == **(int **)((int)uVar4 + -0x77ac)) {
		*(undefined4 *)(puVar10 + 8) = 0xffffffff;
		uVar12 = 0x10;
		*(undefined4 *)(puVar10 + 0x178) = 0xffffffff;
		*(undefined4 *)(puVar10 + 0x2e8) = 0xffffffff;
		*(undefined4 *)(puVar10 + 0x458) = 0xffffffff;
		*(undefined4 *)(puVar10 + 0x5c8) = 0xffffffff;
		*(undefined4 *)(puVar10 + 0x738) = 0xffffffff;
		*(undefined4 *)(puVar10 + 0x8a8) = 0xffffffff;
		*(undefined4 *)(puVar10 + 0xa18) = 0xffffffff;
		*(undefined4 *)(puVar10 + 0xb88) = 0xffffffff;
		*(undefined4 *)(puVar10 + 0xcf8) = 0xffffffff;
		*(undefined4 *)(puVar10 + 0xe68) = 0xffffffff;
		*(undefined4 *)(puVar10 + 0xfd8) = 0xffffffff;
		*(undefined4 *)(puVar10 + 0x1148) = 0xffffffff;
		*(undefined4 *)(puVar10 + 0x12b8) = 0xffffffff;
		*(undefined4 *)(puVar10 + 0x1428) = 0xffffffff;
		*(undefined4 *)(puVar10 + 0x1598) = 0xffffffff;
		puVar10 = puVar10 + 0x1700;
		lVar17 = 4;
		do {
			*(undefined4 *)(puVar10 + 8) = 0xffffffff;
			puVar10 = puVar10 + 0x170;
			lVar17 = lVar17 + -1;
		} while (lVar17 != 0);
	}
	CalcPlrInv(param_2, 0, uVar12, uVar7, CONCAT71(uVar13, uVar14), param_6, param_7, param_8,
	    in_stack_ffffff98);
	*(undefined *)(iVar5 + 0x5590) = 0;
	*(undefined *)(iVar5 + 0x5591) = 0;
	*(undefined *)(iVar5 + 0x5592) = 0;
	*(undefined4 *)(iVar5 + 0x55a8) = *(undefined4 *)(param_1 + 0x4d2);
	*(undefined *)(iVar5 + 0x5593) = *(undefined *)(param_1 + 0x4bd);
	*(undefined *)(iVar5 + 0x5594) = *(undefined *)(param_1 + 0x4be);
	return;
}

void FUN_1008dcb4(void)

{
	_DAT_100f4314 = _DAT_100f4310;
	return;
}

void palette_update(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	ulonglong uVar2;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	uVar2 = FUN_10016eb0();
	if ((int)uVar2 != 0) {
		FUN_10016ef0((char)ppuVar1[-0x16b9], param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	}
	return;
}

void ApplyGamma(undefined *param_1, byte *param_2, int param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int iVar1;
	double dVar2;
	double dVar3;
	double dVar4;
	double dVar5;
	double dVar6;

	iVar1 = 0;
	dVar3 = ((double)CONCAT44(0x43300000, _DAT_100f4318 ^ 0x80000000) - _DAT_100f4338) / _DAT_100f4350;
	dVar4 = _DAT_100f4330;
	dVar5 = _DAT_100f4340;
	dVar6 = _DAT_100f4348;
	while (iVar1 < param_3) {
		dVar2 = pow(((double)CONCAT44(0x43300000, (uint)*param_2) - dVar4) * dVar5, dVar3);
		*param_1 = (char)(int)(dVar6 * dVar2);
		dVar2 = pow(((double)CONCAT44(0x43300000, (uint)param_2[1]) - dVar4) * dVar5, dVar3);
		param_1[1] = (char)(int)(dVar6 * dVar2);
		dVar2 = pow(((double)CONCAT44(0x43300000, (uint)param_2[2]) - dVar4) * dVar5, dVar3);
		iVar1 = iVar1 + 1;
		param_2 = param_2 + 4;
		param_1[2] = (char)(int)(dVar6 * dVar2);
		param_1 = param_1 + 4;
	}
	return;
}

void SaveGamma(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined uVar1;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	int local_2c;

	uVar1 = SUB41(PTR_s_Diablo_100f1a08, 0);
	SRegSaveValue(uVar1, (char)PTR_s_Gamma_Correction_100f34e8, 0, (char)_DAT_100f4318, param_5, param_6,
	    param_7, param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	SRegSaveValue(uVar1, (char)*(undefined4 *)(local_2c + -0x5aec), 0,
	    (char)*(undefined4 *)(local_2c + -0x4cb4), param_5, param_6, param_7, param_8,
	    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	return;
}

void LoadGamma(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	int iVar2;
	char cVar3;
	undefined *puVar4;
	undefined *puVar5;
	int iVar6;
	int iVar7;

	puVar5 = PTR_s_Gamma_Correction_100f34e8;
	puVar4 = PTR_s_Diablo_100f1a08;
	iVar2 = (int)(ZEXT48(register0x0000000c) - 0x50);
	*(BADSPACEBASE **)iVar2 = register0x0000000c;
	cVar3 = (char)(ZEXT48(register0x0000000c) - 0x50);
	*(undefined4 *)(iVar2 + 0x38) = _DAT_100f4318;
	iVar6 = SRegLoadValue((char)puVar4, (char)puVar5, 0, cVar3 + '8', param_5, param_6, param_7, param_8,
	    *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf),
	    *(undefined4 *)(iVar2 + 0x14));
	iVar7 = *(int *)(iVar2 + 0x14);
	if (iVar6 == 0) {
		*(undefined4 *)(iVar2 + 0x38) = 100;
	}
	*(undefined4 *)(iVar7 + -0x4cb8) = *(undefined4 *)(iVar2 + 0x38);
	if (*(int *)(iVar7 + -0x4cb8) < 0x1e) {
		*(undefined4 *)(iVar7 + -0x4cb8) = 0x1e;
	} else {
		if (100 < *(int *)(iVar7 + -0x4cb8)) {
			*(undefined4 *)(iVar7 + -0x4cb8) = 100;
		}
	}
	uVar1 = *(int *)(iVar7 + -0x4cb8) / 5 + (*(int *)(iVar7 + -0x4cb8) >> 0x1f);
	*(int *)(iVar7 + -0x4cb8) = (uVar1 + (uVar1 >> 0x1f)) * 5;
	iVar7 = SRegLoadValue((char)puVar4, (char)*(undefined4 *)(iVar7 + -0x5aec), 0, cVar3 + '8', param_5,
	    param_6, param_7, param_8, *(undefined *)(iVar2 + 0xb),
	    *(undefined *)(iVar2 + 0xf), *(undefined4 *)(iVar2 + 0x14));
	if (iVar7 == 0) {
		*(undefined4 *)(iVar2 + 0x38) = 1;
	}
	*(undefined4 *)(*(int *)(iVar2 + 0x14) + -0x4cb4) = *(undefined4 *)(iVar2 + 0x38);
	return;
}

ulonglong palette_init(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined **ppuVar2;
	ulonglong uVar3;
	undefined4 in_stack_ffffffc8;
	undefined uVar4;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	uVar1 = _DAT_100f34ec;
	uVar4 = (undefined)in_stack_ffffffc8;
	ppuVar2 = &toc;
	uVar3 = (ulonglong)_DAT_100f34ec;
	LoadGamma(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	memcpy((char)uVar1, (char)ppuVar2[-0x16bc], 0, param_4, param_5, param_6, param_7, param_8, uVar4,
	    in_stack_ffffffcf, local_2c);
	return uVar3;
}

void LoadPalette(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined uVar4;
	longlong lVar2;
	undefined *puVar3;
	undefined uVar6;
	undefined *puVar5;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	longlong lVar12;
	undefined4 in_stack_fffffcb8;
	uint local_310;

	uVar8 = (undefined)param_5;
	uVar7 = (undefined)param_4;
	uVar11 = (undefined)param_8;
	uVar10 = (undefined)param_7;
	uVar9 = (undefined)param_6;
	ppuVar1 = &toc;
	WOpenFile(param_1, ZEXT48(register0x0000000c) - 0x310, 0, param_4, param_5, param_6, param_7, param_8,
	    in_stack_fffffcb8);
	uVar4 = 0xf4;
	uVar6 = 0;
	WReadFile((ulonglong)local_310);
	WCloseFile((char)local_310, uVar4, uVar6, uVar7, uVar8, uVar9, uVar10, uVar11, in_stack_fffffcb8);
	puVar5 = ppuVar1[-0x16bc];
	lVar12 = 0x20;
	lVar2 = ZEXT48(register0x0000000c) - 0x30c;
	do {
		puVar3 = (undefined *)lVar2;
		*puVar5 = *puVar3;
		puVar5[1] = puVar3[1];
		puVar5[2] = puVar3[2];
		puVar5[3] = 0;
		puVar5[4] = puVar3[3];
		puVar5[5] = puVar3[4];
		puVar5[6] = puVar3[5];
		puVar5[7] = 0;
		puVar5[8] = puVar3[6];
		puVar5[9] = puVar3[7];
		puVar5[10] = puVar3[8];
		puVar5[0xb] = 0;
		puVar5[0xc] = puVar3[9];
		puVar5[0xd] = puVar3[10];
		puVar5[0xe] = puVar3[0xb];
		puVar5[0xf] = 0;
		puVar5[0x10] = puVar3[0xc];
		puVar5[0x11] = puVar3[0xd];
		puVar5[0x12] = puVar3[0xe];
		puVar5[0x13] = 0;
		puVar5[0x14] = puVar3[0xf];
		puVar5[0x15] = puVar3[0x10];
		puVar5[0x16] = puVar3[0x11];
		puVar5[0x17] = 0;
		puVar5[0x18] = puVar3[0x12];
		puVar5[0x19] = puVar3[0x13];
		puVar5[0x1a] = puVar3[0x14];
		puVar5[0x1b] = 0;
		puVar5[0x1c] = puVar3[0x15];
		puVar5[0x1d] = puVar3[0x16];
		lVar2 = lVar2 + 0x18;
		puVar5[0x1e] = puVar3[0x17];
		puVar5[0x1f] = 0;
		puVar5 = puVar5 + 0x20;
		lVar12 = lVar12 + -1;
	} while (lVar12 != 0);
	return;
}

void LoadRndLvlPal(longlong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	longlong lVar2;
	ulonglong uVar3;
	longlong lVar4;
	undefined4 in_stack_fffffeb8;
	undefined in_stack_fffffebf;
	undefined1 in_stack_fffffecb;
	undefined4 in_stack_fffffecc;
	undefined4 in_stack_fffffed0;
	undefined4 in_stack_fffffed4;
	undefined4 in_stack_fffffed8;
	undefined4 in_stack_fffffedc;
	undefined4 in_stack_fffffee0;
	undefined4 in_stack_fffffee4;
	undefined auStack280[280];

	ppuVar1 = &toc;
	if (param_1 == 0) {
		LoadPalette((ulonglong)_DAT_100f34dc, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_fffffeb8);
	} else {
		lVar2 = random(0, 4, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_fffffeb8, in_stack_fffffebf, in_stack_fffffecb);
		uVar3 = ZEXT48(ppuVar1[-0x16be]);
		lVar2 = lVar2 + 1;
		lVar4 = param_1;
		sprintf((int)auStack280, ppuVar1[-0x16be], (int)param_1, (int)param_1, (int)lVar2, param_6,
		    param_7, param_8, in_stack_fffffeb8, in_stack_fffffebf, in_stack_fffffecc,
		    in_stack_fffffed0, in_stack_fffffed4, in_stack_fffffed8, in_stack_fffffedc,
		    in_stack_fffffee0, in_stack_fffffee4);
		LoadPalette(ZEXT48(register0x0000000c) - 0x118, uVar3, param_1, lVar4, lVar2, param_6, param_7,
		    param_8, in_stack_fffffeb8);
	}
	return;
}

void ResetPal(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined8 uVar1;
	undefined4 in_stack_ffffffc8;

	uVar1 = FUN_10016ebc();
	uVar1._7_1_ = (undefined)uVar1;
	if ((int)uVar1 != 0) {
		uVar1 = FUN_10016ec4();
		uVar1._7_1_ = (undefined)uVar1;
		if ((int)uVar1 == 0) {
			return;
		}
	}
	ResetPal((undefined)uVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

void IncreaseGamma(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined uVar1;
	undefined uVar2;
	undefined uVar3;
	undefined4 in_stack_ffffffc8;

	if (_DAT_100f4318 < 100) {
		_DAT_100f4318 = _DAT_100f4318 + 5;
		if (100 < _DAT_100f4318) {
			_DAT_100f4318 = 100;
		}
		uVar3 = 0;
		uVar2 = SUB41(_DAT_100f34d4, 0);
		uVar1 = ApplyGamma(_DAT_100f34ec, _DAT_100f34d4, 0x100, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
		palette_update(uVar1, uVar2, uVar3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return;
}

void DecreaseGamma(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined uVar1;
	undefined uVar2;
	undefined uVar3;
	undefined4 in_stack_ffffffc8;

	if (0x1e < _DAT_100f4318) {
		_DAT_100f4318 = _DAT_100f4318 + -5;
		if (_DAT_100f4318 < 0x1e) {
			_DAT_100f4318 = 0x1e;
		}
		uVar3 = 0;
		uVar2 = SUB41(_DAT_100f34d4, 0);
		uVar1 = ApplyGamma(_DAT_100f34ec, _DAT_100f34d4, 0x100, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
		palette_update(uVar1, uVar2, uVar3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return;
}

longlong UpdateGamma(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined uVar2;
	undefined uVar3;
	undefined uVar4;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	if (param_1 != 0) {
		_DAT_100f4318 = 0x82 - param_1;
		uVar4 = 0;
		uVar3 = SUB41(_DAT_100f34d4, 0);
		ppuVar1 = &toc;
		uVar2 = ApplyGamma(_DAT_100f34ec, _DAT_100f34d4, 0x100, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
		palette_update(uVar2, uVar3, uVar4, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return 0x82 - ZEXT48(ppuVar1[-0x132e]);
}

void SetFadeLevel(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	byte *pbVar1;
	undefined **ppuVar2;
	ulonglong uVar3;
	byte *pbVar4;
	undefined uVar5;
	undefined *puVar6;
	undefined uVar7;
	longlong lVar8;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	ppuVar2 = &toc;
	uVar3 = FUN_10016eb0();
	if ((int)uVar3 != 0) {
		pbVar4 = ppuVar2[-0x16bf];
		lVar8 = 0x33;
		uVar3 = ZEXT48(ppuVar2[-0x16b9]);
		do {
			puVar6 = (undefined *)uVar3;
			*puVar6 = (char)(param_1 * (uint)*pbVar4 >> 8);
			puVar6[1] = (char)(param_1 * (uint)pbVar4[1] >> 8);
			puVar6[2] = (char)(param_1 * (uint)pbVar4[2] >> 8);
			puVar6[4] = (char)(param_1 * (uint)pbVar4[4] >> 8);
			puVar6[5] = (char)(param_1 * (uint)pbVar4[5] >> 8);
			puVar6[6] = (char)(param_1 * (uint)pbVar4[6] >> 8);
			puVar6[8] = (char)(param_1 * (uint)pbVar4[8] >> 8);
			puVar6[9] = (char)(param_1 * (uint)pbVar4[9] >> 8);
			puVar6[10] = (char)(param_1 * (uint)pbVar4[10] >> 8);
			puVar6[0xc] = (char)(param_1 * (uint)pbVar4[0xc] >> 8);
			puVar6[0xd] = (char)(param_1 * (uint)pbVar4[0xd] >> 8);
			puVar6[0xe] = (char)(param_1 * (uint)pbVar4[0xe] >> 8);
			puVar6[0x10] = (char)(param_1 * (uint)pbVar4[0x10] >> 8);
			puVar6[0x11] = (char)(param_1 * (uint)pbVar4[0x11] >> 8);
			pbVar1 = pbVar4 + 0x12;
			pbVar4 = pbVar4 + 0x14;
			puVar6[0x12] = (char)(param_1 * (uint)*pbVar1 >> 8);
			uVar3 = uVar3 + 0x14;
			uVar7 = (undefined)uVar3;
			lVar8 = lVar8 + -1;
		} while (lVar8 != 0);
		Sleep(3, uVar7, param_3, param_4, param_5, param_6, param_7, param_8, (char)in_stack_ffffffc8,
		    in_stack_ffffffcf, local_2c);
		uVar5 = FUN_10016eac();
		palette_update(uVar5, uVar7, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return;
}

void BlackPalette(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	SetFadeLevel(0, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void PaletteFadeIn(int param_1, undefined param_2, undefined param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined8 uVar3;
	longlong lVar4;
	undefined uVar5;
	longlong lVar6;
	undefined uVar7;
	longlong lVar8;
	undefined uVar9;
	longlong lVar10;
	undefined uVar11;
	longlong lVar12;
	undefined uVar13;
	int iVar14;
	ulonglong uVar15;
	undefined4 in_stack_ffffffb8;
	undefined uVar16;
	undefined in_stack_ffffffbf;
	int local_3c;

	puVar2 = PTR_DAT_100f34e0;
	puVar1 = _DAT_100f34d4;
	lVar12 = (longlong)param_8;
	lVar10 = (longlong)param_7;
	lVar8 = (longlong)param_6;
	lVar6 = (longlong)param_5;
	lVar4 = (longlong)param_4;
	uVar15 = ZEXT48(PTR_DAT_100f34e0);
	uVar3 = 0;
	ApplyGamma(_DAT_100f34d4, PTR_DAT_100f34e0, 0x100, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	iVar14 = 0;
	while (true) {
		uVar16 = (undefined)in_stack_ffffffb8;
		uVar5 = (undefined)lVar4;
		uVar7 = (undefined)lVar6;
		uVar9 = (undefined)lVar8;
		uVar11 = (undefined)lVar10;
		uVar13 = (undefined)lVar12;
		if (0xff < iVar14)
			break;
		SetFadeLevel(iVar14, (char)uVar15, (char)uVar3, uVar5, uVar7, uVar9, uVar11, uVar13, in_stack_ffffffb8);
		iVar14 = iVar14 + param_1;
	}
	SetFadeLevel(0x100, (char)uVar15, (char)uVar3, uVar5, uVar7, uVar9, uVar11, uVar13, in_stack_ffffffb8);
	memcpy((char)puVar1, (char)puVar2, 0, uVar5, uVar7, uVar9, uVar11, uVar13, uVar16, in_stack_ffffffbf,
	    local_3c);
	*(undefined *)(local_3c + -0x4cb0) = 1;
	return;
}

void PaletteFadeOut(int param_1, char param_2, char param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	ulonglong uVar1;
	int iVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	int iVar10;
	undefined4 in_stack_ffffffc8;

	lVar9 = (longlong)param_8;
	lVar8 = (longlong)param_7;
	lVar7 = (longlong)param_6;
	lVar6 = (longlong)param_5;
	lVar5 = (longlong)param_4;
	lVar4 = (longlong)param_3;
	lVar3 = (longlong)param_2;
	uVar1 = ZEXT48(&toc);
	if (DAT_100f4320 != '\0') {
		iVar10 = 0x100;
		while (true) {
			iVar2 = (int)uVar1;
			if (iVar10 < 1)
				break;
			SetFadeLevel(iVar10, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8,
			    (char)lVar9, in_stack_ffffffc8);
			iVar10 = iVar10 - param_1;
		}
		SetFadeLevel(0, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8,
		    (char)lVar9, in_stack_ffffffc8);
		*(undefined *)(iVar2 + -0x4cb0) = 0;
	}
	return;
}

void palette_update_caves(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 uVar1;
	uint uVar2;
	undefined *puVar3;
	uint uVar4;
	ulonglong uVar5;
	longlong lVar6;
	longlong lVar7;
	int iVar8;
	longlong lVar9;
	undefined4 in_stack_ffffffc8;
	undefined local_4;
	undefined uStack3;
	undefined uStack2;

	uVar4 = _DAT_100f34ec;
	uVar5 = (ulonglong)_DAT_100f34ec;
	if (_DAT_100f431c != 0) {
		uVar1 = *(undefined4 *)(_DAT_100f34ec + 4);
		lVar9 = 3;
		lVar6 = uVar5 + 4;
		lVar7 = 1;
		do {
			puVar3 = (undefined *)lVar6;
			lVar7 = lVar7 + 8;
			iVar8 = (int)lVar7;
			*puVar3 = puVar3[4];
			puVar3[1] = puVar3[5];
			puVar3[2] = puVar3[6];
			puVar3[4] = puVar3[8];
			puVar3[5] = puVar3[9];
			puVar3[6] = puVar3[10];
			puVar3[8] = puVar3[0xc];
			puVar3[9] = puVar3[0xd];
			puVar3[10] = puVar3[0xe];
			puVar3[0xc] = puVar3[0x10];
			puVar3[0xd] = puVar3[0x11];
			puVar3[0xe] = puVar3[0x12];
			puVar3[0x10] = puVar3[0x14];
			puVar3[0x11] = puVar3[0x15];
			puVar3[0x12] = puVar3[0x16];
			puVar3[0x14] = puVar3[0x18];
			puVar3[0x15] = puVar3[0x19];
			puVar3[0x16] = puVar3[0x1a];
			puVar3[0x18] = puVar3[0x1c];
			puVar3[0x19] = puVar3[0x1d];
			puVar3[0x1a] = puVar3[0x1e];
			puVar3[0x1c] = puVar3[0x20];
			puVar3[0x1d] = puVar3[0x21];
			puVar3[0x1e] = puVar3[0x22];
			lVar6 = lVar6 + 0x20;
			lVar9 = lVar9 + -1;
		} while (lVar9 != 0);
		lVar9 = uVar5 + (ulonglong)(uint)(iVar8 << 2);
		lVar6 = 0x1f - lVar7;
		if (iVar8 < 0x1f) {
			do {
				puVar3 = (undefined *)lVar9;
				lVar7 = lVar7 + 1;
				iVar8 = (int)lVar7;
				*puVar3 = puVar3[4];
				puVar3[1] = puVar3[5];
				puVar3[2] = puVar3[6];
				lVar9 = lVar9 + 4;
				lVar6 = lVar6 + -1;
			} while (lVar6 != 0);
		}
		local_4 = (undefined)((uint)uVar1 >> 0x18);
		uVar2 = iVar8 * 4;
		*(undefined *)(uVar4 + uVar2) = local_4;
		uStack3 = (undefined)((uint)uVar1 >> 0x10);
		iVar8 = (int)(uVar5 + (ulonglong)uVar2);
		*(undefined *)(iVar8 + 1) = uStack3;
		uStack2 = (undefined)((uint)uVar1 >> 8);
		*(undefined *)(iVar8 + 2) = uStack2;
		palette_update((char)uVar4, (char)(uVar5 + (ulonglong)uVar2), (char)uVar2, param_4, param_5, param_6,
		    param_7, param_8, in_stack_ffffffc8);
	}
	return;
}

void palette_update_quest_palette(longlong param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	byte *pbVar2;
	int iVar4;
	ulonglong uVar3;
	undefined uVar5;
	undefined uVar6;
	longlong lVar7;
	undefined4 *puVar8;
	undefined uVar9;
	ulonglong uVar10;
	longlong lVar11;
	undefined4 *puVar12;
	undefined uVar13;
	undefined4 in_stack_ffffffc8;

	pbVar2 = _DAT_100f34d4;
	iVar4 = (int)-param_1 + 0x20;
	uVar6 = SUB41(_DAT_100f34d4, 0);
	uVar10 = (ulonglong)(uint)(iVar4 * 4);
	uVar3 = -param_1 + 0x21;
	lVar7 = ZEXT48(PTR_DAT_100f34e0) + uVar10;
	lVar11 = ZEXT48(_DAT_100f34d4) + uVar10;
	uVar13 = (undefined)lVar11;
	if (-1 < iVar4) {
		uVar1 = (uint)uVar3 >> 3;
		uVar10 = (ulonglong)uVar1;
		if (uVar1 != 0) {
			do {
				puVar8 = (undefined4 *)lVar7;
				puVar12 = (undefined4 *)lVar11;
				*puVar12 = *puVar8;
				puVar12[-1] = puVar8[-1];
				puVar12[-2] = puVar8[-2];
				puVar12[-3] = puVar8[-3];
				puVar12[-4] = puVar8[-4];
				puVar12[-5] = puVar8[-5];
				puVar12[-6] = puVar8[-6];
				lVar7 = lVar7 + -0x20;
				puVar12[-7] = puVar8[-7];
				lVar11 = lVar11 + -0x20;
				uVar13 = (undefined)lVar11;
				uVar10 = uVar10 - 1;
			} while (uVar10 != 0);
			uVar3 = uVar3 & 7;
			if (uVar3 == 0)
				goto LAB_1008e71c;
		}
		do {
			puVar8 = (undefined4 *)lVar7;
			lVar7 = lVar7 + -4;
			*(undefined4 *)lVar11 = *puVar8;
			lVar11 = lVar11 + -4;
			uVar13 = (undefined)lVar11;
			uVar3 = uVar3 - 1;
		} while (uVar3 != 0);
	}
LAB_1008e71c:
	uVar9 = 0x20;
	uVar5 = ApplyGamma(_DAT_100f34ec, pbVar2, 0x20, uVar13, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	palette_update(uVar5, uVar6, uVar9, uVar13, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

ulonglong FUN_1008e73c(void)

{
	return (ulonglong)_DAT_100f431c;
}

void FUN_1008e744(undefined4 param_1)

{
	_DAT_100f431c = param_1;
	return;
}

void FUN_1008e74c(void)

{
	_DAT_100f4328 = _DAT_100f4324;
	return;
}

int FindPath(undefined8 param_1, undefined8 param_2, longlong param_3, longlong param_4,
    longlong param_5, longlong param_6, int param_7, undefined param_8, undefined4 param_9)

{
	undefined4 *puVar1;
	undefined4 *puVar2;
	int iVar3;
	char *pcVar4;
	int iVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined **ppuVar8;
	longlong lVar9;
	ulonglong uVar10;
	int iVar13;
	undefined8 uVar11;
	longlong lVar12;
	undefined uVar15;
	undefined *puVar14;
	undefined uVar16;
	undefined uVar19;
	longlong lVar17;
	int iVar18;
	undefined uVar20;
	ulonglong uVar21;
	undefined4 in_stack_ffffff98;

	iVar5 = _DAT_100f34f8;
	puVar7 = PTR_DAT_100f2024;
	puVar14 = PTR_DAT_100f2020;
	puVar6 = PTR_DAT_100f2014;
	uVar20 = (undefined)param_5;
	uVar19 = (undefined)param_4;
	uVar16 = (undefined)param_3;
	uVar15 = (undefined)param_2;
	ppuVar8 = &toc;
	uVar21 = ZEXT48(PTR_DAT_100f2024);
	*(undefined4 *)PTR_DAT_100f2024 = 0;
	lVar17 = param_6;
	lVar12 = (longlong)param_7;
	lVar9 = FUN_1008f2e0((char)param_1, uVar15, uVar16, uVar19, uVar20, (char)param_6, (char)param_7,
	    (char)puVar7, in_stack_ffffff98);
	*(int *)puVar14 = (int)lVar9;
	lVar9 = FUN_1008f2e0((char)lVar9, uVar15, uVar16, uVar19, uVar20, (char)lVar17, (char)lVar12,
	    (char)uVar21, in_stack_ffffff98);
	puVar1 = (undefined4 *)ppuVar8[-0x1bed];
	puVar2 = (undefined4 *)ppuVar8[-0x1bee];
	*puVar1 = (int)lVar9;
	*puVar2 = 0;
	lVar9 = FUN_1008f2e0((char)lVar9, (char)puVar2, (char)puVar1, uVar19, uVar20, (char)lVar17, (char)lVar12, (char)uVar21, in_stack_ffffff98);
	pcVar4 = (char *)lVar9;
	pcVar4[2] = '\0';
	uVar10 = FUN_1008ea18(param_3, param_4, param_5, param_6, uVar20, (char)lVar17, (char)lVar12,
	    (char)uVar21, in_stack_ffffff98);
	pcVar4[1] = (char)uVar10;
	*pcVar4 = pcVar4[2] + pcVar4[1];
	*(int *)(pcVar4 + 4) = (int)param_3;
	*(int *)(pcVar4 + 8) = (int)param_4;
	*(char **)(*(int *)puVar14 + 0x30) = pcVar4;
	while (true) {
		iVar13 = FUN_1008eab8();
		if (iVar13 == 0) {
			return 0;
		}
		if ((*(int *)(iVar13 + 4) == (int)param_5) && (*(int *)(iVar13 + 8) == (int)param_6))
			break;
		uVar11 = FUN_1008ec8c(param_1, param_2, iVar13, param_5, param_6, (char)lVar17, (char)lVar12,
		    (char)uVar21, in_stack_ffffff98);
		if ((int)uVar11 == 0) {
			return 0;
		}
	}
	lVar17 = 0;
	while (true) {
		iVar3 = *(int *)(iVar13 + 0xc);
		iVar18 = (int)lVar17;
		if ((iVar3 == 0) || (0x18 < iVar18))
			break;
		lVar17 = lVar17 + 1;
		*(int *)(puVar6 + iVar18 * 4) = (int)*(char *)(iVar5 + (*(int *)(iVar13 + 4) - *(int *)(iVar3 + 4)) + (*(int *)(iVar13 + 8) - *(int *)(iVar3 + 8)) * 3 + 4);
		iVar13 = *(int *)(iVar13 + 0xc);
	}
	if (iVar18 == 0x19) {
		return 0;
	}
	lVar12 = 0;
	if (iVar18 < 1) {
		return 0;
	}
	if ((8 < iVar18) && (uVar10 = (ulonglong)(iVar18 - 1U >> 3), 0 < iVar18 + -8)) {
		do {
			iVar5 = (int)lVar12;
			puVar14 = (undefined *)(param_7 + iVar5);
			*puVar14 = (char)*(undefined4 *)(puVar6 + (iVar18 - iVar5) * 4 + -4);
			puVar14[1] = (char)*(undefined4 *)(puVar6 + (iVar18 - (iVar5 + 1)) * 4 + -4);
			lVar12 = lVar12 + 8;
			puVar14[2] = (char)*(undefined4 *)(puVar6 + (iVar18 - (iVar5 + 2)) * 4 + -4);
			puVar14[3] = (char)*(undefined4 *)(puVar6 + (iVar18 - (iVar5 + 3)) * 4 + -4);
			puVar14[4] = (char)*(undefined4 *)(puVar6 + (iVar18 - (iVar5 + 4)) * 4 + -4);
			puVar14[5] = (char)*(undefined4 *)(puVar6 + (iVar18 - (iVar5 + 5)) * 4 + -4);
			puVar14[6] = (char)*(undefined4 *)(puVar6 + (iVar18 - (iVar5 + 6)) * 4 + -4);
			puVar14[7] = (char)*(undefined4 *)(puVar6 + (iVar18 - (iVar5 + 7)) * 4 + -4);
			uVar10 = uVar10 - 1;
		} while (uVar10 != 0);
	}
	lVar17 = lVar17 - lVar12;
	lVar9 = (longlong)param_7 + lVar12;
	if (iVar18 <= (int)lVar12) {
		return (int)lVar12;
	}
	do {
		iVar5 = (int)lVar12;
		lVar12 = lVar12 + 1;
		*(undefined *)lVar9 = (char)*(undefined4 *)(puVar6 + (iVar18 - iVar5) * 4 + -4);
		lVar9 = lVar9 + 1;
		lVar17 = lVar17 + -1;
	} while (lVar17 != 0);
	return (int)lVar12;
}

ulonglong FUN_1008ea18(longlong param_1, longlong param_2, longlong param_3, longlong param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	longlong lVar2;
	longlong lVar3;
	int iVar4;
	int iVar5;

	lVar2 = abs(param_1 - param_3);
	lVar3 = abs(param_2 - param_4);
	iVar4 = (int)lVar3;
	iVar5 = (int)lVar2;
	iVar1 = iVar4;
	if (iVar5 < iVar4) {
		iVar1 = iVar5;
	}
	if (iVar4 < iVar5) {
		iVar4 = iVar5;
	}
	return (ulonglong)(uint)((iVar1 + iVar4) * 2);
}

undefined8 FUN_1008ea90(int param_1, int param_2, int param_3)

{
	if ((*(int *)(param_1 + 4) != param_2) && (*(int *)(param_1 + 8) != param_3)) {
		return 3;
	}
	return 2;
}

int FUN_1008eab8(void)

{
	int iVar1;
	undefined *puVar2;

	puVar2 = PTR_DAT_100f201c;
	iVar1 = *(int *)(*(int *)PTR_DAT_100f2020 + 0x30);
	if (iVar1 == 0) {
		return 0;
	}
	*(undefined4 *)(*(int *)PTR_DAT_100f2020 + 0x30) = *(undefined4 *)(iVar1 + 0x30);
	*(undefined4 *)(iVar1 + 0x30) = *(undefined4 *)(*(int *)puVar2 + 0x30);
	*(int *)(*(int *)puVar2 + 0x30) = iVar1;
	return iVar1;
}

ulonglong FUN_1008eafc(int param_1, int param_2, int param_3)

{
	char cVar1;
	undefined8 uVar2;
	int iVar3;
	undefined4 uVar4;
	ulonglong uVar5;

	uVar5 = 1;
	cVar1 = *(char *)(_DAT_100f34f8 + (param_2 - *(int *)(param_1 + 4)) + (param_3 - *(int *)(param_1 + 8)) * 3 + 4);
	if (cVar1 == '\a') {
		iVar3 = *(int *)PTR_DAT_100f1a54 + param_2 * 0xe0 + param_3 * 2;
		uVar4 = 1;
		if ((*(char *)(_DAT_100f1da4 + (int)*(short *)(iVar3 + -2)) == '\0') && (*(char *)(_DAT_100f1da4 + (int)*(short *)(iVar3 + -0xe0)) == '\0')) {
			uVar4 = 0;
		}
		uVar2 = countLeadingZeros(uVar4);
		uVar5 = (ulonglong)((uint)uVar2 >> 5 & 0xff);
	} else {
		if (cVar1 < '\a') {
			if (cVar1 == '\x05') {
				iVar3 = *(int *)PTR_DAT_100f1a54 + param_2 * 0xe0 + param_3 * 2;
				uVar4 = 1;
				if ((*(char *)(_DAT_100f1da4 + (int)*(short *)(iVar3 + 2)) == '\0') && (*(char *)(_DAT_100f1da4 + (int)*(short *)(iVar3 + 0xe0)) == '\0')) {
					uVar4 = 0;
				}
				uVar2 = countLeadingZeros(uVar4);
				uVar5 = (ulonglong)((uint)uVar2 >> 5 & 0xff);
			} else {
				if ('\x04' < cVar1) {
					iVar3 = *(int *)PTR_DAT_100f1a54 + param_2 * 0xe0 + param_3 * 2;
					uVar4 = 1;
					if ((*(char *)(_DAT_100f1da4 + (int)*(short *)(iVar3 + 2)) == '\0') && (*(char *)(_DAT_100f1da4 + (int)*(short *)(iVar3 + -0xe0)) == '\0')) {
						uVar4 = 0;
					}
					uVar2 = countLeadingZeros(uVar4);
					uVar5 = (ulonglong)((uint)uVar2 >> 5 & 0xff);
				}
			}
		} else {
			if (cVar1 < '\t') {
				iVar3 = *(int *)PTR_DAT_100f1a54 + param_2 * 0xe0 + param_3 * 2;
				uVar4 = 1;
				if ((*(char *)(_DAT_100f1da4 + (int)*(short *)(iVar3 + 0xe0)) == '\0') && (*(char *)(_DAT_100f1da4 + (int)*(short *)(iVar3 + -2)) == '\0')) {
					uVar4 = 0;
				}
				uVar2 = countLeadingZeros(uVar4);
				uVar5 = (ulonglong)((uint)uVar2 >> 5 & 0xff);
			}
		}
	}
	return uVar5;
}

undefined8
FUN_1008ec8c(undefined8 param_1, undefined8 param_2, int param_3, longlong param_4, longlong param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	longlong lVar1;
	ulonglong uVar2;
	undefined8 uVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	int iVar7;
	longlong lVar8;
	longlong lVar9;
	char *pcVar10;
	char *pcVar11;
	undefined4 in_stack_ffffff98;

	lVar6 = (longlong)param_8;
	lVar5 = (longlong)param_7;
	lVar4 = (longlong)param_6;
	iVar7 = 0;
	pcVar11 = _DAT_100f34f4;
	pcVar10 = _DAT_100f34f0;
	while (true) {
		lVar9 = (ulonglong) * (uint *)(param_3 + 4) + (longlong)*pcVar11;
		lVar8 = (ulonglong) * (uint *)(param_3 + 8) + (longlong)*pcVar10;
		lVar1 = FUN_100dbf44(param_2, lVar9, lVar8);
		if ((((lVar1 != 0) && (uVar2 = FUN_1008eafc(param_3, (int)lVar9, (int)lVar8), (int)uVar2 != 0)) || (((int)lVar1 == 0 && (((int)lVar9 == (int)param_4 && ((int)lVar8 == (int)param_5)))))) && (uVar3 = FUN_1008ed80(param_3, lVar9, lVar8, param_4, param_5, (char)lVar4, (char)lVar5, (char)lVar6, in_stack_ffffff98), (int)uVar3 == 0))
			break;
		iVar7 = iVar7 + 1;
		pcVar10 = pcVar10 + 1;
		pcVar11 = pcVar11 + 1;
		if (7 < iVar7) {
			return 1;
		}
	}
	return 0;
}

undefined8
FUN_1008ed80(int param_1, longlong param_2, longlong param_3, longlong param_4, longlong param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	longlong lVar1;
	char *pcVar3;
	ulonglong uVar2;
	undefined uVar6;
	int iVar4;
	int iVar5;
	undefined uVar7;
	int iVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	int iVar13;
	undefined4 in_stack_ffffffa8;

	uVar11 = (undefined)param_4;
	uVar10 = (undefined)param_3;
	uVar6 = (undefined)param_2;
	uVar12 = (undefined)param_5;
	iVar4 = (int)param_2;
	iVar8 = (int)param_3;
	uVar9 = uVar10;
	lVar1 = FUN_1008ea90(param_1, iVar4, iVar8);
	lVar1 = (longlong) * (char *)(param_1 + 2) + lVar1;
	pcVar3 = (char *)FUN_1008f0d4(iVar4, iVar8);
	iVar13 = (int)lVar1;
	iVar13._3_1_ = (char)lVar1;
	if (pcVar3 == (char *)0x0) {
		uVar7 = uVar10;
		pcVar3 = (char *)FUN_1008f118(iVar4, iVar8);
		if (pcVar3 == (char *)0x0) {
			lVar1 = FUN_1008f2e0(0, uVar7, uVar9, uVar11, uVar12, param_6, param_7, param_8, in_stack_ffffffa8);
			if (lVar1 == 0) {
				return 0;
			}
			pcVar3 = (char *)lVar1;
			*(int *)(pcVar3 + 0xc) = param_1;
			pcVar3[2] = (char)iVar13;
			uVar2 = FUN_1008ea18(param_2, param_3, param_4, param_5, uVar12, param_6, param_7, param_8,
			    in_stack_ffffffa8);
			pcVar3[1] = (char)uVar2;
			*pcVar3 = (char)iVar13 + pcVar3[1];
			*(int *)(pcVar3 + 4) = iVar4;
			*(int *)(pcVar3 + 8) = iVar8;
			FUN_1008f15c(pcVar3);
			iVar4 = 0;
			if ((((((*(int *)(param_1 + 0x10) != 0) && (iVar4 = 1, *(int *)(param_1 + 0x14) != 0)) && (iVar4 = 2, *(int *)(param_1 + 0x18) != 0)) && ((iVar4 = 3, *(int *)(param_1 + 0x1c) != 0 && (iVar4 = 4, *(int *)(param_1 + 0x20) != 0)))) && (iVar4 = 5, *(int *)(param_1 + 0x24) != 0)) && ((iVar4 = 6, *(int *)(param_1 + 0x28) != 0 && (iVar4 = 7, *(int *)(param_1 + 0x2c) != 0)))) {
				iVar4 = 8;
			}
			*(char **)(param_1 + iVar4 * 4 + 0x10) = pcVar3;
		} else {
			iVar5 = 0;
			if ((((*(int *)(param_1 + 0x10) != 0) && (iVar5 = 1, *(int *)(param_1 + 0x14) != 0)) && (iVar5 = 2, *(int *)(param_1 + 0x18) != 0)) && (((iVar5 = 3, *(int *)(param_1 + 0x1c) != 0 && (iVar5 = 4, *(int *)(param_1 + 0x20) != 0)) && ((iVar5 = 5, *(int *)(param_1 + 0x24) != 0 && ((iVar5 = 6, *(int *)(param_1 + 0x28) != 0 && (iVar5 = 7, *(int *)(param_1 + 0x2c) != 0)))))))) {
				iVar5 = 8;
			}
			*(char **)(param_1 + iVar5 * 4 + 0x10) = pcVar3;
			if ((iVar13 < (int)pcVar3[2]) && (uVar2 = FUN_1008eafc(param_1, iVar4, iVar8), (int)uVar2 != 0)) {
				*(int *)(pcVar3 + 0xc) = param_1;
				pcVar3[2] = (char)iVar13;
				*pcVar3 = (char)iVar13 + pcVar3[1];
				FUN_1008f1bc(pcVar3, uVar6, uVar10, uVar11, uVar12, param_6, param_7, param_8, in_stack_ffffffa8);
			}
		}
	} else {
		iVar5 = 0;
		if ((((*(int *)(param_1 + 0x10) != 0) && (iVar5 = 1, *(int *)(param_1 + 0x14) != 0)) && (iVar5 = 2, *(int *)(param_1 + 0x18) != 0)) && (((iVar5 = 3, *(int *)(param_1 + 0x1c) != 0 && (iVar5 = 4, *(int *)(param_1 + 0x20) != 0)) && ((iVar5 = 5, *(int *)(param_1 + 0x24) != 0 && ((iVar5 = 6, *(int *)(param_1 + 0x28) != 0 && (iVar5 = 7, *(int *)(param_1 + 0x2c) != 0)))))))) {
			iVar5 = 8;
		}
		*(char **)(param_1 + iVar5 * 4 + 0x10) = pcVar3;
		if ((iVar13 < (int)pcVar3[2]) && (uVar2 = FUN_1008eafc(param_1, iVar4, iVar8), (int)uVar2 != 0)) {
			*(int *)(pcVar3 + 0xc) = param_1;
			pcVar3[2] = (char)iVar13;
			*pcVar3 = (char)iVar13 + pcVar3[1];
		}
	}
	return 1;
}

int FUN_1008f0d4(int param_1, int param_2)

{
	int iVar1;

	iVar1 = *(int *)(*(int *)PTR_DAT_100f2020 + 0x30);
	while (true) {
		if (iVar1 == 0) {
			return 0;
		}
		if ((*(int *)(iVar1 + 4) == param_1) && (*(int *)(iVar1 + 8) == param_2))
			break;
		iVar1 = *(int *)(iVar1 + 0x30);
	}
	return iVar1;
}

int FUN_1008f118(int param_1, int param_2)

{
	int iVar1;

	iVar1 = *(int *)(*(int *)PTR_DAT_100f201c + 0x30);
	while (true) {
		if (iVar1 == 0) {
			return 0;
		}
		if ((*(int *)(iVar1 + 4) == param_1) && (*(int *)(iVar1 + 8) == param_2))
			break;
		iVar1 = *(int *)(iVar1 + 0x30);
	}
	return iVar1;
}

void FUN_1008f15c(char *param_1)

{
	char *pcVar1;
	char *pcVar2;
	char *pcVar3;

	pcVar2 = *(char **)PTR_DAT_100f2020;
	if (*(char **)(pcVar2 + 0x30) == (char *)0x0) {
		*(char **)(pcVar2 + 0x30) = param_1;
		return;
	}
	pcVar1 = *(char **)(pcVar2 + 0x30);
	while ((pcVar3 = pcVar1, pcVar3 != (char *)0x0 && (*pcVar3 < *param_1))) {
		pcVar1 = *(char **)(pcVar3 + 0x30);
		pcVar2 = pcVar3;
	}
	*(char **)(param_1 + 0x30) = pcVar3;
	*(char **)(pcVar2 + 0x30) = param_1;
	return;
}

void FUN_1008f1bc(undefined4 param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	char *pcVar1;
	undefined *puVar2;
	ulonglong uVar3;
	undefined8 uVar4;
	ulonglong uVar5;
	int iVar6;
	ulonglong uVar7;

	puVar2 = PTR_DAT_100f2018;
	FUN_1008f2a0(param_1);
	do {
		if (*(int *)puVar2 == 0) {
			return;
		}
		uVar3 = FUN_1008f2c0();
		iVar6 = 0;
		uVar7 = uVar3;
		do {
			pcVar1 = *(char **)((int)uVar7 + 0x10);
			if (pcVar1 == (char *)0x0)
				break;
			uVar4._4_4_ = (int)uVar3;
			uVar4 = FUN_1008ea90(uVar4._4_4_, *(int *)(pcVar1 + 4), *(int *)(pcVar1 + 8));
			if ((int)*(char *)(uVar4._4_4_ + 2) + (int)uVar4 < (int)pcVar1[2]) {
				uVar5 = FUN_1008eafc(uVar4._4_4_, *(int *)(pcVar1 + 4), *(int *)(pcVar1 + 8));
				if ((int)uVar5 != 0) {
					*(int *)(pcVar1 + 0xc) = uVar4._4_4_;
					uVar4 = FUN_1008ea90(uVar4._4_4_, *(int *)(pcVar1 + 4), *(int *)(pcVar1 + 8));
					pcVar1[2] = *(char *)(uVar4._4_4_ + 2) + (char)uVar4;
					*pcVar1 = pcVar1[2] + pcVar1[1];
					FUN_1008f2a0(pcVar1);
				}
			}
			iVar6 = iVar6 + 1;
			uVar7 = uVar7 + 4;
		} while (iVar6 < 8);
	} while (true);
}

void FUN_1008f2a0(undefined4 param_1)

{
	int iVar1;
	undefined *puVar2;

	puVar2 = PTR_DAT_100f2010;
	iVar1 = *(int *)PTR_DAT_100f2018;
	*(int *)PTR_DAT_100f2018 = iVar1 + 1;
	*(undefined4 *)(puVar2 + iVar1 * 4) = param_1;
	return;
}

ulonglong FUN_1008f2c0(void)

{
	int iVar1;
	undefined *puVar2;

	puVar2 = PTR_DAT_100f2010;
	iVar1 = *(int *)PTR_DAT_100f2018;
	*(int *)PTR_DAT_100f2018 = iVar1 + -1;
	return (ulonglong) * (uint *)(puVar2 + (iVar1 + -1) * 4);
}

longlong FUN_1008f2e0(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	longlong lVar2;
	ulonglong uVar3;
	undefined4 in_stack_ffffffc8;

	uVar1 = *(uint *)PTR_DAT_100f2024;
	if (uVar1 == 300) {
		lVar2 = 0;
	} else {
		uVar3 = ZEXT48(PTR_DAT_100f200c);
		*(uint *)PTR_DAT_100f2024 = uVar1 + 1;
		lVar2 = uVar3 + (ulonglong)uVar1 * 0x34;
		memset(lVar2, 0, 0x34, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return lVar2;
}

void FUN_1008f344(void)

{
	_DAT_100f435c = _DAT_100f4358;
	return;
}

void pfile_check_available_space(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined8 uParm5, undefined4 uParm6, undefined4 uParm7, undefined4 uParm8)

{
	int iVar1;
	char cVar2;
	ulonglong uVar3;
	int iVar4;
	short sVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	undefined7 uVar9;
	undefined uVar10;
	undefined uVar11;

	uVar10 = (undefined)uParm5;
	uVar9 = (undefined7)((ulonglong)uParm5 >> 8);
	uVar3 = ZEXT48(register0x0000000c);
	uVar11 = 0;
	iVar1 = (int)(uVar3 - 400);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	iVar4 = IsFilepath(param_1, param_2, param_3, param_4, uVar10, (char)uParm6, (char)uParm7, (char)uParm8,
	    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
	    *(undefined4 *)(iVar1 + 0x14));
	cVar2 = (char)(uVar3 - 400);
	if (iVar4 != 0) {
		FilepathToFSSpec(cVar2 + '8', param_1, 0, param_4, uVar10, (char)uParm6, (char)uParm7, (char)uParm8,
		    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
		    *(undefined4 *)(iVar1 + 0x14));
		uVar11 = (undefined) * (undefined2 *)(iVar1 + 0x38);
	}
	lVar6 = uVar3 - 0x10a;
	lVar7 = uVar3 - 0x10c;
	lVar8 = uVar3 - 0x110;
	sVar5 = GetVInfo(uVar11, (char)lVar6, (char)lVar7, (char)lVar8, uVar10, (char)uParm6, (char)uParm7,
	    (char)uParm8, *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
	    *(undefined4 *)(iVar1 + 0x14));
	if ((sVar5 != 0) || (*(int *)(iVar1 + 0x80) < 0xa00000)) {
		p2cstr(cVar2 + -0x7a, (char)lVar6, (char)lVar7, (char)lVar8, uVar10, (char)uParm6, (char)uParm7,
		    (char)uParm8, *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
		    *(undefined4 *)(iVar1 + 0x14));
		DiskFreeDlg(iVar1 + 0x86, lVar6, lVar7, lVar8, CONCAT71(uVar9, uVar10), uParm6, uParm7, uParm8,
		    *(undefined4 *)(iVar1 + 8));
	}
	return;
}

void pfile_init_save_directory(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	ulonglong uVar2;
	int iVar3;
	ulonglong uVar4;
	longlong lVar5;
	undefined7 uVar6;
	undefined uVar7;
	undefined7 uVar8;
	undefined uVar9;

	uVar8 = (undefined7)((ulonglong)param_5 >> 8);
	uVar9 = (undefined)param_5;
	uVar6 = (undefined7)((ulonglong)param_4 >> 8);
	uVar7 = (undefined)param_4;
	uVar2 = ZEXT48(register0x0000000c);
	lVar5 = 0x104;
	iVar1 = (int)(uVar2 - 0x140);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	uVar4 = GetWindowsDirectory((char)(uVar2 - 0x140) + '8', 4, (char)param_3, uVar7, uVar9, (char)param_6,
	    (char)param_7, (char)param_8, *(undefined *)(iVar1 + 0xb),
	    *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14));
	iVar3 = *(int *)(iVar1 + 0x14);
	if ((uVar4 & 0xffffffff) != 0) {
		pfile_check_available_space(uVar2 - 0x108);
		lVar5 = uVar2 - 0x108;
		param_3 = 0x104;
		uVar4 = GetModuleFileName((char)**(undefined4 **)(iVar3 + -0x75c4), (char)lVar5, 4, uVar7, uVar9,
		    (char)param_6, (char)param_7, (char)param_8, *(undefined *)(iVar1 + 0xb),
		    *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14));
		iVar3 = *(int *)(iVar1 + 0x14);
		if ((uVar4 & 0xffffffff) != 0) {
			pfile_check_available_space(uVar2 - 0x108);
			return;
		}
	}
	app_fatal(*(int *)(iVar3 + -0x5a70), lVar5, param_3, CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9),
	    param_6, param_7, param_8, *(undefined4 *)(iVar1 + 8), *(undefined *)(iVar1 + 0xf),
	    *(undefined4 *)(iVar1 + 0x18), *(undefined4 *)(iVar1 + 0x1c),
	    *(undefined4 *)(iVar1 + 0x20), *(undefined4 *)(iVar1 + 0x24),
	    *(undefined4 *)(iVar1 + 0x28), *(undefined4 *)(iVar1 + 0x2c),
	    *(undefined4 *)(iVar1 + 0x30), *(undefined4 *)(iVar1 + 0x34));
	return;
}

void pfile_get_save_path(int param_1, undefined8 param_2, int param_3, int param_4, int param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined4 uVar1;
	undefined uVar3;
	ulonglong uVar2;
	longlong lVar4;
	undefined uVar5;
	longlong lVar6;
	undefined uVar7;
	longlong lVar8;
	undefined4 uVar9;
	undefined uVar10;
	longlong lVar11;
	undefined4 uVar12;
	undefined uVar13;
	undefined uVar14;
	undefined uVar15;
	undefined uVar16;
	undefined4 in_stack_fffffeb8;
	undefined uVar17;
	undefined in_stack_fffffebf;
	int local_13c;
	undefined4 in_stack_fffffec8;
	undefined4 in_stack_fffffecc;
	undefined4 in_stack_fffffed0;
	undefined4 in_stack_fffffed4;
	undefined4 in_stack_fffffed8;
	undefined4 in_stack_fffffedc;
	undefined4 in_stack_fffffee0;
	undefined4 in_stack_fffffee4;
	undefined auStack280[280];

	uVar9 = _DAT_100f355c;
	uVar1 = _DAT_100f3558;
	lVar11 = (longlong)param_5;
	lVar8 = (longlong)param_4;
	lVar6 = (longlong)param_3;
	uVar7 = (undefined)param_3;
	uVar3 = (undefined)param_1;
	if ((byte)*PTR_DAT_100f17e0 < 2) {
		lVar4 = 0x104;
		uVar2 = GetWindowsDirectory(uVar3, 4, uVar7, (char)param_4, (char)param_5, (char)param_6,
		    (char)param_7, (char)param_8, (char)in_stack_fffffeb8,
		    in_stack_fffffebf, local_13c);
	} else {
		lVar4 = 0x104;
		uVar2 = GetWindowsDirectory(uVar3, 4, uVar7, (char)param_4, (char)param_5, (char)param_6,
		    (char)param_7, (char)param_8, (char)in_stack_fffffeb8,
		    in_stack_fffffebf, local_13c);
		uVar1 = uVar9;
	}
	uVar12 = (undefined4)lVar11;
	uVar9 = (undefined4)lVar8;
	if ((uVar2 & 0xffffffff) == 0) {
		app_fatal(*(int *)(local_13c + -0x5a7c), lVar4, lVar6, lVar8, lVar11, param_6, param_7, param_8,
		    in_stack_fffffeb8, in_stack_fffffebf, in_stack_fffffec8, in_stack_fffffecc,
		    in_stack_fffffed0, in_stack_fffffed4, in_stack_fffffed8, in_stack_fffffedc,
		    in_stack_fffffee0, in_stack_fffffee4);
	}
	uVar17 = (undefined)in_stack_fffffeb8;
	uVar16 = (undefined)param_8;
	uVar15 = (undefined)param_7;
	uVar14 = (undefined)param_6;
	uVar13 = (undefined)uVar12;
	uVar10 = (undefined)uVar9;
	sprintf((int)auStack280, uVar1, param_3, uVar9, uVar12, param_6, param_7, param_8, in_stack_fffffeb8,
	    in_stack_fffffebf, in_stack_fffffecc, in_stack_fffffed0, in_stack_fffffed4,
	    in_stack_fffffed8, in_stack_fffffedc, in_stack_fffffee0, in_stack_fffffee4);
	uVar5 = (undefined)(ZEXT48(register0x0000000c) - 0x118);
	strcat(param_1, (int)(ZEXT48(register0x0000000c) - 0x118));
	_strlwr(uVar3, uVar5, uVar7, uVar10, uVar13, uVar14, uVar15, uVar16, uVar17, in_stack_fffffebf, local_13c);
	return;
}

ulonglong pfile_get_save_num_from_name(undefined param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	ulonglong uVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	ulonglong uVar9;
	undefined in_stack_ffffffbb;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	lVar8 = (longlong)param_8;
	lVar7 = (longlong)param_7;
	lVar6 = (longlong)param_6;
	lVar5 = (longlong)param_5;
	lVar4 = (longlong)param_4;
	lVar3 = (longlong)param_3;
	uVar2 = (ulonglong)_DAT_100f3550;
	uVar9 = 0;
	do {
		iVar1 = _stricmp((char)uVar2, param_1, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
		if (iVar1 == 0) {
			return uVar9;
		}
		uVar9 = uVar9 + 1;
		uVar2 = uVar2 + 0x20;
	} while ((uVar9 & 0xffffffff) < 10);
	return uVar9;
}

void FUN_1008f628(uint *param_1, byte **param_2)

{
	byte *pbVar1;

	pbVar1 = *param_2;
	*param_1 = (uint)pbVar1[3] << 0x18 | (uint)pbVar1[2] << 0x10 | (uint)pbVar1[1] << 8 | (uint)*pbVar1;
	*param_2 = *param_2 + 4;
	*(ushort *)(param_1 + 1) = CONCAT11((*param_2)[1], **param_2);
	*param_2 = *param_2 + 2;
	*(undefined2 *)((int)param_1 + 6) = CONCAT11((*param_2)[1], **param_2);
	*param_2 = *param_2 + 2;
	*(byte *)(param_1 + 2) = **param_2;
	*param_2 = *param_2 + 1;
	*(byte *)((int)param_1 + 9) = **param_2;
	*param_2 = *param_2 + 1;
	*(byte *)((int)param_1 + 10) = **param_2;
	*param_2 = *param_2 + 1;
	*(byte *)((int)param_1 + 0xb) = **param_2;
	*param_2 = *param_2 + 1;
	*(byte *)(param_1 + 3) = **param_2;
	*param_2 = *param_2 + 1;
	*(undefined2 *)((int)param_1 + 0xd) = CONCAT11((*param_2)[1], **param_2);
	*param_2 = *param_2 + 2;
	pbVar1 = *param_2;
	*(uint *)((int)param_1 + 0xf) = (uint)pbVar1[3] << 0x18 | (uint)pbVar1[2] << 0x10 | (uint)pbVar1[1] << 8 | (uint)*pbVar1;
	*param_2 = *param_2 + 4;
	return;
}

void FUN_1008f728(uint **param_1, uint *param_2)

{
	uint uVar1;

	uVar1 = *param_2;
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	*(ushort *)*param_1 = *(ushort *)(param_2 + 1) >> 8 | *(ushort *)(param_2 + 1) << 8;
	*param_1 = (uint *)((int)*param_1 + 2);
	*(ushort *)*param_1 = *(ushort *)((int)param_2 + 6) >> 8 | *(ushort *)((int)param_2 + 6) << 8;
	*param_1 = (uint *)((int)*param_1 + 2);
	*(undefined *)*param_1 = *(undefined *)(param_2 + 2);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 9);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 10);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0xb);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)(param_2 + 3);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(ushort *)*param_1 = *(ushort *)((int)param_2 + 0xd) >> 8 | *(ushort *)((int)param_2 + 0xd) << 8;
	*param_1 = (uint *)((int)*param_1 + 2);
	uVar1 = *(uint *)((int)param_2 + 0xf);
	**param_1 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	*param_1 = *param_1 + 1;
	return;
}

void FUN_1008f81c(uint *param_1, byte **param_2, undefined param_3, undefined param_4, undefined param_5, undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	byte bVar1;
	byte bVar2;
	byte bVar3;
	byte bVar4;
	byte *pbVar5;
	longlong lVar6;
	byte *pbVar7;
	byte *pbVar8;
	int iVar9;
	uint *puVar10;

	pbVar5 = *param_2;
	bVar1 = pbVar5[7];
	bVar2 = pbVar5[6];
	bVar3 = pbVar5[5];
	bVar4 = pbVar5[4];
	pbVar7 = (byte *)((int)param_1 + 0xf);
	lVar6 = 0x20;
	param_1[1] = (uint)pbVar5[3] << 0x18 | (uint)pbVar5[2] << 0x10 | (uint)pbVar5[1] << 8 | (uint)*pbVar5;
	*param_1 = (uint)bVar1 << 0x18 | (uint)bVar2 << 0x10 | (uint)bVar3 << 8 | (uint)bVar4;
	*param_2 = *param_2 + 8;
	*(byte *)(param_1 + 2) = **param_2;
	*param_2 = *param_2 + 1;
	*(byte *)((int)param_1 + 9) = **param_2;
	*param_2 = *param_2 + 1;
	*(byte *)((int)param_1 + 10) = **param_2;
	*param_2 = *param_2 + 1;
	*(byte *)((int)param_1 + 0xb) = **param_2;
	*param_2 = *param_2 + 1;
	*(byte *)(param_1 + 3) = **param_2;
	*param_2 = *param_2 + 1;
	*(byte *)((int)param_1 + 0xd) = **param_2;
	*param_2 = *param_2 + 1;
	*(byte *)((int)param_1 + 0xe) = **param_2;
	*param_2 = *param_2 + 1;
	*(byte *)((int)param_1 + 0xf) = **param_2;
	*param_2 = *param_2 + 1;
	pbVar5 = *param_2 + -1;
	do {
		pbVar8 = pbVar5;
		pbVar5 = pbVar8 + 1;
		lVar6 = lVar6 + -1;
		pbVar7 = pbVar7 + 1;
		*pbVar7 = *pbVar5;
	} while (0 < lVar6);
	*param_2 = pbVar8 + 2;
	*(byte *)(param_1 + 0xc) = **param_2;
	*param_2 = *param_2 + 1;
	*(byte *)((int)param_1 + 0x31) = **param_2;
	*param_2 = *param_2 + 1;
	*(byte *)((int)param_1 + 0x32) = **param_2;
	*param_2 = *param_2 + 1;
	*(byte *)((int)param_1 + 0x33) = **param_2;
	*param_2 = *param_2 + 1;
	*(byte *)(param_1 + 0xd) = **param_2;
	*param_2 = *param_2 + 1;
	*(byte *)((int)param_1 + 0x35) = **param_2;
	*param_2 = *param_2 + 1;
	*(byte *)((int)param_1 + 0x36) = **param_2;
	*param_2 = *param_2 + 1;
	pbVar5 = *param_2;
	*(uint *)((int)param_1 + 0x37) = (uint)pbVar5[3] << 0x18 | (uint)pbVar5[2] << 0x10 | (uint)pbVar5[1] << 8 | (uint)*pbVar5;
	*param_2 = *param_2 + 4;
	pbVar5 = *param_2;
	*(uint *)((int)param_1 + 0x3b) = (uint)pbVar5[3] << 0x18 | (uint)pbVar5[2] << 0x10 | (uint)pbVar5[1] << 8 | (uint)*pbVar5;
	*param_2 = *param_2 + 4;
	pbVar5 = *param_2;
	*(uint *)((int)param_1 + 0x3f) = (uint)pbVar5[3] << 0x18 | (uint)pbVar5[2] << 0x10 | (uint)pbVar5[1] << 8 | (uint)*pbVar5;
	*param_2 = *param_2 + 4;
	pbVar5 = *param_2;
	*(uint *)((int)param_1 + 0x43) = (uint)pbVar5[3] << 0x18 | (uint)pbVar5[2] << 0x10 | (uint)pbVar5[1] << 8 | (uint)*pbVar5;
	*param_2 = *param_2 + 4;
	pbVar5 = *param_2;
	*(uint *)((int)param_1 + 0x47) = (uint)pbVar5[3] << 0x18 | (uint)pbVar5[2] << 0x10 | (uint)pbVar5[1] << 8 | (uint)*pbVar5;
	*param_2 = *param_2 + 4;
	pbVar5 = *param_2;
	pbVar7 = (byte *)((int)param_1 + 0x4e);
	lVar6 = 0x25;
	*(uint *)((int)param_1 + 0x4b) = (uint)pbVar5[3] << 0x18 | (uint)pbVar5[2] << 0x10 | (uint)pbVar5[1] << 8 | (uint)*pbVar5;
	*param_2 = *param_2 + 4;
	pbVar5 = *param_2 + -1;
	do {
		pbVar8 = pbVar5;
		pbVar5 = pbVar8 + 1;
		lVar6 = lVar6 + -1;
		pbVar7 = pbVar7 + 1;
		*pbVar7 = *pbVar5;
	} while (0 < lVar6);
	*param_2 = pbVar8 + 2;
	pbVar5 = *param_2;
	bVar1 = pbVar5[7];
	bVar2 = pbVar5[6];
	bVar3 = pbVar5[5];
	bVar4 = pbVar5[4];
	iVar9 = 0;
	param_1[0x1e] = (uint)pbVar5[3] << 0x18 | (uint)pbVar5[2] << 0x10 | (uint)pbVar5[1] << 8 | (uint)*pbVar5;
	param_1[0x1d] = (uint)bVar1 << 0x18 | (uint)bVar2 << 0x10 | (uint)bVar3 << 8 | (uint)bVar4;
	*param_2 = *param_2 + 8;
	puVar10 = param_1;
	do {
		FUN_1008f628(puVar10 + 0x1f, param_2);
		iVar9 = iVar9 + 1;
		puVar10 = (uint *)((int)puVar10 + 0x13);
	} while (iVar9 < 7);
	iVar9 = 0;
	puVar10 = param_1;
	do {
		FUN_1008f628((uint *)((int)puVar10 + 0x101), param_2);
		iVar9 = iVar9 + 1;
		puVar10 = (uint *)((int)puVar10 + 0x13);
	} while (iVar9 < 0x28);
	puVar10 = param_1 + 0xfe;
	lVar6 = 0x28;
	pbVar5 = *param_2 + -1;
	do {
		pbVar7 = pbVar5;
		pbVar5 = pbVar7 + 1;
		lVar6 = lVar6 + -1;
		*(byte *)((int)puVar10 + 1) = *pbVar5;
		puVar10 = (uint *)((int)puVar10 + 1);
	} while (0 < lVar6);
	*param_2 = pbVar7 + 2;
	iVar9 = 0;
	*(byte *)((int)param_1 + 0x421) = **param_2;
	*param_2 = *param_2 + 1;
	puVar10 = param_1;
	do {
		FUN_1008f628((uint *)((int)puVar10 + 0x422), param_2);
		iVar9 = iVar9 + 1;
		puVar10 = (uint *)((int)puVar10 + 0x13);
	} while (iVar9 < 8);
	*(byte *)((int)param_1 + 0x4ba) = **param_2;
	*param_2 = *param_2 + 1;
	*(byte *)((int)param_1 + 0x4bb) = **param_2;
	*param_2 = *param_2 + 1;
	*(byte *)(param_1 + 0x12f) = **param_2;
	*param_2 = *param_2 + 1;
	*(byte *)((int)param_1 + 0x4bd) = **param_2;
	*param_2 = *param_2 + 1;
	*(byte *)((int)param_1 + 0x4be) = **param_2;
	*param_2 = *param_2 + 1;
	*(byte *)((int)param_1 + 0x4bf) = **param_2;
	*param_2 = *param_2 + 1;
	*(byte *)(param_1 + 0x130) = **param_2;
	*param_2 = *param_2 + 1;
	*(byte *)((int)param_1 + 0x4c1) = **param_2;
	*param_2 = *param_2 + 1;
	*(undefined2 *)((int)param_1 + 0x4c2) = CONCAT11((*param_2)[1], **param_2);
	*param_2 = *param_2 + 2;
	*(ushort *)(param_1 + 0x131) = CONCAT11((*param_2)[1], **param_2);
	*param_2 = *param_2 + 2;
	*(undefined2 *)((int)param_1 + 0x4c6) = CONCAT11((*param_2)[1], **param_2);
	*param_2 = *param_2 + 2;
	*(ushort *)(param_1 + 0x132) = CONCAT11((*param_2)[1], **param_2);
	*param_2 = *param_2 + 2;
	*(undefined2 *)((int)param_1 + 0x4ca) = CONCAT11((*param_2)[1], **param_2);
	*param_2 = *param_2 + 2;
	*(ushort *)(param_1 + 0x133) = CONCAT11((*param_2)[1], **param_2);
	*param_2 = *param_2 + 2;
	*(undefined2 *)((int)param_1 + 0x4ce) = CONCAT11((*param_2)[1], **param_2);
	*param_2 = *param_2 + 2;
	*(ushort *)(param_1 + 0x134) = CONCAT11((*param_2)[1], **param_2);
	*param_2 = *param_2 + 2;
	pbVar5 = *param_2;
	*(uint *)((int)param_1 + 0x4d2) = (uint)pbVar5[3] << 0x18 | (uint)pbVar5[2] << 0x10 | (uint)pbVar5[1] << 8 | (uint)*pbVar5;
	*param_2 = *param_2 + 4;
	pbVar5 = *param_2;
	*(uint *)((int)param_1 + 0x4d6) = (uint)pbVar5[3] << 0x18 | (uint)pbVar5[2] << 0x10 | (uint)pbVar5[1] << 8 | (uint)*pbVar5;
	*param_2 = *param_2 + 4;
	pbVar5 = *param_2;
	*(uint *)((int)param_1 + 0x4da) = (uint)pbVar5[3] << 0x18 | (uint)pbVar5[2] << 0x10 | (uint)pbVar5[1] << 8 | (uint)*pbVar5;
	*param_2 = *param_2 + 4;
	pbVar5 = *param_2;
	*(uint *)((int)param_1 + 0x4de) = (uint)pbVar5[3] << 0x18 | (uint)pbVar5[2] << 0x10 | (uint)pbVar5[1] << 8 | (uint)*pbVar5;
	*param_2 = *param_2 + 4;
	pbVar5 = *param_2;
	*(uint *)((int)param_1 + 0x4e2) = (uint)pbVar5[3] << 0x18 | (uint)pbVar5[2] << 0x10 | (uint)pbVar5[1] << 8 | (uint)*pbVar5;
	*param_2 = *param_2 + 4;
	pbVar5 = *param_2;
	*(uint *)((int)param_1 + 0x4e6) = (uint)pbVar5[3] << 0x18 | (uint)pbVar5[2] << 0x10 | (uint)pbVar5[1] << 8 | (uint)*pbVar5;
	*param_2 = *param_2 + 4;
	pbVar5 = *param_2;
	*(uint *)((int)param_1 + 0x4ea) = (uint)pbVar5[3] << 0x18 | (uint)pbVar5[2] << 0x10 | (uint)pbVar5[1] << 8 | (uint)*pbVar5;
	*param_2 = *param_2 + 4;
	pbVar5 = *param_2;
	*(uint *)((int)param_1 + 0x4ee) = (uint)pbVar5[3] << 0x18 | (uint)pbVar5[2] << 0x10 | (uint)pbVar5[1] << 8 | (uint)*pbVar5;
	*param_2 = *param_2 + 4;
	return;
}

void FUN_1008fe2c(uint **param_1, uint *param_2, undefined param_3, undefined param_4, undefined param_5, undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined *puVar1;
	uint uVar2;
	uint uVar3;
	longlong lVar4;
	undefined *puVar5;
	int iVar6;
	undefined *puVar7;
	int iVar8;
	uint *puVar9;

	uVar2 = *param_2;
	puVar9 = *param_1;
	uVar3 = param_2[1];
	puVar5 = (undefined *)((int)param_2 + 0xf);
	lVar4 = 0x20;
	puVar9[1] = uVar2 << 0x18 | (uVar2 >> 8 & 0xff) << 0x10 | (uVar2 >> 0x10 & 0xff) << 8 | uVar2 >> 0x18;
	*puVar9 = uVar3 << 0x18 | (uVar3 >> 8 & 0xff) << 0x10 | (uVar3 >> 0x10 & 0xff) << 8 | uVar3 >> 0x18;
	*param_1 = *param_1 + 2;
	*(undefined *)*param_1 = *(undefined *)(param_2 + 2);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 9);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 10);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0xb);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)(param_2 + 3);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0xd);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0xe);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0xf);
	*param_1 = (uint *)((int)*param_1 + 1);
	puVar1 = (undefined *)((int)*param_1 + -1);
	do {
		puVar7 = puVar1;
		puVar5 = puVar5 + 1;
		lVar4 = lVar4 + -1;
		puVar1 = puVar7 + 1;
		*puVar1 = *puVar5;
	} while (0 < lVar4);
	*(undefined **)param_1 = puVar7 + 2;
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0xc);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x31);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x32);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x33);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0xd);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x35);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x36);
	*param_1 = (uint *)((int)*param_1 + 1);
	uVar2 = *(uint *)((int)param_2 + 0x37);
	**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar2 = *(uint *)((int)param_2 + 0x3b);
	**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar2 = *(uint *)((int)param_2 + 0x3f);
	**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar2 = *(uint *)((int)param_2 + 0x43);
	**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar2 = *(uint *)((int)param_2 + 0x47);
	**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar2 = *(uint *)((int)param_2 + 0x4b);
	**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
	puVar5 = (undefined *)((int)param_2 + 0x4e);
	lVar4 = 0x25;
	*param_1 = *param_1 + 1;
	puVar1 = (undefined *)((int)*param_1 + -1);
	do {
		puVar7 = puVar1;
		puVar5 = puVar5 + 1;
		lVar4 = lVar4 + -1;
		puVar1 = puVar7 + 1;
		*puVar1 = *puVar5;
	} while (0 < lVar4);
	*(undefined **)param_1 = puVar7 + 2;
	puVar9 = *param_1;
	uVar2 = param_2[0x1d];
	uVar3 = param_2[0x1e];
	iVar8 = 0;
	puVar9[1] = uVar2 << 0x18 | (uVar2 >> 8 & 0xff) << 0x10 | (uVar2 >> 0x10 & 0xff) << 8 | uVar2 >> 0x18;
	*puVar9 = uVar3 << 0x18 | (uVar3 >> 8 & 0xff) << 0x10 | (uVar3 >> 0x10 & 0xff) << 8 | uVar3 >> 0x18;
	*param_1 = *param_1 + 2;
	puVar9 = param_2;
	do {
		FUN_1008f728(param_1, puVar9 + 0x1f);
		iVar8 = iVar8 + 1;
		puVar9 = (uint *)((int)puVar9 + 0x13);
	} while (iVar8 < 7);
	iVar8 = 0;
	puVar9 = param_2;
	do {
		FUN_1008f728(param_1, (uint *)((int)puVar9 + 0x101));
		iVar8 = iVar8 + 1;
		puVar9 = (uint *)((int)puVar9 + 0x13);
	} while (iVar8 < 0x28);
	puVar9 = param_2 + 0xfe;
	lVar4 = 0x28;
	iVar8 = (int)*param_1 + -1;
	do {
		iVar6 = iVar8;
		puVar9 = (uint *)((int)puVar9 + 1);
		lVar4 = lVar4 + -1;
		*(undefined *)(iVar6 + 1) = *(undefined *)puVar9;
		iVar8 = iVar6 + 1;
	} while (0 < lVar4);
	*param_1 = (uint *)(iVar6 + 2);
	iVar8 = 0;
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x421);
	*param_1 = (uint *)((int)*param_1 + 1);
	puVar9 = param_2;
	do {
		FUN_1008f728(param_1, (uint *)((int)puVar9 + 0x422));
		iVar8 = iVar8 + 1;
		puVar9 = (uint *)((int)puVar9 + 0x13);
	} while (iVar8 < 8);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x4ba);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x4bb);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0x12f);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x4bd);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x4be);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x4bf);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)(param_2 + 0x130);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(undefined *)*param_1 = *(undefined *)((int)param_2 + 0x4c1);
	*param_1 = (uint *)((int)*param_1 + 1);
	*(ushort *)*param_1 = *(ushort *)((int)param_2 + 0x4c2) >> 8 | *(ushort *)((int)param_2 + 0x4c2) << 8;
	*param_1 = (uint *)((int)*param_1 + 2);
	*(ushort *)*param_1 = *(ushort *)(param_2 + 0x131) >> 8 | *(ushort *)(param_2 + 0x131) << 8;
	*param_1 = (uint *)((int)*param_1 + 2);
	*(ushort *)*param_1 = *(ushort *)((int)param_2 + 0x4c6) >> 8 | *(ushort *)((int)param_2 + 0x4c6) << 8;
	*param_1 = (uint *)((int)*param_1 + 2);
	*(ushort *)*param_1 = *(ushort *)(param_2 + 0x132) >> 8 | *(ushort *)(param_2 + 0x132) << 8;
	*param_1 = (uint *)((int)*param_1 + 2);
	*(ushort *)*param_1 = *(ushort *)((int)param_2 + 0x4ca) >> 8 | *(ushort *)((int)param_2 + 0x4ca) << 8;
	*param_1 = (uint *)((int)*param_1 + 2);
	*(ushort *)*param_1 = *(ushort *)(param_2 + 0x133) >> 8 | *(ushort *)(param_2 + 0x133) << 8;
	*param_1 = (uint *)((int)*param_1 + 2);
	*(ushort *)*param_1 = *(ushort *)((int)param_2 + 0x4ce) >> 8 | *(ushort *)((int)param_2 + 0x4ce) << 8;
	*param_1 = (uint *)((int)*param_1 + 2);
	*(ushort *)*param_1 = *(ushort *)(param_2 + 0x134) >> 8 | *(ushort *)(param_2 + 0x134) << 8;
	*param_1 = (uint *)((int)*param_1 + 2);
	uVar2 = *(uint *)((int)param_2 + 0x4d2);
	**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar2 = *(uint *)((int)param_2 + 0x4d6);
	**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar2 = *(uint *)((int)param_2 + 0x4da);
	**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar2 = *(uint *)((int)param_2 + 0x4de);
	**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar2 = *(uint *)((int)param_2 + 0x4e2);
	**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar2 = *(uint *)((int)param_2 + 0x4e6);
	**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar2 = *(uint *)((int)param_2 + 0x4ea);
	**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
	*param_1 = *param_1 + 1;
	uVar2 = *(uint *)((int)param_2 + 0x4ee);
	**param_1 = uVar2 << 0x18 | (uVar2 & 0xff00) << 8 | uVar2 >> 8 & 0xff00 | uVar2 >> 0x18;
	*param_1 = *param_1 + 1;
	return;
}

undefined8
FUN_10090444(undefined8 param_1, uint *param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined4 *puVar1;
	int iVar4;
	undefined8 uVar2;
	ulonglong uVar3;
	undefined uVar5;
	longlong lVar6;
	undefined uVar7;
	undefined uVar8;
	ulonglong uVar9;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	int local_5c;
	undefined4 local_2c;
	undefined4 local_28;
	undefined4 local_24;
	undefined4 local_20;
	undefined uStack25;

	uVar8 = 0xe4;
	iVar4 = SFileOpenFileEx((undefined)param_1, (char)_DAT_100f354c, 0, 0xe4, param_5, param_6, param_7,
	    param_8, (char)in_stack_ffffff98, in_stack_ffffff9f, local_5c);
	if (iVar4 == 0) {
		uVar2 = 0;
	} else {
		puVar1 = *(undefined4 **)(local_5c + -0x5a94);
		uVar7 = SUB41(puVar1, 0);
		uVar9 = 0;
		uVar2 = 0;
		local_2c = *puVar1;
		local_28 = puVar1[1];
		local_24 = puVar1[2];
		local_20 = puVar1[3];
		if (1 < **(byte **)(local_5c + -0x77f0)) {
			strcpy((int)&local_2c, *(int *)(local_5c + -0x5a98));
		}
		uVar5 = 0;
		uVar3 = SFileGetFileSize(uStack25, 0, uVar7, uVar8, param_5, param_6, param_7, param_8,
		    (char)in_stack_ffffff98, in_stack_ffffff9f, local_5c);
		uVar3._7_1_ = (undefined)uVar3;
		if (uVar3 != 0) {
			uVar9 = DiabloAllocPtr(uVar3);
			uVar8 = 0xcc;
			param_5 = 0;
			uVar5 = (undefined)uVar9;
			uVar7 = (undefined)uVar3;
			iVar4 = SFileReadFile(uStack25, uVar5, (undefined)uVar3, 0xcc, 0, param_6, param_7, param_8,
			    (char)in_stack_ffffff98, in_stack_ffffff9f, local_5c);
			if (iVar4 != 0) {
				lVar6 = ZEXT48(register0x0000000c) - 0x2c;
				uVar7 = (undefined)lVar6;
				uVar5 = (undefined)uVar3;
				lVar6 = FUN_1001b8b0((uint *)uVar9, uVar3, (int)lVar6, uVar8, param_5, param_6, param_7, param_8,
				    in_stack_ffffff98);
				if ((int)lVar6 == 0x4f2) {
					lVar6 = ZEXT48(register0x0000000c) - 0x38;
					uVar5 = (undefined)lVar6;
					FUN_1008f81c(param_2, (byte **)lVar6, uVar7, uVar8, param_5, param_6, param_7, param_8,
					    in_stack_ffffff98);
					uVar2 = 1;
				}
			}
		}
		uVar3._7_1_ = (undefined)in_stack_ffffff98;
		if ((uVar9 & 0xffffffff) != 0) {
			mem_free_dbg(uVar9, uVar5, uVar7, uVar8, param_5, param_6, param_7, param_8, in_stack_ffffff98);
		}
		SFileCloseFile(uStack25, uVar5, uVar7, uVar8, param_5, param_6, param_7, param_8, (undefined)uVar3,
		    in_stack_ffffff9f, local_5c);
	}
	return uVar2;
}

void pfile_encode_hero(uint *puParm1, undefined8 uParm2, undefined8 uParm3, undefined param_4,
    undefined8 uParm5, undefined4 uParm6, undefined4 uParm7, undefined4 uParm8)

{
	undefined **ppuVar1;
	ulonglong uVar2;
	longlong lVar3;
	undefined uVar4;
	longlong lVar5;
	undefined7 uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined4 in_stack_ffffffa8;
	uint *local_28[2];
	undefined4 local_20;
	undefined4 local_1c;
	undefined4 local_18;
	undefined4 local_14;

	uVar7 = (undefined)uParm5;
	uVar6 = (undefined7)((ulonglong)uParm5 >> 8);
	ppuVar1 = &toc;
	uVar4 = SUB41(_DAT_100f3534, 0);
	local_20 = *_DAT_100f3534;
	local_1c = _DAT_100f3534[1];
	local_18 = _DAT_100f3534[2];
	local_14 = _DAT_100f3534[3];
	if (1 < (byte)*PTR_DAT_100f17e0) {
		ppuVar1 = &toc;
		strcpy((int)&local_20, _DAT_100f3538);
	}
	uVar2 = codec_get_encoded_len(0x4f2);
	uVar2._7_1_ = (undefined)uVar2;
	lVar3 = DiabloAllocPtr();
	lVar3._7_1_ = (undefined)lVar3;
	local_28[0] = (uint *)lVar3;
	FUN_1008fe2c(local_28, puParm1, uVar4, param_4, uVar7, (char)uParm6, (char)uParm7, (char)uParm8,
	    in_stack_ffffffa8);
	lVar5 = ZEXT48(register0x0000000c) - 0x20;
	codec_encode((uint *)lVar3, 0x4f2, uVar2, lVar5, CONCAT71(uVar6, uVar7), uParm6, uParm7, uParm8,
	    in_stack_ffffffa8);
	uVar10 = (undefined)uParm8;
	uVar9 = (undefined)uParm7;
	uVar8 = (undefined)uParm6;
	uVar4 = (undefined)lVar5;
	mpqapi_write_file(ZEXT48(ppuVar1[-0x16a1]), lVar3, (uint)uVar2, lVar5, CONCAT71(uVar6, uVar7), uParm6, uParm7,
	    uParm8, in_stack_ffffffa8);
	mem_free_dbg(lVar3, (undefined)lVar3, (undefined)uVar2, uVar4, uVar7, uVar8, uVar9, uVar10,
	    in_stack_ffffffa8);
	return;
}

undefined8
pfile_open_archive(int param_1, int param_2, undefined8 param_3, undefined4 param_4, undefined4 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined *puVar1;
	uint uVar2;
	undefined8 uVar3;
	byte bVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined4 in_stack_fffffeb8;
	undefined uVar11;
	undefined in_stack_fffffebf;
	undefined4 in_stack_fffffec8;
	undefined auStack280[280];

	puVar1 = PTR_DAT_100f17e0;
	uVar10 = (undefined)param_8;
	uVar9 = (undefined)param_7;
	uVar8 = (undefined)param_6;
	uVar7 = (undefined)param_5;
	uVar6 = (undefined)param_4;
	pfile_get_save_path((int)auStack280, 0x104, param_2, param_4, param_5, param_6, param_7, param_8,
	    in_stack_fffffeb8);
	uVar11 = (undefined)in_stack_fffffeb8;
	uVar2 = 1 - (uint)(byte)*puVar1;
	bVar4 = (byte)(uVar2 >> 0x1f);
	uVar5 = (char)param_2;
	uVar3 = OpenMPQ((uint)auStack280, uVar2 >> 0x1f, param_2, uVar6, uVar7, uVar8, uVar9, uVar10,
	    in_stack_fffffeb8);
	if ((int)uVar3 == 0) {
		if ((param_1 != 0) && (1 < (byte)*puVar1)) {
			mpqapi_store_default_time((char)param_2, bVar4, uVar5, uVar6, uVar7, uVar8, uVar9, uVar10, uVar11, in_stack_fffffebf, in_stack_fffffec8);
		}
		uVar3 = 0;
	} else {
		uVar3 = 1;
	}
	return uVar3;
}

void pfile_flush(int param_1, int param_2, undefined8 param_3, undefined4 param_4, undefined4 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined uVar1;
	undefined uVar2;
	undefined uVar3;
	undefined uVar4;
	undefined uVar5;
	undefined4 in_stack_fffffeb8;
	undefined auStack280[280];

	uVar5 = (undefined)param_8;
	uVar4 = (undefined)param_7;
	uVar3 = (undefined)param_6;
	uVar2 = (undefined)param_5;
	uVar1 = (undefined)param_4;
	pfile_get_save_path((int)auStack280, 0x104, param_2, param_4, param_5, param_6, param_7, param_8,
	    in_stack_fffffeb8);
	mpqapi_flush_and_close((uint)auStack280, param_1, param_2, uVar1, uVar2, uVar3, uVar4, uVar5, in_stack_fffffeb8);
	return;
}

ulonglong pfile_open_save_archive(undefined4 param_1, undefined4 param_2, undefined8 param_3, undefined4 param_4,
    undefined4 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11)

{
	int iVar1;
	char cVar2;
	int iVar4;
	ulonglong uVar3;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;

	uVar8 = (undefined)param_8;
	uVar7 = (undefined)param_7;
	uVar6 = (undefined)param_6;
	uVar5 = (undefined)param_5;
	iVar1 = (int)(ZEXT48(register0x0000000c) - 0x140);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	*(undefined4 *)(iVar1 + 0x158) = param_1;
	pfile_get_save_path(iVar1 + 0x38, 0x104, param_2, param_4, param_5, param_6, param_7, param_8,
	    *(undefined4 *)(iVar1 + 8));
	cVar2 = (char)(ZEXT48(register0x0000000c) - 0x140);
	iVar4 = SFileOpenArchive(cVar2 + '8', 0, 0, cVar2 + '<', uVar5, uVar6, uVar7, uVar8,
	    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
	    *(undefined4 *)(iVar1 + 0x14));
	if (iVar4 == 0) {
		uVar3 = 0;
	} else {
		uVar3 = (ulonglong) * (uint *)(iVar1 + 0x13c);
	}
	return uVar3;
}

void pfile_SFileCloseArchive(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	SFileCloseArchive(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	return;
}

undefined8
FUN_100907c8(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined8 uVar1;
	int iVar2;
	undefined uVar3;
	undefined uVar4;
	undefined uVar5;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;
	undefined uStack5;

	if (*PTR_DAT_100f17e0 == '\x01') {
		uVar3 = (undefined)_DAT_100f3540;
		uVar5 = 0xf8;
		uVar4 = 0;
		iVar2 = SFileOpenFileEx(param_1, uVar3, 0, 0xf8, param_5, param_6, param_7, param_8, in_stack_ffffffcb,
		    in_stack_ffffffcf, local_2c);
		if (iVar2 == 0) {
			uVar1 = 0;
		} else {
			SFileCloseFile(uStack5, uVar3, uVar4, uVar5, param_5, param_6, param_7, param_8, in_stack_ffffffcb,
			    in_stack_ffffffcf, local_2c);
			uVar1 = 1;
		}
	} else {
		uVar1 = 0;
	}
	return uVar1;
}

void pfile_write_hero(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined4 param_4,
    undefined4 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	undefined *puVar3;
	ulonglong uVar4;
	undefined8 uVar5;
	ulonglong uVar6;
	undefined4 in_stack_fffffac8;
	undefined auStack1288[1288];

	puVar3 = PTR_DAT_100f1824;
	puVar2 = PTR_DAT_100f17e0;
	uVar4 = pfile_get_save_num_from_name((char)PTR_DAT_100f1828 + (char)*(undefined4 *)PTR_DAT_100f1824 * -0x14 + '<',
	    (char)PTR_DAT_100f1828, (char)param_3, (char)param_4, (char)param_5,
	    (char)param_6, (char)param_7, (char)param_8, in_stack_fffffac8);
	uVar5 = pfile_open_archive(1, (int)uVar4, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_fffffac8);
	if ((int)uVar5 != 0) {
		uVar5 = countLeadingZeros(1 - (uint)(byte)*puVar2);
		uVar1 = (uint)uVar5 >> 5 & 0xff;
		uVar6 = (ulonglong)uVar1;
		PackPlayer((int)auStack1288, *(int *)puVar3, uVar1, (char)param_4, (char)param_5, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_fffffac8);
		pfile_encode_hero(auStack1288);
		uVar5 = countLeadingZeros(1 - (uint)(byte)*puVar2);
		pfile_flush((uint)uVar5 >> 5 & 0xff, (int)uVar4, uVar6, param_4, param_5, param_6, param_7, param_8,
		    in_stack_fffffac8);
	}
	return;
}

undefined8
pfile_create_player_description(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined8 uVar2;
	ulonglong uVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined4 in_stack_ffffff08;
	undefined uVar9;
	undefined in_stack_ffffff0f;
	undefined4 local_ec;
	uint auStack200[32];
	undefined auStack72[72];

	uVar8 = (undefined)param_8;
	uVar7 = (undefined)param_7;
	uVar6 = (undefined)param_6;
	uVar5 = (undefined)param_5;
	uVar4 = (undefined)param_4;
	ppuVar1 = &toc;
	uVar3 = ZEXT48(PTR_DAT_100f1824);
	*(undefined4 *)PTR_DAT_100f1824 = 0;
	pfile_read_player_from_save(param_1, param_2, uVar3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff08);
	game_2_ui_player((int)ppuVar1[-0x1dea], (int)auStack72, *(undefined4 *)ppuVar1[-0x1d6f], uVar4, uVar5,
	    uVar6, uVar7, uVar8, in_stack_ffffff08);
	UiSetupPlayerInfo(ZEXT48(ppuVar1[-0x1c4a]), ZEXT48(register0x0000000c) - 0x48, 0x4452544c, uVar4, uVar5,
	    uVar6, uVar7, uVar8, in_stack_ffffff08);
	uVar9 = (undefined)in_stack_ffffff08;
	if (((param_1 & 0xffffffff) != 0) && ((int)param_2 != 0)) {
		uVar2 = UiCreatePlayerDescription(ZEXT48(register0x0000000c) - 0x48, 0x4452544c, auStack200, uVar4, uVar5, uVar6,
		    uVar7, uVar8, in_stack_ffffff08);
		if ((int)uVar2 == 0) {
			return 0;
		}
		SStrCopy((char)param_1, 0x38, (char)param_2, uVar4, uVar5, uVar6, uVar7, uVar8, uVar9,
		    in_stack_ffffff0f, local_ec);
	}
	return 1;
}

undefined8
FUN_10090994(undefined param_1, undefined param_2, undefined8 uParm3, undefined4 uParm4,
    undefined4 uParm5, undefined4 uParm6, undefined4 uParm7, undefined4 uParm8)

{
	undefined *puVar1;
	undefined *puVar2;
	ulonglong uVar3;
	int iVar5;
	int iVar6;
	undefined8 uVar4;
	char cVar7;
	undefined uVar9;
	undefined8 uVar8;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	longlong lVar10;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	ulonglong uVar11;
	undefined8 unaff_r31;
	ulonglong uVar12;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;
	int local_6c;
	undefined auStack72[48];
	undefined4 local_18;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar2 = PTR_DAT_100f1ea8;
	puVar1 = PTR_DAT_100f1828;
	local_18 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar11 = ZEXT48(PTR_DAT_100f1ea8);
	uVar12 = ZEXT48(PTR_DAT_100f1828);
	uVar3 = pfile_get_save_num_from_name(param_2, param_2, (char)uParm3, (char)uParm4, (char)uParm5, (char)uParm6,
	    (char)uParm7, (char)uParm8, in_stack_ffffff88);
	if ((uVar3 & 0xffffffff) == 10) {
		lVar10 = 0;
		while ((int)lVar10 != 4) {
			cVar7 = (char)uVar12 + '<';
			iVar5 = _stricmp(param_1, cVar7, (char)uParm3, (char)uParm4, (char)uParm5, (char)uParm6,
			    (char)uParm7, (char)uParm8, (char)in_stack_ffffff88, in_stack_ffffff8f, local_6c);
			if (iVar5 == 0) {
				iVar5 = local_6c;
				uVar3 = pfile_get_save_num_from_name(param_1, cVar7, (char)uParm3, (char)uParm4, (char)uParm5, (char)uParm6,
				    (char)uParm7, (char)uParm8, in_stack_ffffff88);
				if ((uVar3 & 0xffffffff) != 10) {
					SStrCopy((char)*(undefined4 *)(local_6c + -0x5a80) + (char)((int)uVar3 << 5),
					    param_2, 0x20, (char)uParm4, (char)uParm5, (char)uParm6, (char)uParm7,
					    (char)uParm8, (char)in_stack_ffffff88, in_stack_ffffff8f, iVar5);
					uVar9 = 0x20;
					SStrCopy((char)puVar1 + (char)lVar10 * -0x14 + '<', param_2, 0x20, (char)uParm4,
					    (char)uParm5, (char)uParm6, (char)uParm7, (char)uParm8,
					    (char)in_stack_ffffff88, in_stack_ffffff8f, iVar5);
					iVar6 = _stricmp((char)puVar2, param_1, uVar9, (char)uParm4, (char)uParm5, (char)uParm6,
					    (char)uParm7, (char)uParm8, (char)in_stack_ffffff88, in_stack_ffffff8f, iVar5);
					if (iVar6 == 0) {
						SStrCopy((char)puVar2, param_2, 0x10, (char)uParm4, (char)uParm5, (char)uParm6,
						    (char)uParm7, (char)uParm8, (char)in_stack_ffffff88, in_stack_ffffff8f,
						    iVar5);
					}
					game_2_ui_player((int)puVar1, (int)auStack72, **(undefined4 **)(iVar5 + -0x75bc), (char)uParm4,
					    (char)uParm5, (char)uParm6, (char)uParm7, (char)uParm8, in_stack_ffffff88);
					lVar10 = ZEXT48(register0x0000000c) - 0x48;
					uVar8 = 0x4452544c;
					uVar4 = UiSetupPlayerInfo(uVar11, lVar10, 0x4452544c, (char)uParm4, (char)uParm5, (char)uParm6,
					    (char)uParm7, (char)uParm8, in_stack_ffffff88);
					pfile_write_hero(uVar4, lVar10, uVar8, uParm4, uParm5, uParm6, uParm7, uParm8, in_stack_ffffff88);
					return 1;
				}
				return 0;
			}
			uVar12 = uVar12 + 0x55ec;
			lVar10 = lVar10 + 1;
		}
	}
	return 0;
}

void pfile_flush_W(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined4 param_4,
    undefined4 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	undefined7 uVar2;
	undefined uVar3;
	undefined4 in_stack_ffffffc8;

	uVar2 = (undefined7)((ulonglong)param_3 >> 8);
	uVar3 = (undefined)param_3;
	uVar1 = pfile_get_save_num_from_name((char)PTR_DAT_100f1828 + (char)*(undefined4 *)PTR_DAT_100f1824 * -0x14 + '<',
	    (char)PTR_DAT_100f1828, uVar3, (char)param_4, (char)param_5, (char)param_6,
	    (char)param_7, (char)param_8, in_stack_ffffffc8);
	pfile_flush(1, (int)uVar1, CONCAT71(uVar2, uVar3), param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

undefined8 FUN_10090b10(int param_1)

{
	if (param_1 == 0) {
		return 0;
	}
	if (param_1 == 1) {
		return 1;
	}
	return 2;
}

undefined8 FUN_10090b38(int param_1)

{
	if (*(char *)(param_1 + 0x15c) == '\0') {
		return 0;
	}
	if (*(char *)(param_1 + 0x15c) == '\x01') {
		return 1;
	}
	return 2;
}

void game_2_ui_player(int param_1, int param_2, undefined4 param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined8 uVar1;
	undefined in_stack_ffffffbb;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	memset((char)param_2, 0x2c, (char)param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
	strncpy(param_2 + 4, param_1 + 0x13c, 0xf);
	*(undefined *)(param_2 + 0x13) = 0;
	*(short *)(param_2 + 0x14) = (short)*(char *)(param_1 + 0x1b4);
	uVar1 = FUN_10090b38(param_1);
	*(undefined *)(param_2 + 0x16) = (char)uVar1;
	*(undefined2 *)(param_2 + 0x18) = (short)*(undefined4 *)(param_1 + 0x160);
	*(undefined2 *)(param_2 + 0x1a) = (short)*(undefined4 *)(param_1 + 0x168);
	*(undefined2 *)(param_2 + 0x1c) = (short)*(undefined4 *)(param_1 + 0x170);
	*(undefined2 *)(param_2 + 0x1e) = (short)*(undefined4 *)(param_1 + 0x178);
	*(undefined4 *)(param_2 + 0x20) = *(undefined4 *)(param_1 + 0x1c8);
	*(undefined4 *)(param_2 + 0x24) = param_3;
	*(undefined *)(param_2 + 0x17) = (char)*(undefined4 *)(param_1 + 0x55a8);
	*(undefined4 *)(param_2 + 0x28) = 0;
	return;
}

void pfile_read_player_from_save(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    ulonglong param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined **ppuVar2;
	ulonglong uVar3;
	ulonglong uVar4;
	undefined8 uVar5;
	ulonglong uVar6;
	longlong lVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined4 in_stack_fffffac8;
	undefined in_stack_fffffacf;
	undefined4 in_stack_fffffad8;
	undefined4 in_stack_fffffadc;
	undefined4 in_stack_fffffae0;
	undefined4 in_stack_fffffae4;
	undefined4 in_stack_fffffae8;
	undefined4 in_stack_fffffaec;
	undefined4 in_stack_fffffaf0;
	undefined4 in_stack_fffffaf4;
	undefined auStack1288[1288];

	ppuVar2 = &toc;
	uVar3 = pfile_get_save_num_from_name((char)PTR_DAT_100f1ea8, (undefined)param_2, (char)param_3, (char)param_4,
	    (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_fffffac8);
	uVar6 = uVar3;
	uVar4 = pfile_open_save_archive(0, (int)uVar3, param_3, (int)param_4, (int)param_5, (int)param_6, (int)param_7,
	    (int)param_8, in_stack_fffffac8, in_stack_fffffacf, in_stack_fffffad8);
	if (uVar4 == 0) {
		app_fatal((int)ppuVar2[-0x16a9], uVar6, param_3, param_4, param_5, (int)param_6, (int)param_7,
		    (int)param_8, in_stack_fffffac8, in_stack_fffffacf, in_stack_fffffad8,
		    in_stack_fffffadc, in_stack_fffffae0, in_stack_fffffae4, in_stack_fffffae8,
		    in_stack_fffffaec, in_stack_fffffaf0, in_stack_fffffaf4);
	}
	lVar7 = ZEXT48(register0x0000000c) - 0x508;
	uVar5 = FUN_10090444(uVar4, (uint *)lVar7, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
	    (char)param_7, (char)param_8, in_stack_fffffac8);
	if ((int)uVar5 == 0) {
		app_fatal((int)ppuVar2[-0x16aa], lVar7, param_3, param_4, param_5, (int)param_6, (int)param_7,
		    (int)param_8, in_stack_fffffac8, in_stack_fffffacf, in_stack_fffffad8,
		    in_stack_fffffadc, in_stack_fffffae0, in_stack_fffffae4, in_stack_fffffae8,
		    in_stack_fffffaec, in_stack_fffffaf0, in_stack_fffffaf4);
	}
	uVar13 = (undefined)param_8;
	uVar12 = (undefined)param_7;
	uVar11 = (undefined)param_6;
	uVar10 = (undefined)param_5;
	uVar9 = (undefined)param_4;
	uVar8 = 0;
	UnPackPlayer((int)auStack1288, (ulonglong) * (uint *)ppuVar2[-0x1deb], 0, param_4, param_5, param_6,
	    param_7, param_8, in_stack_fffffac8);
	uVar5 = FUN_100907c8((char)uVar4, (char)uVar3, uVar8, uVar9, uVar10, uVar11, uVar12, uVar13,
	    in_stack_fffffac8);
	puVar1 = (undefined4 *)ppuVar2[-0x1d6f];
	*puVar1 = (int)uVar5;
	pfile_SFileCloseArchive((char)uVar4, (char)puVar1, uVar8, uVar9, uVar10, uVar11, uVar12, uVar13, in_stack_fffffac8);
	return;
}

void GetTempLevelNames(int param_1, undefined8 param_2, undefined8 param_3, undefined4 param_4,
    undefined4 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	ppuVar1 = &toc;
	pfile_get_save_num_from_name((char)PTR_DAT_100f1828 + (char)*(undefined4 *)PTR_DAT_100f1824 * -0x14 + '<',
	    (char)PTR_DAT_100f1824, (char)PTR_DAT_100f1828, (char)param_4, (char)param_5,
	    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffb8);
	if (*ppuVar1[-0x1df6] == '\0') {
		sprintf(param_1, ppuVar1[-0x16ac], (uint)(byte)*ppuVar1[-0x1df9], param_4, param_5, param_6,
		    param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4);
	} else {
		sprintf(param_1, ppuVar1[-0x16ab], (uint)(byte)*ppuVar1[-0x1df8], param_4, param_5, param_6,
		    param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4);
	}
	return;
}

void GetPermLevelNames(char *param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	ulonglong uVar2;
	undefined8 uVar3;
	ulonglong uVar4;
	int iVar5;
	ulonglong uVar6;
	undefined4 uVar7;
	undefined4 uVar8;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	ppuVar1 = &toc;
	uVar4 = ZEXT48(PTR_DAT_100f1824);
	uVar6 = ZEXT48(PTR_DAT_100f1828);
	uVar2 = pfile_get_save_num_from_name((char)PTR_DAT_100f1828 + (char)*(undefined4 *)PTR_DAT_100f1824 * -0x14 + '<',
	    (char)PTR_DAT_100f1824, (char)PTR_DAT_100f1828, (char)param_4, (char)param_5,
	    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffb8);
	GetTempLevelNames((int)param_1, uVar4, uVar6, (int)param_4, (int)param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	iVar5 = (int)uVar2;
	uVar3 = pfile_open_archive(0, iVar5, uVar6, (int)param_4, (int)param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	iVar5._3_1_ = (undefined)uVar2;
	uVar8 = (undefined4)param_5;
	uVar7 = (undefined4)param_4;
	if ((int)uVar3 == 0) {
		app_fatal((int)ppuVar1[-0x16ad], uVar2, uVar6, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4);
	}
	uVar2 = mpqapi_has_file(param_1, (undefined)iVar5, (char)uVar6, (char)uVar7, (char)uVar8, (char)param_6,
	    (char)param_7, (char)param_8, in_stack_ffffffb8);
	pfile_flush(1, iVar5, uVar6, uVar7, uVar8, param_6, param_7, param_8, in_stack_ffffffb8);
	if ((int)uVar2 == 0) {
		if (*ppuVar1[-0x1df6] == '\0') {
			sprintf((int)param_1, ppuVar1[-0x16a2], (uint)(byte)*ppuVar1[-0x1df9], uVar7, uVar8, param_6,
			    param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc,
			    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
			    in_stack_ffffffe0, in_stack_ffffffe4);
		} else {
			sprintf((int)param_1, ppuVar1[-0x16a3], (uint)(byte)*ppuVar1[-0x1df8], uVar7, uVar8, param_6,
			    param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc,
			    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
			    in_stack_ffffffe0, in_stack_ffffffe4);
		}
	}
	return;
}

void pfile_get_game_name(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 in_stack_ffffffb8;

	ppuVar1 = &toc;
	pfile_get_save_num_from_name((char)PTR_DAT_100f1828 + (char)*(undefined4 *)PTR_DAT_100f1824 * -0x14 + '<',
	    (char)PTR_DAT_100f1824, (char)PTR_DAT_100f1828, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	strcpy(param_1, (int)ppuVar1[-0x16a4]);
	return;
}

undefined8
GetPermSaveNames(uint param_1, int param_2, undefined8 param_3, undefined4 param_4, undefined4 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined4 uVar1;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	uVar1 = _DAT_100f3548;
	if (0x10 < param_1) {
		if (0x21 < param_1) {
			return 0;
		}
		param_1 = param_1 - 0x11;
		uVar1 = _DAT_100f3544;
	}
	sprintf(param_2, uVar1, param_1, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8,
	    in_stack_ffffffcf, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4,
	    in_stack_ffffffe8, in_stack_ffffffec, in_stack_fffffff0, in_stack_fffffff4);
	return 1;
}

undefined8
GetTempSaveNames(uint param_1, int param_2, undefined8 param_3, undefined4 param_4, undefined4 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	undefined4 uVar1;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	uVar1 = _DAT_100f3520;
	if (0x10 < param_1) {
		if (0x21 < param_1) {
			return 0;
		}
		param_1 = param_1 - 0x11;
		uVar1 = _DAT_100f3524;
	}
	sprintf(param_2, uVar1, param_1, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8,
	    in_stack_ffffffcf, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4,
	    in_stack_ffffffe8, in_stack_ffffffec, in_stack_fffffff0, in_stack_fffffff4);
	return 1;
}

void pfile_remove_temp_files(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	ulonglong uVar2;
	undefined8 uVar3;
	int iVar4;
	undefined7 uVar5;
	undefined uVar6;
	undefined4 uVar7;
	undefined4 uVar8;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	uVar5 = (undefined7)((ulonglong)param_3 >> 8);
	uVar6 = (undefined)param_3;
	ppuVar1 = &toc;
	if ((byte)*PTR_DAT_100f17e0 < 2) {
		uVar2 = pfile_get_save_num_from_name((char)PTR_DAT_100f1828 + (char)*(undefined4 *)PTR_DAT_100f1824 * -0x14 + '<', (char)PTR_DAT_100f1828,
		    uVar6, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffc8);
		iVar4 = (int)uVar2;
		uVar3 = pfile_open_archive(0, iVar4, CONCAT71(uVar5, uVar6), (int)param_4, (int)param_5, param_6, param_7,
		    param_8, in_stack_ffffffc8);
		iVar4._3_1_ = (undefined)uVar2;
		uVar8 = (undefined4)param_5;
		uVar7 = (undefined4)param_4;
		if ((int)uVar3 == 0) {
			app_fatal((int)ppuVar1[-0x16ae], uVar2, CONCAT71(uVar5, uVar6), param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8, in_stack_ffffffdc,
			    in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8, in_stack_ffffffec,
			    in_stack_fffffff0, in_stack_fffffff4);
		}
		mpqapi_remove_hash_entries((char)ppuVar1[-0x16af], (undefined)iVar4, uVar6, (char)uVar7, (char)uVar8, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffc8);
		pfile_flush(1, iVar4, CONCAT71(uVar5, uVar6), uVar7, uVar8, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return;
}

void pfile_rename_temp_to_perm(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	ulonglong uVar4;
	undefined **ppuVar5;
	ulonglong uVar6;
	undefined8 uVar7;
	int iVar8;
	undefined uVar9;
	undefined7 uVar10;
	undefined uVar11;
	undefined4 uVar12;
	undefined4 uVar13;
	longlong lVar14;
	longlong lVar15;
	longlong lVar16;
	uint uVar17;

	puVar3 = PTR_DAT_100f1828;
	puVar2 = PTR_DAT_100f1824;
	uVar10 = (undefined7)((ulonglong)param_3 >> 8);
	uVar11 = (undefined)param_3;
	lVar16 = (longlong)param_8;
	lVar15 = (longlong)param_7;
	lVar14 = (longlong)param_6;
	uVar4 = ZEXT48(register0x0000000c);
	ppuVar5 = &toc;
	iVar1 = (int)(uVar4 - 0x250);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	uVar6 = pfile_get_save_num_from_name((char)puVar3 + (char)*(undefined4 *)puVar2 * -0x14 + '<', (char)puVar3, uVar11,
	    (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8,
	    *(undefined4 *)(iVar1 + 8));
	iVar8 = (int)uVar6;
	uVar7 = pfile_open_archive(0, iVar8, CONCAT71(uVar10, uVar11), (int)param_4, (int)param_5, (int)lVar14,
	    (int)lVar15, (int)lVar16, *(undefined4 *)(iVar1 + 8));
	uVar13 = (undefined4)param_5;
	uVar12 = (undefined4)param_4;
	if ((int)uVar7 == 0) {
		app_fatal((int)ppuVar5[-0x16ae], uVar6, CONCAT71(uVar10, uVar11), param_4, param_5, (int)lVar14,
		    (int)lVar15, (int)lVar16, *(undefined4 *)(iVar1 + 8), *(undefined *)(iVar1 + 0xf),
		    *(undefined4 *)(iVar1 + 0x18), *(undefined4 *)(iVar1 + 0x1c),
		    *(undefined4 *)(iVar1 + 0x20), *(undefined4 *)(iVar1 + 0x24),
		    *(undefined4 *)(iVar1 + 0x28), *(undefined4 *)(iVar1 + 0x2c),
		    *(undefined4 *)(iVar1 + 0x30), *(undefined4 *)(iVar1 + 0x34));
	}
	uVar17 = 0;
	while (true) {
		uVar7 = GetTempSaveNames(uVar17, iVar1 + 0x140, CONCAT71(uVar10, uVar11), uVar12, uVar13, (int)lVar14,
		    (int)lVar15, (int)lVar16, *(undefined4 *)(iVar1 + 8));
		if ((int)uVar7 == 0)
			break;
		uVar9 = (undefined)(uVar4 - 0x214);
		GetPermSaveNames(uVar17, (int)(uVar4 - 0x214), CONCAT71(uVar10, uVar11), uVar12, uVar13, (int)lVar14,
		    (int)lVar15, (int)lVar16, *(undefined4 *)(iVar1 + 8));
		uVar17 = uVar17 + 1;
		uVar6 = mpqapi_has_file((char *)(iVar1 + 0x140), uVar9, uVar11, (char)uVar12, (char)uVar13, (char)lVar14, (char)lVar15, (char)lVar16, *(undefined4 *)(iVar1 + 8));
		if ((int)uVar6 != 0) {
			uVar6 = mpqapi_has_file((char *)(iVar1 + 0x3c), uVar9, uVar11, (char)uVar12, (char)uVar13,
			    (char)lVar14, (char)lVar15, (char)lVar16, *(undefined4 *)(iVar1 + 8));
			if ((int)uVar6 != 0) {
				mpqapi_remove_hash_entry((char)(uVar4 - 0x250) + '<', uVar9, uVar11, (char)uVar12, (char)uVar13, (char)lVar14, (char)lVar15, (char)lVar16, *(undefined4 *)(iVar1 + 8));
			}
			mpqapi_rename(uVar4 - 0x110, uVar4 - 0x214);
		}
	}
	pfile_flush(1, iVar8, CONCAT71(uVar10, uVar11), uVar12, uVar13, (int)lVar14, (int)lVar15, (int)lVar16,
	    *(undefined4 *)(iVar1 + 8));
	return;
}

void pfile_write_save_file(longlong param_1, undefined8 param_2, ulonglong param_3, ulonglong param_4,
    undefined8 param_5, undefined8 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined **ppuVar2;
	ulonglong uVar3;
	undefined8 uVar4;
	int iVar5;
	ulonglong uVar6;
	longlong lVar7;
	undefined4 uVar8;
	ulonglong uVar9;
	undefined4 uVar10;
	undefined *puVar11;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined4 in_stack_ffffffa8;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 local_34;
	undefined4 local_30;
	undefined4 local_2c;
	undefined4 local_28;
	undefined4 local_14;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	ppuVar2 = &toc;
	local_14 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar9 = ZEXT48(PTR_DAT_100f1824);
	puVar11 = PTR_DAT_100f1828;
	uVar3 = pfile_get_save_num_from_name((char)PTR_DAT_100f1828 + (char)*(undefined4 *)PTR_DAT_100f1824 * -0x14 + '<',
	    (char)param_2, (char)param_3, (char)param_4, (char)PTR_DAT_100f1824,
	    (char)PTR_DAT_100f1828, (char)param_7, (char)param_8, in_stack_ffffff98);
	puVar1 = (undefined4 *)ppuVar2[-0x16b0];
	local_34 = *puVar1;
	local_30 = puVar1[1];
	local_2c = puVar1[2];
	local_28 = puVar1[3];
	if (1 < (byte)*ppuVar2[-0x1dfc]) {
		strcpy((int)&local_34, (int)ppuVar2[-0x16a6]);
	}
	lVar7 = ZEXT48(register0x0000000c) - 0x34;
	uVar6 = param_4;
	codec_encode((uint *)param_2, param_3, param_4, lVar7, uVar9, puVar11, param_7, param_8, in_stack_ffffff98);
	iVar5 = (int)uVar3;
	uVar4 = pfile_open_archive(0, iVar5, uVar6, (int)lVar7, (int)uVar9, puVar11, param_7, param_8, in_stack_ffffff98);
	if ((int)uVar4 == 0) {
		app_fatal((int)ppuVar2[-0x16ae], uVar3, uVar6, lVar7, uVar9, puVar11, param_7, param_8,
		    in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffa8, in_stack_ffffffac,
		    in_stack_ffffffb0, in_stack_ffffffb4, in_stack_ffffffb8, in_stack_ffffffbc,
		    in_stack_ffffffc0, in_stack_ffffffc4);
	}
	uVar10 = (undefined4)uVar9;
	uVar8 = (undefined4)lVar7;
	mpqapi_write_file(param_1, param_2, (uint)param_4, lVar7, uVar9, puVar11, param_7, param_8, in_stack_ffffff98);
	pfile_flush(1, iVar5, param_4, uVar8, uVar10, puVar11, param_7, param_8, in_stack_ffffff98);
	return;
}

longlong pfile_read(longlong param_1, uint *param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	int iVar2;
	ulonglong uVar3;
	undefined **ppuVar4;
	ulonglong uVar5;
	ulonglong uVar6;
	int iVar7;
	uint uVar8;
	int iVar9;
	longlong lVar10;
	ulonglong uVar11;
	undefined8 uVar12;
	longlong lVar13;
	ulonglong uVar14;
	longlong lVar15;
	longlong lVar16;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	int local_5c;
	undefined4 in_stack_ffffffa8;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 local_34;
	undefined4 local_30;
	undefined4 local_2c;
	undefined4 local_28;
	undefined uStack29;

	iVar2 = _DAT_100f3504;
	uVar3 = ZEXT48(register0x0000000c);
	ppuVar4 = &toc;
	uVar11 = ZEXT48(PTR_DAT_100f1824);
	uVar14 = ZEXT48(PTR_DAT_100f1828);
	uVar5 = pfile_get_save_num_from_name((char)PTR_DAT_100f1828 + (char)*(undefined4 *)PTR_DAT_100f1824 * -0x14 + '<',
	    (char)param_2, (char)PTR_DAT_100f1824, (char)PTR_DAT_100f1828, (char)param_5,
	    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffff98);
	uVar6 = pfile_open_save_archive(0, (int)uVar5, uVar11, (int)uVar14, (int)param_5, param_6, param_7, param_8,
	    in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffa8);
	if (uVar6 == 0) {
		app_fatal((int)ppuVar4[-0x16b1], uVar5, uVar11, uVar14, param_5, param_6, param_7, param_8,
		    in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffa8, in_stack_ffffffac,
		    in_stack_ffffffb0, in_stack_ffffffb4, in_stack_ffffffb8, in_stack_ffffffbc,
		    in_stack_ffffffc0, in_stack_ffffffc4);
	}
	lVar15 = uVar3 - 0x20;
	uVar12 = 0;
	iVar7 = SFileOpenFileEx((char)uVar6, (char)param_1, 0, (char)lVar15, (char)param_5, (char)param_6,
	    (char)param_7, (char)param_8, (char)in_stack_ffffff98, in_stack_ffffff9f,
	    local_5c);
	if (iVar7 == 0) {
		app_fatal(*(int *)(local_5c + -0x5ac8), param_1, uVar12, lVar15, param_5, param_6, param_7, param_8,
		    in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffa8, in_stack_ffffffac,
		    in_stack_ffffffb0, in_stack_ffffffb4, in_stack_ffffffb8, in_stack_ffffffbc,
		    in_stack_ffffffc0, in_stack_ffffffc4);
	}
	lVar10 = 0;
	uVar8 = SFileGetFileSize(uStack29, 0, (char)uVar12, (char)lVar15, (char)param_5, (char)param_6,
	    (char)param_7, (char)param_8, (char)in_stack_ffffff98, in_stack_ffffff9f,
	    local_5c);
	*param_2 = uVar8;
	if (*param_2 == 0) {
		app_fatal(iVar2, lVar10, uVar12, lVar15, param_5, param_6, param_7, param_8, in_stack_ffffff98,
		    in_stack_ffffff9f, in_stack_ffffffa8, in_stack_ffffffac, in_stack_ffffffb0,
		    in_stack_ffffffb4, in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0,
		    in_stack_ffffffc4);
	}
	lVar10 = DiabloAllocPtr((ulonglong)*param_2);
	uVar5 = (ulonglong)*param_2;
	lVar16 = uVar3 - 0x24;
	uVar12 = 0;
	lVar15 = lVar10;
	iVar9 = SFileReadFile(uStack29, (char)lVar10, (char)*param_2, (char)lVar16, 0, (char)param_6,
	    (char)param_7, (char)param_8, (char)in_stack_ffffff98, in_stack_ffffff9f,
	    local_5c);
	iVar7 = local_5c;
	if (iVar9 == 0) {
		iVar7 = local_5c;
		app_fatal(*(int *)(local_5c + -0x5ad0), lVar15, uVar5, lVar16, uVar12, param_6, param_7, param_8,
		    in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffa8, in_stack_ffffffac,
		    in_stack_ffffffb0, in_stack_ffffffb4, in_stack_ffffffb8, in_stack_ffffffbc,
		    in_stack_ffffffc0, in_stack_ffffffc4);
	}
	puVar1 = *(undefined4 **)(local_5c + -0x5ad4);
	local_34 = *puVar1;
	local_30 = puVar1[1];
	local_2c = puVar1[2];
	local_28 = puVar1[3];
	if (1 < **(byte **)(local_5c + -0x77f0)) {
		strcpy((int)&local_34, *(int *)(local_5c + -0x5a98));
	}
	uVar5 = (ulonglong)*param_2;
	lVar13 = uVar3 - 0x34;
	lVar15 = FUN_1001b8b0((uint *)lVar10, uVar5, (int)lVar13, (char)lVar16, (char)uVar12, (char)param_6,
	    (char)param_7, (char)param_8, in_stack_ffffff98);
	*param_2 = (uint)lVar15;
	SFileCloseFile(uStack29, (char)uVar5, (char)lVar13, (char)lVar16, (char)uVar12, (char)param_6,
	    (char)param_7, (char)param_8, (char)in_stack_ffffff98, in_stack_ffffff9f, iVar7);
	pfile_SFileCloseArchive((char)uVar6, (char)uVar5, (char)lVar13, (char)lVar16, (char)uVar12, (char)param_6,
	    (char)param_7, (char)param_8, in_stack_ffffff98);
	if (*param_2 == 0) {
		app_fatal(iVar2, uVar5, lVar13, lVar16, uVar12, param_6, param_7, param_8, in_stack_ffffff98,
		    in_stack_ffffff9f, in_stack_ffffffa8, in_stack_ffffffac, in_stack_ffffffb0,
		    in_stack_ffffffb4, in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0,
		    in_stack_ffffffc4);
	}
	return lVar10;
}

void pfile_update(int param_1, longlong param_2, ulonglong param_3, undefined4 param_4,
    undefined4 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	longlong lVar1;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	int local_2c;

	if (DAT_100f4364 == '\0') {
		_DAT_100f4368 = 0;
		DAT_100f4364 = '\x01';
	}
	if (*PTR_DAT_100f17e0 != '\x01') {
		lVar1 = GetTickCount((char)PTR_DAT_100f17e0, (char)param_2, (char)param_3, (char)param_4,
		    (char)param_5, (char)param_6, (char)param_7, (char)param_8,
		    (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
		if (param_1 == 0) {
			param_3 = (ulonglong) * (uint *)(local_2c + -0x4c68);
			param_2 = lVar1 - param_3;
			if ((int)param_2 < 0xea61) {
				return;
			}
		}
		*(undefined4 *)(local_2c + -0x4c68) = (int)lVar1;
		pfile_write_hero(lVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return;
}

void FUN_100916c0(void)

{
	_DAT_100f436c = _DAT_100f4360;
	return;
}

void FUN_100916cc(longlong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int *piVar1;
	byte *pbVar2;
	ulonglong uVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	int iVar10;
	undefined4 in_stack_ffffffc8;

	uVar6 = (undefined)param_5;
	uVar5 = (undefined)param_4;
	uVar4 = (undefined)param_2;
	uVar9 = (undefined)param_8;
	uVar8 = (undefined)param_7;
	uVar7 = (undefined)param_6;
	uVar3 = FUN_100b8f7c(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	iVar10 = (int)param_1;
	piVar1 = (int *)param_2;
	*piVar1 = iVar10;
	pbVar2 = (byte *)uVar3;
	piVar1[1] = (uint)pbVar2[3] << 0x18 | (uint)pbVar2[2] << 0x10 | (uint)pbVar2[1] << 8 | (uint)*pbVar2;
	piVar1[2] = iVar10;
	piVar1[3] = (uint)pbVar2[7] << 0x18 | (uint)pbVar2[6] << 0x10 | (uint)pbVar2[5] << 8 | (uint)pbVar2[4];
	piVar1[4] = iVar10;
	piVar1[5] = (uint)pbVar2[0xb] << 0x18 | (uint)pbVar2[10] << 0x10 | (uint)pbVar2[9] << 8 | (uint)pbVar2[8];
	piVar1[6] = iVar10;
	piVar1[7] = (uint)pbVar2[0xf] << 0x18 | (uint)pbVar2[0xe] << 0x10 | (uint)pbVar2[0xd] << 8 | (uint)pbVar2[0xc];
	piVar1[8] = iVar10;
	piVar1[9] = (uint)pbVar2[0x13] << 0x18 | (uint)pbVar2[0x12] << 0x10 | (uint)pbVar2[0x11] << 8 | (uint)pbVar2[0x10];
	piVar1[10] = iVar10;
	piVar1[0xb] = (uint)pbVar2[0x17] << 0x18 | (uint)pbVar2[0x16] << 0x10 | (uint)pbVar2[0x15] << 8 | (uint)pbVar2[0x14];
	piVar1[0xc] = iVar10;
	piVar1[0xd] = (uint)pbVar2[0x1b] << 0x18 | (uint)pbVar2[0x1a] << 0x10 | (uint)pbVar2[0x19] << 8 | (uint)pbVar2[0x18];
	piVar1[0xe] = iVar10;
	piVar1[0xf] = (uint)pbVar2[0x1f] << 0x18 | (uint)pbVar2[0x1e] << 0x10 | (uint)pbVar2[0x1d] << 8 | (uint)pbVar2[0x1c];
	FUN_100b9100(iVar10, uVar4, 0x1c, uVar5, uVar6, uVar7, uVar8, uVar9, in_stack_ffffffc8);
	return;
}

void LoadPlrGFX(ulonglong uParm1, uint uParm2, undefined8 uParm3, undefined8 uParm4, undefined8 uParm5, undefined4 uParm6, undefined4 uParm7, undefined4 uParm8)

{
	char cVar1;
	char cVar2;
	char cVar3;
	uint uVar4;
	uint uVar5;
	int iVar6;
	int iVar7;
	undefined *puVar8;
	undefined4 uVar9;
	int iVar10;
	ulonglong uVar11;
	ulonglong uVar12;
	ulonglong uVar13;
	longlong lVar14;
	longlong lVar15;
	ulonglong uVar16;
	ulonglong uVar17;
	undefined8 in_r13;
	ulonglong uVar18;
	undefined8 unaff_r14;
	ulonglong uVar19;
	undefined8 unaff_r15;
	ulonglong uVar20;
	undefined8 unaff_r16;
	ulonglong uVar21;
	undefined8 unaff_r17;
	ulonglong uVar22;
	undefined8 unaff_r18;
	ulonglong uVar23;
	undefined8 unaff_r19;
	ulonglong uVar24;
	undefined8 unaff_r20;
	ulonglong uVar25;
	undefined8 unaff_r21;
	ulonglong uVar26;
	undefined8 unaff_r22;
	undefined8 unaff_r23;
	undefined8 unaff_r24;
	undefined8 unaff_r25;
	ulonglong unaff_r26;
	ulonglong unaff_r27;
	ulonglong unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	uint uVar27;
	undefined8 unaff_r31;
	longlong lVar28;
	undefined4 in_stack_fffffe68;
	undefined in_stack_fffffe6f;
	undefined4 in_stack_fffffe78;
	undefined4 in_stack_fffffe7c;
	undefined4 in_stack_fffffe80;
	undefined4 in_stack_fffffe84;
	undefined4 in_stack_fffffe88;
	undefined4 in_stack_fffffe8c;
	undefined4 in_stack_fffffe90;
	undefined4 in_stack_fffffe94;
	undefined auStack360[256];
	undefined auStack104[28];
	undefined4 local_4c;
	undefined4 uStack72;
	undefined4 uStack68;
	undefined4 uStack64;
	undefined4 uStack60;
	undefined4 uStack56;
	undefined4 uStack52;
	undefined4 uStack48;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	iVar10 = _DAT_100f36ac;
	uVar9 = _DAT_100f36a8;
	puVar8 = PTR_DAT_100f183c;
	uVar11 = ZEXT48(&toc);
	local_4c = (undefined4)((ulonglong)in_r13 >> 0x20);
	uStack72 = (undefined4)((ulonglong)unaff_r14 >> 0x20);
	uStack68 = (undefined4)((ulonglong)unaff_r15 >> 0x20);
	uStack64 = (undefined4)((ulonglong)unaff_r16 >> 0x20);
	uStack60 = (undefined4)((ulonglong)unaff_r17 >> 0x20);
	uStack56 = (undefined4)((ulonglong)unaff_r18 >> 0x20);
	uStack52 = (undefined4)((ulonglong)unaff_r19 >> 0x20);
	uStack48 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)(unaff_r26 >> 0x20);
	uStack20 = (undefined4)(unaff_r27 >> 0x20);
	uStack16 = (undefined4)(unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar26 = (ulonglong)_DAT_100f36b0;
	uVar25 = (ulonglong)_DAT_100f36b4;
	uVar24 = (ulonglong)_DAT_100f36b8;
	uVar23 = (ulonglong)_DAT_100f36bc;
	uVar22 = (ulonglong)_DAT_100f36c0;
	uVar21 = (ulonglong)_DAT_100f36c4;
	uVar20 = (ulonglong)_DAT_100f36c8;
	uVar19 = (ulonglong)_DAT_100f36cc;
	uVar18 = (ulonglong)_DAT_100f36d0;
	if (3 < (uParm1 & 0xffffffff)) {
		app_fatal(_DAT_100f36e8, uParm1, uParm3, uParm4, uParm5, uParm6, uParm7, uParm8, in_stack_fffffe68,
		    in_stack_fffffe6f, in_stack_fffffe78, in_stack_fffffe7c, in_stack_fffffe80,
		    in_stack_fffffe84, in_stack_fffffe88, in_stack_fffffe8c, in_stack_fffffe90,
		    in_stack_fffffe94);
	}
	iVar6 = (int)uVar11;
	uVar4 = *(uint *)(iVar6 + -0x58f0);
	uVar17 = (ulonglong)uVar4;
	uVar16 = uVar11 - 0x4c5c;
	lVar28 = (ulonglong) * (uint *)(iVar6 + -0x77a8) + uParm1 * 0x55ec;
	uVar12 = (ulonglong) * (uint *)(iVar6 + -0x58ec);
	iVar7 = (int)lVar28;
	cVar1 = *(char *)(iVar6 + -0x4c60 + ((int)*(uint *)(iVar7 + 0x78) >> 4));
	cVar2 = *(char *)((int)uVar16 + (int)*(char *)(iVar7 + 0x15c));
	cVar3 = *(char *)(uVar4 + (*(uint *)(iVar7 + 0x78) & 0xf));
	lVar14 = (longlong)cVar1;
	uVar13 = SEXT18(cVar2);
	lVar15 = (longlong)cVar3;
	sprintf((int)auStack104, *(uint *)(iVar6 + -0x58ec), (int)cVar2, (int)cVar1, (int)cVar3,
	    (int)uVar16, uVar4, uParm8, in_stack_fffffe68, in_stack_fffffe6f, in_stack_fffffe7c,
	    in_stack_fffffe80, in_stack_fffffe84, in_stack_fffffe88, in_stack_fffffe8c,
	    in_stack_fffffe90, in_stack_fffffe94);
	uVar27 = 1;
	uVar4 = *(uint *)(*(int *)((int)uVar11 + -0x58f4) + (int)*(char *)(iVar7 + 0x15c) * 4);
	do {
		if (0x17f < uVar27) {
			return;
		}
		if ((uVar27 & uParm2) != 0) {
			if (uVar27 == 0x10) {
				if (*puVar8 != '\0') {
					unaff_r28 = (ulonglong) * (uint *)(iVar7 + 0x55d4);
					unaff_r26 = lVar28 + 0x2f4;
					unaff_r27 = uVar23;
					goto LAB_100919f4;
				}
			} else {
				if ((int)uVar27 < 0x10) {
					if (uVar27 == 4) {
						if (*puVar8 == '\0')
							goto LAB_10091a3c;
						unaff_r28 = (ulonglong) * (uint *)(iVar7 + 0x55d0);
						unaff_r26 = lVar28 + 0x2a8;
						unaff_r27 = uVar21;
					} else {
						if ((int)uVar27 < 4) {
							if (uVar27 == 2) {
								unaff_r27 = uVar19;
								if (*puVar8 != '\0') {
									unaff_r27 = uVar18;
								}
								unaff_r28 = (ulonglong) * (uint *)(iVar7 + 0x55cc);
								unaff_r26 = lVar28 + 0x260;
							} else {
								if ((1 < (int)uVar27) || ((int)uVar27 < 1))
									goto LAB_100919ec;
								if (*puVar8 == '\0') {
									uVar5 = *(uint *)((int)uVar11 + -0x58fc);
								} else {
									uVar5 = *(uint *)((int)uVar11 + -0x58f8);
								}
								unaff_r28 = (ulonglong) * (uint *)(iVar7 + 0x55c8);
								unaff_r26 = lVar28 + 0x218;
								unaff_r27 = (ulonglong)uVar5;
							}
						} else {
							if (uVar27 == 8) {
								if (*puVar8 == '\0')
									goto LAB_10091a3c;
								unaff_r28 = (ulonglong) * (uint *)(iVar7 + 0x55e0);
								unaff_r26 = lVar28 + 0x3c0;
								unaff_r27 = uVar22;
							} else {
							LAB_100919ec:
								app_fatal(iVar10, uVar12, uVar13, lVar14, lVar15, (int)uVar16, (int)uVar17, uParm8,
								    in_stack_fffffe68, in_stack_fffffe6f, in_stack_fffffe78, in_stack_fffffe7c, in_stack_fffffe80, in_stack_fffffe84, in_stack_fffffe88,
								    in_stack_fffffe8c, in_stack_fffffe90, in_stack_fffffe94);
							}
						}
					}
				LAB_100919f4:
					lVar14 = ZEXT48(register0x0000000c) - 0x68;
					uVar13 = (ulonglong)uVar4;
					lVar15 = lVar14;
					uVar16 = unaff_r27;
					sprintf((int)auStack360, uVar9, uVar4, (int)lVar14, (int)lVar14, (int)unaff_r27,
					    (int)uVar17, uParm8, in_stack_fffffe68, in_stack_fffffe6f, in_stack_fffffe7c,
					    in_stack_fffffe80, in_stack_fffffe84, in_stack_fffffe88, in_stack_fffffe8c,
					    in_stack_fffffe90, in_stack_fffffe94);
					LoadFileWithMem(ZEXT48(register0x0000000c) - 0x168, unaff_r28, uVar13, lVar14, lVar15, (int)uVar16, (int)uVar17, uParm8, in_stack_fffffe68);
					FUN_100b8f64((int)unaff_r28);
					uVar12 = unaff_r26;
					FUN_100916cc(unaff_r28, unaff_r26, uVar13, lVar14, lVar15, (int)uVar16, (int)uVar17, uParm8,
					    in_stack_fffffe68);
					*(uint *)(iVar7 + 0x214) = *(uint *)(iVar7 + 0x214) | uVar27;
				} else {
					if (uVar27 == 0x80) {
						if ((*(uint *)(iVar7 + 0x78) & 0xf) == 0) {
							unaff_r28 = (ulonglong) * (uint *)(iVar7 + 0x55e4);
							unaff_r26 = lVar28 + 0x408;
							unaff_r27 = uVar20;
							goto LAB_100919f4;
						}
					} else {
						if ((int)uVar27 < 0x80) {
							if (uVar27 == 0x40) {
								if (*puVar8 != '\0') {
									unaff_r28 = (ulonglong) * (uint *)(iVar7 + 0x55dc);
									unaff_r26 = lVar28 + 0x374;
									unaff_r27 = uVar25;
									goto LAB_100919f4;
								}
							} else {
								if ((0x3f < (int)uVar27) || (uVar27 != 0x20))
									goto LAB_100919ec;
								if (*puVar8 != '\0') {
									unaff_r28 = (ulonglong) * (uint *)(iVar7 + 0x55d8);
									unaff_r26 = lVar28 + 0x334;
									unaff_r27 = uVar24;
									goto LAB_100919f4;
								}
							}
						} else {
							if (uVar27 != 0x100)
								goto LAB_100919ec;
							if ((*puVar8 != '\0') && (*(char *)(iVar7 + 0x138) != '\0')) {
								unaff_r28 = (ulonglong) * (uint *)(iVar7 + 0x55e8);
								unaff_r26 = lVar28 + 0x450;
								unaff_r27 = uVar26;
								goto LAB_100919f4;
							}
						}
					}
				}
			}
		}
	LAB_10091a3c:
		uVar27 = uVar27 << 1;
	} while (true);
}

void InitPlayerGFX(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	puVar1 = PTR_DAT_100f1828;
	if (3 < (param_1 & 0xffffffff)) {
		app_fatal(_DAT_100f36a4, param_1, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8, in_stack_ffffffec,
		    in_stack_fffffff0, in_stack_fffffff4);
	}
	if (*(int *)(puVar1 + (int)param_1 * 0x55ec + 0x194) >> 6 == 0) {
		*(undefined4 *)(puVar1 + (int)param_1 * 0x55ec + 0x78) = 0;
		LoadPlrGFX(param_1, 0x80);
	} else {
		LoadPlrGFX(param_1, 0x17f);
	}
	return;
}

ulonglong GetPlrGFXSize(undefined8 uParm1)

{
	undefined4 uVar1;
	char *pcVar2;
	undefined4 uVar3;
	ulonglong uVar4;
	ulonglong uVar5;
	undefined8 uVar6;
	ulonglong uVar7;
	undefined uVar8;
	undefined8 uVar9;
	undefined uVar10;
	longlong lVar11;
	undefined uVar12;
	longlong lVar13;
	undefined uVar14;
	undefined8 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined8 unaff_r21;
	undefined8 unaff_r22;
	char *pcVar15;
	undefined8 unaff_r23;
	longlong lVar16;
	undefined8 unaff_r24;
	uint uVar17;
	undefined8 unaff_r25;
	ulonglong uVar18;
	undefined8 unaff_r26;
	undefined4 *puVar19;
	undefined8 unaff_r27;
	char *pcVar20;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_fffffe88;
	undefined in_stack_fffffe8f;
	undefined4 in_stack_fffffe9c;
	undefined4 in_stack_fffffea0;
	undefined4 in_stack_fffffea4;
	undefined4 in_stack_fffffea8;
	undefined4 in_stack_fffffeac;
	undefined4 in_stack_fffffeb0;
	undefined4 in_stack_fffffeb4;
	int local_148;
	undefined auStack324[256];
	undefined auStack68[24];
	undefined4 local_2c;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	uVar3 = _DAT_100f36e4;
	pcVar2 = _DAT_100f36e0;
	uVar1 = _DAT_100f36a8;
	uVar4 = ZEXT48(register0x0000000c);
	uVar5 = ZEXT48(&toc);
	local_2c = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar17 = 0;
	pcVar20 = (char *)0x100f4374;
	uVar18 = 0;
	puVar19 = _DAT_100f36dc;
	do {
		lVar16 = uVar5 - 0x4c60;
		while (pcVar15 = pcVar2, *(char *)lVar16 != '\0') {
			while (*pcVar15 != '\0') {
				sprintf((int)auStack68, uVar3, (int)*pcVar20, (int)*(char *)lVar16, (int)*pcVar15,
				    (int)in_r8, in_r9, in_r10, in_stack_fffffe88, in_stack_fffffe8f, in_stack_fffffe9c,
				    in_stack_fffffea0, in_stack_fffffea4, in_stack_fffffea8, in_stack_fffffeac,
				    in_stack_fffffeb0, in_stack_fffffeb4);
				lVar11 = uVar4 - 0x44;
				lVar13 = lVar11;
				in_r8 = uParm1;
				sprintf((int)auStack324, uVar1, *puVar19, (int)lVar11, (int)lVar11, (int)uParm1, in_r9, in_r10, in_stack_fffffe88, in_stack_fffffe8f, in_stack_fffffe9c, in_stack_fffffea0,
				    in_stack_fffffea4, in_stack_fffffea8, in_stack_fffffeac, in_stack_fffffeb0,
				    in_stack_fffffeb4);
				uVar9 = 1;
				uVar6 = WOpenFile(uVar4 - 0x144, uVar4 - 0x148, 1, lVar11, lVar13, (int)in_r8, in_r9, in_r10,
				    in_stack_fffffe88);
				uVar14 = (undefined)lVar13;
				uVar12 = (undefined)lVar11;
				uVar10 = (undefined)uVar9;
				uVar7 = uVar18;
				if ((int)uVar6 != 0) {
					uVar8 = 0;
					uVar7 = WGetFileSize(local_148, 0, uVar9, lVar11, lVar13, (int)in_r8, in_r9, in_r10,
					    in_stack_fffffe88);
					WCloseFile((char)local_148, uVar8, uVar10, uVar12, uVar14, (char)in_r8, (char)in_r9,
					    (char)in_r10, in_stack_fffffe88);
					if ((uVar7 & 0xffffffff) < (uVar18 & 0xffffffff)) {
						uVar7 = uVar18;
					}
				}
				uVar18 = uVar7;
				pcVar15 = pcVar15 + 1;
			}
			lVar16 = lVar16 + 1;
		}
		uVar17 = uVar17 + 1;
		puVar19 = puVar19 + 1;
		pcVar20 = pcVar20 + 1;
	} while (uVar17 < 3);
	return uVar18;
}

void InitPlrGFXMem(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	ulonglong uVar4;
	ulonglong uVar5;
	undefined *puVar6;
	int iVar7;
	ulonglong uVar8;
	ulonglong uVar9;
	ulonglong uVar10;
	ulonglong uVar11;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar2 = PTR_DAT_100f1828;
	ppuVar3 = &toc;
	uVar8 = (ulonglong)_DAT_100f36cc;
	uVar9 = (ulonglong)_DAT_100f36d0;
	uVar10 = (ulonglong)_DAT_100f36d4;
	uVar11 = (ulonglong)_DAT_100f36d8;
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar3 = &toc;
		app_fatal(_DAT_100f36a0, param_1, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffb8, in_stack_ffffffbc,
		    in_stack_ffffffc0, in_stack_ffffffc4, in_stack_ffffffc8, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4);
	}
	if (*(char *)(ppuVar3 + -0x1305) == '\0') {
		uVar4 = GetPlrGFXSize(uVar10);
		uVar5 = GetPlrGFXSize(uVar11);
		if ((uVar4 & 0xffffffff) < (uVar5 & 0xffffffff)) {
			puVar6 = (undefined *)GetPlrGFXSize(uVar11);
		} else {
			puVar6 = (undefined *)GetPlrGFXSize(uVar10);
		}
		ppuVar3[-0x1304] = puVar6;
		*(undefined *)(ppuVar3 + -0x1305) = 1;
	}
	iVar7 = DiabloAllocPtr(0, ZEXT48(ppuVar3[-0x1304]), 0x5047464e, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffc0);
	iVar1 = (int)param_1 * 0x55ec;
	*(int *)(puVar2 + iVar1 + 0x55c8) = iVar7;
	if (*(char *)(ppuVar3 + -0x1307) == '\0') {
		uVar10 = GetPlrGFXSize(uVar8);
		uVar11 = GetPlrGFXSize(uVar9);
		if ((uVar10 & 0xffffffff) < (uVar11 & 0xffffffff)) {
			puVar6 = (undefined *)GetPlrGFXSize(uVar9);
		} else {
			puVar6 = (undefined *)GetPlrGFXSize(uVar8);
		}
		ppuVar3[-0x1306] = puVar6;
		*(undefined *)(ppuVar3 + -0x1307) = 1;
	}
	iVar7 = DiabloAllocPtr(0, ZEXT48(ppuVar3[-0x1306]), 0x50474657, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffc0);
	*(int *)(puVar2 + iVar1 + 0x55cc) = iVar7;
	if (*(char *)(ppuVar3 + -0x1309) == '\0') {
		puVar6 = (undefined *)GetPlrGFXSize(ZEXT48(ppuVar3[-0x1643]));
		ppuVar3[-0x1308] = puVar6;
		*(undefined *)(ppuVar3 + -0x1309) = 1;
	}
	iVar7 = DiabloAllocPtr(0, ZEXT48(ppuVar3[-0x1308]), 0x50474641, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffc0);
	*(int *)(puVar2 + iVar1 + 0x55d0) = iVar7;
	if (*(char *)(ppuVar3 + -0x130b) == '\0') {
		puVar6 = (undefined *)GetPlrGFXSize(ZEXT48(ppuVar3[-0x1644]));
		ppuVar3[-0x130a] = puVar6;
		*(undefined *)(ppuVar3 + -0x130b) = 1;
	}
	iVar7 = DiabloAllocPtr(0, ZEXT48(ppuVar3[-0x130a]), 0x50474648, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffc0);
	*(int *)(puVar2 + iVar1 + 0x55e0) = iVar7;
	if (*(char *)(ppuVar3 + -0x130d) == '\0') {
		puVar6 = (undefined *)GetPlrGFXSize(ZEXT48(ppuVar3[-0x1645]));
		ppuVar3[-0x130c] = puVar6;
		*(undefined *)(ppuVar3 + -0x130d) = 1;
	}
	iVar7 = DiabloAllocPtr(0, ZEXT48(ppuVar3[-0x130c]), 0x5047464c, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffc0);
	*(int *)(puVar2 + iVar1 + 0x55d4) = iVar7;
	if (*(char *)(ppuVar3 + -0x130f) == '\0') {
		puVar6 = (undefined *)GetPlrGFXSize(ZEXT48(ppuVar3[-0x1646]));
		ppuVar3[-0x130e] = puVar6;
		*(undefined *)(ppuVar3 + -0x130f) = 1;
	}
	iVar7 = DiabloAllocPtr(0, ZEXT48(ppuVar3[-0x130e]), 0x50474646, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffc0);
	*(int *)(puVar2 + iVar1 + 0x55d8) = iVar7;
	if (*(char *)(ppuVar3 + -0x1311) == '\0') {
		puVar6 = (undefined *)GetPlrGFXSize(ZEXT48(ppuVar3[-0x1647]));
		ppuVar3[-0x1310] = puVar6;
		*(undefined *)(ppuVar3 + -0x1311) = 1;
	}
	iVar7 = DiabloAllocPtr(0, ZEXT48(ppuVar3[-0x1310]), 0x50474654, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffc0);
	*(int *)(puVar2 + iVar1 + 0x55dc) = iVar7;
	if (*(char *)(ppuVar3 + -0x1313) == '\0') {
		puVar6 = (undefined *)GetPlrGFXSize(ZEXT48(ppuVar3[-0x1642]));
		ppuVar3[-0x1312] = puVar6;
		*(undefined *)(ppuVar3 + -0x1313) = 1;
	}
	iVar7 = DiabloAllocPtr(0, ZEXT48(ppuVar3[-0x1312]), 0x50474644, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffc0);
	*(int *)(puVar2 + iVar1 + 0x55e4) = iVar7;
	if (*(char *)(ppuVar3 + -0x1315) == '\0') {
		puVar6 = (undefined *)GetPlrGFXSize(ZEXT48(ppuVar3[-0x1648]));
		ppuVar3[-0x1314] = puVar6;
		*(undefined *)(ppuVar3 + -0x1315) = 1;
	}
	iVar7 = DiabloAllocPtr(0, ZEXT48(ppuVar3[-0x1314]), 0x50474642, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffc0);
	*(int *)(puVar2 + iVar1 + 0x55e8) = iVar7;
	*(undefined4 *)(puVar2 + iVar1 + 0x214) = 0;
	return;
}

void FreePlayerGFX(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	puVar3 = PTR_DAT_100f1828;
	uVar6 = (undefined)param_5;
	uVar5 = (undefined)param_4;
	uVar4 = (undefined)param_3;
	uVar9 = (undefined)param_8;
	uVar8 = (undefined)param_7;
	uVar7 = (undefined)param_6;
	if (3 < (param_1 & 0xffffffff)) {
		param_2._7_1_ = (char)param_1;
		app_fatal(_DAT_100f369c, param_1, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8, in_stack_ffffffec,
		    in_stack_fffffff0, in_stack_fffffff4);
	}
	iVar2 = (int)param_1 * 0x55ec;
	iVar1 = *(int *)(puVar3 + iVar2 + 0x55c8);
	if (iVar1 != 0) {
		if (*(int *)(iVar1 + 0x8c) != 0) {
			FUN_100b9100(iVar1, (undefined)param_2, uVar4, uVar5, uVar6, uVar7, uVar8, uVar9, in_stack_ffffffc8);
		}
		mem_free_dbg((int **)(puVar3 + iVar2 + 0x55c8), (undefined)param_2, uVar4, uVar5, uVar6, uVar7, uVar8,
		    uVar9, in_stack_ffffffc8);
	}
	iVar1 = *(int *)(puVar3 + iVar2 + 0x55cc);
	if (iVar1 != 0) {
		if (*(int *)(iVar1 + 0x8c) != 0) {
			FUN_100b9100(iVar1, (undefined)param_2, uVar4, uVar5, uVar6, uVar7, uVar8, uVar9, in_stack_ffffffc8);
		}
		mem_free_dbg((int **)(puVar3 + iVar2 + 0x55cc), (undefined)param_2, uVar4, uVar5, uVar6, uVar7, uVar8,
		    uVar9, in_stack_ffffffc8);
	}
	iVar1 = *(int *)(puVar3 + iVar2 + 0x55d0);
	if (iVar1 != 0) {
		if (*(int *)(iVar1 + 0x8c) != 0) {
			FUN_100b9100(iVar1, (undefined)param_2, uVar4, uVar5, uVar6, uVar7, uVar8, uVar9, in_stack_ffffffc8);
		}
		mem_free_dbg((int **)(puVar3 + iVar2 + 0x55d0), (undefined)param_2, uVar4, uVar5, uVar6, uVar7, uVar8,
		    uVar9, in_stack_ffffffc8);
	}
	iVar1 = *(int *)(puVar3 + iVar2 + 0x55e0);
	if (iVar1 != 0) {
		if (*(int *)(iVar1 + 0x8c) != 0) {
			FUN_100b9100(iVar1, (undefined)param_2, uVar4, uVar5, uVar6, uVar7, uVar8, uVar9, in_stack_ffffffc8);
		}
		mem_free_dbg((int **)(puVar3 + iVar2 + 0x55e0), (undefined)param_2, uVar4, uVar5, uVar6, uVar7, uVar8,
		    uVar9, in_stack_ffffffc8);
	}
	iVar1 = *(int *)(puVar3 + iVar2 + 0x55d4);
	if (iVar1 != 0) {
		if (*(int *)(iVar1 + 0x8c) != 0) {
			FUN_100b9100(iVar1, (undefined)param_2, uVar4, uVar5, uVar6, uVar7, uVar8, uVar9, in_stack_ffffffc8);
		}
		mem_free_dbg((int **)(puVar3 + iVar2 + 0x55d4), (undefined)param_2, uVar4, uVar5, uVar6, uVar7, uVar8,
		    uVar9, in_stack_ffffffc8);
	}
	iVar1 = *(int *)(puVar3 + iVar2 + 0x55d8);
	if (iVar1 != 0) {
		if (*(int *)(iVar1 + 0x8c) != 0) {
			FUN_100b9100(iVar1, (undefined)param_2, uVar4, uVar5, uVar6, uVar7, uVar8, uVar9, in_stack_ffffffc8);
		}
		mem_free_dbg((int **)(puVar3 + iVar2 + 0x55d8), (undefined)param_2, uVar4, uVar5, uVar6, uVar7, uVar8,
		    uVar9, in_stack_ffffffc8);
	}
	iVar1 = *(int *)(puVar3 + iVar2 + 0x55dc);
	if (iVar1 != 0) {
		if (*(int *)(iVar1 + 0x8c) != 0) {
			FUN_100b9100(iVar1, (undefined)param_2, uVar4, uVar5, uVar6, uVar7, uVar8, uVar9, in_stack_ffffffc8);
		}
		mem_free_dbg((int **)(puVar3 + iVar2 + 0x55dc), (undefined)param_2, uVar4, uVar5, uVar6, uVar7, uVar8,
		    uVar9, in_stack_ffffffc8);
	}
	iVar1 = *(int *)(puVar3 + iVar2 + 0x55e4);
	if (iVar1 != 0) {
		if (*(int *)(iVar1 + 0x8c) != 0) {
			FUN_100b9100(iVar1, (undefined)param_2, uVar4, uVar5, uVar6, uVar7, uVar8, uVar9, in_stack_ffffffc8);
		}
		mem_free_dbg((int **)(puVar3 + iVar2 + 0x55e4), (undefined)param_2, uVar4, uVar5, uVar6, uVar7, uVar8,
		    uVar9, in_stack_ffffffc8);
	}
	iVar1 = *(int *)(puVar3 + iVar2 + 0x55e8);
	if (iVar1 != 0) {
		if (*(int *)(iVar1 + 0x8c) != 0) {
			FUN_100b9100(iVar1, (undefined)param_2, uVar4, uVar5, uVar6, uVar7, uVar8, uVar9, in_stack_ffffffc8);
		}
		mem_free_dbg((int **)(puVar3 + iVar2 + 0x55e8), (undefined)param_2, uVar4, uVar5, uVar6, uVar7, uVar8,
		    uVar9, in_stack_ffffffc8);
	}
	*(undefined4 *)(puVar3 + iVar2 + 0x214) = 0;
	return;
}

void NewPlrAnim(ulonglong param_1, undefined4 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar1 = PTR_DAT_100f1828;
	if (3 < (param_1 & 0xffffffff)) {
		app_fatal(_DAT_100f3698, param_1, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4);
	}
	puVar1 = puVar1 + (int)param_1 * 0x55ec;
	*(undefined4 *)(puVar1 + 0x7c) = param_2;
	*(int *)(puVar1 + 0x88) = (int)param_3;
	*(undefined4 *)(puVar1 + 0x8c) = 1;
	*(undefined4 *)(puVar1 + 0x84) = 0;
	*(int *)(puVar1 + 0x80) = (int)param_4;
	*(int *)(puVar1 + 0x90) = (int)param_5;
	*(int *)(puVar1 + 0x94) = (int)param_5 + -0x40 >> 1;
	return;
}

void ClearPlrPVars(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	puVar1 = PTR_DAT_100f1828;
	if (3 < (param_1 & 0xffffffff)) {
		app_fatal(_DAT_100f3694, param_1, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8, in_stack_ffffffec,
		    in_stack_fffffff0, in_stack_fffffff4);
	}
	puVar1 = puVar1 + (int)param_1 * 0x55ec;
	*(undefined4 *)(puVar1 + 0x1d0) = 0;
	*(undefined4 *)(puVar1 + 0x1d4) = 0;
	*(undefined4 *)(puVar1 + 0x1d8) = 0;
	*(undefined4 *)(puVar1 + 0x1dc) = 0;
	*(undefined4 *)(puVar1 + 0x1e0) = 0;
	*(undefined4 *)(puVar1 + 0x1e4) = 0;
	*(undefined4 *)(puVar1 + 0x1e8) = 0;
	*(undefined4 *)(puVar1 + 0x1ec) = 0;
	return;
}

void SetPlrAnims(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	char cVar1;
	char cVar2;
	char *pcVar3;
	int iVar4;
	int iVar5;
	undefined *puVar6;
	undefined *puVar7;
	uint uVar8;
	int iVar9;
	undefined *puVar10;
	undefined **ppuVar11;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	iVar4 = _DAT_100f368c;
	puVar10 = PTR_DAT_100f1828;
	ppuVar11 = &toc;
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar11 = &toc;
		app_fatal(_DAT_100f3690, param_1, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4);
	}
	iVar9 = (int)param_1 * 0x55ec;
	pcVar3 = ppuVar11[-0x1de5];
	puVar7 = puVar10 + iVar9;
	*(undefined4 *)(puVar7 + 0x25c) = 0x60;
	*(undefined4 *)(puVar7 + 0x2a4) = 0x60;
	*(undefined4 *)(puVar7 + 0x2ec) = 0x80;
	*(undefined4 *)(puVar7 + 0x404) = 0x60;
	*(undefined4 *)(puVar7 + 0x3b8) = 0x60;
	*(undefined4 *)(puVar7 + 0x44c) = 0x80;
	*(undefined4 *)(puVar7 + 0x494) = 0x60;
	cVar1 = *pcVar3;
	cVar2 = puVar7[0x15c];
	if (cVar1 == '\0') {
		iVar4 = iVar4 + (int)cVar2 * 0xb;
		*(int *)(puVar7 + 600) = (int)*(char *)(iVar4 + 7);
		*(int *)(puVar7 + 0x2a0) = (int)*(char *)(iVar4 + 8);
		*(int *)(puVar7 + 0x448) = (int)*(char *)(iVar4 + 4);
		*(int *)(puVar7 + 0x3b4) = (int)*(char *)(iVar4 + 5);
		*(int *)(puVar7 + 0x3bc) = (int)*(char *)(iVar4 + 10);
	} else {
		iVar5 = iVar4 + (int)cVar2 * 0xb;
		*(int *)(puVar7 + 600) = (int)*(char *)(iVar4 + (int)cVar2 * 0xb);
		*(int *)(puVar7 + 0x2a0) = (int)*(char *)(iVar5 + 2);
		*(int *)(puVar7 + 0x2e8) = (int)*(char *)(iVar5 + 1);
		*(int *)(puVar7 + 0x400) = (int)*(char *)(iVar5 + 6);
		*(int *)(puVar7 + 0x3b4) = (int)*(char *)(iVar5 + 5);
		*(int *)(puVar7 + 0x448) = (int)*(char *)(iVar5 + 4);
		*(int *)(puVar7 + 0x490) = (int)*(char *)(iVar5 + 3);
		*(int *)(puVar7 + 0x2f0) = (int)*(char *)(iVar5 + 9);
		*(int *)(puVar7 + 0x3bc) = (int)*(char *)(iVar5 + 10);
	}
	puVar6 = puVar10 + iVar9;
	uVar8 = *(uint *)(puVar6 + 0x78) & 0xf;
	if (cVar2 == '\0') {
		if (uVar8 == 4) {
			if (cVar1 != '\0') {
				*(undefined4 *)(puVar6 + 600) = 8;
			}
			*(undefined4 *)(puVar7 + 0x2ec) = 0x60;
			*(undefined4 *)(puVar10 + iVar9 + 0x2f0) = 0xb;
		} else {
			if (uVar8 == 5) {
				*(undefined4 *)(puVar6 + 0x2e8) = 0x14;
				*(undefined4 *)(puVar6 + 0x2f0) = 10;
			} else {
				if (uVar8 == 8) {
					*(undefined4 *)(puVar6 + 0x2e8) = 0x10;
					*(undefined4 *)(puVar6 + 0x2f0) = 0xb;
				}
			}
		}
	} else {
		if (cVar2 == '\x01') {
			if (uVar8 == 5) {
				*(undefined4 *)(puVar6 + 0x2e8) = 0x16;
				*(undefined4 *)(puVar6 + 0x2f0) = 0xd;
			} else {
				if (uVar8 == 4) {
					*(undefined4 *)(puVar6 + 0x2e8) = 0xc;
					*(undefined4 *)(puVar6 + 0x2f0) = 7;
				} else {
					if (uVar8 == 8) {
						*(undefined4 *)(puVar6 + 0x2e8) = 0x10;
						*(undefined4 *)(puVar6 + 0x2f0) = 0xb;
					}
				}
			}
		} else {
			if (cVar2 == '\x02') {
				*(undefined4 *)(puVar7 + 0x3b8) = 0x80;
				if (uVar8 == 0) {
					*(undefined4 *)(puVar6 + 0x2e8) = 0x14;
				} else {
					if (uVar8 == 1) {
						*(undefined4 *)(puVar6 + 0x2f0) = 9;
					} else {
						if (uVar8 == 4) {
							*(undefined4 *)(puVar6 + 0x2e8) = 0x14;
							*(undefined4 *)(puVar6 + 0x2f0) = 0x10;
						} else {
							if (uVar8 == 5) {
								*(undefined4 *)(puVar6 + 0x2e8) = 0x18;
								*(undefined4 *)(puVar6 + 0x2f0) = 0x10;
							}
						}
					}
				}
			}
		}
	}
	return;
}

void ClearPlrRVars(int param_1)

{
	*(undefined *)(param_1 + 0x5595) = 0;
	*(undefined *)(param_1 + 0x5596) = 0;
	*(undefined *)(param_1 + 0x5597) = 0;
	*(undefined2 *)(param_1 + 0x5598) = 0;
	*(undefined2 *)(param_1 + 0x559a) = 0;
	*(undefined2 *)(param_1 + 0x559c) = 0;
	*(undefined2 *)(param_1 + 0x559e) = 0;
	*(undefined2 *)(param_1 + 0x55a0) = 0;
	*(undefined2 *)(param_1 + 0x55a2) = 0;
	*(undefined2 *)(param_1 + 0x55a4) = 0;
	*(undefined2 *)(param_1 + 0x55a6) = 0;
	*(undefined4 *)(param_1 + 0x55ac) = 0;
	*(undefined4 *)(param_1 + 0x55b0) = 0;
	*(undefined4 *)(param_1 + 0x55b4) = 0;
	*(undefined4 *)(param_1 + 0x55b8) = 0;
	*(undefined4 *)(param_1 + 0x55bc) = 0;
	*(undefined4 *)(param_1 + 0x55c0) = 0;
	*(undefined4 *)(param_1 + 0x55c4) = 0;
	return;
}

void CreatePlayer(ulonglong param_1, char param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint uVar1;
	longlong lVar2;
	undefined *puVar3;
	undefined uVar6;
	undefined4 uVar4;
	char cVar7;
	int iVar5;
	int iVar9;
	longlong lVar8;
	ulonglong uVar10;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	int local_5c;
	undefined4 in_stack_ffffffa8;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;

	uVar10 = ZEXT48(PTR_DAT_100f1828);
	puVar3 = PTR_DAT_100f1828 + (int)(param_1 * 0x55ec);
	cVar7 = param_2;
	uVar6 = ClearPlrRVars((int)puVar3);
	uVar4 = GetTickCount(uVar6, cVar7, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
	    (char)param_7, (char)param_8, (char)in_stack_ffffff98, in_stack_ffffff9f,
	    local_5c);
	SetRndSeed(uVar4);
	if (3 < (param_1 & 0xffffffff)) {
		app_fatal(*(int *)(local_5c + -0x5948), param_1, param_3, param_4, param_5, param_6, param_7,
		    param_8, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffa8, in_stack_ffffffac,
		    in_stack_ffffffb0, in_stack_ffffffb4, in_stack_ffffffb8, in_stack_ffffffbc,
		    in_stack_ffffffc0, in_stack_ffffffc4);
	}
	puVar3[0x15c] = param_2;
	iVar9 = (int)param_2 * 4;
	cVar7 = (char)*(undefined4 *)(*(int *)(local_5c + -0x6f9c) + iVar9);
	if (cVar7 < '\0') {
		cVar7 = '\0';
	}
	iVar5 = *(int *)(local_5c + -0x6fa0);
	*(int *)(puVar3 + 0x160) = (int)cVar7;
	*(int *)(puVar3 + 0x164) = (int)cVar7;
	cVar7 = (char)*(undefined4 *)(iVar5 + iVar9);
	if (cVar7 < '\0') {
		cVar7 = '\0';
	}
	iVar5 = *(int *)(local_5c + -0x6fa4);
	*(int *)(puVar3 + 0x168) = (int)cVar7;
	*(int *)(puVar3 + 0x16c) = (int)cVar7;
	cVar7 = (char)*(undefined4 *)(iVar5 + iVar9);
	if (cVar7 < '\0') {
		cVar7 = '\0';
	}
	iVar5 = *(int *)(local_5c + -0x6fa8);
	*(int *)(puVar3 + 0x170) = (int)cVar7;
	*(int *)(puVar3 + 0x174) = (int)cVar7;
	cVar7 = (char)*(undefined4 *)(iVar5 + iVar9);
	if (cVar7 < '\0') {
		cVar7 = '\0';
	}
	*(int *)(puVar3 + 0x178) = (int)cVar7;
	*(int *)(puVar3 + 0x17c) = (int)cVar7;
	*(undefined4 *)(puVar3 + 0x180) = 0;
	puVar3[0x5590] = 0;
	puVar3[0x5591] = 0;
	puVar3[0x5592] = 0;
	*(undefined4 *)(puVar3 + 0x55a8) = 0;
	if (puVar3[0x15c] == '\x01') {
		iVar5 = (int)(char)puVar3[0x1b4] * (*(int *)(puVar3 + 0x160) + *(int *)(puVar3 + 0x170));
		uVar1 = iVar5 / 200 + (iVar5 >> 0x1f);
		*(uint *)(puVar3 + 0x184) = uVar1 + (uVar1 >> 0x1f);
	} else {
		uVar1 = (*(int *)(puVar3 + 0x160) * (int)(char)puVar3[0x1b4]) / 100 + (*(int *)(puVar3 + 0x160) * (int)(char)puVar3[0x1b4] >> 0x1f);
		*(uint *)(puVar3 + 0x184) = uVar1 + (uVar1 >> 0x1f);
	}
	*(undefined4 *)(puVar3 + 0x188) = *(undefined4 *)(*(int *)(local_5c + -0x594c) + iVar9);
	*(int *)(puVar3 + 0x194) = (*(int *)(puVar3 + 0x178) + 10) * 0x40;
	if (puVar3[0x15c] == '\0') {
		*(int *)(puVar3 + 0x194) = *(int *)(puVar3 + 0x194) << 1;
	}
	if (puVar3[0x15c] == '\x01') {
		*(int *)(puVar3 + 0x194) = *(int *)(puVar3 + 0x194) + (*(int *)(puVar3 + 0x194) >> 1);
	}
	*(undefined4 *)(puVar3 + 0x198) = *(undefined4 *)(puVar3 + 0x194);
	*(undefined4 *)(puVar3 + 0x18c) = *(undefined4 *)(puVar3 + 0x194);
	*(undefined4 *)(puVar3 + 400) = *(undefined4 *)(puVar3 + 0x194);
	*(int *)(puVar3 + 0x1a8) = *(int *)(puVar3 + 0x168) << 6;
	if (puVar3[0x15c] == '\x02') {
		*(int *)(puVar3 + 0x1a8) = *(int *)(puVar3 + 0x1a8) << 1;
	}
	if (puVar3[0x15c] == '\x01') {
		*(int *)(puVar3 + 0x1a8) = *(int *)(puVar3 + 0x1a8) + (*(int *)(puVar3 + 0x1a8) >> 1);
	}
	iVar9 = *(int *)(local_5c + -0x5950);
	*(undefined4 *)(puVar3 + 0x1ac) = *(undefined4 *)(puVar3 + 0x1a8);
	uVar1 = *(uint *)(puVar3 + 0x1a8);
	*(uint *)(puVar3 + 0x1a0) = uVar1;
	*(undefined4 *)(puVar3 + 0x1a4) = *(undefined4 *)(puVar3 + 0x1a8);
	puVar3[0x1b4] = 1;
	puVar3[0x1b5] = puVar3[0x1b4];
	*(undefined4 *)(puVar3 + 0x1b8) = 0;
	*(undefined4 *)(puVar3 + 0x1bc) = *(undefined4 *)(puVar3 + 0x1b8);
	*(undefined4 *)(puVar3 + 0x1c0) = *(undefined4 *)(iVar9 + 4);
	puVar3[0x1c4] = 0;
	puVar3[0x1c5] = 0;
	puVar3[0x1c6] = 0;
	puVar3[0x1c7] = 0;
	puVar3[0x13a] = 10;
	*(undefined4 *)(puVar3 + 0x1cc) = 0;
	if (param_2 == '\0') {
		*(undefined4 *)(puVar3 + 0x110) = 0x2000000;
		*(undefined4 *)(puVar3 + 0x10c) = 0;
	} else {
		if (param_2 == '\x01') {
			*(undefined4 *)(puVar3 + 0x110) = 0x8000000;
			*(undefined4 *)(puVar3 + 0x10c) = 0;
		} else {
			if (param_2 == '\x02') {
				*(undefined4 *)(puVar3 + 0x110) = 0x4000000;
				*(undefined4 *)(puVar3 + 0x10c) = 0;
			}
		}
	}
	if (param_2 == '\x02') {
		*(undefined4 *)(puVar3 + 0x108) = 1;
		*(undefined4 *)(puVar3 + 0x104) = 0;
	} else {
		*(undefined4 *)(puVar3 + 0x108) = 0;
		*(undefined4 *)(puVar3 + 0x104) = 0;
	}
	puVar3[0xc1] = 0;
	puVar3[0xc2] = 0;
	puVar3[0xc3] = 0;
	puVar3[0xc4] = 0;
	puVar3[0xc5] = 0;
	puVar3[0xc6] = 0;
	puVar3[199] = 0;
	puVar3[200] = 0;
	puVar3[0xc9] = 0;
	puVar3[0xca] = 0;
	puVar3[0xcb] = 0;
	puVar3[0xcc] = 0;
	puVar3[0xcd] = 0;
	puVar3[0xce] = 0;
	puVar3[0xcf] = 0;
	puVar3[0xd0] = 0;
	puVar3[0xd1] = 0;
	puVar3[0xd2] = 0;
	puVar3[0xd3] = 0;
	puVar3[0xd4] = 0;
	puVar3[0xd5] = 0;
	puVar3[0xd6] = 0;
	puVar3[0xd7] = 0;
	puVar3[0xd8] = 0;
	puVar3[0xd9] = 0;
	puVar3[0xda] = 0;
	puVar3[0xdb] = 0;
	puVar3[0xdc] = 0;
	puVar3[0xdd] = 0;
	puVar3[0xde] = 0;
	puVar3[0xdf] = 0;
	puVar3[0xe0] = 0;
	puVar3[0xe1] = 0;
	puVar3[0xe2] = 0;
	puVar3[0xe3] = 0;
	puVar3[0xe4] = 0;
	puVar3[0xe5] = 0;
	puVar3[0xe6] = 0;
	puVar3[0xe7] = 0;
	puVar3[0xe8] = 0;
	puVar3[0xe9] = 0;
	puVar3[0xea] = 0;
	puVar3[0xeb] = 0;
	puVar3[0xec] = 0;
	puVar3[0xed] = 0;
	puVar3[0xee] = 0;
	puVar3[0xef] = 0;
	puVar3[0xf0] = 0;
	puVar3[0xf1] = 0;
	puVar3[0xf2] = 0;
	puVar3[0xf3] = 0;
	puVar3[0xf4] = 0;
	puVar3[0xf5] = 0;
	puVar3[0xf6] = 0;
	puVar3[0xf7] = 0;
	puVar3[0xf8] = 0;
	puVar3[0xf9] = 0;
	puVar3[0xfa] = 0;
	puVar3[0xfb] = 0;
	puVar3[0xfc] = 0;
	puVar3[0xfd] = 0;
	puVar3[0xfe] = 0;
	puVar3[0xff] = 0;
	puVar3[0x100] = 0;
	puVar3[0x11c] = 0;
	if (puVar3[0x15c] == '\x02') {
		puVar3[0xc2] = 2;
	}
	*(undefined4 *)(puVar3 + 0x120) = 0xffffffff;
	*(undefined4 *)(puVar3 + 0x124) = 0xffffffff;
	*(undefined4 *)(puVar3 + 0x128) = 0xffffffff;
	if (param_2 == '\0') {
		*(undefined4 *)(puVar3 + 0x78) = 3;
	} else {
		if (param_2 == '\x01') {
			*(undefined4 *)(puVar3 + 0x78) = 4;
		} else {
			if (param_2 == '\x02') {
				*(undefined4 *)(puVar3 + 0x78) = 8;
			}
		}
	}
	puVar3[0x1f0] = 0;
	iVar9 = 0x10;
	lVar2 = 1;
	puVar3[0x1f1] = 0;
	puVar3[0x1f2] = 0;
	puVar3[499] = 0;
	puVar3[500] = 0;
	puVar3[0x1f5] = 0;
	puVar3[0x1f6] = 0;
	puVar3[0x1f7] = 0;
	puVar3[0x1f8] = 0;
	puVar3[0x1f9] = 0;
	puVar3[0x1fa] = 0;
	puVar3[0x1fb] = 0;
	puVar3[0x1fc] = 0;
	puVar3[0x1fd] = 0;
	puVar3[0x1fe] = 0;
	puVar3[0x1ff] = 0;
	do {
		iVar5 = iVar9 + 0x1f0;
		iVar9 = iVar9 + 1;
		puVar3[iVar5] = 0;
		lVar2 = lVar2 + -1;
	} while (lVar2 != 0);
	puVar3[0x201] = 0;
	lVar8 = 8;
	lVar2 = 2;
	puVar3[0x202] = 0;
	puVar3[0x203] = 0;
	puVar3[0x204] = 0;
	puVar3[0x205] = 0;
	puVar3[0x206] = 0;
	puVar3[0x207] = 0;
	puVar3[0x208] = 0;
	do {
		iVar9 = (int)lVar8;
		lVar8 = lVar8 + 1;
		puVar3[iVar9 + 0x201] = 0;
		lVar2 = lVar2 + -1;
	} while (lVar2 != 0);
	lVar2 = uVar10 + param_1 * 0x55ec;
	puVar3[0x13b] = 0;
	puVar3[0x5590] = 0;
	puVar3[0x5592] = 0;
	iVar9 = (int)lVar2;
	*(undefined *)(iVar9 + 0x5593) = 0;
	*(undefined *)(iVar9 + 0x5594) = 0;
	InitDungMsgs(param_1, lVar2, lVar8, 1, (ulonglong)uVar1, param_6, param_7, param_8, in_stack_ffffff98);
	FUN_1004c908(param_1);
	SetRndSeed(0);
	return;
}

longlong CalcStatDiff(int param_1)

{
	undefined *puVar1;
	undefined *puVar2;

	puVar2 = PTR_DAT_100f1828 + param_1 * 0x55ec;
	puVar1 = PTR_DAT_100f1870 + (int)(char)puVar2[0x15c] * 0x10;
	return ((ulonglong) * (uint *)(PTR_DAT_100f1870 + (int)(char)puVar2[0x15c] * 0x10) - (ulonglong) * (uint *)(puVar2 + 0x164)) + ((ulonglong) * (uint *)(puVar1 + 4) - (ulonglong) * (uint *)(puVar2 + 0x16c)) + ((ulonglong) * (uint *)(puVar1 + 8) - (ulonglong) * (uint *)(puVar2 + 0x174)) + ((ulonglong) * (uint *)(puVar1 + 0xc) - (ulonglong) * (uint *)(puVar2 + 0x17c));
}

void FUN_10092a38(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	char cVar1;
	int *piVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	int iVar7;
	int iVar8;
	undefined **ppuVar9;
	longlong lVar10;
	int iVar11;
	int iVar12;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar6 = PTR_DAT_100f1828;
	ppuVar9 = &toc;
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar9 = &toc;
		app_fatal(_DAT_100f367c, param_1, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4);
	}
	iVar8 = (int)param_1;
	iVar7 = iVar8 * 0x55ec;
	puVar3 = puVar6 + iVar7;
	puVar4 = puVar6 + iVar7;
	puVar3[0x1b4] = puVar3[0x1b4] + '\x01';
	puVar4[0x1b5] = puVar4[0x1b5] + '\x01';
	lVar10 = CalcStatDiff(iVar8);
	if ((int)lVar10 < 5) {
		lVar10 = CalcStatDiff(iVar8);
		*(int *)(puVar4 + 0x180) = (int)lVar10;
	} else {
		*(int *)(puVar4 + 0x180) = *(int *)(puVar4 + 0x180) + 5;
	}
	puVar4 = puVar6 + iVar7;
	*(undefined4 *)(puVar4 + 0x1c0) = *(undefined4 *)(ppuVar9[-0x1654] + (int)(char)puVar3[0x1b4] * 4);
	if (puVar4[0x15c] == '\x02') {
		iVar12 = 0x40;
	} else {
		iVar12 = 0x80;
	}
	cVar1 = *ppuVar9[-0x1dfc];
	if (cVar1 == '\x01') {
		iVar12 = iVar12 + 1;
	}
	puVar3 = puVar6 + iVar7;
	puVar5 = puVar6 + iVar7;
	piVar2 = (int *)ppuVar9[-0x1deb];
	*(int *)(puVar3 + 0x198) = *(int *)(puVar3 + 0x198) + iVar12;
	*(undefined4 *)(puVar5 + 0x194) = *(undefined4 *)(puVar3 + 0x198);
	*(int *)(puVar5 + 400) = *(int *)(puVar5 + 400) + iVar12;
	*(undefined4 *)(puVar5 + 0x18c) = *(undefined4 *)(puVar5 + 400);
	iVar12 = *piVar2;
	if (iVar8 == iVar12) {
		*(undefined4 *)ppuVar9[-0x1dbc] = 1;
	}
	if (puVar4[0x15c] == '\0') {
		iVar11 = 0x40;
	} else {
		iVar11 = 0x80;
	}
	if (cVar1 == '\x01') {
		iVar11 = iVar11 + 1;
	}
	puVar3 = puVar6 + iVar7;
	puVar4 = puVar6 + iVar7;
	puVar6 = puVar6 + iVar7;
	*(int *)(puVar3 + 0x1ac) = *(int *)(puVar3 + 0x1ac) + iVar11;
	*(int *)(puVar4 + 0x1a4) = *(int *)(puVar4 + 0x1a4) + iVar11;
	if ((*(uint *)(puVar6 + 0x5568) & 0x8000000) == 0) {
		*(int *)(puVar6 + 0x1a8) = *(int *)(puVar3 + 0x1ac);
		*(int *)(puVar6 + 0x1a0) = *(int *)(puVar4 + 0x1a4);
	}
	if (iVar8 == iVar12) {
		*(undefined4 *)ppuVar9[-0x1dbd] = 1;
	}
	return;
}

void FUN_10092bd8(ulonglong param_1, uint param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, int param_7, int param_8, undefined4 param_9)

{
	char cVar1;
	uint uVar2;
	uint *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	longlong lVar6;
	ulonglong uVar7;
	undefined **ppuVar8;
	longlong lVar9;
	longlong lVar10;
	char *pcVar11;
	undefined8 uVar12;
	ulonglong uVar13;
	int iVar14;
	longlong lVar15;
	undefined4 uVar16;
	longlong lVar17;
	undefined4 uVar18;
	longlong lVar19;
	int *piVar20;
	int iVar21;
	ulonglong uVar22;
	int iVar23;
	double dVar24;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;
	undefined4 in_stack_ffffff98;
	undefined4 in_stack_ffffff9c;
	undefined4 in_stack_ffffffa0;
	undefined4 in_stack_ffffffa4;
	undefined4 in_stack_ffffffa8;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;

	piVar20 = _DAT_100f3680;
	iVar23 = _DAT_100f3678;
	puVar5 = PTR_DAT_100f1828;
	puVar4 = PTR_DAT_100f1824;
	lVar17 = (longlong)param_8;
	lVar15 = (longlong)param_7;
	ppuVar8 = &toc;
	uVar22 = ZEXT48(PTR_DAT_100f1828);
	uVar2 = *(uint *)PTR_DAT_100f1824;
	if ((uint)param_1 == uVar2) {
		uVar12 = param_3;
		if (3 < uVar2) {
			uVar12 = param_3;
			ppuVar8 = &toc;
			app_fatal(_DAT_100f3678, (ulonglong)uVar2, param_3, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff98, in_stack_ffffff9c,
			    in_stack_ffffffa0, in_stack_ffffffa4, in_stack_ffffffa8, in_stack_ffffffac,
			    in_stack_ffffffb0, in_stack_ffffffb4);
		}
		if (3 < (param_1 & 0xffffffff)) {
			app_fatal(iVar23, param_1, uVar12, param_4, param_5, param_6, (int)lVar15, (int)lVar17,
			    in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff98, in_stack_ffffff9c,
			    in_stack_ffffffa0, in_stack_ffffffa4, in_stack_ffffffa8, in_stack_ffffffac,
			    in_stack_ffffffb0, in_stack_ffffffb4);
		}
		uVar18 = (undefined4)lVar17;
		uVar16 = (undefined4)lVar15;
		if (0 < *(int *)(puVar5 + *(int *)puVar4 * 0x55ec + 0x194)) {
			lVar9 = param_1 * 0x55ec;
			lVar19 = uVar22 + 0x1b4;
			dVar24 = *(double *)(ppuVar8 + -0x1302);
			lVar10 = lVar19 + lVar9;
			pcVar11 = (char *)lVar10;
			cVar1 = *pcVar11;
			iVar23 = (int)(((double)CONCAT44(0x43300000, (uint)param_3 ^ 0x80000000) - dVar24) * (*(double *)(ppuVar8 + -0x1300) * (((double)CONCAT44(0x43300000, param_2 ^ 0x80000000) - dVar24) - ((double)CONCAT44(0x43300000, (int)cVar1 ^ 0x80000000) - dVar24)) + *(double *)(ppuVar8 + -0x12fe)));
			uVar13 = (longlong)iVar23 & 0xffffffff;
			if (iVar23 < 0) {
				uVar13 = 0;
			}
			if (1 < (byte)*ppuVar8[-0x1dfc]) {
				if (cVar1 < '\0') {
					lVar6 = 0;
				} else {
					lVar6 = (longlong)cVar1;
				}
				if (0x31 < (int)lVar6) {
					lVar6 = 0x32;
				}
				uVar2 = piVar20[(int)lVar6] / 0x14 + (piVar20[(int)lVar6] >> 0x1f);
				uVar7 = (ulonglong)uVar2 + (ulonglong)(uVar2 >> 0x1f);
				if ((int)uVar13 < (int)uVar7) {
					uVar7 = uVar13;
				}
				uVar13 = lVar6 * 200;
				if ((int)uVar7 < (int)uVar13) {
					uVar13 = uVar7;
				}
			}
			lVar6 = uVar22 + lVar9;
			iVar23 = (int)lVar6;
			uVar2 = *(uint *)(iVar23 + 0x1b8);
			uVar22 = (ulonglong)uVar2;
			iVar14 = (int)uVar13;
			*(int *)(iVar23 + 0x1b8) = uVar2 + iVar14;
			lVar6 = lVar6 + 0x1b8;
			puVar3 = (uint *)lVar6;
			if (2000000000 < *puVar3) {
				*puVar3 = 2000000000;
			}
			uVar7 = (ulonglong)*puVar3;
			if ((int)*puVar3 < piVar20[0x31]) {
				iVar23 = 0;
				while (*piVar20 <= *(int *)(puVar5 + (int)lVar9 + 0x1b8)) {
					piVar20 = piVar20 + 1;
					iVar23 = iVar23 + 1;
				}
				cVar1 = *pcVar11;
				if (iVar23 != (int)cVar1) {
					iVar21 = 0;
					while (true) {
						uVar18 = (undefined4)lVar17;
						uVar16 = (undefined4)lVar15;
						iVar14 = (int)uVar13;
						if (iVar23 - (int)cVar1 <= iVar21)
							break;
						FUN_10092a38(param_1, lVar10, uVar7, uVar22, lVar6, iVar14, uVar16, uVar18, in_stack_ffffff88);
						iVar21 = iVar21 + 1;
					}
				}
				NetSendCmdParam1(0, 0x33, (longlong) * (char *)((int)lVar19 + *(int *)puVar4 * 0x55ec), uVar22, lVar6,
				    iVar14, uVar16, uVar18, in_stack_ffffff88);
			} else {
				*pcVar11 = '2';
			}
		}
	}
	return;
}

void FUN_10092e14(uint uParm1, int iParm2, char param_3)

{
	bool bVar1;
	uint uVar2;
	ulonglong uVar3;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffc8;

	uVar3 = SEXT18(param_3);
	bVar1 = (uVar3 & 1) != 0;
	uVar2 = (uint)bVar1;
	if ((uVar3 & 2) != 0) {
		uVar2 = (uint)bVar1 + 1;
	}
	if ((uVar3 & 4) != 0) {
		uVar2 = uVar2 + 1;
	}
	if ((uVar3 & 8) != 0) {
		uVar2 = uVar2 + 1;
	}
	if (uVar2 != 0) {
		if ((uVar3 & (ulonglong)(uint)(1 << (ulonglong) * (uint *)PTR_DAT_100f1824)) != 0) {
			FUN_10092bd8((ulonglong) * (uint *)PTR_DAT_100f1824, uParm1, (longlong)(iParm2 / (int)uVar2), 1,
			    uVar3, uParm1, in_r9, in_r10, in_stack_ffffffc8);
		}
	}
	return;
}

void InitPlayer(ulonglong param_1, int param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	byte bVar1;
	char cVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	int iVar6;
	int iVar7;
	undefined *puVar8;
	undefined *puVar9;
	uint *puVar10;
	undefined *puVar11;
	undefined8 uVar12;
	int iVar13;
	undefined4 *puVar16;
	longlong lVar14;
	ulonglong uVar15;
	undefined4 uVar17;
	ulonglong uVar18;
	undefined uVar19;
	undefined uVar20;
	longlong lVar21;
	longlong lVar22;
	longlong lVar23;
	uint uVar24;
	int *piVar25;
	uint *puVar26;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined4 in_stack_ffffffa8;
	undefined uVar27;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;

	iVar6 = _DAT_100f3674;
	puVar11 = PTR_DAT_100f204c;
	puVar10 = _DAT_100f2048;
	puVar5 = PTR_DAT_100f1828;
	puVar9 = PTR_DAT_100f1824;
	puVar8 = PTR_DAT_100f1818;
	puVar4 = PTR_DAT_100f17ec;
	lVar23 = (longlong)param_8;
	lVar22 = (longlong)param_7;
	lVar21 = (longlong)param_6;
	uVar15 = ZEXT48(&toc);
	if (3 < (param_1 & 0xffffffff)) {
		app_fatal(_DAT_100f3674, param_1, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffa8, in_stack_ffffffac,
		    in_stack_ffffffb0, in_stack_ffffffb4, in_stack_ffffffb8, in_stack_ffffffbc,
		    in_stack_ffffffc0, in_stack_ffffffc4);
	}
	uVar27 = (undefined)in_stack_ffffffa8;
	if (3 < *(uint *)puVar9) {
		app_fatal(iVar6, param_1, param_3, param_4, param_5, (int)lVar21, (int)lVar22, (int)lVar23,
		    in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffa8, in_stack_ffffffac,
		    in_stack_ffffffb0, in_stack_ffffffb4, in_stack_ffffffb8, in_stack_ffffffbc,
		    in_stack_ffffffc0, in_stack_ffffffc4);
	}
	iVar7 = (int)param_1;
	iVar6 = iVar7 * 0x55ec;
	puVar16 = (undefined4 *)(puVar5 + iVar6);
	ClearPlrRVars((int)puVar16);
	iVar13 = (int)uVar15;
	if (param_2 != 0) {
		*(undefined *)(puVar16 + 0x2e) = 4;
		puVar16[0x2d] = 0xffffffff;
		puVar16[0x2f] = 0xffffffff;
		puVar16[0x29] = puVar16[0x2d];
		*(undefined *)(puVar16 + 0x2a) = *(undefined *)(puVar16 + 0x2e);
		if ((puVar16[0x1e] & 0xf) == 4) {
			puVar16[0x4d] = 1;
		} else {
			puVar16[0x4d] = 0;
		}
		puVar5[iVar6 + 0x5594] = 0;
	}
	bVar1 = *puVar4;
	uVar18 = (ulonglong)bVar1;
	if ((uint)bVar1 != *(uint *)(puVar5 + iVar6 + 0x34)) {
		if (**(int **)(iVar13 + -0x7274) == 0)
			goto LAB_100931d0;
	}
	SetPlrAnims(param_1, uVar18, param_3, param_4, param_5, (int)lVar21, (int)lVar22, (int)lVar23,
	    in_stack_ffffff98);
	puVar3 = puVar5 + iVar6;
	*(undefined4 *)(puVar3 + 0x60) = 0;
	*(undefined4 *)(puVar3 + 100) = 0;
	*(undefined4 *)(puVar3 + 0x68) = 0;
	*(undefined4 *)(puVar3 + 0x6c) = 0;
	ClearPlrPVars(param_1, uVar18, param_3, param_4, param_5, (int)lVar21, (int)lVar22, (int)lVar23,
	    in_stack_ffffff98);
	if (*(int *)(puVar3 + 0x194) >> 6 == 0) {
		*puVar16 = 8;
		uVar18 = (ulonglong) * (uint *)(puVar3 + 0x44c);
		NewPlrAnim(param_1, puVar16 + 0x102, (ulonglong) * (uint *)(puVar3 + 0x448), 1, uVar18, (int)lVar21,
		    (int)lVar22, (int)lVar23, in_stack_ffffff98);
		*(int *)(puVar3 + 0x8c) = *(int *)(puVar3 + 0x88) + -1;
		*(int *)(puVar3 + 0x1ec) = *(int *)(puVar3 + 0x88) << 1;
	} else {
		*puVar16 = 0;
		uVar19 = (undefined) * (uint *)(puVar3 + 600);
		uVar18 = (ulonglong) * (uint *)(puVar3 + 0x25c);
		uVar20 = 3;
		NewPlrAnim(param_1, puVar16 + 0x86, (ulonglong) * (uint *)(puVar3 + 600), 3, uVar18, (int)lVar21,
		    (int)lVar22, (int)lVar23, in_stack_ffffff98);
		lVar14 = random(2, (ulonglong) * (uint *)(puVar3 + 600) - 1, uVar19, uVar20, (char)uVar18,
		    (char)lVar21, (char)lVar22, (char)lVar23, in_stack_ffffff98, in_stack_ffffff9f, uVar27);
		*(int *)(puVar3 + 0x8c) = (int)lVar14 + 1;
		lVar14 = random(2, 3, uVar19, uVar20, (char)uVar18, (char)lVar21, (char)lVar22, (char)lVar23,
		    in_stack_ffffff98, in_stack_ffffff9f, uVar27);
		*(int *)(puVar3 + 0x84) = (int)lVar14;
	}
	iVar13 = (int)uVar15;
	puVar3 = puVar5 + iVar6;
	*(undefined4 *)(puVar3 + 0x70) = 0;
	*(undefined4 *)(puVar3 + 0x98) = 0;
	if (iVar7 == *(int *)puVar9) {
		if ((param_2 == 0) || (*puVar4 != '\0')) {
			puVar16 = *(undefined4 **)(iVar13 + -0x77b4);
			*(undefined4 *)(puVar5 + iVar6 + 0x38) = **(undefined4 **)(iVar13 + -0x77b0);
			*(undefined4 *)(puVar5 + iVar6 + 0x3c) = *puVar16;
		}
		puVar4 = puVar5 + iVar6;
		*(undefined4 *)(puVar4 + 0x48) = *(undefined4 *)(puVar4 + 0x38);
		*(undefined4 *)(puVar4 + 0x4c) = *(undefined4 *)(puVar4 + 0x3c);
	} else {
		uVar24 = 0;
		*(undefined4 *)(puVar3 + 0x48) = *(undefined4 *)(puVar3 + 0x38);
		*(undefined4 *)(puVar3 + 0x4c) = *(undefined4 *)(puVar3 + 0x3c);
		puVar26 = puVar10;
		piVar25 = (int *)puVar11;
		do {
			uVar12 = PosOkPlayer(iVar7, (ulonglong)(uint)puVar16[0xe] + (ulonglong)*puVar26,
			    puVar16[0xf] + *piVar25, (char)puVar16[0xe], (char)uVar18, (char)lVar21,
			    (char)lVar22, (char)lVar23, in_stack_ffffff98);
			iVar13 = (int)uVar15;
			if ((int)uVar12 != 0)
				break;
			uVar24 = uVar24 + 1;
			puVar26 = puVar26 + 1;
			piVar25 = piVar25 + 1;
		} while (uVar24 < 8);
		*(uint *)(puVar3 + 0x38) = *(int *)(puVar3 + 0x38) + puVar10[uVar24];
		*(int *)(puVar3 + 0x3c) = *(int *)(puVar3 + 0x3c) + *(int *)(puVar11 + uVar24 * 4);
	}
	puVar16 = (undefined4 *)(puVar5 + iVar6 + 0x38);
	puVar4 = puVar5 + iVar6;
	*(undefined4 *)(puVar4 + 0x40) = *puVar16;
	*(undefined4 *)(puVar4 + 0x44) = *(undefined4 *)(puVar4 + 0x3c);
	puVar4[4] = 0xff;
	*(undefined4 *)(puVar4 + 0x20) = 0xffffffff;
	if (iVar7 == *(int *)puVar9) {
		uVar15 = AddLight(*puVar16, *(undefined4 *)(puVar4 + 0x3c), (int)(char)puVar4[0x13a]);
		*(int *)(puVar4 + 0x9c) = (int)uVar15;
	} else {
		*(undefined4 *)(puVar4 + 0x9c) = 0xffffffff;
	}
	uVar12 = countLeadingZeros(*(int *)puVar9 - iVar7);
	uVar17 = FUN_100bb33c(*puVar16, *(undefined4 *)(puVar4 + 0x3c), (int)(char)(puVar5 + iVar6)[0x13a],
	    (uint)uVar12 >> 5 & 0xff);
	*(undefined4 *)(puVar5 + iVar6 + 0xa0) = uVar17;
LAB_100931d0:
	puVar4 = puVar5 + iVar6;
	cVar2 = puVar4[0x15c];
	if (cVar2 == '\0') {
		*(undefined4 *)(puVar4 + 0x110) = 0x2000000;
		*(undefined4 *)(puVar4 + 0x10c) = 0;
	} else {
		if (cVar2 == '\x01') {
			*(undefined4 *)(puVar4 + 0x110) = 0x8000000;
			*(undefined4 *)(puVar4 + 0x10c) = 0;
		} else {
			if (cVar2 == '\x02') {
				*(undefined4 *)(puVar4 + 0x110) = 0x4000000;
				*(undefined4 *)(puVar4 + 0x10c) = 0;
			}
		}
	}
	puVar5 = puVar5 + iVar6;
	*(undefined4 *)(puVar5 + 0x1c0) = *(undefined4 *)(*(int *)(iVar13 + -0x5950) + (int)(char)puVar5[0x1b4] * 4);
	puVar5[0x139] = 0;
	if (iVar7 == *(int *)puVar9) {
		puVar16 = *(undefined4 **)(iVar13 + -0x75cc);
		**(undefined4 **)(iVar13 + -0x6f8c) = 0;
		*puVar16 = 0;
		*(undefined4 *)puVar8 = 0;
		*(undefined4 *)(puVar8 + 4) = 0;
		*(undefined4 *)(puVar8 + 0x10) = 0;
	}
	return;
}

void InitMultiView(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined4 *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	puVar4 = PTR_DAT_100f1828;
	puVar3 = PTR_DAT_100f1824;
	ppuVar5 = &toc;
	if (3 < *(uint *)PTR_DAT_100f1824) {
		ppuVar5 = &toc;
		app_fatal(_DAT_100f3674, (ulonglong) * (uint *)PTR_DAT_100f1824, param_3, param_4, param_5, param_6,
		    param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8,
		    in_stack_ffffffec, in_stack_fffffff0, in_stack_fffffff4);
	}
	iVar1 = *(int *)puVar3;
	puVar2 = (undefined4 *)ppuVar5[-0x1ded];
	*(undefined4 *)ppuVar5[-0x1dec] = *(undefined4 *)(puVar4 + iVar1 * 0x55ec + 0x38);
	*puVar2 = *(undefined4 *)(puVar4 + iVar1 * 0x55ec + 0x3c);
	return;
}

void FUN_100932f8(ulonglong param_1, int param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	uint uVar2;
	uint *puVar3;
	int *piVar4;
	int iVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined **ppuVar9;
	longlong lVar10;
	int iVar11;
	int iVar12;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;
	undefined4 in_stack_ffffff98;
	undefined4 in_stack_ffffff9c;
	undefined4 in_stack_ffffffa0;
	undefined4 in_stack_ffffffa4;
	undefined4 in_stack_ffffffa8;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;

	puVar8 = PTR_DAT_100f1a4c;
	puVar7 = PTR_DAT_100f1a38;
	puVar6 = PTR_DAT_100f1828;
	ppuVar9 = &toc;
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar9 = &toc;
		app_fatal(_DAT_100f3674, param_1, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff98, in_stack_ffffff9c,
		    in_stack_ffffffa0, in_stack_ffffffa4, in_stack_ffffffa8, in_stack_ffffffac,
		    in_stack_ffffffb0, in_stack_ffffffb4);
	}
	iVar5 = (int)param_1 * 0x55ec;
	puVar3 = (uint *)(puVar6 + iVar5 + 0x38);
	uVar2 = *puVar3;
	piVar4 = (int *)(puVar6 + iVar5 + 0x3c);
	iVar12 = *piVar4 + 1;
	lVar10 = IsometricCoord((ulonglong)uVar2 - 1, iVar12);
	iVar1 = (int)((ulonglong)uVar2 - 1);
	iVar11 = *(int *)puVar8 + (int)lVar10 * 0x20;
	if (((ulonglong)(ushort)(*(ushort *)(iVar11 + 4) | *(ushort *)(iVar11 + 6) | *(ushort *)(iVar11 + 8) | *(ushort *)(iVar11 + 10) | *(ushort *)(iVar11 + 0xc) | *(ushort *)(iVar11 + 0xe) | *(ushort *)(iVar11 + 0x10) | *(ushort *)(iVar11 + 0x12)) | (longlong) * (char *)(*(int *)puVar7 + iVar1 * 0x70 + iVar12) | (ulonglong)(byte)ppuVar9[-0x1c8b][(int)*(short *)(*(int *)ppuVar9[-0x1d5f] + iVar1 * 0xe0 + iVar12 * 2)])
	    == 0) {
		*(undefined4 *)(puVar6 + iVar5 + 0x98) = 0;
	} else {
		*(undefined4 *)(puVar6 + iVar5 + 0x98) = 1;
	}
	if (param_2 == 1) {
		if (*(int *)(puVar6 + iVar5 + 0x98) == 1) {
			iVar1 = *piVar4;
			uVar2 = *puVar3;
			lVar10 = IsometricCoord((ulonglong)uVar2, iVar1 + 2);
			iVar11 = *(int *)puVar8 + (int)lVar10 * 0x20;
			if (((ulonglong)(ushort)(*(ushort *)(iVar11 + 4) | *(ushort *)(iVar11 + 6) | *(ushort *)(iVar11 + 8) | *(ushort *)(iVar11 + 10) | *(ushort *)(iVar11 + 0xc) | *(ushort *)(iVar11 + 0xe)
			         | *(ushort *)(iVar11 + 0x10) | *(ushort *)(iVar11 + 0x12))
			        | (longlong) * (char *)(*(int *)puVar7 + uVar2 * 0x70 + iVar1 + 2))
			    == 0) {
				uVar2 = *puVar3;
				iVar1 = *piVar4;
				lVar10 = IsometricCoord((ulonglong)uVar2 - 2, iVar1 + 1);
				iVar11 = *(int *)puVar8 + (int)lVar10 * 0x20;
				if (((ulonglong)(ushort)(*(ushort *)(iVar11 + 4) | *(ushort *)(iVar11 + 6) | *(ushort *)(iVar11 + 8) | *(ushort *)(iVar11 + 10) | *(ushort *)(iVar11 + 0xc) | *(ushort *)(iVar11 + 0xe) | *(ushort *)(iVar11 + 0x10) | *(ushort *)(iVar11 + 0x12)) | (longlong) * (char *)(*(int *)puVar7 + (int)((ulonglong)uVar2 - 2) * 0x70 + iVar1 + 1)) != 0) {
					*(int *)(puVar6 + iVar5 + 0x98) = 2;
				}
			}
		}
	}
	return;
}

ulonglong FUN_1009352c(int param_1, int param_2)

{
	if ((param_1 < 0) || (param_2 < 0)) {
		return 0;
	}
	if ((param_1 < 0x70) && (param_2 < 0x70)) {
		return (ulonglong)
		    * (byte *)(_DAT_100f1da4 + (int)*(short *)(*(int *)PTR_DAT_100f1a54 + param_1 * 0xe0 + param_2 * 2));
	}
	return 0;
}

// WARNING: Removing unreachable block (ram,0x100935e4)

ulonglong FUN_10093580(ulonglong param_1, int param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	undefined8 uVar5;
	longlong lVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	uint uVar10;
	ulonglong uVar11;
	int iVar12;
	longlong lVar13;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar3 = PTR_DAT_100f1834;
	uVar9 = (undefined)param_8;
	uVar8 = (undefined)param_7;
	uVar7 = (undefined)param_6;
	ppuVar4 = &toc;
	uVar11 = ZEXT48(PTR_DAT_100f1828);
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar4 = &toc;
		app_fatal(_DAT_100f3670, param_1, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4);
	}
	lVar6 = uVar11 + param_1 * 0x55ec;
	iVar1 = param_2 * 4;
	iVar2 = (int)lVar6;
	lVar13 = (ulonglong) * (uint *)(iVar2 + 0x38) + (ulonglong) * (uint *)(ppuVar4[-0x1c7b] + iVar1);
	iVar12 = *(int *)(iVar2 + 0x3c) + *(int *)(ppuVar4[-0x1c7c] + iVar1);
	iVar2 = (int)lVar13;
	if (*(short *)(*(int *)ppuVar4[-0x1d5f] + iVar2 * 0xe0 + iVar12 * 2) == 0) {
		uVar11 = 0;
	} else {
		uVar5 = PosOkPlayer((int)param_1, lVar13, iVar12, (char)lVar6, (char)iVar1, uVar7, uVar8, uVar9,
		    in_stack_ffffffb8);
		if ((int)uVar5 == 0) {
			uVar11 = 0;
		} else {
			uVar11 = 1;
			if (param_2 == 6) {
				uVar10 = 0;
				uVar11 = FUN_1009352c(iVar2, iVar12 + 1);
				if (((int)uVar11 == 0) && ((*(byte *)(*(int *)puVar3 + iVar2 * 0x70 + iVar12 + 1) & 0x20) == 0)) {
					uVar10 = 1;
				}
				uVar11 = (ulonglong)uVar10;
			}
			if (((int)uVar11 != 0) && (param_2 == 2)) {
				uVar10 = 0;
				uVar11 = FUN_1009352c(iVar2 + 1, iVar12);
				if (((int)uVar11 == 0) && ((*(byte *)(*(int *)puVar3 + iVar2 * 0x70 + iVar12 + 0x70) & 0x20) == 0)) {
					uVar10 = 1;
				}
				uVar11 = (ulonglong)uVar10;
			}
		}
	}
	return uVar11;
}

void FUN_100936dc(int param_1, int param_2)

{
	int iVar1;
	int iVar2;
	int iVar3;
	int iVar4;
	char *pcVar5;
	int iVar6;

	iVar2 = _DAT_100f1d68;
	iVar6 = param_2 + -1;
	iVar3 = (param_2 + 2) - iVar6;
	iVar1 = *(int *)PTR_DAT_100f1a48;
	if (param_2 + 1 < iVar6) {
		return;
	}
	do {
		iVar4 = (param_1 + -1) * 0x70 + iVar6;
		iVar6 = iVar6 + 1;
		pcVar5 = (char *)(iVar1 + iVar4);
		*(undefined *)(iVar2 + (int)*pcVar5) = 0;
		*(undefined *)(iVar2 + (int)pcVar5[0x70]) = 0;
		*(undefined *)(iVar2 + (int)pcVar5[0xe0]) = 0;
		iVar3 = iVar3 + -1;
	} while (iVar3 != 0);
	return;
}

void FUN_10093748(int param_1, int param_2)

{
	int iVar1;
	int iVar2;
	int iVar3;
	short *psVar4;
	int iVar5;
	char *pcVar6;
	int iVar7;
	int iVar8;
	int iVar9;

	iVar2 = _DAT_100f1da4;
	iVar1 = _DAT_100f1d68;
	if ((byte)(*PTR_DAT_100f183c - 1) < 2) {
		iVar9 = param_2 + -1;
		iVar7 = *(int *)PTR_DAT_100f1a54 + iVar9 * 2;
		iVar8 = *(int *)PTR_DAT_100f1a48 + iVar9;
		while (iVar9 <= param_2 + 1) {
			iVar5 = param_1 + -1;
			psVar4 = (short *)(iVar7 + iVar5 * 0xe0);
			iVar3 = (param_1 + 2) - iVar5;
			pcVar6 = (char *)(iVar8 + iVar5 * 0x70);
			if (iVar5 <= param_1 + 1) {
				do {
					if ((*(char *)(iVar2 + (int)*psVar4) == '\0') && (*pcVar6 != '\0')) {
						*(undefined *)(iVar1 + (int)*pcVar6) = 1;
					}
					psVar4 = psVar4 + 0x70;
					pcVar6 = pcVar6 + 0x70;
					iVar3 = iVar3 + -1;
				} while (iVar3 != 0);
			}
			iVar7 = iVar7 + 2;
			iVar8 = iVar8 + 1;
			iVar9 = iVar9 + 1;
		}
	} else {
		*(undefined *)(_DAT_100f1d68 + 1) = 1;
	}
	return;
}

void SetPlayerOld(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	puVar1 = PTR_DAT_100f1828;
	if (3 < (param_1 & 0xffffffff)) {
		app_fatal(_DAT_100f366c, param_1, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8, in_stack_ffffffec,
		    in_stack_fffffff0, in_stack_fffffff4);
	}
	puVar1 = puVar1 + (int)param_1 * 0x55ec;
	*(undefined4 *)(puVar1 + 0x58) = *(undefined4 *)(puVar1 + 0x38);
	*(undefined4 *)(puVar1 + 0x5c) = *(undefined4 *)(puVar1 + 0x3c);
	return;
}

void FixPlayerLocation(ulonglong param_1, undefined4 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined4 *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	int iVar5;
	undefined *puVar6;
	undefined **ppuVar7;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar4 = PTR_DAT_100f1828;
	puVar6 = PTR_DAT_100f1818;
	ppuVar7 = &toc;
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar7 = &toc;
		app_fatal(_DAT_100f3668, param_1, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffb8, in_stack_ffffffbc,
		    in_stack_ffffffc0, in_stack_ffffffc4, in_stack_ffffffc8, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4);
	}
	iVar5 = (int)param_1 * 0x55ec;
	puVar3 = puVar4 + iVar5;
	puVar4 = puVar4 + iVar5;
	*(undefined4 *)(puVar4 + 0x40) = *(undefined4 *)(puVar3 + 0x38);
	*(undefined4 *)(puVar4 + 0x44) = *(undefined4 *)(puVar4 + 0x3c);
	*(undefined4 *)(puVar4 + 0x48) = *(undefined4 *)(puVar3 + 0x38);
	*(undefined4 *)(puVar4 + 0x4c) = *(undefined4 *)(puVar4 + 0x3c);
	*(undefined4 *)(puVar4 + 0x60) = 0;
	*(undefined4 *)(puVar4 + 100) = 0;
	FUN_100932f8(param_1, 0, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	*(undefined4 *)(puVar4 + 0x70) = param_2;
	if ((int)param_1 == *(int *)ppuVar7[-0x1deb]) {
		*(undefined4 *)puVar6 = 0;
		puVar1 = (undefined4 *)ppuVar7[-0x1dec];
		*(undefined4 *)(puVar6 + 4) = 0;
		puVar2 = (undefined4 *)ppuVar7[-0x1ded];
		*(undefined4 *)(puVar6 + 0x10) = 0;
		*puVar1 = *(undefined4 *)(puVar3 + 0x38);
		*puVar2 = *(undefined4 *)(puVar4 + 0x3c);
	}
	return;
}

void StartStand(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined4 *puVar2;
	int iVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	ulonglong uVar6;
	longlong lVar7;
	undefined8 uVar8;
	ulonglong uVar9;
	undefined4 uVar10;
	undefined4 uVar11;
	undefined4 uVar12;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar4 = PTR_DAT_100f1828;
	ppuVar5 = &toc;
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar5 = &toc;
		app_fatal(_DAT_100f3664, param_1, param_3, param_4, param_5, (int)param_6, (int)param_7,
		    (int)param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	uVar12 = (undefined4)param_8;
	uVar11 = (undefined4)param_7;
	uVar10 = (undefined4)param_6;
	iVar3 = (int)param_1 * 0x55ec;
	if ((((puVar4 + iVar3)[0x139] != '\0') && (*(int *)(puVar4 + iVar3 + 0x194) == 0)) && ((int)param_1 == *(int *)ppuVar5[-0x1deb])) {
		SyncPlrKill(param_1, 0xffffffff, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8);
		return;
	}
	if ((*(uint *)(puVar4 + iVar3 + 0x214) & 1) == 0) {
		LoadPlrGFX(param_1, 1);
	}
	puVar2 = (undefined4 *)(puVar4 + iVar3);
	uVar6 = (ulonglong)(uint)puVar2[0x96];
	uVar9 = (ulonglong)(uint)puVar2[0x97];
	uVar8 = 3;
	NewPlrAnim(param_1, puVar2 + (int)param_2 * 2 + 0x86, uVar6, 3, uVar9, uVar10, uVar11, uVar12,
	    in_stack_ffffffb8);
	*puVar2 = 0;
	FixPlayerLocation(param_1, (int)param_2, uVar6, uVar8, uVar9, uVar10, uVar11, uVar12, in_stack_ffffffb8);
	FixPlrWalkTags(param_1, param_2, uVar6, uVar8, uVar9, uVar10, uVar11, uVar12, in_stack_ffffffb8);
	lVar7 = (longlong)(char)param_1 + 1;
	uVar1 = *(uint *)ppuVar5[-0x1da0];
	*(undefined *)(uVar1 + puVar2[0xe] * 0x70 + puVar2[0xf]) = (char)lVar7;
	SetPlayerOld(param_1, (ulonglong)uVar1, lVar7, uVar8, uVar9, uVar10, uVar11, uVar12, in_stack_ffffffb8);
	return;
}

void StartWalkStand(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined4 *puVar2;
	undefined4 *puVar3;
	int iVar4;
	int iVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined **ppuVar8;
	longlong lVar9;
	ulonglong uVar10;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar7 = PTR_DAT_100f1828;
	puVar6 = PTR_DAT_100f1818;
	ppuVar8 = &toc;
	uVar10 = ZEXT48(PTR_DAT_100f1828);
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar8 = &toc;
		app_fatal((int)PTR_s_StartWalkStand__illegal_player___100f3660, param_1, param_3, param_4,
		    param_5, param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	iVar5 = (int)(param_1 * 0x55ec);
	*(undefined4 *)(puVar7 + iVar5) = 0;
	lVar9 = uVar10 + param_1 * 0x55ec;
	iVar4 = (int)lVar9;
	puVar3 = (undefined4 *)(puVar7 + iVar5 + 0x38);
	*(undefined4 *)(iVar4 + 0x40) = *puVar3;
	*(undefined4 *)(iVar4 + 0x44) = *(undefined4 *)(iVar4 + 0x3c);
	*(undefined4 *)(iVar4 + 0x60) = 0;
	*(undefined4 *)(iVar4 + 100) = 0;
	FUN_100932f8(param_1, 0, lVar9, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	if ((int)param_1 == *(int *)ppuVar8[-0x1deb]) {
		*(undefined4 *)puVar6 = 0;
		puVar1 = (undefined4 *)ppuVar8[-0x1dec];
		*(undefined4 *)(puVar6 + 4) = 0;
		puVar2 = (undefined4 *)ppuVar8[-0x1ded];
		*(undefined4 *)(puVar6 + 0x10) = 0;
		*puVar1 = *puVar3;
		*puVar2 = *(undefined4 *)(iVar4 + 0x3c);
	}
	return;
}

// WARNING: Removing unreachable block (ram,0x10093b88)

void PM_ChangeLightOff(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint uVar1;
	int iVar2;
	undefined *puVar3;
	int *piVar4;
	int iVar5;
	undefined *puVar6;
	undefined **ppuVar7;
	longlong lVar8;
	int iVar9;
	int iVar11;
	longlong lVar10;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar6 = PTR_DAT_100f1828;
	ppuVar7 = &toc;
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar7 = &toc;
		app_fatal((int)PTR_s_PM_ChangeLightOff__illegal_playe_100f365c, param_1, param_3, param_4,
		    param_5, param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	iVar5 = (int)param_1 * 0x55ec;
	puVar3 = puVar6 + iVar5;
	piVar4 = (int *)(puVar6 + iVar5 + 0x9c);
	iVar2 = *(int *)(puVar3 + 100) * 2;
	iVar5 = *(int *)(puVar3 + 0x60);
	iVar11 = iVar2 - iVar5;
	if (iVar11 < 0) {
		iVar11 = -iVar11;
		iVar9 = -1;
	} else {
		iVar9 = 1;
	}
	iVar5 = iVar5 + iVar2 >> 3;
	uVar1 = *(uint *)(ppuVar7[-0x1c50] + *piVar4 * 0x34 + 0x2c);
	lVar10 = (longlong)(iVar11 >> 3) * (longlong)iVar9;
	lVar8 = abs((longlong)iVar5 - (ulonglong) * (uint *)(ppuVar7[-0x1c50] + *piVar4 * 0x34 + 0x28));
	if ((2 < (int)lVar8) || (lVar8 = abs(lVar10 - (ulonglong)uVar1), 2 < (int)lVar8)) {
		ChangeLightOff(*piVar4, iVar5, (int)lVar10);
	}
	return;
}

void M_ChangeOffset(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int *piVar1;
	int iVar2;
	uint uVar3;
	int iVar4;
	undefined *puVar5;
	undefined **ppuVar6;
	longlong lVar7;
	longlong lVar8;
	int iVar9;
	ulonglong uVar10;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar5 = PTR_DAT_100f1818;
	ppuVar6 = &toc;
	uVar10 = ZEXT48(PTR_DAT_100f1828);
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar6 = &toc;
		app_fatal((int)PTR_s_PM_ChangeOffset__illegal_player___100f3658, param_1, param_3, param_4,
		    param_5, param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	piVar1 = (int *)ppuVar6[-0x1deb];
	lVar8 = uVar10 + param_1 * 0x55ec;
	iVar4 = (int)lVar8;
	*(int *)(iVar4 + 0x1ec) = *(int *)(iVar4 + 0x1ec) + 1;
	iVar9 = *(int *)(iVar4 + 0x1e4);
	iVar2 = *(int *)(iVar4 + 0x1e8);
	*(int *)(iVar4 + 0x1e4) = iVar9 + *(int *)(iVar4 + 0x68);
	*(int *)(iVar4 + 0x1e8) = *(int *)(iVar4 + 0x1e8) + *(int *)(iVar4 + 0x6c);
	*(int *)(iVar4 + 0x60) = *(int *)(iVar4 + 0x1e4) >> 8;
	*(int *)(iVar4 + 100) = *(int *)(iVar4 + 0x1e8) >> 8;
	uVar3 = *(int *)(iVar4 + 0x1e4) >> 8;
	iVar9 = (iVar9 >> 8) - uVar3;
	lVar7 = (ulonglong)(uint)(iVar2 >> 8) - (ulonglong)(uint)(*(int *)(iVar4 + 0x1e8) >> 8);
	if (((int)param_1 == *piVar1) && (*(int *)(puVar5 + 0x10) != 0)) {
		*(int *)puVar5 = *(int *)puVar5 + iVar9;
		*(int *)(puVar5 + 4) = *(int *)(puVar5 + 4) + (int)lVar7;
	}
	PM_ChangeLightOff(param_1, (ulonglong)uVar3, lVar7, lVar8, param_5, param_6, iVar9, param_8, in_stack_ffffffb8);
	return;
}

void StartWalk(ulonglong param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	int *piVar1;
	uint uVar2;
	undefined *puVar3;
	int iVar4;
	int iVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined **ppuVar8;
	ulonglong uVar9;
	longlong lVar10;
	undefined8 uVar11;
	undefined8 uVar12;
	undefined8 uVar13;
	ulonglong uVar14;
	int iVar15;
	undefined4 uVar16;
	undefined4 uVar17;
	undefined4 uVar18;
	undefined4 uVar19;
	int iVar20;
	int iVar21;
	undefined4 *puVar22;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;
	undefined4 in_stack_ffffff98;
	undefined4 in_stack_ffffff9c;
	undefined4 in_stack_ffffffa0;
	undefined4 in_stack_ffffffa4;
	undefined4 in_stack_ffffffa8;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;

	puVar3 = PTR_DAT_100f1828;
	puVar7 = PTR_DAT_100f1824;
	puVar6 = PTR_DAT_100f1818;
	uVar17 = (undefined4)param_7;
	iVar15 = (int)param_6;
	ppuVar8 = &toc;
	uVar9 = param_2;
	uVar12 = param_3;
	uVar11 = param_4;
	uVar13 = param_5;
	if (3 < (param_1 & 0xffffffff)) {
		uVar9 = param_1;
		uVar12 = param_3;
		uVar11 = param_4;
		uVar13 = param_5;
		ppuVar8 = &toc;
		app_fatal((int)PTR_s_StartWalk__illegal_player__d_100f3654, param_1, param_3, param_4, param_5,
		    iVar15, uVar17, (int)param_8, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff98,
		    in_stack_ffffff9c, in_stack_ffffffa0, in_stack_ffffffa4, in_stack_ffffffa8,
		    in_stack_ffffffac, in_stack_ffffffb0, in_stack_ffffffb4);
	}
	uVar19 = (undefined4)param_8;
	uVar18 = (undefined4)param_7;
	uVar16 = (undefined4)param_6;
	iVar5 = (int)param_1;
	iVar4 = iVar5 * 0x55ec;
	if ((((puVar3 + iVar4)[0x139] == '\0') || (*(int *)(puVar3 + iVar4 + 0x194) != 0)) || (iVar5 != *(int *)puVar7)) {
		SetPlayerOld(param_1, uVar9, uVar12, uVar11, uVar13, uVar16, uVar18, uVar19, in_stack_ffffff88);
		uVar2 = *(uint *)(puVar3 + iVar4 + 0x38);
		iVar21 = (int)param_4 + uVar2;
		iVar20 = (int)param_5 + *(int *)(puVar3 + iVar4 + 0x3c);
		uVar9 = FUN_10093580(param_1, iVar15, (ulonglong)uVar2, uVar11, uVar13, uVar16, uVar18, uVar19,
		    in_stack_ffffff88);
		if ((int)uVar9 != 0) {
			*(int *)(puVar3 + iVar4 + 0x40) = iVar21;
			*(int *)(puVar3 + iVar4 + 0x44) = iVar20;
			if (iVar5 == *(int *)puVar7) {
				piVar1 = (int *)ppuVar8[-0x1ded];
				*(uint *)(puVar6 + 8) = *(uint *)(puVar3 + iVar4 + 0x38) - *(int *)ppuVar8[-0x1dec];
				*(int *)(puVar6 + 0xc) = *(int *)(puVar3 + iVar4 + 0x3c) - *piVar1;
			}
			puVar22 = (undefined4 *)(puVar3 + iVar4);
			*(char *)(*(int *)ppuVar8[-0x1da0] + iVar21 * 0x70 + iVar20) = -1 - (char)param_1;
			*puVar22 = 1;
			puVar22[0x1a] = (int)param_2;
			puVar22[0x1b] = (int)param_3;
			puVar22[0x18] = 0;
			puVar22[0x19] = 0;
			puVar22[0x74] = (int)param_4;
			puVar22[0x75] = (int)param_5;
			puVar22[0x76] = iVar15;
			if ((puVar22[0x85] & 2) == 0) {
				LoadPlrGFX(param_1, 2);
			}
			puVar3 = puVar3 + iVar4;
			uVar9 = (ulonglong) * (uint *)(puVar3 + 0x2a0);
			uVar14 = (ulonglong) * (uint *)(puVar3 + 0x2a4);
			uVar12 = 0;
			NewPlrAnim(param_1, puVar22 + iVar15 * 2 + 0x98, uVar9, 0, uVar14, uVar16, uVar18, uVar19,
			    in_stack_ffffff88);
			*(int *)(puVar3 + 0x70) = iVar15;
			*(undefined4 *)(puVar3 + 0x1e4) = 0;
			*(undefined4 *)(puVar3 + 0x1e8) = 0;
			*(undefined4 *)(puVar3 + 0x1ec) = 0;
			FUN_100932f8(param_1, 0, uVar9, uVar12, uVar14, uVar16, uVar18, uVar19, in_stack_ffffff88);
			if (iVar5 == *(int *)puVar7) {
				if (*(int *)ppuVar8[-0x1d9b] == 0) {
					lVar10 = abs((ulonglong) * (uint *)(puVar6 + 8));
					if (((int)lVar10 < 2) && (lVar10 = abs((ulonglong) * (uint *)(puVar6 + 0xc)), (int)lVar10 < 2)) {
						*(undefined4 *)(puVar6 + 0x10) = uVar17;
					} else {
						*(undefined4 *)(puVar6 + 0x10) = 0;
					}
				} else {
					lVar10 = abs((ulonglong) * (uint *)(puVar6 + 8));
					if (((int)lVar10 < 3) && (lVar10 = abs((ulonglong) * (uint *)(puVar6 + 0xc)), (int)lVar10 < 3)) {
						*(undefined4 *)(puVar6 + 0x10) = uVar17;
					} else {
						*(undefined4 *)(puVar6 + 0x10) = 0;
					}
				}
			}
		}
	} else {
		SyncPlrKill(param_1, 0xffffffff, uVar12, uVar11, uVar13, param_6, param_7, param_8, in_stack_ffffff88);
	}
	return;
}

void StartWalk2(ulonglong param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11)

{
	int *piVar1;
	uint *puVar2;
	uint *puVar3;
	undefined4 *puVar4;
	undefined *puVar5;
	int iVar6;
	int iVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined **ppuVar11;
	ulonglong uVar12;
	ulonglong uVar13;
	undefined8 uVar14;
	longlong lVar15;
	undefined8 uVar16;
	undefined8 uVar17;
	int iVar18;
	undefined4 uVar19;
	int iVar20;
	undefined4 uVar21;
	int iVar22;
	undefined4 uVar23;
	uint uVar24;
	uint uVar25;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;
	undefined4 in_stack_ffffff98;
	undefined4 in_stack_ffffff9c;
	undefined4 in_stack_ffffffa0;
	undefined4 in_stack_ffffffa4;
	undefined4 in_stack_ffffffa8;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;

	puVar10 = PTR_DAT_100f1950;
	puVar5 = PTR_DAT_100f1828;
	puVar9 = PTR_DAT_100f1824;
	puVar8 = PTR_DAT_100f1818;
	iVar22 = (int)param_8;
	iVar20 = (int)param_7;
	iVar18 = (int)param_6;
	ppuVar11 = &toc;
	uVar12 = param_2;
	uVar16 = param_3;
	uVar14 = param_4;
	uVar17 = param_5;
	if (3 < (param_1 & 0xffffffff)) {
		uVar12 = param_1;
		uVar16 = param_3;
		uVar14 = param_4;
		uVar17 = param_5;
		ppuVar11 = &toc;
		app_fatal((int)PTR_s_StartWalk2__illegal_player__d_100f3650, param_1, param_3, param_4, param_5,
		    iVar18, iVar20, iVar22, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff98,
		    in_stack_ffffff9c, in_stack_ffffffa0, in_stack_ffffffa4, in_stack_ffffffa8,
		    in_stack_ffffffac, in_stack_ffffffb0, in_stack_ffffffb4);
	}
	uVar23 = (undefined4)param_8;
	uVar21 = (undefined4)param_7;
	uVar19 = (undefined4)param_6;
	iVar7 = (int)param_1;
	iVar6 = iVar7 * 0x55ec;
	if ((((puVar5 + iVar6)[0x139] == '\0') || (*(int *)(puVar5 + iVar6 + 0x194) != 0)) || (iVar7 != *(int *)puVar9)) {
		SetPlayerOld(param_1, uVar12, uVar16, uVar14, uVar17, uVar19, uVar21, uVar23, in_stack_ffffff88);
		puVar2 = (uint *)(puVar5 + iVar6 + 0x38);
		puVar3 = (uint *)(puVar5 + iVar6 + 0x3c);
		uVar25 = iVar18 + *puVar2;
		uVar24 = iVar20 + *puVar3;
		uVar12 = FUN_10093580(param_1, iVar22, (ulonglong)*puVar2, uVar14, uVar17, uVar19, uVar21, uVar23,
		    in_stack_ffffff88);
		if ((int)uVar12 != 0) {
			*(uint *)(puVar5 + iVar6 + 0x40) = uVar25;
			*(uint *)(puVar5 + iVar6 + 0x44) = uVar24;
			if (iVar7 == *(int *)puVar9) {
				piVar1 = (int *)ppuVar11[-0x1ded];
				*(uint *)(puVar8 + 8) = *puVar2 - *(int *)ppuVar11[-0x1dec];
				*(uint *)(puVar8 + 0xc) = *puVar3 - *piVar1;
			}
			lVar15 = -1 - (longlong)(char)param_1;
			puVar4 = (undefined4 *)(puVar5 + iVar6);
			*(undefined *)(*(int *)puVar10 + *puVar2 * 0x70 + *puVar3) = (char)lVar15;
			puVar4[0x74] = *puVar2;
			puVar4[0x75] = *puVar3;
			*puVar2 = uVar25;
			*puVar3 = uVar24;
			*(char *)(*(int *)puVar10 + *puVar2 * 0x70 + *puVar3) = (char)param_1 + '\x01';
			puVar4[0x18] = (int)param_4;
			puVar4[0x19] = (int)param_5;
			uVar12 = (ulonglong)*puVar2;
			uVar13 = (ulonglong)*puVar3;
			ChangeLightXY(puVar4[0x27], *puVar2, *puVar3);
			PM_ChangeLightOff(param_1, uVar12, uVar13, lVar15, uVar17, uVar19, uVar21, uVar23, in_stack_ffffff88);
			*puVar4 = 2;
			puVar4[0x1a] = (int)param_2;
			puVar4[0x1b] = (int)param_3;
			puVar4[0x79] = (int)param_4 << 8;
			puVar4[0x7a] = (int)param_5 << 8;
			puVar4[0x76] = iVar22;
			if ((puVar4[0x85] & 2) == 0) {
				LoadPlrGFX(param_1, 2);
			}
			puVar5 = puVar5 + iVar6;
			uVar12 = (ulonglong) * (uint *)(puVar5 + 0x2a0);
			uVar13 = (ulonglong) * (uint *)(puVar5 + 0x2a4);
			uVar16 = 0;
			NewPlrAnim(param_1, puVar4 + iVar22 * 2 + 0x98, uVar12, 0, uVar13, uVar19, uVar21, uVar23,
			    in_stack_ffffff88);
			*(int *)(puVar5 + 0x70) = iVar22;
			*(undefined4 *)(puVar5 + 0x1ec) = 0;
			if (iVar22 == 7) {
				FUN_100932f8(param_1, 1, uVar12, uVar16, uVar13, uVar19, uVar21, uVar23, in_stack_ffffff88);
			} else {
				FUN_100932f8(param_1, 0, uVar12, uVar16, uVar13, uVar19, uVar21, uVar23, in_stack_ffffff88);
			}
			if (iVar7 == *(int *)puVar9) {
				if (*(int *)ppuVar11[-0x1d9b] == 0) {
					lVar15 = abs((ulonglong) * (uint *)(puVar8 + 8));
					if (((int)lVar15 < 2) && (lVar15 = abs((ulonglong) * (uint *)(puVar8 + 0xc)), (int)lVar15 < 2)) {
						*(undefined4 *)(puVar8 + 0x10) = param_11;
					} else {
						*(undefined4 *)(puVar8 + 0x10) = 0;
					}
				} else {
					lVar15 = abs((ulonglong) * (uint *)(puVar8 + 8));
					if (((int)lVar15 < 3) && (lVar15 = abs((ulonglong) * (uint *)(puVar8 + 0xc)), (int)lVar15 < 3)) {
						*(undefined4 *)(puVar8 + 0x10) = param_11;
					} else {
						*(undefined4 *)(puVar8 + 0x10) = 0;
					}
				}
			}
		}
	} else {
		SyncPlrKill(param_1, 0xffffffff, uVar16, uVar14, uVar17, param_6, param_7, param_8, in_stack_ffffff88);
	}
	return;
}

void StartWalk3(ulonglong param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, longlong param_8,
    undefined4 param_9, undefined param_10, uint param_11, int param_12,
    undefined4 param_13)

{
	int *piVar1;
	char *pcVar2;
	uint uVar3;
	uint *puVar4;
	uint *puVar5;
	int iVar6;
	int iVar7;
	undefined *puVar8;
	int iVar9;
	int iVar10;
	int iVar11;
	undefined *puVar12;
	undefined *puVar13;
	undefined *puVar14;
	undefined **ppuVar15;
	ulonglong uVar16;
	undefined8 uVar17;
	longlong lVar18;
	undefined8 uVar19;
	undefined8 uVar20;
	char cVar22;
	longlong lVar21;
	undefined4 uVar23;
	undefined4 uVar24;
	undefined4 uVar25;
	int iVar26;
	int iVar27;
	undefined4 *puVar28;
	ulonglong uVar29;
	int iVar30;
	longlong lVar31;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;
	undefined4 in_stack_ffffff98;
	undefined4 in_stack_ffffff9c;
	undefined4 in_stack_ffffffa0;
	undefined4 in_stack_ffffffa4;
	undefined4 in_stack_ffffffa8;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;

	puVar14 = PTR_DAT_100f1950;
	puVar8 = PTR_DAT_100f1828;
	puVar13 = PTR_DAT_100f1824;
	puVar12 = PTR_DAT_100f1818;
	iVar26 = (int)param_7;
	iVar27 = (int)param_6;
	ppuVar15 = &toc;
	uVar29 = ZEXT48(PTR_DAT_100f1828);
	uVar16 = param_2;
	uVar19 = param_3;
	uVar17 = param_4;
	uVar20 = param_5;
	lVar31 = param_8;
	if (3 < (param_1 & 0xffffffff)) {
		uVar16 = param_1;
		uVar19 = param_3;
		uVar17 = param_4;
		uVar20 = param_5;
		lVar31 = param_8;
		ppuVar15 = &toc;
		app_fatal((int)PTR_s_StartWalk3__illegal_player__d_100f364c, param_1, param_3, param_4, param_5,
		    iVar27, iVar26, (int)param_8, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff98,
		    in_stack_ffffff9c, in_stack_ffffffa0, in_stack_ffffffa4, in_stack_ffffffa8,
		    in_stack_ffffffac, in_stack_ffffffb0, in_stack_ffffffb4);
	}
	uVar25 = (undefined4)lVar31;
	uVar24 = (undefined4)param_7;
	uVar23 = (undefined4)param_6;
	iVar9 = (int)(param_1 * 0x55ec);
	iVar30 = (int)param_1;
	if ((((puVar8 + iVar9)[0x139] == '\0') || (*(int *)(puVar8 + iVar9 + 0x194) != 0)) || (iVar30 != *(int *)puVar13)) {
		SetPlayerOld(param_1, uVar16, uVar19, uVar17, uVar20, uVar23, uVar24, uVar25, in_stack_ffffff88);
		puVar4 = (uint *)(puVar8 + iVar9 + 0x38);
		puVar5 = (uint *)(puVar8 + iVar9 + 0x3c);
		uVar3 = *puVar5;
		iVar27 = iVar27 + *puVar4;
		iVar26 = iVar26 + uVar3;
		param_8 = param_8 + (ulonglong)*puVar4;
		lVar31 = (ulonglong)param_11 + (ulonglong)uVar3;
		uVar16 = FUN_10093580(param_1, param_12, (ulonglong)uVar3, uVar17, uVar20, uVar23, uVar24, uVar25,
		    in_stack_ffffff88);
		if ((int)uVar16 != 0) {
			*(int *)(puVar8 + iVar9 + 0x40) = iVar27;
			*(int *)(puVar8 + iVar9 + 0x44) = iVar26;
			if (iVar30 == *(int *)puVar13) {
				piVar1 = (int *)ppuVar15[-0x1ded];
				*(uint *)(puVar12 + 8) = *puVar4 - *(int *)ppuVar15[-0x1dec];
				*(uint *)(puVar12 + 0xc) = *puVar5 - *piVar1;
			}
			cVar22 = -1 - (char)param_1;
			lVar18 = uVar29 + param_1 * 0x55ec;
			piVar1 = (int *)ppuVar15[-0x1de7];
			lVar21 = (longlong)cVar22;
			pcVar2 = ppuVar15[-0x1de5];
			*(char *)(*(int *)puVar14 + *puVar4 * 0x70 + *puVar5) = cVar22;
			*(char *)(*(int *)puVar14 + iVar27 * 0x70 + iVar26) = cVar22;
			iVar11 = (int)param_8;
			iVar6 = (int)lVar18;
			*(int *)(iVar6 + 0x1dc) = iVar11;
			iVar10 = (int)lVar31;
			iVar7 = iVar11 * 0x70 + iVar10;
			*(int *)(iVar6 + 0x1e0) = iVar10;
			*(byte *)(*piVar1 + iVar7) = *(byte *)(*piVar1 + iVar7) | 0x20;
			*(int *)(iVar6 + 0x60) = (int)param_4;
			*(int *)(iVar6 + 100) = (int)param_5;
			if (*pcVar2 != '\0') {
				ChangeLightXY(*(int *)(iVar6 + 0x9c), iVar11, iVar10);
				PM_ChangeLightOff(param_1, param_8, lVar31, lVar18, lVar21, uVar23, uVar24, uVar25, in_stack_ffffff88);
			}
			puVar28 = (undefined4 *)(puVar8 + iVar9);
			*puVar28 = 3;
			puVar28[0x1a] = (int)param_2;
			puVar28[0x1b] = (int)param_3;
			puVar28[0x74] = iVar27;
			puVar28[0x75] = iVar26;
			puVar28[0x79] = (int)param_4 << 8;
			puVar28[0x7a] = (int)param_5 << 8;
			puVar28[0x76] = param_12;
			if ((puVar28[0x85] & 2) == 0) {
				LoadPlrGFX(param_1, 2);
			}
			puVar8 = puVar8 + iVar9;
			uVar16 = (ulonglong) * (uint *)(puVar8 + 0x2a0);
			uVar29 = (ulonglong) * (uint *)(puVar8 + 0x2a4);
			uVar19 = 0;
			NewPlrAnim(param_1, puVar28 + param_12 * 2 + 0x98, uVar16, 0, uVar29, uVar23, uVar24, uVar25,
			    in_stack_ffffff88);
			*(int *)(puVar8 + 0x70) = param_12;
			*(undefined4 *)(puVar8 + 0x1ec) = 0;
			FUN_100932f8(param_1, 0, uVar16, uVar19, uVar29, uVar23, uVar24, uVar25, in_stack_ffffff88);
			if (iVar30 == *(int *)puVar13) {
				if (*(int *)ppuVar15[-0x1d9b] == 0) {
					lVar31 = abs((ulonglong) * (uint *)(puVar12 + 8));
					if (((int)lVar31 < 2) && (lVar31 = abs((ulonglong) * (uint *)(puVar12 + 0xc)), (int)lVar31 < 2)) {
						*(undefined4 *)(puVar12 + 0x10) = param_13;
					} else {
						*(undefined4 *)(puVar12 + 0x10) = 0;
					}
				} else {
					lVar31 = abs((ulonglong) * (uint *)(puVar12 + 8));
					if (((int)lVar31 < 3) && (lVar31 = abs((ulonglong) * (uint *)(puVar12 + 0xc)), (int)lVar31 < 3)) {
						*(undefined4 *)(puVar12 + 0x10) = param_13;
					} else {
						*(undefined4 *)(puVar12 + 0x10) = 0;
					}
				}
			}
		}
	} else {
		SyncPlrKill(param_1, 0xffffffff, uVar19, uVar17, uVar20, param_6, param_7, lVar31, in_stack_ffffff88);
	}
	return;
}

void StartAttack(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	int iVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	ulonglong uVar5;
	undefined8 uVar6;
	ulonglong uVar7;
	undefined4 uVar8;
	undefined4 uVar9;
	undefined4 uVar10;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar3 = PTR_DAT_100f1828;
	ppuVar4 = &toc;
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar4 = &toc;
		app_fatal((int)PTR_s_StartAttack__illegal_player__d_100f3648, param_1, param_3, param_4, param_5,
		    (int)param_6, (int)param_7, (int)param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	uVar10 = (undefined4)param_8;
	uVar9 = (undefined4)param_7;
	uVar8 = (undefined4)param_6;
	iVar2 = (int)param_1 * 0x55ec;
	if ((((puVar3 + iVar2)[0x139] != '\0') && (*(int *)(puVar3 + iVar2 + 0x194) == 0)) && ((int)param_1 == *(int *)ppuVar4[-0x1deb])) {
		SyncPlrKill(param_1, 0xffffffff, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8);
		return;
	}
	if ((*(uint *)(puVar3 + iVar2 + 0x214) & 4) == 0) {
		LoadPlrGFX(param_1, 4);
	}
	puVar1 = (undefined4 *)(puVar3 + iVar2);
	uVar5 = (ulonglong)(uint)puVar1[0xba];
	uVar7 = (ulonglong)(uint)puVar1[0xbb];
	uVar6 = 0;
	NewPlrAnim(param_1, puVar1 + (int)param_2 * 2 + 0xaa, uVar5, 0, uVar7, uVar8, uVar9, uVar10,
	    in_stack_ffffffb8);
	*puVar1 = 4;
	FixPlayerLocation(param_1, (int)param_2, uVar5, uVar6, uVar7, uVar8, uVar9, uVar10, in_stack_ffffffb8);
	SetPlayerOld(param_1, param_2, uVar5, uVar6, uVar7, uVar8, uVar9, uVar10, in_stack_ffffffb8);
	return;
}

void StartRangeAttack(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	int iVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	ulonglong uVar5;
	undefined8 uVar6;
	undefined8 uVar7;
	ulonglong uVar8;
	undefined4 uVar9;
	undefined4 uVar10;
	undefined4 uVar11;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar3 = PTR_DAT_100f1828;
	ppuVar4 = &toc;
	uVar7 = param_3;
	uVar6 = param_4;
	if (3 < (param_1 & 0xffffffff)) {
		uVar7 = param_3;
		uVar6 = param_4;
		ppuVar4 = &toc;
		app_fatal(_DAT_100f3644, param_1, param_3, param_4, param_5, (int)param_6, (int)param_7,
		    (int)param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	uVar11 = (undefined4)param_8;
	uVar10 = (undefined4)param_7;
	uVar9 = (undefined4)param_6;
	iVar2 = (int)param_1 * 0x55ec;
	if ((((puVar3 + iVar2)[0x139] != '\0') && (*(int *)(puVar3 + iVar2 + 0x194) == 0)) && ((int)param_1 == *(int *)ppuVar4[-0x1deb])) {
		SyncPlrKill(param_1, 0xffffffff, uVar7, uVar6, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
		return;
	}
	if ((*(uint *)(puVar3 + iVar2 + 0x214) & 4) == 0) {
		LoadPlrGFX(param_1, 4);
	}
	puVar1 = (undefined4 *)(puVar3 + iVar2);
	uVar5 = (ulonglong)(uint)puVar1[0xba];
	uVar8 = (ulonglong)(uint)puVar1[0xbb];
	uVar7 = 0;
	NewPlrAnim(param_1, puVar1 + (int)param_2 * 2 + 0xaa, uVar5, 0, uVar8, uVar9, uVar10, uVar11,
	    in_stack_ffffffb8);
	*puVar1 = 5;
	FixPlayerLocation(param_1, (int)param_2, uVar5, uVar7, uVar8, uVar9, uVar10, uVar11, in_stack_ffffffb8);
	SetPlayerOld(param_1, param_2, uVar5, uVar7, uVar8, uVar9, uVar10, uVar11, in_stack_ffffffb8);
	puVar1[0x74] = (int)param_3;
	puVar1[0x75] = (int)param_4;
	return;
}

void StartPlrBlock(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined4 *puVar2;
	int iVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	ulonglong uVar6;
	undefined8 uVar7;
	ulonglong uVar8;
	undefined4 uVar9;
	undefined4 uVar10;
	undefined4 uVar11;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar4 = PTR_DAT_100f1828;
	ppuVar5 = &toc;
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar5 = &toc;
		app_fatal(_DAT_100f3640, param_1, param_3, param_4, param_5, (int)param_6, (int)param_7,
		    (int)param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	uVar11 = (undefined4)param_8;
	uVar10 = (undefined4)param_7;
	uVar9 = (undefined4)param_6;
	iVar3 = (int)param_1 * 0x55ec;
	if ((((puVar4 + iVar3)[0x139] != '\0') && (*(int *)(puVar4 + iVar3 + 0x194) == 0)) && ((int)param_1 == *(int *)ppuVar5[-0x1deb])) {
		SyncPlrKill(param_1, 0xffffffff, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8);
		return;
	}
	puVar1 = puVar4 + iVar3;
	PlaySfxLoc(0x3d, (ulonglong) * (uint *)(puVar1 + 0x38), (ulonglong) * (uint *)(puVar1 + 0x3c), param_4,
	    param_5, uVar9, uVar10, uVar11, in_stack_ffffffb8);
	if ((*(uint *)(puVar1 + 0x214) & 0x100) == 0) {
		LoadPlrGFX(param_1, 0x100);
	}
	puVar2 = (undefined4 *)(puVar4 + iVar3);
	uVar6 = (ulonglong)(uint)puVar2[0x124];
	uVar8 = (ulonglong)(uint)puVar2[0x125];
	uVar7 = 2;
	NewPlrAnim(param_1, puVar2 + (int)param_2 * 2 + 0x114, uVar6, 2, uVar8, uVar9, uVar10, uVar11,
	    in_stack_ffffffb8);
	*puVar2 = 6;
	FixPlayerLocation(param_1, (int)param_2, uVar6, uVar7, uVar8, uVar9, uVar10, uVar11, in_stack_ffffffb8);
	SetPlayerOld(param_1, param_2, uVar6, uVar7, uVar8, uVar9, uVar10, uVar11, in_stack_ffffffb8);
	return;
}

// WARNING: Removing unreachable block (ram,0x1009484c)

void StartSpell(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    ulonglong param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	byte bVar1;
	undefined *puVar2;
	int iVar3;
	int iVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined **ppuVar7;
	longlong lVar8;
	undefined8 uVar9;
	ulonglong uVar10;
	undefined8 uVar11;
	undefined4 uVar12;
	undefined4 uVar13;
	undefined4 uVar14;
	int iVar15;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar6 = PTR_DAT_100f1934;
	puVar5 = PTR_DAT_100f1828;
	ppuVar7 = &toc;
	uVar9 = param_3;
	uVar11 = param_4;
	if (3 < (param_1 & 0xffffffff)) {
		uVar9 = param_3;
		uVar11 = param_4;
		ppuVar7 = &toc;
		app_fatal(_DAT_100f363c, param_1, param_3, param_4, param_5, (int)param_6, (int)param_7,
		    (int)param_8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffb8,
		    in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
	}
	uVar14 = (undefined4)param_8;
	uVar13 = (undefined4)param_7;
	uVar12 = (undefined4)param_6;
	iVar4 = (int)param_1;
	iVar3 = iVar4 * 0x55ec;
	if ((((puVar5 + iVar3)[0x139] == '\0') || (*(int *)(puVar5 + iVar3 + 0x194) != 0)) || (iVar4 != *(int *)ppuVar7[-0x1deb])) {
		iVar15 = (int)param_2;
		if (*ppuVar7[-0x1de5] != '\0') {
			puVar2 = puVar5 + iVar3;
			bVar1 = puVar6[*(int *)(puVar2 + 0xa4) * 0x38 + 2];
			if (bVar1 == 1) {
				if ((*(uint *)(puVar2 + 0x214) & 0x10) == 0) {
					LoadPlrGFX(param_1, 0x10);
				}
				param_5 = (ulonglong) * (uint *)(puVar5 + iVar3 + 0x3b8);
				uVar11 = 0;
				NewPlrAnim(param_1, puVar5 + iVar3 + iVar15 * 8 + 0x2f4,
				    (ulonglong) * (uint *)(puVar5 + iVar3 + 0x3b4), 0, param_5, uVar12, uVar13, uVar14,
				    in_stack_ffffffa8);
			} else {
				if (bVar1 == 0) {
					if ((*(uint *)(puVar2 + 0x214) & 0x20) == 0) {
						LoadPlrGFX(param_1, 0x20);
					}
					param_5 = (ulonglong) * (uint *)(puVar5 + iVar3 + 0x3b8);
					uVar11 = 0;
					NewPlrAnim(param_1, puVar5 + iVar3 + iVar15 * 8 + 0x334,
					    (ulonglong) * (uint *)(puVar5 + iVar3 + 0x3b4), 0, param_5, uVar12, uVar13, uVar14,
					    in_stack_ffffffa8);
				} else {
					if (bVar1 < 3) {
						if ((*(uint *)(puVar2 + 0x214) & 0x40) == 0) {
							LoadPlrGFX(param_1, 0x40);
						}
						param_5 = (ulonglong) * (uint *)(puVar5 + iVar3 + 0x3b8);
						uVar11 = 0;
						NewPlrAnim(param_1, puVar5 + iVar3 + iVar15 * 8 + 0x374,
						    (ulonglong) * (uint *)(puVar5 + iVar3 + 0x3b4), 0, param_5, uVar12, uVar13, uVar14, in_stack_ffffffa8);
					}
				}
			}
		}
		puVar2 = puVar5 + iVar3;
		uVar10 = (ulonglong) * (uint *)(puVar2 + 0x3c);
		PlaySfxLoc((ulonglong)(byte)puVar6[*(int *)(puVar5 + iVar3 + 0xa4) * 0x38 + 0x20],
		    (ulonglong) * (uint *)(puVar2 + 0x38), uVar10, uVar11, param_5, uVar12, uVar13, uVar14,
		    in_stack_ffffffa8);
		*(undefined4 *)(puVar5 + iVar3) = 9;
		FixPlayerLocation(param_1, iVar15, uVar10, uVar11, param_5, uVar12, uVar13, uVar14, in_stack_ffffffa8);
		SetPlayerOld(param_1, param_2, uVar10, uVar11, param_5, uVar12, uVar13, uVar14, in_stack_ffffffa8);
		*(int *)(puVar2 + 0x1d0) = (int)param_3;
		*(int *)(puVar2 + 0x1d4) = (int)param_4;
		lVar8 = GetSpellLevel(iVar4, *(int *)(puVar5 + iVar3 + 0xa4));
		*(int *)(puVar2 + 0x1dc) = (int)lVar8;
		*(undefined4 *)(puVar2 + 0x1ec) = 1;
	} else {
		SyncPlrKill(param_1, 0xffffffff, uVar9, uVar11, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	}
	return;
}

void FixPlrWalkTags(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	int iVar5;
	int iVar6;
	int iVar7;
	int iVar8;
	int iVar9;
	char *pcVar10;
	int iVar11;
	int iVar12;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar4 = PTR_DAT_100f1950;
	puVar3 = PTR_DAT_100f1834;
	puVar2 = PTR_DAT_100f1828;
	if (3 < (param_1 & 0xffffffff)) {
		app_fatal(_DAT_100f3638, param_1, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4);
	}
	iVar6 = (int)param_1;
	iVar7 = *(int *)(puVar2 + iVar6 * 0x55ec + 0x5c);
	iVar1 = *(int *)(puVar2 + iVar6 * 0x55ec + 0x58);
	iVar11 = iVar7 + -1;
	while (iVar11 <= iVar7 + 1) {
		iVar12 = iVar1 + -1;
		iVar5 = (iVar1 + 2) - iVar12;
		iVar9 = iVar12 * 0x70;
		if (iVar12 <= iVar1 + 1) {
			do {
				if ((((-1 < iVar12) && (iVar12 < 0x70)) && (-1 < iVar11)) && (iVar11 < 0x70)) {
					pcVar10 = (char *)(iVar11 + *(int *)puVar4 + iVar9);
					iVar8 = (int)*pcVar10;
					if ((iVar6 + 1 == iVar8) || (-1 - iVar6 == iVar8)) {
						*pcVar10 = '\0';
					}
				}
				iVar9 = iVar9 + 0x70;
				iVar12 = iVar12 + 1;
				iVar5 = iVar5 + -1;
			} while (iVar5 != 0);
		}
		iVar11 = iVar11 + 1;
	}
	if (((-1 < iVar1) && (iVar1 < 0x6f)) && ((-1 < iVar7 && (iVar7 < 0x6f)))) {
		iVar6 = *(int *)puVar3 + iVar1 * 0x70 + iVar7;
		*(byte *)(iVar6 + 0x70) = *(byte *)(iVar6 + 0x70) & 0xdf;
		iVar7 = *(int *)puVar3 + iVar1 * 0x70 + iVar7;
		*(byte *)(iVar7 + 1) = *(byte *)(iVar7 + 1) & 0xdf;
	}
	return;
}

void RemovePlrFromMap(int param_1)

{
	byte bVar1;
	undefined *puVar2;
	undefined *puVar3;
	int iVar4;
	int iVar5;
	char *pcVar6;
	byte *pbVar7;
	int iVar8;
	int iVar9;
	longlong lVar10;

	puVar3 = PTR_DAT_100f1950;
	puVar2 = PTR_DAT_100f1834;
	iVar8 = param_1 + 1;
	param_1 = -1 - param_1;
	iVar9 = 1;
	do {
		lVar10 = 0x25;
		iVar5 = 0x70;
		do {
			iVar4 = iVar9 + *(int *)puVar3 + iVar5;
			if (param_1 == (int)*(char *)(iVar4 + -1)) {
			LAB_10094b4c:
				pbVar7 = (byte *)(iVar9 + *(int *)puVar2 + iVar5);
				bVar1 = *pbVar7;
				if ((bVar1 & 0x20) != 0) {
					*pbVar7 = bVar1 & 0xdf;
				}
			} else {
				if (param_1 == (int)*(char *)(iVar4 + -0x70))
					goto LAB_10094b4c;
			}
			iVar4 = iVar9 + *(int *)puVar3 + iVar5 + 0x70;
			if (param_1 == (int)*(char *)(iVar4 + -1)) {
			LAB_10094b9c:
				pbVar7 = (byte *)(iVar9 + *(int *)puVar2 + iVar5 + 0x70);
				bVar1 = *pbVar7;
				if ((bVar1 & 0x20) != 0) {
					*pbVar7 = bVar1 & 0xdf;
				}
			} else {
				if (param_1 == (int)*(char *)(iVar4 + -0x70))
					goto LAB_10094b9c;
			}
			iVar4 = iVar9 + *(int *)puVar3 + iVar5 + 0xe0;
			if (param_1 == (int)*(char *)(iVar4 + -1)) {
			LAB_10094bf0:
				pbVar7 = (byte *)(iVar9 + *(int *)puVar2 + iVar5 + 0xe0);
				bVar1 = *pbVar7;
				if ((bVar1 & 0x20) != 0) {
					*pbVar7 = bVar1 & 0xdf;
				}
			} else {
				if (param_1 == (int)*(char *)(iVar4 + -0x70))
					goto LAB_10094bf0;
			}
			iVar5 = iVar5 + 0x150;
			lVar10 = lVar10 + -1;
		} while (lVar10 != 0);
		iVar9 = iVar9 + 1;
		if (0x6f < iVar9) {
			iVar9 = 0;
			do {
				lVar10 = 0xe;
				iVar5 = 0;
				do {
					pcVar6 = (char *)(iVar9 + *(int *)puVar3 + iVar5);
					iVar4 = (int)*pcVar6;
					if ((iVar8 == iVar4) || (param_1 == iVar4)) {
						*pcVar6 = '\0';
					}
					pcVar6 = (char *)(iVar9 + *(int *)puVar3 + iVar5 + 0x70);
					iVar4 = (int)*pcVar6;
					if ((iVar8 == iVar4) || (param_1 == iVar4)) {
						*pcVar6 = '\0';
					}
					pcVar6 = (char *)(iVar9 + *(int *)puVar3 + iVar5 + 0xe0);
					iVar4 = (int)*pcVar6;
					if ((iVar8 == iVar4) || (param_1 == iVar4)) {
						*pcVar6 = '\0';
					}
					pcVar6 = (char *)(iVar9 + *(int *)puVar3 + iVar5 + 0x150);
					iVar4 = (int)*pcVar6;
					if ((iVar8 == iVar4) || (param_1 == iVar4)) {
						*pcVar6 = '\0';
					}
					pcVar6 = (char *)(iVar9 + *(int *)puVar3 + iVar5 + 0x1c0);
					iVar4 = (int)*pcVar6;
					if ((iVar8 == iVar4) || (param_1 == iVar4)) {
						*pcVar6 = '\0';
					}
					pcVar6 = (char *)(iVar9 + *(int *)puVar3 + iVar5 + 0x230);
					iVar4 = (int)*pcVar6;
					if ((iVar8 == iVar4) || (param_1 == iVar4)) {
						*pcVar6 = '\0';
					}
					pcVar6 = (char *)(iVar9 + *(int *)puVar3 + iVar5 + 0x2a0);
					iVar4 = (int)*pcVar6;
					if ((iVar8 == iVar4) || (param_1 == iVar4)) {
						*pcVar6 = '\0';
					}
					pcVar6 = (char *)(iVar9 + *(int *)puVar3 + iVar5 + 0x310);
					iVar4 = (int)*pcVar6;
					if ((iVar8 == iVar4) || (param_1 == iVar4)) {
						*pcVar6 = '\0';
					}
					iVar5 = iVar5 + 0x380;
					lVar10 = lVar10 + -1;
				} while (lVar10 != 0);
				iVar9 = iVar9 + 1;
			} while (iVar9 < 0x70);
			return;
		}
	} while (true);
}

void StartPlrHit(ulonglong param_1, char param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	char cVar1;
	uint uVar2;
	undefined *puVar3;
	undefined4 *puVar4;
	int iVar5;
	undefined *puVar6;
	undefined **ppuVar7;
	ulonglong uVar8;
	longlong lVar9;
	undefined8 uVar10;
	ulonglong uVar11;
	undefined4 uVar12;
	undefined4 uVar13;
	undefined4 uVar14;
	ulonglong uVar15;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar6 = PTR_DAT_100f1828;
	ppuVar7 = &toc;
	uVar10 = param_3;
	if (3 < (param_1 & 0xffffffff)) {
		uVar10 = param_3;
		ppuVar7 = &toc;
		app_fatal(_DAT_100f3634, param_1, param_3, param_4, param_5, (int)param_6, (int)param_7,
		    (int)param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	uVar14 = (undefined4)param_8;
	uVar13 = (undefined4)param_7;
	uVar12 = (undefined4)param_6;
	iVar5 = (int)param_1 * 0x55ec;
	if ((((puVar6 + iVar5)[0x139] != '\0') && (*(int *)(puVar6 + iVar5 + 0x194) == 0)) && ((int)param_1 == *(int *)ppuVar7[-0x1deb])) {
		SyncPlrKill(param_1, 0xffffffff, uVar10, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
		return;
	}
	puVar3 = puVar6 + iVar5;
	cVar1 = puVar3[0x15c];
	if (cVar1 == '\0') {
		PlaySfxLoc(0x314, (ulonglong) * (uint *)(puVar3 + 0x38), (ulonglong) * (uint *)(puVar3 + 0x3c),
		    param_4, param_5, uVar12, uVar13, uVar14, in_stack_ffffffb8);
	} else {
		if (cVar1 == '\x01') {
			PlaySfxLoc(0x2a7, (ulonglong) * (uint *)(puVar3 + 0x38), (ulonglong) * (uint *)(puVar3 + 0x3c),
			    param_4, param_5, uVar12, uVar13, uVar14, in_stack_ffffffb8);
		} else {
			if (cVar1 == '\x02') {
				PlaySfxLoc(0x240, (ulonglong) * (uint *)(puVar3 + 0x38), (ulonglong) * (uint *)(puVar3 + 0x3c),
				    param_4, param_5, uVar12, uVar13, uVar14, in_stack_ffffffb8);
			}
		}
	}
	*(undefined4 *)ppuVar7[-0x1dbc] = 1;
	if ((param_2 >> 6 < (char)puVar6[iVar5 + 0x1b4]) && ((int)param_3 == 0)) {
		return;
	}
	uVar2 = *(uint *)(puVar6 + iVar5 + 0x70);
	uVar15 = (ulonglong)uVar2;
	if ((*(uint *)(puVar6 + iVar5 + 0x214) & 8) == 0) {
		LoadPlrGFX(param_1, 8);
	}
	puVar4 = (undefined4 *)(puVar6 + iVar5);
	uVar8 = (ulonglong)(uint)puVar4[0x100];
	uVar11 = (ulonglong)(uint)puVar4[0x101];
	uVar10 = 0;
	NewPlrAnim(param_1, puVar4 + uVar2 * 2 + 0xf0, uVar8, 0, uVar11, uVar12, uVar13, uVar14,
	    in_stack_ffffffb8);
	*puVar4 = 7;
	FixPlayerLocation(param_1, uVar2, uVar8, uVar10, uVar11, uVar12, uVar13, uVar14, in_stack_ffffffb8);
	puVar4[0x7b] = 1;
	FixPlrWalkTags(param_1, uVar15, uVar8, uVar10, uVar11, uVar12, uVar13, uVar14, in_stack_ffffffb8);
	lVar9 = (longlong)(char)param_1 + 1;
	uVar2 = *(uint *)ppuVar7[-0x1da0];
	*(undefined *)(uVar2 + puVar4[0xe] * 0x70 + puVar4[0xf]) = (char)lVar9;
	SetPlayerOld(param_1, (ulonglong)uVar2, lVar9, uVar10, uVar11, uVar12, uVar13, uVar14, in_stack_ffffffb8);
	return;
}

void FUN_10094f74(int *param_1, int param_2, int param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	uint uVar3;
	uint *puVar4;
	int *piVar5;
	undefined **ppuVar6;
	int iVar7;
	undefined uVar8;
	undefined uVar10;
	int *piVar9;
	longlong lVar11;
	longlong lVar12;
	ulonglong uVar13;
	longlong lVar14;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffdc;

	piVar5 = _DAT_100f1dec;
	puVar4 = _DAT_100f1ddc;
	ppuVar6 = &toc;
	uVar13 = ZEXT48(PTR_DAT_100f1940);
	if (*_DAT_100f1dec < 0x7f) {
		uVar8 = (undefined) * (short *)(param_1 + 1);
		uVar10 = (undefined)*param_1;
		iVar7 = FindGetItem(param_1[0x5a], *(short *)(param_1 + 1), *param_1);
		if (-1 < iVar7) {
			FUN_10049e0c((int)ppuVar6[-0x1668], uVar8, uVar10, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffb8);
			SyncGetItem(param_2, param_3, param_1[0x5a], *(short *)(param_1 + 1), *param_1, 8, param_7, param_8,
			    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffdc);
		}
		uVar1 = *puVar4;
		*(char *)(*(int *)ppuVar6[-0x1da3] + param_2 * 0x70 + param_3) = (char)uVar1 + '\x01';
		lVar12 = (ulonglong)uVar1 * 0x170;
		puVar2 = ppuVar6[-0x1c78];
		iVar7 = *piVar5;
		lVar11 = uVar13 + lVar12 + -8;
		uVar3 = puVar4[0x7e - iVar7];
		lVar14 = 0x2e;
		*puVar4 = uVar3;
		*(uint *)(puVar2 + iVar7 * 4) = uVar1;
		piVar9 = param_1 + -2;
		do {
			iVar7 = piVar9[3];
			lVar11 = lVar11 + 8;
			*(int *)lVar11 = piVar9[2];
			((int *)lVar11)[1] = iVar7;
			lVar14 = lVar14 + -1;
			piVar9 = piVar9 + 2;
		} while (lVar14 != 0);
		lVar14 = uVar13 + lVar12;
		iVar7 = (int)lVar14;
		*(int *)(iVar7 + 0xc) = param_2;
		*(int *)(iVar7 + 0x10) = param_3;
		RespawnItem((ulonglong)uVar1, 1, (char)lVar14, (char)lVar11, (char)puVar2, (char)uVar3, (char)lVar12,
		    param_8, in_stack_ffffffb8);
		*piVar5 = *piVar5 + 1;
		param_1[2] = -1;
	}
	return;
}

void FUN_1009508c(ulonglong param_1, int *param_2, undefined8 param_3, undefined8 param_4,
    longlong param_5, uint param_6, int param_7, int param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	uint uVar4;
	undefined8 uVar3;
	uint uVar5;
	int *piVar6;
	longlong lVar7;
	undefined8 uVar8;
	undefined7 uVar9;
	undefined uVar10;
	uint uVar11;
	undefined4 uVar12;
	longlong lVar13;
	undefined4 uVar14;
	int iVar15;
	int iVar16;
	int iVar17;
	longlong lVar18;
	ulonglong uVar19;
	longlong lVar20;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar2 = PTR_DAT_100f1828;
	uVar9 = (undefined7)((ulonglong)param_5 >> 8);
	uVar10 = (undefined)param_5;
	lVar13 = (longlong)param_8;
	lVar20 = (longlong)param_7;
	lVar7 = (longlong)(int)param_6;
	uVar19 = ZEXT48(PTR_DAT_100f1828);
	if (param_2[2] != -1) {
		uVar8 = param_4;
		if (3 < (param_1 & 0xffffffff)) {
			uVar8 = param_4;
			app_fatal(_DAT_100f362c, param_1, param_3, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffb8, in_stack_ffffffbc,
			    in_stack_ffffffc0, in_stack_ffffffc4, in_stack_ffffffc8, in_stack_ffffffcc,
			    in_stack_ffffffd0, in_stack_ffffffd4);
		}
		lVar18 = param_1 * 0x55ec;
		puVar1 = puVar2 + (int)lVar18;
		uVar4 = (int)param_3 + *(int *)(puVar1 + 0x38);
		uVar5 = (int)param_4 + *(int *)(puVar1 + 0x3c);
		if (((int)param_3 != 0) || ((int)param_4 != 0)) {
			uVar3 = ItemSpaceOk(uVar4, uVar5);
			uVar14 = (undefined4)lVar13;
			uVar12 = (undefined4)lVar20;
			uVar11 = (uint)lVar7;
			if ((int)uVar3 != 0) {
				FUN_10094f74(param_2, uVar4, uVar5, (char)uVar8, uVar10, (char)lVar7, (char)lVar20, (char)lVar13,
				    in_stack_ffffffa8);
				lVar20 = 0x2e;
				lVar7 = uVar19 + lVar18 + 0x53cc;
				piVar6 = param_2 + -2;
				do {
					iVar17 = piVar6[3];
					lVar7 = lVar7 + 8;
					*(int *)lVar7 = piVar6[2];
					((int *)lVar7)[1] = iVar17;
					lVar20 = lVar20 + -1;
					piVar6 = piVar6 + 2;
				} while (lVar20 != 0);
				NetSendCmdPItem(0, 0xb, (ulonglong)(uVar4 & 0xff), (ulonglong)(uVar5 & 0xff),
				    CONCAT71(uVar9, uVar10), uVar11, uVar12, uVar14, in_stack_ffffffa8);
				return;
			}
		}
		iVar17 = 1;
		puVar2 = puVar2 + (int)lVar18;
		do {
			iVar16 = -iVar17;
			while (iVar16 <= iVar17) {
				uVar4 = iVar16 + *(int *)(puVar2 + 0x3c);
				iVar15 = -iVar17;
				while (iVar15 <= iVar17) {
					uVar5 = iVar15 + *(int *)(puVar2 + 0x38);
					uVar3 = ItemSpaceOk(uVar5, uVar4);
					uVar14 = (undefined4)lVar13;
					uVar12 = (undefined4)lVar20;
					uVar11 = (uint)lVar7;
					if ((int)uVar3 != 0) {
						FUN_10094f74(param_2, uVar5, uVar4, (char)uVar8, uVar10, (char)lVar7, (char)lVar20,
						    (char)lVar13, in_stack_ffffffa8);
						lVar20 = 0x2e;
						lVar7 = uVar19 + lVar18 + 0x53cc;
						piVar6 = param_2 + -2;
						do {
							iVar17 = piVar6[3];
							lVar7 = lVar7 + 8;
							*(int *)lVar7 = piVar6[2];
							((int *)lVar7)[1] = iVar17;
							lVar20 = lVar20 + -1;
							piVar6 = piVar6 + 2;
						} while (lVar20 != 0);
						NetSendCmdPItem(0, 0xb, (ulonglong)(uVar5 & 0xff), (ulonglong)(uVar4 & 0xff),
						    CONCAT71(uVar9, uVar10), uVar11, uVar12, uVar14, in_stack_ffffffa8);
						return;
					}
					iVar15 = iVar15 + 1;
				}
				iVar16 = iVar16 + 1;
			}
			iVar17 = iVar17 + 1;
		} while (iVar17 < 0x32);
	}
	return;
}

void FUN_10095224(ulonglong param_1, uint param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	bool bVar1;
	char cVar2;
	undefined4 *puVar3;
	int *piVar4;
	int *piVar5;
	int iVar6;
	int iVar7;
	undefined *puVar8;
	undefined *puVar9;
	int iVar10;
	undefined **ppuVar11;
	int iVar12;
	ulonglong uVar13;
	int iVar16;
	longlong lVar14;
	ulonglong uVar15;
	ulonglong uVar17;
	ulonglong uVar18;
	undefined4 uVar19;
	undefined4 uVar20;
	uint uVar21;
	undefined4 uVar22;
	undefined4 uVar23;
	undefined8 unaff_r21;
	undefined8 unaff_r22;
	int iVar24;
	undefined8 unaff_r23;
	undefined8 unaff_r24;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	longlong lVar25;
	undefined8 unaff_r27;
	longlong lVar26;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	ulonglong uVar27;
	undefined4 in_stack_fffffe28;
	undefined in_stack_fffffe2f;
	undefined4 in_stack_fffffe38;
	undefined4 in_stack_fffffe3c;
	undefined4 in_stack_fffffe40;
	undefined4 in_stack_fffffe44;
	undefined4 in_stack_fffffe48;
	undefined4 in_stack_fffffe4c;
	undefined4 in_stack_fffffe50;
	undefined4 in_stack_fffffe54;
	uint local_1a8;
	ushort local_1a4;
	undefined auStack363[131];
	undefined4 local_e8;
	int local_e4;
	undefined4 local_2c;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	iVar10 = _DAT_100f1de4;
	iVar12 = _DAT_100f1de0;
	puVar9 = PTR_DAT_100f1828;
	puVar8 = PTR_DAT_100f1824;
	ppuVar11 = &toc;
	local_2c = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar27 = ZEXT48(PTR_DAT_100f1828);
	lVar26 = param_1 * 0x55ec;
	lVar25 = uVar27 + lVar26;
	piVar5 = (int *)lVar25;
	if ((0 < piVar5[0x65]) || (*piVar5 != 8)) {
		iVar24 = (int)param_1;
		if (*(int *)PTR_DAT_100f1824 == iVar24) {
			param_3 = (ulonglong)(param_2 & 0xffff);
			ppuVar11 = &toc;
			NetSendCmdParam1(1, 0x26, param_3, param_4, param_5, (int)param_6, (int)param_7, (int)param_8,
			    in_stack_fffffe28);
		}
		uVar13 = 0;
		iVar6 = (int)lVar26;
		if ((1 < (byte)*ppuVar11[-0x1dfc]) && (*(int *)(puVar9 + iVar6 + 0x34) == 0x10)) {
			uVar13 = 1;
		}
		iVar16 = (int)uVar13;
		if (3 < (param_1 & 0xffffffff)) {
			uVar13 = param_1;
			app_fatal((int)ppuVar11[-0x166a], param_1, param_3, param_4, param_5, (int)param_6, (int)param_7,
			    (int)param_8, in_stack_fffffe28, in_stack_fffffe2f, in_stack_fffffe38,
			    in_stack_fffffe3c, in_stack_fffffe40, in_stack_fffffe44, in_stack_fffffe48,
			    in_stack_fffffe4c, in_stack_fffffe50, in_stack_fffffe54);
		}
		uVar23 = (undefined4)param_8;
		uVar22 = (undefined4)param_7;
		uVar20 = (undefined4)param_6;
		cVar2 = puVar9[iVar6 + 0x15c];
		if (cVar2 == '\0') {
			uVar13 = (ulonglong)(uint)piVar5[0xe];
			param_3 = (ulonglong)(uint)piVar5[0xf];
			PlaySfxLoc(0xb, uVar13, param_3, param_4, param_5, uVar20, uVar22, uVar23, in_stack_fffffe28);
		} else {
			if (cVar2 == '\x01') {
				uVar13 = (ulonglong)(uint)piVar5[0xe];
				param_3 = (ulonglong)(uint)piVar5[0xf];
				PlaySfxLoc(0x2aa, uVar13, param_3, param_4, param_5, uVar20, uVar22, uVar23, in_stack_fffffe28);
			} else {
				if (cVar2 == '\x02') {
					uVar13 = (ulonglong)(uint)piVar5[0xe];
					param_3 = (ulonglong)(uint)piVar5[0xf];
					PlaySfxLoc(0x243, uVar13, param_3, param_4, param_5, uVar20, uVar22, uVar23, in_stack_fffffe28);
				}
			}
		}
		if (piVar5[0x1e] != 0) {
			piVar5[0x1e] = 0;
			piVar5[0x85] = 0;
			SetPlrAnims(param_1, uVar13, param_3, param_4, param_5, (int)param_6, (int)param_7, (int)param_8,
			    in_stack_fffffe28);
		}
		if ((piVar5[0x85] & 0x80U) == 0) {
			LoadPlrGFX(param_1, 0x80);
		}
		uVar13 = (ulonglong)(uint)piVar5[0x112];
		uVar17 = 1;
		uVar18 = (ulonglong)(uint)piVar5[0x113];
		NewPlrAnim(param_1, piVar5 + piVar5[0x1c] * 2 + 0x102, uVar13, 1, uVar18, (int)param_6, (int)param_7, (int)param_8, in_stack_fffffe28);
		*piVar5 = 8;
		*(undefined *)(piVar5 + 0x4e) = 0;
		*(undefined *)((int)piVar5 + 0x139) = 1;
		SetPlayerHitPoints(param_1, 0, uVar13, uVar17, uVar18, (int)param_6, (int)param_7, (int)param_8,
		    in_stack_fffffe28);
		piVar5[0x7b] = 1;
		if (((iVar24 != *(int *)puVar8) && (param_2 == 0)) && (iVar16 == 0)) {
			piVar5[0x128] = -1;
			piVar5[0x184] = -1;
			piVar5[0x1e0] = -1;
			piVar5[0x23c] = -1;
			piVar5[0x298] = -1;
			piVar5[0x2f4] = -1;
			piVar5[0x350] = -1;
			CalcPlrInv(param_1, 0, uVar13, uVar17, uVar18, param_6, param_7, param_8, in_stack_fffffe28);
		}
		uVar22 = (undefined4)param_8;
		uVar20 = (undefined4)param_7;
		uVar21 = (uint)param_6;
		if ((uint)(byte)*ppuVar11[-0x1df9] == *(uint *)(puVar9 + iVar6 + 0x34)) {
			FixPlayerLocation(param_1, piVar5[0x1c], uVar13, uVar17, uVar18, uVar21, uVar20, uVar22, in_stack_fffffe28);
			RemovePlrFromMap(iVar24);
			uVar21 = *(uint *)ppuVar11[-0x1de7];
			uVar13 = (ulonglong)uVar21;
			lVar14 = (ulonglong)(uint)piVar5[0xe] * 0x70 + (ulonglong)(uint)piVar5[0xf];
			iVar7 = (int)lVar14;
			*(byte *)(uVar21 + iVar7) = *(byte *)(uVar21 + iVar7) | 4;
			SetPlayerOld(param_1, lVar14, uVar13, uVar17, uVar18, (int)param_6, (int)param_7, (int)param_8,
			    in_stack_fffffe28);
			uVar22 = (undefined4)param_8;
			uVar20 = (undefined4)param_7;
			uVar21 = (uint)param_6;
			if (iVar24 == *(int *)puVar8) {
				uVar13 = 1;
				puVar3 = (undefined4 *)ppuVar11[-0x1be3];
				uVar15 = ZEXT48(puVar3);
				*(undefined4 *)ppuVar11[-0x1dbc] = 1;
				piVar4 = (int *)ppuVar11[-0x1dd1];
				*puVar3 = 0x1e;
				if (0xb < *piVar4) {
					uVar15 = lVar25 + 0x53d4;
					uVar13 = 0;
					uVar17 = 0;
					FUN_1009508c(param_1, (int *)uVar15, 0, 0, uVar18, uVar21, uVar20, uVar22, in_stack_fffffe28);
					NewCursor(1, (char)uVar15, (char)uVar13, (char)uVar17, (char)uVar18, (char)param_6,
					    (char)param_7, (char)param_8, in_stack_fffffe28);
				}
				uVar22 = (undefined4)param_8;
				uVar20 = (undefined4)param_7;
				uVar21 = (uint)param_6;
				if (iVar16 == 0) {
					FUN_10095610(param_1, uVar15, uVar13, uVar17, uVar18, uVar21, uVar20, uVar22, in_stack_fffffe28);
					uVar19 = (undefined4)uVar18;
					uVar23 = (undefined4)uVar17;
					uVar22 = (undefined4)param_8;
					uVar20 = (undefined4)param_7;
					uVar21 = (uint)param_6;
					if (param_2 != 0xffffffff) {
						if (param_2 == 0) {
							lVar25 = lVar25 + 0x498;
							iVar24 = 6;
							do {
								uVar21 = (piVar5[0x1c] + iVar24) * 4 & 0x1c;
								uVar13 = (ulonglong) * (uint *)(iVar10 + uVar21);
								uVar17 = (ulonglong) * (uint *)(iVar12 + uVar21);
								FUN_1009508c(param_1, (int *)lVar25, uVar13, uVar17, uVar18, (uint)param_6, (int)param_7,
								    (int)param_8, in_stack_fffffe28);
								uVar22 = (undefined4)param_8;
								uVar20 = (undefined4)param_7;
								uVar21 = (uint)param_6;
								bVar1 = iVar24 != 0;
								lVar25 = lVar25 + 0x170;
								iVar24 = iVar24 + -1;
							} while (bVar1);
							CalcPlrInv(param_1, 0, uVar13, uVar17, uVar18, param_6, param_7, param_8, in_stack_fffffe28);
						} else {
							SetPlrHandItem((int)&local_1a8, 0x17, (char)uVar13, (char)uVar17, (char)uVar18, (char)param_6, (char)param_7, (char)param_8, in_stack_fffffe28);
							sprintf((int)auStack363, ppuVar11[-0x166b], piVar5 + 0x4f, uVar23, uVar19, uVar21,
							    uVar20, uVar22, in_stack_fffffe28, in_stack_fffffe2f, in_stack_fffffe3c,
							    in_stack_fffffe40, in_stack_fffffe44, in_stack_fffffe48, in_stack_fffffe4c,
							    in_stack_fffffe50, in_stack_fffffe54);
							cVar2 = puVar9[iVar6 + 0x15c];
							if (cVar2 == '\x02') {
								local_e8 = 0x13;
							} else {
								if (cVar2 == '\0') {
									local_e8 = 0x14;
								} else {
									if (cVar2 == '\x01') {
										local_e8 = 0x15;
									}
								}
							}
							uVar18 = uVar27 + lVar26;
							iVar12 = (int)uVar18;
							local_1a4 = (ushort)((int)*(char *)(iVar12 + 0x13c) << 8) | (short)*(char *)(iVar12 + 0x13d);
							uVar17 = (ulonglong) * (byte *)(iVar12 + 0x141);
							local_1a8 = (int)(char)*(byte *)(iVar12 + 0x141) | (int)*(char *)(iVar12 + 0x140) << 8 | (int)*(char *)(iVar12 + 0x13e) << 0x18 | (int)*(char *)(iVar12 + 0x13f) << 0x10;
							local_e4 = (int)*(char *)(iVar12 + 0x1b4);
							uVar13 = (ulonglong)local_1a8;
							iVar12 = FindGetItem(0x17, local_1a4, local_1a8);
							if (iVar12 == -1) {
								uVar13 = 0;
								uVar17 = 0;
								FUN_1009508c(param_1, (int *)&local_1a8, 0, 0, uVar18, uVar21, uVar20, uVar22,
								    in_stack_fffffe28);
							}
						}
					}
				}
			}
		}
		SetPlayerHitPoints(param_1, 0, uVar13, uVar17, uVar18, uVar21, uVar20, uVar22, in_stack_fffffe28);
	}
	return;
}

void FUN_10095610(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    longlong param_5, uint param_6, int param_7, int param_8, undefined4 param_9)

{
	int *piVar1;
	undefined *puVar2;
	undefined *puVar3;
	int iVar4;
	int iVar5;
	int *piVar7;
	ulonglong uVar6;
	undefined uVar8;
	undefined uVar9;
	undefined7 uVar10;
	undefined uVar11;
	longlong lVar12;
	longlong lVar13;
	longlong lVar14;
	longlong lVar15;
	int iVar16;
	int iVar17;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar2 = PTR_DAT_100f1828;
	uVar10 = (undefined7)((ulonglong)param_5 >> 8);
	uVar11 = (undefined)param_5;
	lVar14 = (longlong)param_8;
	lVar13 = (longlong)param_7;
	lVar12 = (longlong)(int)param_6;
	uVar6 = ZEXT48(&toc);
	if (3 < (param_1 & 0xffffffff)) {
		app_fatal(_DAT_100f3620, param_1, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffb8, in_stack_ffffffbc,
		    in_stack_ffffffc0, in_stack_ffffffc4, in_stack_ffffffc8, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4);
	}
	iVar4 = (int)param_1;
	puVar3 = puVar2 + iVar4 * 0x55ec;
	piVar1 = (int *)(puVar2 + iVar4 * 0x55ec + 0x1c8);
	piVar7 = (int *)(puVar3 + 0x53d4);
	iVar16 = 0;
	iVar17 = *piVar1 >> 1;
	while (true) {
		uVar9 = (undefined)param_4;
		uVar8 = (undefined)param_3;
		iVar5 = (int)uVar6;
		if ((7 < iVar16) || (iVar17 < 1))
			break;
		puVar2 = puVar3 + iVar16 * 0x170;
		if (*(int *)(puVar2 + 0x485c) == 0xb) {
			iVar5 = *(int *)(puVar2 + 0x4918);
			if (iVar5 != 5000) {
				if (iVar17 < iVar5) {
					*(int *)(puVar2 + 0x4918) = iVar5 - iVar17;
					SetSpdbarGoldCurs(iVar4, iVar16);
					SetPlrHandItem((int)piVar7, 0, uVar8, uVar9, uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
					    in_stack_ffffffa8);
					GetGoldSeed(iVar4, piVar7, uVar8, uVar9, uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
					    in_stack_ffffffa8);
					FUN_1004c8d0((int)piVar7);
					*(int *)(puVar3 + 0x5498) = iVar17;
					param_3 = 0;
					param_4 = 0;
					FUN_1009508c(param_1, piVar7, 0, 0, CONCAT71(uVar10, uVar11), (uint)lVar12, (int)lVar13,
					    (int)lVar14, in_stack_ffffffa8);
					iVar17 = 0;
				} else {
					iVar17 = iVar17 - iVar5;
					RemoveSpdBarItem(iVar4, iVar16, uVar8, uVar9, uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
					    in_stack_ffffffa8);
					SetPlrHandItem((int)piVar7, 0, uVar8, uVar9, uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
					    in_stack_ffffffa8);
					GetGoldSeed(iVar4, piVar7, uVar8, uVar9, uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
					    in_stack_ffffffa8);
					FUN_1004c8d0((int)piVar7);
					*(int *)(puVar3 + 0x5498) = *(int *)(puVar2 + 0x4918);
					param_3 = 0;
					param_4 = 0;
					FUN_1009508c(param_1, piVar7, 0, 0, CONCAT71(uVar10, uVar11), (uint)lVar12, (int)lVar13,
					    (int)lVar14, in_stack_ffffffa8);
					iVar16 = -1;
				}
			}
		}
		iVar16 = iVar16 + 1;
	}
	if (0 < iVar17) {
		iVar16 = 0;
		while (true) {
			uVar9 = (undefined)param_4;
			uVar8 = (undefined)param_3;
			iVar5 = (int)uVar6;
			if ((7 < iVar16) || (iVar17 < 1))
				break;
			puVar2 = puVar3 + iVar16 * 0x170;
			if (*(int *)(puVar2 + 0x485c) == 0xb) {
				iVar5 = *(int *)(puVar2 + 0x4918);
				if (iVar17 < iVar5) {
					*(int *)(puVar2 + 0x4918) = iVar5 - iVar17;
					SetSpdbarGoldCurs(iVar4, iVar16);
					SetPlrHandItem((int)piVar7, 0, uVar8, uVar9, uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
					    in_stack_ffffffa8);
					GetGoldSeed(iVar4, piVar7, uVar8, uVar9, uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
					    in_stack_ffffffa8);
					FUN_1004c8d0((int)piVar7);
					*(int *)(puVar3 + 0x5498) = iVar17;
					param_3 = 0;
					param_4 = 0;
					FUN_1009508c(param_1, piVar7, 0, 0, CONCAT71(uVar10, uVar11), (uint)lVar12, (int)lVar13,
					    (int)lVar14, in_stack_ffffffa8);
					iVar17 = 0;
				} else {
					iVar17 = iVar17 - iVar5;
					RemoveSpdBarItem(iVar4, iVar16, uVar8, uVar9, uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
					    in_stack_ffffffa8);
					SetPlrHandItem((int)piVar7, 0, uVar8, uVar9, uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
					    in_stack_ffffffa8);
					GetGoldSeed(iVar4, piVar7, uVar8, uVar9, uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
					    in_stack_ffffffa8);
					FUN_1004c8d0((int)piVar7);
					*(int *)(puVar3 + 0x5498) = *(int *)(puVar2 + 0x4918);
					param_3 = 0;
					param_4 = 0;
					FUN_1009508c(param_1, piVar7, 0, 0, CONCAT71(uVar10, uVar11), (uint)lVar12, (int)lVar13,
					    (int)lVar14, in_stack_ffffffa8);
					iVar16 = -1;
				}
			}
			iVar16 = iVar16 + 1;
		}
	}
	**(undefined4 **)(iVar5 + -0x76bc) = 0xff;
	if (0 < iVar17) {
		lVar15 = 0;
		while (true) {
			uVar9 = (undefined)param_4;
			uVar8 = (undefined)param_3;
			iVar16 = (int)lVar15;
			if ((*(int *)(puVar3 + 0x4828) <= iVar16) || (iVar17 < 1))
				break;
			puVar2 = puVar3 + iVar16 * 0x170;
			if (*(int *)(puVar2 + 0xeb0) == 0xb) {
				iVar5 = *(int *)(puVar2 + 0xf6c);
				if (iVar5 != 5000) {
					if (iVar17 < iVar5) {
						*(int *)(puVar2 + 0xf6c) = iVar5 - iVar17;
						SetGoldCurs(iVar4, iVar16);
						SetPlrHandItem((int)piVar7, 0, uVar8, uVar9, uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
						    in_stack_ffffffa8);
						GetGoldSeed(iVar4, piVar7, uVar8, uVar9, uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
						    in_stack_ffffffa8);
						FUN_1004c8d0((int)piVar7);
						*(int *)(puVar3 + 0x5498) = iVar17;
						param_3 = 0;
						param_4 = 0;
						FUN_1009508c(param_1, piVar7, 0, 0, CONCAT71(uVar10, uVar11), (uint)lVar12, (int)lVar13,
						    (int)lVar14, in_stack_ffffffa8);
						iVar17 = 0;
					} else {
						iVar17 = iVar17 - iVar5;
						RemoveInvItem(param_1, lVar15, uVar8, uVar9, uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
						    in_stack_ffffffa8);
						SetPlrHandItem((int)piVar7, 0, uVar8, uVar9, uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
						    in_stack_ffffffa8);
						GetGoldSeed(iVar4, piVar7, uVar8, uVar9, uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
						    in_stack_ffffffa8);
						FUN_1004c8d0((int)piVar7);
						*(int *)(puVar3 + 0x5498) = *(int *)(puVar2 + 0xf6c);
						param_3 = 0;
						param_4 = 0;
						FUN_1009508c(param_1, piVar7, 0, 0, CONCAT71(uVar10, uVar11), (uint)lVar12, (int)lVar13,
						    (int)lVar14, in_stack_ffffffa8);
						lVar15 = -1;
					}
				}
			}
			lVar15 = lVar15 + 1;
		}
		if (0 < iVar17) {
			lVar15 = 0;
			while (true) {
				uVar9 = (undefined)param_4;
				uVar8 = (undefined)param_3;
				iVar16 = (int)lVar15;
				if ((*(int *)(puVar3 + 0x4828) <= iVar16) || (iVar17 < 1))
					break;
				puVar2 = puVar3 + iVar16 * 0x170;
				if (*(int *)(puVar2 + 0xeb0) == 0xb) {
					iVar5 = *(int *)(puVar2 + 0xf6c);
					if (iVar17 < iVar5) {
						*(int *)(puVar2 + 0xf6c) = iVar5 - iVar17;
						SetGoldCurs(iVar4, iVar16);
						SetPlrHandItem((int)piVar7, 0, uVar8, uVar9, uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
						    in_stack_ffffffa8);
						GetGoldSeed(iVar4, piVar7, uVar8, uVar9, uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
						    in_stack_ffffffa8);
						FUN_1004c8d0((int)piVar7);
						*(int *)(puVar3 + 0x5498) = iVar17;
						param_3 = 0;
						param_4 = 0;
						FUN_1009508c(param_1, piVar7, 0, 0, CONCAT71(uVar10, uVar11), (uint)lVar12, (int)lVar13,
						    (int)lVar14, in_stack_ffffffa8);
						iVar17 = 0;
					} else {
						iVar17 = iVar17 - iVar5;
						RemoveInvItem(param_1, lVar15, uVar8, uVar9, uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
						    in_stack_ffffffa8);
						SetPlrHandItem((int)piVar7, 0, uVar8, uVar9, uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
						    in_stack_ffffffa8);
						GetGoldSeed(iVar4, piVar7, uVar8, uVar9, uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
						    in_stack_ffffffa8);
						FUN_1004c8d0((int)piVar7);
						*(int *)(puVar3 + 0x5498) = *(int *)(puVar2 + 0xf6c);
						param_3 = 0;
						param_4 = 0;
						FUN_1009508c(param_1, piVar7, 0, 0, CONCAT71(uVar10, uVar11), (uint)lVar12, (int)lVar13,
						    (int)lVar14, in_stack_ffffffa8);
						lVar15 = -1;
					}
				}
				lVar15 = lVar15 + 1;
			}
		}
	}
	uVar6 = CalculateGold(iVar4);
	*piVar1 = (int)uVar6;
	return;
}

void SyncPlrKill(ulonglong param_1, uint param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	ulonglong uVar2;
	int *piVar3;
	ulonglong uVar4;
	undefined4 in_stack_ffffffc8;

	uVar4 = ZEXT48(PTR_DAT_100f196c);
	if ((*(int *)(PTR_DAT_100f1828 + (int)param_1 * 0x55ec + 0x194) == 0) && (*PTR_DAT_100f17ec == '\0')) {
		SetPlayerHitPoints(param_1, 0x40, uVar4, param_4, param_5, (int)param_6, (int)param_7, (int)param_8,
		    in_stack_ffffffc8);
	} else {
		uVar2 = (ulonglong) * (uint *)PTR_DAT_100f1968;
		piVar3 = (int *)PTR_DAT_100f1970;
		if (0 < (int)*(uint *)PTR_DAT_100f1968) {
			do {
				if (((*(int *)(PTR_DAT_100f196c + *piVar3 * 0xb4) == 0xd) && (puVar1 = PTR_DAT_100f196c + *piVar3 * 0xb4, (int)param_1 == *(int *)(puVar1 + 0x78)))
				    && (*(int *)(puVar1 + 0x34) == 0)) {
					if (param_2 == 0xffffffff) {
						return;
					}
					*(uint *)(puVar1 + 0xb0) = param_2;
					return;
				}
				piVar3 = piVar3 + 1;
				uVar2 = uVar2 - 1;
			} while (uVar2 != 0);
		}
		SetPlayerHitPoints(param_1, 0, uVar4, param_4, param_5, (int)param_6, (int)param_7, (int)param_8,
		    in_stack_ffffffc8);
		FUN_10095224(param_1, param_2, uVar4, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return;
}

void FUN_10095b28(ulonglong param_1, uint param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	FUN_10095224(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void RemovePlrMissiles(uint param_1, undefined8 param_2, ulonglong param_3, ulonglong param_4,
    ulonglong param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined **ppuVar7;
	longlong lVar8;
	undefined7 uVar9;
	undefined uVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	int *piVar14;
	int iVar15;
	ulonglong uVar16;
	uint *puVar17;
	undefined4 in_stack_ffffffa8;

	puVar6 = PTR_DAT_100f196c;
	puVar5 = PTR_DAT_100f1968;
	puVar4 = PTR_DAT_100f187c;
	puVar3 = PTR_DAT_100f1824;
	uVar9 = (undefined7)(param_5 >> 8);
	uVar10 = (undefined)param_5;
	lVar13 = (longlong)param_8;
	lVar12 = (longlong)param_7;
	lVar11 = (longlong)param_6;
	ppuVar7 = &toc;
	uVar16 = ZEXT48(PTR_DAT_100f187c);
	if ((*PTR_DAT_100f17ec != '\0') && (uVar1 = *(uint *)PTR_DAT_100f1824, param_1 == uVar1)) {
		puVar2 = PTR_DAT_100f187c + 0x20;
		if ((*(int *)(puVar2 + uVar1 * 0xe8) != 1) || (*(int *)(PTR_DAT_100f187c + uVar1 * 0xe8 + 0x24) != 0)) {
			ppuVar7 = &toc;
			M_StartKill((ulonglong)uVar1, (ulonglong)uVar1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
			iVar15 = *(int *)puVar3 * 0xe8;
			AddDead(*(int *)(puVar2 + iVar15), *(int *)(puVar4 + 0x24 + iVar15),
			    (uint) * (byte *)(*(int *)(puVar4 + iVar15 + 0xe0) + 0x1fd),
			    *(int *)(puVar4 + iVar15 + 0x48));
			param_4 = 0;
			uVar1 = *(uint *)ppuVar7[-0x1d9f];
			param_3 = (ulonglong)uVar1;
			*(undefined2 *)(uVar1 + *(int *)(puVar2 + *(int *)puVar3 * 0xe8) * 0xe0 + *(int *)(puVar4 + 0x24 + *(int *)puVar3 * 0xe8) * 2) = 0;
			lVar8 = uVar16 + (ulonglong) * (uint *)puVar3 * 0xe8;
			*(undefined4 *)((int)lVar8 + 0x70) = 1;
			DeleteMonsterList((char)lVar8, 1, (char)uVar1, 0, uVar10, (char)lVar11, (char)lVar12, (char)lVar13,
			    in_stack_ffffffa8);
		}
	}
	puVar17 = (uint *)ppuVar7[-0x1d98];
	iVar15 = 0;
	while (iVar15 < *(int *)puVar5) {
		uVar1 = *puVar17;
		if ((*(int *)(puVar6 + uVar1 * 0xb4) == 0x1e) && (puVar3 = puVar6 + uVar1 * 0xb4, param_1 == *(uint *)(puVar3 + 0x78))) {
			*(undefined4 *)(puVar4 + *(int *)(puVar3 + 0x98) * 0xe8 + 4) = *(undefined4 *)(puVar3 + 0x94);
		}
		piVar14 = (int *)(puVar6 + uVar1 * 0xb4);
		if ((*piVar14 == 0xd) && (param_1 == piVar14[0x1e])) {
			ClearMissileSpot(uVar1);
			DeleteMissile((ulonglong)uVar1, iVar15, param_3, param_4, CONCAT71(uVar9, uVar10), (int)lVar11,
			    (int)lVar12, (int)lVar13, in_stack_ffffffa8);
		}
		if ((*piVar14 == 0x22) && (param_1 == piVar14[0x1e])) {
			ClearMissileSpot(uVar1);
			DeleteMissile((ulonglong)uVar1, iVar15, param_3, param_4, CONCAT71(uVar9, uVar10), (int)lVar11,
			    (int)lVar12, (int)lVar13, in_stack_ffffffa8);
		}
		puVar17 = puVar17 + 1;
		iVar15 = iVar15 + 1;
	}
	return;
}

void InitLevelChange(ulonglong param_1, undefined8 param_2, ulonglong param_3, ulonglong param_4,
    ulonglong param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	uint uVar7;
	undefined8 uVar6;
	longlong lVar8;
	undefined7 uVar9;
	undefined uVar10;
	ulonglong uVar11;
	undefined4 in_stack_ffffffb8;

	puVar2 = PTR_DAT_100f18a0;
	puVar3 = PTR_DAT_100f1828;
	puVar4 = PTR_DAT_100f1824;
	uVar9 = (undefined7)(param_5 >> 8);
	uVar10 = (undefined)param_5;
	ppuVar5 = &toc;
	uVar11 = ZEXT48(PTR_DAT_100f1828);
	uVar7 = (uint)param_1;
	uVar7._3_1_ = RemovePlrMissiles(uVar7, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	if ((uVar7 == *(uint *)puVar4) && (*puVar2 != '\0')) {
		*puVar2 = 0;
		uVar6 = sfx_stop((undefined)uVar7, (char)param_2, (char)param_3, (char)param_4, uVar10,
		    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffb8);
		music_stop2(uVar6, param_2, param_3, param_4, CONCAT71(uVar9, uVar10), param_6, param_7, param_8,
		    in_stack_ffffffb8);
	}
	RemovePlrFromMap(uVar7);
	SetPlayerOld(param_1, param_2, param_3, param_4, CONCAT71(uVar9, uVar10), param_6, param_7, param_8,
	    in_stack_ffffffb8);
	uVar1 = *(uint *)puVar4;
	if (uVar7 == uVar1) {
		param_4 = (ulonglong)uVar1 + 1;
		param_3 = (ulonglong) * (uint *)ppuVar5[-0x1da0];
		lVar8 = uVar11 + (ulonglong)uVar1 * 0x55ec;
		*(undefined *)(*(uint *)ppuVar5[-0x1da0] + *(int *)((int)lVar8 + 0x38) * 0x70 + *(int *)((int)lVar8 + 0x3c))
		    = (char)param_4;
	} else {
		puVar2 = puVar3 + uVar7 * 0x55ec;
		lVar8 = 1;
		puVar2[*(int *)(puVar2 + 0x34) + 0x1f0] = 1;
	}
	ClrPlrPath(param_1, lVar8, param_3, param_4, CONCAT71(uVar9, uVar10), param_6, param_7, param_8,
	    in_stack_ffffffb8);
	puVar3 = puVar3 + uVar7 * 0x55ec;
	*(undefined4 *)(puVar3 + 0x20) = 0xffffffff;
	puVar3[0x13b] = 1;
	if (uVar7 == *(uint *)puVar4) {
		puVar3[0x5592] = 10;
	}
	return;
}

void StartNewLvl(ulonglong param_1, longlong param_2, ulonglong param_3, ulonglong param_4,
    ulonglong param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined4 *puVar2;
	int iVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined **ppuVar7;
	ulonglong uVar8;
	ulonglong uVar9;
	undefined7 uVar10;
	undefined uVar11;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	int local_3c;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar6 = PTR_s_StartNewLvl__illegal_player__d_100f361c;
	puVar5 = PTR_DAT_100f1828;
	puVar4 = PTR_DAT_100f1824;
	uVar10 = (undefined7)(param_5 >> 8);
	uVar11 = (undefined)param_5;
	ppuVar7 = &toc;
	uVar9 = param_3;
	InitLevelChange(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	if (3 < (param_1 & 0xffffffff)) {
		app_fatal((int)puVar6, param_1, uVar9, param_4, CONCAT71(uVar10, uVar11), param_6, param_7, param_8,
		    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4);
	}
	uVar1 = *(uint *)puVar4;
	uVar8 = (ulonglong)uVar1;
	if (3 < uVar1) {
		app_fatal((int)puVar6, uVar8, uVar9, param_4, CONCAT71(uVar10, uVar11), param_6, param_7, param_8,
		    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4);
	}
	if ((param_2 - 0x402U & 0xffffffff) < 8) {
		// WARNING: Could not recover jumptable at 0x10095e6c. Too many branches
		// WARNING: Treating indirect jump as call
		(**(code **)(ppuVar7[-0x166f] + (int)(param_2 - 0x402U) * 4))();
		return;
	}
	app_fatal((int)ppuVar7[-0x166e], uVar8, uVar9, param_4, CONCAT71(uVar10, uVar11), param_6, param_7,
	    param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc,
	    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
	    in_stack_ffffffe0, in_stack_ffffffe4);
	if ((int)param_1 == *(int *)puVar4) {
		iVar3 = (int)param_1 * 0x55ec;
		puVar2 = (undefined4 *)ppuVar7[-0x1e03];
		*(undefined4 *)(puVar5 + iVar3) = 10;
		puVar5[iVar3 + 0x139] = 1;
		PostMessage((char)*puVar2, (char)param_2, 0, 0, uVar11, (char)param_6, (char)param_7, (char)param_8,
		    (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
		if (1 < **(byte **)(local_3c + -0x77f0)) {
			NetSendCmdParam2(1, 0x1e, (ulonglong)((uint)param_2 & 0xffff), (ulonglong)((uint)param_3 & 0xffff),
			    CONCAT71(uVar10, uVar11), param_6, param_7, param_8, in_stack_ffffffb8);
		}
	}
	return;
}

void RestartTownLvl(ulonglong param_1, undefined8 param_2, ulonglong param_3, ulonglong param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined *puVar2;
	int iVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	ulonglong uVar6;
	undefined7 uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined4 in_stack_ffffffb8;
	undefined uVar12;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar4 = PTR_DAT_100f1828;
	uVar7 = (undefined7)(param_5 >> 8);
	uVar8 = (undefined)param_5;
	ppuVar5 = &toc;
	InitLevelChange(param_1, param_2, param_3, param_4, param_5, (int)param_6, (int)param_7, (int)param_8,
	    in_stack_ffffffb8);
	if (3 < (param_1 & 0xffffffff)) {
		app_fatal((int)ppuVar5[-0x1670], param_1, param_3, param_4, CONCAT71(uVar7, uVar8), (int)param_6,
		    (int)param_7, (int)param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	iVar3 = (int)param_1 * 0x55ec;
	puVar2 = puVar4 + iVar3;
	*(undefined4 *)(puVar2 + 0x34) = 0;
	puVar2[0x139] = 0;
	SetPlayerHitPoints(param_1, 0x40, param_3, param_4, CONCAT71(uVar7, uVar8), (int)param_6, (int)param_7,
	    (int)param_8, in_stack_ffffffb8);
	uVar12 = (undefined)in_stack_ffffffb8;
	uVar11 = (undefined)param_8;
	uVar10 = (undefined)param_7;
	uVar9 = (undefined)param_6;
	*(undefined4 *)(puVar2 + 0x1a8) = 0;
	uVar6 = (ulonglong) * (uint *)(puVar2 + 0x1ac) - (ulonglong) * (uint *)(puVar2 + 0x1a4);
	*(int *)(puVar2 + 0x1a0) = *(int *)(puVar2 + 0x1a8) - (int)uVar6;
	CalcPlrInv(param_1, 0, uVar6, (ulonglong) * (uint *)(puVar2 + 0x1a4), CONCAT71(uVar7, uVar8), param_6,
	    param_7, param_8, in_stack_ffffffb8);
	if ((int)param_1 == *(int *)ppuVar5[-0x1deb]) {
		puVar1 = (undefined4 *)ppuVar5[-0x1e03];
		*(undefined4 *)(puVar4 + iVar3) = 10;
		puVar2[0x139] = 1;
		PostMessage((char)*puVar1, 9, 0, 0, uVar8, uVar9, uVar10, uVar11, uVar12, in_stack_ffffffbf, local_3c);
	}
	return;
}

void StartWarpLvl(ulonglong param_1, undefined8 param_2, ulonglong param_3, ulonglong param_4,
    ulonglong param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	int iVar9;
	undefined4 in_stack_ffffffb8;
	undefined uVar10;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	puVar3 = PTR_DAT_100f1828;
	uVar10 = (undefined)in_stack_ffffffb8;
	uVar5 = (undefined)param_5;
	uVar8 = (undefined)param_8;
	uVar7 = (undefined)param_7;
	uVar6 = (undefined)param_6;
	ppuVar4 = &toc;
	InitLevelChange(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	iVar9 = (int)param_1;
	if (*ppuVar4[-0x1dfc] != '\x01') {
		puVar2 = puVar3 + iVar9 * 0x55ec;
		if (*(int *)(puVar2 + 0x34) == 0) {
			*(undefined4 *)(puVar2 + 0x34) = *(undefined4 *)(ppuVar4[-0x1c52] + (int)param_2 * 0x18 + 0xc);
		} else {
			*(undefined4 *)(puVar2 + 0x34) = 0;
		}
	}
	if (iVar9 == *(int *)ppuVar4[-0x1deb]) {
		SetCurrentPortal((int)param_2);
		puVar1 = (undefined4 *)ppuVar4[-0x1e03];
		*(undefined4 *)(puVar3 + iVar9 * 0x55ec) = 10;
		puVar3[iVar9 * 0x55ec + 0x139] = 1;
		PostMessage((char)*puVar1, 6, 0, 0, uVar5, uVar6, uVar7, uVar8, uVar10, in_stack_ffffffbf, local_3c);
	}
	return;
}

undefined8
FUN_100960fc(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined param_9, undefined param_10, undefined4 param_11)

{
	return 0;
}

undefined8
PM_DoWalk(ulonglong param_1, undefined8 param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	int iVar1;
	int iVar2;
	uint uVar3;
	int *piVar4;
	undefined *puVar5;
	int iVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined **ppuVar11;
	ulonglong uVar12;
	ulonglong uVar13;
	undefined8 uVar14;
	undefined4 uVar15;
	undefined4 uVar16;
	undefined4 uVar17;
	uint *puVar18;
	int *piVar19;
	ulonglong uVar20;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar10 = PTR_DAT_100f1950;
	puVar9 = PTR_DAT_100f183c;
	puVar8 = PTR_DAT_100f1828;
	puVar7 = PTR_DAT_100f1818;
	ppuVar11 = &toc;
	uVar20 = ZEXT48(PTR_DAT_100f1828);
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar11 = &toc;
		app_fatal((int)PTR_s_PM_DoWalk__illegal_player__d_100f360c, param_1, param_3, param_4, param_5,
		    (int)param_6, (int)param_7, (int)param_8, in_stack_ffffffa8, in_stack_ffffffaf,
		    in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
	}
	iVar6 = (int)(param_1 * 0x55ec);
	iVar1 = *(int *)(puVar8 + iVar6 + 0x8c);
	if (((iVar1 == 3) || ((iVar2 = *(int *)(puVar8 + iVar6 + 0x2a0), iVar2 == 8 && (iVar1 == 7)))) || ((iVar2 != 8 && (iVar1 == 4)))) {
		param_3 = (ulonglong) * (uint *)(puVar8 + iVar6 + 0x3c);
		PlaySfxLoc(0, (ulonglong) * (uint *)(puVar8 + iVar6 + 0x38), param_3, param_4, param_5, (int)param_6,
		    (int)param_7, (int)param_8, in_stack_ffffffa8);
	}
	uVar12 = 8;
	if (*ppuVar11[-0x1df9] != '\0') {
		uVar12 = (ulonglong) * (uint *)(ppuVar11[-0x1be4] + (int)(char)puVar8[iVar6 + 0x15c] * 4);
	}
	puVar5 = puVar8 + iVar6;
	if ((int)uVar12 == *(int *)(puVar5 + 0x1ec)) {
		piVar19 = (int *)(puVar5 + 0x38);
		puVar18 = (uint *)(puVar5 + 0x3c);
		uVar14 = 0;
		uVar3 = *(uint *)puVar10;
		uVar13 = (ulonglong)uVar3;
		uVar12 = (longlong)(char)param_1 + 1;
		*(undefined *)(uVar3 + *(int *)(puVar5 + 0x38) * 0x70 + *(int *)(puVar5 + 0x3c)) = 0;
		*(int *)(puVar5 + 0x38) = *(int *)(puVar5 + 0x38) + *(int *)(puVar5 + 0x1d0);
		*(int *)(puVar5 + 0x3c) = *(int *)(puVar5 + 0x3c) + *(int *)(puVar5 + 0x1d4);
		*(undefined *)(*(int *)puVar10 + *(int *)(puVar5 + 0x38) * 0x70 + *(int *)(puVar5 + 0x3c)) = (char)uVar12;
		if (*puVar9 != '\0') {
			ChangeLightXY(*(int *)(puVar5 + 0x9c), *piVar19, *puVar18);
			uVar12 = (ulonglong)*puVar18;
			ChangeVisionXY(*(int *)(puVar5 + 0xa0), *piVar19, *puVar18);
		}
		uVar17 = (undefined4)param_8;
		uVar16 = (undefined4)param_7;
		uVar15 = (undefined4)param_6;
		if (((int)param_1 == *(int *)ppuVar11[-0x1deb]) && (*(int *)(puVar7 + 0x10) != 0)) {
			piVar4 = (int *)ppuVar11[-0x1ded];
			*(int *)ppuVar11[-0x1dec] = *piVar19 - *(int *)(puVar7 + 8);
			*piVar4 = *puVar18 - *(int *)(puVar7 + 0xc);
		}
		uVar20 = uVar20 + param_1 * 0x55ec;
		if (*(char *)((int)uVar20 + 4) == -1) {
			uVar20 = (ulonglong) * (uint *)((int)uVar20 + 0x1d8);
			StartStand(param_1, uVar20, uVar12, uVar13, uVar14, param_6, param_7, param_8, in_stack_ffffffa8);
		} else {
			StartWalkStand(param_1, uVar20, uVar12, uVar13, uVar14, uVar15, uVar16, uVar17, in_stack_ffffffa8);
		}
		ClearPlrPVars(param_1, uVar20, uVar12, uVar13, uVar14, uVar15, uVar16, uVar17, in_stack_ffffffa8);
		if (*puVar9 != '\0') {
			ChangeLightOff(*(int *)(puVar8 + iVar6 + 0x9c), 0, 0);
		}
		uVar14 = 1;
	} else {
		M_ChangeOffset(param_1, uVar12, param_3, param_4, param_5, (int)param_6, (int)param_7, (int)param_8,
		    in_stack_ffffffa8);
		uVar14 = 0;
	}
	return uVar14;
}

undefined8
PM_DoWalk2(ulonglong param_1, undefined8 param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	int iVar1;
	int iVar2;
	int *piVar3;
	undefined *puVar4;
	int iVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined **ppuVar9;
	undefined8 uVar10;
	ulonglong uVar11;
	undefined4 uVar12;
	undefined4 uVar13;
	undefined4 uVar14;
	longlong lVar15;
	ulonglong uVar16;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar8 = PTR_DAT_100f183c;
	puVar7 = PTR_DAT_100f1828;
	puVar6 = PTR_DAT_100f1818;
	ppuVar9 = &toc;
	uVar16 = ZEXT48(PTR_DAT_100f1828);
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar9 = &toc;
		app_fatal((int)PTR_s_PM_DoWalk2__illegal_player__d_100f3608, param_1, param_3, param_4, param_5,
		    (int)param_6, (int)param_7, (int)param_8, in_stack_ffffffa8, in_stack_ffffffaf,
		    in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
	}
	lVar15 = param_1 * 0x55ec;
	iVar5 = (int)lVar15;
	iVar1 = *(int *)(puVar7 + iVar5 + 0x8c);
	if (((iVar1 == 3) || ((iVar2 = *(int *)(puVar7 + iVar5 + 0x2a0), iVar2 == 8 && (iVar1 == 7)))) || ((iVar2 != 8 && (iVar1 == 4)))) {
		param_3 = (ulonglong) * (uint *)(puVar7 + iVar5 + 0x3c);
		PlaySfxLoc(0, (ulonglong) * (uint *)(puVar7 + iVar5 + 0x38), param_3, param_4, param_5, (int)param_6,
		    (int)param_7, (int)param_8, in_stack_ffffffa8);
	}
	uVar11 = 8;
	if (*ppuVar9[-0x1df9] != '\0') {
		uVar11 = (ulonglong) * (uint *)(ppuVar9[-0x1be4] + (int)(char)puVar7[iVar5 + 0x15c] * 4);
	}
	puVar4 = puVar7 + iVar5;
	if ((int)uVar11 == *(int *)(puVar4 + 0x1ec)) {
		uVar11 = 0;
		*(undefined *)(*(int *)ppuVar9[-0x1da0] + *(int *)(puVar4 + 0x1d0) * 0x70 + *(int *)(puVar4 + 0x1d4)) = 0;
		if (*puVar8 != '\0') {
			ChangeLightXY(*(int *)(puVar4 + 0x9c), *(undefined4 *)(puVar4 + 0x38),
			    *(undefined4 *)(puVar4 + 0x3c));
			uVar11 = (ulonglong) * (uint *)(puVar4 + 0x3c);
			ChangeVisionXY(*(int *)(puVar4 + 0xa0), *(undefined4 *)(puVar4 + 0x38), *(uint *)(puVar4 + 0x3c));
		}
		uVar14 = (undefined4)param_8;
		uVar13 = (undefined4)param_7;
		uVar12 = (undefined4)param_6;
		if (((int)param_1 == *(int *)ppuVar9[-0x1deb]) && (*(int *)(puVar6 + 0x10) != 0)) {
			uVar11 = uVar16 + lVar15;
			piVar3 = (int *)ppuVar9[-0x1ded];
			*(int *)ppuVar9[-0x1dec] = *(int *)((int)uVar11 + 0x38) - *(int *)(puVar6 + 8);
			*piVar3 = *(int *)((int)uVar11 + 0x3c) - *(int *)(puVar6 + 0xc);
		}
		uVar16 = uVar16 + lVar15;
		if (*(char *)((int)uVar16 + 4) == -1) {
			uVar16 = (ulonglong) * (uint *)((int)uVar16 + 0x1d8);
			StartStand(param_1, uVar16, uVar11, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
		} else {
			StartWalkStand(param_1, uVar16, uVar11, param_4, param_5, uVar12, uVar13, uVar14, in_stack_ffffffa8);
		}
		ClearPlrPVars(param_1, uVar16, uVar11, param_4, param_5, uVar12, uVar13, uVar14, in_stack_ffffffa8);
		if (*puVar8 != '\0') {
			ChangeLightOff(*(int *)(puVar7 + iVar5 + 0x9c), 0, 0);
		}
		uVar10 = 1;
	} else {
		M_ChangeOffset(param_1, uVar11, param_3, param_4, param_5, (int)param_6, (int)param_7, (int)param_8,
		    in_stack_ffffffa8);
		uVar10 = 0;
	}
	return uVar10;
}

undefined8
PM_DoWalk3(ulonglong param_1, undefined8 param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	int iVar1;
	uint uVar2;
	int *piVar3;
	undefined *puVar4;
	int iVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined **ppuVar10;
	int iVar11;
	ulonglong uVar12;
	longlong lVar13;
	ulonglong uVar14;
	undefined8 uVar15;
	undefined4 uVar16;
	undefined4 uVar17;
	undefined4 uVar18;
	uint *puVar19;
	int *piVar20;
	ulonglong uVar21;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar9 = PTR_DAT_100f1950;
	puVar8 = PTR_DAT_100f183c;
	puVar7 = PTR_DAT_100f1828;
	puVar6 = PTR_DAT_100f1818;
	ppuVar10 = &toc;
	uVar21 = ZEXT48(PTR_DAT_100f1828);
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar10 = &toc;
		app_fatal((int)PTR_s_PM_DoWalk3__illegal_player__d_100f3604, param_1, param_3, param_4, param_5,
		    param_6, (int)param_7, (int)param_8, in_stack_ffffffa8, in_stack_ffffffaf,
		    in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
	}
	iVar5 = (int)(param_1 * 0x55ec);
	iVar11 = *(int *)(puVar7 + iVar5 + 0x8c);
	if (((iVar11 == 3) || ((iVar1 = *(int *)(puVar7 + iVar5 + 0x2a0), iVar1 == 8 && (iVar11 == 7))))
	    || ((iVar1 != 8 && (iVar11 == 4)))) {
		param_3 = (ulonglong) * (uint *)(puVar7 + iVar5 + 0x3c);
		PlaySfxLoc(0, (ulonglong) * (uint *)(puVar7 + iVar5 + 0x38), param_3, param_4, param_5, param_6,
		    (int)param_7, (int)param_8, in_stack_ffffffa8);
	}
	uVar12 = 8;
	if (*ppuVar10[-0x1df9] != '\0') {
		uVar12 = (ulonglong) * (uint *)(ppuVar10[-0x1be4] + (int)(char)puVar7[iVar5 + 0x15c] * 4);
	}
	puVar4 = puVar7 + iVar5;
	if ((int)uVar12 == *(int *)(puVar4 + 0x1ec)) {
		piVar20 = (int *)(puVar4 + 0x38);
		puVar19 = (uint *)(puVar4 + 0x3c);
		uVar15 = 0;
		lVar13 = (ulonglong) * (uint *)(puVar4 + 0x38) * 0x70;
		uVar2 = *(uint *)puVar9;
		uVar14 = (ulonglong)uVar2;
		uVar12 = (longlong)(char)param_1 + 1;
		piVar3 = (int *)ppuVar10[-0x1de7];
		*(undefined *)(uVar2 + (int)lVar13 + *(int *)(puVar4 + 0x3c)) = 0;
		iVar11 = *(int *)(puVar4 + 0x1dc) * 0x70 + *(int *)(puVar4 + 0x1e0);
		*(byte *)(*piVar3 + iVar11) = *(byte *)(*piVar3 + iVar11) & 0xdf;
		*(undefined4 *)(puVar4 + 0x38) = *(undefined4 *)(puVar4 + 0x1d0);
		*(undefined4 *)(puVar4 + 0x3c) = *(undefined4 *)(puVar4 + 0x1d4);
		*(undefined *)(*(int *)puVar9 + *(int *)(puVar4 + 0x38) * 0x70 + *(int *)(puVar4 + 0x3c)) = (char)uVar12;
		if (*puVar8 != '\0') {
			ChangeLightXY(*(int *)(puVar4 + 0x9c), *piVar20, *puVar19);
			uVar12 = (ulonglong)*puVar19;
			ChangeVisionXY(*(int *)(puVar4 + 0xa0), *piVar20, *puVar19);
		}
		uVar16 = (undefined4)uVar15;
		uVar18 = (undefined4)param_8;
		uVar17 = (undefined4)param_7;
		if (((int)param_1 == *(int *)ppuVar10[-0x1deb]) && (*(int *)(puVar6 + 0x10) != 0)) {
			piVar3 = (int *)ppuVar10[-0x1ded];
			*(int *)ppuVar10[-0x1dec] = *piVar20 - *(int *)(puVar6 + 8);
			*piVar3 = *puVar19 - *(int *)(puVar6 + 0xc);
		}
		uVar21 = uVar21 + param_1 * 0x55ec;
		if (*(char *)((int)uVar21 + 4) == -1) {
			uVar21 = (ulonglong) * (uint *)((int)uVar21 + 0x1d8);
			StartStand(param_1, uVar21, uVar12, lVar13, uVar14, uVar15, param_7, param_8, in_stack_ffffffa8);
		} else {
			StartWalkStand(param_1, uVar21, uVar12, lVar13, uVar14, uVar16, uVar17, uVar18, in_stack_ffffffa8);
		}
		ClearPlrPVars(param_1, uVar21, uVar12, lVar13, uVar14, uVar16, uVar17, uVar18, in_stack_ffffffa8);
		if (*puVar8 != '\0') {
			ChangeLightOff(*(int *)(puVar7 + iVar5 + 0x9c), 0, 0);
		}
		uVar15 = 1;
	} else {
		M_ChangeOffset(param_1, uVar12, param_3, param_4, param_5, param_6, (int)param_7, (int)param_8,
		    in_stack_ffffffa8);
		uVar15 = 0;
	}
	return uVar15;
}

undefined8
WeaponDur(ulonglong param_1, longlong param_2, undefined8 param_3, ulonglong param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	int iVar1;
	int *piVar2;
	int *piVar3;
	int *piVar4;
	int iVar5;
	undefined *puVar6;
	undefined **ppuVar7;
	longlong lVar8;
	ulonglong uVar9;
	undefined7 uVar10;
	undefined uVar11;
	undefined7 uVar12;
	undefined uVar13;
	undefined4 uVar14;
	undefined4 uVar15;
	undefined4 uVar16;
	ulonglong uVar17;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar6 = PTR_DAT_100f1828;
	uVar12 = (undefined7)(param_5 >> 8);
	uVar13 = (undefined)param_5;
	uVar10 = (undefined7)(param_4 >> 8);
	uVar11 = (undefined)param_4;
	ppuVar7 = &toc;
	uVar9 = ZEXT48(PTR_DAT_100f1824);
	uVar17 = ZEXT48(PTR_DAT_100f1828);
	if ((int)param_1 == *(int *)PTR_DAT_100f1824) {
		lVar8 = random(3, param_2, (char)PTR_DAT_100f1824, uVar11, uVar13, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffffb8, in_stack_ffffffbf, (char)in_stack_ffffffc8);
		if ((int)lVar8 == 0) {
			if (3 < (param_1 & 0xffffffff)) {
				app_fatal((int)ppuVar7[-0x1674], param_1, uVar9, CONCAT71(uVar10, uVar11),
				    CONCAT71(uVar12, uVar13), (int)param_6, (int)param_7, (int)param_8,
				    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc,
				    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
				    in_stack_ffffffe0, in_stack_ffffffe4);
			}
			uVar16 = (undefined4)param_8;
			uVar15 = (undefined4)param_7;
			uVar14 = (undefined4)param_6;
			lVar8 = param_1 * 0x55ec;
			iVar5 = (int)lVar8;
			piVar2 = (int *)(puVar6 + iVar5 + 0xa60);
			if (*piVar2 != -1) {
				iVar1 = (int)(uVar17 + lVar8);
				if (*(char *)(iVar1 + 0xb16) == '\x01') {
					uVar9 = uVar17 + lVar8 + 0xb44;
					iVar1 = *(int *)(iVar1 + 0xb44);
					if (iVar1 == 0xff) {
						return 0;
					}
					*(int *)uVar9 = iVar1 + -1;
					if (*(int *)uVar9 == 0) {
						NetSendCmdDelItem(1, 4, uVar9, CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13), uVar14, uVar15,
						    uVar16, in_stack_ffffffb8);
						*piVar2 = -1;
						CalcPlrInv(param_1, 1, uVar9, CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13), param_6,
						    param_7, param_8, in_stack_ffffffb8);
						return 1;
					}
				}
			}
			piVar3 = (int *)(puVar6 + iVar5 + 0xbd0);
			if (*piVar3 != -1) {
				iVar1 = (int)(uVar17 + lVar8);
				if (*(char *)(iVar1 + 0xc86) == '\x01') {
					uVar9 = uVar17 + lVar8 + 0xcb4;
					iVar1 = *(int *)(iVar1 + 0xcb4);
					if (iVar1 == 0xff) {
						return 0;
					}
					*(int *)uVar9 = iVar1 + -1;
					if (*(int *)uVar9 == 0) {
						NetSendCmdDelItem(1, 5, uVar9, CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13), uVar14, uVar15,
						    uVar16, in_stack_ffffffb8);
						*piVar3 = -1;
						CalcPlrInv(param_1, 1, uVar9, CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13), param_6,
						    param_7, param_8, in_stack_ffffffb8);
						return 1;
					}
				}
			}
			if ((*piVar2 == -1) && (*piVar3 == 5)) {
				uVar9 = uVar17 + lVar8 + 0xcb4;
				piVar4 = (int *)uVar9;
				if (*piVar4 == 0xff) {
					return 0;
				}
				*piVar4 = *piVar4 + -1;
				if (*piVar4 == 0) {
					NetSendCmdDelItem(1, 5, uVar9, CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13), uVar14, uVar15,
					    uVar16, in_stack_ffffffb8);
					*piVar3 = -1;
					CalcPlrInv(param_1, 1, uVar9, CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13), param_6,
					    param_7, param_8, in_stack_ffffffb8);
					return 1;
				}
			}
			if ((*piVar3 == -1) && (*piVar2 == 5)) {
				piVar3 = (int *)(puVar6 + iVar5 + 0xb44);
				if (*piVar3 == 0xff) {
					return 0;
				}
				*piVar3 = *piVar3 + -1;
				if (*piVar3 == 0) {
					NetSendCmdDelItem(1, 4, uVar9, CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13), uVar14, uVar15,
					    uVar16, in_stack_ffffffb8);
					*piVar2 = -1;
					CalcPlrInv(param_1, 1, uVar9, CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13), param_6,
					    param_7, param_8, in_stack_ffffffb8);
					return 1;
				}
			}
			return 0;
		}
	}
	return 0;
}

ulonglong PlrHitMonst(ulonglong param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	char cVar1;
	uint uVar2;
	uint uVar3;
	uint uVar4;
	int *piVar5;
	int *piVar6;
	int iVar7;
	undefined *puVar8;
	uint *puVar9;
	int iVar10;
	undefined *puVar11;
	undefined *puVar12;
	undefined *puVar13;
	undefined **ppuVar14;
	ulonglong uVar15;
	longlong lVar16;
	undefined8 uVar17;
	undefined uVar20;
	int iVar18;
	int iVar19;
	undefined uVar21;
	undefined uVar23;
	ulonglong uVar22;
	undefined8 unaff_r17;
	int iVar24;
	undefined8 unaff_r18;
	int iVar25;
	undefined8 unaff_r19;
	undefined8 unaff_r20;
	undefined8 unaff_r21;
	undefined8 unaff_r22;
	undefined8 unaff_r23;
	longlong lVar26;
	undefined8 unaff_r24;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	ulonglong uVar27;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;
	undefined4 in_stack_ffffff98;
	undefined uVar28;
	undefined4 in_stack_ffffff9c;
	undefined4 in_stack_ffffffa0;
	undefined4 in_stack_ffffffa4;
	undefined4 in_stack_ffffffa8;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;
	uint local_48[3];
	undefined4 local_3c;
	undefined4 uStack56;
	undefined4 uStack52;
	undefined4 uStack48;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar13 = PTR_DAT_100f18e0;
	puVar12 = PTR_DAT_100f187c;
	puVar11 = PTR_DAT_100f1828;
	iVar25 = (int)unaff_r18;
	ppuVar14 = &toc;
	local_3c = (undefined4)((ulonglong)unaff_r17 >> 0x20);
	uStack56 = (undefined4)((ulonglong)unaff_r18 >> 0x20);
	uStack52 = (undefined4)((ulonglong)unaff_r19 >> 0x20);
	uStack48 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar27 = ZEXT48(PTR_DAT_100f1828);
	if (199 < (param_2 & 0xffffffff)) {
		ppuVar14 = &toc;
		app_fatal((int)PTR_s_PlrHitMonst__illegal_monster__d_100f35fc, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff98,
		    in_stack_ffffff9c, in_stack_ffffffa0, in_stack_ffffffa4, in_stack_ffffffa8,
		    in_stack_ffffffac, in_stack_ffffffb0, in_stack_ffffffb4);
	}
	uVar28 = (undefined)in_stack_ffffff98;
	uVar23 = (undefined)param_5;
	uVar21 = (undefined)param_4;
	uVar20 = (undefined)param_3;
	iVar10 = (int)param_2 * 0xe8;
	piVar5 = (int *)(puVar12 + iVar10 + 0x98);
	if (*piVar5 >> 6 == 0) {
		uVar15 = 0;
	} else {
		if ((**(char **)(puVar12 + iVar10 + 0xe0) == ' ') && ((puVar12 + iVar10)[8] == '\x02')) {
			uVar15 = 0;
		} else {
			piVar6 = (int *)(puVar12 + iVar10 + 4);
			if (*piVar6 == 0xe) {
				uVar15 = 0;
			} else {
				if (3 < (param_1 & 0xffffffff)) {
					app_fatal((int)ppuVar14[-0x1676], param_1, param_3, param_4, param_5, param_6, param_7,
					    param_8, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff98,
					    in_stack_ffffff9c, in_stack_ffffffa0, in_stack_ffffffa4, in_stack_ffffffa8,
					    in_stack_ffffffac, in_stack_ffffffb0, in_stack_ffffffb4);
				}
				uVar15 = 0;
				lVar16 = random(4, 100, uVar20, uVar21, uVar23, (char)param_6, (char)param_7, (char)param_8,
				    in_stack_ffffff88, in_stack_ffffff8f, uVar28);
				iVar18 = (int)lVar16;
				if (*piVar6 == 0xf) {
					iVar18 = 0;
				}
				lVar26 = param_1 * 0x55ec;
				uVar22 = uVar27 + lVar26;
				iVar19 = (int)uVar22;
				uVar2 = *(uint *)(iVar19 + 0x5578);
				uVar21 = (undefined)uVar2;
				lVar16 = (ulonglong)(byte)puVar12[iVar10 + 0xce] - (ulonglong)uVar2;
				uVar20 = (undefined)lVar16;
				iVar24 = (((int)*(char *)(iVar19 + 0x1b4) + 0x32) - (int)lVar16) + (*(int *)(iVar19 + 0x170) >> 1);
				if (*(char *)(iVar19 + 0x15c) == '\0') {
					iVar24 = iVar24 + 0x14;
				}
				iVar7 = (int)lVar26;
				iVar24 = iVar24 + *(int *)(puVar11 + iVar7 + 0x5554);
				if (iVar24 < 5) {
					iVar24 = 5;
				}
				if (0x5f < iVar24) {
					iVar24 = 0x5f;
				}
				uVar17 = CheckMonsterHit(param_2, local_48, lVar16, (ulonglong)uVar2, uVar22, param_6, param_7,
				    param_8, in_stack_ffffff88);
				if ((int)uVar17 == 0) {
					if (iVar18 < iVar24) {
						puVar8 = puVar11 + iVar7;
						uVar2 = *(uint *)(puVar8 + 0x5544);
						lVar16 = random(5, ((ulonglong) * (uint *)(puVar8 + 0x5548) - (ulonglong)uVar2) + 1,
						    uVar20, uVar21, (char)uVar22, (char)param_6, (char)param_7,
						    (char)param_8, in_stack_ffffff88, in_stack_ffffff8f, uVar28);
						iVar24 = uVar2 + (int)lVar16;
						iVar18 = iVar24 * *(int *)(puVar8 + 0x5550);
						uVar2 = iVar18 / 100 + (iVar18 >> 0x1f);
						uVar15 = (ulonglong)(uVar2 >> 0x1f);
						iVar18 = *(int *)(puVar8 + 0x555c) + *(int *)(puVar8 + 0x184) + iVar24 + (int)((ulonglong)uVar2 + uVar15);
						if ((*(char *)(iVar19 + 0x15c) == '\0') && (cVar1 = *(char *)(iVar19 + 0x1b4), lVar16 = random(6, 100, (char)((ulonglong)uVar2 + uVar15), (byte)(uVar2 >> 0x1f), (char)uVar22, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffff88, in_stack_ffffff8f, uVar28), (int)lVar16 < (int)cVar1)) {
							iVar18 = iVar18 * 2;
						}
						iVar19 = *(int *)(puVar11 + iVar7 + 0xa60);
						lVar16 = -1;
						if ((iVar19 == 1) || (*(int *)(puVar11 + iVar7 + 0xbd0) == 1)) {
							lVar16 = 1;
						}
						if ((iVar19 == 4) || (*(int *)(puVar11 + iVar7 + 0xbd0) == 4)) {
							lVar16 = 4;
						}
						cVar1 = *(char *)(*(int *)(puVar12 + iVar10 + 0xe4) + 0x72);
						if (cVar1 != '\x01') {
							iVar19 = (int)lVar16;
							if (cVar1 < '\x01') {
								if (-1 < cVar1) {
									if (iVar19 == 1) {
										iVar18 = iVar18 - (iVar18 >> 1);
									}
									if (iVar19 == 4) {
										iVar18 = iVar18 + (iVar18 >> 1);
									}
								}
							} else {
								if (cVar1 < '\x03') {
									if (iVar19 == 4) {
										iVar18 = iVar18 - (iVar18 >> 1);
									}
									if (iVar19 == 1) {
										iVar18 = iVar18 + (iVar18 >> 1);
									}
								}
							}
						}
						puVar9 = (uint *)(puVar11 + iVar7 + 0x5568);
						uVar2 = *puVar9;
						if (((uVar2 & 0x40000000) != 0) && (cVar1 == '\x01')) {
							iVar18 = iVar18 * 3;
						}
						uVar3 = iVar18 * 0x40;
						if ((int)param_1 == *(int *)ppuVar14[-0x1deb]) {
							*piVar5 = *piVar5 + iVar18 * -0x40;
						}
						if ((uVar2 & 2) != 0) {
							lVar16 = random(7, (ulonglong)(uint)((int)uVar3 >> 3), (char)lVar16, (char)uVar15,
							    (char)uVar22, (char)param_6, (char)param_7, (char)param_8,
							    in_stack_ffffff88, in_stack_ffffff8f, uVar28);
							lVar26 = uVar27 + lVar26;
							iVar19 = (int)lVar26;
							iVar25 = (int)lVar16;
							*(int *)(iVar19 + 0x194) = *(int *)(iVar19 + 0x194) + iVar25;
							lVar16 = lVar26 + 0x194;
							if (*(int *)(puVar11 + iVar7 + 0x198) < *(int *)lVar16) {
								*(int *)lVar16 = *(int *)(puVar11 + iVar7 + 0x198);
							}
							puVar8 = puVar11 + iVar7;
							*(int *)(puVar8 + 0x18c) = *(int *)(puVar8 + 0x18c) + iVar25;
							if (*(int *)(puVar11 + iVar7 + 400) < *(int *)(puVar8 + 0x18c)) {
								*(int *)(puVar8 + 0x18c) = *(int *)(puVar11 + iVar7 + 400);
							}
							*(undefined4 *)puVar13 = 1;
						}
						uVar2 = *puVar9;
						if (((uVar2 & 0x6000) != 0) && ((uVar2 & 0x8000000) == 0)) {
							if ((uVar2 & 0x2000) != 0) {
								uVar4 = (iVar18 * 0xc0) / 100 + (iVar18 * 0xc0 >> 0x1f);
								iVar25 = uVar4 + (uVar4 >> 0x1f);
							}
							if ((uVar2 & 0x4000) != 0) {
								uVar2 = (iVar18 * 0x140) / 100 + (iVar18 * 0x140 >> 0x1f);
								iVar25 = uVar2 + (uVar2 >> 0x1f);
							}
							puVar8 = puVar11 + iVar7;
							*(int *)(puVar8 + 0x1a8) = *(int *)(puVar8 + 0x1a8) + iVar25;
							if (*(int *)(puVar11 + iVar7 + 0x1ac) < *(int *)(puVar8 + 0x1a8)) {
								*(int *)(puVar8 + 0x1a8) = *(int *)(puVar11 + iVar7 + 0x1ac);
							}
							puVar8 = puVar11 + iVar7;
							*(int *)(puVar8 + 0x1a0) = *(int *)(puVar8 + 0x1a0) + iVar25;
							if (*(int *)(puVar11 + iVar7 + 0x1a4) < *(int *)(puVar8 + 0x1a0)) {
								*(int *)(puVar8 + 0x1a0) = *(int *)(puVar11 + iVar7 + 0x1a4);
							}
							*(undefined4 *)ppuVar14[-0x1dbd] = 1;
						}
						uVar2 = *puVar9;
						if ((uVar2 & 0x18000) != 0) {
							if ((uVar2 & 0x8000) != 0) {
								uVar4 = (iVar18 * 0xc0) / 100 + (iVar18 * 0xc0 >> 0x1f);
								iVar25 = uVar4 + (uVar4 >> 0x1f);
							}
							if ((uVar2 & 0x10000) != 0) {
								uVar2 = (iVar18 * 0x140) / 100 + (iVar18 * 0x140 >> 0x1f);
								iVar25 = uVar2 + (uVar2 >> 0x1f);
							}
							puVar8 = puVar11 + iVar7;
							*(int *)(puVar8 + 0x194) = *(int *)(puVar8 + 0x194) + iVar25;
							if (*(int *)(puVar11 + iVar7 + 0x198) < *(int *)(puVar8 + 0x194)) {
								*(int *)(puVar8 + 0x194) = *(int *)(puVar11 + iVar7 + 0x198);
							}
							puVar8 = puVar11 + iVar7;
							*(int *)(puVar8 + 0x18c) = *(int *)(puVar8 + 0x18c) + iVar25;
							if (*(int *)(puVar11 + iVar7 + 400) < *(int *)(puVar8 + 0x18c)) {
								*(int *)(puVar8 + 0x18c) = *(int *)(puVar11 + iVar7 + 400);
							}
							*(undefined4 *)puVar13 = 1;
						}
						uVar2 = *puVar9;
						if ((uVar2 & 0x100) != 0) {
							*(uint *)(puVar12 + iVar10 + 0xa0) = *(uint *)(puVar12 + iVar10 + 0xa0) | 8;
						}
						if (*piVar5 >> 6 == 0) {
							if (*piVar6 == 0xf) {
								M_StartKill(param_2, param_1, lVar16, uVar15, uVar22, param_6, param_7, param_8,
								    in_stack_ffffff88);
								*piVar6 = 0xf;
							} else {
								M_StartKill(param_2, param_1, lVar16, uVar15, uVar22, param_6, param_7, param_8,
								    in_stack_ffffff88);
							}
						} else {
							if (*piVar6 == 0xf) {
								M_StartHit(param_2, param_1, (ulonglong)uVar3, uVar15, uVar22, param_6, param_7, param_8,
								    in_stack_ffffff88);
								*piVar6 = 0xf;
							} else {
								if ((uVar2 & 0x800) != 0) {
									M_GetKnockback(param_2, (ulonglong)uVar2, lVar16, uVar15, uVar22, param_6, param_7, param_8, in_stack_ffffff88);
								}
								M_StartHit(param_2, param_1, (ulonglong)uVar3, uVar15, uVar22, param_6, param_7, param_8,
								    in_stack_ffffff88);
							}
						}
						uVar15 = 1;
					}
				} else {
					uVar15 = (ulonglong)local_48[0];
				}
			}
		}
	}
	return uVar15;
}

undefined8
PlrHitPlr(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	char cVar1;
	uint uVar2;
	uint uVar3;
	undefined *puVar4;
	char *pcVar5;
	undefined *puVar6;
	int iVar7;
	undefined *puVar8;
	int iVar9;
	undefined **ppuVar10;
	longlong lVar11;
	int iVar13;
	ulonglong uVar12;
	undefined uVar17;
	longlong lVar14;
	ulonglong uVar15;
	int iVar16;
	undefined uVar19;
	ulonglong uVar18;
	undefined uVar21;
	ulonglong uVar20;
	undefined uVar23;
	longlong lVar22;
	char cVar24;
	undefined8 uVar25;
	int iVar26;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined4 in_stack_ffffffa8;
	undefined uVar27;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;

	puVar4 = PTR_s_PlrHitPlr__illegal_target_player_100f35f4;
	puVar8 = PTR_DAT_100f1828;
	ppuVar10 = &toc;
	cVar24 = (char)param_2;
	if (3 < ((longlong)cVar24 & 0xffffffffU)) {
		ppuVar10 = &toc;
		app_fatal((int)PTR_s_PlrHitPlr__illegal_target_player_100f35f4, (longlong)cVar24, param_3,
		    param_4, param_5, param_6, (int)param_7, (int)param_8, in_stack_ffffff98,
		    in_stack_ffffff9f, in_stack_ffffffa8, in_stack_ffffffac, in_stack_ffffffb0,
		    in_stack_ffffffb4, in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0,
		    in_stack_ffffffc4);
	}
	if (3 < (param_1 & 0xffffffff)) {
		app_fatal((int)puVar4, param_1, param_3, param_4, param_5, param_6, (int)param_7, (int)param_8,
		    in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffa8, in_stack_ffffffac,
		    in_stack_ffffffb0, in_stack_ffffffb4, in_stack_ffffffb8, in_stack_ffffffbc,
		    in_stack_ffffffc0, in_stack_ffffffc4);
	}
	uVar27 = (undefined)in_stack_ffffffa8;
	uVar23 = (undefined)param_6;
	uVar21 = (undefined)param_5;
	uVar19 = (undefined)param_4;
	uVar17 = (undefined)param_3;
	iVar16 = (int)cVar24 * 0x55ec;
	uVar25 = 0;
	if ((puVar8 + iVar16)[0x139] == '\0') {
		if (((puVar8 + iVar16)[0x11c] & 1) == 0) {
			if (3 < (param_1 & 0xffffffff)) {
				app_fatal((int)ppuVar10[-0x1678], param_1, param_3, param_4, param_5, param_6, (int)param_7,
				    (int)param_8, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffa8,
				    in_stack_ffffffac, in_stack_ffffffb0, in_stack_ffffffb4, in_stack_ffffffb8,
				    in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4);
			}
			lVar11 = random(4, 100, uVar17, uVar19, uVar21, uVar23, (char)param_7, (char)param_8,
			    in_stack_ffffff98, in_stack_ffffff9f, uVar27);
			puVar4 = puVar8 + iVar16;
			iVar7 = (int)param_1 * 0x55ec;
			puVar6 = puVar8 + iVar7;
			pcVar5 = puVar8 + iVar7 + 0x1b4;
			uVar3 = *(int *)(puVar4 + 0x170) / 5 + (*(int *)(puVar4 + 0x170) >> 0x1f);
			uVar20 = (ulonglong)(uVar3 >> 0x1f);
			lVar22 = (ulonglong) * (uint *)(puVar4 + 0x554c) + (ulonglong) * (uint *)(puVar4 + 0x5558) + (ulonglong)uVar3 + uVar20;
			lVar14 = ((longlong)*pcVar5 + 0x32) - lVar22;
			iVar26 = (int)lVar14 + (*(int *)(puVar6 + 0x170) >> 1);
			if (puVar6[0x15c] == '\0') {
				iVar26 = iVar26 + 0x14;
			}
			iVar26 = iVar26 + *(int *)(puVar8 + iVar7 + 0x5554);
			if (iVar26 < 5) {
				iVar26 = 5;
			}
			if (0x5f < iVar26) {
				iVar26 = 0x5f;
			}
			if (((*(int *)(puVar8 + iVar16) == 0) || (*(int *)(puVar8 + iVar16) == 4)) && (puVar8[iVar16 + 0x138] != '\0')) {
				lVar14 = random(5, 100, (char)lVar14, (char)((ulonglong)uVar3 + uVar20),
				    (byte)(uVar3 >> 0x1f), (char)lVar22, (char)param_7, (char)param_8,
				    in_stack_ffffff98, in_stack_ffffff9f, uVar27);
				iVar13 = (int)lVar14;
			} else {
				iVar13 = 100;
			}
			cVar1 = (puVar8 + iVar16)[0x1b4];
			uVar3 = ((int)*pcVar5 - (int)cVar1) * 2;
			lVar14 = ((ulonglong) * (uint *)(puVar8 + iVar16 + 0x188) + (ulonglong) * (uint *)(puVar4 + 0x170)) - (ulonglong)uVar3;
			iVar9 = (int)lVar14;
			if (lVar14 < 0) {
				iVar9 = 0;
			}
			if (100 < iVar9) {
				iVar9 = 100;
			}
			if ((int)lVar11 < iVar26) {
				if (iVar13 < iVar9) {
					uVar15 = (ulonglong) * (uint *)(puVar8 + iVar7 + 0x38);
					uVar3 = *(uint *)(puVar8 + iVar7 + 0x3c);
					uVar18 = (ulonglong)uVar3;
					uVar12 = GetDirection((ulonglong) * (uint *)(puVar8 + iVar16 + 0x38),
					    *(int *)(puVar8 + iVar16 + 0x3c), uVar15, uVar3);
					StartPlrBlock((longlong)cVar24, uVar12, uVar15, uVar18, uVar20, lVar22, param_7, param_8,
					    in_stack_ffffff98);
				} else {
					puVar4 = puVar8 + iVar7;
					uVar2 = *(uint *)(puVar4 + 0x5544);
					lVar11 = random(5, ((ulonglong) * (uint *)(puVar4 + 0x5548) - (ulonglong)uVar2) + 1,
					    (char)uVar3, cVar1, (char)uVar20, (char)lVar22, (char)param_7,
					    (char)param_8, in_stack_ffffff98, in_stack_ffffff9f, uVar27);
					iVar26 = uVar2 + (int)lVar11;
					iVar16 = iVar26 * *(int *)(puVar4 + 0x5550);
					uVar12 = 0;
					uVar3 = iVar16 / 100 + (iVar16 >> 0x1f);
					uVar15 = (ulonglong)(uVar3 >> 0x1f);
					uVar17 = (undefined)((ulonglong)uVar3 + uVar15);
					iVar16 = *(int *)(puVar4 + 0x555c) + *(int *)(puVar4 + 0x184) + iVar26 + (int)((ulonglong)uVar3 + uVar15);
					if (puVar6[0x15c] == '\0') {
						cVar1 = *pcVar5;
						uVar12 = 0;
						lVar11 = random(6, 100, uVar17, (byte)(uVar3 >> 0x1f), (char)uVar20, (char)lVar22,
						    (char)param_7, (char)param_8, in_stack_ffffff98, in_stack_ffffff9f,
						    uVar27);
						if ((int)lVar11 < (int)cVar1) {
							iVar16 = iVar16 * 2;
						}
					}
					puVar4 = puVar8 + iVar7;
					uVar3 = iVar16 << 6;
					if ((*(uint *)(puVar4 + 0x5568) & 2) != 0) {
						lVar11 = random(7, uVar12 & 0xffffffff00000000 | (ulonglong)(uint)((int)uVar3 >> 3), uVar17, (char)uVar15, (char)uVar20, (char)lVar22, (char)param_7,
						    (char)param_8, in_stack_ffffff98, in_stack_ffffff9f, uVar27);
						*(int *)(puVar4 + 0x194) = *(int *)(puVar4 + 0x194) + (int)lVar11;
						if (*(int *)(puVar4 + 0x198) < *(int *)(puVar4 + 0x194)) {
							*(int *)(puVar4 + 0x194) = *(int *)(puVar4 + 0x198);
						}
						puVar4 = puVar8 + iVar7;
						*(int *)(puVar4 + 0x18c) = *(int *)(puVar4 + 0x18c) + (int)lVar11;
						if (*(int *)(puVar8 + iVar7 + 400) < *(int *)(puVar4 + 0x18c)) {
							*(int *)(puVar4 + 0x18c) = *(int *)(puVar8 + iVar7 + 400);
						}
						*(undefined4 *)ppuVar10[-0x1dbc] = 1;
					}
					if ((int)param_1 == *(int *)ppuVar10[-0x1deb]) {
						NetSendCmdDamage(1, param_2, (ulonglong)uVar3, uVar15, uVar20, (int)lVar22, (int)param_7,
						    (int)param_8, in_stack_ffffff98);
					}
					StartPlrHit((longlong)cVar24, (char)uVar3, 0, uVar15, uVar20, lVar22, param_7, param_8,
					    in_stack_ffffff98);
				}
				uVar25 = 1;
			}
		} else {
			uVar25 = 0;
		}
	} else {
		uVar25 = 0;
	}
	return uVar25;
}

ulonglong PlrHitObj(undefined8 param_1, int param_2, int param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	char cVar1;
	int iVar2;

	cVar1 = *(char *)(*(int *)PTR_DAT_100f194c + param_2 * 0x70 + param_3);
	if (cVar1 < '\x01') {
		iVar2 = -((int)cVar1 + 1);
	} else {
		iVar2 = (int)cVar1 + -1;
	}
	cVar1 = PTR_DAT_100f1948[iVar2 * 0x78 + 0x34];
	if (cVar1 == '\x01') {
		BreakObject();
	}
	return (ulonglong)(cVar1 == '\x01');
}

ulonglong PM_DoAttack(ulonglong param_1, undefined8 param_2, ulonglong param_3, ulonglong param_4,
    ulonglong param_5, undefined8 param_6, undefined8 param_7, ulonglong param_8,
    undefined4 param_9)

{
	bool bVar1;
	byte bVar2;
	short sVar3;
	uint uVar4;
	int iVar5;
	uint *puVar6;
	int *piVar7;
	undefined *puVar8;
	int iVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined **ppuVar12;
	ulonglong uVar13;
	undefined8 uVar14;
	ulonglong uVar15;
	int iVar17;
	longlong lVar16;
	ulonglong uVar18;
	undefined4 uVar19;
	undefined4 uVar20;
	undefined4 uVar21;
	int iVar22;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined4 in_stack_ffffffa8;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;

	puVar11 = PTR_DAT_100f1954;
	puVar10 = PTR_DAT_100f1828;
	ppuVar12 = &toc;
	iVar22 = 0;
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar12 = &toc;
		app_fatal((int)PTR_s_PM_DoAttack__illegal_player__d_100f35ec, param_1, param_3, param_4, param_5,
		    (int)param_6, (int)param_7, (int)param_8, in_stack_ffffff98, in_stack_ffffff9f,
		    in_stack_ffffffa8, in_stack_ffffffac, in_stack_ffffffb0, in_stack_ffffffb4,
		    in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4);
	}
	iVar9 = (int)param_1 * 0x55ec;
	puVar6 = (uint *)(puVar10 + iVar9 + 0x5568);
	piVar7 = (int *)(puVar10 + iVar9 + 0x8c);
	iVar5 = *piVar7;
	if (((*puVar6 & 0x20000) != 0) && (iVar5 == 1)) {
		*piVar7 = 2;
	}
	if (((*puVar6 & 0x40000) != 0) && ((iVar5 == 1 || (iVar5 == 3)))) {
		*piVar7 = *piVar7 + 1;
	}
	if (((*puVar6 & 0x80000) != 0) && (((iVar5 == 1 || (iVar5 == 3)) || (iVar5 == 5)))) {
		*piVar7 = *piVar7 + 1;
	}
	if (((*puVar6 & 0x100000) != 0) && ((iVar5 == 1 || (iVar5 == 4)))) {
		*piVar7 = *piVar7 + 2;
	}
	if (*piVar7 == *(int *)(puVar10 + iVar9 + 0x2f0) + -1) {
		param_3 = (ulonglong) * (uint *)(puVar10 + iVar9 + 0x3c);
		PlaySfxLoc(9, (ulonglong) * (uint *)(puVar10 + iVar9 + 0x38), param_3, param_4, param_5, (int)param_6, (int)param_7, (int)param_8, in_stack_ffffff98);
	}
	if (*piVar7 == *(int *)(puVar10 + iVar9 + 0x2f0)) {
		puVar8 = puVar10 + iVar9;
		uVar18 = (ulonglong) * (uint *)(puVar8 + 0x38) + (ulonglong) * (uint *)(ppuVar12[-0x1c7b] + *(int *)(puVar8 + 0x70) * 4);
		uVar4 = *(uint *)puVar11;
		param_4 = (ulonglong)uVar4;
		iVar5 = (int)uVar18;
		uVar15 = (ulonglong) * (uint *)(puVar8 + 0x3c) + (ulonglong) * (uint *)(ppuVar12[-0x1c7c] + *(int *)(puVar8 + 0x70) * 4);
		iVar17 = (int)uVar15;
		sVar3 = *(short *)(uVar4 + iVar5 * 0xe0 + iVar17 * 2);
		param_3 = uVar18;
		if (sVar3 != 0) {
			if (sVar3 < 1) {
				uVar13 = -((longlong)sVar3 + 1);
			} else {
				uVar13 = (longlong)sVar3 - 1;
			}
			param_3 = uVar18;
			uVar14 = CanTalkToMonst(uVar13, uVar15, uVar18, param_4, param_5, (int)param_6, (int)param_7,
			    (int)param_8, in_stack_ffffff98);
			if ((int)uVar14 != 0) {
				*(undefined4 *)(puVar10 + iVar9 + 0x1d0) = 0;
				return 0;
			}
		}
		if ((*puVar6 & 0x10) != 0) {
			param_3 = 1;
			param_4 = 0;
			param_5 = 0;
			param_6 = 0x40;
			param_7 = 0;
			param_8 = param_1;
			AddMissile(uVar18, uVar15, 1, 0, 0, 0x40, 0, param_1, in_stack_ffffff98, in_stack_ffffff9f, 0, 0);
		}
		if ((*puVar6 & 0x20) != 0) {
			param_3 = 2;
			param_4 = 0;
			param_5 = 0;
			param_6 = 0x40;
			param_7 = 0;
			param_8 = param_1;
			AddMissile(uVar18, uVar15, 2, 0, 0, 0x40, 0, param_1, in_stack_ffffff98, in_stack_ffffff9f, 0, 0);
		}
		sVar3 = *(short *)(*(int *)puVar11 + iVar5 * 0xe0 + iVar17 * 2);
		if (sVar3 == 0) {
			param_3 = uVar18 * 0x70;
			bVar2 = *(byte *)(*(int *)ppuVar12[-0x1da0] + (int)param_3 + iVar17);
			if ((bVar2 == 0) || (ppuVar12[-0x911] != (undefined *)0x0)) {
				if ('\0' < *(char *)(*(int *)ppuVar12[-0x1da1] + (int)param_3 + iVar17)) {
					uVar18 = PlrHitObj(param_1, iVar5, iVar17, (char)param_4, (char)param_5, (char)param_6,
					    (char)param_7, (char)param_8, in_stack_ffffff98);
					iVar22 = (int)uVar18;
					param_3 = uVar15;
				}
			} else {
				if ((char)bVar2 < '\x01') {
					lVar16 = (longlong)(char)-(bVar2 + 1);
				} else {
					lVar16 = (ulonglong)bVar2 - 1;
				}
				uVar14 = PlrHitPlr(param_1, lVar16, param_3, param_4, param_5, (int)param_6, param_7, param_8,
				    in_stack_ffffff98);
				iVar22 = (int)uVar14;
			}
		} else {
			if (sVar3 < 1) {
				uVar15 = -((longlong)sVar3 + 1);
			} else {
				uVar15 = (longlong)sVar3 - 1;
			}
			uVar15 = PlrHitMonst(param_1, uVar15, param_3, param_4, param_5, (int)param_6, (int)param_7,
			    (int)param_8, in_stack_ffffff98);
			iVar22 = (int)uVar15;
		}
		if (iVar22 != 0) {
			uVar14 = WeaponDur(param_1, 0x1e, param_3, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffff98);
			uVar21 = (undefined4)param_8;
			uVar20 = (undefined4)param_7;
			uVar19 = (undefined4)param_6;
			if ((int)uVar14 != 0) {
				uVar15 = (ulonglong) * (uint *)(puVar8 + 0x70);
				StartStand(param_1, uVar15, param_3, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffff98);
				ClearPlrPVars(param_1, uVar15, param_3, param_4, param_5, uVar19, uVar20, uVar21, in_stack_ffffff98);
				return 1;
			}
		}
	}
	uVar21 = (undefined4)param_8;
	uVar20 = (undefined4)param_7;
	uVar19 = (undefined4)param_6;
	bVar1 = *piVar7 == *(int *)(puVar10 + iVar9 + 0x2e8);
	if (bVar1) {
		uVar15 = (ulonglong) * (uint *)(puVar10 + iVar9 + 0x70);
		StartStand(param_1, uVar15, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff98);
		ClearPlrPVars(param_1, uVar15, param_3, param_4, param_5, uVar19, uVar20, uVar21, in_stack_ffffff98);
	}
	return (ulonglong)bVar1;
}

ulonglong PM_DoRangeAttack(ulonglong param_1, undefined8 param_2, undefined8 param_3, ulonglong param_4,
    ulonglong param_5, undefined8 param_6, undefined8 param_7, ulonglong param_8,
    undefined4 param_9)

{
	bool bVar1;
	int iVar2;
	uint *puVar3;
	int *piVar4;
	undefined *puVar5;
	int iVar6;
	undefined *puVar7;
	undefined8 uVar8;
	ulonglong uVar9;
	undefined4 uVar10;
	undefined4 uVar11;
	undefined4 uVar12;
	ulonglong uVar13;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar7 = PTR_DAT_100f1828;
	uVar13 = ZEXT48(PTR_DAT_100f1828);
	if (3 < (param_1 & 0xffffffff)) {
		app_fatal((int)PTR_s_PM_DoRangeAttack__illegal_player_100f35e8, param_1, param_3, param_4,
		    param_5, (int)param_6, (int)param_7, (int)param_8, in_stack_ffffffa8, in_stack_ffffffaf,
		    in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
	}
	uVar13 = uVar13 + param_1 * 0x55ec + 0x5568;
	puVar3 = (uint *)uVar13;
	iVar6 = (int)(param_1 * 0x55ec);
	piVar4 = (int *)(puVar7 + iVar6 + 0x8c);
	iVar2 = *piVar4;
	if (((*puVar3 & 0x20000) != 0) && (iVar2 == 1)) {
		*piVar4 = 2;
	}
	if (((*puVar3 & 0x40000) != 0) && ((iVar2 == 1 || (iVar2 == 3)))) {
		*piVar4 = *piVar4 + 1;
	}
	if (*piVar4 == *(int *)(puVar7 + iVar6 + 0x2f0)) {
		param_6 = 0;
		if ((*puVar3 & 8) != 0) {
			param_6 = 0x1b;
		}
		if ((*puVar3 & 0x2000000) != 0) {
			param_6 = 0x38;
		}
		puVar5 = puVar7 + iVar6;
		param_7 = 0;
		param_4 = (ulonglong) * (uint *)(puVar5 + 0x1d4);
		param_5 = (ulonglong) * (uint *)(puVar5 + 0x70);
		param_8 = param_1;
		AddMissile((ulonglong) * (uint *)(puVar7 + iVar6 + 0x38),
		    (ulonglong) * (uint *)(puVar7 + iVar6 + 0x3c), (ulonglong) * (uint *)(puVar5 + 0x1d0),
		    param_4, param_5, (int)param_6, 0, param_1, in_stack_ffffffa8, in_stack_ffffffaf, 4, 0);
		uVar13 = (ulonglong) * (uint *)(puVar7 + iVar6 + 0x3c);
		PlaySfxLoc(4, (ulonglong) * (uint *)(puVar7 + iVar6 + 0x38), uVar13, param_4, param_5, (int)param_6,
		    (int)param_7, (int)param_8, in_stack_ffffffa8);
		uVar8 = WeaponDur(param_1, 0x28, uVar13, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8);
		uVar12 = (undefined4)param_8;
		uVar11 = (undefined4)param_7;
		uVar10 = (undefined4)param_6;
		if ((int)uVar8 != 0) {
			uVar9 = (ulonglong) * (uint *)(puVar5 + 0x70);
			StartStand(param_1, uVar9, uVar13, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
			ClearPlrPVars(param_1, uVar9, uVar13, param_4, param_5, uVar10, uVar11, uVar12, in_stack_ffffffa8);
			return 1;
		}
	}
	uVar12 = (undefined4)param_8;
	uVar11 = (undefined4)param_7;
	uVar10 = (undefined4)param_6;
	bVar1 = *(int *)(puVar7 + iVar6 + 0x2e8) <= *piVar4;
	if (bVar1) {
		uVar9 = (ulonglong) * (uint *)(puVar7 + iVar6 + 0x70);
		StartStand(param_1, uVar9, uVar13, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
		ClearPlrPVars(param_1, uVar9, uVar13, param_4, param_5, uVar10, uVar11, uVar12, in_stack_ffffffa8);
	}
	return (ulonglong)bVar1;
}

void ShieldDur(ulonglong param_1, undefined8 param_2, ulonglong param_3, ulonglong param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	int *piVar1;
	int iVar2;
	undefined *puVar3;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar3 = PTR_DAT_100f1828;
	if ((int)param_1 == *(int *)PTR_DAT_100f1824) {
		if (3 < (param_1 & 0xffffffff)) {
			app_fatal((int)PTR_s_ShieldDur__illegal_player__d_100f35e4, param_1, param_3, param_4, param_5,
			    (int)param_6, (int)param_7, (int)param_8, in_stack_ffffffb8, in_stack_ffffffbf,
			    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
			    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
		}
		iVar2 = (int)param_1 * 0x55ec;
		if (*(int *)(puVar3 + iVar2 + 0xa60) == 5) {
			piVar1 = (int *)(puVar3 + iVar2 + 0xb44);
			if (*piVar1 == 0xff) {
				return;
			}
			*piVar1 = *piVar1 + -1;
			if (*piVar1 == 0) {
				NetSendCmdDelItem(1, 4, param_3, param_4, param_5, (int)param_6, (int)param_7, (int)param_8,
				    in_stack_ffffffb8);
				*(int *)(puVar3 + iVar2 + 0xa60) = -1;
				CalcPlrInv(param_1, 1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
			}
		}
		if (*(int *)(puVar3 + iVar2 + 0xbd0) == 5) {
			piVar1 = (int *)(puVar3 + iVar2 + 0xcb4);
			if ((*piVar1 != 0xff) && (*piVar1 = *piVar1 + -1, *piVar1 == 0)) {
				NetSendCmdDelItem(1, 5, param_3, param_4, param_5, (int)param_6, (int)param_7, (int)param_8,
				    in_stack_ffffffb8);
				*(int *)(puVar3 + iVar2 + 0xbd0) = -1;
				CalcPlrInv(param_1, 1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
			}
		}
	}
	return;
}

undefined8
PM_DoBlock(ulonglong param_1, undefined8 param_2, ulonglong param_3, ulonglong param_4,
    ulonglong param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	longlong lVar3;
	undefined8 uVar4;
	undefined7 uVar5;
	undefined uVar6;
	undefined7 uVar7;
	undefined uVar8;
	ulonglong uVar9;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffd8;
	undefined uVar10;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	puVar2 = PTR_DAT_100f1828;
	uVar10 = (undefined)in_stack_ffffffd8;
	uVar7 = (undefined7)(param_5 >> 8);
	uVar8 = (undefined)param_5;
	uVar5 = (undefined7)(param_4 >> 8);
	uVar6 = (undefined)param_4;
	uVar9 = ZEXT48(PTR_DAT_100f1828);
	if (3 < (param_1 & 0xffffffff)) {
		app_fatal((int)PTR_s_PM_DoBlock__illegal_player__d_100f35e0, param_1, param_3, param_4, param_5,
		    (int)param_6, (int)param_7, (int)param_8, in_stack_ffffffc8, in_stack_ffffffcf,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4,
		    in_stack_ffffffe8, in_stack_ffffffec, in_stack_fffffff0, in_stack_fffffff4);
	}
	lVar3 = uVar9 + param_1 * 0x55ec;
	iVar1 = (int)lVar3;
	if (((*(uint *)(iVar1 + 0x5568) & 0x1000000) != 0) && (param_3 = lVar3 + 0x8c, *(int *)(iVar1 + 0x8c) != 1)) {
		*(undefined4 *)param_3 = *(undefined4 *)(iVar1 + 0x490);
	}
	puVar2 = puVar2 + (int)(param_1 * 0x55ec);
	if (*(int *)(puVar2 + 0x8c) < *(int *)(puVar2 + 0x490)) {
		uVar4 = 0;
	} else {
		uVar9 = (ulonglong) * (uint *)(puVar2 + 0x70);
		StartStand(param_1, uVar9, param_3, CONCAT71(uVar5, uVar6), CONCAT71(uVar7, uVar8), param_6, param_7,
		    param_8, in_stack_ffffffc8);
		ClearPlrPVars(param_1, uVar9, param_3, CONCAT71(uVar5, uVar6), CONCAT71(uVar7, uVar8), (int)param_6,
		    (int)param_7, (int)param_8, in_stack_ffffffc8);
		uVar4 = 10;
		lVar3 = random(3, 10, (char)param_3, uVar6, uVar8, (char)param_6, (char)param_7, (char)param_8,
		    in_stack_ffffffc8, in_stack_ffffffcf, uVar10);
		if ((int)lVar3 == 0) {
			ShieldDur(param_1, uVar4, param_3, CONCAT71(uVar5, uVar6), CONCAT71(uVar7, uVar8), param_6, param_7, param_8, in_stack_ffffffc8);
		}
		uVar4 = 1;
	}
	return uVar4;
}

undefined8
PM_DoSpell(ulonglong param_1, undefined8 param_2, ulonglong param_3, ulonglong param_4,
    ulonglong param_5, ulonglong param_6, undefined8 param_7, ulonglong param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	uint *puVar2;
	undefined *puVar3;
	int iVar4;
	undefined *puVar5;
	undefined **ppuVar6;
	undefined8 uVar7;
	ulonglong uVar8;
	undefined4 uVar9;
	undefined4 uVar10;
	undefined4 uVar11;
	char *pcVar12;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar5 = PTR_DAT_100f1914;
	puVar3 = PTR_DAT_100f1828;
	ppuVar6 = &toc;
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar6 = &toc;
		app_fatal((int)PTR_s_PM_DoSpell__illegal_player__d_100f35dc, param_1, param_3, param_4, param_5,
		    (int)param_6, (int)param_7, (int)param_8, in_stack_ffffffa8, in_stack_ffffffaf,
		    in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
	}
	iVar4 = (int)param_1 * 0x55ec;
	puVar1 = puVar3 + iVar4;
	puVar2 = (uint *)(puVar3 + iVar4 + 0x1ec);
	if (*puVar2 == *(uint *)(puVar1 + 0x3bc)) {
		param_3 = (ulonglong) * (uint *)(puVar1 + 0x38);
		param_7 = 0;
		param_4 = (ulonglong) * (uint *)(puVar1 + 0x3c);
		param_5 = (ulonglong) * (uint *)(puVar1 + 0x1d0);
		param_6 = (ulonglong) * (uint *)(puVar1 + 0x1d4);
		param_8 = (ulonglong) * (uint *)(puVar1 + 0x1dc);
		CastSpell(param_1, *(int *)(puVar1 + 0xa4), param_3, param_4, param_5, param_6, 0,
		    *(uint *)(puVar1 + 0x1dc), in_stack_ffffffa8);
		if (puVar1[0xa9] == '\0') {
			pcVar12 = puVar1 + 0xb8;
			if (puVar1[0xb8] == '\x02') {
				uVar8 = 1;
				param_3 = SetCursorPos(0, 1, (ulonglong) * (uint *)(puVar1 + 0xb4) - 1);
				param_4 = (ulonglong) * (uint *)(puVar1 + 0x118);
				param_3 = (ulonglong) * (uint *)(puVar1 + 0x114) & param_3;
				if ((param_4 & uVar8 | param_3) == 0) {
					*(undefined4 *)(puVar1 + 0xb4) = 0xffffffff;
					*pcVar12 = '\x04';
					*(undefined4 *)puVar5 = 0xff;
				}
			}
			if (*pcVar12 == '\x03') {
				uVar8 = 1;
				param_3 = SetCursorPos(0, 1, (ulonglong) * (uint *)(puVar3 + iVar4 + 0xb4) - 1);
				param_4 = (ulonglong) * (uint *)(puVar3 + iVar4 + 0x5564);
				param_3 = (ulonglong) * (uint *)(puVar3 + iVar4 + 0x5560) & param_3;
				if ((param_4 & uVar8 | param_3) == 0) {
					*(uint *)(puVar3 + iVar4 + 0xb4) = 0xffffffff;
					*pcVar12 = '\x04';
					*(undefined4 *)puVar5 = 0xff;
				}
			}
		}
	}
	uVar11 = (undefined4)param_8;
	uVar10 = (undefined4)param_7;
	uVar9 = (undefined4)param_6;
	pcVar12 = ppuVar6[-0x1de5];
	*puVar2 = *puVar2 + 1;
	if (*pcVar12 == '\0') {
		uVar8 = (ulonglong)*puVar2;
		if (*(int *)(puVar3 + iVar4 + 0x3b4) < (int)*puVar2) {
			StartWalkStand(param_1, uVar8, param_3, param_4, param_5, uVar9, uVar10, uVar11, in_stack_ffffffa8);
			ClearPlrPVars(param_1, uVar8, param_3, param_4, param_5, uVar9, uVar10, uVar11, in_stack_ffffffa8);
			uVar7 = 1;
		} else {
			uVar7 = 0;
		}
	} else {
		puVar3 = puVar3 + iVar4;
		if (*(int *)(puVar3 + 0x8c) == *(int *)(puVar3 + 0x3b4)) {
			uVar8 = (ulonglong) * (uint *)(puVar3 + 0x70);
			StartStand(param_1, uVar8, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
			ClearPlrPVars(param_1, uVar8, param_3, param_4, param_5, uVar9, uVar10, uVar11, in_stack_ffffffa8);
			uVar7 = 1;
		} else {
			uVar7 = 0;
		}
	}
	return uVar7;
}

void ArmorDur(ulonglong param_1, undefined8 param_2, ulonglong param_3, ulonglong param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	longlong lVar2;
	int iVar3;
	undefined7 uVar4;
	undefined uVar5;
	undefined7 uVar6;
	undefined uVar7;
	undefined7 uVar8;
	undefined uVar9;
	undefined *puVar10;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined uVar11;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	uVar11 = (undefined)in_stack_ffffffc8;
	uVar8 = (undefined7)(param_5 >> 8);
	uVar9 = (undefined)param_5;
	uVar6 = (undefined7)(param_4 >> 8);
	uVar7 = (undefined)param_4;
	uVar4 = (undefined7)(param_3 >> 8);
	uVar5 = (undefined)param_3;
	ppuVar1 = &toc;
	if ((int)param_1 == *(int *)PTR_DAT_100f1824) {
		if (3 < (param_1 & 0xffffffff)) {
			ppuVar1 = &toc;
			app_fatal((int)PTR_s_ArmorDur__illegal_player__d_100f35d8, param_1, param_3, param_4, param_5,
			    (int)param_6, (int)param_7, (int)param_8, in_stack_ffffffb8, in_stack_ffffffbf,
			    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
			    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
		}
		puVar10 = ppuVar1[-0x1dea] + (int)param_1 * 0x55ec;
		if ((*(int *)(puVar10 + 0xd40) != -1) || (*(int *)(puVar10 + 0x4a0) != -1)) {
			lVar2 = random(8, 3, uVar5, uVar7, uVar9, (char)param_6, (char)param_7, (char)param_8,
			    in_stack_ffffffb8, in_stack_ffffffbf, uVar11);
			iVar3 = (int)lVar2;
			if ((*(int *)(puVar10 + 0xd40) != -1) && (*(int *)(puVar10 + 0x4a0) == -1)) {
				iVar3 = 1;
			}
			if ((*(int *)(puVar10 + 0xd40) == -1) && (*(int *)(puVar10 + 0x4a0) != -1)) {
				iVar3 = 0;
			}
			if (iVar3 == 0) {
				puVar10 = puVar10 + 0x498;
			} else {
				puVar10 = puVar10 + 0xd38;
			}
			if ((*(int *)(puVar10 + 0xec) != 0xff) && (*(int *)(puVar10 + 0xec) = *(int *)(puVar10 + 0xec) + -1, *(int *)(puVar10 + 0xec) == 0)) {
				if (iVar3 == 0) {
					NetSendCmdDelItem(1, 0, CONCAT71(uVar4, uVar5), CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9),
					    (int)param_6, (int)param_7, (int)param_8, in_stack_ffffffb8);
				} else {
					NetSendCmdDelItem(1, 6, CONCAT71(uVar4, uVar5), CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9),
					    (int)param_6, (int)param_7, (int)param_8, in_stack_ffffffb8);
				}
				*(undefined4 *)(puVar10 + 8) = 0xffffffff;
				CalcPlrInv(param_1, 1, CONCAT71(uVar4, uVar5), CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9),
				    param_6, param_7, param_8, in_stack_ffffffb8);
			}
		}
	}
	return;
}

undefined8
PM_DoGotHit(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	uint uVar1;
	uint *puVar2;
	uint *puVar3;
	undefined *puVar4;
	longlong lVar5;
	ulonglong uVar6;
	undefined8 uVar7;
	ulonglong uVar8;
	ulonglong uVar9;
	ulonglong uVar10;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffd8;
	undefined uVar11;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	puVar4 = PTR_DAT_100f1828;
	uVar11 = (undefined)in_stack_ffffffd8;
	uVar10 = ZEXT48(PTR_DAT_100f1828);
	if (3 < (param_1 & 0xffffffff)) {
		app_fatal((int)PTR_s_PM_DoGotHit__illegal_player__d_100f35d4, param_1, param_3, param_4, param_5,
		    (int)param_6, (int)param_7, (int)param_8, in_stack_ffffffc8, in_stack_ffffffcf,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4,
		    in_stack_ffffffe8, in_stack_ffffffec, in_stack_fffffff0, in_stack_fffffff4);
	}
	lVar5 = param_1 * 0x55ec;
	uVar8 = uVar10 + lVar5 + 0x5568;
	puVar2 = (uint *)uVar8;
	uVar10 = uVar10 + lVar5 + 0x8c;
	puVar3 = (uint *)uVar10;
	uVar1 = *puVar3;
	uVar9 = (ulonglong)uVar1;
	if (((*puVar2 & 0x200000) != 0) && (uVar1 == 3)) {
		*puVar3 = 4;
	}
	if (((*puVar2 & 0x400000) != 0) && ((uVar1 == 3 || (uVar1 == 5)))) {
		*puVar3 = *puVar3 + 1;
	}
	if (((*puVar2 & 0x800000) != 0) && (((uVar1 == 1 || (uVar1 == 3)) || (uVar1 == 5)))) {
		*puVar3 = *puVar3 + 1;
	}
	if ((int)*puVar3 < *(int *)(puVar4 + (int)lVar5 + 0x400)) {
		uVar7 = 0;
	} else {
		uVar6 = (ulonglong) * (uint *)(puVar4 + (int)lVar5 + 0x70);
		StartStand(param_1, uVar6, uVar10, uVar8, uVar9, param_6, param_7, param_8, in_stack_ffffffc8);
		ClearPlrPVars(param_1, uVar6, uVar10, uVar8, uVar9, (int)param_6, (int)param_7, (int)param_8,
		    in_stack_ffffffc8);
		uVar7 = 4;
		lVar5 = random(3, 4, (char)uVar10, (char)uVar8, (char)uVar9, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffffc8, in_stack_ffffffcf, uVar11);
		if ((int)lVar5 != 0) {
			ArmorDur(param_1, uVar7, uVar10, uVar8, uVar9, param_6, param_7, param_8, in_stack_ffffffc8);
		}
		uVar7 = 1;
	}
	return uVar7;
}

undefined8
PM_DoDeath(ulonglong param_1, undefined8 param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	char *pcVar2;
	int *piVar3;
	undefined *puVar4;
	int *piVar5;
	undefined **ppuVar6;
	int iVar7;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	piVar5 = _DAT_100f2044;
	puVar4 = PTR_DAT_100f1828;
	ppuVar6 = &toc;
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar6 = &toc;
		app_fatal((int)PTR_s_PM_DoDeath__illegal_player__d_100f35d0, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffb8,
		    in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
	}
	iVar7 = (int)param_1 * 0x55ec;
	piVar3 = (int *)(puVar4 + iVar7 + 0x1ec);
	if (*(int *)(puVar4 + iVar7 + 0x448) << 1 <= *piVar3) {
		if (((1 < *piVar5) && ((int)param_1 == *(int *)ppuVar6[-0x1deb])) && (*piVar5 = *piVar5 + -1, *piVar5 == 1)) {
			puVar1 = (undefined4 *)ppuVar6[-0x1d73];
			pcVar2 = ppuVar6[-0x1dfc];
			*puVar1 = 1;
			if (*pcVar2 == '\x01') {
				gamemenu_previous(0, ZEXT48(puVar1), param_3, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffffa8);
			}
		}
		puVar4 = puVar4 + iVar7;
		piVar5 = (int *)ppuVar6[-0x1de7];
		*(undefined4 *)(puVar4 + 0x80) = 10000;
		*(undefined4 *)(puVar4 + 0x8c) = *(undefined4 *)(puVar4 + 0x88);
		iVar7 = *(int *)(puVar4 + 0x38) * 0x70 + *(int *)(puVar4 + 0x3c);
		*(byte *)(*piVar5 + iVar7) = *(byte *)(*piVar5 + iVar7) | 4;
	}
	if (*piVar3 < 100) {
		*piVar3 = *piVar3 + 1;
	}
	return 0;
}

undefined8
FUN_10097e50(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined param_9, undefined param_10, undefined4 param_11)

{
	return 0;
}

void CheckNewPath(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    ulonglong param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	uint *puVar1;
	uint *puVar2;
	char cVar3;
	uint uVar4;
	uint uVar5;
	uint uVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	int iVar10;
	undefined *puVar11;
	undefined *puVar12;
	undefined *puVar13;
	undefined **ppuVar14;
	longlong lVar15;
	int iVar18;
	ulonglong uVar16;
	longlong lVar17;
	int iVar19;
	ulonglong uVar20;
	ulonglong uVar21;
	ulonglong uVar22;
	undefined uVar23;
	undefined7 uVar24;
	undefined uVar25;
	int iVar26;
	uint *puVar27;
	int *piVar28;
	undefined4 in_stack_ffffff78;
	undefined in_stack_ffffff7f;
	undefined4 in_stack_ffffff88;
	undefined4 in_stack_ffffff8c;
	undefined4 in_stack_ffffff90;
	undefined4 in_stack_ffffff94;
	undefined4 in_stack_ffffff98;
	undefined4 in_stack_ffffff9c;
	undefined4 in_stack_ffffffa0;
	undefined4 in_stack_ffffffa4;

	puVar13 = PTR_DAT_100f203c;
	puVar9 = PTR_DAT_100f194c;
	puVar8 = PTR_DAT_100f1948;
	puVar12 = PTR_DAT_100f187c;
	puVar11 = PTR_DAT_100f1828;
	puVar7 = PTR_DAT_100f1824;
	uVar24 = (undefined7)(param_5 >> 8);
	uVar25 = (undefined)param_5;
	ppuVar14 = &toc;
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar14 = &toc;
		app_fatal((int)PTR_s_CheckNewPath__illegal_player__d_100f35cc, param_1, param_3, param_4, param_5, (int)param_6, (int)param_7, (int)param_8, in_stack_ffffff78, in_stack_ffffff7f,
		    in_stack_ffffff88, in_stack_ffffff8c, in_stack_ffffff90, in_stack_ffffff94,
		    in_stack_ffffff98, in_stack_ffffff9c, in_stack_ffffffa0, in_stack_ffffffa4);
	}
	iVar10 = (int)param_1 * 0x55ec;
	puVar27 = (uint *)(puVar11 + iVar10 + 0x20);
	if (*(int *)(puVar11 + iVar10 + 0x20) == 0x14) {
		param_4 = 0;
		MakePlrPath(param_1, (ulonglong) * (uint *)(puVar12 + *(int *)(puVar11 + iVar10 + 0x24) * 0xe8 + 0x28),
		    (ulonglong) * (uint *)(puVar12 + *(int *)(puVar11 + iVar10 + 0x24) * 0xe8 + 0x2c), 0,
		    CONCAT71(uVar24, uVar25), (int)param_6, (int)param_7, (int)param_8, in_stack_ffffff78);
	}
	if (*puVar27 == 0x15) {
		param_4 = 0;
		MakePlrPath(param_1, (ulonglong) * (uint *)(puVar11 + *(int *)(puVar11 + iVar10 + 0x24) * 0x55ec + 0x40),
		    (ulonglong) * (uint *)(puVar11 + *(int *)(puVar11 + iVar10 + 0x24) * 0x55ec + 0x44), 0, CONCAT71(uVar24, uVar25), (int)param_6, (int)param_7, (int)param_8, in_stack_ffffff78);
	}
	uVar23 = (undefined)param_4;
	if (puVar11[iVar10 + 4] == -1) {
		uVar4 = *puVar27;
		if (uVar4 != 0xffffffff) {
			piVar28 = (int *)(puVar11 + iVar10);
			if (*piVar28 == 0) {
				uVar16 = (ulonglong)uVar4 - 9;
				if ((uVar16 & 0xffffffff) < 0x12) {
					// WARNING: Could not recover jumptable at 0x10098364. Too many branches
					// WARNING: Treating indirect jump as call
					(**(code **)(ppuVar14[-0x1683] + (int)uVar16 * 4))();
					return;
				}
				FixPlayerLocation(param_1, *(undefined4 *)(puVar11 + iVar10 + 0x70), (ulonglong)uVar4, param_4,
				    CONCAT71(uVar24, uVar25), (int)param_6, (int)param_7, (int)param_8,
				    in_stack_ffffff78);
				*puVar27 = 0xffffffff;
			} else {
				if ((*piVar28 == 4) && (*(int *)(puVar11 + *(int *)puVar7 * 0x55ec + 0x2f0) < piVar28[0x23])) {
					if (uVar4 == 9) {
						uVar20 = (ulonglong)(uint)piVar28[9];
						uVar21 = (ulonglong)(uint)piVar28[10];
						uVar16 = GetDirection((ulonglong)(uint)piVar28[0x10], piVar28[0x11], uVar20, piVar28[10]);
						StartAttack(param_1, uVar16, uVar20, uVar21, CONCAT71(uVar24, uVar25), param_6, param_7,
						    param_8, in_stack_ffffff78);
						*puVar27 = 0xffffffff;
					} else {
						if (uVar4 == 0x14) {
							iVar18 = piVar28[9];
							lVar15 = abs((ulonglong)(uint)piVar28[0xe] - (ulonglong) * (uint *)(puVar12 + iVar18 * 0xe8 + 0x28));
							lVar17 = abs((ulonglong)(uint)piVar28[0xf] - (ulonglong) * (uint *)(puVar12 + iVar18 * 0xe8 + 0x2c));
							if (((int)lVar15 < 2) && ((int)lVar17 < 2)) {
								uVar20 = (ulonglong) * (uint *)(puVar12 + iVar18 * 0xe8 + 0x28);
								uVar4 = *(uint *)(puVar12 + iVar18 * 0xe8 + 0x2c);
								uVar21 = (ulonglong)uVar4;
								uVar16 = GetDirection((ulonglong)(uint)piVar28[0x10], piVar28[0x11], uVar20, uVar4);
								StartAttack(param_1, uVar16, uVar20, uVar21, CONCAT71(uVar24, uVar25), param_6, param_7,
								    param_8, in_stack_ffffff78);
							}
							*puVar27 = 0xffffffff;
						} else {
							if (uVar4 == 0x15) {
								iVar18 = piVar28[9];
								puVar8 = puVar11 + 0x40;
								lVar15 = abs((ulonglong)(uint)piVar28[0xe] - (ulonglong) * (uint *)(puVar8 + iVar18 * 0x55ec));
								puVar9 = puVar11 + 0x44;
								lVar17 = abs((ulonglong)(uint)piVar28[0xf] - (ulonglong) * (uint *)(puVar9 + iVar18 * 0x55ec));
								if (((int)lVar15 < 2) && ((int)lVar17 < 2)) {
									uVar20 = (ulonglong) * (uint *)(puVar8 + iVar18 * 0x55ec);
									uVar4 = *(uint *)(puVar9 + iVar18 * 0x55ec);
									uVar21 = (ulonglong)uVar4;
									uVar16 = GetDirection((ulonglong) * (uint *)(puVar8 + iVar10),
									    *(int *)(puVar9 + iVar10), uVar20, uVar4);
									StartAttack(param_1, uVar16, uVar20, uVar21, CONCAT71(uVar24, uVar25), param_6, param_7,
									    param_8, in_stack_ffffff78);
								}
								*puVar27 = 0xffffffff;
							} else {
								if (uVar4 == 0xd) {
									iVar18 = piVar28[9];
									iVar26 = iVar18 * 0x78;
									puVar1 = (uint *)(puVar8 + iVar26 + 4);
									lVar15 = abs((ulonglong)(uint)piVar28[0xe] - (ulonglong)*puVar1);
									puVar2 = (uint *)(puVar8 + iVar26 + 8);
									lVar17 = abs((ulonglong)(uint)piVar28[0xf] - (ulonglong)*puVar2);
									iVar19 = (int)lVar17;
									if (1 < iVar19) {
										uVar4 = *puVar2;
										uVar23 = (undefined)uVar4;
										if (-1 - iVar18 == (int)*(char *)(*(int *)puVar9 + *puVar1 * 0x70 + uVar4 + -1)) {
											lVar17 = abs(((ulonglong)(uint)piVar28[0xf] - (ulonglong)uVar4) + 1);
											iVar19 = (int)lVar17;
										}
									}
									if (((int)lVar15 < 2) && (iVar19 < 2)) {
										if (puVar8[iVar26 + 0x34] == '\x01') {
											uVar20 = (ulonglong)*puVar1;
											uVar21 = (ulonglong)*puVar2;
											uVar16 = GetDirection((ulonglong)(uint)piVar28[0xe], piVar28[0xf], uVar20,
											    *puVar2);
											StartAttack(param_1, uVar16, uVar20, uVar21, CONCAT71(uVar24, uVar25), param_6,
											    param_7, param_8, in_stack_ffffff78);
										} else {
											OperateObject(param_1, iVar18, 0, uVar23, uVar25, (char)param_6, (char)param_7,
											    (char)param_8, in_stack_ffffff78);
										}
									}
								}
							}
						}
					}
				}
				if ((*piVar28 == 5) && (puVar8 = puVar11 + iVar10, *(int *)(puVar11 + *(int *)puVar7 * 0x55ec + 0x2f0) < *(int *)(puVar8 + 0x8c))) {
					uVar4 = *puVar27;
					if (uVar4 == 10) {
						uVar16 = GetDirection((ulonglong) * (uint *)(puVar8 + 0x38), *(int *)(puVar8 + 0x3c),
						    (ulonglong) * (uint *)(puVar8 + 0x24), *(uint *)(puVar8 + 0x28));
						StartRangeAttack(param_1, uVar16, (ulonglong) * (uint *)(puVar8 + 0x24),
						    (ulonglong) * (uint *)(puVar8 + 0x28), CONCAT71(uVar24, uVar25), param_6, param_7, param_8, in_stack_ffffff78);
						*puVar27 = 0xffffffff;
					} else {
						if (uVar4 == 0x16) {
							iVar18 = *(int *)(puVar8 + 0x24);
							uVar16 = GetDirection((ulonglong) * (uint *)(puVar8 + 0x38), *(int *)(puVar8 + 0x3c),
							    (ulonglong) * (uint *)(puVar12 + iVar18 * 0xe8 + 0x28),
							    *(uint *)(puVar12 + iVar18 * 0xe8 + 0x2c));
							StartRangeAttack(param_1, uVar16, (ulonglong) * (uint *)(puVar12 + iVar18 * 0xe8 + 0x28),
							    (ulonglong) * (uint *)(puVar12 + iVar18 * 0xe8 + 0x2c),
							    CONCAT71(uVar24, uVar25), param_6, param_7, param_8, in_stack_ffffff78);
							*puVar27 = 0xffffffff;
						} else {
							if (uVar4 == 0x17) {
								iVar18 = *(int *)(puVar8 + 0x24);
								uVar16 = GetDirection((ulonglong) * (uint *)(puVar8 + 0x38), *(int *)(puVar8 + 0x3c),
								    (ulonglong) * (uint *)(puVar11 + iVar18 * 0x55ec + 0x40),
								    *(uint *)(puVar11 + iVar18 * 0x55ec + 0x44));
								StartRangeAttack(param_1, uVar16, (ulonglong) * (uint *)(puVar11 + iVar18 * 0x55ec + 0x40),
								    (ulonglong) * (uint *)(puVar11 + iVar18 * 0x55ec + 0x44),
								    CONCAT71(uVar24, uVar25), param_6, param_7, param_8, in_stack_ffffff78);
								*puVar27 = 0xffffffff;
							}
						}
					}
				}
				if ((*piVar28 == 9) && (puVar7 = puVar11 + iVar10, *(int *)(puVar7 + 0x3bc) < *(int *)(puVar7 + 0x8c))) {
					uVar4 = *puVar27;
					if (uVar4 == 0xc) {
						uVar16 = GetDirection((ulonglong) * (uint *)(puVar7 + 0x38), *(int *)(puVar7 + 0x3c),
						    (ulonglong) * (uint *)(puVar7 + 0x24), *(uint *)(puVar7 + 0x28));
						StartSpell(param_1, uVar16, (ulonglong) * (uint *)(puVar7 + 0x24),
						    (ulonglong) * (uint *)(puVar7 + 0x28), CONCAT71(uVar24, uVar25), param_6, param_7, param_8, in_stack_ffffff78);
						*puVar27 = 0xffffffff;
					} else {
						if (uVar4 == 0x18) {
							iVar10 = *(int *)(puVar7 + 0x24);
							uVar16 = GetDirection((ulonglong) * (uint *)(puVar7 + 0x38), *(int *)(puVar7 + 0x3c),
							    (ulonglong) * (uint *)(puVar12 + iVar10 * 0xe8 + 0x28),
							    *(uint *)(puVar12 + iVar10 * 0xe8 + 0x2c));
							StartSpell(param_1, uVar16, (ulonglong) * (uint *)(puVar12 + iVar10 * 0xe8 + 0x28),
							    (ulonglong) * (uint *)(puVar12 + iVar10 * 0xe8 + 0x2c),
							    CONCAT71(uVar24, uVar25), param_6, param_7, param_8, in_stack_ffffff78);
							*puVar27 = 0xffffffff;
						} else {
							if (uVar4 == 0x19) {
								iVar10 = *(int *)(puVar7 + 0x24);
								uVar16 = GetDirection((ulonglong) * (uint *)(puVar7 + 0x38), *(int *)(puVar7 + 0x3c),
								    (ulonglong) * (uint *)(puVar11 + iVar10 * 0x55ec + 0x40),
								    *(uint *)(puVar11 + iVar10 * 0x55ec + 0x44));
								StartSpell(param_1, uVar16, (ulonglong) * (uint *)(puVar11 + iVar10 * 0x55ec + 0x40),
								    (ulonglong) * (uint *)(puVar11 + iVar10 * 0x55ec + 0x44),
								    CONCAT71(uVar24, uVar25), param_6, param_7, param_8, in_stack_ffffff78);
								*puVar27 = 0xffffffff;
							}
						}
					}
				}
			}
		}
	} else {
		piVar28 = (int *)(puVar11 + iVar10);
		if (*piVar28 == 0) {
			if (((int)param_1 == *(int *)puVar7) && ((uVar4 = *puVar27, uVar4 == 0x14 || (uVar4 == 0x15)))) {
				puVar7 = puVar11 + iVar10;
				uVar5 = *(uint *)(puVar7 + 0x24);
				if (uVar4 == 0x14) {
					lVar15 = abs((ulonglong) * (uint *)(puVar7 + 0x40) - (ulonglong) * (uint *)(puVar12 + uVar5 * 0xe8 + 0x28));
					iVar19 = (int)lVar15;
					lVar15 = abs((ulonglong) * (uint *)(puVar7 + 0x44) - (ulonglong) * (uint *)(puVar12 + uVar5 * 0xe8 + 0x2c));
					iVar18 = (int)lVar15;
					uVar20 = (ulonglong) * (uint *)(puVar7 + 0x44);
					uVar21 = (ulonglong) * (uint *)(puVar12 + uVar5 * 0xe8 + 0x28);
					uVar4 = *(uint *)(puVar12 + uVar5 * 0xe8 + 0x2c);
					uVar22 = (ulonglong)uVar4;
					uVar16 = GetDirection((ulonglong) * (uint *)(puVar7 + 0x40), *(uint *)(puVar7 + 0x44), uVar21,
					    uVar4);
				} else {
					puVar7 = puVar11 + 0x40;
					lVar15 = abs((ulonglong) * (uint *)(puVar7 + iVar10) - (ulonglong) * (uint *)(puVar7 + uVar5 * 0x55ec));
					puVar8 = puVar11 + 0x44;
					iVar19 = (int)lVar15;
					lVar15 = abs((ulonglong) * (uint *)(puVar8 + iVar10) - (ulonglong) * (uint *)(puVar8 + uVar5 * 0x55ec));
					uVar4 = *(uint *)(puVar8 + iVar10);
					uVar20 = (ulonglong)uVar4;
					iVar18 = (int)lVar15;
					uVar21 = (ulonglong) * (uint *)(puVar7 + uVar5 * 0x55ec);
					uVar6 = *(uint *)(puVar8 + uVar5 * 0x55ec);
					uVar22 = (ulonglong)uVar6;
					uVar16 = GetDirection((ulonglong) * (uint *)(puVar7 + iVar10), uVar4, uVar21, uVar6);
				}
				if ((iVar19 < 2) && (iVar18 < 2)) {
					ClrPlrPath(param_1, uVar20, uVar21, uVar22, CONCAT71(uVar24, uVar25), (int)param_6,
					    (int)param_7, (int)param_8, in_stack_ffffff78);
					if ((*(int *)(puVar12 + uVar5 * 0xe8 + 0xd4) == 0) || (*(int *)(puVar12 + uVar5 * 0xe8 + 0xd4) == 0x24)) {
						StartAttack(param_1, uVar16, uVar21, uVar22, CONCAT71(uVar24, uVar25), param_6, param_7,
						    param_8, in_stack_ffffff78);
					} else {
						TalktoMonster((ulonglong)uVar5, uVar20, uVar21, uVar22, CONCAT71(uVar24, uVar25), (int)param_6,
						    (int)param_7, (int)param_8, in_stack_ffffff78);
					}
					*puVar27 = 0xffffffff;
				}
			}
			if (*ppuVar14[-0x1df9] == '\0') {
				uVar21 = 0x800;
				uVar16 = 0x400;
				uVar20 = 0x200;
			} else {
				puVar7 = puVar13 + (int)(char)puVar11[iVar10 + 0x15c] * 0xc;
				uVar21 = (ulonglong) * (uint *)(puVar13 + (int)(char)puVar11[iVar10 + 0x15c] * 0xc);
				uVar16 = (ulonglong) * (uint *)(puVar7 + 4);
				uVar20 = (ulonglong) * (uint *)(puVar7 + 8);
			}
			cVar3 = puVar11[iVar10 + 4];
			if (((longlong)cVar3 & 0xffffffffU) < 9) {
				// WARNING: Could not recover jumptable at 0x100980d4. Too many branches
				// WARNING: Treating indirect jump as call
				(**(code **)(ppuVar14[-0x1682] + (int)cVar3 * 4))(*(code **)(ppuVar14[-0x1682] + (int)cVar3 * 4), uVar16);
				return;
			}
			*(undefined *)(piVar28 + 1) = *(undefined *)((int)piVar28 + 5);
			*(undefined *)((int)piVar28 + 5) = *(undefined *)((int)piVar28 + 6);
			*(undefined *)((int)piVar28 + 6) = *(undefined *)((int)piVar28 + 7);
			*(undefined *)((int)piVar28 + 7) = *(undefined *)(piVar28 + 2);
			*(undefined *)(piVar28 + 2) = *(undefined *)((int)piVar28 + 9);
			*(undefined *)((int)piVar28 + 9) = *(undefined *)((int)piVar28 + 10);
			*(undefined *)((int)piVar28 + 10) = *(undefined *)((int)piVar28 + 0xb);
			*(undefined *)((int)piVar28 + 0xb) = *(undefined *)(piVar28 + 3);
			*(undefined *)(piVar28 + 3) = *(undefined *)((int)piVar28 + 0xd);
			*(undefined *)((int)piVar28 + 0xd) = *(undefined *)((int)piVar28 + 0xe);
			*(undefined *)((int)piVar28 + 0xe) = *(undefined *)((int)piVar28 + 0xf);
			*(undefined *)((int)piVar28 + 0xf) = *(undefined *)(piVar28 + 4);
			*(undefined *)(piVar28 + 4) = *(undefined *)((int)piVar28 + 0x11);
			*(undefined *)((int)piVar28 + 0x11) = *(undefined *)((int)piVar28 + 0x12);
			*(undefined *)((int)piVar28 + 0x12) = *(undefined *)((int)piVar28 + 0x13);
			*(undefined *)((int)piVar28 + 0x13) = *(undefined *)(piVar28 + 5);
			*(undefined *)(piVar28 + 5) = *(undefined *)((int)piVar28 + 0x15);
			*(undefined *)((int)piVar28 + 0x15) = *(undefined *)((int)piVar28 + 0x16);
			*(undefined *)((int)piVar28 + 0x16) = *(undefined *)((int)piVar28 + 0x17);
			*(undefined *)((int)piVar28 + 0x17) = *(undefined *)(piVar28 + 6);
			*(undefined *)(piVar28 + 6) = *(undefined *)((int)piVar28 + 0x19);
			*(undefined *)((int)piVar28 + 0x19) = *(undefined *)((int)piVar28 + 0x1a);
			*(undefined *)((int)piVar28 + 0x1a) = *(undefined *)((int)piVar28 + 0x1b);
			*(undefined *)((int)piVar28 + 0x1b) = *(undefined *)(piVar28 + 7);
			(puVar11 + iVar10)[0x1c] = 0xff;
			if (*piVar28 == 0) {
				StartStand(param_1, (ulonglong) * (uint *)(puVar11 + iVar10 + 0x70), uVar20, uVar21,
				    CONCAT71(uVar24, uVar25), param_6, param_7, param_8, in_stack_ffffff78);
				*puVar27 = 0xffffffff;
			}
		}
	}
	return;
}

undefined8
PlrDeathModeOK(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined **ppuVar2;
	undefined8 uVar3;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	ppuVar2 = &toc;
	if ((int)param_1 == *(int *)PTR_DAT_100f1824) {
		if (3 < (param_1 & 0xffffffff)) {
			ppuVar2 = &toc;
			app_fatal((int)PTR_s_PlrDeathModeOK__illegal_player___100f35c0, param_1, param_3, param_4,
			    param_5, param_6, param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf,
			    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4,
			    in_stack_ffffffe8, in_stack_ffffffec, in_stack_fffffff0, in_stack_fffffff4);
		}
		iVar1 = *(int *)(ppuVar2[-0x1dea] + (int)param_1 * 0x55ec);
		if (iVar1 == 8) {
			uVar3 = 1;
		} else {
			if (iVar1 == 0xb) {
				uVar3 = 1;
			} else {
				if (iVar1 == 10) {
					uVar3 = 1;
				} else {
					uVar3 = 0;
				}
			}
		}
	} else {
		uVar3 = 1;
	}
	return uVar3;
}

void ValidatePlayer(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	ulonglong uVar4;
	int iVar6;
	undefined *puVar7;
	ulonglong uVar5;
	undefined *puVar8;
	int iVar9;
	int iVar10;
	longlong lVar11;
	ulonglong uVar12;
	ulonglong uVar13;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar1 = PTR_DAT_100f1870;
	puVar8 = PTR_DAT_100f1828;
	puVar2 = PTR_DAT_100f1824;
	ppuVar3 = &toc;
	uVar12 = 0;
	uVar13 = 0;
	if (3 < *(uint *)PTR_DAT_100f1824) {
		ppuVar3 = &toc;
		app_fatal((int)PTR_s_ValidatePlayer__illegal_player___100f35bc,
		    (ulonglong) * (uint *)PTR_DAT_100f1824, param_3, param_4, param_5, param_6, param_7,
		    param_8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffb8, in_stack_ffffffbc,
		    in_stack_ffffffc0, in_stack_ffffffc4, in_stack_ffffffc8, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4);
	}
	iVar6 = *(int *)puVar2 * 0x55ec;
	if ('2' < (char)puVar8[iVar6 + 0x1b4]) {
		puVar8[iVar6 + 0x1b4] = '2';
	}
	if (*(int *)(puVar8 + iVar6 + 0x1c0) < *(int *)(puVar8 + iVar6 + 0x1b8)) {
		*(int *)(puVar8 + iVar6 + 0x1b8) = *(int *)(puVar8 + iVar6 + 0x1c0);
	}
	iVar10 = 0;
	iVar9 = 0;
	puVar7 = puVar8 + iVar6;
	while (iVar9 < *(int *)(puVar8 + iVar6 + 0x4828)) {
		if (*(int *)(puVar7 + 0xeb0) == 0xb) {
			if (5000 < *(int *)(puVar7 + 0xf6c)) {
				*(undefined4 *)(puVar7 + 0xf6c) = 5000;
			}
			iVar10 = iVar10 + *(int *)(puVar7 + 0xf6c);
		}
		puVar7 = puVar7 + 0x170;
		iVar9 = iVar9 + 1;
	}
	iVar6 = *(int *)puVar2 * 0x55ec;
	if (iVar10 != *(int *)(puVar8 + iVar6 + 0x1c8)) {
		*(int *)(puVar8 + iVar6 + 0x1c8) = iVar10;
	}
	puVar7 = puVar8 + iVar6;
	if (*(int *)(puVar1 + (int)(char)puVar7[0x15c] * 0x10) < *(int *)(puVar7 + 0x164)) {
		*(int *)(puVar7 + 0x164) = *(int *)(puVar1 + (int)(char)puVar7[0x15c] * 0x10);
	}
	iVar9 = (int)(char)puVar7[0x15c] * 0x10;
	if (*(int *)(puVar1 + iVar9 + 4) < *(int *)(puVar8 + iVar6 + 0x16c)) {
		*(int *)(puVar8 + iVar6 + 0x16c) = *(int *)(puVar1 + iVar9 + 4);
	}
	if (*(int *)(puVar1 + iVar9 + 8) < *(int *)(puVar8 + iVar6 + 0x174)) {
		*(int *)(puVar8 + iVar6 + 0x174) = *(int *)(puVar1 + iVar9 + 8);
	}
	if (*(int *)(puVar1 + iVar9 + 0xc) < *(int *)(puVar8 + iVar6 + 0x17c)) {
		*(int *)(puVar8 + iVar6 + 0x17c) = *(int *)(puVar1 + iVar9 + 0xc);
	}
	puVar7 = puVar8 + iVar6 + 1;
	lVar11 = 1;
	puVar1 = ppuVar3[-0x1da7];
	do {
		if (*(int *)(puVar1 + 0x44) != -1) {
			uVar5 = 1;
			uVar4 = SetCursorPos(0, 1, lVar11 + -1);
			uVar12 = uVar12 | uVar5;
			uVar13 = uVar13 | uVar4;
			if ('\x0f' < (char)puVar7[0xc1]) {
				puVar7[0xc1] = 0xf;
			}
		}
		lVar11 = lVar11 + 1;
		puVar7 = puVar7 + 1;
		puVar1 = puVar1 + 0x38;
	} while ((int)lVar11 < 0x25);
	puVar8 = puVar8 + *(int *)puVar2 * 0x55ec;
	*(uint *)(puVar8 + 0x108) = *(uint *)(puVar8 + 0x108) & (uint)uVar12;
	*(uint *)(puVar8 + 0x104) = *(uint *)(puVar8 + 0x104) & (uint)uVar13;
	return;
}

void CheckCheatStats(int param_1)

{
	undefined *puVar1;

	puVar1 = PTR_DAT_100f1828;
	param_1 = param_1 * 0x55ec;
	if (0x2ee < *(int *)(PTR_DAT_100f1828 + param_1 + 0x160)) {
		*(int *)(PTR_DAT_100f1828 + param_1 + 0x160) = 0x2ee;
	}
	if (0x2ee < *(int *)(puVar1 + param_1 + 0x170)) {
		*(int *)(puVar1 + param_1 + 0x170) = 0x2ee;
	}
	if (0x2ee < *(int *)(puVar1 + param_1 + 0x168)) {
		*(int *)(puVar1 + param_1 + 0x168) = 0x2ee;
	}
	if (0x2ee < *(int *)(puVar1 + param_1 + 0x178)) {
		*(int *)(puVar1 + param_1 + 0x178) = 0x2ee;
	}
	if (0x1f400 < *(int *)(puVar1 + param_1 + 0x194)) {
		*(int *)(puVar1 + param_1 + 0x194) = 0x1f400;
	}
	if (*(int *)(puVar1 + param_1 + 0x1a8) < 0x1f401) {
		return;
	}
	*(int *)(puVar1 + param_1 + 0x1a8) = 0x1f400;
	return;
}

void ProcessPlayers(undefined8 param_1, undefined8 param_2, ulonglong param_3, undefined8 param_4,
    ulonglong param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8,
    undefined4 param_9)

{
	char cVar1;
	uint uVar2;
	uint *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	ulonglong uVar8;
	ulonglong uVar9;
	undefined8 uVar10;
	int iVar11;
	ulonglong uVar12;
	longlong lVar13;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar3 = _DAT_100f1df8;
	puVar7 = PTR_DAT_100f18e0;
	puVar6 = PTR_DAT_100f18dc;
	puVar5 = PTR_DAT_100f1824;
	puVar4 = PTR_DAT_100f17ec;
	uVar8 = ZEXT48(&toc);
	uVar12 = ZEXT48(PTR_DAT_100f1828);
	if (3 < *(uint *)PTR_DAT_100f1824) {
		app_fatal((int)PTR_s_ProcessPlayers__illegal_player___100f35b8,
		    (ulonglong) * (uint *)PTR_DAT_100f1824, param_3, param_4, param_5, (int)param_6,
		    (int)param_7, (int)param_8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffb8,
		    in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
	}
	lVar13 = 4;
	do {
		lVar13 = lVar13 + -1;
	} while (lVar13 != 0);
	lVar13 = uVar12 + (ulonglong) * (uint *)puVar5 * 0x55ec + 0x5592;
	cVar1 = *(char *)lVar13;
	if (cVar1 != '\0') {
		*(char *)lVar13 = cVar1 + -1;
	}
	uVar2 = *puVar3;
	uVar9 = (ulonglong)uVar2;
	if ((0 < (int)uVar2) && (*puVar3 = uVar2 - 1, *puVar3 == 0)) {
		uVar9 = PlaySFX((ulonglong) * *(uint **)((int)uVar8 + -0x71dc));
	}
	ValidatePlayer(uVar9, lVar13, param_3, param_4, param_5, (int)param_6, (int)param_7, (int)param_8,
	    in_stack_ffffffa8);
	uVar9 = 0;
	do {
		puVar3 = (uint *)uVar12;
		if (((*(char *)((int)puVar3 + 0x1d) != '\0') && ((uint)(byte)*puVar4 == puVar3[0xd])) && ((iVar11 = (int)uVar9, iVar11 == *(int *)puVar5 || (*(char *)((int)puVar3 + 0x13b) == '\0')))) {
			CheckCheatStats(iVar11);
			uVar10 = PlrDeathModeOK(uVar9, lVar13, param_3, param_4, param_5, (int)param_6, (int)param_7,
			    (int)param_8, in_stack_ffffffa8);
			if (((int)uVar10 == 0) && ((int)puVar3[0x65] >> 6 == 0)) {
				lVar13 = -1;
				SyncPlrKill(uVar9, 0xffffffff, param_3, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffffa8);
			}
			if (iVar11 == *(int *)puVar5) {
				if (((puVar3[0x155a] & 0x40) != 0) && (*puVar4 != '\0')) {
					puVar3[0x65] = puVar3[0x65] - 4;
					puVar3[99] = puVar3[99] - 4;
					if ((int)puVar3[0x65] >> 6 == 0) {
						lVar13 = 0;
						SyncPlrKill(uVar9, 0, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
					}
					*(undefined4 *)puVar7 = 1;
				}
				if (((puVar3[0x155a] & 0x8000000) != 0) && (param_3 = (ulonglong)puVar3[0x68], 0 < (int)puVar3[0x68])) {
					lVar13 = param_3 - (ulonglong)puVar3[0x6a];
					puVar3[0x68] = (uint)lVar13;
					puVar3[0x6a] = 0;
					*(undefined4 *)puVar6 = 1;
				}
			}
			if (*puVar3 < 0xb) {
				// WARNING: Could not recover jumptable at 0x1009929c. Too many branches
				// WARNING: Treating indirect jump as call
				(**(code **)(*(int *)((int)uVar8 + -0x5a1c) + *puVar3 * 4))();
				return;
			}
			CheckNewPath(uVar9, lVar13, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
			puVar3[0x21] = puVar3[0x21] + 1;
			if ((int)puVar3[0x20] < (int)puVar3[0x21]) {
				puVar3[0x21] = 0;
				puVar3[0x23] = puVar3[0x23] + 1;
				if ((int)puVar3[0x22] < (int)puVar3[0x23]) {
					puVar3[0x23] = 1;
				}
			}
		}
		uVar9 = uVar9 + 1;
		uVar12 = uVar12 + 0x55ec;
		if (3 < (int)uVar9) {
			return;
		}
	} while (true);
}

void ClrPlrPath(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined uVar2;
	undefined uVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined4 in_stack_ffffffc8;
	undefined uVar7;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	uVar7 = (undefined)in_stack_ffffffc8;
	uVar3 = (undefined)param_5;
	uVar2 = (undefined)param_4;
	uVar6 = (undefined)param_8;
	uVar5 = (undefined)param_7;
	uVar4 = (undefined)param_6;
	ppuVar1 = &toc;
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar1 = &toc;
		app_fatal((int)PTR_s_ClrPlrPath__illegal_player__d_100f35b0, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8,
		    in_stack_ffffffec, in_stack_fffffff0, in_stack_fffffff4);
	}
	memset((char)ppuVar1[-0x1dea] + (char)param_1 * -0x14 + '\x04', 0x19, 0xff, uVar2, uVar3, uVar4,
	    uVar5, uVar6, uVar7, in_stack_ffffffcf, local_2c);
	return;
}

undefined8
PosOkPlayer(int param_1, longlong param_2, int param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	short sVar1;
	char cVar2;
	undefined **ppuVar3;
	undefined8 uVar4;
	ulonglong uVar5;
	int iVar6;

	ppuVar3 = &toc;
	if (param_2 < 0) {
		uVar4 = 0;
	} else {
		iVar6 = (int)param_2;
		if (iVar6 < 0x70) {
			if (param_3 < 0) {
				uVar4 = 0;
			} else {
				if (param_3 < 0x70) {
					uVar5 = FUN_1009352c(iVar6, param_3);
					if ((int)uVar5 == 0) {
						if (*(short *)(*(int *)ppuVar3[-0x1d5f] + iVar6 * 0xe0 + param_3 * 2) == 0) {
							uVar4 = 0;
						} else {
							cVar2 = *(char *)(*(int *)ppuVar3[-0x1da0] + iVar6 * 0x70 + param_3);
							if (cVar2 != '\0') {
								if (cVar2 < '\x01') {
									uVar5 = -((longlong)cVar2 + 1);
								} else {
									uVar5 = (longlong)cVar2 - 1;
								}
								if ((((int)uVar5 != param_1) && ((uVar5 & 0xffffffff) < 4)) && (*(int *)(ppuVar3[-0x1dea] + (int)uVar5 * 0x55ec + 0x194) != 0)) {
									return 0;
								}
							}
							sVar1 = *(short *)(*(int *)ppuVar3[-0x1d9f] + iVar6 * 0xe0 + param_3 * 2);
							if (sVar1 != 0) {
								if (*ppuVar3[-0x1df9] == '\0') {
									return 0;
								}
								if (sVar1 < 1) {
									return 0;
								}
								if (*(int *)(ppuVar3[-0x1dd5] + ((int)sVar1 + -1) * 0xe8 + 0x98) >> 6 != 0) {
									return 0;
								}
							}
							cVar2 = *(char *)(*(int *)ppuVar3[-0x1da1] + iVar6 * 0x70 + param_3);
							if (cVar2 != '\0') {
								if (cVar2 < '\x01') {
									cVar2 = -(cVar2 + '\x01');
								} else {
									cVar2 = cVar2 + -1;
								}
								if (*(int *)(ppuVar3[-0x1da2] + (int)cVar2 * 0x78 + 0x38) != 0) {
									return 0;
								}
							}
							uVar4 = 1;
						}
					} else {
						uVar4 = 0;
					}
				} else {
					uVar4 = 0;
				}
			}
		} else {
			uVar4 = 0;
		}
	}
	return uVar4;
}

void MakePlrPath(ulonglong param_1, longlong param_2, longlong param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	char cVar1;
	uint uVar2;
	int iVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	int iVar6;
	int iVar7;
	undefined uVar8;
	uint uVar9;
	int iVar10;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar4 = PTR_DAT_100f1828;
	uVar8 = (undefined)param_8;
	ppuVar5 = &toc;
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar5 = &toc;
		app_fatal(_DAT_100f35ac, param_1, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffb8, in_stack_ffffffbc,
		    in_stack_ffffffc0, in_stack_ffffffc4, in_stack_ffffffc8, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4);
	}
	iVar3 = (int)param_1 * 0x55ec;
	uVar9 = (uint)param_2;
	*(uint *)(puVar4 + iVar3 + 0x48) = uVar9;
	iVar10 = (int)param_3;
	*(int *)(puVar4 + iVar3 + 0x4c) = iVar10;
	uVar2 = *(uint *)(puVar4 + iVar3 + 0x40);
	if ((uVar9 != uVar2) || (iVar10 != *(int *)(puVar4 + iVar3 + 0x44))) {
		iVar6 = FindPath(ZEXT48(ppuVar5[-0x1be6]), param_1, (ulonglong)uVar2,
		    (ulonglong) * (uint *)(puVar4 + iVar3 + 0x44), param_2, param_3,
		    (int)(puVar4 + iVar3 + 4), uVar8, in_stack_ffffffa8);
		if (iVar6 != 0) {
			iVar7 = iVar6;
			if ((int)param_4 == 0) {
				iVar7 = iVar6 + -1;
				cVar1 = (puVar4 + iVar3)[iVar6 + 3];
				if (((longlong)cVar1 & 0xffffffffU) < 9) {
					// WARNING: Could not recover jumptable at 0x100996d4. Too many branches
					// WARNING: Treating indirect jump as call
					(**(code **)(ppuVar5[-0x168a] + (int)cVar1 * 4))();
					return;
				}
				*(uint *)(puVar4 + iVar3 + 0x48) = uVar9;
				*(int *)(puVar4 + iVar3 + 0x4c) = iVar10;
			}
			puVar4[iVar7 + iVar3 + 4] = 0xff;
		}
	}
	return;
}

void CheckPlrSpell(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined8 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	char cVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	int iVar10;
	undefined **ppuVar11;
	undefined8 uVar12;
	ulonglong uVar13;
	longlong lVar14;
	undefined uVar15;
	int iVar16;
	undefined *puVar17;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar9 = PTR_DAT_100f1978;
	puVar8 = PTR_DAT_100f1974;
	puVar7 = PTR_DAT_100f1928;
	puVar6 = PTR_DAT_100f1880;
	puVar5 = PTR_DAT_100f1874;
	puVar4 = PTR_DAT_100f1828;
	puVar3 = PTR_DAT_100f1824;
	uVar15 = (undefined)param_5;
	ppuVar11 = &toc;
	iVar16 = 0;
	if (3 < *(uint *)PTR_DAT_100f1824) {
		ppuVar11 = &toc;
		app_fatal(_DAT_100f35a4, (ulonglong) * (uint *)PTR_DAT_100f1824, param_3, param_4, param_5,
		    (int)param_6, param_7, param_8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffb8,
		    in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
	}
	puVar17 = puVar4 + 0xb4;
	iVar10 = *(int *)puVar3 * 0x55ec;
	iVar2 = *(int *)(puVar17 + iVar10);
	if (iVar2 == -1) {
		cVar1 = puVar4[iVar10 + 0x15c];
		if (cVar1 == '\0') {
			PlaySFX(0x2f1);
		} else {
			if (cVar1 == '\x01') {
				PlaySFX(0x284);
			} else {
				if (cVar1 == '\x02') {
					PlaySFX(0x21d);
				}
			}
		}
	} else {
		if ((*ppuVar11[-0x1de5] == '\0') && (*(int *)(ppuVar11[-0x1da7] + iVar2 * 0x38 + 0x18) == 0)) {
			cVar1 = puVar4[iVar10 + 0x15c];
			if (cVar1 == '\0') {
				PlaySFX(0x2ea);
			} else {
				if (cVar1 == '\x01') {
					PlaySFX(0x27d);
				} else {
					if (cVar1 == '\x02') {
						PlaySFX(0x216);
					}
				}
			}
		} else {
			if ((*(int *)ppuVar11[-0x1dd1] == 1) && ((((*(int *)ppuVar11[-0x1dab] < 0x160 && ((*(int *)ppuVar11[-0x1df1] == 0 || (0x13f < *(int *)puVar7)))) && ((*(int *)ppuVar11[-0x1def] == 0 || (*(int *)puVar7 < 0x141)))) || ((*(int *)ppuVar11[-0x1dab] < 0x160 && ((((iVar2 == 2 || (iVar2 == 5)) || (iVar2 == 9)) || (iVar2 - 0x1aU < 2)))))))) {
				cVar1 = (puVar4 + 0xb8)[iVar10];
				if (cVar1 == '\x02') {
					uVar12 = UseScroll();
					iVar16 = (int)uVar12;
				} else {
					if (cVar1 < '\x02') {
						if (-1 < cVar1) {
							uVar12 = CheckSpell(*(int *)puVar3, iVar2, cVar1, 0, uVar15, (char)param_6, (char)param_7,
							    (char)param_8, in_stack_ffffffa8);
							iVar16 = (int)uVar12;
						}
					} else {
						if (cVar1 < '\x04') {
							uVar12 = UseStaff();
							iVar16 = (int)uVar12;
						}
					}
				}
				uVar15 = (undefined)param_8;
				if (iVar16 == 0) {
					if ((puVar4 + 0xb8)[*(int *)puVar3 * 0x55ec] == '\x01') {
						cVar1 = puVar4[*(int *)puVar3 * 0x55ec + 0x15c];
						if (cVar1 == '\0') {
							PlaySFX(0x2f2);
						} else {
							if (cVar1 == '\x01') {
								PlaySFX(0x285);
							} else {
								if (cVar1 == '\x02') {
									PlaySFX(0x21e);
								}
							}
						}
					}
				} else {
					iVar16 = *(int *)puVar3;
					iVar2 = *(int *)(puVar17 + iVar16 * 0x55ec);
					if (iVar2 == 6) {
						uVar13 = GetDirection((ulonglong) * (uint *)(puVar4 + iVar16 * 0x55ec + 0x38),
						    *(int *)(puVar4 + iVar16 * 0x55ec + 0x3c),
						    (ulonglong) * (uint *)puVar9, *(int *)puVar8);
						lVar14 = GetSpellLevel(*(int *)puVar3, *(int *)(puVar17 + *(int *)puVar3 * 0x55ec));
						NetSendCmdLocParam3(1, 0x54, (ulonglong)(*(uint *)puVar9 & 0xff),
						    (ulonglong)(*(uint *)puVar8 & 0xff),
						    (ulonglong)(*(uint *)(puVar17 + *(int *)puVar3 * 0x55ec) & 0xffff),
						    (uint)uVar13 & 0xffff, (uint)lVar14 & 0xffff, uVar15, in_stack_ffffffa8);
					} else {
						if (*(int *)puVar6 == -1) {
							if (*puVar5 == -1) {
								lVar14 = GetSpellLevel(iVar16, iVar2);
								NetSendCmdLocParam2(1, 0xe, (ulonglong)(*(uint *)puVar9 & 0xff),
								    (ulonglong)(*(uint *)puVar8 & 0xff),
								    (ulonglong)(*(uint *)(puVar17 + *(int *)puVar3 * 0x55ec) & 0xffff),
								    (uint)lVar14 & 0xffff, param_7, param_8, in_stack_ffffffa8);
							} else {
								lVar14 = GetSpellLevel(iVar16, iVar2);
								NetSendCmdParam3(1, 0x17, (longlong)(char)*puVar5,
								    (ulonglong)(*(uint *)(puVar17 + *(int *)puVar3 * 0x55ec) & 0xffff),
								    (ulonglong)((uint)lVar14 & 0xffff), param_6, param_7, param_8,
								    in_stack_ffffffa8);
							}
						} else {
							lVar14 = GetSpellLevel(iVar16, iVar2);
							NetSendCmdParam3(1, 0x16, (ulonglong)(*(uint *)puVar6 & 0xffff),
							    (ulonglong)(*(uint *)(puVar17 + *(int *)puVar3 * 0x55ec) & 0xffff),
							    (ulonglong)((uint)lVar14 & 0xffff), param_6, param_7, param_8,
							    in_stack_ffffffa8);
						}
					}
				}
			}
		}
	}
	return;
}

void SyncPlrAnim(ulonglong param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	puVar2 = PTR_DAT_100f1828;
	ppuVar3 = &toc;
	if (3 < (param_1 & 0xffffffff)) {
		param_2 = param_1;
		ppuVar3 = &toc;
		app_fatal((int)PTR_s_SyncPlrAnim__illegal_player__d_100f35a0, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8,
		    in_stack_ffffffec, in_stack_fffffff0, in_stack_fffffff4);
	}
	uVar1 = *(uint *)(puVar2 + (int)(param_1 * 0x55ec));
	if (uVar1 < 0xc) {
		// WARNING: Could not recover jumptable at 0x10099b40. Too many branches
		// WARNING: Treating indirect jump as call
		(**(code **)(ppuVar3[-0x168e] + uVar1 * 4))();
		return;
	}
	app_fatal((int)ppuVar3[-0x168d], param_2, param_3, param_1 * 0x55ec,
	    (ulonglong) * (uint *)(puVar2 + (int)(param_1 * 0x55ec) + 0x1c), param_6, param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8, in_stack_ffffffdc,
	    in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8, in_stack_ffffffec,
	    in_stack_fffffff0, in_stack_fffffff4);
	return;
}

void SyncInitPlrPos(undefined8 param_1, undefined param_2, undefined param_3, undefined param_4,
    char param_5, char param_6, char param_7, char param_8, undefined4 param_9)

{
	int *piVar1;
	int *piVar2;
	int *piVar3;
	undefined *puVar4;
	int iVar5;
	bool bVar6;
	int iVar7;
	undefined *puVar8;
	undefined *puVar9;
	ulonglong uVar10;
	int iVar11;
	undefined8 uVar12;
	int iVar13;
	ulonglong uVar14;
	longlong lVar15;
	longlong lVar16;
	longlong lVar17;
	longlong lVar18;
	uint *puVar20;
	longlong lVar19;
	uint *puVar22;
	longlong lVar21;
	uint uVar24;
	longlong lVar23;
	int iVar25;
	longlong lVar26;
	longlong lVar27;
	undefined4 in_stack_ffffff88;

	puVar9 = PTR_DAT_100f1828;
	puVar8 = PTR_DAT_100f17ec;
	puVar4 = PTR_DAT_100f17e0;
	lVar18 = (longlong)param_8;
	lVar17 = (longlong)param_7;
	lVar16 = (longlong)param_6;
	lVar15 = (longlong)param_5;
	uVar10 = ZEXT48(&toc);
	iVar7 = (int)param_1;
	iVar5 = iVar7 * 0x55ec;
	piVar1 = (int *)(PTR_DAT_100f1828 + iVar5 + 0x38);
	piVar3 = (int *)(PTR_DAT_100f1828 + iVar5 + 0x48);
	*piVar3 = *piVar1;
	*(int *)(puVar9 + iVar5 + 0x4c) = *(int *)(puVar9 + iVar5 + 0x3c);
	if ((*puVar4 != '\x01') && (puVar4 = puVar9 + iVar5, (uint)(byte)*puVar8 == *(uint *)(puVar4 + 0x34))) {
		uVar24 = 0;
		puVar20 = _DAT_100f2048;
		puVar22 = (uint *)PTR_DAT_100f204c;
		do {
			uVar14 = (ulonglong) * (uint *)(puVar4 + 0x38);
			lVar27 = uVar14 + (ulonglong)*puVar20;
			lVar27._4_4_ = (int)lVar27;
			lVar26 = (ulonglong) * (uint *)(puVar4 + 0x3c) + (ulonglong)*puVar22;
			iVar13 = (int)lVar26;
			uVar12 = PosOkPlayer(iVar7, lVar27, iVar13, (char)*(uint *)(puVar4 + 0x38), (char)lVar15,
			    (char)lVar16, (char)lVar17, (char)lVar18, in_stack_ffffff88);
			if ((int)uVar12 != 0)
				break;
			uVar24 = uVar24 + 1;
			puVar22 = puVar22 + 1;
			puVar20 = puVar20 + 1;
		} while (uVar24 < 8);
		uVar12 = PosOkPlayer(iVar7, lVar27, iVar13, (char)uVar14, (char)lVar15, (char)lVar16, (char)lVar17,
		    (char)lVar18, in_stack_ffffff88);
		iVar11 = (int)uVar10;
		if ((int)uVar12 == 0) {
			bVar6 = false;
			lVar23 = 1;
			while (true) {
				iVar11 = (int)uVar10;
				lVar27._4_4_ = (int)lVar27;
				iVar13 = (int)lVar26;
				iVar25 = (int)lVar23;
				if ((0x31 < iVar25) || (bVar6))
					break;
				lVar21 = -lVar23;
				while (((int)lVar21 <= iVar25 && (!bVar6))) {
					lVar26 = lVar21 + (ulonglong) * (uint *)(puVar4 + 0x3c);
					lVar19 = -lVar23;
					while (((int)lVar19 <= iVar25 && (!bVar6))) {
						lVar27 = lVar19 + (ulonglong) * (uint *)(puVar4 + 0x38);
						uVar12 = PosOkPlayer(iVar7, lVar27, (int)lVar26, (char)uVar14, (char)lVar15, (char)lVar16,
						    (char)lVar17, (char)lVar18, in_stack_ffffff88);
						if (((int)uVar12 != 0) && (uVar12 = PosOkPortal((uint)(byte)*puVar8, (int)lVar27, (int)lVar26), (int)uVar12 == 0)) {
							bVar6 = true;
						}
						lVar19 = lVar19 + 1;
					}
					lVar21 = lVar21 + 1;
				}
				lVar23 = lVar23 + 1;
			}
		}
		*piVar1 = lVar27._4_4_;
		piVar1 = *(int **)(iVar11 + -0x7680);
		*(int *)(puVar9 + iVar5 + 0x3c) = iVar13;
		piVar2 = *(int **)(iVar11 + -0x77ac);
		*(char *)(*piVar1 + lVar27._4_4_ * 0x70 + iVar13) = (char)param_1 + '\x01';
		if (iVar7 == *piVar2) {
			piVar1 = *(int **)(iVar11 + -0x77b0);
			*(int *)(puVar9 + iVar5 + 0x40) = lVar27._4_4_;
			piVar2 = *(int **)(iVar11 + -0x77b4);
			*(int *)(puVar9 + iVar5 + 0x44) = iVar13;
			*piVar3 = lVar27._4_4_;
			*(int *)(puVar9 + iVar5 + 0x4c) = iVar13;
			*piVar1 = lVar27._4_4_;
			*piVar2 = iVar13;
		}
	}
	return;
}

void SyncInitPlr(ulonglong param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined uVar1;
	undefined7 uVar2;
	undefined uVar3;
	undefined7 uVar4;
	undefined uVar5;
	undefined7 uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	uVar6 = (undefined7)((ulonglong)param_5 >> 8);
	uVar7 = (undefined)param_5;
	uVar4 = (undefined7)((ulonglong)param_4 >> 8);
	uVar5 = (undefined)param_4;
	uVar2 = (undefined7)((ulonglong)param_3 >> 8);
	uVar3 = (undefined)param_3;
	if (3 < (param_1 & 0xffffffff)) {
		param_2 = param_1;
		app_fatal((int)PTR_s_SyncInitPlr__illegal_player__d_100f3594, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8,
		    in_stack_ffffffec, in_stack_fffffff0, in_stack_fffffff4);
	}
	uVar10 = (undefined)param_8;
	uVar9 = (undefined)param_7;
	uVar8 = (undefined)param_6;
	uVar1 = (undefined)param_2;
	SetPlrAnims(param_1, param_2, CONCAT71(uVar2, uVar3), CONCAT71(uVar4, uVar5), CONCAT71(uVar6, uVar7),
	    param_6, param_7, param_8, in_stack_ffffffc8);
	SyncInitPlrPos(param_1, uVar1, uVar3, uVar5, uVar7, uVar8, uVar9, uVar10, in_stack_ffffffc8);
	return;
}

void CheckStats(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	char cVar1;
	int iVar2;
	int iVar3;
	int iVar4;
	int iVar5;
	undefined *puVar6;
	undefined **ppuVar7;
	int *piVar8;
	int iVar9;
	int iVar10;
	int unaff_r30;
	longlong lVar11;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar6 = PTR_DAT_100f1828;
	ppuVar7 = &toc;
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar7 = &toc;
		app_fatal((int)PTR_s_CheckStats__illegal_player__d_100f3590, param_1, param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	iVar5 = (int)param_1 * 0x55ec;
	cVar1 = puVar6[iVar5 + 0x15c];
	if (cVar1 == '\0') {
		unaff_r30 = 0;
	} else {
		if (cVar1 == '\x01') {
			unaff_r30 = 1;
		} else {
			if (cVar1 == '\x02') {
				unaff_r30 = 2;
			}
		}
	}
	puVar6 = puVar6 + iVar5;
	piVar8 = (int *)(ppuVar7[-0x1dd8] + unaff_r30 * 0x10);
	lVar11 = 2;
	iVar5 = *piVar8;
	iVar2 = piVar8[1];
	iVar9 = 0;
	iVar3 = piVar8[2];
	iVar4 = piVar8[3];
	do {
		if (iVar9 == 2) {
			if (iVar3 < *(int *)(puVar6 + 0x174)) {
				*(int *)(puVar6 + 0x174) = iVar3;
			} else {
				if (*(int *)(puVar6 + 0x174) < 0) {
					*(undefined4 *)(puVar6 + 0x174) = 0;
				}
			}
		} else {
			if (iVar9 < 2) {
				if (iVar9 == 0) {
					if (iVar5 < *(int *)(puVar6 + 0x164)) {
						*(int *)(puVar6 + 0x164) = iVar5;
					} else {
						if (*(int *)(puVar6 + 0x164) < 0) {
							*(undefined4 *)(puVar6 + 0x164) = 0;
						}
					}
				} else {
					if (-1 < iVar9) {
						if (iVar2 < *(int *)(puVar6 + 0x16c)) {
							*(int *)(puVar6 + 0x16c) = iVar2;
						} else {
							if (*(int *)(puVar6 + 0x16c) < 0) {
								*(undefined4 *)(puVar6 + 0x16c) = 0;
							}
						}
					}
				}
			} else {
				if (iVar9 < 4) {
					if (iVar4 < *(int *)(puVar6 + 0x17c)) {
						*(int *)(puVar6 + 0x17c) = iVar4;
					} else {
						if (*(int *)(puVar6 + 0x17c) < 0) {
							*(undefined4 *)(puVar6 + 0x17c) = 0;
						}
					}
				}
			}
		}
		iVar10 = iVar9 + 1;
		if (iVar10 == 2) {
			if (iVar3 < *(int *)(puVar6 + 0x174)) {
				*(int *)(puVar6 + 0x174) = iVar3;
			} else {
				if (*(int *)(puVar6 + 0x174) < 0) {
					*(undefined4 *)(puVar6 + 0x174) = 0;
				}
			}
		} else {
			if (iVar10 < 2) {
				if (iVar9 == -1) {
					if (iVar5 < *(int *)(puVar6 + 0x164)) {
						*(int *)(puVar6 + 0x164) = iVar5;
					} else {
						if (*(int *)(puVar6 + 0x164) < 0) {
							*(undefined4 *)(puVar6 + 0x164) = 0;
						}
					}
				} else {
					if (-1 < iVar10) {
						if (iVar2 < *(int *)(puVar6 + 0x16c)) {
							*(int *)(puVar6 + 0x16c) = iVar2;
						} else {
							if (*(int *)(puVar6 + 0x16c) < 0) {
								*(undefined4 *)(puVar6 + 0x16c) = 0;
							}
						}
					}
				}
			} else {
				if (iVar10 < 4) {
					if (iVar4 < *(int *)(puVar6 + 0x17c)) {
						*(int *)(puVar6 + 0x17c) = iVar4;
					} else {
						if (*(int *)(puVar6 + 0x17c) < 0) {
							*(undefined4 *)(puVar6 + 0x17c) = 0;
						}
					}
				}
			}
		}
		iVar9 = iVar9 + 2;
		lVar11 = lVar11 + -1;
	} while (lVar11 != 0);
	return;
}

void FUN_1009a120(ulonglong param_1, int param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	uint uVar1;
	uint *puVar2;
	uint *puVar3;
	int iVar4;
	undefined *puVar5;
	int iVar6;
	undefined **ppuVar7;
	longlong lVar8;
	ulonglong uVar9;
	ulonglong uVar10;
	undefined4 uVar11;
	undefined4 uVar12;
	undefined4 uVar13;
	ulonglong uVar14;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar5 = PTR_DAT_100f1828;
	ppuVar7 = &toc;
	uVar14 = ZEXT48(PTR_DAT_100f1828);
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar7 = &toc;
		app_fatal(_DAT_100f358c, param_1, param_3, param_4, param_5, (int)param_6, (int)param_7,
		    (int)param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	uVar13 = (undefined4)param_8;
	uVar12 = (undefined4)param_7;
	uVar11 = (undefined4)param_6;
	lVar8 = param_1 * 0x55ec;
	uVar10 = uVar14 + lVar8 + 0x15c;
	iVar4 = (int)lVar8;
	puVar2 = (uint *)(puVar5 + iVar4 + 0x164);
	uVar1 = *puVar2;
	uVar9 = (ulonglong)uVar1;
	if (*(int *)(ppuVar7[-0x1dd8] + (int)*(char *)uVar10 * 0x10) < (int)(param_2 + uVar1)) {
		param_2 = *(int *)(ppuVar7[-0x1dd8] + (int)*(char *)uVar10 * 0x10) - uVar1;
	}
	puVar3 = (uint *)(puVar5 + iVar4 + 0x160);
	*puVar3 = *(int *)(puVar5 + iVar4 + 0x160) + param_2;
	*puVar2 = *puVar2 + param_2;
	if (*(char *)uVar10 == '\x01') {
		uVar9 = uVar14 + lVar8;
		iVar4 = (int)uVar9;
		uVar14 = (ulonglong) * (byte *)(iVar4 + 0x1b4);
		uVar10 = 0x51eb851f;
		iVar6 = (int)(char)*(byte *)(iVar4 + 0x1b4) * (*puVar3 + *(int *)(iVar4 + 0x170));
		uVar1 = iVar6 / 200 + (iVar6 >> 0x1f);
		*(int *)(iVar4 + 0x184) = uVar1 + (uVar1 >> 0x1f);
	} else {
		uVar14 = (ulonglong)*puVar3;
		iVar6 = *puVar3 * (int)(char)(puVar5 + iVar4)[0x1b4];
		uVar1 = iVar6 / 100 + (iVar6 >> 0x1f);
		*(uint *)(puVar5 + iVar4 + 0x184) = uVar1 + (uVar1 >> 0x1f);
	}
	CalcPlrInv(param_1, 1, uVar14, uVar9, uVar10, param_6, param_7, param_8, in_stack_ffffffb8);
	if ((int)param_1 == *(int *)ppuVar7[-0x1deb]) {
		NetSendCmdParam1(0, 0x4f, (ulonglong)(*puVar2 & 0xffff), uVar9, uVar10, uVar11, uVar12, uVar13,
		    in_stack_ffffffb8);
	}
	return;
}

void FUN_1009a274(ulonglong param_1, int param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	uint uVar1;
	int iVar2;
	uint *puVar3;
	undefined *puVar4;
	int iVar5;
	undefined **ppuVar6;
	ulonglong uVar7;
	ulonglong uVar8;
	undefined4 uVar9;
	undefined4 uVar10;
	undefined4 uVar11;
	ulonglong uVar12;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar4 = PTR_DAT_100f1828;
	ppuVar6 = &toc;
	uVar12 = ZEXT48(PTR_DAT_100f1828);
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar6 = &toc;
		app_fatal(_DAT_100f3588, param_1, param_3, param_4, param_5, (int)param_6, (int)param_7,
		    (int)param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	uVar11 = (undefined4)param_8;
	uVar10 = (undefined4)param_7;
	uVar9 = (undefined4)param_6;
	uVar7 = param_1 * 0x55ec;
	uVar12 = uVar12 + uVar7 + 0x15c;
	iVar5 = (int)uVar7;
	puVar3 = (uint *)(puVar4 + iVar5 + 0x16c);
	uVar1 = *puVar3;
	uVar8 = (ulonglong)uVar1;
	if (*(int *)(ppuVar6[-0x1dd8] + (int)*(char *)uVar12 * 0x10 + 4) < (int)(param_2 + uVar1)) {
		param_2 = *(int *)(ppuVar6[-0x1dd8] + (int)*(char *)uVar12 * 0x10 + 4) - uVar1;
	}
	*(int *)(puVar4 + iVar5 + 0x168) = *(int *)(puVar4 + iVar5 + 0x168) + param_2;
	*puVar3 = *puVar3 + param_2;
	iVar2 = param_2 << 6;
	if (*(char *)uVar12 == '\x02') {
		iVar2 = param_2 << 7;
	}
	puVar4 = puVar4 + iVar5;
	*(int *)(puVar4 + 0x1a4) = *(int *)(puVar4 + 0x1a4) + iVar2;
	*(int *)(puVar4 + 0x1ac) = *(int *)(puVar4 + 0x1ac) + iVar2;
	if ((*(uint *)(puVar4 + 0x5568) & 0x8000000) == 0) {
		*(int *)(puVar4 + 0x1a0) = *(int *)(puVar4 + 0x1a0) + iVar2;
		*(int *)(puVar4 + 0x1a8) = *(int *)(puVar4 + 0x1a8) + iVar2;
	}
	CalcPlrInv(param_1, 1, uVar7, uVar8, uVar12, param_6, param_7, param_8, in_stack_ffffffb8);
	if ((int)param_1 == *(int *)ppuVar6[-0x1deb]) {
		NetSendCmdParam1(0, 0x50, (ulonglong)(*puVar3 & 0xffff), uVar8, uVar12, uVar9, uVar10, uVar11,
		    in_stack_ffffffb8);
	}
	return;
}

void FUN_1009a3a8(ulonglong param_1, int param_2, undefined8 param_3, ulonglong param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	uint uVar1;
	uint *puVar2;
	undefined *puVar3;
	int iVar4;
	undefined *puVar5;
	int iVar6;
	undefined **ppuVar7;
	undefined4 uVar8;
	undefined4 uVar9;
	undefined4 uVar10;
	ulonglong uVar11;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar5 = PTR_DAT_100f1828;
	ppuVar7 = &toc;
	uVar11 = ZEXT48(PTR_DAT_100f1828);
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar7 = &toc;
		app_fatal(_DAT_100f3584, param_1, param_3, param_4, param_5, (int)param_6, (int)param_7,
		    (int)param_8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffb8,
		    in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
	}
	uVar10 = (undefined4)param_8;
	uVar9 = (undefined4)param_7;
	uVar8 = (undefined4)param_6;
	iVar4 = (int)(param_1 * 0x55ec);
	puVar2 = (uint *)(puVar5 + iVar4 + 0x174);
	uVar1 = *puVar2;
	if (*(int *)(ppuVar7[-0x1dd8] + (int)(char)puVar5[iVar4 + 0x15c] * 0x10 + 8) < (int)(param_2 + uVar1)) {
		param_2 = *(int *)(ppuVar7[-0x1dd8] + (int)(char)puVar5[iVar4 + 0x15c] * 0x10 + 8) - uVar1;
	}
	puVar3 = puVar5 + iVar4;
	*(int *)(puVar3 + 0x170) = *(int *)(puVar3 + 0x170) + param_2;
	*puVar2 = *puVar2 + param_2;
	CalcPlrInv(param_1, 1, (ulonglong)uVar1, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	if (puVar5[iVar4 + 0x15c] == '\x01') {
		param_4 = uVar11 + param_1 * 0x55ec;
		iVar4 = (int)param_4;
		param_5 = 0x51eb851f;
		iVar6 = (int)*(char *)(iVar4 + 0x1b4) * (*(int *)(iVar4 + 0x160) + *(int *)(puVar3 + 0x170));
		uVar1 = iVar6 / 200 + (iVar6 >> 0x1f);
		*(int *)(iVar4 + 0x184) = uVar1 + (uVar1 >> 0x1f);
	}
	if ((int)param_1 == *(int *)ppuVar7[-0x1deb]) {
		NetSendCmdParam1(0, 0x51, (ulonglong)(*puVar2 & 0xffff), param_4, param_5, uVar8, uVar9, uVar10,
		    in_stack_ffffffa8);
	}
	return;
}

void FUN_1009a4b4(ulonglong param_1, int param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	uint uVar1;
	int iVar2;
	uint *puVar3;
	undefined *puVar4;
	int iVar5;
	undefined **ppuVar6;
	longlong lVar7;
	ulonglong uVar8;
	ulonglong uVar9;
	undefined4 uVar10;
	undefined4 uVar11;
	undefined4 uVar12;
	ulonglong uVar13;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar4 = PTR_DAT_100f1828;
	ppuVar6 = &toc;
	uVar13 = ZEXT48(PTR_DAT_100f1828);
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar6 = &toc;
		app_fatal(_DAT_100f3580, param_1, param_3, param_4, param_5, (int)param_6, (int)param_7,
		    (int)param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	uVar12 = (undefined4)param_8;
	uVar11 = (undefined4)param_7;
	uVar10 = (undefined4)param_6;
	lVar7 = param_1 * 0x55ec;
	uVar9 = uVar13 + lVar7 + 0x15c;
	puVar3 = (uint *)(puVar4 + (int)lVar7 + 0x17c);
	uVar1 = *puVar3;
	uVar8 = (ulonglong)uVar1;
	if (*(int *)(ppuVar6[-0x1dd8] + (int)*(char *)uVar9 * 0x10 + 0xc) < (int)(param_2 + uVar1)) {
		param_2 = *(int *)(ppuVar6[-0x1dd8] + (int)*(char *)uVar9 * 0x10 + 0xc) - uVar1;
	}
	puVar4 = puVar4 + (int)lVar7;
	*(int *)(puVar4 + 0x178) = *(int *)(puVar4 + 0x178) + param_2;
	*puVar3 = *puVar3 + param_2;
	iVar2 = param_2 << 6;
	if (*(char *)uVar9 == '\0') {
		iVar2 = param_2 << 7;
	}
	uVar13 = uVar13 + lVar7;
	iVar5 = (int)uVar13;
	*(int *)(iVar5 + 0x18c) = *(int *)(iVar5 + 0x18c) + iVar2;
	*(int *)(iVar5 + 400) = *(int *)(iVar5 + 400) + iVar2;
	*(int *)(iVar5 + 0x194) = *(int *)(iVar5 + 0x194) + iVar2;
	*(int *)(iVar5 + 0x198) = *(int *)(iVar5 + 0x198) + iVar2;
	CalcPlrInv(param_1, 1, uVar13, uVar8, uVar9, param_6, param_7, param_8, in_stack_ffffffb8);
	if ((int)param_1 == *(int *)ppuVar6[-0x1deb]) {
		NetSendCmdParam1(0, 0x52, (ulonglong)(*puVar3 & 0xffff), uVar8, uVar9, uVar10, uVar11, uVar12,
		    in_stack_ffffffb8);
	}
	return;
}

void SetPlayerHitPoints(ulonglong param_1, int param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int *piVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar2 = PTR_DAT_100f1828;
	ppuVar3 = &toc;
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar3 = &toc;
		app_fatal(_DAT_100f357c, param_1, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4);
	}
	piVar1 = (int *)ppuVar3[-0x1deb];
	puVar2 = puVar2 + (int)param_1 * 0x55ec;
	*(int *)(puVar2 + 0x194) = param_2;
	*(int *)(puVar2 + 0x18c) = param_2 - (*(int *)(puVar2 + 0x198) - *(int *)(puVar2 + 400));
	if ((int)param_1 == *piVar1) {
		*(undefined4 *)ppuVar3[-0x1dbc] = 1;
	}
	return;
}

void SetPlrStr(ulonglong param_1, undefined4 param_2, ulonglong param_3, ulonglong param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	int iVar3;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar2 = PTR_DAT_100f1828;
	if (3 < (param_1 & 0xffffffff)) {
		app_fatal((int)PTR_s_SetPlrStr__illegal_player__d_100f3578, param_1, param_3, param_4, param_5,
		    (int)param_6, (int)param_7, (int)param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	puVar2 = puVar2 + (int)param_1 * 0x55ec;
	*(undefined4 *)(puVar2 + 0x164) = param_2;
	CalcPlrInv(param_1, 1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	if (puVar2[0x15c] == '\x01') {
		iVar3 = (int)(char)puVar2[0x1b4] * (*(int *)(puVar2 + 0x160) + *(int *)(puVar2 + 0x170));
		uVar1 = iVar3 / 200 + (iVar3 >> 0x1f);
		*(uint *)(puVar2 + 0x184) = uVar1 + (uVar1 >> 0x1f);
	} else {
		uVar1 = (*(int *)(puVar2 + 0x160) * (int)(char)puVar2[0x1b4]) / 100 + (*(int *)(puVar2 + 0x160) * (int)(char)puVar2[0x1b4] >> 0x1f);
		*(uint *)(puVar2 + 0x184) = uVar1 + (uVar1 >> 0x1f);
	}
	return;
}

void SetPlrMag(ulonglong param_1, int param_2, undefined8 param_3, ulonglong param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	ulonglong uVar4;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar3 = PTR_DAT_100f1828;
	uVar4 = ZEXT48(PTR_DAT_100f1828);
	if (3 < (param_1 & 0xffffffff)) {
		app_fatal((int)PTR_s_SetPlrMag__illegal_player__d_100f3574, param_1, param_3, param_4, param_5,
		    (int)param_6, (int)param_7, (int)param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	*(int *)(puVar3 + (int)(param_1 * 0x55ec) + 0x16c) = param_2;
	iVar1 = param_2 << 6;
	if ((puVar3 + (int)(param_1 * 0x55ec))[0x15c] == '\x02') {
		iVar1 = param_2 << 7;
	}
	uVar4 = uVar4 + param_1 * 0x55ec;
	iVar2 = (int)uVar4;
	*(int *)(iVar2 + 0x1a4) = iVar1;
	*(int *)(iVar2 + 0x1ac) = iVar1;
	CalcPlrInv(param_1, 1, uVar4, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	return;
}

void SetPlrDex(ulonglong param_1, undefined4 param_2, ulonglong param_3, ulonglong param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	int iVar3;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar2 = PTR_DAT_100f1828;
	if (3 < (param_1 & 0xffffffff)) {
		app_fatal((int)PTR_s_SetPlrDex__illegal_player__d_100f3570, param_1, param_3, param_4, param_5,
		    (int)param_6, (int)param_7, (int)param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	puVar2 = puVar2 + (int)param_1 * 0x55ec;
	*(undefined4 *)(puVar2 + 0x174) = param_2;
	CalcPlrInv(param_1, 1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	if (puVar2[0x15c] == '\x01') {
		iVar3 = (int)(char)puVar2[0x1b4] * (*(int *)(puVar2 + 0x160) + *(int *)(puVar2 + 0x170));
		uVar1 = iVar3 / 200 + (iVar3 >> 0x1f);
		*(uint *)(puVar2 + 0x184) = uVar1 + (uVar1 >> 0x1f);
	} else {
		uVar1 = (*(int *)(puVar2 + 0x160) * (int)(char)puVar2[0x1b4]) / 100 + (*(int *)(puVar2 + 0x160) * (int)(char)puVar2[0x1b4] >> 0x1f);
		*(uint *)(puVar2 + 0x184) = uVar1 + (uVar1 >> 0x1f);
	}
	return;
}

void SetPlrVit(ulonglong param_1, int param_2, undefined8 param_3, ulonglong param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	ulonglong uVar4;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar3 = PTR_DAT_100f1828;
	uVar4 = ZEXT48(PTR_DAT_100f1828);
	if (3 < (param_1 & 0xffffffff)) {
		app_fatal((int)PTR_s_SetPlrVit__illegal_player__d_100f356c, param_1, param_3, param_4, param_5,
		    (int)param_6, (int)param_7, (int)param_8, in_stack_ffffffb8, in_stack_ffffffbf,
		    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
		    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	*(int *)(puVar3 + (int)(param_1 * 0x55ec) + 0x17c) = param_2;
	iVar1 = param_2 << 6;
	if ((puVar3 + (int)(param_1 * 0x55ec))[0x15c] == '\0') {
		iVar1 = param_2 << 7;
	}
	uVar4 = uVar4 + param_1 * 0x55ec;
	iVar2 = (int)uVar4;
	*(int *)(iVar2 + 0x18c) = iVar1;
	*(int *)(iVar2 + 400) = iVar1;
	CalcPlrInv(param_1, 1, uVar4, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	return;
}

void InitDungMsgs(ulonglong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	ppuVar1 = &toc;
	if (3 < (param_1 & 0xffffffff)) {
		ppuVar1 = &toc;
		app_fatal((int)PTR_s_InitDungMsgs__illegal_player__d_100f3568, param_1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8,
		    in_stack_ffffffec, in_stack_fffffff0, in_stack_fffffff4);
	}
	ppuVar1[-0x1dea][(int)param_1 * 0x55ec + 0x5591] = 0;
	return;
}

void PlayDungMsgs(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	char cVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined4 *puVar4;
	undefined4 *puVar5;
	undefined **ppuVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar5 = _DAT_100f1df8;
	puVar4 = _DAT_100f1df4;
	puVar7 = PTR_DAT_100f1828;
	puVar3 = PTR_DAT_100f1824;
	puVar2 = PTR_DAT_100f17e0;
	ppuVar6 = &toc;
	if (3 < *(uint *)PTR_DAT_100f1824) {
		ppuVar6 = &toc;
		app_fatal(_DAT_100f3564, (ulonglong) * (uint *)PTR_DAT_100f1824, param_3, param_4, param_5, param_6,
		    param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
		    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
		    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	}
	cVar1 = *ppuVar6[-0x1df9];
	if ((((cVar1 == '\x01') && (puVar8 = puVar7 + *(int *)puVar3 * 0x55ec, puVar8[0x1f1] == '\0')) && (*puVar2 == '\x01')) && ((puVar8[0x5591] & 1) == 0)) {
		*puVar5 = 0x28;
		cVar1 = puVar8[0x15c];
		if (cVar1 == '\0') {
			*puVar4 = 0x336;
		} else {
			if (cVar1 == '\x01') {
				*puVar4 = 0x2c4;
			} else {
				if (cVar1 == '\x02') {
					*puVar4 = 0x25d;
				}
			}
		}
		puVar8[0x5591] = puVar8[0x5591] | 1;
		return;
	}
	if (((cVar1 == '\x05') && (puVar8 = puVar7 + *(int *)puVar3 * 0x55ec, puVar8[0x1f5] == '\0')) && ((*puVar2 == '\x01' && ((puVar8[0x5591] & 2) == 0)))) {
		*puVar5 = 0x28;
		cVar1 = puVar8[0x15c];
		if (cVar1 == '\0') {
			*puVar4 = 0x335;
		} else {
			if (cVar1 == '\x01') {
				*puVar4 = 0x2c3;
			} else {
				if (cVar1 == '\x02') {
					*puVar4 = 0x25c;
				}
			}
		}
		puVar8[0x5591] = puVar8[0x5591] | 2;
		return;
	}
	if (((cVar1 == '\t') && (puVar8 = puVar7 + *(int *)puVar3 * 0x55ec, puVar8[0x1f9] == '\0')) && ((*puVar2 == '\x01' && ((puVar8[0x5591] & 4) == 0)))) {
		*puVar5 = 0x28;
		cVar1 = puVar8[0x15c];
		if (cVar1 == '\0') {
			*puVar4 = 0x337;
		} else {
			if (cVar1 == '\x01') {
				*puVar4 = 0x2c5;
			} else {
				if (cVar1 == '\x02') {
					*puVar4 = 0x25e;
				}
			}
		}
		puVar8[0x5591] = puVar8[0x5591] | 4;
		return;
	}
	if ((((cVar1 == '\r') && (puVar8 = puVar7 + *(int *)puVar3 * 0x55ec, puVar8[0x1fd] == '\0')) && (*puVar2 == '\x01')) && ((puVar8[0x5591] & 8) == 0)) {
		*puVar5 = 0x28;
		cVar1 = puVar8[0x15c];
		if (cVar1 == '\0') {
			*puVar4 = 0x338;
		} else {
			if (cVar1 == '\x01') {
				*puVar4 = 0x2c6;
			} else {
				if (cVar1 == '\x02') {
					*puVar4 = 0x25f;
				}
			}
		}
		puVar8[0x5591] = puVar8[0x5591] | 8;
		return;
	}
	if (((cVar1 == '\x10') && (puVar7 = puVar7 + *(int *)puVar3 * 0x55ec, puVar7[0x1ff] == '\0')) && ((*puVar2 == '\x01' && ((puVar7[0x5591] & 0x10) == 0)))) {
		*puVar5 = 0x28;
		cVar1 = puVar7[0x15c];
		if (cVar1 == '\0') {
			*puVar4 = 0x345;
		} else {
			if (cVar1 == '\x01') {
				*puVar4 = 0x345;
			} else {
				if (cVar1 == '\x02') {
					*puVar4 = 0x345;
				}
			}
		}
		puVar7[0x5591] = puVar7[0x5591] | 0x10;
		return;
	}
	*puVar5 = 0;
	return;
}

void FUN_1009accc(void)

{
	_DAT_100f43c4 = _DAT_100f4378;
	return;
}

void plrmsg_delay(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int *piVar1;
	int iVar2;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	int local_2c;

	if (param_1 == 0) {
		iVar2 = GetTickCount((char)param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
		piVar1 = *(int **)(local_2c + -0x58dc);
		*(int *)(local_2c + -0x4bec) = *(int *)(local_2c + -0x4bec) + iVar2;
		*piVar1 = *piVar1 + *(int *)(local_2c + -0x4bec);
		piVar1[0x26] = piVar1[0x26] + *(int *)(local_2c + -0x4bec);
		piVar1[0x4c] = piVar1[0x4c] + *(int *)(local_2c + -0x4bec);
		piVar1[0x72] = piVar1[0x72] + *(int *)(local_2c + -0x4bec);
		piVar1[0x98] = piVar1[0x98] + *(int *)(local_2c + -0x4bec);
		piVar1[0xbe] = piVar1[0xbe] + *(int *)(local_2c + -0x4bec);
		piVar1[0xe4] = piVar1[0xe4] + *(int *)(local_2c + -0x4bec);
		piVar1[0x10a] = piVar1[0x10a] + *(int *)(local_2c + -0x4bec);
	} else {
		iVar2 = GetTickCount((char)param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
		*(int *)(local_2c + -0x4bec) = -iVar2;
	}
	return;
}

void FUN_1009ada8(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	byte bVar2;
	int iVar3;
	undefined4 uVar4;
	ulonglong uVar5;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	iVar3 = _DAT_100f36f4;
	uVar5 = (ulonglong)DAT_100f43e8;
	puVar1 = (undefined4 *)(_DAT_100f36f4 + (int)(uVar5 * 0x98));
	bVar2 = DAT_100f43e8 + 1 & 7;
	DAT_100f43e8 = bVar2;
	*(undefined *)(puVar1 + 1) = 4;
	uVar4 = GetTickCount(bVar2, (char)(uVar5 * 0x98), (char)iVar3, param_4, param_5, param_6, param_7,
	    param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	*puVar1 = uVar4;
	strncpy((int)puVar1 + 5, param_1, 0x90);
	*(undefined *)(puVar1 + 0x25) = 0;
	return;
}

void FUN_1009ae28(undefined4 param_1, undefined4 param_2, undefined4 param_3, undefined4 param_4,
    undefined4 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11, undefined4 param_12,
    undefined4 param_13, undefined4 param_14, undefined4 param_15, undefined4 param_16,
    undefined4 param_17, undefined4 param_18)

{
	int iVar1;
	undefined4 *puVar2;
	byte bVar3;
	int iVar4;
	undefined4 uVar5;
	ulonglong uVar6;
	byte bVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;

	uVar12 = (undefined)param_8;
	uVar11 = (undefined)param_7;
	uVar10 = (undefined)param_6;
	uVar9 = (undefined)param_5;
	iVar1 = (int)(ZEXT48(register0x0000000c) - 0x40);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	*(undefined4 *)(iVar1 + 0x5c) = param_2;
	*(undefined4 *)(iVar1 + 0x60) = param_3;
	*(undefined4 *)(iVar1 + 100) = param_4;
	iVar4 = _DAT_100f36f4;
	uVar8 = (undefined)_DAT_100f36f4;
	*(undefined4 *)(iVar1 + 0x68) = param_5;
	*(undefined4 *)(iVar1 + 0x6c) = param_6;
	*(undefined4 *)(iVar1 + 0x70) = param_7;
	*(undefined4 *)(iVar1 + 0x74) = param_8;
	uVar6 = (ulonglong)DAT_100f43e8;
	*(undefined4 *)(iVar1 + 0x58) = param_1;
	bVar7 = DAT_100f43e8 + 1;
	puVar2 = (undefined4 *)(iVar4 + (int)(uVar6 * 0x98));
	bVar3 = bVar7 & 7;
	DAT_100f43e8 = bVar3;
	*(undefined *)(puVar2 + 1) = 4;
	uVar5 = GetTickCount(bVar3, (char)(uVar6 * 0x98), bVar7, uVar8, uVar9, uVar10, uVar11, uVar12,
	    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
	    *(undefined4 *)(iVar1 + 0x14));
	*puVar2 = uVar5;
	wvsprintf((int)puVar2 + 5, (char)*(undefined4 *)(iVar1 + 0x58),
	    (char)(ZEXT48(register0x0000000c) - 0x40) + '\\', uVar8, uVar9, uVar10, uVar11, uVar12,
	    *(undefined4 *)(iVar1 + 8));
	return;
}

void FUN_1009aeb4(undefined8 uParm1, undefined8 uParm2, undefined8 uParm3, undefined8 uParm4,
    undefined param_5, undefined4 uParm6, undefined4 uParm7, undefined4 uParm8)

{
	undefined4 *puVar1;
	int iVar2;
	undefined *puVar3;
	byte bVar4;
	undefined4 uVar5;
	ulonglong uVar6;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	int local_3c;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	bVar4 = DAT_100f43e8;
	iVar2 = _DAT_100f36f4;
	puVar3 = PTR_DAT_100f1828;
	uVar6 = (ulonglong)DAT_100f43e8;
	puVar1 = (undefined4 *)(_DAT_100f36f4 + (int)(uVar6 * 0x98));
	DAT_100f43e8 = DAT_100f43e8 + 1 & 7;
	*(char *)(puVar1 + 1) = (char)uParm1;
	uVar5 = GetTickCount((char)(uVar6 * 0x98), (char)uParm2, bVar4, (char)iVar2, param_5, (char)uParm6,
	    (char)uParm7, (char)uParm8, (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
	iVar2 = (int)uParm1 * 0x55ec;
	*puVar1 = uVar5;
	sprintf((int)puVar1 + 5, *(undefined4 *)(local_3c + -0x58e0), puVar3 + iVar2 + 0x13c,
	    (int)(char)puVar3[iVar2 + 0x1b4], (int)uParm2, uParm6, uParm7, uParm8, in_stack_ffffffb8,
	    in_stack_ffffffbf, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
	    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	return;
}

void ClearPlrMsg(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int *piVar1;
	int iVar2;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	piVar1 = _DAT_100f36f4;
	iVar2 = GetTickCount(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	if (10000 < iVar2 - *piVar1) {
		*(undefined *)((int)piVar1 + 5) = 0;
	}
	if (10000 < iVar2 - piVar1[0x26]) {
		*(undefined *)((int)piVar1 + 0x9d) = 0;
	}
	if (10000 < iVar2 - piVar1[0x4c]) {
		*(undefined *)((int)piVar1 + 0x135) = 0;
	}
	if (10000 < iVar2 - piVar1[0x72]) {
		*(undefined *)((int)piVar1 + 0x1cd) = 0;
	}
	if (10000 < iVar2 - piVar1[0x98]) {
		*(undefined *)((int)piVar1 + 0x265) = 0;
	}
	if (10000 < iVar2 - piVar1[0xbe]) {
		*(undefined *)((int)piVar1 + 0x2fd) = 0;
	}
	if (10000 < iVar2 - piVar1[0xe4]) {
		*(undefined *)((int)piVar1 + 0x395) = 0;
	}
	if (10000 < iVar2 - piVar1[0x10a]) {
		*(undefined *)((int)piVar1 + 0x42d) = 0;
	}
	return;
}

void InitPlrMsg(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	int local_2c;

	memset((char)_DAT_100f36f4, 0xc0, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	*(undefined *)(local_2c + -0x4be8) = 0;
	return;
}

void PrintPlrMsg(longlong param_1, int param_2, ulonglong param_3, ulonglong param_4,
    undefined8 param_5, undefined8 param_6, int param_7, int param_8, undefined4 param_9)

{
	byte bVar1;
	ulonglong uVar2;
	ulonglong uVar3;
	undefined8 uVar4;
	ulonglong uVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	ulonglong uVar10;
	byte *pbVar11;
	ulonglong uVar12;
	ulonglong uVar13;
	int iVar14;
	undefined4 in_stack_ffffff98;

	lVar7 = (longlong)param_8;
	lVar6 = (longlong)param_7;
	uVar5 = ZEXT48(PTR_DAT_100f1938);
	iVar14 = 0;
	lVar9 = uVar5 + (ulonglong)(uint)(param_2 << 2);
	uVar4 = param_5;
	uVar10 = param_4;
	do {
		if (*(char *)uVar10 == '\0') {
			return;
		}
		lVar8 = param_1 + (ulonglong) * (uint *)lVar9;
		uVar2 = 0;
		uVar3 = uVar10;
		uVar13 = uVar10;
		do {
			uVar12 = uVar13;
			pbVar11 = (byte *)uVar3;
			uVar13 = uVar3;
			if (*pbVar11 == 0)
				break;
			uVar3 = uVar3 + 1;
			uVar2 = (ulonglong)(byte)(&DAT_100f6230)
			            [(uint)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)*pbVar11]]]
			    + uVar2 + 1;
			uVar13 = uVar3;
		} while (((&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)*pbVar11]] == 0) || (uVar13 = uVar12, (uVar2 & 0xffffffff) < (param_3 & 0xffffffff)));
		while (pbVar11 = (byte *)uVar10, (uVar10 & 0xffffffff) < (uVar13 & 0xffffffff)) {
			uVar10 = uVar10 + 1;
			bVar1 = (&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)*pbVar11]];
			if (bVar1 != 0) {
				CPrintString(lVar8, (ulonglong)bVar1, param_5, param_4, uVar4, (int)uVar5, (int)lVar6, (int)lVar7,
				    in_stack_ffffff98);
			}
			lVar8 = (ulonglong)(byte)(&DAT_100f6230)[(uint)bVar1] + lVar8 + 1;
		}
		iVar14 = iVar14 + 1;
		lVar9 = lVar9 + 0x28;
		if (iVar14 == 3) {
			return;
		}
	} while (true);
}

void DrawPlrMsg(void)

{
	bool bVar1;
	int iVar2;
	undefined8 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	int iVar3;
	ulonglong uVar4;
	ulonglong uVar5;
	int iVar6;
	longlong lVar7;
	undefined4 in_stack_ffffffb8;

	iVar2 = _DAT_100f36ec;
	lVar7 = 0x4a;
	iVar6 = 0xe6;
	uVar5 = 0x26c;
	if ((*(int *)PTR_DAT_100f180c == 0) && (*(int *)PTR_DAT_100f1808 == 0)) {
		if ((*(int *)PTR_DAT_100f1814 != 0) || (*(int *)PTR_DAT_100f1810 != 0)) {
			uVar5 = 300;
		}
	} else {
		if (*(int *)PTR_DAT_100f1814 != 0) {
			return;
		}
		if (*(int *)PTR_DAT_100f1810 != 0) {
			return;
		}
		lVar7 = 0x18a;
		uVar5 = 300;
	}
	uVar4 = (ulonglong)_DAT_100f36f4;
	iVar3 = 7;
	do {
		if (*(char *)((int)uVar4 + 5) != '\0') {
			PrintPlrMsg(lVar7, iVar6, uVar5, uVar4 + 5,
			    (ulonglong) * (byte *)(iVar2 + (uint) * (byte *)((int)uVar4 + 4)), in_r8, in_r9, in_r10,
			    in_stack_ffffffb8);
		}
		bVar1 = iVar3 != 0;
		uVar4 = uVar4 + 0x98;
		iVar6 = iVar6 + 0x23;
		iVar3 = iVar3 + -1;
	} while (bVar1);
	return;
}

void FUN_1009b250(void)

{
	_DAT_100f43ec = _DAT_100f43e0;
	return;
}

void InitPortals(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined8 uVar1;
	int iVar2;
	undefined4 *puVar3;

	iVar2 = 0;
	puVar3 = _DAT_100f1e88;
	do {
		uVar1 = delta_portal_inited(iVar2);
		if ((int)uVar1 != 0) {
			*puVar3 = 0;
		}
		iVar2 = iVar2 + 1;
		puVar3 = puVar3 + 6;
	} while (iVar2 < 4);
	return;
}

void FUN_1009b2c0(int param_1, undefined4 param_2, undefined4 param_3, undefined4 param_4,
    undefined4 param_5, undefined4 param_6)

{
	int iVar1;

	iVar1 = _DAT_100f1e88;
	*(undefined4 *)(_DAT_100f1e88 + param_1 * 0x18) = param_2;
	iVar1 = iVar1 + param_1 * 0x18;
	*(undefined4 *)(iVar1 + 4) = param_3;
	*(undefined4 *)(iVar1 + 8) = param_4;
	*(undefined4 *)(iVar1 + 0xc) = param_5;
	*(undefined4 *)(iVar1 + 0x10) = param_6;
	*(undefined4 *)(iVar1 + 0x14) = 0;
	return;
}

void AddWarpMissile(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined uVar5;
	ulonglong uVar4;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	int iVar11;
	undefined4 *puVar12;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;

	puVar2 = PTR_DAT_100f1a3c;
	puVar1 = PTR_DAT_100f196c;
	uVar5 = (undefined)param_1;
	uVar7 = (undefined)param_3;
	uVar6 = (undefined)param_2;
	ppuVar3 = &toc;
	uVar9 = 10;
	puVar12 = (undefined4 *)(PTR_DAT_100f1ee8 + 300);
	uVar10 = 0;
	*(undefined4 *)(PTR_DAT_100f1ee8 + 300) = 0xffffffff;
	*(undefined *)(*(int *)puVar2 + (int)param_2 * 0x70 + (int)param_3) = 0;
	uVar8 = 0;
	uVar4 = AddMissile(0, 0, param_2, param_3, 0, 10, 0, param_1, in_stack_ffffffb8, in_stack_ffffffbf, 0, 0);
	iVar11 = (int)uVar4;
	if (iVar11 != -1) {
		SetMissDir(iVar11, 1, uVar6, uVar7, uVar8, uVar9, uVar10, uVar5, in_stack_ffffffb8);
		if (*ppuVar3[-0x1df9] != '\0') {
			puVar1 = puVar1 + iVar11 * 0xb4;
			uVar4 = AddLight(*(undefined4 *)(puVar1 + 4), *(undefined4 *)(puVar1 + 8), 0xf);
			*(int *)(puVar1 + 0x8c) = (int)uVar4;
		}
		*puVar12 = 0x81;
	}
	return;
}

void SyncPortals(undefined param_1, undefined param_2, undefined param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	longlong lVar4;
	undefined uVar5;
	longlong lVar6;
	undefined uVar7;
	longlong lVar8;
	undefined uVar9;
	longlong lVar10;
	undefined uVar11;
	longlong lVar12;
	undefined uVar13;
	longlong lVar14;
	uint *puVar15;
	uint *puVar16;
	int *piVar17;
	undefined4 in_stack_ffffffa8;

	puVar3 = PTR_DAT_100f17f8;
	puVar2 = PTR_DAT_100f17f0;
	puVar1 = PTR_DAT_100f17ec;
	lVar12 = (longlong)param_8;
	lVar10 = (longlong)param_7;
	lVar8 = (longlong)param_6;
	lVar6 = (longlong)param_5;
	lVar4 = (longlong)param_4;
	lVar14 = 0;
	puVar16 = (uint *)PTR_DAT_100f2058;
	puVar15 = (uint *)PTR_DAT_100f2054;
	piVar17 = _DAT_100f1e88;
	do {
		if (*piVar17 != 0) {
			uVar5 = (undefined)lVar4;
			uVar7 = (undefined)lVar6;
			uVar9 = (undefined)lVar8;
			uVar11 = (undefined)lVar10;
			uVar13 = (undefined)lVar12;
			if (*puVar1 == 0) {
				AddWarpMissile(lVar14, (ulonglong)*puVar15, (ulonglong)*puVar16, uVar5, uVar7, uVar9, uVar11, uVar13,
				    in_stack_ffffffa8);
			} else {
				if (*puVar3 == '\0') {
					if ((uint)(byte)*puVar1 == piVar17[3]) {
						AddWarpMissile(lVar14, (ulonglong)(uint)piVar17[1], (ulonglong)(uint)piVar17[2], uVar5, uVar7,
						    uVar9, uVar11, uVar13, in_stack_ffffffa8);
					}
				} else {
					if ((uint)(byte)*puVar2 == piVar17[3]) {
						AddWarpMissile(lVar14, (ulonglong)(uint)piVar17[1], (ulonglong)(uint)piVar17[2], uVar5, uVar7,
						    uVar9, uVar11, uVar13, in_stack_ffffffa8);
					}
				}
			}
		}
		lVar14 = lVar14 + 1;
		puVar16 = puVar16 + 1;
		puVar15 = puVar15 + 1;
		piVar17 = piVar17 + 6;
	} while ((int)lVar14 < 4);
	return;
}

void AddInTownPortal(undefined8 param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined4 in_stack_ffffffc8;

	iVar1 = (int)param_1 * 4;
	AddWarpMissile(param_1, (ulonglong) * (uint *)(PTR_DAT_100f2054 + iVar1),
	    (ulonglong) * (uint *)(PTR_DAT_100f2058 + iVar1), param_4, param_5, param_6, param_7,
	    param_8, in_stack_ffffffc8);
	return;
}

void FUN_1009b4d4(int param_1, undefined4 param_2, undefined4 param_3, int param_4, undefined4 param_5,
    undefined4 param_6)

{
	int iVar1;

	iVar1 = _DAT_100f1e88;
	*(undefined4 *)(_DAT_100f1e88 + param_1 * 0x18) = 1;
	if (param_4 == 0) {
		return;
	}
	iVar1 = iVar1 + param_1 * 0x18;
	*(undefined4 *)(iVar1 + 4) = param_2;
	*(undefined4 *)(iVar1 + 8) = param_3;
	*(int *)(iVar1 + 0xc) = param_4;
	*(undefined4 *)(iVar1 + 0x10) = param_5;
	*(undefined4 *)(iVar1 + 0x14) = param_6;
	return;
}

void FUN_1009b508(int param_1)

{
	*(undefined4 *)(_DAT_100f1e88 + param_1 * 0x18) = 0;
	return;
}

undefined8 FUN_1009b51c(int param_1)

{
	if ((uint)(byte)*PTR_DAT_100f17ec == *(uint *)(_DAT_100f1e88 + param_1 * 0x18 + 0xc)) {
		return 1;
	}
	if (*PTR_DAT_100f17ec == 0) {
		return 1;
	}
	return 0;
}

void FUN_1009b55c(int iParm1)

{
	uint uVar1;
	int iVar2;
	int iVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	longlong lVar8;
	int iVar9;
	undefined8 uVar10;
	undefined8 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	int iVar11;
	uint *puVar12;
	ulonglong uVar13;
	undefined4 in_stack_ffffffa8;

	puVar7 = PTR_DAT_100f1a3c;
	puVar6 = PTR_DAT_100f196c;
	puVar5 = PTR_DAT_100f1968;
	puVar4 = PTR_DAT_100f1834;
	iVar11 = 0;
	uVar13 = ZEXT48(PTR_DAT_100f196c);
	iVar3 = _DAT_100f1e88 + iParm1 * 0x18;
	puVar12 = (uint *)PTR_DAT_100f1970;
	while (iVar11 < *(int *)puVar5) {
		uVar1 = *puVar12;
		lVar8 = (ulonglong)uVar1 * 0xb4;
		if ((*(int *)(puVar6 + (int)lVar8) == 10) && (lVar8 = uVar13 + lVar8, iVar2 = (int)lVar8, iParm1 == *(int *)(iVar2 + 0x78))) {
			uVar10 = 0;
			iVar9 = *(int *)(iVar2 + 4) * 0x70 + *(int *)(iVar2 + 8);
			*(byte *)(*(int *)puVar4 + iVar9) = *(byte *)(*(int *)puVar4 + iVar9) & 0xfe;
			*(undefined *)(*(int *)puVar7 + *(int *)(iVar2 + 4) * 0x70 + *(int *)(iVar2 + 8)) = 0;
			if (*(int *)(iVar3 + 0xc) != 0) {
				FUN_100baf2c(*(int *)(iVar2 + 0x8c));
			}
			DeleteMissile((ulonglong)uVar1, iVar11, uVar10, lVar8, in_r7, in_r8, in_r9, in_r10, in_stack_ffffffa8);
		}
		puVar12 = puVar12 + 1;
		iVar11 = iVar11 + 1;
	}
	return;
}

void SetCurrentPortal(undefined4 param_1)

{
	*(undefined4 *)PTR_DAT_100f2050 = param_1;
	return;
}

void FUN_1009b650(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined uVar9;
	longlong lVar10;
	ulonglong uVar11;
	ulonglong uVar12;
	undefined4 in_stack_ffffffc8;

	puVar8 = PTR_DAT_100f2050;
	puVar7 = PTR_DAT_100f183c;
	puVar6 = PTR_DAT_100f1828;
	puVar5 = PTR_DAT_100f1824;
	puVar4 = PTR_DAT_100f17f0;
	puVar3 = PTR_DAT_100f17ec;
	uVar12 = ZEXT48(PTR_DAT_100f1828);
	uVar11 = ZEXT48(PTR_DAT_100f17f8);
	if (*PTR_DAT_100f17ec == '\0') {
		uVar1 = *(uint *)PTR_DAT_100f2050;
		lVar10 = (ulonglong)_DAT_100f1e88 + (ulonglong)uVar1 * 0x18;
		iVar2 = (int)lVar10;
		if (*(int *)(iVar2 + 0x14) == 0) {
			*PTR_DAT_100f17f8 = 0;
			*puVar3 = (char)*(undefined4 *)(iVar2 + 0xc);
			*(uint *)(puVar6 + *(int *)puVar5 * 0x55ec + 0x34) = (uint)(byte)*puVar3;
			*puVar7 = (char)*(undefined4 *)(iVar2 + 0x10);
		} else {
			*PTR_DAT_100f17f8 = 1;
			uVar9 = (undefined) * (undefined4 *)(iVar2 + 0xc);
			*puVar4 = uVar9;
			*puVar3 = uVar9;
			*(uint *)(puVar6 + *(int *)puVar5 * 0x55ec + 0x34) = (uint)(byte)*puVar4;
			*puVar7 = (char)*(undefined4 *)(iVar2 + 0x10);
		}
		if (uVar1 == *(uint *)puVar5) {
			FUN_1007a7d0(1, 0x39, lVar10, uVar11, uVar12, puVar5, puVar7, uVar1, in_stack_ffffffc8);
			FUN_1009b508(*(int *)puVar8);
		}
	} else {
		*PTR_DAT_100f17f8 = 0;
		*puVar3 = 0;
		*(undefined4 *)(puVar6 + *(int *)puVar5 * 0x55ec + 0x34) = 0;
		*puVar7 = 0;
	}
	return;
}

void GetPortalLvlPos(void)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	int iVar6;

	puVar5 = PTR_DAT_100f2058;
	puVar4 = PTR_DAT_100f1824;
	puVar3 = PTR_DAT_100f1820;
	puVar2 = PTR_DAT_100f181c;
	if (*PTR_DAT_100f17ec == '\0') {
		iVar1 = *(int *)PTR_DAT_100f2050;
		*(int *)PTR_DAT_100f1820 = *(int *)(PTR_DAT_100f2054 + iVar1 * 4) + 1;
		*(int *)puVar2 = *(int *)(puVar5 + iVar1 * 4) + 1;
		return;
	}
	iVar1 = *(int *)PTR_DAT_100f2050;
	iVar6 = _DAT_100f1e88 + iVar1 * 0x18;
	*(undefined4 *)PTR_DAT_100f1820 = *(undefined4 *)(iVar6 + 4);
	*(undefined4 *)puVar2 = *(undefined4 *)(iVar6 + 8);
	if (iVar1 == *(int *)puVar4) {
		return;
	}
	*(int *)puVar3 = *(int *)puVar3 + 1;
	*(int *)puVar2 = *(int *)puVar2 + 1;
	return;
}

undefined8 PosOkPortal(int param_1, int param_2, int param_3)

{
	int iVar1;
	int iVar2;

	iVar2 = param_2 + -1;
	iVar1 = param_3 + -1;
	if ((*_DAT_100f1e88 != 0) && (param_1 == _DAT_100f1e88[3])) {
		if ((param_2 == _DAT_100f1e88[1]) && (param_3 == _DAT_100f1e88[2])) {
			return 1;
		}
		if ((iVar2 == _DAT_100f1e88[1]) && (iVar1 == _DAT_100f1e88[2])) {
			return 1;
		}
	}
	if ((_DAT_100f1e88[6] != 0) && (param_1 == _DAT_100f1e88[9])) {
		if ((param_2 == _DAT_100f1e88[7]) && (param_3 == _DAT_100f1e88[8])) {
			return 1;
		}
		if ((iVar2 == _DAT_100f1e88[7]) && (iVar1 == _DAT_100f1e88[8])) {
			return 1;
		}
	}
	if ((_DAT_100f1e88[0xc] != 0) && (param_1 == _DAT_100f1e88[0xf])) {
		if ((param_2 == _DAT_100f1e88[0xd]) && (param_3 == _DAT_100f1e88[0xe])) {
			return 1;
		}
		if ((iVar2 == _DAT_100f1e88[0xd]) && (iVar1 == _DAT_100f1e88[0xe])) {
			return 1;
		}
	}
	if ((_DAT_100f1e88[0x12] != 0) && (param_1 == _DAT_100f1e88[0x15])) {
		if ((param_2 == _DAT_100f1e88[0x13]) && (param_3 == _DAT_100f1e88[0x14])) {
			return 1;
		}
		if ((iVar2 == _DAT_100f1e88[0x13]) && (iVar1 == _DAT_100f1e88[0x14])) {
			return 1;
		}
	}
	return 0;
}

void FUN_1009b954(void)

{
	_DAT_100f43f4 = _DAT_100f43f0;
	return;
}

void InitQuests(undefined param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined4 *puVar3;
	ulonglong uVar4;
	int iVar5;
	undefined8 uVar6;
	longlong lVar7;
	undefined *puVar8;
	ulonglong uVar9;
	undefined uVar10;
	undefined uVar11;
	longlong lVar12;
	undefined uVar13;
	longlong lVar14;
	undefined uVar15;
	longlong lVar16;
	undefined uVar17;
	longlong lVar18;
	undefined uVar19;
	int iVar20;
	ulonglong uVar21;
	undefined *puVar22;
	ulonglong uVar23;
	longlong lVar24;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	puVar22 = _DAT_100f1f64;
	puVar2 = PTR_DAT_100f19cc;
	puVar1 = PTR_DAT_100f17e0;
	lVar18 = (longlong)param_8;
	lVar16 = (longlong)param_7;
	lVar14 = (longlong)param_6;
	lVar12 = (longlong)param_5;
	lVar7 = (longlong)param_4;
	uVar9 = SEXT18(param_3);
	uVar4 = ZEXT48(&toc);
	uVar23 = ZEXT48(PTR_DAT_100f19cc);
	if (*PTR_DAT_100f17e0 == '\x01') {
		PTR_DAT_100f19cc[2] = 0;
		puVar2[0x1a] = 0;
		puVar2[0x32] = 0;
		puVar2[0x4a] = 0;
		puVar2[0x62] = 0;
		puVar2[0x7a] = 0;
		puVar2[0x92] = 0;
		puVar2[0xaa] = 0;
		puVar2[0xc2] = 0;
		puVar2[0xda] = 0;
		puVar2[0xf2] = 0;
		puVar2[0x10a] = 0;
		puVar2[0x122] = 0;
		puVar2[0x13a] = 0;
		puVar2[0x152] = 0;
		puVar2[0x16a] = 0;
	} else {
		lVar7 = 0;
		lVar24 = 2;
		uVar9 = uVar23;
		puVar8 = _DAT_100f1f64;
		do {
			iVar20 = (int)uVar9;
			if ((*(uint *)(puVar8 + 8) & 1) == 0) {
				*(undefined *)(iVar20 + 2) = 0;
			}
			if ((*(uint *)(puVar8 + 0x1c) & 1) == 0) {
				*(undefined *)(iVar20 + 0x1a) = 0;
			}
			if ((*(uint *)(puVar8 + 0x30) & 1) == 0) {
				*(undefined *)(iVar20 + 0x32) = 0;
			}
			if ((*(uint *)(puVar8 + 0x44) & 1) == 0) {
				*(undefined *)(iVar20 + 0x4a) = 0;
			}
			if ((*(uint *)(puVar8 + 0x58) & 1) == 0) {
				*(undefined *)(iVar20 + 0x62) = 0;
			}
			if ((*(uint *)(puVar8 + 0x6c) & 1) == 0) {
				*(undefined *)(iVar20 + 0x7a) = 0;
			}
			if ((*(uint *)(puVar8 + 0x80) & 1) == 0) {
				*(undefined *)(iVar20 + 0x92) = 0;
			}
			if ((*(uint *)(puVar8 + 0x94) & 1) == 0) {
				*(undefined *)(iVar20 + 0xaa) = 0;
			}
			puVar8 = puVar8 + 0xa0;
			uVar9 = uVar9 + 0xc0;
			lVar7 = lVar7 + 7;
			lVar24 = lVar24 + -1;
		} while (lVar24 != 0);
	}
	puVar3 = _DAT_100f2078;
	uVar21 = 0;
	*(undefined4 *)PTR_DAT_100f1808 = 0;
	puVar8 = PTR_DAT_100f2074;
	*puVar3 = 1;
	iVar20 = 0;
	*(undefined4 *)puVar8 = 0;
	do {
		if (((byte)*puVar1 < 2) || ((*(uint *)(puVar22 + 8) & 1) != 0)) {
			puVar8 = (undefined *)uVar23;
			puVar8[1] = puVar22[3];
			if ((byte)*puVar1 < 2) {
				puVar8[2] = 1;
				*puVar8 = *puVar22;
				puVar8[0xf] = 0;
				*(undefined4 *)(puVar8 + 0x14) = 0;
			} else {
				*puVar8 = puVar22[1];
				uVar6 = delta_quest_inited(iVar20);
				if ((int)uVar6 == 0) {
					puVar8[2] = 1;
					puVar8[0xf] = 0;
					*(undefined4 *)(puVar8 + 0x14) = 0;
				}
				iVar20 = iVar20 + 1;
			}
			puVar8[0xc] = puVar22[5];
			*(undefined4 *)(puVar8 + 4) = 0;
			*(undefined4 *)(puVar8 + 8) = 0;
			puVar8[0xd] = (char)uVar21;
			puVar8[3] = puVar22[2];
			puVar8[0x10] = 0;
			puVar8[0xe] = (char)*(undefined4 *)(puVar22 + 0xc);
		}
		iVar5 = (int)uVar4;
		uVar19 = (undefined)lVar18;
		uVar17 = (undefined)lVar16;
		uVar15 = (undefined)lVar14;
		uVar13 = (undefined)lVar12;
		uVar11 = (undefined)lVar7;
		uVar10 = (undefined)uVar9;
		uVar21 = uVar21 + 1;
		uVar23 = uVar23 + 0x18;
		puVar22 = puVar22 + 0x14;
	} while ((uVar21 & 0xffffffff) < 0x10);
	if (*puVar1 == '\x01') {
		SetRndSeed(*(undefined4 *)(*(int *)(iVar5 + -0x75ec) + 0x3c));
		lVar7 = random(0, 2, uVar10, uVar11, uVar13, uVar15, uVar17, uVar19, in_stack_ffffffa8,
		    in_stack_ffffffaf, in_stack_ffffffbb);
		if ((int)lVar7 == 0) {
			puVar2[0x122] = 0;
		} else {
			puVar2[0x13a] = 0;
		}
		lVar7 = random(0, 3, uVar10, uVar11, uVar13, uVar15, uVar17, uVar19, in_stack_ffffffa8,
		    in_stack_ffffffaf, in_stack_ffffffbb);
		puVar22 = puVar2 + 2;
		puVar22[*(int *)(*(int *)(iVar5 + -0x5898) + (int)lVar7 * 4) * 0x18] = 0;
		lVar7 = random(0, 3, uVar10, uVar11, uVar13, uVar15, uVar17, uVar19, in_stack_ffffffa8,
		    in_stack_ffffffaf, in_stack_ffffffbb);
		puVar22[*(int *)(*(int *)(iVar5 + -0x589c) + (int)lVar7 * 4) * 0x18] = 0;
		lVar7 = random(0, 3, uVar10, uVar11, uVar13, uVar15, uVar17, uVar19, in_stack_ffffffa8,
		    in_stack_ffffffaf, in_stack_ffffffbb);
		puVar22[*(int *)(*(int *)(iVar5 + -0x58a0) + (int)lVar7 * 4) * 0x18] = 0;
		lVar7 = random(0, 2, uVar10, uVar11, uVar13, uVar15, uVar17, uVar19, in_stack_ffffffa8,
		    in_stack_ffffffaf, in_stack_ffffffbb);
		puVar22[*(int *)(*(int *)(iVar5 + -0x58a4) + (int)lVar7 * 4) * 0x18] = 0;
	}
	if (puVar2[0x122] == '\0') {
		puVar2[0x130] = 2;
	}
	if (puVar2[2] == '\0') {
		puVar2[0x10] = 2;
	}
	puVar2[0xb7] = 1;
	if (*puVar1 != '\x01') {
		puVar2[0x177] = 2;
	}
	return;
}

void CheckQuests(undefined8 uParm1, char param_2, undefined param_3, ulonglong uParm4, ulonglong uParm5, undefined8 uParm6, undefined8 uParm7, ulonglong uParm8)

{
	uint uVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	char *pcVar9;
	undefined *puVar10;
	undefined **ppuVar11;
	undefined8 uVar12;
	longlong lVar13;
	ulonglong uVar14;
	undefined uVar15;
	undefined uVar16;
	undefined4 uVar17;
	undefined4 uVar18;
	undefined4 uVar19;
	int iVar20;
	ulonglong uVar21;
	char *pcVar22;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;

	puVar10 = PTR_DAT_100f2074;
	pcVar9 = _DAT_100f1dd0;
	puVar8 = PTR_DAT_100f19cc;
	puVar7 = PTR_DAT_100f1828;
	puVar6 = PTR_DAT_100f1824;
	puVar5 = PTR_DAT_100f17f8;
	puVar4 = PTR_DAT_100f17f0;
	puVar3 = PTR_DAT_100f17ec;
	puVar2 = PTR_DAT_100f17e0;
	ppuVar11 = &toc;
	uVar21 = ZEXT48(PTR_DAT_100f19cc);
	uVar12 = QuestStatus(0xf);
	if ((((int)uVar12 != 0) && (*puVar2 != '\x01')) && (puVar8[0x177] == '\x02')) {
		lVar13 = (ulonglong)(uint)(*(int *)ppuVar11[-0x1d54] << 1) + 0x16;
		param_3 = (undefined)lVar13;
		AddObject(0x53, *(int *)ppuVar11[-0x1d53] * 2 + 0x14, (int)lVar13, (char)uParm4, (char)uParm5,
		    (char)uParm6, (char)uParm7, (char)uParm8, in_stack_ffffff98);
		puVar8[0x177] = 3;
		param_2 = '\x0f';
		NetSendCmdQuest(1);
	}
	if (*puVar2 == '\x01') {
		if (((*puVar3 == puVar8[0x168]) && (*puVar5 == '\0')) && (1 < (byte)puVar8[0x177])) {
			if ((puVar8[0x16a] == '\x02') || (puVar8[0x16a] == '\x03')) {
				if ((puVar8[0x178] == '\0') || (puVar8[0x178] == '\x02')) {
					uParm5 = 0;
					lVar13 = (ulonglong)(uint)(*(int *)(puVar8 + 0x16c) << 1) + 0x10;
					param_3 = (undefined)lVar13;
					*(int *)(puVar8 + 0x16c) = (int)lVar13;
					uParm4 = (ulonglong)(uint)(*(int *)(puVar8 + 0x170) << 1) + 0x10;
					param_2 = (char)uParm4;
					*(int *)(puVar8 + 0x170) = (int)uParm4;
					uParm6 = 0x41;
					uParm7 = 0;
					uParm8 = (ulonglong) * (uint *)puVar6;
					AddMissile(lVar13, uParm4, lVar13, uParm4, 0, 0x41, 0, uParm8, in_stack_ffffff98,
					    in_stack_ffffff9f, 0, 0);
					puVar8[0x178] = 1;
					if (puVar8[0x16a] == '\x02') {
						puVar8[0x177] = 3;
					}
				}
			}
		}
		if ((((puVar8[0x16a] == '\x03') && (*puVar5 != '\0')) && (*puVar4 == '\x05')) && (puVar8[0x178] == '\x04')) {
			param_2 = ' ';
			param_3 = 0x23;
			uParm4 = 0x20;
			uParm8 = (ulonglong) * (uint *)puVar6;
			uParm5 = 0;
			uParm6 = 0x41;
			uParm7 = 0;
			AddMissile(0x23, 0x20, 0x23, 0x20, 0, 0x41, 0, uParm8, in_stack_ffffff98, in_stack_ffffff9f, 0, 0);
			puVar8[0x178] = 3;
		}
		uVar19 = (undefined4)uParm8;
		uVar18 = (undefined4)uParm7;
		uVar17 = (undefined4)uParm6;
		uVar19._3_1_ = (undefined)uParm8;
		uVar18._3_1_ = (undefined)uParm7;
		uVar17._3_1_ = (undefined)uParm6;
		uVar16 = (undefined)uParm5;
		uVar15 = (undefined)uParm4;
		if (*puVar5 == '\0') {
			if (*(int *)(puVar7 + *(int *)puVar6 * 0x55ec) == 0) {
				iVar20 = 0;
				do {
					pcVar22 = (char *)uVar21;
					if (((*puVar3 == *pcVar22) && (pcVar22[0xc] != '\0')) && (pcVar22[2] != '\0')) {
						uVar1 = *(uint *)puVar6;
						if ((*(int *)(puVar7 + uVar1 * 0x55ec + 0x38) == *(int *)(pcVar22 + 4)) && (*(int *)(puVar7 + uVar1 * 0x55ec + 0x3c) == *(int *)(pcVar22 + 8))) {
							if (pcVar22[3] != -1) {
								*pcVar9 = pcVar22[3];
							}
							StartNewLvl((ulonglong)uVar1, 0x405, (ulonglong)(byte)pcVar22[0xc], uParm4, uParm5,
							    (int)uParm6, (int)uParm7, (int)uParm8, in_stack_ffffff98);
						}
					}
					iVar20 = iVar20 + 1;
					uVar21 = uVar21 + 0x18;
				} while (iVar20 < 0x10);
			}
		} else {
			if (*puVar4 == puVar8[0x144]) {
				param_3 = (undefined)(uVar21 + 0x13a);
				param_2 = puVar8[0x13a];
				if ((((param_2 != '\x01') && (*ppuVar11[-0x1de5] == puVar8[0x13b])) && (*(int *)ppuVar11[-0x1d8b] == 4)) && (param_2 != '\x03')) {
					*(undefined *)(uVar21 + 0x13a) = 3;
					uVar21 = (ulonglong) * (uint *)(puVar7 + *(int *)puVar6 * 0x55ec + 0x38);
					uVar14 = (ulonglong) * (uint *)(puVar7 + *(int *)puVar6 * 0x55ec + 0x3c);
					PlaySfxLoc(0xc, uVar21, uVar14, uParm4, uParm5, uVar17, uVar18, uVar19, in_stack_ffffff98);
					uVar19._3_1_ = (undefined)uVar19;
					uVar18._3_1_ = (undefined)uVar18;
					uVar17._3_1_ = (undefined)uVar17;
					uVar16 = (undefined)uParm5;
					uVar15 = (undefined)uParm4;
					param_3 = (undefined)uVar14;
					param_2 = (char)uVar21;
					LoadPalette(ZEXT48(ppuVar11[-0x162a]), uVar21, uVar14, uParm4, uParm5, uVar17, uVar18, uVar19,
					    in_stack_ffffff98);
					*(undefined4 *)puVar10 = 0x20;
				}
			}
			if (0 < (int)*(uint *)puVar10) {
				palette_update_quest_palette((ulonglong) * (uint *)puVar10, param_2, param_3, uVar15, uVar16, (undefined)uVar17,
				    (undefined)uVar18, (undefined)uVar19, in_stack_ffffff98);
				*(int *)puVar10 = *(int *)puVar10 + -1;
			}
		}
	}
	return;
}

undefined8
ForceQuests(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	char *pcVar5;
	char *pcVar6;
	byte *pbVar7;
	int iVar8;
	longlong lVar9;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar4 = PTR_DAT_100f1978;
	puVar3 = PTR_DAT_100f1974;
	if (*PTR_DAT_100f17e0 == '\x01') {
		iVar8 = 0;
		pbVar7 = PTR_DAT_100f19cc;
		do {
			if (((iVar8 != 0xf) && (*PTR_DAT_100f17ec == *pbVar7)) && (pbVar7[0xc] != 0)) {
				lVar9 = 7;
				iVar1 = *(int *)(pbVar7 + 4);
				iVar2 = *(int *)(pbVar7 + 8);
				pcVar5 = PTR_DAT_100f3724;
				pcVar6 = PTR_DAT_100f3720;
				do {
					if ((*(int *)PTR_DAT_100f1978 == iVar1 + (int)*pcVar5) && (*(int *)PTR_DAT_100f1974 == iVar2 + (int)*pcVar6)) {
						sprintf((int)PTR_DAT_100f192c, PTR_s_To__s_100f371c,
						    *(undefined4 *)(PTR_PTR_s_King_Leoric_s_Tomb_100f2070 + ((uint)(byte)PTR_DAT_100f19cc[(uint)pbVar7[0xd] * 0x18 + 0xc] - 1) * 4),
						    PTR_DAT_100f3720, pcVar5, pcVar6, pbVar7, (uint)(byte)*PTR_DAT_100f17ec,
						    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc, in_stack_ffffffd0,
						    in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0,
						    in_stack_ffffffe4);
						*(int *)puVar4 = iVar1;
						*(int *)puVar3 = iVar2;
						return 1;
					}
					pcVar5 = pcVar5 + 1;
					pcVar6 = pcVar6 + 1;
					lVar9 = lVar9 + -1;
				} while (lVar9 != 0);
			}
			iVar8 = iVar8 + 1;
			pbVar7 = pbVar7 + 0x18;
		} while (iVar8 < 0x10);
	}
	return 0;
}

undefined8 QuestStatus(int param_1)

{
	if (*PTR_DAT_100f17f8 != '\0') {
		return 0;
	}
	if (*PTR_DAT_100f17ec != PTR_DAT_100f19cc[param_1 * 0x18]) {
		return 0;
	}
	if (PTR_DAT_100f19cc[param_1 * 0x18 + 2] == '\0') {
		return 0;
	}
	if ((*PTR_DAT_100f17e0 != '\x01') && ((*(uint *)(_DAT_100f1f64 + param_1 * 0x14 + 8) & 1) == 0)) {
		return 0;
	}
	return 1;
}

void FUN_1009c1a8(int param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	char cVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined4 *puVar6;
	undefined4 *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	short *psVar10;
	int *piVar11;
	int iVar12;
	char *pcVar13;
	int iVar14;
	int iVar15;
	longlong lVar16;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;

	puVar9 = PTR_DAT_100f1edc;
	puVar8 = PTR_DAT_100f1ed8;
	puVar7 = _DAT_100f1df8;
	puVar6 = _DAT_100f1df4;
	puVar5 = PTR_DAT_100f1a54;
	puVar4 = PTR_DAT_100f19cc;
	puVar3 = PTR_DAT_100f1828;
	puVar2 = PTR_DAT_100f1824;
	cVar1 = **(char **)(PTR_DAT_100f187c + param_1 * 0xe8 + 0xe0);
	if (cVar1 == '2') {
		PTR_DAT_100f19cc[0x122] = 3;
		*puVar7 = 0x1e;
		cVar1 = puVar3[*(int *)puVar2 * 0x55ec + 0x15c];
		if (cVar1 == '\0') {
			*puVar6 = 0x322;
		} else {
			if (cVar1 == '\x01') {
				*puVar6 = 0x2b5;
			} else {
				if (cVar1 == '\x02') {
					*puVar6 = 0x24e;
				}
			}
		}
		if (param_2 != 0) {
			NetSendCmdQuest(1, 0xc);
		}
	} else {
		if (cVar1 == '3') {
			PTR_DAT_100f19cc[0x92] = 3;
			*puVar7 = 0x1e;
			cVar1 = puVar3[*(int *)puVar2 * 0x55ec + 0x15c];
			if (cVar1 == '\0') {
				*puVar6 = 800;
			} else {
				if (cVar1 == '\x01') {
					*puVar6 = 0x2b3;
				} else {
					if (cVar1 == '\x02') {
						*puVar6 = 0x24c;
					}
				}
			}
			if (param_2 != 0) {
				NetSendCmdQuest(1, 6);
			}
		} else {
			iVar12 = *(int *)(PTR_DAT_100f187c + param_1 * 0xe8 + 0xdc);
			if (iVar12 == *(int *)(PTR_DAT_100f1f44 + 4)) {
				PTR_DAT_100f19cc[0x32] = 3;
				*puVar7 = 0x1e;
				cVar1 = puVar3[*(int *)puVar2 * 0x55ec + 0x15c];
				if (cVar1 == '\0') {
					*puVar6 = 0x30c;
				} else {
					if (cVar1 == '\x01') {
						*puVar6 = 0x29f;
					} else {
						if (cVar1 == '\x02') {
							*puVar6 = 0x238;
						}
					}
				}
			} else {
				if (iVar12 == *(int *)(PTR_DAT_100f1f44 + 0x44)) {
					PTR_DAT_100f19cc[0x4a] = 3;
					*puVar7 = 0x1e;
					cVar1 = puVar3[*(int *)puVar2 * 0x55ec + 0x15c];
					if (cVar1 == '\0') {
						*puVar6 = 0x30d;
					} else {
						if (cVar1 == '\x01') {
							*puVar6 = 0x2a0;
						} else {
							if (cVar1 == '\x02') {
								*puVar6 = 0x239;
							}
						}
					}
				} else {
					if ((iVar12 == *(int *)(PTR_DAT_100f1f44 + 0x84)) && (*PTR_DAT_100f17e0 != '\x01')) {
						pcVar13 = PTR_DAT_100f19cc + 0x16a;
						PTR_DAT_100f19cc[0x16a] = 3;
						puVar4[0x177] = 7;
						iVar14 = 0;
						*puVar7 = 0x1e;
						iVar12 = 0;
						puVar4[0x7a] = 2;
						do {
							lVar16 = 0x10;
							cVar1 = *pcVar13;
							psVar10 = (short *)(*(int *)puVar5 + iVar12);
							piVar11 = (int *)(puVar9 + *(int *)puVar8 * 0x10);
							iVar15 = 0;
							do {
								if ((*psVar10 == 0x172) && (cVar1 == '\x03')) {
									*piVar11 = iVar15;
									piVar11[1] = iVar14;
									piVar11[2] = 0x402;
									piVar11 = piVar11 + 4;
									*(int *)puVar8 = *(int *)puVar8 + 1;
								}
								if ((psVar10[0x70] == 0x172) && (cVar1 == '\x03')) {
									*piVar11 = iVar15 + 1;
									piVar11[1] = iVar14;
									piVar11[2] = 0x402;
									piVar11 = piVar11 + 4;
									*(int *)puVar8 = *(int *)puVar8 + 1;
								}
								if ((psVar10[0xe0] == 0x172) && (cVar1 == '\x03')) {
									*piVar11 = iVar15 + 2;
									piVar11[1] = iVar14;
									piVar11[2] = 0x402;
									piVar11 = piVar11 + 4;
									*(int *)puVar8 = *(int *)puVar8 + 1;
								}
								if ((psVar10[0x150] == 0x172) && (cVar1 == '\x03')) {
									*piVar11 = iVar15 + 3;
									piVar11[1] = iVar14;
									piVar11[2] = 0x402;
									piVar11 = piVar11 + 4;
									*(int *)puVar8 = *(int *)puVar8 + 1;
								}
								if ((psVar10[0x1c0] == 0x172) && (cVar1 == '\x03')) {
									*piVar11 = iVar15 + 4;
									piVar11[1] = iVar14;
									piVar11[2] = 0x402;
									piVar11 = piVar11 + 4;
									*(int *)puVar8 = *(int *)puVar8 + 1;
								}
								if ((psVar10[0x230] == 0x172) && (cVar1 == '\x03')) {
									*piVar11 = iVar15 + 5;
									piVar11[1] = iVar14;
									piVar11[2] = 0x402;
									piVar11 = piVar11 + 4;
									*(int *)puVar8 = *(int *)puVar8 + 1;
								}
								if ((psVar10[0x2a0] == 0x172) && (cVar1 == '\x03')) {
									*piVar11 = iVar15 + 6;
									piVar11[1] = iVar14;
									piVar11[2] = 0x402;
									piVar11 = piVar11 + 4;
									*(int *)puVar8 = *(int *)puVar8 + 1;
								}
								psVar10 = psVar10 + 0x310;
								iVar15 = iVar15 + 7;
								lVar16 = lVar16 + -1;
							} while (lVar16 != 0);
							iVar14 = iVar14 + 1;
							iVar12 = iVar12 + 2;
						} while (iVar14 < 0x70);
						cVar1 = puVar3[*(int *)puVar2 * 0x55ec + 0x15c];
						if (cVar1 == '\0') {
							*puVar6 = 0x323;
						} else {
							if (cVar1 == '\x01') {
								*puVar6 = 0x2b6;
							} else {
								if (cVar1 == '\x02') {
									*puVar6 = 0x24f;
								}
							}
						}
						if (param_2 != 0) {
							NetSendCmdQuest(1, 0xf);
							NetSendCmdQuest(1, 5);
						}
					} else {
						if ((iVar12 == *(int *)(PTR_DAT_100f1f44 + 0x84)) && (*PTR_DAT_100f17e0 == '\x01')) {
							PTR_DAT_100f19cc[0x16a] = 3;
							*puVar7 = 0x1e;
							InitVPTriggers();
							puVar4[0x177] = 7;
							puVar4[0x178] = 4;
							puVar4[0x7a] = 2;
							AddMissile(0x23, 0x20, 0x23, 0x20, 0, 0x41, 0, (ulonglong) * (uint *)puVar2, in_stack_ffffffa8, in_stack_ffffffaf, 0, 0);
							cVar1 = puVar3[*(int *)puVar2 * 0x55ec + 0x15c];
							if (cVar1 == '\0') {
								*puVar6 = 0x323;
								return;
							}
							if (cVar1 == '\x01') {
								*puVar6 = 0x2b6;
								return;
							}
							if (cVar1 != '\x02') {
								return;
							}
							*puVar6 = 0x24f;
							return;
						}
						if (iVar12 == *(int *)(PTR_DAT_100f1f44 + 0x104)) {
							PTR_DAT_100f19cc[0x10a] = 3;
							*puVar7 = 0x1e;
							cVar1 = puVar3[*(int *)puVar2 * 0x55ec + 0x15c];
							if (cVar1 == '\0') {
								*puVar6 = 0x32e;
							} else {
								if (cVar1 == '\x01') {
									*puVar6 = 0x2c1;
								} else {
									if (cVar1 == '\x02') {
										*puVar6 = 0x25a;
									}
								}
							}
						}
					}
				}
			}
		}
	}
	return;
}

void FUN_1009c764(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	DRLG_RectTrans(*(int *)PTR_DAT_100f1a84 * 2 + 0x13, *(int *)PTR_DAT_100f1a80 * 2 + 0x13,
	    *(int *)PTR_DAT_100f1a84 * 2 + 0x1a, *(int *)PTR_DAT_100f1a80 * 2 + 0x1a);
	return;
}

void FUN_1009c7b4(int param_1, int param_2, int param_3)

{
	undefined *puVar1;

	puVar1 = PTR_DAT_100f19cc + param_1 * 0x18;
	*(int *)(puVar1 + 4) = param_2 * 2 + 0x1c;
	*(int *)(puVar1 + 8) = param_3 * 2 + 0x17;
	return;
}

void FUN_1009c7dc(longlong param_1, longlong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	byte bVar1;
	byte bVar2;
	uint *puVar3;
	int *piVar4;
	undefined *puVar5;
	undefined **ppuVar6;
	ulonglong uVar7;
	longlong lVar8;
	undefined8 uVar9;
	undefined uVar10;
	undefined uVar11;
	longlong lVar12;
	undefined uVar13;
	longlong lVar14;
	longlong lVar15;
	undefined uVar16;
	longlong lVar17;
	undefined uVar18;
	longlong lVar19;
	undefined4 in_stack_ffffffb8;
	int *local_18[6];

	ppuVar6 = &toc;
	uVar9 = 0;
	uVar7 = LoadFileInMem(ZEXT48(PTR_s_Levels_L4Data_Warlord2_DUN_100f3718), (undefined4 *)0x0, param_3,
	    param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	local_18[0] = (int *)uVar7;
	uVar7 = FUN_100b8f7c(uVar7 & 0xffffffff, uVar9, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	bVar1 = *(byte *)uVar7;
	uVar10 = (undefined)(param_1 * 0x28);
	bVar2 = ((byte *)uVar7)[2];
	lVar17 = uVar7 + 4;
	puVar3 = (uint *)ppuVar6[-0x1d56];
	*(uint *)ppuVar6[-0x1d55] = (uint)bVar1;
	lVar14 = (ulonglong)bVar1 + param_1;
	lVar14._7_1_ = (undefined)lVar14;
	piVar4 = (int *)ppuVar6[-0x1d53];
	*puVar3 = (uint)bVar2;
	puVar5 = ppuVar6[-0x1df3];
	lVar15 = (ulonglong)bVar2 + param_2;
	lVar15._7_1_ = (undefined)lVar15;
	*piVar4 = (int)param_1;
	uVar7 = ZEXT48(ppuVar6[-0x1d54]);
	lVar12 = ZEXT48(puVar5) + param_2;
	*(int *)ppuVar6[-0x1d54] = (int)param_2;
	while (true) {
		uVar18 = (undefined)lVar17;
		uVar16 = (undefined)param_2;
		uVar13 = (undefined)lVar12;
		uVar11 = (undefined)uVar7;
		if ((int)lVar15 <= (int)param_2)
			break;
		lVar8 = lVar12 + param_1 * 0x28;
		lVar19 = lVar14 - param_1;
		if ((int)param_1 < (int)lVar14) {
			do {
				uVar7 = (ulonglong) * (byte *)lVar17;
				if (*(byte *)lVar17 == 0) {
					uVar7 = 6;
				}
				*(undefined *)lVar8 = (char)uVar7;
				lVar8 = lVar8 + 0x28;
				lVar17 = lVar17 + 2;
				lVar19 = lVar19 + -1;
			} while (lVar19 != 0);
		}
		lVar12 = lVar12 + 1;
		param_2 = param_2 + 1;
	}
	FUN_100b9100((int)local_18[0], uVar10, uVar11, uVar13, (undefined)lVar14, (undefined)lVar15, uVar16,
	    uVar18, in_stack_ffffffb8);
	mem_free_dbg(local_18, uVar10, uVar11, uVar13, (undefined)lVar14, (undefined)lVar15, uVar16, uVar18,
	    in_stack_ffffffb8);
	return;
}

void FUN_1009c8c8(int param_1, longlong param_2, longlong param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	byte bVar1;
	byte bVar2;
	uint *puVar3;
	int *piVar4;
	undefined *puVar5;
	int iVar6;
	undefined **ppuVar7;
	ulonglong uVar8;
	longlong lVar9;
	undefined8 uVar10;
	undefined uVar11;
	undefined uVar12;
	longlong lVar13;
	undefined uVar14;
	longlong lVar15;
	longlong lVar16;
	undefined uVar17;
	longlong lVar18;
	undefined uVar19;
	ulonglong uVar20;
	int iVar21;
	int iVar22;
	longlong lVar23;
	undefined4 in_stack_ffffffa8;
	int *local_28[10];

	ppuVar7 = &toc;
	uVar10 = 0;
	uVar20 = ZEXT48(PTR_DAT_100f19cc);
	lVar13 = param_3;
	uVar8 = LoadFileInMem(ZEXT48(PTR_s_Levels_L2Data_Bonestr1_DUN_100f3714), (undefined4 *)0x0, param_3,
	    param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	local_28[0] = (int *)uVar8;
	uVar8 = FUN_100b8f7c(uVar8 & 0xffffffff, uVar10, lVar13, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	bVar1 = *(byte *)uVar8;
	bVar2 = ((byte *)uVar8)[2];
	lVar18 = uVar8 + 4;
	puVar3 = (uint *)ppuVar7[-0x1d56];
	*(uint *)ppuVar7[-0x1d55] = (uint)bVar1;
	lVar15 = (ulonglong)bVar1 + param_2;
	lVar15._7_1_ = (undefined)lVar15;
	piVar4 = (int *)ppuVar7[-0x1d53];
	*puVar3 = (uint)bVar2;
	puVar5 = ppuVar7[-0x1df3];
	lVar16 = (ulonglong)bVar2 + param_3;
	lVar16._7_1_ = (undefined)lVar16;
	iVar21 = (int)param_2;
	*piVar4 = iVar21;
	uVar8 = ZEXT48(ppuVar7[-0x1d54]);
	lVar13 = ZEXT48(puVar5) + param_3;
	iVar22 = (int)param_3;
	*(int *)ppuVar7[-0x1d54] = iVar22;
	while (true) {
		uVar19 = (undefined)lVar18;
		uVar17 = (undefined)param_3;
		uVar14 = (undefined)lVar13;
		uVar12 = (undefined)uVar8;
		if ((int)lVar16 <= (int)param_3)
			break;
		lVar9 = lVar13 + param_2 * 0x28;
		lVar23 = lVar15 - param_2;
		if (iVar21 < (int)lVar15) {
			do {
				uVar8 = (ulonglong) * (byte *)lVar18;
				if (*(byte *)lVar18 == 0) {
					uVar8 = 3;
				}
				*(undefined *)lVar9 = (char)uVar8;
				lVar9 = lVar9 + 0x28;
				lVar18 = lVar18 + 2;
				lVar23 = lVar23 + -1;
			} while (lVar23 != 0);
		}
		lVar13 = lVar13 + 1;
		param_3 = param_3 + 1;
	}
	lVar13 = uVar20 + (longlong)param_1 * 0x18;
	iVar6 = (int)lVar13;
	*(int *)(iVar6 + 4) = iVar21 * 2 + 0x16;
	*(int *)(iVar6 + 8) = iVar22 * 2 + 0x17;
	uVar11 = (undefined)lVar13;
	FUN_100b9100((int)local_28[0], uVar11, uVar12, uVar14, (undefined)lVar15, (undefined)lVar16, uVar17,
	    uVar19, in_stack_ffffffa8);
	mem_free_dbg(local_28, uVar11, uVar12, uVar14, (undefined)lVar15, (undefined)lVar16, uVar17, uVar19,
	    in_stack_ffffffa8);
	return;
}

void FUN_1009c9ec(int param_1, int param_2, undefined8 param_3, undefined8 param_4, longlong param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	uint *puVar1;
	int *piVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	ulonglong uVar5;
	undefined8 uVar6;
	longlong lVar7;
	undefined uVar8;
	byte bVar9;
	byte bVar10;
	undefined uVar11;
	longlong lVar12;
	undefined uVar13;
	longlong lVar14;
	undefined uVar15;
	undefined uVar16;
	undefined4 in_stack_ffffffb8;
	int *local_18[6];

	ppuVar4 = &toc;
	uVar6 = 0;
	uVar5 = LoadFileInMem(ZEXT48(PTR_s_Levels_L1Data_Banner1_DUN_100f3710), (undefined4 *)0x0, param_3,
	    param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	uVar16 = (undefined)param_8;
	local_18[0] = (int *)uVar5;
	uVar5 = FUN_100b8f7c(uVar5 & 0xffffffff, uVar6, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	bVar9 = *(byte *)uVar5;
	lVar14 = uVar5 + 4;
	bVar10 = ((byte *)uVar5)[2];
	lVar12 = 0;
	puVar1 = (uint *)ppuVar4[-0x1d56];
	*(uint *)ppuVar4[-0x1d55] = (uint)bVar9;
	piVar2 = (int *)ppuVar4[-0x1d53];
	*puVar1 = (uint)bVar10;
	puVar3 = ppuVar4[-0x1d50];
	*piVar2 = param_1;
	lVar7 = ZEXT48(puVar3) + (longlong)param_2;
	*(int *)ppuVar4[-0x1d54] = param_2;
	while (true) {
		uVar15 = (undefined)lVar14;
		uVar13 = (undefined)lVar12;
		uVar11 = (undefined)param_5;
		uVar8 = (undefined)lVar7;
		if ((int)(uint)bVar10 <= (int)lVar12)
			break;
		param_5 = 0;
		uVar5 = (ulonglong)bVar9;
		if (bVar9 != 0) {
			do {
				if (*(char *)lVar14 != '\0') {
					*(char *)((int)lVar7 + (param_1 + (int)param_5) * 0x28) = *(char *)lVar14;
				}
				lVar14 = lVar14 + 2;
				param_5 = param_5 + 1;
				uVar5 = uVar5 - 1;
			} while (uVar5 != 0);
		}
		lVar7 = lVar7 + 1;
		lVar12 = lVar12 + 1;
	}
	FUN_100b9100((int)local_18[0], uVar8, bVar9, bVar10, uVar11, uVar13, uVar15, uVar16, in_stack_ffffffb8);
	mem_free_dbg(local_18, uVar8, bVar9, bVar10, uVar11, uVar13, uVar15, uVar16, in_stack_ffffffb8);
	return;
}

void FUN_1009cac8(int param_1, int param_2, undefined8 param_3, undefined8 param_4, longlong param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	int *piVar1;
	uint *puVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	ulonglong uVar5;
	undefined8 uVar6;
	longlong lVar7;
	undefined uVar8;
	byte bVar9;
	byte bVar10;
	undefined uVar11;
	longlong lVar12;
	undefined uVar13;
	longlong lVar14;
	undefined uVar15;
	undefined uVar16;
	undefined4 in_stack_ffffffb8;
	int *local_18[6];

	ppuVar4 = &toc;
	uVar6 = 0;
	uVar5 = LoadFileInMem(ZEXT48(PTR_s_Levels_L2Data_Blind1_DUN_100f370c), (undefined4 *)0x0, param_3,
	    param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	uVar16 = (undefined)param_8;
	local_18[0] = (int *)uVar5;
	uVar5 = FUN_100b8f7c(uVar5 & 0xffffffff, uVar6, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	bVar9 = *(byte *)uVar5;
	lVar14 = uVar5 + 4;
	bVar10 = ((byte *)uVar5)[2];
	lVar12 = 0;
	piVar1 = (int *)ppuVar4[-0x1d54];
	*(int *)ppuVar4[-0x1d53] = param_1;
	puVar2 = (uint *)ppuVar4[-0x1d55];
	*piVar1 = param_2;
	puVar3 = ppuVar4[-0x1d50];
	*puVar2 = (uint)bVar9;
	lVar7 = ZEXT48(puVar3) + (longlong)param_2;
	*(uint *)ppuVar4[-0x1d56] = (uint)bVar10;
	while (true) {
		uVar15 = (undefined)lVar14;
		uVar13 = (undefined)lVar12;
		uVar11 = (undefined)param_5;
		uVar8 = (undefined)lVar7;
		if ((int)(uint)bVar10 <= (int)lVar12)
			break;
		param_5 = 0;
		uVar5 = (ulonglong)bVar9;
		if (bVar9 != 0) {
			do {
				if (*(char *)lVar14 != '\0') {
					*(char *)((int)lVar7 + (param_1 + (int)param_5) * 0x28) = *(char *)lVar14;
				}
				lVar14 = lVar14 + 2;
				param_5 = param_5 + 1;
				uVar5 = uVar5 - 1;
			} while (uVar5 != 0);
		}
		lVar7 = lVar7 + 1;
		lVar12 = lVar12 + 1;
	}
	FUN_100b9100((int)local_18[0], uVar8, bVar9, bVar10, uVar11, uVar13, uVar15, uVar16, in_stack_ffffffb8);
	mem_free_dbg(local_18, uVar8, bVar9, bVar10, uVar11, uVar13, uVar15, uVar16, in_stack_ffffffb8);
	return;
}

void FUN_1009cba4(int param_1, int param_2, undefined8 param_3, undefined8 param_4, longlong param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	int *piVar1;
	uint *puVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	ulonglong uVar5;
	undefined8 uVar6;
	longlong lVar7;
	undefined uVar8;
	byte bVar9;
	byte bVar10;
	undefined uVar11;
	longlong lVar12;
	undefined uVar13;
	longlong lVar14;
	undefined uVar15;
	undefined uVar16;
	undefined4 in_stack_ffffffb8;
	int *local_18[6];

	ppuVar4 = &toc;
	uVar6 = 0;
	uVar5 = LoadFileInMem(ZEXT48(PTR_s_Levels_L2Data_Blood2_DUN_100f3708), (undefined4 *)0x0, param_3,
	    param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	uVar16 = (undefined)param_8;
	local_18[0] = (int *)uVar5;
	uVar5 = FUN_100b8f7c(uVar5 & 0xffffffff, uVar6, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	bVar9 = *(byte *)uVar5;
	lVar14 = uVar5 + 4;
	bVar10 = ((byte *)uVar5)[2];
	lVar12 = 0;
	piVar1 = (int *)ppuVar4[-0x1d54];
	*(int *)ppuVar4[-0x1d53] = param_1;
	puVar2 = (uint *)ppuVar4[-0x1d55];
	*piVar1 = param_2;
	puVar3 = ppuVar4[-0x1df3];
	*puVar2 = (uint)bVar9;
	lVar7 = ZEXT48(puVar3) + (longlong)param_2;
	*(uint *)ppuVar4[-0x1d56] = (uint)bVar10;
	while (true) {
		uVar15 = (undefined)lVar14;
		uVar13 = (undefined)lVar12;
		uVar11 = (undefined)param_5;
		uVar8 = (undefined)lVar7;
		if ((int)(uint)bVar10 <= (int)lVar12)
			break;
		param_5 = 0;
		uVar5 = (ulonglong)bVar9;
		if (bVar9 != 0) {
			do {
				if (*(char *)lVar14 != '\0') {
					*(char *)((int)lVar7 + (param_1 + (int)param_5) * 0x28) = *(char *)lVar14;
				}
				lVar14 = lVar14 + 2;
				param_5 = param_5 + 1;
				uVar5 = uVar5 - 1;
			} while (uVar5 != 0);
		}
		lVar7 = lVar7 + 1;
		lVar12 = lVar12 + 1;
	}
	FUN_100b9100((int)local_18[0], uVar8, bVar9, bVar10, uVar11, uVar13, uVar15, uVar16, in_stack_ffffffb8);
	mem_free_dbg(local_18, uVar8, bVar9, bVar10, uVar11, uVar13, uVar15, uVar16, in_stack_ffffffb8);
	return;
}

void DRLG_CheckQuests(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	undefined8 uVar2;
	int iVar3;
	undefined *puVar4;

	uVar1 = ZEXT48(&toc);
	iVar3 = 0;
	puVar4 = PTR_DAT_100f19cc;
	while ((uVar2 = QuestStatus(iVar3), (int)uVar2 == 0 || (8 < ((ulonglong)(byte)puVar4[1] - 6 & 0xffffffff)))) {
		iVar3 = iVar3 + 1;
		puVar4 = puVar4 + 0x18;
		if (0xf < iVar3) {
			return;
		}
	}
	// WARNING: Could not recover jumptable at 0x1009ccdc. Too many branches
	// WARNING: Treating indirect jump as call
	(**(code **)(*(int *)((int)uVar1 + -0x58cc) + (int)((ulonglong)(byte)puVar4[1] - 6) * 4))();
	return;
}

void FUN_1009cd7c(void)

{
	byte bVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;

	puVar5 = PTR_DAT_100f1e9c;
	puVar4 = PTR_DAT_100f1e98;
	puVar3 = PTR_DAT_100f1e94;
	puVar2 = PTR_DAT_100f19cc;
	bVar1 = *PTR_DAT_100f17f0;
	if (bVar1 == 3) {
		return;
	}
	if (2 < bVar1) {
		if (bVar1 == 5) {
			*(int *)PTR_DAT_100f1ea0 = *(int *)(PTR_DAT_100f19cc + 0x16c) + 1;
			*(int *)puVar5 = *(int *)(puVar2 + 0x170) + -1;
			*(uint *)puVar4 = (uint)(byte)puVar2[0x168];
			*(undefined4 *)puVar3 = 4;
			return;
		}
		if (4 < bVar1) {
			return;
		}
		*(undefined4 *)PTR_DAT_100f1ea0 = *(undefined4 *)(PTR_DAT_100f19cc + 0x13c);
		*(int *)puVar5 = *(int *)(puVar2 + 0x140) + 1;
		*(uint *)puVar4 = (uint)(byte)puVar2[0x138];
		*(undefined4 *)puVar3 = 1;
		return;
	}
	if (bVar1 == 1) {
		*(int *)PTR_DAT_100f1ea0 = *(int *)(PTR_DAT_100f19cc + 0x124) + 1;
		*(undefined4 *)puVar5 = *(undefined4 *)(puVar2 + 0x128);
		*(uint *)puVar4 = (uint)(byte)puVar2[0x120];
		*(undefined4 *)puVar3 = 1;
		return;
	}
	if (bVar1 == 0) {
		return;
	}
	*(int *)PTR_DAT_100f1ea0 = *(int *)(PTR_DAT_100f19cc + 0x154) + 1;
	*(undefined4 *)puVar5 = *(undefined4 *)(puVar2 + 0x158);
	*(uint *)puVar4 = (uint)(byte)puVar2[0x150];
	*(undefined4 *)puVar3 = 2;
	return;
}

void GetReturnLvlPos(void)

{
	undefined *puVar1;
	undefined *puVar2;

	if (PTR_DAT_100f19cc[0x16a] == '\x03') {
		PTR_DAT_100f19cc[0x178] = 2;
	}
	puVar1 = PTR_DAT_100f1e9c;
	*(undefined4 *)PTR_DAT_100f1820 = *(undefined4 *)PTR_DAT_100f1ea0;
	puVar2 = PTR_DAT_100f1e98;
	*(undefined4 *)PTR_DAT_100f181c = *(undefined4 *)puVar1;
	puVar1 = PTR_DAT_100f1e94;
	*PTR_DAT_100f17ec = (char)*(undefined4 *)puVar2;
	*PTR_DAT_100f183c = (char)*(undefined4 *)puVar1;
	return;
}

void ResyncMPQuests(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined8 uVar4;
	uint uVar5;
	undefined4 in_stack_ffffffc8;

	puVar2 = PTR_DAT_100f19cc;
	puVar1 = PTR_DAT_100f17ec;
	ppuVar3 = &toc;
	if (PTR_DAT_100f19cc[0x122] == '\x01') {
		if (((int)((uint)(byte)PTR_DAT_100f19cc[0x120] - 1) <= (int)(uint)(byte)*PTR_DAT_100f17ec) && ((uint)(byte)*PTR_DAT_100f17ec <= (uint)(byte)PTR_DAT_100f19cc[0x120] + 1)) {
			PTR_DAT_100f19cc[0x122] = 2;
			ppuVar3 = &toc;
			NetSendCmdQuest(1, 0xc);
		}
	}
	if (puVar2[0x92] == '\x01') {
		uVar5 = (uint)(byte)*puVar1;
		if (((int)((uint)(byte)puVar2[0x90] - 1) <= (int)uVar5) && (uVar5 <= (uint)(byte)puVar2[0x90] + 1)) {
			puVar2[0x92] = 2;
			NetSendCmdQuest(1, 6);
		}
	}
	if ((puVar2[0x16a] == '\x01') && ((uint)(byte)*puVar1 == (uint)(byte)puVar2[0x168] - 1)) {
		puVar2[0x16a] = 2;
		NetSendCmdQuest(1, 0xf);
	}
	uVar4 = QuestStatus(0xf);
	if ((int)uVar4 != 0) {
		AddObject(0x53, *(int *)ppuVar3[-0x1d53] * 2 + 0x14, *(int *)ppuVar3[-0x1d54] * 2 + 0x16,
		    param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return;
}

void ResyncQuests(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	byte bVar1;
	undefined uVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined *puVar12;
	undefined *puVar13;
	undefined8 uVar14;
	ulonglong uVar15;
	longlong lVar16;
	undefined4 uVar17;
	longlong lVar18;
	undefined4 uVar19;
	longlong lVar20;
	undefined4 uVar21;
	longlong lVar22;
	int iVar23;
	uint *puVar24;
	uint *puVar25;
	undefined4 in_stack_ffffff88;

	puVar13 = PTR_DAT_100f206c;
	puVar25 = (uint *)PTR_DAT_100f1e40;
	puVar12 = PTR_DAT_100f1e3c;
	puVar11 = PTR_DAT_100f1ab8;
	puVar10 = PTR_DAT_100f1a84;
	puVar9 = PTR_DAT_100f1a80;
	puVar8 = PTR_DAT_100f1a7c;
	puVar7 = PTR_DAT_100f1a78;
	puVar6 = PTR_DAT_100f19cc;
	puVar5 = PTR_DAT_100f17f8;
	puVar4 = PTR_DAT_100f17f0;
	puVar3 = PTR_DAT_100f17ec;
	lVar20 = (longlong)param_8;
	lVar18 = (longlong)param_7;
	lVar16 = (longlong)param_6;
	if ((*PTR_DAT_100f17f8 != '\0') && (*PTR_DAT_100f17f0 == PTR_DAT_100f19cc[0x144])) {
		bVar1 = PTR_DAT_100f19cc[0x13a];
		uVar15 = (ulonglong)bVar1;
		if ((bVar1 != 1) && (*PTR_DAT_100f183c == PTR_DAT_100f19cc[0x13b])) {
			if (bVar1 == 3) {
				LoadPalette(ZEXT48(PTR_s_Levels_L3Data_L3pwater_pal_100f3728), uVar15, param_3, param_4,
				    param_5, param_6, param_7, param_8, in_stack_ffffff88);
			} else {
				LoadPalette((ulonglong)_DAT_100f3700, uVar15, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff88);
			}
			lVar22 = 0;
			do {
				palette_update_quest_palette(lVar22, (char)uVar15, (char)param_3, (char)param_4, (char)param_5, (char)lVar16,
				    (char)lVar18, (char)lVar20, in_stack_ffffff88);
				lVar22 = lVar22 + 1;
			} while ((int)lVar22 < 0x21);
		}
	}
	uVar14 = QuestStatus(7);
	uVar21 = (undefined4)lVar20;
	uVar19 = (undefined4)lVar18;
	uVar17 = (undefined4)lVar16;
	if ((int)uVar14 != 0) {
		if (puVar6[0xb7] == '\x01') {
			ObjChangeMapResync((ulonglong) * (uint *)puVar10 + (ulonglong) * (uint *)puVar8 + -2,
			    (ulonglong) * (uint *)puVar9 + (ulonglong) * (uint *)puVar7 + -2,
			    (int)((ulonglong) * (uint *)puVar10 + (ulonglong) * (uint *)puVar8) + 1,
			    (ulonglong) * (uint *)puVar9 + (ulonglong) * (uint *)puVar7 + 1, param_5, uVar17, uVar19, uVar21, in_stack_ffffff88);
		}
		if (puVar6[0xb7] == '\x02') {
			uVar15 = (ulonglong) * (uint *)puVar9 + (ulonglong) * (uint *)puVar7 + 1;
			ObjChangeMapResync((ulonglong) * (uint *)puVar10 + (ulonglong) * (uint *)puVar8 + -2,
			    (ulonglong) * (uint *)puVar9 + (ulonglong) * (uint *)puVar7 + -2,
			    (int)((ulonglong) * (uint *)puVar10 + (ulonglong) * (uint *)puVar8) + 1, uVar15,
			    param_5, (int)lVar16, (int)lVar18, (int)lVar20, in_stack_ffffff88);
			ObjChangeMapResync((ulonglong) * (uint *)puVar10, (ulonglong) * (uint *)puVar9,
			    *(uint *)puVar10 + (*(int *)puVar8 >> 1) + 2,
			    (ulonglong) * (uint *)puVar9 + ((uVar15 & 0xffffffff00000000 | (ulonglong)(uint)(*(int *)puVar7 >> 1)) - 2),
			    param_5, (int)lVar16, (int)lVar18, (int)lVar20, in_stack_ffffff88);
			iVar23 = 0;
			puVar24 = puVar25;
			while (iVar23 < *(int *)puVar12) {
				SyncObjectAnim((ulonglong)*puVar24);
				puVar24 = puVar24 + 1;
				iVar23 = iVar23 + 1;
			}
			uVar2 = *puVar11;
			*puVar11 = 9;
			DRLG_MRectTrans(*(int *)puVar10, *(int *)puVar9, *(int *)puVar10 + (*(int *)puVar8 >> 1) + 4,
			    *(int *)puVar9 + (*(int *)puVar7 >> 1));
			*puVar11 = uVar2;
		}
		uVar21 = (undefined4)lVar20;
		uVar19 = (undefined4)lVar18;
		uVar17 = (undefined4)lVar16;
		if (puVar6[0xb7] == '\x03') {
			ObjChangeMapResync((ulonglong) * (uint *)puVar10, (ulonglong) * (uint *)puVar9,
			    *(uint *)puVar10 + *(int *)puVar8 + 1,
			    (ulonglong) * (uint *)puVar9 + (ulonglong) * (uint *)puVar7 + 1, param_5, uVar17, uVar19, uVar21, in_stack_ffffff88);
			iVar23 = 0;
			puVar24 = puVar25;
			while (true) {
				uVar21 = (undefined4)lVar20;
				uVar19 = (undefined4)lVar18;
				uVar17 = (undefined4)lVar16;
				if (*(int *)puVar12 <= iVar23)
					break;
				SyncObjectAnim((ulonglong)*puVar24);
				puVar24 = puVar24 + 1;
				iVar23 = iVar23 + 1;
			}
			uVar2 = *puVar11;
			*puVar11 = 9;
			DRLG_MRectTrans(*(int *)puVar10, *(int *)puVar9, *(int *)puVar10 + (*(int *)puVar8 >> 1) + 4,
			    *(int *)puVar9 + (*(int *)puVar7 >> 1));
			*puVar11 = uVar2;
		}
	}
	if (*puVar3 == puVar6[0x18]) {
		if ((puVar6[0x1a] == '\x01') && (puVar6[0x27] == '\0')) {
			param_5 = 1;
			SpawnQuestItem(0x13, 0, 0, 5, 1, (char)uVar17, (char)uVar19, (char)uVar21, in_stack_ffffff88);
			puVar6[0x27] = 1;
		} else {
			if (puVar6[0x1a] == '\x02') {
				if ((byte)puVar6[0x27] < 5) {
					if (6 < (byte)puVar6[0x27]) {
						*(undefined4 *)(puVar13 + 0x44) = 0xffffffff;
					}
				} else {
					*(undefined4 *)(puVar13 + 0x44) = 0x7b;
					*(undefined4 *)(puVar13 + 0x184) = 0xffffffff;
				}
			}
		}
	}
	if ((((uint)(byte)*puVar3 == (uint)(byte)puVar6[0x60] + 1) && (puVar6[0x62] == '\x02')) && (puVar6[0x6f] == '\0')) {
		puVar6[0x6f] = 1;
		param_5 = 1;
		SpawnQuestItem(0xf, 0, 0, 5, 1, (char)uVar17, (char)uVar19, (char)uVar21, in_stack_ffffff88);
	}
	if ((*puVar5 != '\0') && (*puVar4 == '\x05')) {
		if (3 < (byte)puVar6[0x177]) {
			ObjChangeMapResync(1, 0xb, 0x14, 0x12, param_5, uVar17, uVar19, uVar21, in_stack_ffffff88);
		}
		if (5 < (byte)puVar6[0x177]) {
			ObjChangeMapResync(1, 0x12, 0x14, 0x18, param_5, uVar17, uVar19, uVar21, in_stack_ffffff88);
		}
		if (6 < (byte)puVar6[0x177]) {
			InitVPTriggers();
		}
		iVar23 = 0;
		while (iVar23 < *(int *)puVar12) {
			SyncObjectAnim((ulonglong)*puVar25);
			puVar25 = puVar25 + 1;
			iVar23 = iVar23 + 1;
		}
	}
	if ((*puVar3 == puVar6[0x168]) && (*puVar5 == '\0')) {
		if (((puVar6[0x178] == 1) || (2 < (byte)puVar6[0x178])) && ((puVar6[0x16a] == '\x02' || (puVar6[0x16a] == '\x03')))) {
			puVar6[0x178] = 2;
		}
	}
	return;
}

void PrintQLString(longlong param_1, int param_2, int param_3, ulonglong param_4, ulonglong param_5,
    undefined8 param_6, int param_7, int param_8, undefined4 param_9)

{
	byte bVar1;
	uint uVar2;
	undefined *puVar3;
	undefined *puVar4;
	uint *puVar5;
	ulonglong uVar6;
	longlong lVar7;
	int iVar9;
	longlong lVar8;
	byte *pbVar10;
	int iVar11;
	int iVar12;
	longlong lVar13;
	longlong lVar14;
	ulonglong uVar15;
	ulonglong uVar16;
	ulonglong uVar17;
	longlong lVar18;
	longlong lVar19;
	ulonglong uVar20;
	longlong lVar21;
	undefined4 in_stack_ffffff78;

	puVar5 = _DAT_100f2078;
	puVar4 = PTR_DAT_100f2068;
	puVar3 = PTR_DAT_100f185c;
	lVar19 = (longlong)param_8;
	lVar18 = (longlong)param_7;
	uVar17 = ZEXT48(PTR_DAT_100f1db4);
	uVar2 = *(uint *)(PTR_DAT_100f1db4 + param_2 * 4);
	lVar21 = param_1 + (ulonglong) * (uint *)(PTR_DAT_100f1938 + uVar2 * 4 + 0x330) + 0x60;
	uVar15 = param_4;
	uVar16 = param_5;
	iVar9 = strlen((uint)param_4);
	uVar20 = 0;
	if (param_3 != 0) {
		lVar14 = 0;
		iVar12 = 0;
		lVar13 = 0;
		if (0 < iVar9) {
			if ((8 < iVar9) && (uVar6 = (ulonglong)(iVar9 - 1U >> 3), 0 < iVar9 + -8)) {
				do {
					pbVar10 = (byte *)((uint)param_4 + (int)lVar13);
					lVar13 = lVar13 + 8;
					uVar17 = (ulonglong)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)pbVar10[5]]];
					uVar16 = (ulonglong)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)pbVar10[6]]];
					uVar15 = (ulonglong)(byte)(&DAT_100f64e8)[(uint)pbVar10[7]];
					lVar14 = (ulonglong)(byte)(&DAT_100f6230)
					             [(uint)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)pbVar10[7]]]]
					    + (ulonglong)(byte)(&DAT_100f6230)
					        [(uint)(byte)(&DAT_100f61b0)
					                [(uint)(byte)(&DAT_100f64e8)[(uint)pbVar10[6]]]]
					    + (ulonglong)(byte)(&DAT_100f6230)
					        [(uint)(byte)(&DAT_100f61b0)
					                [(uint)(byte)(&DAT_100f64e8)[(uint)pbVar10[5]]]]
					    + (ulonglong)(byte)(&DAT_100f6230)
					        [(uint)(byte)(&DAT_100f61b0)
					                [(uint)(byte)(&DAT_100f64e8)[(uint)pbVar10[4]]]]
					    + (ulonglong)(byte)(&DAT_100f6230)
					        [(uint)(byte)(&DAT_100f61b0)
					                [(uint)(byte)(&DAT_100f64e8)[(uint)pbVar10[3]]]]
					    + (ulonglong)(byte)(&DAT_100f6230)
					        [(uint)(byte)(&DAT_100f61b0)
					                [(uint)(byte)(&DAT_100f64e8)[(uint)pbVar10[2]]]]
					    + (ulonglong)(byte)(&DAT_100f6230)
					        [(uint)(byte)(&DAT_100f61b0)
					                [(uint)(byte)(&DAT_100f64e8)[(uint)pbVar10[1]]]]
					    + (ulonglong)(byte)(&DAT_100f6230)
					        [(uint)(byte)(&DAT_100f61b0)
					                [(uint)(byte)(&DAT_100f64e8)[(uint)*pbVar10]]]
					    + lVar14 + 8;
					uVar6 = uVar6 - 1;
				} while (uVar6 != 0);
			}
			iVar12 = (int)lVar14;
			lVar7 = (longlong)iVar9 - lVar13;
			lVar8 = param_4 + lVar13;
			if ((int)lVar13 < iVar9) {
				do {
					pbVar10 = (byte *)lVar8;
					lVar8 = lVar8 + 1;
					lVar14 = (ulonglong)(byte)(&DAT_100f6230)
					             [(uint)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)*pbVar10]]]
					    + lVar14 + 1;
					iVar12 = (int)lVar14;
					lVar7 = lVar7 + -1;
				} while (lVar7 != 0);
			}
		}
		if (iVar12 < 0x101) {
			uVar20 = (ulonglong)(uint)(0x101 - iVar12 >> 1);
		}
		lVar21 = lVar21 + uVar20;
	}
	iVar12 = (int)param_1;
	if (*(int *)puVar4 == param_2) {
		if (param_3 == 0) {
			iVar11 = iVar12 + 0x4c;
		} else {
			iVar11 = iVar12 + (int)uVar20 + 0x4c;
		}
		uVar15 = (ulonglong)*puVar5;
		uVar16 = 0xc;
		CelDecodeOnly(iVar11, (ulonglong)uVar2 + 0xcd, (ulonglong) * (uint *)puVar3, uVar15, 0xc, (int)uVar17,
		    (int)lVar18, (int)lVar19, in_stack_ffffff78);
	}
	iVar11 = 0;
	while (true) {
		if (iVar9 <= iVar11)
			break;
		bVar1 = (&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint) * (byte *)param_4]];
		uVar20 = (ulonglong)(byte)(&DAT_100f6230)[(uint)bVar1] + uVar20 + 1;
		if ((bVar1 != 0) && ((int)uVar20 < 0x102)) {
			CPrintString(lVar21, (ulonglong)bVar1, param_5, uVar15, uVar16, (int)uVar17, (int)lVar18, (int)lVar19, in_stack_ffffff78);
		}
		iVar11 = iVar11 + 1;
		param_4 = param_4 + 1;
		lVar21 = (ulonglong)(byte)(&DAT_100f6230)[(uint)bVar1] + lVar21 + 1;
	}
	if (*(int *)puVar4 == param_2) {
		if (param_3 == 0) {
			iVar12 = 0x154 - iVar12;
		} else {
			iVar12 = iVar12 + (int)uVar20 + 100;
		}
		CelDecodeOnly(iVar12, (ulonglong)uVar2 + 0xcd, (ulonglong) * (uint *)puVar3, (ulonglong)*puVar5, 0xc,
		    (int)uVar17, (int)lVar18, (int)lVar19, in_stack_ffffff78);
	}
	return;
}

void DrawQuestLog(void)

{
	int iVar1;
	int *piVar2;
	uint *puVar3;
	ulonglong uVar4;
	undefined4 uVar5;
	undefined8 in_r8;
	undefined4 uVar6;
	undefined4 in_r9;
	undefined4 in_r10;
	int iVar7;
	int iVar8;
	int *piVar9;
	undefined4 in_stack_ffffffb8;

	puVar3 = _DAT_100f2078;
	piVar2 = _DAT_100f205c;
	iVar1 = _DAT_100f1f64;
	uVar6 = (undefined4)in_r8;
	uVar5 = (undefined4)((ulonglong)in_r8 >> 0x20);
	uVar4 = ZEXT48(&toc);
	PrintQLString(0, 2, 1, (ulonglong)_DAT_100f36fc, 3, in_r8, in_r9, in_r10, in_stack_ffffffb8);
	CelDecodeOnly(0x40, 0x1ff, (ulonglong) * *(uint **)((int)uVar4 + -0x7700), 1, 0x140, uVar6, in_r9, in_r10,
	    in_stack_ffffffb8);
	iVar8 = 0;
	piVar9 = *(int **)((int)uVar4 + -0x6f70);
	iVar7 = **(int **)((int)uVar4 + -0x6f6c);
	while (iVar8 < *piVar2) {
		PrintQLString(0, iVar7, 1, (ulonglong) * (uint *)(iVar1 + *piVar9 * 0x14 + 0x10), 0,
		    CONCAT44(uVar5, uVar6), in_r9, in_r10, in_stack_ffffffb8);
		iVar7 = iVar7 + 2;
		piVar9 = piVar9 + 1;
		iVar8 = iVar8 + 1;
	}
	PrintQLString(0, 0x16, 1, (ulonglong) * (uint *)((int)uVar4 + -0x58d8), 0, CONCAT44(uVar5, uVar6), in_r9,
	    in_r10, in_stack_ffffffb8);
	*puVar3 = (*puVar3 & 7) + 1;
	return;
}

void FUN_1009d7a0(void)

{
	int *piVar1;
	int *piVar2;
	undefined *puVar3;
	undefined4 *puVar4;
	undefined *puVar5;
	int *piVar6;
	int iVar7;
	longlong lVar8;

	piVar2 = _DAT_100f2064;
	piVar1 = _DAT_100f205c;
	*_DAT_100f205c = 0;
	puVar3 = PTR_DAT_100f2068;
	lVar8 = 4;
	iVar7 = 0;
	piVar6 = _DAT_100f2060;
	puVar5 = PTR_DAT_100f19cc;
	do {
		if ((puVar5[2] == '\x02') && (*(int *)(puVar5 + 0x14) != 0)) {
			*piVar6 = iVar7;
			piVar6 = piVar6 + 1;
			*piVar1 = *piVar1 + 1;
		}
		if ((puVar5[0x1a] == '\x02') && (*(int *)(puVar5 + 0x2c) != 0)) {
			*piVar6 = iVar7 + 1;
			piVar6 = piVar6 + 1;
			*piVar1 = *piVar1 + 1;
		}
		if ((puVar5[0x32] == '\x02') && (*(int *)(puVar5 + 0x44) != 0)) {
			*piVar6 = iVar7 + 2;
			piVar6 = piVar6 + 1;
			*piVar1 = *piVar1 + 1;
		}
		if ((puVar5[0x4a] == '\x02') && (*(int *)(puVar5 + 0x5c) != 0)) {
			*piVar6 = iVar7 + 3;
			piVar6 = piVar6 + 1;
			*piVar1 = *piVar1 + 1;
		}
		puVar5 = puVar5 + 0x60;
		iVar7 = iVar7 + 4;
		lVar8 = lVar8 + -1;
	} while (lVar8 != 0);
	iVar7 = *piVar1;
	if (iVar7 < 6) {
		*piVar2 = 8;
	} else {
		*piVar2 = 5 - (iVar7 >> 1);
	}
	if (iVar7 == 0) {
		*(undefined4 *)puVar3 = 0x16;
	} else {
		*(int *)puVar3 = *piVar2;
	}
	puVar4 = _DAT_100f2078;
	*(undefined4 *)PTR_DAT_100f1808 = 1;
	*puVar4 = 1;
	return;
}

void QuestlogUp(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;

	if (*_DAT_100f205c != 0) {
		iVar1 = *(int *)PTR_DAT_100f2068;
		if (iVar1 == *_DAT_100f2064) {
			*(undefined4 *)PTR_DAT_100f2068 = 0x16;
		} else {
			if (iVar1 == 0x16) {
				*(int *)PTR_DAT_100f2068 = (*_DAT_100f205c + -1) * 2 + *_DAT_100f2064;
			} else {
				*(int *)PTR_DAT_100f2068 = iVar1 + -2;
			}
		}
		PlaySFX(0x45);
	}
	return;
}

void QuestlogDown(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;

	if (*_DAT_100f205c != 0) {
		iVar1 = *(int *)PTR_DAT_100f2068;
		if (iVar1 == 0x16) {
			*(int *)PTR_DAT_100f2068 = *_DAT_100f2064;
		} else {
			if (iVar1 == (*_DAT_100f205c + -1) * 2 + *_DAT_100f2064) {
				*(undefined4 *)PTR_DAT_100f2068 = 0x16;
			} else {
				*(int *)PTR_DAT_100f2068 = iVar1 + 2;
			}
		}
		PlaySFX(0x45);
	}
	return;
}

void QuestlogEnter(void)

{
	uint uVar1;
	undefined **ppuVar2;
	undefined8 in_r6;
	undefined8 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffc8;

	ppuVar2 = &toc;
	PlaySFX(0x46);
	if (*(int *)ppuVar2[-0x1bdd] != 0) {
		uVar1 = *(uint *)ppuVar2[-0x1bda];
		if (uVar1 != 0x16) {
			InitQTextMsg((uint)(byte)ppuVar2[-0x1d81]
			                                [*(int *)(ppuVar2[-0x1bdc] + ((int)(uVar1 - *(int *)ppuVar2[-0x1bdb]) >> 1) * 4) * 0x18 + 0xe],
			    ZEXT48(ppuVar2[-0x1bdc]), (ulonglong)uVar1, in_r6, in_r7, in_r8,
			    in_r9, in_r10, in_stack_ffffffc8);
		}
	}
	*(undefined4 *)ppuVar2[-0x1df2] = 0;
	return;
}

void QuestlogESC(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	int *piVar2;
	int *piVar3;
	undefined *puVar4;
	int iVar5;
	int iVar6;
	int iVar7;

	puVar4 = PTR_DAT_100f2068;
	piVar3 = _DAT_100f2064;
	piVar2 = _DAT_100f205c;
	uVar1 = (*(int *)PTR_DAT_100f1924 + -0x20) / 6 + (*(int *)PTR_DAT_100f1924 + -0x20 >> 0x1f) >> 1;
	iVar5 = uVar1 + (uVar1 >> 0x1f);
	if (*_DAT_100f205c != 0) {
		iVar6 = 0;
		iVar7 = 0;
		while (iVar6 < *piVar2) {
			if (iVar5 == iVar7 + *piVar3) {
				*(int *)puVar4 = iVar5;
				QuestlogEnter();
			}
			iVar7 = iVar7 + 2;
			iVar6 = iVar6 + 1;
		}
	}
	if (iVar5 == 0x16) {
		*(undefined4 *)puVar4 = 0x16;
		QuestlogEnter();
	}
	return;
}

void FUN_1009db1c(int param_1, undefined8 param_2, uint param_3, int param_4)

{
	byte bVar1;
	undefined *puVar2;

	puVar2 = PTR_DAT_100f19cc;
	bVar1 = PTR_DAT_100f19cc[param_1 * 0x18 + 2];
	if (bVar1 == 3) {
		return;
	}
	if ((int)(uint)bVar1 < (int)param_2) {
		PTR_DAT_100f19cc[param_1 * 0x18 + 2] = (byte)param_2;
	}
	puVar2 = puVar2 + param_1 * 0x18;
	*(uint *)(puVar2 + 0x14) = *(uint *)(puVar2 + 0x14) | param_3;
	if (param_4 <= (int)(uint)(byte)puVar2[0xf]) {
		return;
	}
	puVar2[0xf] = (char)param_4;
	return;
}

void FUN_100a2e08(void)

{
	_DAT_100f4428 = _DAT_100f4400;
	return;
}

int FUN_100a2e14(longlong lParm1, undefined8 uParm2)

{
	ulonglong uVar1;
	int iVar2;
	ulonglong uVar3;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	uVar1 = (ulonglong) * (uint *)PTR_DAT_100f1e3c;
	uVar3 = ZEXT48(PTR_DAT_100f1e40);
	if (0 < (int)*(uint *)PTR_DAT_100f1e3c) {
		do {
			iVar2 = *(int *)uVar3 * 0x78;
			if (((int)lParm1 == *(int *)(PTR_DAT_100f1948 + iVar2 + 4)) && ((int)uParm2 == *(int *)(PTR_DAT_100f1948 + iVar2 + 8))) {
				return *(int *)uVar3;
			}
			uVar3 = uVar3 + 4;
			uVar1 = uVar1 - 1;
		} while (uVar1 != 0);
	}
	app_fatal(_DAT_100f37a0, lParm1, uParm2, uVar3, ZEXT48(PTR_DAT_100f1948), (int)lParm1, in_r9, in_r10,
	    in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8, in_stack_ffffffdc,
	    in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8, in_stack_ffffffec,
	    in_stack_fffffff0, in_stack_fffffff4);
	return 0xffffffff;
}

void AddSKingObjs(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;

	iVar1 = FUN_100a2e14(0x40, 0x22, param_3, param_4, param_5, param_6, param_7, param_8);
	FUN_10084160(iVar1, 0x14, 7, 0x17, 10, 1);
	iVar1 = FUN_100a2e14(0x40, 0x3b);
	FUN_10084160(iVar1, 0x14, 0xe, 0x15, 0x10, 2);
	iVar1 = FUN_100a2e14(0x1b, 0x25);
	FUN_10084160(iVar1, 8, 1, 0xf, 0xb, 3);
	iVar1 = FUN_100a2e14(0x2e, 0x23);
	FUN_10084160(iVar1, 8, 1, 0xf, 0xb, 3);
	iVar1 = FUN_100a2e14(0x31, 0x35);
	FUN_10084160(iVar1, 8, 1, 0xf, 0xb, 3);
	iVar1 = FUN_100a2e14(0x1b, 0x35);
	FUN_10084160(iVar1, 8, 1, 0xf, 0xb, 3);
	return;
}

void AddSChamObjs(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;

	iVar1 = FUN_100a2e14(0x25, 0x1e, param_3, param_4, param_5, param_6, param_7, param_8);
	FUN_10084160(iVar1, 0x11, 0, 0x15, 5, 1);
	iVar1 = FUN_100a2e14(0x25, 0x2e);
	FUN_10084160(iVar1, 0xd, 0, 0x10, 5, 2);
	return;
}

void AddVileObjs(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;

	iVar1 = FUN_100a2e14(0x1a, 0x2d, param_3, param_4, param_5, param_6, param_7, param_8);
	FUN_10084160(iVar1, 1, 1, 9, 10, 1);
	iVar1 = FUN_100a2e14(0x2d, 0x2e);
	FUN_10084160(iVar1, 0xb, 1, 0x14, 10, 2);
	iVar1 = FUN_100a2e14(0x23, 0x24);
	FUN_10084160(iVar1, 7, 0xb, 0xd, 0x12, 3);
	return;
}

void DRLG_SetMapTrans(longlong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, int param_7, int param_8, undefined4 param_9)

{
	byte bVar1;
	int iVar2;
	uint uVar3;
	int iVar4;
	undefined *puVar5;
	uint uVar6;
	ulonglong uVar7;
	undefined8 uVar8;
	longlong lVar9;
	int iVar10;
	undefined uVar11;
	ulonglong uVar12;
	undefined uVar13;
	longlong lVar14;
	int iVar15;
	undefined uVar16;
	longlong lVar17;
	undefined *puVar18;
	byte *pbVar19;
	undefined uVar20;
	undefined uVar22;
	longlong lVar21;
	ulonglong uVar23;
	undefined uVar24;
	longlong lVar25;
	undefined4 in_stack_ffffffb8;
	int *local_14[5];

	puVar5 = PTR_DAT_100f1a48;
	uVar23 = SEXT48(param_8);
	lVar21 = (longlong)param_7;
	uVar8 = 0;
	uVar7 = LoadFileInMem(param_1, (undefined4 *)0x0, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	local_14[0] = (int *)uVar7;
	uVar7 = FUN_100b8f7c(uVar7 & 0xffffffff, uVar8, param_3, param_4, param_5, param_6, (int)lVar21,
	    (int)uVar23, in_stack_ffffffb8);
	bVar1 = *(byte *)uVar7;
	lVar14 = 0;
	uVar6 = (uint)((byte *)uVar7)[2];
	uVar3 = (uint)bVar1 * 2;
	uVar16 = (undefined)uVar3;
	iVar4 = uVar6 * 2;
	lVar9 = (ulonglong)(uVar3 * iVar4 * 2) * 3;
	uVar12 = (ulonglong)((uint)bVar1 * uVar6 * 2) + 2 + lVar9;
	lVar17 = uVar7 + 2 + uVar12;
	while (true) {
		uVar24 = (undefined)uVar23;
		uVar22 = (undefined)lVar21;
		uVar20 = (undefined)lVar17;
		iVar15._3_1_ = (undefined)lVar14;
		uVar13 = (undefined)uVar12;
		uVar11 = (undefined)lVar9;
		iVar15 = (int)lVar14;
		if (iVar4 <= iVar15)
			break;
		uVar12 = 0;
		if (bVar1 != 0) {
			if (8 < uVar3) {
				uVar7 = (ulonglong)(uVar3 - 1 >> 3);
				iVar10 = 0;
				if (0 < (int)(uVar3 - 8)) {
					do {
						uVar12 = uVar12 + 8;
						puVar18 = (undefined *)lVar17;
						*(undefined *)(iVar15 + *(int *)puVar5 + iVar10 + 0x710) = *puVar18;
						*(undefined *)(iVar15 + *(int *)puVar5 + iVar10 + 0x780) = puVar18[2];
						*(undefined *)(iVar15 + *(int *)puVar5 + iVar10 + 0x7f0) = puVar18[4];
						*(undefined *)(iVar15 + *(int *)puVar5 + iVar10 + 0x860) = puVar18[6];
						*(undefined *)(iVar15 + *(int *)puVar5 + iVar10 + 0x8d0) = puVar18[8];
						*(undefined *)(iVar15 + *(int *)puVar5 + iVar10 + 0x940) = puVar18[10];
						*(undefined *)(iVar15 + *(int *)puVar5 + iVar10 + 0x9b0) = puVar18[0xc];
						uVar23 = (ulonglong)(byte)puVar18[0xe];
						lVar17 = lVar17 + 0x10;
						iVar2 = *(int *)puVar5 + iVar10;
						iVar10 = iVar10 + 0x380;
						*(byte *)(iVar15 + iVar2 + 0xa20) = puVar18[0xe];
						uVar7 = uVar7 - 1;
					} while (uVar7 != 0);
				}
			}
			lVar21 = uVar12 * 0x70;
			lVar9 = (ulonglong)uVar3 - uVar12;
			lVar25 = lVar9;
			if ((int)uVar12 < (int)uVar3) {
				do {
					pbVar19 = (byte *)lVar17;
					uVar12 = (ulonglong)*pbVar19;
					lVar17 = lVar17 + 2;
					lVar9 = (ulonglong) * (uint *)puVar5 + lVar21;
					lVar21 = lVar21 + 0x70;
					lVar9 = lVar9 + 0x710;
					*(byte *)(iVar15 + (int)lVar9) = *pbVar19;
					lVar25 = lVar25 + -1;
				} while (lVar25 != 0);
			}
		}
		lVar14 = lVar14 + 1;
	}
	FUN_100b9100((int)local_14[0], uVar11, uVar13, (undefined)iVar15, uVar16, uVar20, uVar22, uVar24,
	    in_stack_ffffffb8);
	mem_free_dbg(local_14, uVar11, uVar13, (undefined)iVar15, uVar16, uVar20, uVar22, uVar24,
	    in_stack_ffffffb8);
	return;
}

void LoadSetMap(void)

{
	byte bVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined **ppuVar4;
	undefined **ppuVar5;
	undefined **ppuVar6;
	undefined uVar7;
	undefined8 uVar8;
	undefined uVar10;
	undefined8 uVar9;
	undefined8 in_r6;
	undefined uVar12;
	undefined uVar13;
	undefined8 uVar11;
	undefined7 uVar14;
	undefined8 in_r7;
	undefined uVar15;
	undefined4 in_r8;
	undefined uVar16;
	undefined4 in_r9;
	undefined uVar17;
	undefined4 in_r10;
	undefined uVar18;
	ulonglong uVar19;
	ulonglong uVar20;
	ulonglong uVar21;
	ulonglong uVar22;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;

	puVar2 = PTR_DAT_100f19cc;
	uVar15 = (undefined)in_r7;
	uVar14 = (undefined7)((ulonglong)in_r7 >> 8);
	ppuVar3 = &toc;
	ppuVar4 = &toc;
	ppuVar5 = &toc;
	ppuVar6 = &toc;
	uVar21 = (ulonglong)_DAT_100f3768;
	uVar20 = (ulonglong)_DAT_100f375c;
	uVar19 = (ulonglong)_DAT_100f3754;
	uVar22 = (ulonglong)_DAT_100f3794;
	bVar1 = *PTR_DAT_100f17f0;
	if (bVar1 == 3) {
		LoadPreL1Dungeon(uVar21, 0x14, 0x32, in_r6, in_r7, in_r8, in_r9, in_r10, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc, in_stack_ffffffd0);
		uVar8 = 0x14;
		uVar9 = 0x32;
		LoadL1Dungeon(ZEXT48(ppuVar5[-0x161b]));
		LoadPalette(ZEXT48(ppuVar5[-0x161c]), uVar8, uVar9, in_r6, CONCAT71(uVar14, uVar15), in_r8, in_r9,
		    in_r10, in_stack_ffffffb8);
		uVar8 = 0;
		uVar9 = 0x70;
		uVar11 = 0x70;
		AddL1Objs(0, 0, 0x70, 0x70, uVar15, (char)in_r8, (char)in_r9, (char)in_r10, in_stack_ffffffb8);
		DRLG_SetMapTrans(uVar21, uVar8, uVar9, uVar11, CONCAT71(uVar14, uVar15), in_r8, in_r9, in_r10,
		    in_stack_ffffffb8);
	} else {
		if (bVar1 < 3) {
			if (bVar1 == 1) {
				if (PTR_DAT_100f19cc[0x122] == '\x01') {
					PTR_DAT_100f19cc[0x122] = 2;
					puVar2[0x12f] = 1;
				}
				LoadPreL1Dungeon((ulonglong)_DAT_100f379c, 0x53, 0x2d, in_r6, in_r7, in_r8, in_r9, in_r10,
				    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc, in_stack_ffffffd0);
				uVar8 = 0x53;
				uVar9 = 0x2d;
				LoadL1Dungeon(ZEXT48(ppuVar3[-0x160e]));
				uVar18 = (undefined)in_r10;
				uVar17 = (undefined)in_r9;
				uVar16 = (undefined)in_r8;
				uVar12 = (undefined)in_r6;
				uVar7 = (undefined)uVar9;
				LoadPalette(uVar22, uVar8, uVar9, in_r6, CONCAT71(uVar14, uVar15), in_r8, in_r9, in_r10,
				    in_stack_ffffffb8);
				DRLG_AreaTrans(2, ppuVar3[-0x1610], uVar7, uVar12, uVar15, uVar16, uVar17, uVar18, in_stack_ffffffb8);
				DRLG_ListTrans(2, ppuVar3[-0x1611], uVar7, uVar12, uVar15, uVar16, uVar17, uVar18, in_stack_ffffffb8);
				DRLG_AreaTrans(5, ppuVar3[-0x1612], uVar7, uVar12, uVar15, uVar16, uVar17, uVar18, in_stack_ffffffb8);
				DRLG_ListTrans(7, ppuVar3[-0x1613], uVar7, uVar12, uVar15, uVar16, uVar17, uVar18, in_stack_ffffffb8);
				uVar12 = 0;
				uVar10 = 0x70;
				uVar13 = 0x70;
				uVar7 = AddL1Objs(0, 0, 0x70, 0x70, uVar15, uVar16, uVar17, uVar18, in_stack_ffffffb8);
				AddSKingObjs(uVar7, uVar12, uVar10, uVar13, uVar15, uVar16, uVar17, uVar18, in_stack_ffffffb8);
				InitSKingTriggers();
			} else {
				if (bVar1 != 0) {
					LoadPreL2Dungeon((ulonglong)_DAT_100f3780, 0x45, 0x27, in_r6, in_r7, in_r8, in_r9, in_r10,
					    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc, in_stack_ffffffd0);
					uVar8 = 0x45;
					uVar9 = 0x27;
					LoadL2Dungeon(ZEXT48(ppuVar4[-0x1615]), 0x45, 0x27, in_r6, CONCAT71(uVar14, uVar15), in_r8, in_r9,
					    in_r10, in_stack_ffffffb8);
					uVar18 = (undefined)in_r10;
					uVar17 = (undefined)in_r9;
					uVar16 = (undefined)in_r8;
					uVar12 = (undefined)in_r6;
					uVar7 = (undefined)uVar9;
					LoadPalette(ZEXT48(ppuVar4[-0x1616]), uVar8, uVar9, in_r6, CONCAT71(uVar14, uVar15), in_r8,
					    in_r9, in_r10, in_stack_ffffffb8);
					DRLG_ListTrans(5, ppuVar4[-0x1617], uVar7, uVar12, uVar15, uVar16, uVar17, uVar18, in_stack_ffffffb8);
					DRLG_AreaTrans(2, ppuVar4[-0x1618], uVar7, uVar12, uVar15, uVar16, uVar17, uVar18, in_stack_ffffffb8);
					DRLG_ListTrans(9, ppuVar4[-0x1619], uVar7, uVar12, uVar15, uVar16, uVar17, uVar18, in_stack_ffffffb8);
					uVar12 = 0;
					uVar10 = 0x70;
					uVar13 = 0x70;
					uVar7 = AddL2Objs(0, 0, 0x70, 0x70, uVar15, uVar16, uVar17, uVar18, in_stack_ffffffb8);
					AddSChamObjs(uVar7, uVar12, uVar10, uVar13, uVar15, uVar16, uVar17, uVar18, in_stack_ffffffb8);
					InitSChambTriggers();
				}
			}
		} else {
			if (bVar1 == 5) {
				if (PTR_DAT_100f19cc[0x16a] == '\x03') {
					PTR_DAT_100f19cc[0x178] = 4;
				} else {
					if (PTR_DAT_100f19cc[0x16a] == '\x02') {
						PTR_DAT_100f19cc[0x178] = 3;
					}
				}
				LoadPreL1Dungeon(uVar19, 0x23, 0x24, in_r6, in_r7, in_r8, in_r9, in_r10, in_stack_ffffffb8,
				    in_stack_ffffffbf, in_stack_ffffffcc, in_stack_ffffffd0);
				uVar8 = 0x23;
				uVar9 = 0x24;
				LoadL1Dungeon(ZEXT48(ppuVar6[-0x1620]));
				LoadPalette(uVar22, uVar8, uVar9, in_r6, CONCAT71(uVar14, uVar15), in_r8, in_r9, in_r10,
				    in_stack_ffffffb8);
				uVar8 = 0;
				uVar9 = 0x70;
				uVar11 = 0x70;
				uVar7 = AddL1Objs(0, 0, 0x70, 0x70, uVar15, (char)in_r8, (char)in_r9, (char)in_r10,
				    in_stack_ffffffb8);
				AddVileObjs(uVar7, (char)uVar8, (char)uVar9, (char)uVar11, uVar15, (char)in_r8, (char)in_r9,
				    (char)in_r10, in_stack_ffffffb8);
				DRLG_SetMapTrans(uVar19, uVar8, uVar9, uVar11, CONCAT71(uVar14, uVar15), in_r8, in_r9, in_r10,
				    in_stack_ffffffb8);
				InitNoTriggers();
			} else {
				if (bVar1 < 5) {
					if (PTR_DAT_100f19cc[0x13a] == '\x01') {
						PTR_DAT_100f19cc[0x13a] = '\x02';
					}
					LoadPreL3Dungeon(uVar20, 0x13, 0x32, in_r6, in_r7, in_r8, in_r9, in_r10, in_stack_ffffffb8,
					    in_stack_ffffffbf, in_stack_ffffffcc, in_stack_ffffffd0);
					uVar8 = 0x14;
					uVar9 = 0x32;
					LoadL3Dungeon(uVar20, 0x14, 0x32, in_r6, CONCAT71(uVar14, uVar15), in_r8, in_r9, in_r10,
					    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc, in_stack_ffffffd0);
					LoadPalette(ZEXT48(ppuVar5[-0x161e]), uVar8, uVar9, in_r6, CONCAT71(uVar14, uVar15), in_r8,
					    in_r9, in_r10, in_stack_ffffffb8);
					InitPWaterTriggers();
				}
			}
		}
	}
	return;
}

void FUN_100a34b4(void)

{
	_DAT_100f4430 = _DAT_100f442c;
	return;
}

void FUN_100a34c0(undefined4 *param_1)

{
	*param_1 = 0x67452301;
	param_1[1] = 0xefcdab89;
	param_1[2] = 0x98badcfe;
	param_1[3] = 0x10325476;
	param_1[4] = 0xc3d2e1f0;
	param_1[5] = 0;
	param_1[6] = 0;
	return;
}

void FUN_100a350c(uint *param_1)

{
	byte *pbVar1;
	byte *pbVar2;
	byte *pbVar3;
	int *piVar4;
	int *piVar5;
	uint *puVar6;
	uint uVar7;
	uint uVar8;
	uint uVar9;
	uint *puVar10;
	uint uVar11;
	uint uVar12;
	uint *puVar13;
	int *piVar14;
	uint uVar15;
	uint uVar16;
	uint *puVar17;
	uint uVar18;
	longlong lVar19;
	longlong lVar20;
	uint local_160[16];
	uint local_120[4];
	int local_110[20];
	int local_c0[20];
	int local_70[28];

	lVar19 = 2;
	puVar13 = local_160;
	puVar17 = puVar13;
	puVar10 = param_1;
	do {
		*puVar17 = (uint) * (byte *)((int)puVar10 + 0x1f) << 0x18 | (uint) * (byte *)((int)puVar10 + 0x1e) << 0x10 | (uint) * (byte *)((int)puVar10 + 0x1d) << 8 | (uint) * (byte *)(puVar10 + 7);
		puVar17[1] = (uint) * (byte *)((int)puVar10 + 0x23) << 0x18 | (uint) * (byte *)((int)puVar10 + 0x22) << 0x10 | (uint) * (byte *)((int)puVar10 + 0x21) << 8 | (uint) * (byte *)(puVar10 + 8);
		puVar17[2] = (uint) * (byte *)((int)puVar10 + 0x27) << 0x18 | (uint) * (byte *)((int)puVar10 + 0x26) << 0x10 | (uint) * (byte *)((int)puVar10 + 0x25) << 8 | (uint) * (byte *)(puVar10 + 9);
		puVar17[3] = (uint) * (byte *)((int)puVar10 + 0x2b) << 0x18 | (uint) * (byte *)((int)puVar10 + 0x2a) << 0x10 | (uint) * (byte *)((int)puVar10 + 0x29) << 8 | (uint) * (byte *)(puVar10 + 10);
		puVar17[4] = (uint) * (byte *)((int)puVar10 + 0x2f) << 0x18 | (uint) * (byte *)((int)puVar10 + 0x2e) << 0x10 | (uint) * (byte *)((int)puVar10 + 0x2d) << 8 | (uint) * (byte *)(puVar10 + 0xb);
		puVar17[5] = (uint) * (byte *)((int)puVar10 + 0x33) << 0x18 | (uint) * (byte *)((int)puVar10 + 0x32) << 0x10 | (uint) * (byte *)((int)puVar10 + 0x31) << 8 | (uint) * (byte *)(puVar10 + 0xc);
		puVar6 = puVar10 + 0xe;
		puVar17[6] = (uint) * (byte *)((int)puVar10 + 0x37) << 0x18 | (uint) * (byte *)((int)puVar10 + 0x36) << 0x10 | (uint) * (byte *)((int)puVar10 + 0x35) << 8 | (uint) * (byte *)(puVar10 + 0xd);
		pbVar1 = (byte *)((int)puVar10 + 0x3b);
		pbVar2 = (byte *)((int)puVar10 + 0x3a);
		pbVar3 = (byte *)((int)puVar10 + 0x39);
		puVar10 = puVar10 + 8;
		puVar17[7] = (uint)*pbVar1 << 0x18 | (uint)*pbVar2 << 0x10 | (uint)*pbVar3 << 8 | (uint) * (byte *)puVar6;
		puVar17 = puVar17 + 8;
		lVar19 = lVar19 + -1;
	} while (lVar19 != 0);
	puVar17 = local_120;
	lVar19 = 8;
	do {
		*puVar17 = puVar17[-0x10] ^ puVar17[-0xe] ^ puVar17[-3] ^ puVar17[-8];
		puVar17[1] = puVar17[-0xf] ^ puVar17[-0xd] ^ puVar17[-2] ^ puVar17[-7];
		puVar17[2] = puVar17[-0xe] ^ puVar17[-0xc] ^ puVar17[-1] ^ puVar17[-6];
		puVar17[3] = puVar17[-0xd] ^ puVar17[-0xb] ^ *puVar17 ^ puVar17[-5];
		puVar17[4] = puVar17[-0xc] ^ puVar17[-10] ^ puVar17[1] ^ puVar17[-4];
		puVar17[5] = puVar17[-0xb] ^ puVar17[-9] ^ puVar17[2] ^ puVar17[-3];
		puVar17[6] = puVar17[-10] ^ puVar17[-8] ^ puVar17[3] ^ puVar17[-2];
		puVar17[7] = puVar17[-9] ^ puVar17[-7] ^ puVar17[4] ^ puVar17[-1];
		puVar17 = puVar17 + 8;
		lVar19 = lVar19 + -1;
	} while (lVar19 != 0);
	uVar18 = *param_1;
	lVar20 = 2;
	uVar12 = param_1[1];
	uVar15 = param_1[2];
	uVar7 = param_1[3];
	uVar9 = param_1[4];
	lVar19 = 0;
	do {
		uVar11 = uVar12 << 0x1e | (int)uVar12 >> 2;
		uVar12 = (uVar18 << 5 | (int)uVar18 >> 0x1b) + (uVar12 & uVar15 | uVar7 & ~uVar12) + uVar9 + *puVar13 + 0x5a827999;
		uVar16 = (uVar12 * 0x20 | (int)uVar12 >> 0x1b) + (uVar18 & uVar11 | uVar15 & ~uVar18) + uVar7 + puVar13[1] + 0x5a827999;
		uVar9 = uVar18 << 0x1e | (int)uVar18 >> 2;
		uVar7 = uVar12 * 0x40000000 | (int)uVar12 >> 2;
		uVar8 = (uVar16 * 0x20 | (int)uVar16 >> 0x1b) + (uVar12 & uVar9 | uVar11 & ~uVar12) + uVar15 + puVar13[2] + 0x5a827999;
		uVar12 = (uVar8 * 0x20 | (int)uVar8 >> 0x1b) + (uVar16 & uVar7 | uVar9 & ~uVar16) + uVar11 + puVar13[3] + 0x5a827999;
		uVar18 = uVar16 * 0x40000000 | (int)uVar16 >> 2;
		uVar15 = uVar8 * 0x40000000 | (int)uVar8 >> 2;
		uVar8 = (uVar12 * 0x20 | (int)uVar12 >> 0x1b) + (uVar8 & uVar18 | uVar7 & ~uVar8) + uVar9 + puVar13[4] + 0x5a827999;
		uVar11 = (uVar8 * 0x20 | (int)uVar8 >> 0x1b) + (uVar12 & uVar15 | uVar18 & ~uVar12) + uVar7 + puVar13[5] + 0x5a827999;
		puVar17 = puVar13 + 6;
		puVar10 = puVar13 + 7;
		uVar9 = uVar12 * 0x40000000 | (int)uVar12 >> 2;
		puVar13 = puVar13 + 8;
		lVar19 = lVar19 + 8;
		uVar7 = uVar8 * 0x40000000 | (int)uVar8 >> 2;
		uVar12 = (uVar11 * 0x20 | (int)uVar11 >> 0x1b) + (uVar8 & uVar9 | uVar15 & ~uVar8) + uVar18 + *puVar17 + 0x5a827999;
		uVar18 = (uVar12 * 0x20 | (int)uVar12 >> 0x1b) + (uVar11 & uVar7 | uVar9 & ~uVar11) + uVar15 + *puVar10 + 0x5a827999;
		uVar15 = uVar11 * 0x40000000 | (int)uVar11 >> 2;
		lVar20 = lVar20 + -1;
	} while (lVar20 != 0);
	puVar17 = local_160 + (int)lVar19;
	lVar20 = 0x14 - lVar19;
	uVar11 = uVar12;
	uVar8 = uVar9;
	if ((int)lVar19 < 0x14) {
		do {
			uVar9 = uVar7;
			uVar7 = uVar15;
			uVar12 = uVar18;
			uVar18 = *puVar17;
			puVar17 = puVar17 + 1;
			uVar18 = (uVar12 << 5 | (int)uVar12 >> 0x1b) + (uVar11 & uVar7 | uVar9 & ~uVar11) + uVar8 + uVar18 + 0x5a827999;
			uVar15 = uVar11 << 0x1e | (int)uVar11 >> 2;
			lVar20 = lVar20 + -1;
			uVar11 = uVar12;
			uVar8 = uVar9;
		} while (lVar20 != 0);
	}
	piVar14 = local_110;
	lVar20 = 2;
	lVar19 = 0x14;
	do {
		uVar11 = uVar12 << 0x1e | (int)uVar12 >> 2;
		uVar12 = (uVar18 << 5 | (int)uVar18 >> 0x1b) + (uVar7 ^ uVar12 ^ uVar15) + uVar9 + *piVar14 + 0x6ed9eba1;
		uVar16 = (uVar12 * 0x20 | (int)uVar12 >> 0x1b) + (uVar15 ^ uVar18 ^ uVar11) + uVar7 + piVar14[1] + 0x6ed9eba1;
		uVar9 = uVar18 << 0x1e | (int)uVar18 >> 2;
		uVar7 = uVar12 * 0x40000000 | (int)uVar12 >> 2;
		uVar8 = (uVar16 * 0x20 | (int)uVar16 >> 0x1b) + (uVar11 ^ uVar12 ^ uVar9) + uVar15 + piVar14[2] + 0x6ed9eba1;
		uVar12 = (uVar8 * 0x20 | (int)uVar8 >> 0x1b) + (uVar9 ^ uVar16 ^ uVar7) + uVar11 + piVar14[3] + 0x6ed9eba1;
		uVar18 = uVar16 * 0x40000000 | (int)uVar16 >> 2;
		uVar15 = uVar8 * 0x40000000 | (int)uVar8 >> 2;
		uVar8 = (uVar12 * 0x20 | (int)uVar12 >> 0x1b) + (uVar7 ^ uVar8 ^ uVar18) + uVar9 + piVar14[4] + 0x6ed9eba1;
		uVar11 = (uVar8 * 0x20 | (int)uVar8 >> 0x1b) + (uVar18 ^ uVar12 ^ uVar15) + uVar7 + piVar14[5] + 0x6ed9eba1;
		piVar4 = piVar14 + 6;
		piVar5 = piVar14 + 7;
		uVar9 = uVar12 * 0x40000000 | (int)uVar12 >> 2;
		piVar14 = piVar14 + 8;
		lVar19 = lVar19 + 8;
		uVar7 = uVar8 * 0x40000000 | (int)uVar8 >> 2;
		uVar12 = (uVar11 * 0x20 | (int)uVar11 >> 0x1b) + (uVar15 ^ uVar8 ^ uVar9) + uVar18 + *piVar4 + 0x6ed9eba1;
		uVar18 = (uVar12 * 0x20 | (int)uVar12 >> 0x1b) + (uVar9 ^ uVar11 ^ uVar7) + uVar15 + *piVar5 + 0x6ed9eba1;
		uVar15 = uVar11 * 0x40000000 | (int)uVar11 >> 2;
		lVar20 = lVar20 + -1;
	} while (lVar20 != 0);
	puVar17 = local_160 + (int)lVar19;
	lVar20 = 0x28 - lVar19;
	uVar11 = uVar7;
	uVar8 = uVar9;
	uVar16 = uVar12;
	if ((int)lVar19 < 0x28) {
		do {
			uVar12 = uVar18;
			uVar7 = uVar15;
			uVar9 = uVar11;
			uVar18 = *puVar17;
			puVar17 = puVar17 + 1;
			uVar18 = (uVar12 << 5 | (int)uVar12 >> 0x1b) + (uVar9 ^ uVar16 ^ uVar7) + uVar8 + uVar18 + 0x6ed9eba1;
			uVar15 = uVar16 << 0x1e | (int)uVar16 >> 2;
			lVar20 = lVar20 + -1;
			uVar11 = uVar7;
			uVar8 = uVar9;
			uVar16 = uVar12;
		} while (lVar20 != 0);
	}
	piVar14 = local_c0;
	lVar20 = 2;
	lVar19 = 0x28;
	do {
		uVar11 = uVar12 << 0x1e | (int)uVar12 >> 2;
		uVar12 = (uVar18 << 5 | (int)uVar18 >> 0x1b) + (uVar15 & uVar7 | uVar12 & (uVar15 | uVar7)) + uVar9 + *piVar14 + -0x70e44324;
		uVar16 = (uVar12 * 0x20 | (int)uVar12 >> 0x1b) + (uVar11 & uVar15 | uVar18 & (uVar11 | uVar15)) + uVar7 + piVar14[1] + -0x70e44324;
		uVar9 = uVar18 << 0x1e | (int)uVar18 >> 2;
		uVar7 = uVar12 * 0x40000000 | (int)uVar12 >> 2;
		uVar8 = (uVar16 * 0x20 | (int)uVar16 >> 0x1b) + (uVar9 & uVar11 | uVar12 & (uVar9 | uVar11)) + uVar15 + piVar14[2] + -0x70e44324;
		uVar12 = (uVar8 * 0x20 | (int)uVar8 >> 0x1b) + (uVar7 & uVar9 | uVar16 & (uVar7 | uVar9)) + uVar11 + piVar14[3] + -0x70e44324;
		uVar18 = uVar16 * 0x40000000 | (int)uVar16 >> 2;
		uVar15 = uVar8 * 0x40000000 | (int)uVar8 >> 2;
		uVar8 = (uVar12 * 0x20 | (int)uVar12 >> 0x1b) + (uVar18 & uVar7 | uVar8 & (uVar18 | uVar7)) + uVar9 + piVar14[4] + -0x70e44324;
		uVar11 = (uVar8 * 0x20 | (int)uVar8 >> 0x1b) + (uVar15 & uVar18 | uVar12 & (uVar15 | uVar18)) + uVar7 + piVar14[5] + -0x70e44324;
		piVar4 = piVar14 + 6;
		piVar5 = piVar14 + 7;
		uVar9 = uVar12 * 0x40000000 | (int)uVar12 >> 2;
		piVar14 = piVar14 + 8;
		lVar19 = lVar19 + 8;
		uVar7 = uVar8 * 0x40000000 | (int)uVar8 >> 2;
		uVar12 = (uVar11 * 0x20 | (int)uVar11 >> 0x1b) + (uVar9 & uVar15 | uVar8 & (uVar9 | uVar15)) + uVar18 + *piVar4 + -0x70e44324;
		uVar18 = (uVar12 * 0x20 | (int)uVar12 >> 0x1b) + (uVar7 & uVar9 | uVar11 & (uVar7 | uVar9)) + uVar15 + *piVar5 + -0x70e44324;
		uVar15 = uVar11 * 0x40000000 | (int)uVar11 >> 2;
		lVar20 = lVar20 + -1;
	} while (lVar20 != 0);
	puVar17 = local_160 + (int)lVar19;
	lVar20 = 0x3c - lVar19;
	uVar11 = uVar12;
	uVar8 = uVar9;
	uVar16 = uVar7;
	if ((int)lVar19 < 0x3c) {
		do {
			uVar7 = uVar15;
			uVar9 = uVar16;
			uVar12 = uVar18;
			uVar18 = *puVar17;
			puVar17 = puVar17 + 1;
			uVar18 = (uVar12 << 5 | (int)uVar12 >> 0x1b) + (uVar7 & uVar9 | uVar11 & (uVar7 | uVar9)) + uVar8 + uVar18 + -0x70e44324;
			uVar15 = uVar11 << 0x1e | (int)uVar11 >> 2;
			lVar20 = lVar20 + -1;
			uVar11 = uVar12;
			uVar8 = uVar9;
			uVar16 = uVar7;
		} while (lVar20 != 0);
	}
	piVar14 = local_70;
	lVar20 = 2;
	lVar19 = 0x3c;
	do {
		uVar11 = uVar12 << 0x1e | (int)uVar12 >> 2;
		uVar12 = (uVar18 << 5 | (int)uVar18 >> 0x1b) + (uVar7 ^ uVar12 ^ uVar15) + uVar9 + *piVar14 + -0x359d3e2a;
		uVar16 = (uVar12 * 0x20 | (int)uVar12 >> 0x1b) + (uVar15 ^ uVar18 ^ uVar11) + uVar7 + piVar14[1] + -0x359d3e2a;
		uVar9 = uVar18 << 0x1e | (int)uVar18 >> 2;
		uVar7 = uVar12 * 0x40000000 | (int)uVar12 >> 2;
		uVar8 = (uVar16 * 0x20 | (int)uVar16 >> 0x1b) + (uVar11 ^ uVar12 ^ uVar9) + uVar15 + piVar14[2] + -0x359d3e2a;
		uVar12 = (uVar8 * 0x20 | (int)uVar8 >> 0x1b) + (uVar9 ^ uVar16 ^ uVar7) + uVar11 + piVar14[3] + -0x359d3e2a;
		uVar18 = uVar16 * 0x40000000 | (int)uVar16 >> 2;
		uVar15 = uVar8 * 0x40000000 | (int)uVar8 >> 2;
		uVar8 = (uVar12 * 0x20 | (int)uVar12 >> 0x1b) + (uVar7 ^ uVar8 ^ uVar18) + uVar9 + piVar14[4] + -0x359d3e2a;
		uVar11 = (uVar8 * 0x20 | (int)uVar8 >> 0x1b) + (uVar18 ^ uVar12 ^ uVar15) + uVar7 + piVar14[5] + -0x359d3e2a;
		piVar4 = piVar14 + 6;
		piVar5 = piVar14 + 7;
		uVar9 = uVar12 * 0x40000000 | (int)uVar12 >> 2;
		piVar14 = piVar14 + 8;
		lVar19 = lVar19 + 8;
		uVar7 = uVar8 * 0x40000000 | (int)uVar8 >> 2;
		uVar12 = (uVar11 * 0x20 | (int)uVar11 >> 0x1b) + (uVar15 ^ uVar8 ^ uVar9) + uVar18 + *piVar4 + -0x359d3e2a;
		uVar18 = (uVar12 * 0x20 | (int)uVar12 >> 0x1b) + (uVar9 ^ uVar11 ^ uVar7) + uVar15 + *piVar5 + -0x359d3e2a;
		uVar15 = uVar11 * 0x40000000 | (int)uVar11 >> 2;
		lVar20 = lVar20 + -1;
	} while (lVar20 != 0);
	puVar17 = local_160 + (int)lVar19;
	lVar20 = 0x50 - lVar19;
	uVar11 = uVar12;
	uVar8 = uVar9;
	uVar16 = uVar7;
	if ((int)lVar19 < 0x50) {
		do {
			uVar7 = uVar15;
			uVar9 = uVar16;
			uVar12 = uVar18;
			uVar18 = *puVar17;
			puVar17 = puVar17 + 1;
			uVar18 = (uVar12 << 5 | (int)uVar12 >> 0x1b) + (uVar9 ^ uVar11 ^ uVar7) + uVar8 + uVar18 + -0x359d3e2a;
			uVar15 = uVar11 << 0x1e | (int)uVar11 >> 2;
			lVar20 = lVar20 + -1;
			uVar11 = uVar12;
			uVar8 = uVar9;
			uVar16 = uVar7;
		} while (lVar20 != 0);
	}
	*param_1 = *param_1 + uVar18;
	param_1[1] = param_1[1] + uVar12;
	param_1[2] = param_1[2] + uVar15;
	param_1[3] = param_1[3] + uVar7;
	param_1[4] = param_1[4] + uVar9;
	return;
}

// WARNING: Removing unreachable block (ram,0x100a422c)

void FUN_100a4200(uint *param_1, undefined8 param_2, int param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	longlong lVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	undefined in_stack_ffffffbb;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	lVar5 = (longlong)param_8;
	lVar4 = (longlong)param_7;
	lVar3 = (longlong)param_6;
	lVar2 = (longlong)param_5;
	lVar1 = (longlong)param_4;
	param_1[5] = param_1[5] + param_3 * 8;
	param_1[6] = param_1[6] + (param_3 >> 0x1d);
	while (0x3f < param_3) {
		memcpy((char)param_1 + '\x1c', (char)param_2, 0x40, (char)lVar1, (char)lVar2, (char)lVar3,
		    (char)lVar4, (char)lVar5, in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
		FUN_100a350c(param_1);
		param_2._7_1_ = (char)param_2 + '@';
		param_3 = param_3 + -0x40;
	}
	return;
}

void FUN_100a42a0(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	memset((char)_DAT_100f37a4, 0x14, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	return;
}

void FUN_100a42cc(int param_1, uint *param_2)

{
	uint uVar1;
	uint *puVar2;

	if (param_2 == (uint *)0x0) {
		return;
	}
	puVar2 = (uint *)(_DAT_100f37a4 + param_1 * 0x5c);
	uVar1 = *puVar2;
	*param_2 = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	uVar1 = puVar2[1];
	param_2[1] = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	uVar1 = puVar2[2];
	param_2[2] = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	uVar1 = puVar2[3];
	param_2[3] = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	uVar1 = puVar2[4];
	param_2[4] = uVar1 << 0x18 | (uVar1 & 0xff00) << 8 | uVar1 >> 8 & 0xff00 | uVar1 >> 0x18;
	return;
}

void FUN_100a4358(int param_1, undefined8 param_2, uint *param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	FUN_100a4200((uint *)(_DAT_100f37a4 + param_1 * 0x5c), param_2, 0x40, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	if (param_3 != (uint *)0x0) {
		FUN_100a42cc(param_1, param_3);
	}
	return;
}

void FUN_100a43b4(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	FUN_100a34c0((undefined4 *)(_DAT_100f37a4 + param_1 * 0x5c));
	return;
}

void FUN_100a43e0(void)

{
	_DAT_100f4438 = _DAT_100f4434;
	return;
}

void snd_update(int param_1, char param_2, char param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	uint uVar9;
	int *piVar10;
	undefined in_stack_ffffffbb;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;
	int local_18;

	lVar8 = (longlong)param_8;
	lVar7 = (longlong)param_7;
	lVar6 = (longlong)param_6;
	lVar5 = (longlong)param_5;
	lVar4 = (longlong)param_4;
	lVar3 = (longlong)param_3;
	lVar2 = (longlong)param_2;
	uVar9 = 0;
	piVar10 = _DAT_100f37c0;
	do {
		if (*piVar10 != 0) {
			if (param_1 == 0) {
				lVar2 = -0x18;
				iVar1 = GetStatus__18IDirectSoundBufferFPUl((char)*piVar10, 0xe8, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6,
				    (char)lVar7, (char)lVar8, in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
				if ((iVar1 == 0) && (local_18 == 1))
					goto LAB_100a4464;
			}
			Stop__18IDirectSoundBufferFv((char)*piVar10, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6,
			    (char)lVar7, (char)lVar8, in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
			Release__18IDirectSoundBufferFv((char)*piVar10, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6,
			    (char)lVar7, (char)lVar8, in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
			*piVar10 = 0;
		}
	LAB_100a4464:
		uVar9 = uVar9 + 1;
		piVar10 = piVar10 + 1;
		if (7 < uVar9) {
			return;
		}
	} while (true);
}

ulonglong sound_dup_channel(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar2;
	ulonglong uVar1;
	longlong lVar3;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	if (*PTR_DAT_100f208c != '\0') {
		lVar3 = 8;
		iVar2 = 0;
		uVar1 = (ulonglong)_DAT_100f37c0;
		do {
			if (*(int *)uVar1 == 0) {
				lVar3 = (ulonglong)_DAT_100f37c0 + (ulonglong)(uint)(iVar2 << 2);
				iVar2 = DuplicateSoundBuffer__12IDirectSoundFP18IDirectSoundBufferPP18IDirectSoundBuffer((char)_DAT_100f445c, param_1, (char)lVar3, (char)_DAT_100f37c0, param_5,
				    param_6, param_7, param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
				if (iVar2 == 0) {
					return (ulonglong) * (uint *)lVar3;
				}
				return 0;
			}
			uVar1 = uVar1 + 4;
			iVar2 = iVar2 + 1;
			lVar3 = lVar3 + -1;
		} while (lVar3 != 0);
	}
	return 0;
}

void sound_load_volume(undefined8 param_1, int *param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	int iVar2;
	undefined4 uVar3;
	int iVar4;

	iVar2 = (int)(ZEXT48(register0x0000000c) - 0x50);
	*(BADSPACEBASE **)iVar2 = register0x0000000c;
	uVar3 = _DAT_100f37bc;
	*(int *)(iVar2 + 0x38) = *param_2;
	iVar4 = SRegLoadValue((char)uVar3, (undefined)param_1, 0,
	    (char)(ZEXT48(register0x0000000c) - 0x50) + '8', param_5, param_6, param_7,
	    param_8, *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf),
	    *(undefined4 *)(iVar2 + 0x14));
	if (iVar4 == 0) {
		*(undefined4 *)(iVar2 + 0x38) = 0;
	}
	*param_2 = *(int *)(iVar2 + 0x38);
	if (*param_2 < -0x640) {
		*param_2 = -0x640;
	} else {
		if (0 < *param_2) {
			*param_2 = 0;
		}
	}
	uVar1 = *param_2 / 100 + (*param_2 >> 0x1f);
	*param_2 = (uVar1 + (uVar1 >> 0x1f)) * 100;
	return;
}

void sound_store_volume(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	SRegSaveValue((char)_DAT_100f37bc, param_1, 0, param_2, param_5, param_6, param_7, param_8,
	    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	return;
}

undefined8
sound_file_reload(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	int iVar2;
	undefined8 uVar1;
	undefined uVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 local_4c;
	undefined uStack37;
	uint local_24;
	undefined uStack29;
	uint local_1c;
	uint local_18;

	iVar2 = Restore__18IDirectSoundBufferFv((undefined)param_2, (undefined)param_2, (undefined)param_3, (char)param_4,
	    (char)param_5, (char)param_6, (char)param_7, (char)param_8, (char)in_stack_ffffffa8, in_stack_ffffffaf, local_4c);
	if (iVar2 == 0) {
		uVar1 = 0;
		WOpenFile((ulonglong) * (uint *)(param_1 + 0x1c), ZEXT48(register0x0000000c) - 0x18, 0, param_4,
		    param_5, param_6, param_7, param_8, in_stack_ffffffa8);
		WSetFilePointer(local_18, (ulonglong) * (uint *)(param_1 + 0x18), 0, 0, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8);
		uVar4 = (undefined) * (undefined4 *)(param_1 + 0x14);
		uVar5 = 0xe4;
		uVar6 = 0xdc;
		uVar7 = 0xe0;
		uVar8 = 0xd8;
		uVar3 = 0;
		uVar9 = 0;
		iVar2 = Lock__18IDirectSoundBufferFUlUlPvPUlPvPUlUl((undefined)param_2, 0, uVar4, 0xe4, 0xdc, 0xe0, 0xd8, 0, (char)in_stack_ffffffa8,
		    in_stack_ffffffaf, local_4c);
		if (iVar2 == 0) {
			WReadFile((ulonglong)local_18, (ulonglong)local_1c, (ulonglong)local_24);
			uVar3 = (undefined)local_1c;
			uVar4 = (undefined)local_24;
			uVar5 = uStack29;
			uVar6 = uStack37;
			iVar2 = Unlock__18IDirectSoundBufferFPvUlPvUl((undefined)param_2, uVar3, uVar4, uStack29, uStack37, uVar7, uVar8, uVar9,
			    (char)in_stack_ffffffa8, in_stack_ffffffaf, local_4c);
			if (iVar2 == 0) {
				uVar1 = 1;
			}
		}
		WCloseFile((char)local_18, uVar3, uVar4, uVar5, uVar6, uVar7, uVar8, uVar9, in_stack_ffffffa8);
	} else {
		uVar1 = 0;
	}
	return uVar1;
}

void snd_stop_snd(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	if ((param_1 != 0) && (*(int *)(param_1 + 0x20) != 0)) {
		Stop__18IDirectSoundBufferFv((char)*(int *)(param_1 + 0x20), param_2, param_3, param_4, param_5, param_6, param_7,
		    param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	}
	return;
}

ulonglong snd_playing(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined8 uVar2;
	ulonglong uVar3;
	int iVar4;

	iVar1 = (int)(ZEXT48(register0x0000000c) - 0x40);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	if (param_1 == 0) {
		uVar3 = 0;
	} else {
		if (*(int *)(param_1 + 0x20) == 0) {
			uVar3 = 0;
		} else {
			iVar4 = GetStatus__18IDirectSoundBufferFPUl((char)*(int *)(param_1 + 0x20),
			    (char)(ZEXT48(register0x0000000c) - 0x40) + '8', param_3, param_4, param_5,
			    param_6, param_7, param_8, *(undefined *)(iVar1 + 0xb),
			    *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14));
			if (iVar4 == 0) {
				uVar2 = countLeadingZeros(1 - *(int *)(iVar1 + 0x38));
				uVar3 = (ulonglong)((uint)uVar2 >> 5 & 0xff);
			} else {
				uVar3 = 0;
			}
		}
	}
	return uVar3;
}

void snd_play_snd(int iParm1, longlong lParm2, undefined param_3, undefined param_4, undefined8 uParm5,
    undefined4 uParm6, undefined4 uParm7, undefined4 uParm8)

{
	longlong lVar1;
	ulonglong uVar2;
	undefined uVar4;
	longlong lVar3;
	undefined uVar5;
	undefined uVar7;
	undefined8 uVar6;
	undefined8 uVar8;
	undefined7 uVar9;
	undefined uVar10;
	undefined uVar11;
	int iVar12;
	ulonglong uVar13;
	undefined4 in_stack_ffffffb8;
	undefined uVar14;
	undefined in_stack_ffffffbf;
	int local_3c;
	int iVar15;

	uVar10 = (undefined)uParm5;
	uVar9 = (undefined7)((ulonglong)uParm5 >> 8);
	uVar5 = (undefined)lParm2;
	if (((iParm1 != 0) && (*_DAT_100f1d18 != '\0')) && (uVar13 = (ulonglong) * (uint *)(iParm1 + 0x20), *(uint *)(iParm1 + 0x20) != 0)) {
		uVar7 = param_3;
		lVar1 = GetTickCount((char)_DAT_100f1d18, uVar5, param_3, param_4, uVar10, (char)uParm6, (char)uParm7,
		    (char)uParm8, (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
		if ((lVar1 - (ulonglong) * (uint *)(iParm1 + 0x24) & 0xffffffff) < 0x50) {
			GetTickCount((char)lVar1, uVar5, uVar7, param_4, uVar10, (char)uParm6, (char)uParm7, (char)uParm8,
			    (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
		} else {
			iVar15 = local_3c;
			uVar2 = snd_playing(iParm1, uVar5, uVar7, param_4, uVar10, (char)uParm6, (char)uParm7, (char)uParm8,
			    in_stack_ffffffb8);
			if (((int)uVar2 == 0) || (uVar13 = sound_dup_channel((char)*(undefined4 *)(iParm1 + 0x20), uVar5, uVar7, param_4, uVar10, (char)uParm6, (char)uParm7, (char)uParm8, in_stack_ffffffb8), uVar13 != 0)) {
				lParm2 = lParm2 + (ulonglong) * (uint *)(local_3c + -0x4b6c);
				uVar5 = (undefined)lParm2;
				iVar12 = (int)lParm2;
				if (iVar12 < -0x640) {
					uVar5 = 0xc0;
				} else {
					if (0 < iVar12) {
						uVar5 = 0;
					}
				}
				uVar4 = (undefined)uVar13;
				SetVolume(uVar4, uVar5, uVar7, param_4, uVar10, (char)uParm6, (char)uParm7, (char)uParm8,
				    (char)in_stack_ffffffb8, in_stack_ffffffbf, iVar15);
				SetPan__18IDirectSoundBufferFl(uVar4, param_3, uVar7, param_4, uVar10, (char)uParm6, (char)uParm7, (char)uParm8,
				    (char)in_stack_ffffffb8, in_stack_ffffffbf, iVar15);
				uVar6 = 0;
				uVar8 = 0;
				lVar3 = Play__18IDirectSoundBufferFUlUlUl(uVar4, 0, 0, 0, uVar10, (char)uParm6, (char)uParm7, (char)uParm8,
				    (char)in_stack_ffffffb8, in_stack_ffffffbf, iVar15);
				uVar14 = (undefined)in_stack_ffffffb8;
				uVar11 = (undefined)uParm8;
				uVar7 = (undefined)uParm7;
				uVar5 = (undefined)uParm6;
				if ((lVar3 + 0x77880000U & 0xffffffff) == 0x96) {
					uVar6 = sound_file_reload(iParm1, uVar13, uVar6, uVar8, CONCAT71(uVar9, uVar10), uParm6, uParm7, uParm8, in_stack_ffffffb8);
					if ((int)uVar6 != 0) {
						Play__18IDirectSoundBufferFUlUlUl(uVar4, 0, 0, 0, uVar10, uVar5, uVar7, uVar11, uVar14, in_stack_ffffffbf, iVar15);
					}
				} else {
					if ((int)lVar3 != 0) {
						DSErrMsg(lVar3, 0x128, (ulonglong) * (uint *)(iVar15 + -0x5818), uVar8,
						    CONCAT71(uVar9, uVar10), uParm6, uParm7, uParm8, in_stack_ffffffb8);
					}
				}
				*(undefined4 *)(iParm1 + 0x24) = (int)lVar1;
			}
		}
	}
	return;
}

void sound_CreateSoundBuffer(undefined8 uParm1, undefined8 uParm2, undefined param_3, undefined param_4,
    undefined8 uParm5, undefined4 uParm6, undefined4 uParm7, undefined4 uParm8)

{
	undefined4 uVar1;
	int iVar2;
	char cVar3;
	undefined8 uVar4;
	undefined8 uVar5;
	undefined7 uVar6;
	undefined uVar7;

	uVar7 = (undefined)uParm5;
	uVar6 = (undefined7)((ulonglong)uParm5 >> 8);
	iVar2 = (int)(ZEXT48(register0x0000000c) - 0x60);
	*(BADSPACEBASE **)iVar2 = register0x0000000c;
	cVar3 = (char)(ZEXT48(register0x0000000c) - 0x60);
	memset(cVar3 + '8', 0x14, param_3, param_4, uVar7, (char)uParm6, (char)uParm7, (char)uParm8,
	    *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf), *(undefined4 *)(iVar2 + 0x14));
	uVar1 = *(undefined4 *)(*(int *)(iVar2 + 0x14) + -0x4b74);
	*(undefined4 *)(iVar2 + 0x38) = 0x14;
	*(undefined4 *)(iVar2 + 0x3c) = 0xc2;
	uVar5 = 0;
	*(undefined4 *)(iVar2 + 0x40) = *(undefined4 *)((int)uParm1 + 0x14);
	*(int *)(iVar2 + 0x48) = (int)uParm1;
	uVar4 = CreateSoundBuffer__12IDirectSoundFP13_DSBUFFERDESCPP18IDirectSoundBufferP8IUnknown((char)uVar1, cVar3 + '8', (char)uParm1 + ' ', 0, uVar7, (char)uParm6, (char)uParm7,
	    (char)uParm8, *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf),
	    *(undefined4 *)(iVar2 + 0x14));
	if ((int)uVar4 != 0) {
		DSErrMsg(uVar4, 0x13f, (ulonglong) * (uint *)(*(int *)(iVar2 + 0x14) + -0x5818), uVar5,
		    CONCAT71(uVar6, uVar7), uParm6, uParm7, uParm8, *(undefined4 *)(iVar2 + 8));
	}
	return;
}

longlong sound_file_load(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined2 *puVar1;
	longlong lVar2;
	undefined uVar6;
	int iVar5;
	ulonglong uVar3;
	undefined8 uVar4;
	undefined uVar7;
	undefined uVar9;
	longlong lVar8;
	ulonglong uVar10;
	longlong lVar11;
	ulonglong uVar12;
	undefined4 uVar13;
	undefined4 uVar14;
	undefined uVar15;
	undefined4 uVar16;
	undefined uVar17;
	ulonglong uVar18;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	int local_4c;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	uint local_28;
	undefined uStack33;
	uint local_20;
	undefined uStack25;
	uint local_18;

	uVar10 = ZEXT48(register0x0000000c);
	uVar18 = (ulonglong)_DAT_100f37b8;
	uVar18._7_1_ = (undefined)_DAT_100f37b8;
	if (_DAT_100f445c == 0) {
		lVar2 = 0;
	} else {
		uVar9 = 0;
		WOpenFile(param_1, uVar10 - 0x18, 0, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
		lVar2 = DiabloAllocPtr(0x28);
		uVar7 = 0x28;
		uVar6 = memset((char)lVar2, 0x28, uVar9, (char)param_4, (char)param_5, (char)param_6,
		    (char)param_7, (char)param_8, (char)in_stack_ffffffa8, in_stack_ffffffaf,
		    local_4c);
		puVar1 = (undefined2 *)lVar2;
		*(int *)(puVar1 + 0xe) = (int)param_1;
		iVar5 = GetTickCount(uVar6, uVar7, uVar9, (char)param_4, (char)param_5, (char)param_6, (char)param_7,
		    (char)param_8, (char)in_stack_ffffffa8, in_stack_ffffffaf, local_4c);
		lVar8 = lVar2 + 0x14;
		*(int *)(puVar1 + 0x12) = iVar5 + -0x51;
		iVar5 = local_4c;
		uVar3 = LoadWaveFile(local_18, puVar1, (uint *)lVar8, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8);
		if (uVar3 == 0) {
			app_fatal(*(int *)(local_4c + -0x581c), (ulonglong) * (uint *)(puVar1 + 0xe), lVar8, param_4,
			    param_5, param_6, param_7, param_8, in_stack_ffffffa8, in_stack_ffffffaf,
			    in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4,
			    in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
		}
		sound_CreateSoundBuffer(lVar2);
		lVar8 = uVar10 - 0x1c;
		lVar11 = uVar10 - 0x24;
		uVar13 = (undefined4)(uVar10 - 0x20);
		uVar14 = (undefined4)(uVar10 - 0x28);
		uVar16 = 0;
		uVar4 = Lock__18IDirectSoundBufferFUlUlPvPUlPvPUlUl((char)*(undefined4 *)(puVar1 + 0x10), 0, (char)*(undefined4 *)(puVar1 + 10),
		    (char)lVar8, (char)lVar11, (char)(uVar10 - 0x20), (char)(uVar10 - 0x28), 0,
		    (char)in_stack_ffffffa8, in_stack_ffffffaf, iVar5);
		uVar7 = (undefined)lVar11;
		uVar6 = (undefined)lVar8;
		if ((int)uVar4 != 0) {
			DSErrMsg(uVar4, 0x163, uVar18, lVar8, lVar11, uVar13, uVar14, uVar16, in_stack_ffffffa8);
		}
		memcpy(uStack25, (char)uVar3 + (char)*(undefined4 *)(puVar1 + 0xc), uStack33, uVar6, uVar7,
		    (char)uVar13, (char)uVar14, (char)uVar16, (char)in_stack_ffffffa8, in_stack_ffffffaf,
		    iVar5);
		uVar10 = (ulonglong)local_20;
		uVar12 = (ulonglong)local_28;
		uVar4 = Unlock__18IDirectSoundBufferFPvUlPvUl((char)*(undefined4 *)(puVar1 + 0x10), uStack25, uStack33, (char)local_20,
		    (char)local_28, (char)uVar13, (char)uVar14, (char)uVar16, (char)in_stack_ffffffa8, in_stack_ffffffaf, iVar5);
		uVar17 = (undefined)uVar16;
		uVar15 = (undefined)uVar14;
		uVar9 = (undefined)uVar13;
		uVar7 = (undefined)uVar12;
		uVar6 = (undefined)uVar10;
		if ((int)uVar4 != 0) {
			uStack25 = 0x6a;
			uStack33 = (undefined)uVar18;
			DSErrMsg(uVar4, 0x16a, uVar18, uVar10, uVar12, uVar13, uVar14, uVar16, in_stack_ffffffa8);
		}
		mem_free_dbg(uVar3, uStack25, uStack33, uVar6, uVar7, uVar9, uVar15, uVar17, in_stack_ffffffa8);
		WCloseFile((char)local_18, uStack25, uStack33, uVar6, uVar7, uVar9, uVar15, uVar17, in_stack_ffffffa8);
	}
	return lVar2;
}

void sound_file_cleanup(longlong param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	if (param_1 != 0) {
		iVar1 = (int)param_1;
		if (*(int *)(iVar1 + 0x20) != 0) {
			Stop__18IDirectSoundBufferFv((char)*(int *)(iVar1 + 0x20), param_2, param_3, param_4, param_5, param_6, param_7,
			    param_8, (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
			Release__18IDirectSoundBufferFv((char)*(undefined4 *)(iVar1 + 0x20), param_2, param_3, param_4, param_5, param_6, param_7, param_8, (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
			*(undefined4 *)(iVar1 + 0x20) = 0;
		}
		mem_free_dbg(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return;
}

void sound_create_primary_buffer(uint param_1, undefined8 param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 uVar1;
	undefined *puVar2;
	int iVar3;
	char cVar4;
	uint uVar5;
	undefined **ppuVar6;
	int iVar7;
	undefined8 uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined7 uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined uVar14;
	undefined uVar15;
	ulonglong uVar16;

	uVar11 = (undefined7)((ulonglong)param_5 >> 8);
	uVar12 = (undefined)param_5;
	ppuVar6 = &toc;
	uVar16 = (ulonglong)_DAT_100f37b8;
	iVar3 = (int)(ZEXT48(register0x0000000c) - 0xd0);
	*(BADSPACEBASE **)iVar3 = register0x0000000c;
	if (DAT_100f4450 == '\0') {
		_DAT_100f4454 = 0;
		DAT_100f4450 = '\x01';
	}
	cVar4 = (char)(ZEXT48(register0x0000000c) - 0xd0);
	if (param_1 == 0) {
		memset(cVar4 + -0x54, 0x14, (char)param_3, (char)param_4, uVar12, (char)param_6, (char)param_7,
		    (char)param_8, *(undefined *)(iVar3 + 0xb), *(undefined *)(iVar3 + 0xf),
		    *(undefined4 *)(iVar3 + 0x14));
		uVar1 = *(undefined4 *)(*(uint *)(iVar3 + 0x14) - 0x4b74);
		*(undefined4 *)(iVar3 + 0xac) = 0x14;
		param_3 = (ulonglong) * (uint *)(iVar3 + 0x14) - 0x4b7c;
		*(undefined4 *)(iVar3 + 0xb0) = 1;
		param_4 = 0;
		uVar8 = CreateSoundBuffer__12IDirectSoundFP13_DSBUFFERDESCPP18IDirectSoundBufferP8IUnknown((char)uVar1, cVar4 + -0x54, (char)param_3, 0, uVar12, (char)param_6, (char)param_7,
		    (char)param_8, *(undefined *)(iVar3 + 0xb), *(undefined *)(iVar3 + 0xf),
		    *(undefined4 *)(iVar3 + 0x14));
		ppuVar6 = *(undefined ***)(iVar3 + 0x14);
		if ((int)uVar8 != 0) {
			param_3 = uVar16;
			DSErrMsg(uVar8, 0x1a2, uVar16, param_4, CONCAT71(uVar11, uVar12), param_6, param_7, param_8,
			    *(undefined4 *)(iVar3 + 8));
		}
	}
	if (ppuVar6[-0x12df] != (undefined *)0x0) {
		puVar2 = ppuVar6[-0x12dd];
		*(undefined4 *)(iVar3 + 0x4c) = 0x60;
		uVar8 = GetCaps__12IDirectSoundFP7_DSCAPS((char)puVar2, cVar4 + 'L', (char)param_3, (char)param_4, uVar12, (char)param_6,
		    (char)param_7, (char)param_8, *(undefined *)(iVar3 + 0xb),
		    *(undefined *)(iVar3 + 0xf), *(undefined4 *)(iVar3 + 0x14));
		iVar7 = *(int *)(iVar3 + 0x14);
		if ((int)uVar8 != 0) {
			DSErrMsg(uVar8, 0x1aa, uVar16, param_4, CONCAT71(uVar11, uVar12), param_6, param_7, param_8,
			    *(undefined4 *)(iVar3 + 8));
			param_3 = uVar16;
		}
		uVar15 = (undefined)param_8;
		uVar14 = (undefined)param_7;
		uVar13 = (undefined)param_6;
		uVar10 = (undefined)param_4;
		uVar9 = (undefined)param_3;
		if ((param_1 == 0) || (uVar16 = LoadWaveFormat(param_1, (undefined2 *)(iVar3 + 0x38), param_3, param_4, CONCAT71(uVar11, uVar12), param_6, param_7, param_8, *(undefined4 *)(iVar3 + 8)), (int)uVar16 == 0)) {
			memset(cVar4 + '8', 0x12, uVar9, uVar10, uVar12, uVar13, uVar14, uVar15,
			    *(undefined *)(iVar3 + 0xb), *(undefined *)(iVar3 + 0xf),
			    *(undefined4 *)(iVar3 + 0x14));
			iVar7 = *(int *)(iVar3 + 0x14);
			*(undefined2 *)(iVar3 + 0x38) = 1;
			*(undefined4 *)(iVar3 + 0x3c) = 0x5622;
			*(undefined2 *)(iVar3 + 0x46) = 0x10;
			*(undefined2 *)(iVar3 + 0x3a) = 2;
			*(undefined2 *)(iVar3 + 0x48) = 0;
		}
		*(undefined2 *)(iVar3 + 0x3a) = 2;
		uVar5 = (uint) * (ushort *)(iVar3 + 0x3a) * (uint) * (ushort *)(iVar3 + 0x46);
		*(short *)(iVar3 + 0x44) = (short)((int)uVar5 >> 3) + (ushort)((int)uVar5 < 0 && (uVar5 & 7) != 0);
		uVar1 = *(undefined4 *)(iVar7 + -0x4b7c);
		*(int *)(iVar3 + 0x40) = *(int *)(iVar3 + 0x3c) * (uint) * (ushort *)(iVar3 + 0x44);
		SetFormat__18IDirectSoundBufferFP13tWAVEFORMATEX((char)uVar1, cVar4 + '8', (char)*(int *)(iVar3 + 0x3c), uVar10, uVar12, uVar13, uVar14,
		    uVar15, *(undefined *)(iVar3 + 0xb), *(undefined *)(iVar3 + 0xf),
		    *(undefined4 *)(iVar3 + 0x14));
	}
	return;
}

void sound_DirectSoundCreate(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	_DAT_100f4460 = 0;
	DirectSoundCreate(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	return;
}

void snd_init(undefined8 uParm1, undefined8 uParm2, undefined param_3, undefined param_4,
    undefined8 uParm5, undefined4 uParm6, undefined4 uParm7, undefined4 uParm8)

{
	byte *pbVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined **ppuVar4;
	int iVar5;
	char cVar6;
	ulonglong uVar7;
	undefined uVar8;
	longlong lVar9;
	undefined uVar10;
	undefined7 uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined uVar14;
	undefined uVar15;
	undefined4 in_stack_ffffffb8;
	undefined uVar16;
	undefined in_stack_ffffffbf;
	undefined **local_3c;

	uVar12 = (undefined)uParm5;
	uVar11 = (undefined7)((ulonglong)uParm5 >> 8);
	ppuVar4 = &toc;
	sound_load_volume((ulonglong)_DAT_100f37b0, (int *)&DAT_100f4464, param_3, param_4, uVar12, (char)uParm6,
	    (char)uParm7, (char)uParm8, in_stack_ffffffb8);
	pbVar1 = ppuVar4[-0x1cae];
	puVar2 = ppuVar4[-0x1609];
	*pbVar1 = (~((byte)((uint)ppuVar4[-0x12db] >> 0x18) ^ 0xff) >> 7) + (ZEXT48(ppuVar4[-0x12db]) < 0xfffffffffffff9c1) & 1;
	sound_load_volume(ZEXT48(puVar2), (int *)(ppuVar4 + -0x12e5), (char)pbVar1, param_4, uVar12, (char)uParm6,
	    (char)uParm7, (char)uParm8, in_stack_ffffffb8);
	puVar2 = ppuVar4[-0x12e5];
	cVar6 = (char)ppuVar4 + -0x74;
	lVar9 = -0x640 - ZEXT48(puVar2);
	*ppuVar4[-0x1c9f] = (~((byte)((uint)puVar2 >> 0x18) ^ 0xff) >> 7) + (ZEXT48(puVar2) < 0xfffffffffffff9c1) & 1;
	uVar8 = 0;
	iVar5 = sound_DirectSoundCreate(0, cVar6, 0, (char)lVar9, uVar12, (char)uParm6, (char)uParm7, (char)uParm8,
	    in_stack_ffffffb8);
	uVar16 = (undefined)in_stack_ffffffb8;
	uVar15 = (undefined)uParm8;
	uVar14 = (undefined)uParm7;
	uVar13 = (undefined)uParm6;
	uVar10 = (undefined)lVar9;
	if (iVar5 != 0) {
		ppuVar4[-0x12dd] = (undefined *)0x0;
	}
	ppuVar3 = ppuVar4 + -0x12dd;
	if (*ppuVar3 != (undefined *)0x0) {
		uVar7 = 3;
		ppuVar4 = local_3c;
		iVar5 = SetCooperativeLevel__12IDirectSoundFP6HWND__Ul((char)*ppuVar3, (char)uParm1, 3, uVar10, uVar12, uVar13, uVar14, uVar15, uVar16,
		    in_stack_ffffffbf, local_3c);
		uVar16 = (undefined)in_stack_ffffffb8;
		uVar15 = (undefined)uParm8;
		uVar14 = (undefined)uParm7;
		uVar13 = (undefined)uParm6;
		uVar10 = (undefined)lVar9;
		uVar8 = (undefined)uVar7;
		cVar6 = (char)uParm1;
		local_3c = ppuVar4;
		if (iVar5 == 0) {
			local_3c = ppuVar4;
			sound_create_primary_buffer(0, uParm1, uVar7, lVar9, CONCAT71(uVar11, uVar12), uParm6, uParm7, uParm8,
			    in_stack_ffffffb8);
		}
	}
	SVidInitialize((char)ppuVar4[-0x12dd], cVar6, uVar8, uVar10, uVar12, uVar13, uVar14, uVar15, uVar16,
	    in_stack_ffffffbf, local_3c);
	SFileDdaInitialize((char)local_3c[-0x12dd], cVar6, uVar8, uVar10, uVar12, uVar13, uVar14, uVar15, uVar16,
	    in_stack_ffffffbf, local_3c);
	*local_3c[-0x1cac] = '\x01' - (local_3c[-0x12dd] == (undefined *)0x0);
	return;
}

void sound_cleanup(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 uVar1;
	char *pcVar2;
	undefined uVar3;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	int local_2c;

	pcVar2 = _DAT_100f1d20;
	uVar3 = snd_update(1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	uVar3 = SVidDestroy(uVar3, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
	SFileDdaDestroy(uVar3, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
	if (*(int *)(local_2c + -0x4b74) != 0) {
		Release__12IDirectSoundFv((char)*(int *)(local_2c + -0x4b74), param_2, param_3, param_4, param_5, param_6, param_7,
		    param_8, (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
		*(undefined4 *)(local_2c + -0x4b74) = 0;
	}
	if (*pcVar2 != '\0') {
		uVar1 = *(undefined4 *)(local_2c + -0x5820);
		*pcVar2 = '\0';
		sound_store_volume((char)uVar1, (char)*(undefined4 *)(local_2c + -0x4b6c), param_3, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffc8);
		sound_store_volume((char)*(undefined4 *)(local_2c + -0x5824), (char)*(undefined4 *)(local_2c + -0x4b94), param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return;
}

void music_stop(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	int local_2c;

	if (_DAT_100f4458 != 0) {
		SFileDdaEnd((char)_DAT_100f4458, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
		SFileCloseFile((char)*(undefined4 *)(local_2c + -0x4b78), param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
		*(undefined4 *)(local_2c + -0x4b78) = 0;
		*(undefined4 *)(local_2c + -0x4b90) = 6;
	}
	return;
}

void music_start(int param_1, undefined8 param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	int iVar2;
	longlong lVar3;
	undefined uVar4;
	undefined4 in_stack_ffffffc8;
	undefined uVar5;
	undefined in_stack_ffffffcf;
	int local_2c;
	int iVar6;

	uVar1 = ZEXT48(&toc);
	music_stop((char)param_1, (undefined)param_2, (char)param_3, (char)param_4, (char)param_5,
	    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffc8);
	iVar6 = (int)uVar1;
	if ((*(int *)(iVar6 + -0x4b74) != 0) && (**(char **)(iVar6 + -0x727c) != '\0')) {
		lVar3 = uVar1 - 0x4b78;
		iVar2 = SFileOpenFile((char)*(undefined4 *)(*(int *)(iVar6 + -0x5828) + param_1 * 4), (char)lVar3, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7,
		    (char)param_8, (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
		uVar5 = (undefined)in_stack_ffffffc8;
		uVar4 = (undefined)param_8;
		iVar6 = local_2c;
		sound_create_primary_buffer(*(uint *)(local_2c + -0x4b78), lVar3, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
		if (iVar2 == 0) {
			*(undefined4 *)(local_2c + -0x4b78) = 0;
		} else {
			SFileDdaBeginEx((char)*(undefined4 *)(local_2c + -0x4b78), 0, 0, 0,
			    (char)*(undefined4 *)(local_2c + -0x4b94), 0, 0, uVar4, uVar5, in_stack_ffffffcf,
			    iVar6);
			*(int *)(iVar6 + -0x4b90) = param_1;
		}
	}
	return;
}

void sound_disable_music(int param_1, undefined8 param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	if (DAT_100f4448 == '\0') {
		param_2 = 6;
		_DAT_100f444c = 6;
		DAT_100f4448 = '\x01';
	}
	if (param_1 == 0) {
		if (_DAT_100f444c != 6) {
			if (_DAT_100f4440 == 6) {
				ppuVar1 = &toc;
				music_start(_DAT_100f444c, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffffc8);
			}
			ppuVar1[-0x12e1] = (undefined *)0x6;
		}
	} else {
		_DAT_100f444c = _DAT_100f4440;
		music_stop((char)param_1, (char)param_2, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffc8);
	}
	return;
}

ulonglong sound_get_or_set_music_volume(undefined *param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined **ppuVar2;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined **local_2c;

	ppuVar2 = &toc;
	puVar1 = _DAT_100f443c;
	if (param_1 != &DAT_00000001) {
		_DAT_100f443c = param_1;
		if (_DAT_100f4458 != 0) {
			_DAT_100f443c = param_1;
			ppuVar2 = local_2c;
			SFileDdaSetVolume((char)_DAT_100f4458, (char)param_1, 0, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
		}
		puVar1 = ppuVar2[-0x12e5];
	}
	return ZEXT48(puVar1);
}

ulonglong sound_get_or_set_sound_volume(uint param_1)

{
	if (param_1 == 1) {
		return (ulonglong)_DAT_100f4464;
	}
	_DAT_100f4464 = param_1;
	return (ulonglong)param_1;
}

void FUN_100a5040(void)

{
	_DAT_100f4470 = _DAT_100f446c;
	return;
}

longlong GetManaAmount(int param_1, int param_2)

{
	ulonglong uVar1;
	int iVar2;
	uint uVar3;
	longlong lVar4;
	int iVar5;
	ulonglong uVar6;
	int iVar7;
	ulonglong uVar8;
	ulonglong uVar9;

	param_1 = param_1 * 0x55ec;
	lVar4 = 0;
	iVar5 = 0;
	uVar1 = (longlong)(char)(PTR_DAT_100f1828 + param_1)[param_2 + 0xc1] + (longlong)(char)(PTR_DAT_100f1828 + param_1)[0x5570] + -1;
	if ((longlong)uVar1 < 0) {
		uVar1 = 0;
	}
	iVar2 = param_2 * 0x38;
	uVar3 = (uint)uVar1;
	uVar9 = (ulonglong)(byte)(PTR_DAT_100f1934 + iVar2)[0x24];
	if (0 < (int)uVar3) {
		uVar6 = (ulonglong)(uVar3 >> 3);
		uVar8 = uVar1;
		if (uVar3 >> 3 != 0) {
			do {
				lVar4 = lVar4 + uVar9 * 8;
				iVar5 = (int)lVar4;
				uVar6 = uVar6 - 1;
			} while (uVar6 != 0);
			uVar8 = uVar1 & 7;
			if (uVar8 == 0)
				goto LAB_100a50e4;
		}
		do {
			lVar4 = lVar4 + uVar9;
			iVar5 = (int)lVar4;
			uVar8 = uVar8 - 1;
		} while (uVar8 != 0);
	}
LAB_100a50e4:
	if (param_2 == 1) {
		iVar5 = iVar5 >> 1;
	}
	if ((param_2 == 0x20) && (0 < (int)uVar3)) {
		iVar7 = (int)(uint)(byte)(PTR_DAT_100f1934 + iVar2)[1] >> 3;
		iVar5 = 0;
		if (0 < (int)uVar3) {
			uVar8 = (ulonglong)(uVar3 >> 3);
			uVar9 = uVar1;
			iVar5 = 0;
			if (uVar3 >> 3 != 0) {
				do {
					iVar5 = iVar5 + iVar7 * 8;
					uVar8 = uVar8 - 1;
				} while (uVar8 != 0);
				uVar9 = uVar1 & 7;
				if (uVar9 == 0)
					goto LAB_100a5158;
			}
			do {
				iVar5 = iVar5 + iVar7;
				uVar9 = uVar9 - 1;
			} while (uVar9 != 0);
		}
	}
LAB_100a5158:
	if (PTR_DAT_100f1934[iVar2 + 1] == 0xff) {
		iVar7 = (*(uint *)(PTR_DAT_100f1828 + param_1 + 0x1a4) & 0xff) - iVar5;
	} else {
		iVar7 = (uint)(byte)PTR_DAT_100f1934[iVar2 + 1] - iVar5;
	}
	if (param_2 == 2) {
		iVar7 = ((uint)(byte)PTR_DAT_100f1934[0x71] + (int)(char)PTR_DAT_100f1828[param_1 + 0x1b4] * 2)
		    - iVar5;
	}
	if (param_2 == 0x22) {
		iVar7 = ((uint)(byte)PTR_DAT_100f1934[0x71] + (int)(char)PTR_DAT_100f1828[param_1 + 0x1b4] * 2)
		    - iVar5;
	}
	iVar7 = iVar7 * 0x40;
	if ((param_2 == 0x20) && (0 < (longlong)uVar1)) {
		uVar9 = (ulonglong)(uVar3 >> 3);
		if (uVar3 >> 3 != 0) {
			do {
				uVar9 = uVar9 - 1;
			} while (uVar9 != 0);
			uVar1 = uVar1 & 7;
			if (uVar1 == 0)
				goto LAB_100a5238;
		}
		do {
			uVar1 = uVar1 - 1;
		} while (uVar1 != 0);
	}
LAB_100a5238:
	if (PTR_DAT_100f1828[param_1 + 0x15c] == '\x01') {
		iVar7 = iVar7 - (iVar7 >> 2);
	}
	if (iVar7 >> 6 < (int)(uint)(byte)PTR_DAT_100f1934[iVar2 + 0x25]) {
		iVar7 = (uint)(byte)PTR_DAT_100f1934[iVar2 + 0x25] << 6;
	}
	iVar7 = iVar7 * (100 - (int)(char)PTR_DAT_100f1828[param_1 + 0x5571]);
	uVar3 = iVar7 / 100 + (iVar7 >> 0x1f);
	return ((longlong)(int)((ulonglong)((longlong)iVar7 * 0x51eb851f) >> 0x20) & 0xffffffff00000000U | (ulonglong)uVar3) + (ulonglong)(uVar3 >> 0x1f);
}

void UseMana(longlong param_1, int param_2, undefined param_3, undefined param_4, undefined param_5, undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	char cVar1;
	undefined4 *puVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	int iVar6;
	longlong lVar5;
	undefined4 in_stack_ffffffc8;

	ppuVar4 = &toc;
	iVar6 = (int)param_1;
	if (iVar6 == *(int *)PTR_DAT_100f1824) {
		puVar3 = PTR_DAT_100f1828 + iVar6 * 0x55ec;
		cVar1 = puVar3[0xa8];
		if (cVar1 == '\x02') {
			RemoveScroll(param_1, (char)param_2, (char)PTR_DAT_100f1824, (char)PTR_DAT_100f1828, param_5,
			    param_6, param_7, param_8, in_stack_ffffffc8);
		} else {
			if (cVar1 < '\x02') {
				if ((cVar1 != '\0') && (-1 < cVar1)) {
					lVar5 = GetManaAmount(iVar6, param_2);
					puVar2 = (undefined4 *)ppuVar4[-0x1dbd];
					*(int *)(puVar3 + 0x1a8) = *(int *)(puVar3 + 0x1a8) - (int)lVar5;
					*(int *)(puVar3 + 0x1a0) = *(int *)(puVar3 + 0x1a0) - (int)lVar5;
					*puVar2 = 1;
				}
			} else {
				if ((cVar1 != '\x04') && (cVar1 < '\x04')) {
					UseStaffCharge(iVar6, (char)param_2, (char)PTR_DAT_100f1824, (char)PTR_DAT_100f1828, param_5,
					    param_6, param_7, param_8, in_stack_ffffffc8);
				}
			}
		}
	}
	return;
}

undefined8
CheckSpell(int param_1, int param_2, char param_3, int param_4, undefined param_5, undefined param_6,
    undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined **ppuVar1;
	undefined8 uVar2;
	longlong lVar3;

	ppuVar1 = &toc;
	if ((param_4 == 0) && (*(int *)PTR_DAT_100f188c != 1)) {
		return 0;
	}
	if (param_3 == '\0') {
		uVar2 = 1;
	} else {
		lVar3 = GetSpellLevel(param_1, param_2);
		if ((int)lVar3 < 1) {
			uVar2 = 0;
		} else {
			lVar3 = GetManaAmount(param_1, param_2);
			if (*(int *)(ppuVar1[-0x1dea] + param_1 * 0x55ec + 0x1a8) < (int)lVar3) {
				uVar2 = 0;
			} else {
				uVar2 = 1;
			}
		}
	}
	return uVar2;
}

void CastSpell(longlong param_1, int param_2, ulonglong param_3, undefined8 param_4,
    ulonglong param_5, undefined8 param_6, longlong param_7, int param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	ulonglong uVar2;
	undefined uVar3;
	undefined8 uVar4;
	undefined uVar5;
	ulonglong uVar6;
	undefined uVar7;
	byte bVar8;
	char cVar9;
	undefined uVar10;
	longlong lVar11;
	undefined uVar12;
	undefined *puVar13;
	int iVar14;
	ulonglong unaff_r31;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;

	puVar1 = PTR_DAT_100f1934;
	cVar9 = (char)param_7;
	lVar11 = (longlong)param_8;
	iVar14 = (int)param_7;
	if (iVar14 == 1) {
		unaff_r31 = (ulonglong) * (uint *)(PTR_DAT_100f187c + (int)param_1 * 0xe8 + 0x48);
	} else {
		if ((iVar14 < 1) && (-1 < iVar14)) {
			unaff_r31 = (ulonglong) * (uint *)(PTR_DAT_100f1828 + (int)param_1 * 0x55ec + 0x70);
			cVar9 = '\0';
			if (param_2 == 6) {
				unaff_r31 = (ulonglong) * (uint *)(PTR_DAT_100f1828 + (int)param_1 * 0x55ec + 0x1d8);
			}
		}
	}
	puVar13 = PTR_DAT_100f1934 + param_2 * 0x38;
	iVar14 = 0;
	uVar2 = param_3;
	uVar4 = param_4;
	uVar6 = param_5;
	while (true) {
		uVar12 = (undefined)lVar11;
		uVar10 = (undefined)param_7;
		uVar7 = (undefined)uVar6;
		uVar5 = (undefined)uVar4;
		uVar3 = (undefined)uVar2;
		bVar8 = puVar13[0x21];
		if ((bVar8 == 0) || (2 < iVar14))
			break;
		param_7 = (longlong)cVar9;
		uVar2 = param_5;
		uVar4 = param_6;
		uVar6 = unaff_r31;
		lVar11 = param_1;
		AddMissile(param_3, param_4, param_5, param_6, unaff_r31, (uint)bVar8, param_7, param_1,
		    in_stack_ffffff88, in_stack_ffffff8f, 0, param_8);
		puVar13 = puVar13 + 1;
		iVar14 = iVar14 + 1;
	}
	if (puVar1[param_2 * 0x38 + 0x21] == '\n') {
		UseMana(param_1, 7, uVar3, uVar5, uVar7, bVar8, uVar10, uVar12, in_stack_ffffff88);
	}
	if (puVar1[param_2 * 0x38 + 0x21] == '4') {
		UseMana(param_1, 0x1e, uVar3, uVar5, uVar7, bVar8, uVar10, uVar12, in_stack_ffffff88);
		iVar14 = (param_8 >> 1) + 3;
		while (0 < iVar14) {
			AddMissile(param_3, param_4, param_5, param_6, unaff_r31, 0x34, (longlong)cVar9, param_1,
			    in_stack_ffffff88, in_stack_ffffff8f, 0, param_8);
			iVar14 = iVar14 + -1;
		}
	}
	return;
}

void PlacePlayer(undefined8 param_1, undefined param_2, undefined param_3, undefined param_4,
    char param_5, char param_6, char param_7, char param_8, undefined4 param_9)

{
	int *piVar1;
	int *piVar2;
	undefined *puVar3;
	bool bVar4;
	int iVar5;
	undefined *puVar6;
	ulonglong uVar7;
	int iVar8;
	undefined8 uVar9;
	int iVar10;
	ulonglong uVar11;
	longlong lVar12;
	longlong lVar13;
	longlong lVar14;
	longlong lVar15;
	longlong lVar16;
	longlong lVar17;
	uint uVar18;
	uint *puVar19;
	uint *puVar21;
	longlong lVar20;
	int iVar22;
	longlong lVar23;
	longlong lVar24;
	undefined4 in_stack_ffffff98;

	puVar6 = PTR_DAT_100f1828;
	lVar15 = (longlong)param_8;
	lVar14 = (longlong)param_7;
	lVar13 = (longlong)param_6;
	lVar12 = (longlong)param_5;
	uVar7 = ZEXT48(&toc);
	iVar5 = (int)param_1;
	puVar3 = PTR_DAT_100f1828 + iVar5 * 0x55ec;
	if ((uint)(byte)*PTR_DAT_100f17ec == *(uint *)(puVar3 + 0x34)) {
		uVar18 = 0;
		puVar21 = _DAT_100f2048;
		puVar19 = (uint *)PTR_DAT_100f204c;
		do {
			uVar11 = (ulonglong) * (uint *)(puVar3 + 0x38);
			lVar24 = uVar11 + (ulonglong)*puVar21;
			lVar24._4_4_ = (int)lVar24;
			lVar23 = (ulonglong) * (uint *)(puVar3 + 0x3c) + (ulonglong)*puVar19;
			iVar10 = (int)lVar23;
			uVar9 = PosOkPlayer(iVar5, lVar24, iVar10, (char)*(uint *)(puVar3 + 0x38), (char)lVar12,
			    (char)lVar13, (char)lVar14, (char)lVar15, in_stack_ffffff98);
			if ((int)uVar9 != 0)
				break;
			uVar18 = uVar18 + 1;
			puVar19 = puVar19 + 1;
			puVar21 = puVar21 + 1;
		} while (uVar18 < 8);
		uVar9 = PosOkPlayer(iVar5, lVar24, iVar10, (char)uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
		    (char)lVar15, in_stack_ffffff98);
		iVar8 = (int)uVar7;
		if ((int)uVar9 == 0) {
			bVar4 = false;
			lVar20 = 1;
			while (true) {
				iVar8 = (int)uVar7;
				lVar24._4_4_ = (int)lVar24;
				iVar10 = (int)lVar23;
				iVar22 = (int)lVar20;
				if ((0x31 < iVar22) || (bVar4))
					break;
				lVar17 = -lVar20;
				while (((int)lVar17 <= iVar22 && (!bVar4))) {
					lVar23 = lVar17 + (ulonglong) * (uint *)(puVar3 + 0x3c);
					lVar16 = -lVar20;
					while (((int)lVar16 <= iVar22 && (!bVar4))) {
						lVar24 = lVar16 + (ulonglong) * (uint *)(puVar3 + 0x38);
						uVar9 = PosOkPlayer(iVar5, lVar24, (int)lVar23, (char)uVar11, (char)lVar12, (char)lVar13,
						    (char)lVar14, (char)lVar15, in_stack_ffffff98);
						if ((int)uVar9 != 0) {
							bVar4 = true;
						}
						lVar16 = lVar16 + 1;
					}
					lVar17 = lVar17 + 1;
				}
				lVar20 = lVar20 + 1;
			}
		}
		piVar1 = *(int **)(iVar8 + -0x7680);
		*(int *)(puVar6 + iVar5 * 0x55ec + 0x38) = lVar24._4_4_;
		piVar2 = *(int **)(iVar8 + -0x77ac);
		*(int *)(puVar6 + iVar5 * 0x55ec + 0x3c) = iVar10;
		*(char *)(*piVar1 + lVar24._4_4_ * 0x70 + iVar10) = (char)param_1 + '\x01';
		if (iVar5 == *piVar2) {
			piVar1 = *(int **)(iVar8 + -0x77b4);
			**(int **)(iVar8 + -0x77b0) = lVar24._4_4_;
			*piVar1 = iVar10;
		}
	}
	return;
}

void DoResurrect(ulonglong param_1, ulonglong param_2, ulonglong param_3, ulonglong param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	int iVar4;
	undefined *puVar5;
	undefined **ppuVar6;
	ulonglong uVar7;
	undefined uVar9;
	int iVar8;
	ulonglong uVar10;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;

	puVar5 = PTR_DAT_100f1828;
	puVar2 = PTR_DAT_100f1824;
	ppuVar6 = &toc;
	iVar8 = (int)param_2;
	uVar7 = param_2;
	if ((char)param_2 != -1) {
		uVar7 = (ulonglong) * (uint *)(PTR_DAT_100f1828 + iVar8 * 0x55ec + 0x3c);
		param_3 = (ulonglong) * (uint *)(PTR_DAT_100f1828 + iVar8 * 0x55ec + 0x38);
		param_5 = 0;
		param_6 = 0x3e;
		param_7 = 0;
		param_4 = uVar7;
		param_8 = param_1;
		ppuVar6 = &toc;
		AddMissile(param_3, uVar7, param_3, uVar7, 0, 0x3e, 0, param_1, in_stack_ffffffa8, in_stack_ffffffaf, 0,
		    0);
	}
	if ((int)param_1 == *(int *)puVar2) {
		NewCursor(1, (char)uVar7, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffa8);
	}
	if ((char)param_2 != -1) {
		iVar4 = iVar8 * 0x55ec;
		if (*(int *)(puVar5 + iVar4 + 0x194) == 0) {
			if (iVar8 == *(int *)puVar2) {
				puVar1 = (undefined4 *)ppuVar6[-0x1d73];
				*puVar1 = 0;
				gamemenu_off((char)puVar1, (char)uVar7, (char)param_3, (char)param_4, (char)param_5,
				    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffa8);
				uVar7 = ZEXT48(ppuVar6[-0x1dbc]);
				puVar1 = (undefined4 *)ppuVar6[-0x1dbd];
				*(undefined4 *)ppuVar6[-0x1dbc] = 1;
				*puVar1 = 1;
			}
			uVar9 = (undefined)uVar7;
			ClrPlrPath(param_2, uVar7, param_3, param_4, param_5, (int)param_6, (int)param_7, (int)param_8,
			    in_stack_ffffffa8);
			puVar2 = puVar5 + iVar4;
			*(undefined4 *)(puVar2 + 0x20) = 0xffffffff;
			puVar2[0x139] = 0;
			PlacePlayer(param_2, uVar9, (char)param_3, (char)param_4, (char)param_5, (char)param_6,
			    (char)param_7, (char)param_8, in_stack_ffffffa8);
			iVar8 = 0x280;
			if (*(int *)(puVar2 + 400) < 0x280) {
				iVar8 = *(int *)(puVar2 + 400);
			}
			SetPlayerHitPoints(param_2, iVar8, param_3, param_4, param_5, (int)param_6, (int)param_7, (int)param_8,
			    in_stack_ffffffa8);
			puVar3 = puVar5 + iVar4;
			*(int *)(puVar3 + 0x18c) = *(int *)(puVar5 + iVar4 + 0x194) - (*(int *)(puVar3 + 0x198) - *(int *)(puVar2 + 400));
			*(undefined4 *)(puVar3 + 0x1a8) = 0;
			uVar10 = (ulonglong) * (uint *)(puVar3 + 0x1a4);
			uVar7 = (ulonglong) * (uint *)(puVar3 + 0x1ac) - uVar10;
			*(int *)(puVar3 + 0x1a0) = *(int *)(puVar3 + 0x1a8) - (int)uVar7;
			CalcPlrInv(param_2, 1, uVar7, uVar10, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
			if ((uint)(byte)*ppuVar6[-0x1df9] == *(uint *)(puVar3 + 0x34)) {
				StartStand(param_2, (ulonglong) * (uint *)(puVar3 + 0x70), uVar7, uVar10, param_5, param_6,
				    param_7, param_8, in_stack_ffffffa8);
			} else {
				*(undefined4 *)(puVar5 + iVar4) = 0;
			}
		}
	}
	return;
}

void DoHealOther(int param_1, undefined8 param_2, undefined param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	int iVar2;
	undefined *puVar3;
	ulonglong uVar4;
	longlong lVar5;
	ulonglong uVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	int iVar12;
	int iVar13;
	int *piVar14;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	puVar3 = PTR_DAT_100f1828;
	lVar11 = (longlong)param_8;
	lVar10 = (longlong)param_7;
	lVar9 = (longlong)param_6;
	lVar8 = (longlong)param_5;
	lVar7 = (longlong)param_4;
	uVar4 = ZEXT48(&toc);
	uVar6 = ZEXT48(PTR_DAT_100f1824);
	if (param_1 == *(int *)PTR_DAT_100f1824) {
		NewCursor(1, (char)param_2, (char)PTR_DAT_100f1824, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8);
	}
	if ((char)param_2 != -1) {
		iVar2 = (int)param_2 * 0x55ec;
		piVar14 = (int *)(puVar3 + iVar2 + 0x194);
		if (*(int *)(puVar3 + iVar2 + 0x194) >> 6 != 0) {
			lVar5 = random(0x39, 10, (char)uVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10,
			    (char)lVar11, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
			iVar13 = ((int)lVar5 + 1) * 0x40;
			iVar12 = 0;
			while (iVar12 < (int)(char)puVar3[param_1 * 0x55ec + 0x1b4]) {
				lVar5 = random(0x39, 4, (char)uVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10,
				    (char)lVar11, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
				iVar12 = iVar12 + 1;
				iVar13 = iVar13 + ((int)lVar5 + 1) * 0x40;
			}
			iVar12 = 0;
			while (true) {
				lVar5 = GetSpellLevel(param_1, 0x22);
				if ((int)lVar5 <= iVar12)
					break;
				lVar5 = random(0x39, 6, (char)uVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10,
				    (char)lVar11, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
				iVar12 = iVar12 + 1;
				iVar13 = iVar13 + ((int)lVar5 + 1) * 0x40;
			}
			if (puVar3[param_1 * 0x55ec + 0x15c] == '\0') {
				iVar13 = iVar13 << 1;
			}
			if (puVar3[param_1 * 0x55ec + 0x15c] == '\x01') {
				iVar13 = iVar13 + (iVar13 >> 1);
			}
			*piVar14 = *piVar14 + iVar13;
			if (*(int *)(puVar3 + iVar2 + 0x198) < *piVar14) {
				*piVar14 = *(int *)(puVar3 + iVar2 + 0x198);
			}
			puVar1 = puVar3 + iVar2;
			*(int *)(puVar1 + 0x18c) = *(int *)(puVar1 + 0x18c) + iVar13;
			if (*(int *)(puVar3 + iVar2 + 400) < *(int *)(puVar1 + 0x18c)) {
				*(int *)(puVar1 + 0x18c) = *(int *)(puVar3 + iVar2 + 400);
			}
			**(undefined4 **)((int)uVar4 + -0x76f0) = 1;
		}
	}
	return;
}

void FUN_100a59e0(void)

{
	_DAT_100f4478 = _DAT_100f4474;
	return;
}

void InitStores(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined *puVar2;
	undefined4 *puVar3;
	int iVar4;
	undefined **ppuVar5;
	longlong lVar6;
	undefined4 in_stack_ffffffb8;

	iVar4 = _DAT_100f1e28;
	ppuVar5 = &toc;
	lVar6 = LoadFileInMem((ulonglong)_DAT_100f3920, (undefined4 *)0x0, param_3, param_4, param_5, param_6,
	    param_7, param_8, in_stack_ffffffb8);
	puVar1 = (undefined4 *)ppuVar5[-0x1c67];
	*puVar1 = (int)lVar6;
	lVar6 = LoadFileInMem(ZEXT48(ppuVar5[-0x15ad]), (undefined4 *)0x0, ZEXT48(puVar1), param_4, param_5,
	    param_6, param_7, param_8, in_stack_ffffffb8);
	puVar1 = (undefined4 *)ppuVar5[-0x1ddd];
	*puVar1 = (int)lVar6;
	lVar6 = LoadFileInMem(ZEXT48(ppuVar5[-0x15ae]), (undefined4 *)0x0, ZEXT48(puVar1), param_4, param_5,
	    param_6, param_7, param_8, in_stack_ffffffb8);
	*(int *)ppuVar5[-0x1ca2] = (int)lVar6;
	ClearSText(0, 0x18);
	puVar1 = (undefined4 *)ppuVar5[-0x1bbc];
	*ppuVar5[-0x1dd9] = 0;
	puVar2 = ppuVar5[-0x1bbd];
	*puVar1 = 1;
	puVar1 = (undefined4 *)ppuVar5[-0x1bbe];
	*puVar2 = 0;
	puVar3 = (undefined4 *)ppuVar5[-0x1c6b];
	*puVar1 = 0;
	puVar1 = (undefined4 *)ppuVar5[-0x1c6d];
	*puVar3 = 0;
	puVar2 = ppuVar5[-0x1c6f];
	*puVar1 = 1;
	puVar1 = (undefined4 *)ppuVar5[-0x1c6e];
	*(undefined4 *)(iVar4 + 8) = 0xffffffff;
	*(undefined4 *)(iVar4 + 0x178) = 0xffffffff;
	*(undefined4 *)(iVar4 + 0x2e8) = 0xffffffff;
	*(undefined4 *)(iVar4 + 0x458) = 0xffffffff;
	*(undefined4 *)(iVar4 + 0x5c8) = 0xffffffff;
	*(undefined4 *)(iVar4 + 0x738) = 0xffffffff;
	*(undefined4 *)(puVar2 + 8) = 0xffffffff;
	*puVar1 = 0;
	return;
}

void SetupTownStores(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	int iVar4;
	longlong lVar3;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	ulonglong unaff_r29;
	ulonglong uVar8;
	ulonglong uVar9;
	longlong lVar10;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	int local_3c;

	puVar2 = PTR_DAT_100f1828;
	puVar1 = PTR_DAT_100f1824;
	uVar9 = ZEXT48(PTR_DAT_100f1828);
	iVar4 = GetTickCount(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
	uVar6 = SUB41(*(byte **)(local_3c + -0x77e4), 0);
	uVar7 = (undefined) * (int *)(local_3c + -0x75ec);
	SetRndSeed(*(int *)(*(int *)(local_3c + -0x75ec) + (uint) * *(byte **)(local_3c + -0x77e4) * 4) * iVar4);
	if (**(char **)(local_3c + -0x77f0) == '\x01') {
		lVar10 = 0x11;
		uVar8 = 0;
		lVar3 = uVar9 + (ulonglong) * (uint *)puVar1 * 0x55ec;
		uVar9 = 0;
		do {
			if (*(char *)((int)lVar3 + 0x1f0) != '\0') {
				uVar8 = uVar9;
			}
			lVar3 = lVar3 + 1;
			uVar5 = (undefined)lVar3;
			uVar9 = uVar9 + 1;
			uVar6 = (undefined)uVar9;
			lVar10 = lVar10 + -1;
		} while (lVar10 != 0);
	} else {
		lVar3 = uVar9 + (ulonglong) * (uint *)puVar1 * 0x55ec;
		uVar5 = (undefined)lVar3;
		uVar8 = unaff_r29 & 0xffffffff00000000 | (ulonglong)(uint)((int)*(char *)((int)lVar3 + 0x1b4) >> 1);
	}
	uVar8 = uVar8 + 2;
	if ((int)uVar8 < 6) {
		uVar8 = 6;
	}
	if (0x10 < (int)uVar8) {
		uVar8 = 0x10;
	}
	SpawnStoreGold(uVar5, uVar6, uVar7, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	SpawnSmith(uVar8, uVar6, uVar7, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	SpawnWitch(uVar8, uVar6, uVar7, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	SpawnHealer(uVar8, uVar6, uVar7, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	SpawnBoy((longlong)(char)(puVar2 + 0x1b4)[*(int *)puVar1 * 0x55ec], uVar6, uVar7, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	SpawnPremium((int)(char)(puVar2 + 0x1b4)[*(int *)puVar1 * 0x55ec], uVar6, uVar7, param_4, param_5,
	    param_6, param_7, param_8, in_stack_ffffffb8);
	return;
}

void FreeStoreMem(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	mem_free_dbg((int **)PTR_DAT_100f1e34, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	mem_free_dbg((int **)ppuVar1[-0x1ddd], param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	mem_free_dbg((int **)ppuVar1[-0x1ca2], param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

void DrawSTextBack(void)

{
	undefined **ppuVar1;
	longlong lVar2;
	undefined *puVar3;
	undefined *puVar4;
	longlong lVar5;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	CelDecodeOnly(0x198, 0x1e7, (ulonglong) * (uint *)PTR_DAT_100f1e34, 1, 0x10f, in_r8, in_r9, in_r10,
	    in_stack_ffffffc8);
	lVar5 = 0x94;
	puVar4 = (undefined *)(*(int *)ppuVar1[-0x1e01] + 0x5ad9b);
	do {
		lVar2 = 0x84;
		do {
			puVar3 = puVar4;
			lVar2 = lVar2 + -1;
			*puVar3 = 0;
			puVar4 = puVar3 + 2;
		} while (lVar2 != 0);
		puVar3[2] = 0;
		lVar2 = 0x84;
		puVar3 = puVar3 + -0x406;
		do {
			puVar4 = puVar3;
			lVar2 = lVar2 + -1;
			puVar4[1] = 0;
			puVar3 = puVar4 + 2;
		} while (lVar2 != 0);
		lVar5 = lVar5 + -1;
		puVar4 = puVar4 + -0x406;
	} while (lVar5 != 0);
	lVar5 = 0x84;
	do {
		lVar5 = lVar5 + -1;
		*puVar4 = 0;
		puVar4 = puVar4 + 2;
	} while (lVar5 != 0);
	return;
}

void PrintSString(longlong lParm1, int iParm2, int iParm3, ulonglong uParm4, longlong lParm5, int iParm6)

{
	uint *puVar1;
	byte bVar2;
	char *pcVar3;
	ulonglong uVar4;
	longlong lVar5;
	ulonglong uVar6;
	int iVar7;
	int iVar9;
	longlong lVar8;
	byte *pbVar10;
	int iVar11;
	longlong lVar12;
	ulonglong uVar13;
	int iVar14;
	longlong lVar15;
	undefined4 uVar16;
	ulonglong uVar17;
	undefined4 uVar18;
	undefined8 in_r13;
	ulonglong uVar19;
	int *piVar20;
	undefined8 unaff_r14;
	undefined8 unaff_r15;
	longlong lVar21;
	undefined8 unaff_r16;
	undefined8 unaff_r17;
	undefined8 unaff_r18;
	undefined8 unaff_r19;
	longlong lVar22;
	int iVar23;
	undefined8 unaff_r20;
	undefined8 unaff_r21;
	int iVar24;
	undefined8 unaff_r22;
	undefined8 unaff_r23;
	undefined8 unaff_r24;
	ulonglong uVar25;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	int iVar26;
	undefined8 unaff_r28;
	longlong lVar27;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffff58;
	undefined in_stack_ffffff5f;
	undefined4 in_stack_ffffff6c;
	undefined4 in_stack_ffffff70;
	undefined4 in_stack_ffffff74;
	undefined4 in_stack_ffffff78;
	undefined4 in_stack_ffffff7c;
	undefined4 in_stack_ffffff80;
	undefined4 in_stack_ffffff84;
	byte abStack117[41];
	undefined4 local_4c;
	undefined4 uStack72;
	undefined4 uStack68;
	undefined4 uStack64;
	undefined4 uStack60;
	undefined4 uStack56;
	undefined4 uStack52;
	undefined4 uStack48;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	pcVar3 = _DAT_100f20dc;
	uVar6 = ZEXT48(&toc);
	local_4c = (undefined4)((ulonglong)in_r13 >> 0x20);
	uStack72 = (undefined4)((ulonglong)unaff_r14 >> 0x20);
	uStack68 = (undefined4)((ulonglong)unaff_r15 >> 0x20);
	uStack64 = (undefined4)((ulonglong)unaff_r16 >> 0x20);
	uStack60 = (undefined4)((ulonglong)unaff_r17 >> 0x20);
	uStack56 = (undefined4)((ulonglong)unaff_r18 >> 0x20);
	uStack52 = (undefined4)((ulonglong)unaff_r19 >> 0x20);
	uStack48 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar17 = (ulonglong)_DAT_100f20d4;
	uVar19 = (ulonglong)_DAT_100f20d0;
	lVar15 = (longlong)*_DAT_100f20dc;
	lVar21 = (ulonglong) * (uint *)(PTR_DAT_100f1db4 + iParm2 * 4) + (ulonglong) * (uint *)(_DAT_100f20d4 + iParm2 * 0x9c + 4);
	if (lVar15 == 0) {
		lVar22 = 0x1a0;
	} else {
		lVar22 = 0x60;
	}
	iVar23 = (int)lVar22;
	puVar1 = (uint *)(PTR_DAT_100f1938 + (int)lVar21 * 4 + 0x330);
	lVar27 = lParm1 + (ulonglong)*puVar1 + lVar22;
	uVar13 = uParm4;
	lVar22 = lParm5;
	iVar14 = iParm6;
	iVar9 = strlen((uint)uParm4);
	if (*pcVar3 == '\0') {
		iVar24 = 0x101;
	} else {
		iVar24 = 0x241;
	}
	uVar25 = 0;
	if (iParm3 != 0) {
		lVar12 = 0;
		iVar11 = 0;
		lVar22 = 0;
		if (0 < iVar9) {
			if ((8 < iVar9) && (uVar4 = (ulonglong)(iVar9 - 1U >> 3), 0 < iVar9 + -8)) {
				do {
					pbVar10 = (byte *)((uint)uParm4 + (int)lVar22);
					lVar22 = lVar22 + 8;
					uVar13 = (ulonglong)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)pbVar10[5]]];
					lVar12 = (ulonglong)(byte)(&DAT_100f6230)
					             [(uint)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)pbVar10[7]]]]
					    + (ulonglong)(byte)(&DAT_100f6230)
					        [(uint)(byte)(&DAT_100f61b0)
					                [(uint)(byte)(&DAT_100f64e8)[(uint)pbVar10[6]]]]
					    + (ulonglong)(byte)(&DAT_100f6230)
					        [(uint)(byte)(&DAT_100f61b0)
					                [(uint)(byte)(&DAT_100f64e8)[(uint)pbVar10[5]]]]
					    + (ulonglong)(byte)(&DAT_100f6230)
					        [(uint)(byte)(&DAT_100f61b0)
					                [(uint)(byte)(&DAT_100f64e8)[(uint)pbVar10[4]]]]
					    + (ulonglong)(byte)(&DAT_100f6230)
					        [(uint)(byte)(&DAT_100f61b0)
					                [(uint)(byte)(&DAT_100f64e8)[(uint)pbVar10[3]]]]
					    + (ulonglong)(byte)(&DAT_100f6230)
					        [(uint)(byte)(&DAT_100f61b0)
					                [(uint)(byte)(&DAT_100f64e8)[(uint)pbVar10[2]]]]
					    + (ulonglong)(byte)(&DAT_100f6230)
					        [(uint)(byte)(&DAT_100f61b0)
					                [(uint)(byte)(&DAT_100f64e8)[(uint)pbVar10[1]]]]
					    + (ulonglong)(byte)(&DAT_100f6230)
					        [(uint)(byte)(&DAT_100f61b0)
					                [(uint)(byte)(&DAT_100f64e8)[(uint)*pbVar10]]]
					    + lVar12 + 8;
					uVar4 = uVar4 - 1;
				} while (uVar4 != 0);
			}
			iVar11 = (int)lVar12;
			lVar5 = (longlong)iVar9 - lVar22;
			lVar8 = uParm4 + lVar22;
			if ((int)lVar22 < iVar9) {
				do {
					pbVar10 = (byte *)lVar8;
					lVar8 = lVar8 + 1;
					lVar12 = (ulonglong)(byte)(&DAT_100f6230)
					             [(uint)(byte)(&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)*pbVar10]]]
					    + lVar12 + 1;
					iVar11 = (int)lVar12;
					lVar5 = lVar5 + -1;
				} while (lVar5 != 0);
			}
		}
		if (iVar11 < iVar24) {
			uVar25 = (ulonglong)(uint)(iVar24 - iVar11 >> 1);
		}
		lVar27 = lVar27 + uVar25;
	}
	iVar11 = (int)lParm1;
	if (*(int *)uVar19 == iParm2) {
		iVar26 = iVar23;
		if (iParm3 != 0) {
			iVar26 = (int)uVar25 + iVar23;
		}
		lVar22 = 0xc;
		uVar13 = (ulonglong) * *(uint **)((int)uVar6 + -0x6ef0);
		CelDecodeOnly(iVar11 + iVar26 + -0x14, lVar21 + 0xcd, (ulonglong) * *(uint **)((int)uVar6 + -0x7774),
		    uVar13, 0xc, iVar14, (int)lVar15, (int)uVar17, in_stack_ffffff58);
	}
	iVar26 = 0;
	while (true) {
		piVar20 = (int *)uVar19;
		iVar7 = (int)uVar6;
		uVar16 = (undefined4)lVar15;
		uVar18 = (undefined4)uVar17;
		if (iVar9 <= iVar26)
			break;
		bVar2 = (&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint) * (byte *)uParm4]];
		uVar25 = (ulonglong)(byte)(&DAT_100f6230)[(uint)bVar2] + uVar25 + 1;
		if ((bVar2 != 0) && ((int)uVar25 <= iVar24)) {
			CPrintString(lVar27, (ulonglong)bVar2, lParm5, uVar13, lVar22, iVar14, uVar16, uVar18,
			    in_stack_ffffff58);
		}
		iVar26 = iVar26 + 1;
		uParm4 = uParm4 + 1;
		lVar27 = (ulonglong)(byte)(&DAT_100f6230)[(uint)bVar2] + lVar27 + 1;
	}
	if ((iParm3 == 0) && (-1 < iParm6)) {
		sprintf((int)(abStack117 + 1), *(undefined4 *)(iVar7 + -0x56bc), iParm6, (int)uVar13,
		    (int)lVar22, iVar14, uVar16, uVar18, in_stack_ffffff58, in_stack_ffffff5f,
		    in_stack_ffffff6c, in_stack_ffffff70, in_stack_ffffff74, in_stack_ffffff78,
		    in_stack_ffffff7c, in_stack_ffffff80, in_stack_ffffff84);
		lParm1 = ((ulonglong)*puVar1 + 0x290) - lParm1;
		iVar9 = strlen((uint)(abStack117 + 1));
		pbVar10 = abStack117 + iVar9;
		while (true) {
			piVar20 = (int *)uVar19;
			uVar18 = (undefined4)uVar17;
			uVar16 = (undefined4)lVar15;
			iVar7 = (int)uVar6;
			iVar9 = iVar9 + -1;
			if (iVar9 < 0)
				break;
			bVar2 = (&DAT_100f61b0)[(uint)(byte)(&DAT_100f64e8)[(uint)*pbVar10]];
			lParm1 = lParm1 - ((ulonglong)(byte)(&DAT_100f6230)[(uint)bVar2] + 1);
			if (bVar2 != 0) {
				CPrintString(lParm1, (ulonglong)bVar2, lParm5, uVar13, lVar22, iVar14, uVar16, uVar18,
				    in_stack_ffffff58);
			}
			pbVar10 = pbVar10 + -1;
		}
	}
	if (*piVar20 == iParm2) {
		if (iParm3 == 0) {
			iVar11 = 0x294 - iVar11;
		} else {
			iVar11 = iVar11 + (int)uVar25 + iVar23 + 4;
		}
		CelDecodeOnly(iVar11, lVar21 + 0xcd, (ulonglong) * *(uint **)(iVar7 + -0x7774),
		    (ulonglong) * *(uint **)(iVar7 + -0x6ef0), 0xc, iVar14, uVar16, uVar18, in_stack_ffffff58);
	}
	return;
}

void DrawSLine(int param_1)

{
	undefined uVar1;
	int iVar2;
	longlong lVar3;
	undefined *puVar4;
	int iVar5;
	undefined *puVar6;
	int iVar8;
	longlong lVar7;
	int iVar9;
	longlong lVar10;

	if (*_DAT_100f20dc == '\x01') {
		iVar5 = 0x22b5a;
		iVar8 = *(int *)(PTR_DAT_100f1938 + *(int *)(PTR_DAT_100f1db4 + param_1 * 4) * 4 + 0x318) + 0x5a;
		iVar2 = 0x92;
		iVar9 = 0xb6;
	} else {
		iVar5 = 0x22c9a;
		iVar8 = *(int *)(PTR_DAT_100f1938 + *(int *)(PTR_DAT_100f1db4 + param_1 * 4) * 4 + 0x318) + 0x19a;
		iVar2 = 0x42;
		iVar9 = 0x1f6;
	}
	lVar3 = (ulonglong)(uint)(iVar2 << 2) + 2;
	lVar10 = 3;
	puVar6 = (undefined *)(*(int *)PTR_DAT_100f17cc + iVar5);
	puVar4 = (undefined *)(*(int *)PTR_DAT_100f17cc + iVar8);
	lVar7 = lVar3;
	do {
		do {
			uVar1 = *puVar6;
			lVar7 = lVar7 + -1;
			puVar6 = puVar6 + 1;
			*puVar4 = uVar1;
			puVar4 = puVar4 + 1;
		} while (lVar7 != 0);
		lVar10 = lVar10 + -1;
		puVar6 = puVar6 + iVar9;
		puVar4 = puVar4 + iVar9;
		lVar7 = lVar3;
	} while (lVar10 != 0);
	return;
}

void DrawSArrows(int iParm1, int iParm2)

{
	uint uVar1;
	uint *puVar2;
	undefined *puVar3;
	ulonglong uVar4;
	ulonglong uVar5;
	int iVar6;
	undefined8 in_r8;
	int iVar7;
	undefined4 in_r9;
	undefined4 in_r10;
	longlong lVar8;
	longlong lVar9;
	uint *puVar10;
	uint *puVar11;
	undefined4 in_stack_ffffffa8;

	puVar3 = PTR_DAT_100f1db4;
	puVar2 = _DAT_100f1d48;
	uVar4 = ZEXT48(&toc);
	puVar11 = (uint *)(PTR_DAT_100f1db4 + iParm1 * 4);
	puVar10 = (uint *)(PTR_DAT_100f1db4 + iParm2 * 4);
	uVar5 = (ulonglong)*puVar11;
	lVar9 = uVar5 + 0xcc;
	lVar8 = (ulonglong)*puVar10 + 0xcc;
	if (*_DAT_100f20cc == -1) {
		CelDecodeOnly(0x299, lVar9, (ulonglong)*_DAT_100f1d48, 10, 0xc, (int)in_r8, in_r9, in_r10,
		    in_stack_ffffffa8);
	} else {
		CelDecodeOnly(0x299, lVar9, (ulonglong)*_DAT_100f1d48, 0xc, 0xc, (int)in_r8, in_r9, in_r10,
		    in_stack_ffffffa8);
	}
	if (**(char **)((int)uVar4 + -0x6f08) == -1) {
		CelDecodeOnly(0x299, lVar8, (ulonglong)*puVar2, 9, 0xc, (int)in_r8, in_r9, in_r10, in_stack_ffffffa8);
	} else {
		CelDecodeOnly(0x299, lVar8, (ulonglong)*puVar2, 0xb, 0xc, (int)in_r8, in_r9, in_r10, in_stack_ffffffa8);
	}
	lVar9 = uVar5 + 0xd8;
	while ((int)lVar9 < (int)lVar8) {
		CelDecodeOnly(0x299, lVar9, (ulonglong)*puVar2, 0xe, 0xc, (int)in_r8, in_r9, in_r10, in_stack_ffffffa8);
		lVar9 = lVar9 + 0xc;
	}
	iVar6 = (int)uVar4;
	iVar7 = **(int **)(iVar6 + -0x6f00);
	if (iVar7 == 0x16) {
		iVar7 = **(int **)(iVar6 + -0x6f0c);
	}
	if (**(int **)(iVar6 + -0x6f10) < 2) {
		lVar8 = 0;
	} else {
		iVar6 = (((**(int **)(iVar6 + -0x6f14) + (iVar7 - **(int **)(iVar6 + -0x6f18) >> 2)) * 1000) / (**(int **)(iVar6 + -0x6f10) + -1)) * ((*puVar10 - *puVar11) + -0x18);
		uVar1 = iVar6 / 1000 + (iVar6 >> 0x1f);
		lVar8 = ((longlong)(int)((ulonglong)((longlong)iVar6 * 0x10624dd3) >> 0x20) & 0xffffffff00000000U | (ulonglong)uVar1) + (ulonglong)(uVar1 >> 0x1f);
	}
	CelDecodeOnly(0x299, (ulonglong) * (uint *)(puVar3 + iParm1 * 4 + 4) + lVar8 + 0xcc, (ulonglong)*puVar2, 0xd, 0xc, iVar7, in_r9, in_r10, in_stack_ffffffa8);
	return;
}

void DrawSTextHelp(void)

{
	undefined4 *puVar1;

	puVar1 = _DAT_100f20d0;
	*_DAT_100f20dc = 1;
	*puVar1 = 0xffffffff;
	return;
}

void ClearSText(int param_1, int param_2)

{
	ulonglong uVar1;
	uint uVar2;
	undefined4 *puVar3;

	puVar3 = (undefined4 *)(_DAT_100f20d4 + param_1 * 0x9c);
	uVar2 = param_2 - param_1;
	if (param_2 <= param_1) {
		return;
	}
	uVar1 = (ulonglong)(uVar2 >> 3);
	if (uVar2 >> 3 != 0) {
		do {
			*puVar3 = 0;
			puVar3[1] = 0;
			*(undefined *)(puVar3 + 2) = 0;
			puVar3[0x22] = 0;
			*(undefined *)(puVar3 + 0x23) = 0;
			puVar3[0x24] = 0;
			puVar3[0x25] = 0;
			puVar3[0x26] = 0xffffffff;
			puVar3[0x27] = 0;
			puVar3[0x28] = 0;
			*(undefined *)(puVar3 + 0x29) = 0;
			puVar3[0x49] = 0;
			*(undefined *)(puVar3 + 0x4a) = 0;
			puVar3[0x4b] = 0;
			puVar3[0x4c] = 0;
			puVar3[0x4d] = 0xffffffff;
			puVar3[0x4e] = 0;
			puVar3[0x4f] = 0;
			*(undefined *)(puVar3 + 0x50) = 0;
			puVar3[0x70] = 0;
			*(undefined *)(puVar3 + 0x71) = 0;
			puVar3[0x72] = 0;
			puVar3[0x73] = 0;
			puVar3[0x74] = 0xffffffff;
			puVar3[0x75] = 0;
			puVar3[0x76] = 0;
			*(undefined *)(puVar3 + 0x77) = 0;
			puVar3[0x97] = 0;
			*(undefined *)(puVar3 + 0x98) = 0;
			puVar3[0x99] = 0;
			puVar3[0x9a] = 0;
			puVar3[0x9b] = 0xffffffff;
			puVar3[0x9c] = 0;
			puVar3[0x9d] = 0;
			*(undefined *)(puVar3 + 0x9e) = 0;
			puVar3[0xbe] = 0;
			*(undefined *)(puVar3 + 0xbf) = 0;
			puVar3[0xc0] = 0;
			puVar3[0xc1] = 0;
			puVar3[0xc2] = 0xffffffff;
			puVar3[0xc3] = 0;
			puVar3[0xc4] = 0;
			*(undefined *)(puVar3 + 0xc5) = 0;
			puVar3[0xe5] = 0;
			*(undefined *)(puVar3 + 0xe6) = 0;
			puVar3[0xe7] = 0;
			puVar3[0xe8] = 0;
			puVar3[0xe9] = 0xffffffff;
			puVar3[0xea] = 0;
			puVar3[0xeb] = 0;
			*(undefined *)(puVar3 + 0xec) = 0;
			puVar3[0x10c] = 0;
			*(undefined *)(puVar3 + 0x10d) = 0;
			puVar3[0x10e] = 0;
			puVar3[0x10f] = 0;
			puVar3[0x110] = 0xffffffff;
			puVar3[0x111] = 0;
			puVar3[0x112] = 0;
			*(undefined *)(puVar3 + 0x113) = 0;
			puVar3[0x133] = 0;
			*(undefined *)(puVar3 + 0x134) = 0;
			puVar3[0x135] = 0;
			puVar3[0x136] = 0;
			puVar3[0x137] = 0xffffffff;
			puVar3 = puVar3 + 0x138;
			uVar1 = uVar1 - 1;
		} while (uVar1 != 0);
		uVar2 = uVar2 & 7;
		if (uVar2 == 0) {
			return;
		}
	}
	do {
		*puVar3 = 0;
		puVar3[1] = 0;
		*(undefined *)(puVar3 + 2) = 0;
		puVar3[0x22] = 0;
		*(undefined *)(puVar3 + 0x23) = 0;
		puVar3[0x24] = 0;
		puVar3[0x25] = 0;
		puVar3[0x26] = 0xffffffff;
		puVar3 = puVar3 + 0x27;
		uVar2 = uVar2 - 1;
	} while (uVar2 != 0);
	return;
}

void FUN_100a6430(int param_1)

{
	int iVar1;

	iVar1 = _DAT_100f20d4 + param_1 * 0x9c;
	*(undefined4 *)(_DAT_100f20d4 + param_1 * 0x9c) = 0;
	*(undefined4 *)(iVar1 + 4) = 0;
	*(undefined *)(iVar1 + 8) = 0;
	*(undefined4 *)(iVar1 + 0x90) = 1;
	return;
}

void FUN_100a6458(int param_1, undefined4 param_2)

{
	*(undefined4 *)(_DAT_100f20d4 + param_1 * 0x9c + 0x98) = param_2;
	return;
}

void FUN_100a646c(int param_1, undefined4 param_2)

{
	*(undefined4 *)(_DAT_100f20d4 + param_1 * 0x9c + 4) = param_2;
	return;
}

void FUN_100a6480(undefined4 param_1, int param_2, undefined4 param_3, int param_4, undefined param_5,
    undefined4 param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined4 *puVar1;

	puVar1 = (undefined4 *)(_DAT_100f20d4 + param_2 * 0x9c);
	*puVar1 = param_1;
	puVar1[1] = 0;
	strcpy((int)(puVar1 + 2), param_4);
	puVar1[0x22] = param_3;
	*(undefined *)(puVar1 + 0x23) = param_5;
	puVar1[0x24] = 0;
	puVar1[0x25] = param_6;
	return;
}

void FUN_100a64e4(int param_1, int param_2, undefined8 param_3, char *param_4, undefined4 param_5,
    undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffff38;
	undefined in_stack_ffffff3f;
	undefined4 in_stack_ffffff4c;
	undefined4 in_stack_ffffff50;
	undefined4 in_stack_ffffff54;
	undefined4 in_stack_ffffff58;
	undefined4 in_stack_ffffff5c;
	undefined4 in_stack_ffffff60;
	undefined4 in_stack_ffffff64;
	char local_98[132];
	undefined4 local_14;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar3 = PTR_DAT_100f3910;
	puVar2 = PTR_DAT_100f191c;
	uVar5 = (undefined)param_3;
	ppuVar4 = &toc;
	local_14 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	local_98[0] = '\0';
	if (*(int *)(param_1 + 0x38) != 0) {
		uVar6 = uVar5;
		ppuVar4 = &toc;
		if ((*(char *)(param_1 + 0x3c) != '\x02') && (uVar6 = uVar5, ppuVar4 = &toc, *(char *)(param_1 + 0x14c) != -1)) {
			uVar6 = uVar5;
			ppuVar4 = &toc;
			PrintItemPower(*(char *)(param_1 + 0x14c), (char)param_1, uVar5, (char)param_4, (char)param_5,
			    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffff38);
			strcat((int)local_98, (int)puVar2);
		}
		if (*(char *)(param_1 + 0x14d) != -1) {
			PrintItemPower(*(char *)(param_1 + 0x14d), (char)param_1, uVar6, (char)param_4, (char)param_5,
			    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffff38);
			if (local_98[0] != '\0') {
				strcat((int)local_98, (int)puVar3);
			}
			strcat((int)local_98, (int)puVar2);
		}
	}
	if (*(int *)(param_1 + 0xdc) == 0x17) {
		param_4 = *(char **)(param_1 + 0xe8);
		if (param_4 != (char *)0x0) {
			sprintf((int)puVar2, ppuVar4[-0x15b1], *(undefined4 *)(param_1 + 0xe4), param_4, param_5,
			    param_6, param_7, param_8, in_stack_ffffff38, in_stack_ffffff3f, in_stack_ffffff4c,
			    in_stack_ffffff50, in_stack_ffffff54, in_stack_ffffff58, in_stack_ffffff5c,
			    in_stack_ffffff60, in_stack_ffffff64);
			if (local_98[0] != '\0') {
				strcat((int)local_98, (int)puVar3);
			}
			strcat((int)local_98, (int)puVar2);
		}
	}
	if (local_98[0] != '\0') {
		param_4 = local_98;
		param_6 = 0;
		param_5 = (int)param_3;
		FUN_100a6480(0x28, param_2, 0, (int)param_4, uVar5, 0, (char)param_7, (char)param_8, in_stack_ffffff38);
		param_2 = param_2 + 1;
	}
	local_98[0] = '\0';
	if (*(char *)(param_1 + 0xbe) == '\x01') {
		param_4 = *(char **)(param_1 + 0xd0);
		sprintf((int)local_98, ppuVar4[-0x15b2], *(undefined4 *)(param_1 + 0xcc), param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffff38, in_stack_ffffff3f, in_stack_ffffff4c,
		    in_stack_ffffff50, in_stack_ffffff54, in_stack_ffffff58, in_stack_ffffff5c,
		    in_stack_ffffff60, in_stack_ffffff64);
	}
	if (*(char *)(param_1 + 0xbe) == '\x02') {
		sprintf((int)local_98, ppuVar4[-0x15b3], *(undefined4 *)(param_1 + 0xd4), param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffff38, in_stack_ffffff3f, in_stack_ffffff4c,
		    in_stack_ffffff50, in_stack_ffffff54, in_stack_ffffff58, in_stack_ffffff5c,
		    in_stack_ffffff60, in_stack_ffffff64);
	}
	iVar1 = *(int *)(param_1 + 0xf0);
	if ((iVar1 == 0xff) || (iVar1 == 0)) {
		strcat((int)local_98, (int)ppuVar4[-0x15b4]);
	} else {
		sprintf((int)puVar2, ppuVar4[-0x15b5], *(undefined4 *)(param_1 + 0xec), iVar1, param_5, param_6,
		    param_7, param_8, in_stack_ffffff38, in_stack_ffffff3f, in_stack_ffffff4c,
		    in_stack_ffffff50, in_stack_ffffff54, in_stack_ffffff58, in_stack_ffffff5c,
		    in_stack_ffffff60, in_stack_ffffff64);
		strcat((int)local_98, (int)puVar2);
	}
	uVar7 = (undefined)param_8;
	uVar6 = (undefined)param_7;
	if (*(int *)(param_1 + 8) == 0) {
		local_98[0] = '\0';
	}
	if ((longlong) * (char *)(param_1 + 0x160) + (ulonglong) * (byte *)(param_1 + 0x161) + (longlong) * (char *)(param_1 + 0x162) == 0) {
		strcat((int)local_98, (int)ppuVar4[-0x15b6]);
	} else {
		strcpy((int)puVar2, (int)ppuVar4[-0x15b7]);
		if (*(char *)(param_1 + 0x160) != '\0') {
			sprintf((int)puVar2, ppuVar4[-0x15b8], puVar2, (int)*(char *)(param_1 + 0x160), param_5,
			    param_6, param_7, param_8, in_stack_ffffff38, in_stack_ffffff3f, in_stack_ffffff4c,
			    in_stack_ffffff50, in_stack_ffffff54, in_stack_ffffff58, in_stack_ffffff5c,
			    in_stack_ffffff60, in_stack_ffffff64);
		}
		if (*(byte *)(param_1 + 0x161) != 0) {
			sprintf((int)puVar2, ppuVar4[-0x15b9], puVar2, (uint) * (byte *)(param_1 + 0x161), param_5,
			    param_6, param_7, param_8, in_stack_ffffff38, in_stack_ffffff3f, in_stack_ffffff4c,
			    in_stack_ffffff50, in_stack_ffffff54, in_stack_ffffff58, in_stack_ffffff5c,
			    in_stack_ffffff60, in_stack_ffffff64);
		}
		uVar7 = (undefined)param_8;
		uVar6 = (undefined)param_7;
		if (*(char *)(param_1 + 0x162) != '\0') {
			sprintf((int)puVar2, ppuVar4[-0x15ba], puVar2, (int)*(char *)(param_1 + 0x162), param_5,
			    param_6, param_7, param_8, in_stack_ffffff38, in_stack_ffffff3f, in_stack_ffffff4c,
			    in_stack_ffffff50, in_stack_ffffff54, in_stack_ffffff58, in_stack_ffffff5c,
			    in_stack_ffffff60, in_stack_ffffff64);
		}
		strcat((int)local_98, (int)puVar2);
	}
	FUN_100a6480(0x28, param_2, 0, (int)local_98, uVar5, 0, uVar6, uVar7, in_stack_ffffff38);
	if ((*(char *)(param_1 + 0x3c) == '\x02') && (*(int *)(param_1 + 0x38) != 0)) {
		FUN_100a6480(0x28, param_2 + 1, 0, (int)ppuVar4[-0x15bb], uVar5, 0, uVar6, uVar7, in_stack_ffffff38);
	}
	return;
}

void StoreAutoPlace(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, char param_6, char param_7, char param_8, undefined4 param_9)

{
	uint uVar1;
	undefined4 uVar2;
	undefined *puVar3;
	ulonglong uVar4;
	ulonglong uVar5;
	ulonglong uVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	int iVar13;
	ulonglong uVar14;
	int iVar15;
	longlong lVar16;
	undefined4 in_stack_ffffffb8;

	puVar3 = PTR_DAT_100f1824;
	lVar12 = (longlong)param_8;
	lVar11 = (longlong)param_7;
	lVar10 = (longlong)param_6;
	uVar5 = ZEXT48(&toc);
	uVar14 = ZEXT48(PTR_DAT_100f1828);
	SetICursor(*(int *)(PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec + 0x5494) + 0xc);
	iVar13 = (int)uVar5;
	uVar6 = 0;
	uVar1 = **(uint **)(iVar13 + -0x7648);
	uVar4 = (ulonglong)uVar1;
	iVar15 = **(int **)(iVar13 + -0x764c);
	if ((uVar1 == 1) && (iVar15 == 1)) {
		lVar10 = uVar14 + (ulonglong) * (uint *)puVar3 * 0x55ec;
		if ((*(int *)((int)lVar10 + 0x5538) != 0) && (*(int *)(iVar13 + *(int *)((int)lVar10 + 0x553c) * 0x4c + 0x3898) != 0)) {
			lVar11 = 0;
			lVar7 = lVar10;
			while (((int)lVar11 < 8 && ((int)uVar6 == 0))) {
				if (*(int *)((int)lVar7 + 0x485c) == -1) {
					lVar16 = 0x2e;
					lVar9 = lVar7 + 0x484c;
					lVar8 = lVar10 + 0x53cc;
					do {
						lVar8 = lVar8 + 8;
						uVar2 = ((undefined4 *)lVar8)[1];
						lVar9 = lVar9 + 8;
						*(undefined4 *)lVar9 = *(undefined4 *)lVar8;
						((undefined4 *)lVar9)[1] = uVar2;
						lVar16 = lVar16 + -1;
					} while (lVar16 != 0);
					uVar6 = 1;
				}
				lVar7 = lVar7 + 0x170;
				lVar11 = lVar11 + 1;
			}
		}
		iVar13 = 0x1e;
		while ((iVar13 < 0x28 && ((int)uVar6 == 0))) {
			uVar6 = AutoPlace(*(int *)puVar3, iVar13, uVar4, 1, 1, (char)lVar10, (char)lVar11, (char)lVar12,
			    in_stack_ffffffb8);
			iVar13 = iVar13 + 1;
		}
		iVar13 = 0x14;
		while ((iVar13 < 0x1e && ((int)uVar6 == 0))) {
			uVar6 = AutoPlace(*(int *)puVar3, iVar13, uVar4, 1, 1, (char)lVar10, (char)lVar11, (char)lVar12,
			    in_stack_ffffffb8);
			iVar13 = iVar13 + 1;
		}
		iVar13 = 10;
		while ((iVar13 < 0x14 && ((int)uVar6 == 0))) {
			uVar6 = AutoPlace(*(int *)puVar3, iVar13, uVar4, 1, 1, (char)lVar10, (char)lVar11, (char)lVar12,
			    in_stack_ffffffb8);
			iVar13 = iVar13 + 1;
		}
		iVar13 = 0;
		while ((iVar13 < 10 && ((int)uVar6 == 0))) {
			uVar6 = AutoPlace(*(int *)puVar3, iVar13, uVar4, 1, 1, (char)lVar10, (char)lVar11, (char)lVar12,
			    in_stack_ffffffb8);
			iVar13 = iVar13 + 1;
		}
	}
	if ((uVar1 == 1) && (iVar15 == 2)) {
		iVar13 = 0x1d;
		while ((0x13 < iVar13 && ((int)uVar6 == 0))) {
			uVar6 = AutoPlace(*(int *)puVar3, iVar13, uVar4, 2, 1, (char)lVar10, (char)lVar11, (char)lVar12,
			    in_stack_ffffffb8);
			iVar13 = iVar13 + -1;
		}
		iVar13 = 9;
		while ((-1 < iVar13 && ((int)uVar6 == 0))) {
			uVar6 = AutoPlace(*(int *)puVar3, iVar13, uVar4, 2, 1, (char)lVar10, (char)lVar11, (char)lVar12,
			    in_stack_ffffffb8);
			iVar13 = iVar13 + -1;
		}
		iVar13 = 0x13;
		while ((9 < iVar13 && ((int)uVar6 == 0))) {
			uVar6 = AutoPlace(*(int *)puVar3, iVar13, uVar4, 2, 1, (char)lVar10, (char)lVar11, (char)lVar12,
			    in_stack_ffffffb8);
			iVar13 = iVar13 + -1;
		}
	}
	if ((uVar1 == 1) && (iVar15 == 3)) {
		iVar13 = 0;
		while ((iVar13 < 0x14 && ((int)uVar6 == 0))) {
			uVar6 = AutoPlace(*(int *)puVar3, iVar13, uVar4, 3, 1, (char)lVar10, (char)lVar11, (char)lVar12,
			    in_stack_ffffffb8);
			iVar13 = iVar13 + 1;
		}
	}
	if ((uVar1 == 2) && (iVar15 == 2)) {
		iVar13 = 0;
		lVar7 = uVar5 + 0x35c4;
		while ((iVar13 < 10 && ((int)uVar6 == 0))) {
			uVar6 = AutoPlace(*(int *)puVar3, *(int *)lVar7, uVar4, 2, 1, (char)lVar10, (char)lVar11,
			    (char)lVar12, in_stack_ffffffb8);
			iVar13 = iVar13 + 1;
			lVar7 = lVar7 + 4;
		}
		iVar13 = 0x15;
		while ((iVar13 < 0x1d && ((int)uVar6 == 0))) {
			uVar6 = AutoPlace(*(int *)puVar3, iVar13, uVar4, 2, 1, (char)lVar10, (char)lVar11, (char)lVar12,
			    in_stack_ffffffb8);
			iVar13 = iVar13 + 2;
		}
		iVar13 = 1;
		while ((iVar13 < 9 && ((int)uVar6 == 0))) {
			uVar6 = AutoPlace(*(int *)puVar3, iVar13, uVar4, 2, 1, (char)lVar10, (char)lVar11, (char)lVar12,
			    in_stack_ffffffb8);
			iVar13 = iVar13 + 2;
		}
		iVar13 = 10;
		while ((iVar13 < 0x13 && ((int)uVar6 == 0))) {
			uVar6 = AutoPlace(*(int *)puVar3, iVar13, uVar4, 2, 1, (char)lVar10, (char)lVar11, (char)lVar12,
			    in_stack_ffffffb8);
			iVar13 = iVar13 + 1;
		}
	}
	if ((uVar1 == 2) && (iVar15 == 3)) {
		iVar15 = 0;
		while ((iVar15 < 9 && ((int)uVar6 == 0))) {
			uVar6 = AutoPlace(*(int *)puVar3, iVar15, uVar4, 3, 1, (char)lVar10, (char)lVar11, (char)lVar12,
			    in_stack_ffffffb8);
			iVar15 = iVar15 + 1;
		}
		iVar15 = 10;
		while ((iVar15 < 0x13 && ((int)uVar6 == 0))) {
			uVar6 = AutoPlace(*(int *)puVar3, iVar15, uVar4, 3, 1, (char)lVar10, (char)lVar11, (char)lVar12,
			    in_stack_ffffffb8);
			iVar15 = iVar15 + 1;
		}
	}
	return;
}

void FUN_100a6bc4(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined4 in_stack_ffffffc8;

	puVar2 = PTR_s_Welcome_to_the_100f38e0;
	puVar1 = _DAT_100f20d8;
	ppuVar3 = &toc;
	*_DAT_100f20dc = 0;
	*puVar1 = 0;
	FUN_100a6480(0, 1, 1, (int)puVar2, 3, 0, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 3, 1, (int)ppuVar3[-0x15bd], 3, 0, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 7, 1, (int)ppuVar3[-0x15be], 3, 0, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 10, 1, (int)ppuVar3[-0x15bf], 1, 1, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 0xc, 1, (int)ppuVar3[-0x15c0], 0, 1, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 0xe, 1, (int)ppuVar3[-0x15c1], 0, 1, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 0x10, 1, (int)ppuVar3[-0x15c2], 0, 1, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 0x12, 1, (int)ppuVar3[-0x15c3], 0, 1, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 0x14, 1, (int)ppuVar3[-0x15c4], 0, 1, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6430(5);
	*(undefined4 *)ppuVar3[-0x1bc4] = 0x14;
	return;
}

void FUN_100a6d04(int iParm1)

{
	int *piVar1;
	int *piVar2;
	ulonglong uVar3;
	char *pcVar4;
	undefined4 uVar5;
	undefined4 uVar6;
	undefined4 in_r9;
	undefined4 in_r10;
	ulonglong uVar7;
	int iVar8;
	int iVar9;
	undefined4 in_stack_ffffffa8;

	piVar2 = _DAT_100f20d0;
	piVar1 = _DAT_100f20b4;
	uVar3 = ZEXT48(&toc);
	ClearSText(5, 0x15);
	iVar9 = *(int *)((int)uVar3 + -0x71a4) + iParm1 * 0x170;
	**(undefined4 **)((int)uVar3 + -0x6f18) = 5;
	iVar8 = 5;
	do {
		if (*(int *)(iVar9 + 8) != -1) {
			uVar7 = (ulonglong)(*(char *)(iVar9 + 0x3c) != '\0');
			if (*(int *)(iVar9 + 0x164) == 0) {
				uVar7 = 2;
			}
			uVar5 = (undefined4)uVar7;
			if (*(char *)(iVar9 + 0x3c) == '\0') {
				pcVar4 = (char *)(iVar9 + 0x3d);
				uVar6 = 1;
				FUN_100a6480(0x14, iVar8, 0, (int)pcVar4, (char)uVar7, 1, (char)in_r9, (char)in_r10,
				    in_stack_ffffffa8);
			} else {
				pcVar4 = (char *)(iVar9 + 0x7d);
				uVar6 = 1;
				FUN_100a6480(0x14, iVar8, 0, (int)pcVar4, (char)uVar7, 1, (char)in_r9, (char)in_r10,
				    in_stack_ffffffa8);
			}
			FUN_100a6458(iVar8, *(undefined4 *)(iVar9 + 200));
			FUN_100a64e4(iVar9, iVar8 + 1, uVar7, pcVar4, uVar5, uVar6, in_r9, in_r10, in_stack_ffffffa8);
			*piVar1 = iVar8;
			iVar9 = iVar9 + 0x170;
		}
		iVar8 = iVar8 + 4;
	} while (iVar8 < 0x14);
	iVar8 = *piVar2;
	if ((*(int *)(*(int *)((int)uVar3 + -0x6efc) + iVar8 * 0x9c + 0x94) == 0) && (iVar8 != 0x16)) {
		*piVar2 = *piVar1;
	}
	return;
}

void FUN_100a6e2c(void)

{
	undefined *puVar1;
	undefined *puVar2;
	int *piVar3;
	uint *puVar4;
	int *piVar5;
	undefined4 *puVar6;
	undefined **ppuVar7;
	undefined *puVar8;
	undefined4 in_r6;
	undefined4 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined uVar9;
	undefined4 in_r10;
	undefined uVar10;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar6 = _DAT_100f20d8;
	piVar5 = _DAT_100f20c0;
	puVar4 = _DAT_100f20bc;
	piVar3 = _DAT_100f20b0;
	puVar2 = PTR_DAT_100f191c;
	puVar1 = PTR_DAT_100f1828;
	uVar10 = (undefined)in_r10;
	uVar9 = (undefined)in_r9;
	ppuVar7 = &toc;
	*_DAT_100f20dc = 1;
	*puVar6 = 1;
	puVar8 = PTR_DAT_100f1824;
	*puVar4 = 0;
	sprintf((int)puVar2, PTR_s_I_have_these_items_for_sale___Yo_100f38bc,
	    *(undefined4 *)(puVar1 + *(int *)puVar8 * 0x55ec + 0x1c8), in_r6, in_r7, in_r8, in_r9,
	    in_r10, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc, in_stack_ffffffd0,
	    in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0,
	    in_stack_ffffffe4);
	FUN_100a6480(0, 1, 1, (int)puVar2, 3, 0, uVar9, uVar10, in_stack_ffffffb8);
	FUN_100a6430(3);
	FUN_100a6430(0x15);
	FUN_100a6d04((ulonglong)*puVar4);
	FUN_100a6480(0, 0x16, 1, (int)ppuVar7[-0x15c6], 0, 0, uVar9, uVar10, in_stack_ffffffb8);
	FUN_100a646c(0x16, 6);
	*piVar5 = 0;
	puVar8 = ppuVar7[-0x1c69];
	while (*(int *)(puVar8 + 8) != -1) {
		puVar8 = puVar8 + 0x170;
		*piVar5 = *piVar5 + 1;
	}
	*piVar3 = *piVar5 + -4;
	if (*piVar3 < 0) {
		*piVar3 = 0;
	}
	return;
}

void FUN_100a6f44(int iParm1)

{
	int *piVar1;
	int *piVar2;
	ulonglong uVar3;
	char *pcVar4;
	undefined4 uVar5;
	undefined4 uVar6;
	undefined4 in_r9;
	undefined4 in_r10;
	int iVar7;
	ulonglong uVar8;
	int iVar9;
	int iVar10;
	undefined4 in_stack_ffffffa8;

	piVar2 = _DAT_100f20d0;
	piVar1 = _DAT_100f20b4;
	iVar10 = _DAT_100f1e28;
	uVar3 = ZEXT48(&toc);
	ClearSText(5, 0x15);
	**(undefined4 **)((int)uVar3 + -0x6f18) = 5;
	iVar7 = 0;
	iVar9 = iVar10;
	while (iParm1 != 0) {
		if (*(int *)(iVar9 + 8) != -1) {
			iParm1 = iParm1 + -1;
		}
		iVar9 = iVar9 + 0x170;
		iVar7 = iVar7 + 1;
	}
	iVar10 = iVar10 + iVar7 * 0x170;
	iVar9 = 5;
	while ((iVar9 < 0x14 && (iVar7 < 6))) {
		if (*(int *)(iVar10 + 8) == -1) {
			if (iVar7 < 6) {
				iVar9 = iVar9 + -4;
			}
		} else {
			uVar8 = (ulonglong)(*(char *)(iVar10 + 0x3c) != '\0');
			if (*(int *)(iVar10 + 0x164) == 0) {
				uVar8 = 2;
			}
			uVar5 = (undefined4)uVar8;
			pcVar4 = (char *)(iVar10 + 0x7d);
			uVar6 = 1;
			FUN_100a6480(0x14, iVar9, 0, (int)pcVar4, (char)uVar8, 1, (char)in_r9, (char)in_r10, in_stack_ffffffa8);
			FUN_100a6458(iVar9, *(undefined4 *)(iVar10 + 200));
			FUN_100a64e4(iVar10, iVar9 + 1, uVar8, pcVar4, uVar5, uVar6, in_r9, in_r10, in_stack_ffffffa8);
			*piVar1 = iVar9;
		}
		iVar10 = iVar10 + 0x170;
		iVar7 = iVar7 + 1;
		iVar9 = iVar9 + 4;
	}
	iVar10 = *piVar2;
	if ((*(int *)(*(int *)((int)uVar3 + -0x6efc) + iVar10 * 0x9c + 0x94) == 0) && (iVar10 != 0x16)) {
		*piVar2 = *piVar1;
	}
	return;
}

undefined8
FUN_100a7094(undefined8 uParm1, undefined8 uParm2, undefined param_3, undefined param_4,
    undefined8 uParm5, undefined8 uParm6, undefined4 uParm7, undefined4 uParm8)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	int iVar4;
	int *piVar5;
	uint *puVar6;
	int *piVar7;
	undefined4 *puVar8;
	undefined **ppuVar9;
	undefined **ppuVar10;
	undefined8 uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	piVar7 = _DAT_100f20c0;
	puVar6 = _DAT_100f20bc;
	piVar5 = _DAT_100f20b0;
	iVar4 = _DAT_100f1e28;
	puVar3 = PTR_DAT_100f191c;
	uVar13 = (undefined)uParm8;
	uVar12 = (undefined)uParm7;
	ppuVar10 = &toc;
	ppuVar9 = &toc;
	*_DAT_100f20c0 = 0;
	if (*(int *)(iVar4 + 8) != -1) {
		*piVar7 = *piVar7 + 1;
	}
	if (*(int *)(iVar4 + 0x178) != -1) {
		*piVar7 = *piVar7 + 1;
	}
	if (*(int *)(iVar4 + 0x2e8) != -1) {
		*piVar7 = *piVar7 + 1;
	}
	if (*(int *)(iVar4 + 0x458) != -1) {
		*piVar7 = *piVar7 + 1;
	}
	if (*(int *)(iVar4 + 0x5c8) != -1) {
		*piVar7 = *piVar7 + 1;
	}
	if (*(int *)(iVar4 + 0x738) != -1) {
		*piVar7 = *piVar7 + 1;
	}
	puVar8 = _DAT_100f20d8;
	if (*piVar7 == 0) {
		StartStore('\x01', (char)iVar4 + -0x40, param_3, param_4, (char)uParm5, (char)uParm6, uVar12, uVar13,
		    in_stack_ffffffb8);
		uVar11 = 0;
		*(undefined4 *)ppuVar9[-0x1bc0] = 0xe;
	} else {
		*_DAT_100f20dc = 1;
		puVar1 = PTR_DAT_100f1824;
		*puVar8 = 1;
		puVar2 = PTR_DAT_100f1828;
		*puVar6 = 0;
		sprintf((int)puVar3, PTR_s_I_have_these_premium_items_for_s_100f38b4,
		    *(undefined4 *)(puVar2 + *(int *)puVar1 * 0x55ec + 0x1c8), puVar2, (int)uParm5,
		    (int)uParm6, uParm7, uParm8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4);
		FUN_100a6480(0, 1, 1, (int)puVar3, 3, 0, uVar12, uVar13, in_stack_ffffffb8);
		FUN_100a6430(3);
		FUN_100a6430(0x15);
		FUN_100a6480(0, 0x16, 1, (int)ppuVar10[-0x15c6], 0, 0, uVar12, uVar13, in_stack_ffffffb8);
		FUN_100a646c(0x16, 6);
		*piVar5 = *piVar7 + -4;
		if (*piVar5 < 0) {
			*piVar5 = 0;
		}
		FUN_100a6f44((ulonglong)*puVar6);
		uVar11 = 1;
	}
	return uVar11;
}

undefined8 FUN_100a7258(int param_1)

{
	int iVar1;

	iVar1 = *(int *)(PTR_DAT_100f1828 + param_1 * 0x170 + *(int *)PTR_DAT_100f1824 * 0x55ec + 0xeb0);
	if (iVar1 == -1) {
		return 0;
	}
	if (iVar1 == 0) {
		return 0;
	}
	if (iVar1 == 0xb) {
		return 0;
	}
	if (iVar1 == 0xe) {
		return 0;
	}
	if (iVar1 == 10) {
		return 0;
	}
	if (*(int *)(PTR_DAT_100f1828 + param_1 * 0x170 + *(int *)PTR_DAT_100f1824 * 0x55ec + 0x1010) == 0x21) {
		return 0;
	}
	return 1;
}

void FUN_100a72e4(int iParm1)

{
	int *piVar1;
	int *piVar2;
	int *piVar3;
	undefined **ppuVar4;
	undefined4 uVar5;
	char *pcVar6;
	undefined4 uVar7;
	undefined4 uVar8;
	undefined4 in_r9;
	undefined4 in_r10;
	ulonglong uVar9;
	int iVar10;
	undefined *puVar11;
	undefined4 in_stack_ffffffa8;

	piVar3 = _DAT_100f20c0;
	piVar2 = _DAT_100f20b4;
	piVar1 = _DAT_100f20b0;
	ppuVar4 = &toc;
	ClearSText(5, 0x15);
	puVar11 = ppuVar4[-0x1bc9] + iParm1 * 0x170;
	*(undefined4 *)ppuVar4[-0x1bc6] = 5;
	iVar10 = 5;
	while ((iVar10 < 0x14 && (iParm1 < *piVar3))) {
		if (*(int *)(puVar11 + 8) != -1) {
			uVar9 = (ulonglong)(puVar11[0x3c] != '\0');
			if (*(int *)(puVar11 + 0x164) == 0) {
				uVar9 = 2;
			}
			uVar7 = (undefined4)uVar9;
			if ((puVar11[0x3c] == '\0') || (*(int *)(puVar11 + 0x38) == 0)) {
				pcVar6 = puVar11 + 0x3d;
				uVar8 = 1;
				FUN_100a6480(0x14, iVar10, 0, (int)pcVar6, (char)uVar9, 1, (char)in_r9, (char)in_r10,
				    in_stack_ffffffa8);
				uVar5 = *(undefined4 *)(puVar11 + 0xc4);
			} else {
				pcVar6 = puVar11 + 0x7d;
				uVar8 = 1;
				FUN_100a6480(0x14, iVar10, 0, (int)pcVar6, (char)uVar9, 1, (char)in_r9, (char)in_r10,
				    in_stack_ffffffa8);
				uVar5 = *(undefined4 *)(puVar11 + 200);
			}
			FUN_100a6458(iVar10, uVar5);
			FUN_100a64e4((int)puVar11, iVar10 + 1, uVar9, pcVar6, uVar7, uVar8, in_r9, in_r10, in_stack_ffffffa8);
			*piVar2 = iVar10;
		}
		puVar11 = puVar11 + 0x170;
		iParm1 = iParm1 + 1;
		iVar10 = iVar10 + 4;
	}
	*piVar1 = *piVar3 + -4;
	if (*piVar1 < 0) {
		*piVar1 = 0;
	}
	return;
}

void FUN_100a7428(void)

{
	uint uVar1;
	undefined4 *puVar2;
	undefined4 uVar3;
	bool bVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	uint *puVar9;
	uint *puVar10;
	undefined *puVar11;
	ulonglong uVar12;
	undefined8 uVar13;
	int iVar14;
	undefined4 *puVar15;
	longlong in_r6;
	undefined *puVar16;
	longlong in_r7;
	undefined8 in_r8;
	undefined4 in_r9;
	undefined uVar17;
	undefined4 in_r10;
	undefined uVar18;
	longlong lVar19;
	int iVar20;
	ulonglong uVar21;
	longlong lVar22;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;

	puVar11 = PTR_DAT_100f38b8;
	puVar2 = _DAT_100f20d8;
	puVar10 = _DAT_100f20c0;
	puVar9 = _DAT_100f20bc;
	puVar8 = PTR_DAT_100f20ac;
	puVar7 = PTR_DAT_100f20a8;
	puVar6 = PTR_DAT_100f191c;
	puVar16 = PTR_DAT_100f1828;
	puVar5 = PTR_DAT_100f1824;
	uVar12 = ZEXT48(&toc);
	lVar19 = 0;
	uVar21 = ZEXT48(PTR_DAT_100f20ac);
	iVar20 = 0;
	bVar4 = false;
	*_DAT_100f20dc = 1;
	*puVar10 = 0;
	*(undefined4 *)(puVar8 + 8) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x178) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x2e8) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x458) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x5c8) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x738) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x8a8) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0xa18) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0xb88) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0xcf8) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0xe68) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0xfd8) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x1148) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x12b8) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x1428) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x1598) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x1708) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x1878) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x19e8) = 0xffffffff;
	*(undefined4 *)(puVar8 + 7000) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x1cc8) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x1e38) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x1fa8) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x2118) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x2288) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x23f8) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x2568) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x26d8) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x2848) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x29b8) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x2b28) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x2c98) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x2e08) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x2f78) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x30e8) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x3258) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x33c8) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x3538) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x36a8) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x3818) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x3988) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x3af8) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x3c68) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x3dd8) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x3f48) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x40b8) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x4228) = 0xffffffff;
	*(undefined4 *)(puVar8 + 0x4398) = 0xffffffff;
	while (true) {
		uVar18 = (undefined)in_r10;
		uVar17 = (undefined)in_r9;
		iVar14 = *(int *)puVar5 * 0x55ec;
		if (*(int *)(puVar16 + iVar14 + 0x4828) <= (int)lVar19)
			break;
		uVar13 = FUN_100a7258((int)lVar19);
		if ((int)uVar13 != 0) {
			uVar1 = *puVar10;
			lVar22 = 0x2e;
			in_r7 = uVar21 + (ulonglong)uVar1 * 0x170;
			in_r6 = in_r7 + -8;
			bVar4 = true;
			puVar15 = (undefined4 *)(puVar16 + *(int *)puVar5 * 0x55ec + iVar20 + 0xea0);
			do {
				uVar3 = puVar15[3];
				in_r6 = in_r6 + 8;
				*(undefined4 *)in_r6 = puVar15[2];
				((undefined4 *)in_r6)[1] = uVar3;
				lVar22 = lVar22 + -1;
				puVar15 = puVar15 + 2;
			} while (lVar22 != 0);
			iVar14 = (int)in_r7;
			if ((*(char *)(iVar14 + 0x3c) != '\0') && (*(int *)(iVar14 + 0x38) != 0)) {
				*(undefined4 *)(iVar14 + 0xc4) = *(undefined4 *)(iVar14 + 200);
			}
			*(int *)(iVar14 + 0xc4) = *(int *)(iVar14 + 0xc4) >> 2;
			if (*(int *)(iVar14 + 0xc4) == 0) {
				*(undefined4 *)(iVar14 + 0xc4) = 1;
			}
			*(undefined4 *)(iVar14 + 200) = *(undefined4 *)(iVar14 + 0xc4);
			puVar7[uVar1] = (char)lVar19;
			*puVar10 = *puVar10 + 1;
		}
		iVar20 = iVar20 + 0x170;
		lVar19 = lVar19 + 1;
	}
	iVar20 = (int)uVar12;
	if (bVar4) {
		puVar16 = puVar16 + iVar14;
		*puVar2 = 1;
		puVar2 = *(undefined4 **)(iVar20 + -0x6f20);
		*puVar9 = 0;
		uVar3 = *(undefined4 *)(iVar20 + -0x5724);
		*puVar2 = *(undefined4 *)(puVar16 + 0x4828);
		sprintf((int)puVar6, uVar3, *(undefined4 *)(puVar16 + 0x1c8), puVar16, (int)in_r7, (int)in_r8,
		    in_r9, in_r10, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffac,
		    in_stack_ffffffb0, in_stack_ffffffb4, in_stack_ffffffb8, in_stack_ffffffbc,
		    in_stack_ffffffc0, in_stack_ffffffc4);
		FUN_100a6480(0, 1, 1, (int)puVar6, 3, 0, uVar17, uVar18, in_stack_ffffff98);
		FUN_100a6430(3);
		FUN_100a6430(0x15);
		FUN_100a72e4((ulonglong)*puVar9);
		FUN_100a6480(0, 0x16, 1, (int)puVar11, 0, 1, uVar17, uVar18, in_stack_ffffff98);
		FUN_100a646c(0x16, 6);
	} else {
		*puVar2 = 0;
		sprintf((int)puVar6, *(undefined4 *)(iVar20 + -0x5720),
		    *(undefined4 *)(puVar16 + iVar14 + 0x1c8), (int)in_r6, (int)in_r7, (int)in_r8, in_r9,
		    in_r10, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffac, in_stack_ffffffb0,
		    in_stack_ffffffb4, in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0,
		    in_stack_ffffffc4);
		FUN_100a6480(0, 1, 1, (int)puVar6, 3, 0, uVar17, uVar18, in_stack_ffffff98);
		FUN_100a6430(3);
		FUN_100a6430(0x15);
		FUN_100a6480(0, 0x16, 1, (int)puVar11, 0, 1, uVar17, uVar18, in_stack_ffffff98);
		FUN_100a646c(0x16, 6);
	}
	return;
}

undefined8 FUN_100a7734(int param_1)

{
	int iVar1;
	undefined *puVar2;

	puVar2 = PTR_DAT_100f1828 + param_1 * 0x170 + *(int *)PTR_DAT_100f1824 * 0x55ec;
	iVar1 = *(int *)(puVar2 + 0xeb0);
	if (iVar1 == -1) {
		return 0;
	}
	if (iVar1 == 0) {
		return 0;
	}
	if (iVar1 == 0xb) {
		return 0;
	}
	if (iVar1 == 0xe) {
		return 0;
	}
	if (*(int *)(puVar2 + 0xf94) == *(int *)(puVar2 + 0xf98)) {
		return 0;
	}
	return 1;
}

void FUN_100a77b4(int param_1, undefined param_2)

{
	undefined4 uVar1;
	uint uVar2;
	undefined *puVar3;
	int *piVar4;
	int iVar5;
	undefined *puVar6;
	undefined4 *puVar7;
	undefined4 *puVar8;
	longlong lVar9;

	piVar4 = _DAT_100f20c0;
	lVar9 = 0x2e;
	puVar6 = PTR_DAT_100f20ac + *_DAT_100f20c0 * 0x170;
	puVar7 = (undefined4 *)(param_1 + -8);
	puVar8 = (undefined4 *)(puVar6 + -8);
	do {
		uVar1 = puVar7[3];
		puVar8[2] = puVar7[2];
		puVar8[3] = uVar1;
		lVar9 = lVar9 + -1;
		puVar7 = puVar7 + 2;
		puVar8 = puVar8 + 2;
	} while (lVar9 != 0);
	if (puVar6[0x3c] != '\0') {
		if (*(int *)(puVar6 + 0x38) != 0) {
			uVar2 = (*(int *)(puVar6 + 200) * 0x1e) / 100 + (*(int *)(puVar6 + 200) * 0x1e >> 0x1f);
			*(uint *)(puVar6 + 0xc4) = uVar2 + (uVar2 >> 0x1f);
		}
	}
	iVar5 = (((*(int *)(puVar6 + 0xf0) - *(int *)(puVar6 + 0xec)) * 100) / *(int *)(puVar6 + 0xf0)) * *(int *)(puVar6 + 0xc4);
	uVar2 = iVar5 / 100 + (iVar5 >> 0x1f);
	lVar9 = ((longlong)(int)((ulonglong)((longlong)iVar5 * 0x51eb851f) >> 0x20) & 0xffffffff00000000U
	            | (ulonglong)uVar2)
	    + (ulonglong)(uVar2 >> 0x1f);
	iVar5 = (int)lVar9;
	if (lVar9 == 0) {
		if ((puVar6[0x3c] != '\0') && (*(int *)(puVar6 + 0x38) != 0)) {
			return;
		}
		iVar5 = 1;
	}
	if (1 < iVar5) {
		iVar5 = iVar5 >> 1;
	}
	*(int *)(puVar6 + 200) = iVar5;
	puVar3 = PTR_DAT_100f20a8;
	*(int *)(puVar6 + 0xc4) = iVar5;
	iVar5 = *piVar4;
	*piVar4 = iVar5 + 1;
	puVar3[iVar5] = param_2;
	return;
}

void FUN_100a78ac(void)

{
	undefined4 *puVar1;
	undefined4 uVar2;
	bool bVar3;
	undefined *puVar4;
	undefined *puVar5;
	uint *puVar6;
	undefined4 *puVar7;
	undefined *puVar8;
	ulonglong uVar9;
	undefined8 uVar10;
	int iVar11;
	undefined *puVar12;
	undefined8 in_r6;
	undefined *puVar13;
	undefined8 in_r7;
	undefined8 in_r8;
	undefined4 in_r9;
	undefined uVar14;
	undefined4 in_r10;
	undefined uVar15;
	longlong lVar16;
	int iVar17;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;

	puVar8 = PTR_DAT_100f38b8;
	puVar7 = _DAT_100f20d8;
	puVar1 = _DAT_100f20c0;
	puVar6 = _DAT_100f20bc;
	puVar5 = PTR_DAT_100f191c;
	puVar13 = PTR_DAT_100f1828;
	puVar4 = PTR_DAT_100f1824;
	uVar9 = ZEXT48(&toc);
	bVar3 = false;
	*_DAT_100f20dc = 1;
	puVar12 = PTR_DAT_100f20ac;
	*puVar1 = 0;
	*(undefined4 *)(puVar12 + 8) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x178) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x2e8) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x458) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x5c8) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x738) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x8a8) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0xa18) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0xb88) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0xcf8) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0xe68) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0xfd8) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x1148) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x12b8) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x1428) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x1598) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x1708) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x1878) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x19e8) = 0xffffffff;
	*(undefined4 *)(puVar12 + 7000) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x1cc8) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x1e38) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x1fa8) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x2118) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x2288) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x23f8) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x2568) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x26d8) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x2848) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x29b8) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x2b28) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x2c98) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x2e08) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x2f78) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x30e8) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x3258) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x33c8) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x3538) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x36a8) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x3818) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x3988) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x3af8) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x3c68) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x3dd8) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x3f48) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x40b8) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x4228) = 0xffffffff;
	*(undefined4 *)(puVar12 + 0x4398) = 0xffffffff;
	puVar12 = puVar13 + *(int *)puVar4 * 0x55ec;
	if ((*(int *)(puVar12 + 0x4a0) != -1) && (*(int *)(puVar12 + 0x584) != *(int *)(puVar12 + 0x588))) {
		bVar3 = true;
		FUN_100a77b4((int)(puVar13 + *(int *)puVar4 * 0x55ec + 0x498), 0xff);
	}
	puVar12 = puVar13 + *(int *)puVar4 * 0x55ec;
	if ((*(int *)(puVar12 + 0xd40) != -1) && (*(int *)(puVar12 + 0xe24) != *(int *)(puVar12 + 0xe28))) {
		bVar3 = true;
		FUN_100a77b4((int)(puVar13 + *(int *)puVar4 * 0x55ec + 0xd38), 0xfe);
	}
	puVar12 = puVar13 + *(int *)puVar4 * 0x55ec;
	if ((*(int *)(puVar12 + 0xa60) != -1) && (*(int *)(puVar12 + 0xb44) != *(int *)(puVar12 + 0xb48))) {
		bVar3 = true;
		FUN_100a77b4((int)(puVar13 + *(int *)puVar4 * 0x55ec + 0xa58), 0xfd);
	}
	puVar12 = puVar13 + *(int *)puVar4 * 0x55ec;
	if ((*(int *)(puVar12 + 0xbd0) != -1) && (*(int *)(puVar12 + 0xcb4) != *(int *)(puVar12 + 0xcb8))) {
		bVar3 = true;
		FUN_100a77b4((int)(puVar13 + *(int *)puVar4 * 0x55ec + 0xbc8), 0xfc);
	}
	lVar16 = 0;
	iVar17 = 0;
	while (true) {
		uVar15 = (undefined)in_r10;
		uVar14 = (undefined)in_r9;
		iVar11 = *(int *)puVar4 * 0x55ec;
		if (*(int *)(puVar13 + iVar11 + 0x4828) <= (int)lVar16)
			break;
		uVar10 = FUN_100a7734((int)lVar16);
		if ((int)uVar10 != 0) {
			bVar3 = true;
			FUN_100a77b4((int)(puVar13 + *(int *)puVar4 * 0x55ec + iVar17 + 0xea8), (char)lVar16);
		}
		iVar17 = iVar17 + 0x170;
		lVar16 = lVar16 + 1;
	}
	iVar17 = (int)uVar9;
	if (bVar3) {
		puVar13 = puVar13 + iVar11;
		*puVar7 = 1;
		puVar1 = *(undefined4 **)(iVar17 + -0x6f20);
		*puVar6 = 0;
		uVar2 = *(undefined4 *)(iVar17 + -0x572c);
		*puVar1 = *(undefined4 *)(puVar13 + 0x4828);
		sprintf((int)puVar5, uVar2, *(undefined4 *)(puVar13 + 0x1c8), puVar13, (int)in_r7, (int)in_r8,
		    in_r9, in_r10, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffac,
		    in_stack_ffffffb0, in_stack_ffffffb4, in_stack_ffffffb8, in_stack_ffffffbc,
		    in_stack_ffffffc0, in_stack_ffffffc4);
		FUN_100a6480(0, 1, 1, (int)puVar5, 3, 0, uVar14, uVar15, in_stack_ffffff98);
		FUN_100a6430(3);
		FUN_100a6430(0x15);
		FUN_100a72e4((ulonglong)*puVar6);
		FUN_100a6480(0, 0x16, 1, (int)puVar8, 0, 1, uVar14, uVar15, in_stack_ffffff98);
		FUN_100a646c(0x16, 6);
	} else {
		*puVar7 = 0;
		sprintf((int)puVar5, *(undefined4 *)(iVar17 + -0x5728),
		    *(undefined4 *)(puVar13 + iVar11 + 0x1c8), (int)in_r6, (int)in_r7, (int)in_r8, in_r9,
		    in_r10, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffac, in_stack_ffffffb0,
		    in_stack_ffffffb4, in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0,
		    in_stack_ffffffc4);
		FUN_100a6480(0, 1, 1, (int)puVar5, 3, 0, uVar14, uVar15, in_stack_ffffff98);
		FUN_100a6430(3);
		FUN_100a6430(0x15);
		FUN_100a6480(0, 0x16, 1, (int)puVar8, 0, 1, uVar14, uVar15, in_stack_ffffff98);
		FUN_100a646c(0x16, 6);
	}
	return;
}

void FUN_100a7c20(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined4 in_stack_ffffffc8;

	puVar2 = PTR_s_Witch_s_shack_100f38a0;
	puVar1 = _DAT_100f20d8;
	ppuVar3 = &toc;
	*_DAT_100f20dc = 0;
	*puVar1 = 0;
	FUN_100a6480(0, 2, 1, (int)puVar2, 3, 0, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 9, 1, (int)ppuVar3[-0x15be], 3, 0, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 0xc, 1, (int)ppuVar3[-0x15cd], 1, 1, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 0xe, 1, (int)ppuVar3[-0x15ce], 0, 1, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 0x10, 1, (int)ppuVar3[-0x15c2], 0, 1, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 0x12, 1, (int)ppuVar3[-0x15cf], 0, 1, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 0x14, 1, (int)ppuVar3[-0x15d0], 0, 1, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6430(5);
	*(undefined4 *)ppuVar3[-0x1bc4] = 0x14;
	return;
}

void FUN_100a7d28(int iParm1)

{
	int *piVar1;
	int *piVar2;
	ulonglong uVar3;
	char *pcVar4;
	undefined4 uVar5;
	undefined4 uVar6;
	undefined4 in_r9;
	undefined4 in_r10;
	ulonglong uVar7;
	int iVar8;
	int iVar9;
	undefined4 in_stack_ffffffa8;

	piVar2 = _DAT_100f20d0;
	piVar1 = _DAT_100f20b4;
	uVar3 = ZEXT48(&toc);
	ClearSText(5, 0x15);
	iVar9 = *(int *)((int)uVar3 + -0x7178) + iParm1 * 0x170;
	**(undefined4 **)((int)uVar3 + -0x6f18) = 5;
	iVar8 = 5;
	do {
		if (*(int *)(iVar9 + 8) != -1) {
			uVar7 = (ulonglong)(*(char *)(iVar9 + 0x3c) != '\0');
			if (*(int *)(iVar9 + 0x164) == 0) {
				uVar7 = 2;
			}
			uVar5 = (undefined4)uVar7;
			if (*(char *)(iVar9 + 0x3c) == '\0') {
				pcVar4 = (char *)(iVar9 + 0x3d);
				uVar6 = 1;
				FUN_100a6480(0x14, iVar8, 0, (int)pcVar4, (char)uVar7, 1, (char)in_r9, (char)in_r10,
				    in_stack_ffffffa8);
			} else {
				pcVar4 = (char *)(iVar9 + 0x7d);
				uVar6 = 1;
				FUN_100a6480(0x14, iVar8, 0, (int)pcVar4, (char)uVar7, 1, (char)in_r9, (char)in_r10,
				    in_stack_ffffffa8);
			}
			FUN_100a6458(iVar8, *(undefined4 *)(iVar9 + 200));
			FUN_100a64e4(iVar9, iVar8 + 1, uVar7, pcVar4, uVar5, uVar6, in_r9, in_r10, in_stack_ffffffa8);
			*piVar1 = iVar8;
			iVar9 = iVar9 + 0x170;
		}
		iVar8 = iVar8 + 4;
	} while (iVar8 < 0x14);
	iVar8 = *piVar2;
	if ((*(int *)(*(int *)((int)uVar3 + -0x6efc) + iVar8 * 0x9c + 0x94) == 0) && (iVar8 != 0x16)) {
		*piVar2 = *piVar1;
	}
	return;
}

void FUN_100a7e50(void)

{
	undefined *puVar1;
	undefined *puVar2;
	int *piVar3;
	uint *puVar4;
	int *piVar5;
	undefined4 *puVar6;
	undefined **ppuVar7;
	undefined *puVar8;
	undefined4 in_r6;
	undefined4 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined uVar9;
	undefined4 in_r10;
	undefined uVar10;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar6 = _DAT_100f20d8;
	piVar5 = _DAT_100f20c0;
	puVar4 = _DAT_100f20bc;
	piVar3 = _DAT_100f20b0;
	puVar2 = PTR_DAT_100f191c;
	uVar10 = (undefined)in_r10;
	uVar9 = (undefined)in_r9;
	ppuVar7 = &toc;
	*_DAT_100f20dc = 1;
	*puVar6 = 1;
	puVar8 = PTR_DAT_100f1824;
	*puVar4 = 0;
	puVar1 = PTR_DAT_100f1828;
	*piVar3 = 0x14;
	sprintf((int)puVar2, PTR_s_I_have_these_items_for_sale___Yo_100f38bc,
	    *(undefined4 *)(puVar1 + *(int *)puVar8 * 0x55ec + 0x1c8), in_r6, in_r7, in_r8, in_r9,
	    in_r10, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc, in_stack_ffffffd0,
	    in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0,
	    in_stack_ffffffe4);
	FUN_100a6480(0, 1, 1, (int)puVar2, 3, 0, uVar9, uVar10, in_stack_ffffffb8);
	FUN_100a6430(3);
	FUN_100a6430(0x15);
	FUN_100a7d28((ulonglong)*puVar4);
	FUN_100a6480(0, 0x16, 1, (int)ppuVar7[-0x15c6], 0, 0, uVar9, uVar10, in_stack_ffffffb8);
	FUN_100a646c(0x16, 6);
	*piVar5 = 0;
	puVar8 = ppuVar7[-0x1c5e];
	while (*(int *)(puVar8 + 8) != -1) {
		puVar8 = puVar8 + 0x170;
		*piVar5 = *piVar5 + 1;
	}
	*piVar3 = *piVar5 + -4;
	if (*piVar3 < 0) {
		*piVar3 = 0;
	}
	return;
}

ulonglong FUN_100a7f70(int param_1)

{
	int iVar1;
	int iVar2;
	ulonglong uVar3;

	if (param_1 < 0) {
		iVar2 = *(int *)PTR_DAT_100f1824 * 0x55ec + (param_1 + 1) * -0x170 + 0x4854;
	} else {
		iVar2 = *(int *)PTR_DAT_100f1824 * 0x55ec + param_1 * 0x170 + 0xea8;
	}
	iVar1 = *(int *)(PTR_DAT_100f1828 + iVar2 + 8);
	uVar3 = (ulonglong)(iVar1 == 0);
	if (iVar1 == 10) {
		uVar3 = 1;
	}
	iVar2 = *(int *)(PTR_DAT_100f1828 + iVar2 + 0x168);
	if ((5 < iVar2) && (iVar2 < 0x17)) {
		uVar3 = 0;
	}
	if (iVar2 == 0x21) {
		uVar3 = 0;
	}
	return uVar3;
}

void FUN_100a8008(void)

{
	uint uVar1;
	undefined4 uVar2;
	undefined4 *puVar3;
	int iVar4;
	undefined *puVar5;
	bool bVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	uint *puVar11;
	uint *puVar12;
	undefined4 *puVar13;
	undefined *puVar14;
	ulonglong uVar15;
	ulonglong uVar16;
	longlong lVar17;
	longlong in_r6;
	longlong in_r7;
	undefined8 in_r8;
	undefined4 in_r9;
	undefined uVar18;
	undefined4 in_r10;
	undefined uVar19;
	longlong lVar20;
	longlong lVar21;
	ulonglong uVar22;
	ulonglong uVar23;
	longlong lVar24;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;
	undefined4 in_stack_ffffff9c;
	undefined4 in_stack_ffffffa0;
	undefined4 in_stack_ffffffa4;
	undefined4 in_stack_ffffffa8;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;

	puVar14 = PTR_DAT_100f38b8;
	puVar13 = _DAT_100f20d8;
	puVar12 = _DAT_100f20c0;
	puVar11 = _DAT_100f20bc;
	puVar10 = PTR_DAT_100f20ac;
	puVar9 = PTR_DAT_100f20a8;
	puVar8 = PTR_DAT_100f191c;
	puVar5 = PTR_DAT_100f1828;
	puVar7 = PTR_DAT_100f1824;
	uVar15 = ZEXT48(&toc);
	lVar20 = 0;
	uVar22 = ZEXT48(PTR_DAT_100f20ac);
	lVar21 = 0;
	bVar6 = false;
	uVar23 = ZEXT48(PTR_DAT_100f1828);
	*_DAT_100f20dc = 1;
	*puVar12 = 0;
	*(undefined4 *)(puVar10 + 8) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x178) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x2e8) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x458) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x5c8) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x738) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x8a8) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0xa18) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0xb88) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0xcf8) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0xe68) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0xfd8) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x1148) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x12b8) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x1428) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x1598) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x1708) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x1878) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x19e8) = 0xffffffff;
	*(undefined4 *)(puVar10 + 7000) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x1cc8) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x1e38) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x1fa8) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x2118) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x2288) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x23f8) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x2568) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x26d8) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x2848) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x29b8) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x2b28) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x2c98) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x2e08) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x2f78) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x30e8) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x3258) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x33c8) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x3538) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x36a8) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x3818) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x3988) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x3af8) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x3c68) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x3dd8) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x3f48) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x40b8) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x4228) = 0xffffffff;
	*(undefined4 *)(puVar10 + 0x4398) = 0xffffffff;
	while ((int)lVar20 < *(int *)(puVar5 + *(int *)puVar7 * 0x55ec + 0x4828)) {
		uVar16 = FUN_100a7f70((int)lVar20);
		if ((int)uVar16 != 0) {
			uVar1 = *puVar12;
			lVar24 = 0x2e;
			in_r7 = uVar22 + (ulonglong)uVar1 * 0x170;
			in_r6 = in_r7 + -8;
			lVar17 = uVar23 + (ulonglong) * (uint *)puVar7 * 0x55ec + lVar21 + 0xea0;
			bVar6 = true;
			do {
				lVar17 = lVar17 + 8;
				uVar2 = ((undefined4 *)lVar17)[1];
				in_r6 = in_r6 + 8;
				*(undefined4 *)in_r6 = *(undefined4 *)lVar17;
				((undefined4 *)in_r6)[1] = uVar2;
				lVar24 = lVar24 + -1;
			} while (lVar24 != 0);
			iVar4 = (int)in_r7;
			if ((*(char *)(iVar4 + 0x3c) != '\0') && (*(int *)(iVar4 + 0x38) != 0)) {
				*(undefined4 *)(iVar4 + 0xc4) = *(undefined4 *)(iVar4 + 200);
			}
			*(int *)(iVar4 + 0xc4) = *(int *)(iVar4 + 0xc4) >> 2;
			if (*(int *)(iVar4 + 0xc4) == 0) {
				*(undefined4 *)(iVar4 + 0xc4) = 1;
			}
			*(undefined4 *)(iVar4 + 200) = *(undefined4 *)(iVar4 + 0xc4);
			puVar9[uVar1] = (char)lVar20;
			*puVar12 = *puVar12 + 1;
		}
		lVar21 = lVar21 + 0x170;
		lVar20 = lVar20 + 1;
	}
	lVar20 = 0;
	lVar21 = 0;
	do {
		if (*(int *)(puVar5 + *(int *)puVar7 * 0x55ec + (int)lVar21 + 0x485c) != -1) {
			uVar16 = FUN_100a7f70((int)-(lVar20 + 1));
			if ((int)uVar16 != 0) {
				uVar1 = *puVar12;
				lVar24 = 0x2e;
				lVar17 = uVar22 + (ulonglong)uVar1 * 0x170;
				in_r7 = lVar17 + -8;
				in_r6 = uVar23 + (ulonglong) * (uint *)puVar7 * 0x55ec + lVar21 + 0x484c;
				bVar6 = true;
				do {
					in_r6 = in_r6 + 8;
					uVar2 = ((undefined4 *)in_r6)[1];
					in_r7 = in_r7 + 8;
					*(undefined4 *)in_r7 = *(undefined4 *)in_r6;
					((undefined4 *)in_r7)[1] = uVar2;
					lVar24 = lVar24 + -1;
				} while (lVar24 != 0);
				iVar4 = (int)lVar17;
				if ((*(char *)(iVar4 + 0x3c) != '\0') && (*(int *)(iVar4 + 0x38) != 0)) {
					*(undefined4 *)(iVar4 + 0xc4) = *(undefined4 *)(iVar4 + 200);
				}
				*(int *)(iVar4 + 0xc4) = *(int *)(iVar4 + 0xc4) >> 2;
				if (*(int *)(iVar4 + 0xc4) == 0) {
					*(undefined4 *)(iVar4 + 0xc4) = 1;
				}
				*(undefined4 *)(iVar4 + 200) = *(undefined4 *)(iVar4 + 0xc4);
				puVar9[uVar1] = (char)-(lVar20 + 1);
				*puVar12 = *puVar12 + 1;
			}
		}
		uVar19 = (undefined)in_r10;
		uVar18 = (undefined)in_r9;
		lVar20 = lVar20 + 1;
		lVar21 = lVar21 + 0x170;
	} while ((int)lVar20 < 8);
	iVar4 = (int)uVar15;
	if (bVar6) {
		puVar3 = *(undefined4 **)(iVar4 + -0x6f20);
		*puVar13 = 1;
		uVar2 = *(undefined4 *)(iVar4 + -0x5724);
		*puVar11 = 0;
		puVar5 = puVar5 + *(int *)puVar7 * 0x55ec;
		*puVar3 = *(undefined4 *)(puVar5 + 0x4828);
		sprintf((int)puVar8, uVar2, *(undefined4 *)(puVar5 + 0x1c8), puVar5, (int)in_r7, (int)in_r8,
		    in_r9, in_r10, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff9c,
		    in_stack_ffffffa0, in_stack_ffffffa4, in_stack_ffffffa8, in_stack_ffffffac,
		    in_stack_ffffffb0, in_stack_ffffffb4);
		FUN_100a6480(0, 1, 1, (int)puVar8, 3, 0, uVar18, uVar19, in_stack_ffffff88);
		FUN_100a6430(3);
		FUN_100a6430(0x15);
		FUN_100a72e4((ulonglong)*puVar11);
		FUN_100a6480(0, 0x16, 1, (int)puVar14, 0, 1, uVar18, uVar19, in_stack_ffffff88);
		FUN_100a646c(0x16, 6);
	} else {
		uVar2 = *(undefined4 *)(iVar4 + -0x5720);
		*puVar13 = 0;
		sprintf((int)puVar8, uVar2, *(undefined4 *)(puVar5 + *(int *)puVar7 * 0x55ec + 0x1c8),
		    (int)in_r6, (int)in_r7, (int)in_r8, in_r9, in_r10, in_stack_ffffff88, in_stack_ffffff8f,
		    in_stack_ffffff9c, in_stack_ffffffa0, in_stack_ffffffa4, in_stack_ffffffa8,
		    in_stack_ffffffac, in_stack_ffffffb0, in_stack_ffffffb4);
		FUN_100a6480(0, 1, 1, (int)puVar8, 3, 0, uVar18, uVar19, in_stack_ffffff88);
		FUN_100a6430(3);
		FUN_100a6430(0x15);
		FUN_100a6480(0, 0x16, 1, (int)puVar14, 0, 1, uVar18, uVar19, in_stack_ffffff88);
		FUN_100a646c(0x16, 6);
	}
	return;
}

undefined8 FUN_100a8418(int param_1)

{
	undefined *puVar1;

	puVar1 = PTR_DAT_100f1828 + param_1 * 0x170 + *(int *)PTR_DAT_100f1824 * 0x55ec;
	if (*(int *)(puVar1 + 0xeb0) != 10) {
		return 0;
	}
	if (*(int *)(puVar1 + 0xf8c) == *(int *)(puVar1 + 0xf90)) {
		return 0;
	}
	return 1;
}

void FUN_100a845c(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined param_9, undefined param_10, undefined4 param_11, undefined4 param_12,
    undefined4 param_13, undefined4 param_14, undefined4 param_15, undefined4 param_16,
    undefined4 param_17, undefined4 param_18, int param_19, undefined4 param_20)

{
	int iVar1;
	undefined4 uVar2;
	uint uVar3;
	undefined *puVar4;
	int *piVar5;
	undefined4 *puVar6;
	int iVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined4 *puVar10;
	longlong lVar11;

	piVar5 = _DAT_100f20c0;
	puVar8 = PTR_DAT_100f20ac;
	lVar11 = 0x2e;
	iVar1 = *_DAT_100f20c0;
	iVar7 = iVar1 * 0x170;
	puVar10 = (undefined4 *)&stack0x00000010;
	puVar6 = (undefined4 *)(PTR_DAT_100f20ac + iVar7 + -8);
	do {
		uVar2 = puVar10[3];
		puVar6[2] = puVar10[2];
		puVar6[3] = uVar2;
		puVar4 = PTR_DAT_100f20a8;
		lVar11 = lVar11 + -1;
		puVar10 = puVar10 + 2;
		puVar6 = puVar6 + 2;
	} while (lVar11 != 0);
	puVar9 = puVar8 + iVar7;
	puVar8 = puVar8 + iVar7;
	*(int *)(puVar9 + 0xc4) = *(int *)(puVar9 + 0xc4) + *(int *)(PTR_DAT_100f1934 + param_19 * 0x38 + 0x34);
	iVar7 = (((*(int *)(puVar8 + 0xe8) - *(int *)(puVar8 + 0xe4)) * 100) / *(int *)(puVar8 + 0xe8)) * *(int *)(puVar9 + 0xc4);
	uVar3 = iVar7 / 100 + (iVar7 >> 0x1f);
	*(int *)(puVar9 + 0xc4) = (int)(uVar3 + (uVar3 >> 0x1f)) >> 1;
	*(undefined4 *)(puVar8 + 200) = *(undefined4 *)(puVar9 + 0xc4);
	puVar4[iVar1] = (undefined)param_20;
	*piVar5 = *piVar5 + 1;
	return;
}

void FUN_100a8548(void)

{
	undefined4 uVar1;
	bool bVar2;
	undefined *puVar3;
	undefined *puVar4;
	uint *puVar5;
	undefined4 *puVar6;
	undefined *puVar7;
	ulonglong uVar8;
	undefined8 uVar9;
	int iVar10;
	undefined *puVar11;
	undefined4 *puVar12;
	undefined4 *puVar13;
	ulonglong in_r6;
	undefined *puVar14;
	ulonglong in_r7;
	ulonglong in_r8;
	ulonglong in_r9;
	undefined uVar15;
	ulonglong in_r10;
	undefined uVar16;
	undefined8 unaff_r23;
	undefined8 unaff_r24;
	int iVar17;
	undefined8 unaff_r25;
	int iVar18;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	longlong lVar19;
	undefined4 in_stack_fffffe48;
	undefined in_stack_fffffe4f;
	undefined4 local_1a8;
	undefined4 local_1a4;
	undefined4 local_1a0;
	uint local_19c;
	uint local_198;
	uint local_194;
	uint local_190;
	uint local_18c;
	undefined4 in_stack_ffffff38;
	undefined4 local_24;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar7 = PTR_DAT_100f38b8;
	puVar6 = _DAT_100f20d8;
	puVar13 = _DAT_100f20c0;
	puVar5 = _DAT_100f20bc;
	puVar4 = PTR_DAT_100f191c;
	puVar14 = PTR_DAT_100f1828;
	puVar3 = PTR_DAT_100f1824;
	uVar8 = ZEXT48(&toc);
	local_24 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	bVar2 = false;
	*_DAT_100f20dc = 1;
	puVar11 = PTR_DAT_100f20ac;
	*puVar13 = 0;
	*(undefined4 *)(puVar11 + 8) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x178) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x2e8) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x458) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x5c8) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x738) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x8a8) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0xa18) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0xb88) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0xcf8) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0xe68) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0xfd8) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x1148) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x12b8) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x1428) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x1598) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x1708) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x1878) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x19e8) = 0xffffffff;
	*(undefined4 *)(puVar11 + 7000) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x1cc8) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x1e38) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x1fa8) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x2118) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x2288) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x23f8) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x2568) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x26d8) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x2848) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x29b8) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x2b28) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x2c98) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x2e08) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x2f78) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x30e8) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x3258) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x33c8) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x3538) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x36a8) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x3818) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x3988) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x3af8) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x3c68) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x3dd8) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x3f48) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x40b8) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x4228) = 0xffffffff;
	*(undefined4 *)(puVar11 + 0x4398) = 0xffffffff;
	puVar11 = puVar14 + *(int *)puVar3 * 0x55ec;
	if ((*(int *)(puVar11 + 0xa60) == 10) && (*(int *)(puVar11 + 0xb3c) != *(int *)(puVar11 + 0xb40))) {
		lVar19 = 0x2e;
		bVar2 = true;
		puVar13 = (undefined4 *)&stack0xfffffe50;
		puVar12 = (undefined4 *)(puVar11 + 0xa50);
		do {
			uVar1 = puVar12[3];
			puVar13[2] = puVar12[2];
			puVar13[3] = uVar1;
			lVar19 = lVar19 + -1;
			puVar13 = puVar13 + 2;
			puVar12 = puVar12 + 2;
		} while (lVar19 != 0);
		in_r6 = (ulonglong)local_19c;
		in_r7 = (ulonglong)local_198;
		in_r8 = (ulonglong)local_194;
		in_r9 = (ulonglong)local_190;
		in_r10 = (ulonglong)local_18c;
		FUN_100a845c((char)local_1a8, (char)local_1a4, (char)local_1a0, (char)local_19c, (char)local_198,
		    (char)local_194, (char)local_190, (char)local_18c, (char)in_stack_fffffe48,
		    in_stack_fffffe4f, local_1a8, local_1a4, local_1a0, local_19c, local_198, local_194,
		    local_190, local_18c, in_stack_ffffff38, 0xffffffff);
	}
	iVar17 = 0;
	iVar18 = 0;
	while (true) {
		uVar16 = (undefined)in_r10;
		uVar15 = (undefined)in_r9;
		iVar10 = *(int *)puVar3 * 0x55ec;
		if (*(int *)(puVar14 + iVar10 + 0x4828) <= iVar17)
			break;
		uVar9 = FUN_100a8418(iVar17);
		if ((int)uVar9 != 0) {
			lVar19 = 0x2e;
			bVar2 = true;
			puVar13 = (undefined4 *)&stack0xfffffe50;
			puVar12 = (undefined4 *)(puVar14 + *(int *)puVar3 * 0x55ec + iVar18 + 0xea0);
			do {
				uVar1 = puVar12[3];
				puVar13[2] = puVar12[2];
				puVar13[3] = uVar1;
				lVar19 = lVar19 + -1;
				puVar13 = puVar13 + 2;
				puVar12 = puVar12 + 2;
			} while (lVar19 != 0);
			in_r6 = (ulonglong)local_19c;
			in_r7 = (ulonglong)local_198;
			in_r8 = (ulonglong)local_194;
			in_r9 = (ulonglong)local_190;
			in_r10 = (ulonglong)local_18c;
			FUN_100a845c((char)local_1a8, (char)local_1a4, (char)local_1a0, (char)local_19c, (char)local_198,
			    (char)local_194, (char)local_190, (char)local_18c, (char)in_stack_fffffe48,
			    in_stack_fffffe4f, local_1a8, local_1a4, local_1a0, local_19c, local_198, local_194,
			    local_190, local_18c, in_stack_ffffff38, iVar17);
		}
		iVar18 = iVar18 + 0x170;
		iVar17 = iVar17 + 1;
	}
	iVar17 = (int)uVar8;
	if (bVar2) {
		puVar14 = puVar14 + iVar10;
		*puVar6 = 1;
		puVar13 = *(undefined4 **)(iVar17 + -0x6f20);
		*puVar5 = 0;
		uVar1 = *(undefined4 *)(iVar17 + -0x5748);
		*puVar13 = *(undefined4 *)(puVar14 + 0x4828);
		sprintf((int)puVar4, uVar1, *(undefined4 *)(puVar14 + 0x1c8), puVar14, (int)in_r7, (int)in_r8,
		    (int)in_r9, (int)in_r10, in_stack_fffffe48, in_stack_fffffe4f, local_1a4, local_1a0,
		    local_19c, local_198, local_194, local_190, local_18c);
		FUN_100a6480(0, 1, 1, (int)puVar4, 3, 0, uVar15, uVar16, in_stack_fffffe48);
		FUN_100a6430(3);
		FUN_100a6430(0x15);
		FUN_100a72e4((ulonglong)*puVar5);
		FUN_100a6480(0, 0x16, 1, (int)puVar7, 0, 1, uVar15, uVar16, in_stack_fffffe48);
		FUN_100a646c(0x16, 6);
	} else {
		*puVar6 = 0;
		sprintf((int)puVar4, *(undefined4 *)(iVar17 + -0x5744),
		    *(undefined4 *)(puVar14 + iVar10 + 0x1c8), (int)in_r6, (int)in_r7, (int)in_r8,
		    (int)in_r9, (int)in_r10, in_stack_fffffe48, in_stack_fffffe4f, local_1a4, local_1a0,
		    local_19c, local_198, local_194, local_190, local_18c);
		FUN_100a6480(0, 1, 1, (int)puVar4, 3, 0, uVar15, uVar16, in_stack_fffffe48);
		FUN_100a6430(3);
		FUN_100a6430(0x15);
		FUN_100a6480(0, 0x16, 1, (int)puVar7, 0, 1, uVar15, uVar16, in_stack_fffffe48);
		FUN_100a646c(0x16, 6);
	}
	return;
}

void FUN_100a888c(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined **ppuVar2;
	undefined4 in_stack_ffffffc8;

	ppuVar2 = &toc;
	StartStore((char)*(undefined4 *)PTR_DAT_100f20a4, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	puVar1 = (undefined4 *)ppuVar2[-0x1bbe];
	*ppuVar2[-0x1bbd] = 1;
	*puVar1 = 0;
	ClearSText(5, 0x17);
	FUN_100a6480(0, 0xe, 1, (int)ppuVar2[-0x15d3], 0, 1, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_100a88f8(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	StartStore((char)*(undefined4 *)PTR_DAT_100f20a4, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	*(undefined4 *)ppuVar1[-0x1bbe] = 0;
	ClearSText(5, 0x17);
	FUN_100a6480(0, 0xe, 1, (int)ppuVar1[-0x15d4], 0, 1, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_100a8958(undefined8 uParm1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined4 uParm7, undefined4 uParm8)

{
	char cVar1;
	int iVar2;
	uint uVar3;
	bool bVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined **ppuVar9;
	int iVar10;
	char *pcVar11;
	undefined4 uVar12;
	undefined4 uVar13;
	undefined uVar14;
	undefined uVar15;
	ulonglong uVar16;
	undefined4 in_stack_ffffffb8;

	puVar8 = PTR_DAT_100f20a4;
	puVar7 = PTR_DAT_100f191c;
	puVar6 = PTR_DAT_100f1828;
	puVar5 = PTR_DAT_100f1824;
	ppuVar9 = &toc;
	StartStore((char)*(undefined4 *)PTR_DAT_100f20a4, param_2, param_3, param_4, param_5, param_6,
	    (char)uParm7, (char)uParm8, in_stack_ffffffb8);
	*(undefined4 *)ppuVar9[-0x1bbe] = 0;
	ClearSText(5, 0x17);
	iVar10 = *(int *)puVar5 * 0x55ec;
	cVar1 = puVar6[iVar10 + 0x5410];
	uVar16 = (ulonglong)(cVar1 != '\0');
	if (*(int *)(puVar6 + iVar10 + 0x5538) == 0) {
		uVar16 = 2;
	}
	uVar12 = (undefined4)uVar16;
	iVar2 = *(int *)puVar8;
	bVar4 = iVar2 != 0x11 && cVar1 != '\0';
	if (((cVar1 != '\0') && (*(int *)(puVar6 + iVar10 + 0x540c) == 0)) && (bVar4 = iVar2 != 4 && (iVar2 != 7 && (iVar2 != 3 && bVar4)), iVar2 == 8)) {
		bVar4 = false;
	}
	if (bVar4) {
		pcVar11 = puVar6 + iVar10 + 0x5451;
		uVar13 = 0;
		FUN_100a6480(0x14, 8, 0, (int)pcVar11, (char)uVar16, 0, (char)uParm7, (char)uParm8, in_stack_ffffffb8);
	} else {
		pcVar11 = puVar6 + iVar10 + 0x5411;
		uVar13 = 0;
		FUN_100a6480(0x14, 8, 0, (int)pcVar11, (char)uVar16, 0, (char)uParm7, (char)uParm8, in_stack_ffffffb8);
	}
	FUN_100a6458(8, *(undefined4 *)(puVar6 + *(int *)puVar5 * 0x55ec + 0x549c));
	uVar15 = (undefined)uParm8;
	uVar14 = (undefined)uParm7;
	FUN_100a64e4((int)(puVar6 + *(int *)puVar5 * 0x55ec + 0x53d4), 9, uVar16, pcVar11, uVar12, uVar13,
	    uParm7, uParm8, in_stack_ffffffb8);
	uVar3 = *(uint *)puVar8;
	if (uVar3 < 0x13) {
		// WARNING: Could not recover jumptable at 0x100a8ad8. Too many branches
		// WARNING: Treating indirect jump as call
		(**(code **)(ppuVar9[-0x15dd] + uVar3 * 4))();
		return;
	}
	FUN_100a6480(0, 0xf, 1, (int)puVar7, 0, 0, uVar14, uVar15, in_stack_ffffffb8);
	FUN_100a6480(0, 0x12, 1, (int)ppuVar9[-0x15db], 0, 1, uVar14, uVar15, in_stack_ffffffb8);
	FUN_100a6480(0, 0x14, 1, (int)ppuVar9[-0x15dc], 0, 1, uVar14, uVar15, in_stack_ffffffb8);
	return;
}

void FUN_100a8ba0(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	undefined4 in_stack_ffffffc8;

	puVar3 = PTR_s_Talk_to_Wirt_100f3854;
	puVar2 = PTR_s_Say_goodbye_100f3840;
	puVar1 = _DAT_100f20d8;
	ppuVar5 = &toc;
	*_DAT_100f20dc = 0;
	puVar4 = PTR_s_Wirt_the_Peg_legged_boy_100f3858;
	*puVar1 = 0;
	FUN_100a6480(0, 2, 1, (int)puVar4, 3, 0, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6430(5);
	if (*(int *)(ppuVar5[-0x1c6f] + 8) == -1) {
		FUN_100a6480(0, 0xc, 1, (int)puVar3, 1, 1, param_7, param_8, in_stack_ffffffc8);
		FUN_100a6480(0, 0x12, 1, (int)puVar2, 0, 1, param_7, param_8, in_stack_ffffffc8);
	} else {
		FUN_100a6480(0, 8, 1, (int)puVar3, 1, 1, param_7, param_8, in_stack_ffffffc8);
		FUN_100a6480(0, 0xc, 1, (int)ppuVar5[-0x15e0], 3, 0, param_7, param_8, in_stack_ffffffc8);
		FUN_100a6480(0, 0xe, 1, (int)ppuVar5[-0x15e1], 3, 0, param_7, param_8, in_stack_ffffffc8);
		FUN_100a6480(0, 0x10, 1, (int)ppuVar5[-0x15e2], 3, 0, param_7, param_8, in_stack_ffffffc8);
		FUN_100a6480(0, 0x12, 1, (int)ppuVar5[-0x15e3], 0, 1, param_7, param_8, in_stack_ffffffc8);
		FUN_100a6480(0, 0x14, 1, (int)puVar2, 0, 1, param_7, param_8, in_stack_ffffffc8);
	}
	return;
}

void FUN_100a8d00(void)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined4 *puVar4;
	undefined **ppuVar5;
	undefined4 in_r6;
	char *pcVar6;
	undefined4 in_r7;
	int iVar7;
	undefined4 in_r8;
	undefined4 uVar8;
	undefined4 in_r9;
	undefined uVar9;
	undefined4 in_r10;
	undefined uVar10;
	bool bVar11;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	undefined4 in_stack_ffffffe8;
	undefined4 in_stack_ffffffec;
	undefined4 in_stack_fffffff0;
	undefined4 in_stack_fffffff4;

	puVar4 = _DAT_100f20d8;
	puVar3 = PTR_DAT_100f1e14;
	puVar2 = PTR_DAT_100f191c;
	ppuVar5 = &toc;
	*_DAT_100f20dc = 1;
	puVar1 = PTR_DAT_100f1824;
	*puVar4 = 0;
	sprintf((int)puVar2, PTR_s_I_have_this_item_for_sale___Your_100f383c,
	    *(undefined4 *)(PTR_DAT_100f1828 + *(int *)puVar1 * 0x55ec + 0x1c8), in_r6, in_r7, in_r8, in_r9, in_r10, in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4, in_stack_ffffffe8, in_stack_ffffffec, in_stack_fffffff0,
	    in_stack_fffffff4);
	FUN_100a6480(0, 1, 1, (int)puVar2, 3, 0, (char)in_r9, (char)in_r10, in_stack_ffffffc8);
	FUN_100a6430(3);
	FUN_100a6430(0x15);
	bVar11 = puVar3[0x3c] != '\0';
	if (*(int *)(puVar3 + 0x164) == 0) {
		bVar11 = true;
	}
	if (puVar3[0x3c] == '\0') {
		pcVar6 = puVar3 + 0x3d;
		iVar7 = (int)bVar11;
		uVar8 = 1;
		FUN_100a6480(0x14, 10, 0, (int)pcVar6, bVar11, 1, (char)in_r9, (char)in_r10, in_stack_ffffffc8);
	} else {
		pcVar6 = puVar3 + 0x7d;
		iVar7 = (int)bVar11;
		uVar8 = 1;
		FUN_100a6480(0x14, 10, 0, (int)pcVar6, bVar11, 1, (char)in_r9, (char)in_r10, in_stack_ffffffc8);
	}
	FUN_100a6458(10, *(int *)(puVar3 + 200) + (*(int *)(puVar3 + 200) >> 1));
	uVar10 = (undefined)in_r10;
	uVar9 = (undefined)in_r9;
	FUN_100a64e4((int)puVar3, 0xb, (longlong)bVar11, pcVar6, iVar7, uVar8, in_r9, in_r10, in_stack_ffffffc8);
	FUN_100a6480(0, 0x16, 1, (int)ppuVar5[-0x15e6], 0, 1, uVar9, uVar10, in_stack_ffffffc8);
	FUN_100a646c(0x16, 6);
	return;
}

void FUN_100a8e50(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined4 in_stack_ffffffc8;

	puVar2 = PTR_s_Welcome_to_the_100f38e0;
	puVar1 = _DAT_100f20d8;
	ppuVar3 = &toc;
	*_DAT_100f20dc = 0;
	*puVar1 = 0;
	FUN_100a6480(0, 1, 1, (int)puVar2, 3, 0, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 3, 1, (int)ppuVar3[-0x15e7], 3, 0, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 9, 1, (int)ppuVar3[-0x15be], 3, 0, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 0xc, 1, (int)ppuVar3[-0x15e8], 1, 1, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 0xe, 1, (int)ppuVar3[-0x15e9], 0, 1, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 0x10, 1, (int)ppuVar3[-0x15ce], 0, 1, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 0x12, 1, (int)ppuVar3[-0x15ea], 0, 1, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6430(5);
	*(undefined4 *)ppuVar3[-0x1bc4] = 0x14;
	return;
}

void FUN_100a8f58(int iParm1)

{
	int *piVar1;
	int *piVar2;
	ulonglong uVar3;
	char *pcVar4;
	undefined4 uVar5;
	undefined4 uVar6;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined8 uVar7;
	int iVar8;
	int iVar9;
	undefined4 in_stack_ffffffa8;

	piVar2 = _DAT_100f20d0;
	piVar1 = _DAT_100f20b4;
	uVar3 = ZEXT48(&toc);
	ClearSText(5, 0x15);
	iVar9 = *(int *)((int)uVar3 + -0x71c0) + iParm1 * 0x170;
	**(undefined4 **)((int)uVar3 + -0x6f18) = 5;
	iVar8 = 5;
	do {
		if (*(int *)(iVar9 + 8) != -1) {
			uVar7 = 0;
			if (*(int *)(iVar9 + 0x164) == 0) {
				uVar7 = 2;
			}
			uVar5 = (undefined4)uVar7;
			pcVar4 = (char *)(iVar9 + 0x3d);
			uVar6 = 1;
			FUN_100a6480(0x14, iVar8, 0, (int)pcVar4, (char)uVar7, 1, (char)in_r9, (char)in_r10, in_stack_ffffffa8);
			FUN_100a6458(iVar8, *(undefined4 *)(iVar9 + 200));
			FUN_100a64e4(iVar9, iVar8 + 1, uVar7, pcVar4, uVar5, uVar6, in_r9, in_r10, in_stack_ffffffa8);
			*piVar1 = iVar8;
			iVar9 = iVar9 + 0x170;
		}
		iVar8 = iVar8 + 4;
	} while (iVar8 < 0x14);
	iVar8 = *piVar2;
	if ((*(int *)(*(int *)((int)uVar3 + -0x6efc) + iVar8 * 0x9c + 0x94) == 0) && (iVar8 != 0x16)) {
		*piVar2 = *piVar1;
	}
	return;
}

void FUN_100a9048(void)

{
	undefined *puVar1;
	undefined *puVar2;
	int *piVar3;
	uint *puVar4;
	int *piVar5;
	undefined4 *puVar6;
	undefined **ppuVar7;
	undefined *puVar8;
	undefined4 in_r6;
	undefined4 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined uVar9;
	undefined4 in_r10;
	undefined uVar10;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar6 = _DAT_100f20d8;
	piVar5 = _DAT_100f20c0;
	puVar4 = _DAT_100f20bc;
	piVar3 = _DAT_100f20b0;
	puVar2 = PTR_DAT_100f191c;
	puVar1 = PTR_DAT_100f1828;
	uVar10 = (undefined)in_r10;
	uVar9 = (undefined)in_r9;
	ppuVar7 = &toc;
	*_DAT_100f20dc = 1;
	*puVar6 = 1;
	puVar8 = PTR_DAT_100f1824;
	*puVar4 = 0;
	sprintf((int)puVar2, PTR_s_I_have_these_items_for_sale___Yo_100f38bc,
	    *(undefined4 *)(puVar1 + *(int *)puVar8 * 0x55ec + 0x1c8), in_r6, in_r7, in_r8, in_r9,
	    in_r10, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcc, in_stack_ffffffd0,
	    in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0,
	    in_stack_ffffffe4);
	FUN_100a6480(0, 1, 1, (int)puVar2, 3, 0, uVar9, uVar10, in_stack_ffffffb8);
	FUN_100a6430(3);
	FUN_100a6430(0x15);
	FUN_100a8f58((ulonglong)*puVar4);
	FUN_100a6480(0, 0x16, 1, (int)ppuVar7[-0x15c6], 0, 0, uVar9, uVar10, in_stack_ffffffb8);
	FUN_100a646c(0x16, 6);
	*piVar5 = 0;
	puVar8 = ppuVar7[-0x1c70];
	while (*(int *)(puVar8 + 8) != -1) {
		puVar8 = puVar8 + 0x170;
		*piVar5 = *piVar5 + 1;
	}
	*piVar3 = *piVar5 + -4;
	if (*piVar3 < 0) {
		*piVar3 = 0;
	}
	return;
}

void FUN_100a9160(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined4 in_stack_ffffffc8;

	puVar2 = PTR_s_The_Town_Elder_100f3824;
	puVar1 = _DAT_100f20d8;
	ppuVar3 = &toc;
	*_DAT_100f20dc = 0;
	*puVar1 = 0;
	FUN_100a6480(0, 2, 1, (int)puVar2, 3, 0, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 9, 1, (int)ppuVar3[-0x15be], 3, 0, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 0xc, 1, (int)ppuVar3[-0x15ec], 1, 1, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 0xe, 1, (int)ppuVar3[-0x15ed], 0, 1, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 0x12, 1, (int)ppuVar3[-0x15e4], 0, 1, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6430(5);
	return;
}

undefined8 FUN_100a9224(int param_1)

{
	if (*(int *)(param_1 + 8) == -1) {
		return 0;
	}
	if (*(char *)(param_1 + 0x3c) == '\0') {
		return 0;
	}
	if (*(int *)(param_1 + 0x38) != 0) {
		return 0;
	}
	return 1;
}

void FUN_100a9268(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined param_9, undefined param_10, undefined4 param_11, undefined4 param_12,
    undefined4 param_13, undefined4 param_14, undefined4 param_15, undefined4 param_16,
    undefined4 param_17, undefined4 param_18, undefined4 param_19)

{
	int iVar1;
	undefined4 uVar2;
	undefined *puVar3;
	undefined *puVar4;
	int *piVar5;
	undefined4 *puVar6;
	undefined4 *puVar7;
	int iVar8;
	longlong lVar9;

	piVar5 = _DAT_100f20c0;
	puVar4 = PTR_DAT_100f20ac;
	lVar9 = 0x2e;
	iVar1 = *_DAT_100f20c0;
	iVar8 = iVar1 * 0x170;
	puVar6 = (undefined4 *)&stack0x00000010;
	puVar7 = (undefined4 *)(PTR_DAT_100f20ac + iVar8 + -8);
	do {
		uVar2 = puVar6[3];
		puVar7[2] = puVar6[2];
		puVar7[3] = uVar2;
		puVar3 = PTR_DAT_100f20a8;
		lVar9 = lVar9 + -1;
		puVar6 = puVar6 + 2;
		puVar7 = puVar7 + 2;
	} while (lVar9 != 0);
	*(undefined4 *)(puVar4 + iVar8 + 0xc4) = 100;
	*(undefined4 *)(puVar4 + iVar8 + 200) = 100;
	puVar3[iVar1] = (undefined)param_19;
	*piVar5 = *piVar5 + 1;
	return;
}

void FUN_100a92f8(void)

{
	undefined4 uVar1;
	bool bVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	uint *puVar6;
	undefined4 *puVar7;
	undefined *puVar8;
	ulonglong uVar9;
	undefined8 uVar10;
	undefined4 *puVar11;
	undefined4 *puVar12;
	undefined *puVar13;
	ulonglong in_r7;
	ulonglong in_r8;
	ulonglong in_r9;
	undefined uVar14;
	ulonglong in_r10;
	undefined uVar15;
	undefined8 unaff_r23;
	undefined8 unaff_r24;
	int iVar16;
	undefined8 unaff_r25;
	int iVar17;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	longlong lVar18;
	undefined4 in_stack_fffffe48;
	undefined in_stack_fffffe4f;
	undefined4 local_1a8;
	undefined4 local_1a4;
	undefined4 local_1a0;
	undefined4 local_19c;
	uint local_198;
	uint local_194;
	uint local_190;
	uint local_18c;
	undefined4 local_24;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar8 = PTR_DAT_100f38b8;
	puVar7 = _DAT_100f20d8;
	puVar12 = _DAT_100f20c0;
	puVar6 = _DAT_100f20bc;
	puVar5 = PTR_DAT_100f191c;
	puVar4 = PTR_DAT_100f1828;
	puVar3 = PTR_DAT_100f1824;
	uVar9 = ZEXT48(&toc);
	local_24 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	bVar2 = false;
	*_DAT_100f20dc = 1;
	puVar13 = PTR_DAT_100f20ac;
	*puVar12 = 0;
	*(undefined4 *)(puVar13 + 8) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x178) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x2e8) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x458) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x5c8) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x738) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x8a8) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0xa18) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0xb88) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0xcf8) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0xe68) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0xfd8) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x1148) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x12b8) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x1428) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x1598) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x1708) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x1878) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x19e8) = 0xffffffff;
	*(undefined4 *)(puVar13 + 7000) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x1cc8) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x1e38) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x1fa8) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x2118) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x2288) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x23f8) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x2568) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x26d8) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x2848) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x29b8) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x2b28) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x2c98) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x2e08) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x2f78) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x30e8) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x3258) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x33c8) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x3538) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x36a8) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x3818) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x3988) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x3af8) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x3c68) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x3dd8) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x3f48) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x40b8) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x4228) = 0xffffffff;
	*(undefined4 *)(puVar13 + 0x4398) = 0xffffffff;
	uVar10 = FUN_100a9224((int)(puVar4 + *(int *)puVar3 * 0x55ec + 0x498));
	if ((int)uVar10 != 0) {
		lVar18 = 0x2e;
		bVar2 = true;
		puVar12 = (undefined4 *)&stack0xfffffe50;
		puVar11 = (undefined4 *)(puVar4 + *(int *)puVar3 * 0x55ec + 0x490);
		do {
			uVar1 = puVar11[3];
			puVar12[2] = puVar11[2];
			puVar12[3] = uVar1;
			lVar18 = lVar18 + -1;
			puVar12 = puVar12 + 2;
			puVar11 = puVar11 + 2;
		} while (lVar18 != 0);
		in_r7 = (ulonglong)local_198;
		in_r8 = (ulonglong)local_194;
		in_r9 = (ulonglong)local_190;
		in_r10 = (ulonglong)local_18c;
		FUN_100a9268((char)local_1a8, (char)local_1a4, (char)local_1a0, (char)local_19c, (char)local_198,
		    (char)local_194, (char)local_190, (char)local_18c, (char)in_stack_fffffe48,
		    in_stack_fffffe4f, local_1a8, local_1a4, local_1a0, local_19c, local_198, local_194,
		    local_190, local_18c, 0xffffffff);
	}
	uVar10 = FUN_100a9224((int)(puVar4 + *(int *)puVar3 * 0x55ec + 0xd38));
	if ((int)uVar10 != 0) {
		lVar18 = 0x2e;
		bVar2 = true;
		puVar12 = (undefined4 *)&stack0xfffffe50;
		puVar11 = (undefined4 *)(puVar4 + *(int *)puVar3 * 0x55ec + 0xd30);
		do {
			uVar1 = puVar11[3];
			puVar12[2] = puVar11[2];
			puVar12[3] = uVar1;
			lVar18 = lVar18 + -1;
			puVar12 = puVar12 + 2;
			puVar11 = puVar11 + 2;
		} while (lVar18 != 0);
		in_r7 = (ulonglong)local_198;
		in_r8 = (ulonglong)local_194;
		in_r9 = (ulonglong)local_190;
		in_r10 = (ulonglong)local_18c;
		FUN_100a9268((char)local_1a8, (char)local_1a4, (char)local_1a0, (char)local_19c, (char)local_198,
		    (char)local_194, (char)local_190, (char)local_18c, (char)in_stack_fffffe48,
		    in_stack_fffffe4f, local_1a8, local_1a4, local_1a0, local_19c, local_198, local_194,
		    local_190, local_18c, 0xfffffffe);
	}
	uVar10 = FUN_100a9224((int)(puVar4 + *(int *)puVar3 * 0x55ec + 0xa58));
	if ((int)uVar10 != 0) {
		lVar18 = 0x2e;
		bVar2 = true;
		puVar12 = (undefined4 *)&stack0xfffffe50;
		puVar11 = (undefined4 *)(puVar4 + *(int *)puVar3 * 0x55ec + 0xa50);
		do {
			uVar1 = puVar11[3];
			puVar12[2] = puVar11[2];
			puVar12[3] = uVar1;
			lVar18 = lVar18 + -1;
			puVar12 = puVar12 + 2;
			puVar11 = puVar11 + 2;
		} while (lVar18 != 0);
		in_r7 = (ulonglong)local_198;
		in_r8 = (ulonglong)local_194;
		in_r9 = (ulonglong)local_190;
		in_r10 = (ulonglong)local_18c;
		FUN_100a9268((char)local_1a8, (char)local_1a4, (char)local_1a0, (char)local_19c, (char)local_198,
		    (char)local_194, (char)local_190, (char)local_18c, (char)in_stack_fffffe48,
		    in_stack_fffffe4f, local_1a8, local_1a4, local_1a0, local_19c, local_198, local_194,
		    local_190, local_18c, 0xfffffffd);
	}
	uVar10 = FUN_100a9224((int)(puVar4 + *(int *)puVar3 * 0x55ec + 0xbc8));
	if ((int)uVar10 != 0) {
		lVar18 = 0x2e;
		bVar2 = true;
		puVar12 = (undefined4 *)&stack0xfffffe50;
		puVar11 = (undefined4 *)(puVar4 + *(int *)puVar3 * 0x55ec + 0xbc0);
		do {
			uVar1 = puVar11[3];
			puVar12[2] = puVar11[2];
			puVar12[3] = uVar1;
			lVar18 = lVar18 + -1;
			puVar12 = puVar12 + 2;
			puVar11 = puVar11 + 2;
		} while (lVar18 != 0);
		in_r7 = (ulonglong)local_198;
		in_r8 = (ulonglong)local_194;
		in_r9 = (ulonglong)local_190;
		in_r10 = (ulonglong)local_18c;
		FUN_100a9268((char)local_1a8, (char)local_1a4, (char)local_1a0, (char)local_19c, (char)local_198,
		    (char)local_194, (char)local_190, (char)local_18c, (char)in_stack_fffffe48,
		    in_stack_fffffe4f, local_1a8, local_1a4, local_1a0, local_19c, local_198, local_194,
		    local_190, local_18c, 0xfffffffc);
	}
	uVar10 = FUN_100a9224((int)(puVar4 + *(int *)puVar3 * 0x55ec + 0x608));
	if ((int)uVar10 != 0) {
		lVar18 = 0x2e;
		bVar2 = true;
		puVar12 = (undefined4 *)&stack0xfffffe50;
		puVar11 = (undefined4 *)(puVar4 + *(int *)puVar3 * 0x55ec + 0x600);
		do {
			uVar1 = puVar11[3];
			puVar12[2] = puVar11[2];
			puVar12[3] = uVar1;
			lVar18 = lVar18 + -1;
			puVar12 = puVar12 + 2;
			puVar11 = puVar11 + 2;
		} while (lVar18 != 0);
		in_r7 = (ulonglong)local_198;
		in_r8 = (ulonglong)local_194;
		in_r9 = (ulonglong)local_190;
		in_r10 = (ulonglong)local_18c;
		FUN_100a9268((char)local_1a8, (char)local_1a4, (char)local_1a0, (char)local_19c, (char)local_198,
		    (char)local_194, (char)local_190, (char)local_18c, (char)in_stack_fffffe48,
		    in_stack_fffffe4f, local_1a8, local_1a4, local_1a0, local_19c, local_198, local_194,
		    local_190, local_18c, 0xfffffffb);
	}
	uVar10 = FUN_100a9224((int)(puVar4 + *(int *)puVar3 * 0x55ec + 0x778));
	if ((int)uVar10 != 0) {
		lVar18 = 0x2e;
		bVar2 = true;
		puVar12 = (undefined4 *)&stack0xfffffe50;
		puVar11 = (undefined4 *)(puVar4 + *(int *)puVar3 * 0x55ec + 0x770);
		do {
			uVar1 = puVar11[3];
			puVar12[2] = puVar11[2];
			puVar12[3] = uVar1;
			lVar18 = lVar18 + -1;
			puVar12 = puVar12 + 2;
			puVar11 = puVar11 + 2;
		} while (lVar18 != 0);
		in_r7 = (ulonglong)local_198;
		in_r8 = (ulonglong)local_194;
		in_r9 = (ulonglong)local_190;
		in_r10 = (ulonglong)local_18c;
		FUN_100a9268((char)local_1a8, (char)local_1a4, (char)local_1a0, (char)local_19c, (char)local_198,
		    (char)local_194, (char)local_190, (char)local_18c, (char)in_stack_fffffe48,
		    in_stack_fffffe4f, local_1a8, local_1a4, local_1a0, local_19c, local_198, local_194,
		    local_190, local_18c, 0xfffffffa);
	}
	uVar10 = FUN_100a9224((int)(puVar4 + *(int *)puVar3 * 0x55ec + 0x8e8));
	if ((int)uVar10 != 0) {
		lVar18 = 0x2e;
		bVar2 = true;
		puVar12 = (undefined4 *)&stack0xfffffe50;
		puVar11 = (undefined4 *)(puVar4 + *(int *)puVar3 * 0x55ec + 0x8e0);
		do {
			uVar1 = puVar11[3];
			puVar12[2] = puVar11[2];
			puVar12[3] = uVar1;
			lVar18 = lVar18 + -1;
			puVar12 = puVar12 + 2;
			puVar11 = puVar11 + 2;
		} while (lVar18 != 0);
		in_r7 = (ulonglong)local_198;
		in_r8 = (ulonglong)local_194;
		in_r9 = (ulonglong)local_190;
		in_r10 = (ulonglong)local_18c;
		FUN_100a9268((char)local_1a8, (char)local_1a4, (char)local_1a0, (char)local_19c, (char)local_198,
		    (char)local_194, (char)local_190, (char)local_18c, (char)in_stack_fffffe48,
		    in_stack_fffffe4f, local_1a8, local_1a4, local_1a0, local_19c, local_198, local_194,
		    local_190, local_18c, 0xfffffff9);
	}
	iVar16 = 0;
	iVar17 = 0;
	while (true) {
		uVar15 = (undefined)in_r10;
		uVar14 = (undefined)in_r9;
		puVar13 = puVar4 + *(int *)puVar3 * 0x55ec;
		if (*(int *)(puVar13 + 0x4828) <= iVar16)
			break;
		uVar10 = FUN_100a9224((int)(puVar13 + iVar17 + 0xea8));
		if ((int)uVar10 != 0) {
			lVar18 = 0x2e;
			bVar2 = true;
			puVar12 = (undefined4 *)&stack0xfffffe50;
			puVar11 = (undefined4 *)(puVar4 + *(int *)puVar3 * 0x55ec + iVar17 + 0xea0);
			do {
				uVar1 = puVar11[3];
				puVar12[2] = puVar11[2];
				puVar12[3] = uVar1;
				lVar18 = lVar18 + -1;
				puVar12 = puVar12 + 2;
				puVar11 = puVar11 + 2;
			} while (lVar18 != 0);
			in_r7 = (ulonglong)local_198;
			in_r8 = (ulonglong)local_194;
			in_r9 = (ulonglong)local_190;
			in_r10 = (ulonglong)local_18c;
			FUN_100a9268((char)local_1a8, (char)local_1a4, (char)local_1a0, (char)local_19c, (char)local_198,
			    (char)local_194, (char)local_190, (char)local_18c, (char)in_stack_fffffe48,
			    in_stack_fffffe4f, local_1a8, local_1a4, local_1a0, local_19c, local_198, local_194,
			    local_190, local_18c, iVar16);
		}
		iVar17 = iVar17 + 0x170;
		iVar16 = iVar16 + 1;
	}
	iVar16 = (int)uVar9;
	if (bVar2) {
		puVar12 = *(undefined4 **)(iVar16 + -0x6f20);
		*puVar7 = 1;
		uVar1 = *(undefined4 *)(iVar16 + -0x57bc);
		*puVar6 = 0;
		*puVar12 = *(undefined4 *)(puVar13 + 0x4828);
		sprintf((int)puVar5, uVar1, *(undefined4 *)(puVar13 + 0x1c8), puVar13, (int)in_r7, (int)in_r8,
		    (int)in_r9, (int)in_r10, in_stack_fffffe48, in_stack_fffffe4f, local_1a4, local_1a0,
		    local_19c, local_198, local_194, local_190, local_18c);
		FUN_100a6480(0, 1, 1, (int)puVar5, 3, 0, uVar14, uVar15, in_stack_fffffe48);
		FUN_100a6430(3);
		FUN_100a6430(0x15);
		FUN_100a72e4((ulonglong)*puVar6);
		FUN_100a6480(0, 0x16, 1, (int)puVar8, 0, 1, uVar14, uVar15, in_stack_fffffe48);
		FUN_100a646c(0x16, 6);
	} else {
		uVar1 = *(undefined4 *)(iVar16 + -0x57b8);
		*puVar7 = 0;
		sprintf((int)puVar5, uVar1, *(undefined4 *)(puVar13 + 0x1c8), puVar13, (int)in_r7, (int)in_r8,
		    (int)in_r9, (int)in_r10, in_stack_fffffe48, in_stack_fffffe4f, local_1a4, local_1a0,
		    local_19c, local_198, local_194, local_190, local_18c);
		FUN_100a6480(0, 1, 1, (int)puVar5, 3, 0, uVar14, uVar15, in_stack_fffffe48);
		FUN_100a6430(3);
		FUN_100a6430(0x15);
		FUN_100a6480(0, 0x16, 1, (int)puVar8, 0, 1, uVar14, uVar15, in_stack_fffffe48);
		FUN_100a646c(0x16, 6);
	}
	return;
}

void FUN_100a9920(undefined8 uParm1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined4 uParm7, undefined4 uParm8)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	char *pcVar4;
	undefined4 uVar5;
	undefined uVar6;
	undefined uVar7;
	ulonglong uVar8;
	undefined4 uVar9;
	undefined4 in_stack_ffffffb8;

	puVar2 = PTR_DAT_100f1828;
	puVar1 = PTR_DAT_100f1824;
	ppuVar3 = &toc;
	StartStore((char)*(undefined4 *)PTR_DAT_100f20a4, param_2, param_3, param_4, param_5, param_6,
	    (char)uParm7, (char)uParm8, in_stack_ffffffb8);
	*(undefined4 *)ppuVar3[-0x1bbe] = 0;
	ClearSText(5, 0x17);
	uVar8 = (ulonglong)(puVar2[*(int *)puVar1 * 0x55ec + 0x5410] != '\0');
	if (*(int *)(puVar2 + *(int *)puVar1 * 0x55ec + 0x5538) == 0) {
		uVar8 = 2;
	}
	uVar9 = (undefined4)uVar8;
	FUN_100a6480(0, 7, 1, (int)ppuVar3[-0x15f0], 0, 0, (char)uParm7, (char)uParm8, in_stack_ffffffb8);
	pcVar4 = puVar2 + *(int *)puVar1 * 0x55ec + 0x5451;
	uVar5 = 0;
	FUN_100a6480(0x14, 0xb, 0, (int)pcVar4, (char)uVar8, 0, (char)uParm7, (char)uParm8, in_stack_ffffffb8);
	uVar7 = (undefined)uParm8;
	uVar6 = (undefined)uParm7;
	FUN_100a64e4((int)(puVar2 + *(int *)puVar1 * 0x55ec + 0x53d4), 0xc, uVar8, pcVar4, uVar9, uVar5, uParm7,
	    uParm8, in_stack_ffffffb8);
	FUN_100a6480(0, 0x12, 1, (int)ppuVar3[-0x15f1], 0, 1, uVar6, uVar7, in_stack_ffffffb8);
	return;
}

void FUN_100a9a34(void)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined4 *puVar5;
	ulonglong uVar6;
	int iVar7;
	int iVar8;
	int *piVar9;
	int iVar10;
	undefined4 in_r6;
	int iVar11;
	undefined4 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined uVar12;
	undefined4 in_r10;
	undefined uVar13;
	int iVar14;
	int iVar15;
	int iVar16;
	int iVar17;
	longlong lVar18;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar5 = _DAT_100f20d8;
	puVar4 = PTR_PTR_s_Griswold_100f20a0;
	puVar3 = PTR_DAT_100f209c;
	puVar2 = PTR_DAT_100f206c;
	puVar1 = PTR_DAT_100f191c;
	uVar6 = ZEXT48(&toc);
	*_DAT_100f20dc = 0;
	*puVar5 = 0;
	sprintf((int)puVar1, PTR_s_Talk_to__s_100f3808, *(undefined4 *)(puVar4 + *(int *)puVar3 * 4),
	    in_r6, in_r7, in_r8, in_r9, in_r10, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbc,
	    in_stack_ffffffc0, in_stack_ffffffc4, in_stack_ffffffc8, in_stack_ffffffcc,
	    in_stack_ffffffd0, in_stack_ffffffd4);
	FUN_100a6480(0, 2, 1, (int)puVar1, 3, 0, (char)in_r9, (char)in_r10, in_stack_ffffffa8);
	FUN_100a6430(5);
	iVar17 = *(int *)((int)uVar6 + -0x7604);
	lVar18 = 4;
	piVar9 = (int *)(puVar2 + *(int *)puVar3 * 0x40);
	iVar11 = 0;
	iVar8 = iVar17;
	do {
		if (((*(char *)(iVar8 + 2) == '\x02') && (*piVar9 != -1)) && (*(int *)(iVar8 + 0x14) != 0)) {
			iVar11 = iVar11 + 1;
		}
		if (((*(char *)(iVar8 + 0x1a) == '\x02') && (piVar9[1] != -1)) && (*(int *)(iVar8 + 0x2c) != 0)) {
			iVar11 = iVar11 + 1;
		}
		if (((*(char *)(iVar8 + 0x32) == '\x02') && (piVar9[2] != -1)) && (*(int *)(iVar8 + 0x44) != 0)) {
			iVar11 = iVar11 + 1;
		}
		if (((*(char *)(iVar8 + 0x4a) == '\x02') && (piVar9[3] != -1)) && (*(int *)(iVar8 + 0x5c) != 0)) {
			iVar11 = iVar11 + 1;
		}
		iVar8 = iVar8 + 0x60;
		piVar9 = piVar9 + 4;
		lVar18 = lVar18 + -1;
	} while (lVar18 != 0);
	if (iVar11 < 7) {
		iVar11 = 0xf - iVar11;
		iVar8 = 2;
	} else {
		iVar11 = 0xe - (iVar11 >> 1);
		iVar8 = 1;
	}
	iVar14 = 0;
	iVar15 = *(int *)((int)uVar6 + -0x706c);
	iVar10 = iVar11 + -2;
	iVar16 = 0;
	do {
		if (((*(char *)(iVar17 + 2) == '\x02') && (*(int *)(puVar2 + *(int *)puVar3 * 0x40 + iVar16) != -1)) && (*(int *)(iVar17 + 0x14) != 0)) {
			FUN_100a6480(0, iVar11, 1, *(int *)(iVar15 + 0x10), 0, 1, (char)in_r9, (char)in_r10, in_stack_ffffffa8);
			iVar11 = iVar11 + iVar8;
		}
		uVar13 = (undefined)in_r10;
		uVar12 = (undefined)in_r9;
		iVar7 = (int)uVar6;
		iVar14 = iVar14 + 1;
		iVar16 = iVar16 + 4;
		iVar15 = iVar15 + 0x14;
		iVar17 = iVar17 + 0x18;
	} while (iVar14 < 0x10);
	FUN_100a6480(0, iVar10, 1, *(int *)(iVar7 + -0x57cc), 1, 1, uVar12, uVar13, in_stack_ffffffa8);
	FUN_100a6480(0, 0x16, 1, *(int *)(iVar7 + -0x5718), 0, 1, uVar12, uVar13, in_stack_ffffffa8);
	return;
}

void FUN_100a9c84(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined4 in_stack_ffffffc8;

	puVar2 = PTR_s_Welcome_to_the_100f38e0;
	puVar1 = _DAT_100f20d8;
	ppuVar3 = &toc;
	*_DAT_100f20dc = 0;
	*puVar1 = 0;
	FUN_100a6480(0, 1, 1, (int)puVar2, 3, 0, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 3, 1, (int)ppuVar3[-0x15f4], 3, 0, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 9, 1, (int)ppuVar3[-0x15be], 3, 0, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 0xc, 1, (int)ppuVar3[-0x15f5], 1, 1, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 0x12, 1, (int)ppuVar3[-0x15f6], 0, 1, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6430(5);
	*(undefined4 *)ppuVar3[-0x1bc4] = 0x14;
	return;
}

void FUN_100a9d54(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined4 in_stack_ffffffc8;

	puVar2 = PTR_s_Gillian_100f37f4;
	puVar1 = _DAT_100f20d8;
	ppuVar3 = &toc;
	*_DAT_100f20dc = 0;
	*puVar1 = 0;
	FUN_100a6480(0, 2, 1, (int)puVar2, 3, 0, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 9, 1, (int)ppuVar3[-0x15be], 3, 0, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 0xc, 1, (int)ppuVar3[-0x15f8], 1, 1, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 0x12, 1, (int)ppuVar3[-0x15e4], 0, 1, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6430(5);
	*(undefined4 *)ppuVar3[-0x1bc4] = 0x14;
	return;
}

void FUN_100a9e08(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined4 in_stack_ffffffc8;

	puVar2 = PTR_s_Farnham_the_Drunk_100f37ec;
	puVar1 = _DAT_100f20d8;
	ppuVar3 = &toc;
	*_DAT_100f20dc = 0;
	*puVar1 = 0;
	FUN_100a6480(0, 2, 1, (int)puVar2, 3, 0, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 9, 1, (int)ppuVar3[-0x15be], 3, 0, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 0xc, 1, (int)ppuVar3[-0x15fa], 1, 1, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6480(0, 0x12, 1, (int)ppuVar3[-0x15fb], 0, 1, param_7, param_8, in_stack_ffffffc8);
	FUN_100a6430(5);
	*(undefined4 *)ppuVar3[-0x1bc4] = 0x14;
	return;
}

void StartStore(char param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	int *piVar3;
	int *piVar4;
	undefined **ppuVar5;
	undefined *puVar6;
	longlong lVar7;
	int iVar8;
	undefined param_3_00;
	undefined param_4_00;
	undefined4 param_9_00;

	piVar4 = _DAT_100f20d0;
	piVar3 = _DAT_100f20c0;
	puVar2 = PTR_DAT_100f1814;
	puVar6 = PTR_DAT_100f1808;
	ppuVar5 = &toc;
	param_4_00 = SUB41(PTR_DAT_100f1808, 0);
	*(undefined4 *)PTR_DAT_100f1810 = 0;
	puVar1 = PTR_DAT_100f180c;
	*(undefined4 *)puVar2 = 0;
	*(undefined4 *)puVar1 = 0;
	puVar1 = PTR_DAT_100f18cc;
	param_3_00 = SUB41(PTR_DAT_100f18cc, 0);
	*(undefined4 *)puVar6 = 0;
	*(undefined4 *)puVar1 = 0;
	ClearSText(0, 0x18);
	ReleaseStoreBtn();
	if (((longlong)param_1 & 0xffffffffU) < 0x18) {
		// WARNING: Could not recover jumptable at 0x100a9f38. Too many branches
		// WARNING: Treating indirect jump as call
		(**(code **)(ppuVar5[-0x15fc] + (int)param_1 * 4))();
		return;
	}
	puVar6 = ppuVar5[-0x1bbf];
	lVar7 = 0;
	while ((iVar8 = (int)lVar7, iVar8 < 0x18 && (*(int *)(puVar6 + 0x94) == 0))) {
		puVar6 = puVar6 + 0x9c;
		lVar7 = lVar7 + 1;
	}
	if (iVar8 == 0x18) {
		*piVar4 = -1;
	} else {
		*piVar4 = iVar8;
	}
	*ppuVar5[-0x1dd9] = param_1;
	if ((param_1 == '\x02') && (*piVar3 == 0)) {
		StartStore('\x01', (char)lVar7, param_3_00, param_4_00, param_5, param_6, param_7, param_8, param_9_00);
	}
	return;
}

void DrawSText(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int *piVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	longlong lVar4;
	uint *puVar5;

	puVar2 = PTR_DAT_100f20e0;
	piVar1 = _DAT_100f20d8;
	ppuVar3 = &toc;
	if (*_DAT_100f20dc == '\0') {
		DrawSTextBack();
	} else {
		DrawQTextBack(_DAT_100f20dc, param_2, param_3, param_4, param_5, param_6, param_7, param_8);
	}
	if ((*piVar1 != 0) && (((longlong)(char)*ppuVar3[-0x1dd9] & 0xffffffffU) < 0x13)) {
		// WARNING: Could not recover jumptable at 0x100aa114. Too many branches
		// WARNING: Treating indirect jump as call
		(**(code **)(ppuVar3[-0x15fd] + (int)(char)*ppuVar3[-0x1dd9] * 4))();
		return;
	}
	lVar4 = 0;
	puVar5 = (uint *)ppuVar3[-0x1bbf];
	do {
		if (puVar5[0x24] != 0) {
			DrawSLine((int)lVar4);
		}
		if (*(char *)(puVar5 + 2) != '\0') {
			PrintSString((ulonglong)*puVar5, lVar4, (ulonglong)puVar5[0x22], puVar5 + 2,
			    (ulonglong) * (byte *)(puVar5 + 0x23), (ulonglong)puVar5[0x26]);
		}
		lVar4 = lVar4 + 1;
		puVar5 = puVar5 + 0x27;
	} while ((int)lVar4 < 0x18);
	if (*piVar1 != 0) {
		DrawSArrows(4, 0x14);
	}
	*(uint *)puVar2 = (*(uint *)puVar2 & 7) + 1;
	return;
}

void STextESC(void)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	ulonglong uVar5;
	ulonglong uVar6;
	ulonglong uVar7;
	ulonglong uVar8;
	undefined7 uVar9;
	undefined8 in_r7;
	undefined uVar10;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffc8;

	puVar4 = PTR_DAT_100f20a4;
	puVar3 = PTR_DAT_100f18a0;
	puVar2 = PTR_DAT_100f186c;
	puVar1 = PTR_DAT_100f183c;
	uVar10 = (undefined)in_r7;
	uVar9 = (undefined7)((ulonglong)in_r7 >> 8);
	uVar8 = ZEXT48(PTR_DAT_100f18a0);
	uVar7 = ZEXT48(PTR_DAT_100f20a4);
	uVar6 = ZEXT48(PTR_DAT_100f186c);
	if (*PTR_DAT_100f18a0 == '\0') {
		if (((longlong)(char)*PTR_DAT_100f186c & 0xffffffffU) < 0x18) {
			// WARNING: Could not recover jumptable at 0x100aa264. Too many branches
			// WARNING: Treating indirect jump as call
			(**(code **)(_DAT_100f37d8 + (int)(char)*PTR_DAT_100f186c * 4))();
			return;
		}
	} else {
		uVar5 = ZEXT48(PTR_DAT_100f183c);
		*PTR_DAT_100f18a0 = 0;
		if (*puVar1 == '\0') {
			uVar5 = sfx_stop((char)puVar1, (char)puVar2, (char)puVar4, (char)puVar3, uVar10, (char)in_r8,
			    (char)in_r9, (char)in_r10, in_stack_ffffffc8);
		}
		music_stop2(uVar5, uVar6, uVar7, uVar8, CONCAT71(uVar9, uVar10), in_r8, in_r9, in_r10, in_stack_ffffffc8);
	}
	return;
}

void STextUp(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	int *piVar2;
	int *piVar3;
	int iVar4;
	undefined **ppuVar5;

	iVar4 = _DAT_100f20d4;
	piVar3 = _DAT_100f20d0;
	piVar2 = _DAT_100f20bc;
	ppuVar5 = &toc;
	PlaySFX(0x45, param_2, param_3, param_4, param_5, param_6, param_7, param_8);
	iVar1 = *piVar3;
	if (iVar1 != -1) {
		if (*(int *)ppuVar5[-0x1bbe] == 0) {
			if (iVar1 == 0) {
				*piVar3 = 0x17;
			} else {
				*piVar3 = iVar1 + -1;
			}
			while (*(int *)(iVar4 + *piVar3 * 0x9c + 0x94) == 0) {
				if (*piVar3 == 0) {
					*piVar3 = 0x17;
				} else {
					*piVar3 = *piVar3 + -1;
				}
			}
		} else {
			if (iVar1 == *(int *)ppuVar5[-0x1bc6]) {
				iVar1 = *piVar2;
				if (iVar1 != 0) {
					*piVar2 = iVar1 + -1;
				}
			} else {
				*piVar3 = iVar1 + -1;
				while (*(int *)(iVar4 + *piVar3 * 0x9c + 0x94) == 0) {
					if (*piVar3 == 0) {
						*piVar3 = 0x17;
					} else {
						*piVar3 = *piVar3 + -1;
					}
				}
			}
		}
	}
	return;
}

void STextDown(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	int *piVar2;
	int *piVar3;
	int iVar4;
	undefined **ppuVar5;

	iVar4 = _DAT_100f20d4;
	piVar3 = _DAT_100f20d0;
	piVar2 = _DAT_100f20bc;
	ppuVar5 = &toc;
	PlaySFX(0x45, param_2, param_3, param_4, param_5, param_6, param_7, param_8);
	iVar1 = *piVar3;
	if (iVar1 != -1) {
		if (*(int *)ppuVar5[-0x1bbe] == 0) {
			if (iVar1 == 0x17) {
				*piVar3 = 0;
			} else {
				*piVar3 = iVar1 + 1;
			}
			while (*(int *)(iVar4 + *piVar3 * 0x9c + 0x94) == 0) {
				if (*piVar3 == 0x17) {
					*piVar3 = 0;
				} else {
					*piVar3 = *piVar3 + 1;
				}
			}
		} else {
			if (iVar1 == *(int *)ppuVar5[-0x1bc7]) {
				iVar1 = *piVar2;
				if (iVar1 < *(int *)ppuVar5[-0x1bc8]) {
					*piVar2 = iVar1 + 1;
				}
			} else {
				*piVar3 = iVar1 + 1;
				while (*(int *)(iVar4 + *piVar3 * 0x9c + 0x94) == 0) {
					if (*piVar3 == 0x17) {
						*piVar3 = 0;
					} else {
						*piVar3 = *piVar3 + 1;
					}
				}
			}
		}
	}
	return;
}

void STextPrior(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	int *piVar2;
	int *piVar3;
	undefined **ppuVar4;

	piVar3 = _DAT_100f20d0;
	piVar2 = _DAT_100f20bc;
	ppuVar4 = &toc;
	PlaySFX(0x45, param_2, param_3, param_4, param_5, param_6, param_7, param_8);
	iVar1 = *piVar3;
	if ((iVar1 != -1) && (*(int *)ppuVar4[-0x1bbe] != 0)) {
		if (iVar1 == *(int *)ppuVar4[-0x1bc6]) {
			if (*piVar2 != 0) {
				*piVar2 = *piVar2 + -4;
			}
			if (*piVar2 < 0) {
				*piVar2 = 0;
			}
		} else {
			*piVar3 = *(int *)ppuVar4[-0x1bc6];
		}
	}
	return;
}

void STextNext(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	int *piVar2;
	int *piVar3;
	undefined **ppuVar4;

	piVar3 = _DAT_100f20d0;
	piVar2 = _DAT_100f20bc;
	ppuVar4 = &toc;
	PlaySFX(0x45, param_2, param_3, param_4, param_5, param_6, param_7, param_8);
	iVar1 = *piVar3;
	if ((iVar1 != -1) && (*(int *)ppuVar4[-0x1bbe] != 0)) {
		if (iVar1 == *(int *)ppuVar4[-0x1bc7]) {
			iVar1 = *(int *)ppuVar4[-0x1bc8];
			if (*piVar2 < iVar1) {
				*piVar2 = *piVar2 + 4;
			}
			if (iVar1 < *piVar2) {
				*piVar2 = iVar1;
			}
		} else {
			*piVar3 = *(int *)ppuVar4[-0x1bc7];
		}
	}
	return;
}

void FUN_100aa71c(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	if (*_DAT_100f20d0 - 10U < 0xb) {
		// WARNING: Could not recover jumptable at 0x100aa74c. Too many branches
		// WARNING: Treating indirect jump as call
		(**(code **)(PTR_PTR_LAB_100f37d4 + (*_DAT_100f20d0 - 10U) * 4))(*(code **)(PTR_PTR_LAB_100f37d4 + (*_DAT_100f20d0 - 10U) * 4), param_2, param_3, param_4, param_5, param_6, param_7, param_8);
		return;
	}
	return;
}

void SetGoldCurs(int param_1, int param_2)

{
	undefined *puVar1;

	puVar1 = PTR_DAT_100f1828 + param_2 * 0x170 + param_1 * 0x55ec;
	if (0x9c3 < *(int *)(puVar1 + 0xf6c)) {
		*(undefined4 *)(puVar1 + 0xf68) = 6;
		return;
	}
	if (*(int *)(puVar1 + 0xf6c) < 0x3e9) {
		*(undefined4 *)(puVar1 + 0xf68) = 4;
		return;
	}
	*(undefined4 *)(puVar1 + 0xf68) = 5;
	return;
}

void SetSpdbarGoldCurs(int param_1, int param_2)

{
	undefined *puVar1;

	puVar1 = PTR_DAT_100f1828 + param_2 * 0x170 + param_1 * 0x55ec;
	if (0x9c3 < *(int *)(puVar1 + 0x4918)) {
		*(undefined4 *)(puVar1 + 0x4914) = 6;
		return;
	}
	if (*(int *)(puVar1 + 0x4918) < 0x3e9) {
		*(undefined4 *)(puVar1 + 0x4914) = 4;
		return;
	}
	*(undefined4 *)(puVar1 + 0x4914) = 5;
	return;
}

void FUN_100aa87c(int param_1, undefined param_2, char param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	uint uVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	ulonglong uVar6;
	int iVar7;
	ulonglong uVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	longlong lVar14;
	longlong lVar15;
	int iVar16;
	undefined4 in_stack_ffffffb8;

	puVar5 = PTR_DAT_100f1828;
	puVar4 = PTR_DAT_100f1824;
	lVar14 = (longlong)param_8;
	lVar13 = (longlong)param_7;
	lVar12 = (longlong)param_6;
	lVar11 = (longlong)param_5;
	lVar10 = (longlong)param_4;
	lVar9 = (longlong)param_3;
	uVar6 = ZEXT48(&toc);
	uVar8 = CalculateGold(*(int *)PTR_DAT_100f1824);
	iVar16 = 0;
	*(int *)(puVar5 + *(int *)puVar4 * 0x55ec + 0x1c8) = (int)uVar8 - param_1;
	while (true) {
		iVar7 = (int)uVar6;
		if ((7 < iVar16) || (param_1 < 1))
			break;
		iVar7 = *(int *)puVar4;
		puVar3 = puVar5 + iVar7 * 0x55ec + iVar16 * 0x170;
		if (*(int *)(puVar3 + 0x485c) == 0xb) {
			iVar2 = *(int *)(puVar3 + 0x4918);
			if (iVar2 != 5000) {
				if (param_1 < iVar2) {
					*(int *)(puVar3 + 0x4918) = iVar2 - param_1;
					SetSpdbarGoldCurs(iVar7, iVar16);
					param_1 = 0;
				} else {
					param_1 = param_1 - iVar2;
					RemoveSpdBarItem(iVar7, iVar16, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12, (char)lVar13,
					    (char)lVar14, in_stack_ffffffb8);
					iVar16 = -1;
				}
			}
		}
		iVar16 = iVar16 + 1;
	}
	if (0 < param_1) {
		iVar16 = 0;
		while (true) {
			iVar7 = (int)uVar6;
			if ((7 < iVar16) || (param_1 < 1))
				break;
			iVar7 = *(int *)puVar4;
			puVar3 = puVar5 + iVar7 * 0x55ec + iVar16 * 0x170;
			if (*(int *)(puVar3 + 0x485c) == 0xb) {
				iVar2 = *(int *)(puVar3 + 0x4918);
				if (param_1 < iVar2) {
					*(int *)(puVar3 + 0x4918) = iVar2 - param_1;
					SetSpdbarGoldCurs(iVar7, iVar16);
					param_1 = 0;
				} else {
					param_1 = param_1 - iVar2;
					RemoveSpdBarItem(iVar7, iVar16, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12, (char)lVar13,
					    (char)lVar14, in_stack_ffffffb8);
					iVar16 = -1;
				}
			}
			iVar16 = iVar16 + 1;
		}
	}
	**(undefined4 **)(iVar7 + -0x76bc) = 0xff;
	if (0 < param_1) {
		lVar15 = 0;
		while (true) {
			uVar1 = *(uint *)puVar4;
			puVar3 = puVar5 + uVar1 * 0x55ec;
			iVar16 = (int)lVar15;
			if ((*(int *)(puVar3 + 0x4828) <= iVar16) || (param_1 < 1))
				break;
			puVar3 = puVar3 + iVar16 * 0x170;
			if (*(int *)(puVar3 + 0xeb0) == 0xb) {
				iVar7 = *(int *)(puVar3 + 0xf6c);
				if (iVar7 != 5000) {
					if (param_1 < iVar7) {
						*(int *)(puVar3 + 0xf6c) = iVar7 - param_1;
						SetGoldCurs(uVar1, iVar16);
						param_1 = 0;
					} else {
						param_1 = param_1 - iVar7;
						RemoveInvItem((ulonglong)uVar1, lVar15, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12,
						    (char)lVar13, (char)lVar14, in_stack_ffffffb8);
						lVar15 = -1;
					}
				}
			}
			lVar15 = lVar15 + 1;
		}
		if (0 < param_1) {
			lVar15 = 0;
			while (true) {
				uVar1 = *(uint *)puVar4;
				puVar3 = puVar5 + uVar1 * 0x55ec;
				iVar16 = (int)lVar15;
				if ((*(int *)(puVar3 + 0x4828) <= iVar16) || (param_1 < 1))
					break;
				puVar3 = puVar3 + iVar16 * 0x170;
				if (*(int *)(puVar3 + 0xeb0) == 0xb) {
					iVar7 = *(int *)(puVar3 + 0xf6c);
					if (param_1 < iVar7) {
						*(int *)(puVar3 + 0xf6c) = iVar7 - param_1;
						SetGoldCurs(uVar1, iVar16);
						param_1 = 0;
					} else {
						param_1 = param_1 - iVar7;
						RemoveInvItem((ulonglong)uVar1, lVar15, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12,
						    (char)lVar13, (char)lVar14, in_stack_ffffffb8);
						lVar15 = -1;
					}
				}
				lVar15 = lVar15 + 1;
			}
		}
	}
	return;
}

void FUN_100aaae4(undefined8 uParm1, undefined param_2, undefined param_3, ulonglong uParm4,
    ulonglong uParm5, undefined param_6, undefined8 uParm7, undefined8 uParm8)

{
	undefined4 uVar1;
	int iVar2;
	undefined *puVar3;
	uint uVar4;
	ulonglong uVar5;
	undefined **ppuVar6;
	longlong lVar7;
	undefined7 uVar8;
	undefined uVar9;
	undefined7 uVar10;
	undefined uVar11;
	ulonglong uVar12;
	ulonglong uVar13;
	undefined4 in_stack_ffffffb8;

	uVar4 = _DAT_100f1e2c;
	puVar3 = PTR_DAT_100f1824;
	uVar11 = (undefined)uParm8;
	uVar10 = (undefined7)((ulonglong)uParm8 >> 8);
	uVar9 = (undefined)uParm7;
	uVar8 = (undefined7)((ulonglong)uParm7 >> 8);
	ppuVar6 = &toc;
	uVar13 = (ulonglong)_DAT_100f1e2c;
	uVar12 = ZEXT48(PTR_DAT_100f1828);
	FUN_100aa87c(*(int *)(PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec + 0x549c), param_2,
	    param_3, (char)uParm4, (char)uParm5, param_6, uVar9, uVar11, in_stack_ffffffb8);
	lVar7 = uVar12 + (ulonglong) * (uint *)puVar3 * 0x55ec;
	iVar2 = (int)lVar7;
	if (*(char *)(iVar2 + 0x5410) == '\0') {
		*(undefined4 *)(iVar2 + 0x540c) = 0;
	}
	StoreAutoPlace((char)lVar7, param_2, param_3, (char)uParm4, (char)uParm5, param_6, uVar9, uVar11,
	    in_stack_ffffffb8);
	uVar12 = ZEXT48(ppuVar6[-0x1bce]);
	uVar5 = (ulonglong) * (uint *)ppuVar6[-0x1bce] + ((ulonglong) * (uint *)ppuVar6[-0x1bc3] - (ulonglong) * (uint *)ppuVar6[-0x1bc6] & 0xffffffff00000000 | (ulonglong)(uint)((int)((ulonglong) * (uint *)ppuVar6[-0x1bc3] - (ulonglong) * (uint *)ppuVar6[-0x1bc6]) >> 2));
	if ((int)uVar5 == 0x13) {
		*(undefined4 *)(uVar4 + 7000) = 0xffffffff;
	} else {
		uParm5 = uVar13 + uVar5 * 0x170;
		while (*(int *)((int)uParm5 + 0x178) != -1) {
			lVar7 = 0x2e;
			uParm4 = uParm5 - 8;
			uVar12 = uParm5 + 0x168;
			do {
				uVar12 = uVar12 + 8;
				uVar1 = ((undefined4 *)uVar12)[1];
				uParm4 = uParm4 + 8;
				*(undefined4 *)uParm4 = *(undefined4 *)uVar12;
				((undefined4 *)uParm4)[1] = uVar1;
				lVar7 = lVar7 + -1;
			} while (lVar7 != 0);
			uParm5 = uParm5 + 0x170;
			uVar5 = uVar5 + 1;
		}
		*(undefined4 *)(uVar4 + (int)uVar5 * 0x170 + 8) = 0xffffffff;
	}
	CalcPlrInv((ulonglong) * (uint *)puVar3, 1, uVar12, uParm4, uParm5, uVar5, CONCAT71(uVar8, uVar9),
	    CONCAT71(uVar10, uVar11), in_stack_ffffffb8);
	return;
}

void FUN_100aac00(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	uint uVar2;
	int iVar3;
	undefined4 uVar4;
	uint uVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	int *piVar10;
	uint *puVar11;
	int *piVar12;
	longlong lVar13;
	ulonglong uVar14;
	undefined uVar15;
	longlong lVar16;
	undefined uVar17;
	ulonglong uVar18;
	undefined uVar19;
	ulonglong uVar20;
	undefined uVar21;
	ulonglong uVar22;
	undefined uVar23;
	longlong lVar24;
	undefined uVar25;
	longlong lVar26;
	undefined uVar27;
	longlong lVar28;
	undefined4 in_stack_ffffffb8;

	piVar12 = _DAT_100f20d0;
	piVar10 = _DAT_100f20c4;
	puVar9 = PTR_DAT_100f1980;
	puVar8 = PTR_DAT_100f197c;
	puVar7 = PTR_DAT_100f1828;
	puVar6 = PTR_DAT_100f1824;
	lVar26 = (longlong)param_8;
	lVar24 = (longlong)param_7;
	uVar20 = (ulonglong)_DAT_100f1e2c;
	uVar18 = ZEXT48(PTR_DAT_100f1828);
	iVar1 = *_DAT_100f20d0;
	uVar15 = SUB41(PTR_DAT_100f1828, 0);
	uVar17 = (undefined)_DAT_100f1e2c;
	if (iVar1 == 0x16) {
		StartStore('\x01', param_2, 0x16, uVar15, uVar17, param_6, param_7, param_8, in_stack_ffffffb8);
		*piVar12 = 0xc;
	} else {
		*(undefined4 *)PTR_DAT_100f20a4 = 2;
		puVar11 = _DAT_100f20bc;
		*piVar10 = iVar1;
		piVar10 = _DAT_100f20b8;
		uVar2 = *puVar11;
		*(uint *)PTR_DAT_100f2098 = uVar2;
		uVar22 = (ulonglong) * (uint *)puVar6 * 0x55ec;
		lVar16 = uVar18 + uVar22;
		iVar3 = *(int *)((int)lVar16 + 0x1c8);
		lVar13 = uVar20 + ((ulonglong)uVar2 + (ulonglong)(uint)(iVar1 - *piVar10 >> 2)) * 0x170;
		if (iVar3 < *(int *)((int)lVar13 + 200)) {
			StartStore('\t', (char)iVar3, (char)lVar16, uVar15, uVar17, (char)uVar22, param_7, param_8,
			    in_stack_ffffffb8);
		} else {
			lVar16 = lVar16 + 0x53cc;
			lVar28 = 0x2e;
			lVar13 = lVar13 + -8;
			do {
				lVar13 = lVar13 + 8;
				uVar4 = ((undefined4 *)lVar13)[1];
				lVar16 = lVar16 + 8;
				*(undefined4 *)lVar16 = *(undefined4 *)lVar13;
				((undefined4 *)lVar16)[1] = uVar4;
				lVar28 = lVar28 + -1;
			} while (lVar28 != 0);
			SetCursor_(*(int *)(puVar7 + (int)uVar22 + 0x5494) + 0xc, (char)lVar13, (char)lVar16, uVar15,
			    uVar17, (char)uVar22, param_7, param_8, in_stack_ffffffb8);
			uVar14 = 0;
			lVar28 = 0;
			while (true) {
				uVar23 = (undefined)uVar22;
				uVar21 = (undefined)uVar20;
				uVar19 = (undefined)uVar18;
				uVar17 = (undefined)lVar16;
				uVar15 = (undefined)lVar13;
				uVar25 = (undefined)lVar24;
				uVar27 = (undefined)lVar26;
				if ((0x27 < (int)lVar28) || ((int)uVar14 != 0))
					break;
				iVar1 = *(int *)puVar9;
				uVar20 = 0;
				uVar2 = iVar1 / 0x1c + (iVar1 >> 0x1f);
				uVar22 = (longlong)(int)((ulonglong)((longlong)iVar1 * -0x6db6db6d) >> 0x20) & 0xffffffff00000000U | (ulonglong)uVar2;
				uVar5 = *(int *)puVar8 / 0x1c + (*(int *)puVar8 >> 0x1f);
				lVar16 = uVar22 + (ulonglong)(uVar2 >> 0x1f);
				uVar18 = (ulonglong)uVar5 + (ulonglong)(uVar5 >> 0x1f);
				lVar13 = lVar28;
				uVar14 = AutoPlace(*(int *)puVar6, (int)lVar28, lVar16, (int)uVar18, 0, (char)uVar2, uVar25,
				    uVar27, in_stack_ffffffb8);
				lVar28 = lVar28 + 1;
			}
			if ((int)uVar14 == 0) {
				StartStore('\n', uVar15, uVar17, uVar19, uVar21, uVar23, uVar25, uVar27, in_stack_ffffffb8);
			} else {
				StartStore('\v', uVar15, uVar17, uVar19, uVar21, uVar23, uVar25, uVar27, in_stack_ffffffb8);
			}
			SetCursor_(1, uVar15, uVar17, uVar19, uVar21, uVar23, uVar25, uVar27, in_stack_ffffffb8);
		}
	}
	return;
}

void FUN_100aad84(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int *piVar1;
	int *piVar2;
	undefined *puVar3;
	undefined *puVar4;
	uint uVar5;
	undefined **ppuVar6;
	longlong lVar7;
	int iVar8;
	longlong lVar9;
	ulonglong uVar10;
	ulonglong uVar11;
	undefined4 in_stack_ffffffb8;

	uVar5 = _DAT_100f1e28;
	puVar4 = PTR_DAT_100f1828;
	puVar3 = PTR_DAT_100f1824;
	ppuVar6 = &toc;
	uVar11 = (ulonglong)_DAT_100f1e28;
	uVar10 = ZEXT48(PTR_DAT_100f1828);
	FUN_100aa87c(*(int *)(PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec + 0x549c), param_2,
	    param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	lVar7 = uVar10 + (ulonglong) * (uint *)puVar3 * 0x55ec;
	iVar8 = (int)lVar7;
	if (*(char *)(iVar8 + 0x5410) == '\0') {
		*(undefined4 *)(iVar8 + 0x540c) = 0;
	}
	StoreAutoPlace((char)lVar7, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	lVar7 = 0;
	piVar1 = (int *)ppuVar6[-0x1bce];
	lVar9 = 0;
	iVar8 = *piVar1 + (*(int *)ppuVar6[-0x1bc3] - *(int *)ppuVar6[-0x1bc6] >> 2);
	while (-1 < iVar8) {
		if (*(int *)((int)uVar11 + 8) != -1) {
			iVar8 = iVar8 + -1;
			lVar7 = lVar9;
		}
		uVar11 = uVar11 + 0x170;
		lVar9 = lVar9 + 1;
	}
	piVar2 = (int *)ppuVar6[-0x1c6b];
	*(undefined4 *)(uVar5 + (int)lVar7 * 0x170 + 8) = 0xffffffff;
	*piVar2 = *piVar2 + -1;
	SpawnPremium((int)(char)puVar4[*(int *)puVar3 * 0x55ec + 0x1b4], (char)piVar2, (char)piVar1,
	    (char)uVar11, (char)lVar7, (char)lVar9, param_7, param_8, in_stack_ffffffb8);
	return;
}

void FUN_100aae8c(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	int iVar3;
	undefined4 uVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	int *piVar9;
	uint *puVar10;
	uint *puVar11;
	longlong lVar12;
	undefined uVar13;
	ulonglong uVar14;
	ulonglong uVar15;
	undefined uVar16;
	ulonglong uVar17;
	longlong lVar18;
	undefined uVar19;
	ulonglong uVar20;
	undefined uVar21;
	undefined uVar22;
	ulonglong uVar23;
	undefined uVar24;
	longlong lVar25;
	undefined uVar26;
	longlong lVar27;
	longlong lVar28;
	undefined4 in_stack_ffffffb8;

	puVar10 = _DAT_100f20d0;
	puVar11 = _DAT_100f20c4;
	puVar8 = PTR_DAT_100f1980;
	puVar7 = PTR_DAT_100f197c;
	puVar6 = PTR_DAT_100f1828;
	puVar5 = PTR_DAT_100f1824;
	uVar15 = ZEXT48(PTR_DAT_100f1828);
	uVar14 = (ulonglong)_DAT_100f1e28;
	uVar1 = *_DAT_100f20d0;
	uVar20 = (ulonglong)uVar1;
	uVar21 = (undefined)uVar1;
	uVar13 = SUB41(PTR_DAT_100f1828, 0);
	if (uVar1 == 0x16) {
		StartStore('\x01', param_2, (char)_DAT_100f1e28, uVar13, param_5, uVar21, param_7, param_8,
		    in_stack_ffffffb8);
		*puVar10 = 0xe;
	} else {
		*(undefined4 *)PTR_DAT_100f20a4 = 0x12;
		puVar10 = _DAT_100f20bc;
		lVar25 = 0;
		*puVar11 = uVar1;
		piVar9 = _DAT_100f20b8;
		lVar27 = 0;
		uVar2 = *puVar10;
		uVar23 = (ulonglong)uVar2;
		*(uint *)PTR_DAT_100f2098 = uVar2;
		lVar12 = uVar23 + (ulonglong)(uint)((int)(uVar1 - *piVar9) >> 2);
		uVar17 = uVar14;
		while (-1 < (int)lVar12) {
			if (*(int *)((int)uVar17 + 8) != -1) {
				lVar12 = lVar12 + -1;
				lVar25 = lVar27;
			}
			uVar17 = uVar17 + 0x170;
			lVar27 = lVar27 + 1;
		}
		lVar18 = (ulonglong) * (uint *)puVar5 * 0x55ec;
		lVar12 = uVar14 + lVar25 * 0x170;
		lVar27 = uVar15 + lVar18;
		iVar3 = *(int *)((int)lVar27 + 0x1c8);
		if (iVar3 < *(int *)((int)lVar12 + 200)) {
			StartStore('\t', (char)iVar3, (char)lVar27, uVar13, (char)lVar18, uVar21, (char)uVar2, (char)lVar25, in_stack_ffffffb8);
		} else {
			lVar27 = lVar27 + 0x53cc;
			lVar28 = 0x2e;
			lVar12 = lVar12 + -8;
			do {
				lVar12 = lVar12 + 8;
				uVar4 = ((undefined4 *)lVar12)[1];
				lVar27 = lVar27 + 8;
				*(undefined4 *)lVar27 = *(undefined4 *)lVar12;
				((undefined4 *)lVar27)[1] = uVar4;
				lVar28 = lVar28 + -1;
			} while (lVar28 != 0);
			SetCursor_(*(int *)(puVar6 + (int)lVar18 + 0x5494) + 0xc, (char)lVar12, (char)lVar27, uVar13,
			    (char)lVar18, uVar21, (char)uVar2, (char)lVar25, in_stack_ffffffb8);
			uVar14 = 0;
			lVar28 = 0;
			while (true) {
				uVar22 = (undefined)uVar20;
				uVar19 = (undefined)lVar18;
				uVar16 = (undefined)uVar15;
				uVar21 = (undefined)lVar27;
				uVar13 = (undefined)lVar12;
				uVar24 = (undefined)uVar23;
				uVar26 = (undefined)lVar25;
				if ((0x27 < (int)lVar28) || ((int)uVar14 != 0))
					break;
				iVar3 = *(int *)puVar8;
				lVar18 = 0;
				uVar1 = iVar3 / 0x1c + (iVar3 >> 0x1f);
				uVar20 = (longlong)(int)((ulonglong)((longlong)iVar3 * -0x6db6db6d) >> 0x20) & 0xffffffff00000000U | (ulonglong)uVar1;
				uVar2 = *(int *)puVar7 / 0x1c + (*(int *)puVar7 >> 0x1f);
				lVar27 = uVar20 + (ulonglong)(uVar1 >> 0x1f);
				uVar15 = (ulonglong)uVar2 + (ulonglong)(uVar2 >> 0x1f);
				lVar12 = lVar28;
				uVar14 = AutoPlace(*(int *)puVar5, (int)lVar28, lVar27, (int)uVar15, 0, (char)uVar1, uVar24,
				    uVar26, in_stack_ffffffb8);
				lVar28 = lVar28 + 1;
			}
			if ((int)uVar14 == 0) {
				StartStore('\n', uVar13, uVar21, uVar16, uVar19, uVar22, uVar24, uVar26, in_stack_ffffffb8);
			} else {
				StartStore('\v', uVar13, uVar21, uVar16, uVar19, uVar22, uVar24, uVar26, in_stack_ffffffb8);
			}
			SetCursor_(1, uVar13, uVar21, uVar16, uVar19, uVar22, uVar24, uVar26, in_stack_ffffffb8);
		}
	}
	return;
}

undefined8
FUN_100ab044(int param_1, undefined param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	ulonglong uVar3;
	undefined **ppuVar4;
	undefined8 uVar5;
	undefined *puVar6;
	int iVar7;
	undefined *puVar8;
	longlong lVar9;
	ulonglong uVar10;
	int iVar11;
	int iVar12;
	undefined4 in_stack_ffffffb8;

	ppuVar4 = &toc;
	iVar12 = (int)((longlong)param_1 * 0x170);
	uVar1 = *(uint *)(PTR_DAT_100f20ac + iVar12 + 200);
	uVar10 = (ulonglong)uVar1;
	uVar2 = (int)uVar1 / 5000 + ((int)uVar1 >> 0x1f);
	iVar7 = uVar2 + (uVar2 >> 0x1f);
	if (uVar10 != (((longlong)(int)((ulonglong)((longlong)(int)uVar1 * 0x68db8bad) >> 0x20) & 0xffffffff00000000U | (ulonglong)uVar2) + (ulonglong)(uVar2 >> 0x1f)) * 5000) {
		iVar7 = iVar7 + 1;
	}
	SetCursor_(*(int *)(PTR_DAT_100f20ac + iVar12 + 0xc0) + 0xc, (char)uVar2, (char)PTR_DAT_100f20ac,
	    (char)((longlong)param_1 * 0x170), param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	uVar1 = *(int *)ppuVar4[-0x1d94] / 0x1c + (*(int *)ppuVar4[-0x1d94] >> 0x1f);
	uVar2 = *(int *)ppuVar4[-0x1d95] / 0x1c + (*(int *)ppuVar4[-0x1d95] >> 0x1f);
	lVar9 = (ulonglong)uVar1 + (ulonglong)(uVar1 >> 0x1f);
	iVar12 = (int)lVar9 * (uVar2 + (uVar2 >> 0x1f));
	SetCursor_(1, (byte)(uVar2 >> 0x1f), (char)lVar9, (byte)(uVar1 >> 0x1f), param_5, param_6, param_7,
	    param_8, in_stack_ffffffb8);
	if (iVar12 < iVar7) {
		lVar9 = 4;
		puVar8 = ppuVar4[-0x1dea] + *(int *)ppuVar4[-0x1deb] * 0x55ec;
		puVar6 = puVar8;
		do {
			if (puVar6[0x482c] == '\0') {
				iVar12 = iVar12 + 1;
			}
			if (puVar6[0x482d] == '\0') {
				iVar12 = iVar12 + 1;
			}
			if (puVar6[0x482e] == '\0') {
				iVar12 = iVar12 + 1;
			}
			if (puVar6[0x482f] == '\0') {
				iVar12 = iVar12 + 1;
			}
			if (puVar6[0x4830] == '\0') {
				iVar12 = iVar12 + 1;
			}
			if (puVar6[0x4831] == '\0') {
				iVar12 = iVar12 + 1;
			}
			if (puVar6[0x4832] == '\0') {
				iVar12 = iVar12 + 1;
			}
			if (puVar6[0x4833] == '\0') {
				iVar12 = iVar12 + 1;
			}
			if (puVar6[0x4834] == '\0') {
				iVar12 = iVar12 + 1;
			}
			if (puVar6[0x4835] == '\0') {
				iVar12 = iVar12 + 1;
			}
			puVar6 = puVar6 + 10;
			lVar9 = lVar9 + -1;
		} while (lVar9 != 0);
		uVar3 = (ulonglong) * (uint *)(puVar8 + 0x4828);
		if (0 < (int)*(uint *)(puVar8 + 0x4828)) {
			do {
				if (*(int *)(puVar8 + 0xeb0) == 0xb) {
					uVar1 = *(uint *)(puVar8 + 0xf6c);
					if (uVar1 != 5000) {
						if ((int)((int)uVar10 + uVar1) < 0x1389) {
							uVar10 = 0;
						} else {
							uVar10 = uVar10 - (5000 - (ulonglong)uVar1);
						}
					}
				}
				puVar8 = puVar8 + 0x170;
				uVar3 = uVar3 - 1;
			} while (uVar3 != 0);
		}
		iVar11 = (int)uVar10;
		uVar1 = iVar11 / 5000 + (iVar11 >> 0x1f);
		iVar7 = uVar1 + (uVar1 >> 0x1f);
		if (uVar10 != (((longlong)(int)((ulonglong)((longlong)iVar11 * 0x68db8bad) >> 0x20) & 0xffffffff00000000U | (ulonglong)uVar1) + (ulonglong)(uVar1 >> 0x1f)) * 5000) {
			iVar7 = iVar7 + 1;
		}
		if (iVar12 < iVar7) {
			uVar5 = 0;
		} else {
			uVar5 = 1;
		}
	} else {
		uVar5 = 1;
	}
	return uVar5;
}

void FUN_100ab2d0(undefined4 param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, char param_6, char param_7, char param_8, undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	undefined4 uVar3;
	uint uVar4;
	int iVar5;
	bool bVar6;
	undefined *puVar7;
	undefined *puVar8;
	longlong lVar9;
	undefined4 *puVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	longlong lVar14;
	int iVar15;
	int iVar16;
	int iVar17;
	ulonglong uVar18;
	longlong lVar19;
	undefined4 in_stack_ffffffa8;

	puVar8 = PTR_DAT_100f1e5c;
	puVar7 = PTR_DAT_100f1824;
	lVar14 = (longlong)param_8;
	lVar13 = (longlong)param_7;
	lVar12 = (longlong)param_6;
	uVar18 = ZEXT48(PTR_DAT_100f1828);
	bVar6 = false;
	iVar15 = 0;
	while (true) {
		if (0x27 < iVar15) {
			return;
		}
		if (bVar6)
			break;
		uVar1 = *(uint *)puVar7;
		uVar4 = iVar15 / 10 + (iVar15 >> 0x1f);
		iVar16 = (uVar4 + (uVar4 >> 0x1f)) * 10;
		lVar9 = uVar18 + (ulonglong)uVar1 * 0x55ec;
		iVar17 = iVar15 + (uVar4 + (uVar4 >> 0x1f)) * -10;
		iVar5 = (int)lVar9;
		if (*(char *)(iVar5 + iVar17 + iVar16 + 0x482c) == '\0') {
			uVar2 = *(uint *)(iVar5 + 0x4828);
			GetGoldSeed(uVar1, (int *)puVar8, (char)lVar9, (byte)(uVar4 >> 0x1f), bVar6, (char)lVar12,
			    (char)lVar13, (char)lVar14, in_stack_ffffffa8);
			uVar1 = *(uint *)puVar7;
			lVar19 = 0x2e;
			lVar11 = uVar18 + (ulonglong)uVar1 * 0x55ec;
			lVar12 = lVar11 + (ulonglong)uVar2 * 0x170;
			lVar9 = lVar12 + 0xea0;
			puVar10 = (undefined4 *)(puVar8 + -8);
			do {
				uVar3 = puVar10[3];
				lVar9 = lVar9 + 8;
				*(undefined4 *)lVar9 = puVar10[2];
				((undefined4 *)lVar9)[1] = uVar3;
				lVar19 = lVar19 + -1;
				puVar10 = puVar10 + 2;
			} while (lVar19 != 0);
			iVar5 = (int)lVar11;
			*(int *)(iVar5 + 0x4828) = *(int *)(iVar5 + 0x4828) + 1;
			*(undefined *)(iVar5 + iVar17 + iVar16 + 0x482c) = (char)*(undefined4 *)(iVar5 + 0x4828);
			*(undefined4 *)((int)lVar12 + 0xf6c) = param_1;
			SetGoldCurs(uVar1, uVar2);
			bVar6 = true;
		}
		iVar15 = iVar15 + 1;
	}
	return;
}

void FUN_100ab3e8(undefined param_1, undefined param_2, undefined param_3, char param_4,
    undefined param_5, char param_6, undefined param_7, char param_8, undefined4 param_9)

{
	char cVar1;
	uint uVar2;
	uint uVar3;
	undefined4 uVar4;
	int iVar5;
	undefined *puVar6;
	undefined *puVar7;
	uint *puVar8;
	longlong lVar9;
	longlong lVar10;
	ulonglong uVar11;
	longlong lVar12;
	longlong lVar13;
	longlong lVar14;
	longlong lVar15;
	ulonglong uVar16;
	ulonglong uVar17;
	ulonglong uVar18;
	int iVar19;
	int iVar20;
	ulonglong uVar21;
	undefined4 in_stack_ffffffb8;

	puVar8 = _DAT_100f20c0;
	puVar7 = PTR_DAT_100f1828;
	puVar6 = PTR_DAT_100f1824;
	lVar15 = (longlong)param_8;
	lVar14 = (longlong)param_6;
	lVar12 = (longlong)param_4;
	uVar11 = ZEXT48(PTR_DAT_100f2098);
	uVar16 = ZEXT48(PTR_DAT_100f20a8);
	uVar17 = ZEXT48(PTR_DAT_100f20ac);
	uVar21 = ZEXT48(PTR_DAT_100f1828);
	lVar9 = (ulonglong) * (uint *)PTR_DAT_100f2098 + (ulonglong)(uint)(*_DAT_100f20c4 - *_DAT_100f20b8 >> 2);
	cVar1 = PTR_DAT_100f20a8[(uint)lVar9];
	if (cVar1 < '\0') {
		RemoveSpdBarItem(*(int *)PTR_DAT_100f1824, -((int)cVar1 + 1), (char)PTR_DAT_100f2098, param_4, param_5,
		    param_6, param_7, param_8, in_stack_ffffffb8);
	} else {
		RemoveInvItem((ulonglong) * (uint *)PTR_DAT_100f1824, (longlong)cVar1, (char)PTR_DAT_100f2098, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	}
	lVar13 = uVar17 + lVar9 * 0x170;
	uVar2 = *(uint *)((int)lVar13 + 200);
	uVar18 = (ulonglong)uVar2;
	*puVar8 = *puVar8 - 1;
	uVar3 = *puVar8;
	uVar17 = (ulonglong)uVar3;
	if ((uint)lVar9 != uVar3) {
		lVar14 = uVar16 + lVar9;
		while ((int)lVar9 < (int)uVar3) {
			lVar10 = 0x2e;
			lVar12 = lVar13 + -8;
			uVar11 = lVar13 + 0x168;
			do {
				uVar11 = uVar11 + 8;
				uVar4 = ((undefined4 *)uVar11)[1];
				lVar12 = lVar12 + 8;
				*(undefined4 *)lVar12 = *(undefined4 *)uVar11;
				((undefined4 *)lVar12)[1] = uVar4;
				lVar10 = lVar10 + -1;
			} while (lVar10 != 0);
			lVar13 = lVar13 + 0x170;
			lVar9 = lVar9 + 1;
			*(undefined *)lVar14 = ((undefined *)lVar14)[1];
			lVar14 = lVar14 + 1;
		}
	}
	iVar20 = 0;
	lVar9 = 0;
	*(uint *)(puVar7 + *(int *)puVar6 * 0x55ec + 0x1c8) = *(int *)(puVar7 + *(int *)puVar6 * 0x55ec + 0x1c8) + uVar2;
	while (true) {
		uVar2 = *(uint *)puVar6;
		lVar10 = uVar21 + (ulonglong)uVar2 * 0x55ec;
		iVar19 = (int)uVar18;
		if ((*(int *)((int)lVar10 + 0x4828) <= iVar20) || (iVar19 < 1))
			break;
		iVar5 = (int)(lVar10 + lVar9);
		if (*(int *)(iVar5 + 0xeb0) == 0xb) {
			lVar12 = lVar10 + lVar9 + 0xf6c;
			uVar3 = *(uint *)(iVar5 + 0xf6c);
			if (uVar3 != 5000) {
				if ((int)(iVar19 + uVar3) < 0x1389) {
					*(int *)lVar12 = iVar19 + uVar3;
					SetGoldCurs(uVar2, iVar20);
					uVar18 = 0;
				} else {
					uVar11 = 5000 - (ulonglong)uVar3;
					*(int *)lVar12 = 5000;
					uVar18 = uVar18 - uVar11;
					SetGoldCurs(uVar2, iVar20);
				}
			}
		}
		lVar9 = lVar9 + 0x170;
		iVar20 = iVar20 + 1;
	}
	if (0 < iVar19) {
		while (true) {
			if ((int)uVar18 < 0x1389)
				break;
			FUN_100ab2d0(5000, (char)lVar10, (char)uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
			    (char)uVar17, (char)lVar15, in_stack_ffffffb8);
			uVar18 = uVar18 - 5000;
		}
		FUN_100ab2d0((int)uVar18, (char)lVar10, (char)uVar11, (char)lVar12, (char)lVar13, (char)lVar14,
		    (char)uVar17, (char)lVar15, in_stack_ffffffb8);
	}
	return;
}

void FUN_100ab5b0(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	uint uVar2;
	undefined4 uVar3;
	undefined4 uVar4;
	int *piVar5;
	uint *puVar6;
	int *piVar7;
	longlong lVar8;
	undefined8 uVar9;
	undefined uVar10;
	longlong lVar11;
	undefined uVar12;
	longlong lVar13;
	undefined uVar14;
	longlong lVar15;
	undefined4 in_stack_ffffffc8;

	piVar7 = _DAT_100f20d0;
	piVar5 = _DAT_100f20c4;
	iVar1 = *_DAT_100f20d0;
	if (iVar1 == 0x16) {
		StartStore('\x01', param_2, param_3, 0x16, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
		*piVar7 = 0x10;
	} else {
		*(undefined4 *)PTR_DAT_100f20a4 = 3;
		puVar6 = _DAT_100f20bc;
		lVar15 = 0x2e;
		*piVar5 = iVar1;
		piVar5 = _DAT_100f20b8;
		uVar2 = *puVar6;
		*(uint *)PTR_DAT_100f2098 = uVar2;
		lVar8 = (ulonglong)uVar2 + (ulonglong)(uint)(iVar1 - *piVar5 >> 2);
		lVar11 = ZEXT48(PTR_DAT_100f20ac) + lVar8 * 0x170 + -8;
		lVar13 = ZEXT48(PTR_DAT_100f1828) + (ulonglong) * (uint *)PTR_DAT_100f1824 * 0x55ec + 0x53cc;
		do {
			lVar11 = lVar11 + 8;
			uVar12 = (undefined)lVar11;
			uVar4 = *(undefined4 *)lVar11;
			uVar10 = (undefined)uVar4;
			uVar3 = ((undefined4 *)lVar11)[1];
			lVar13 = lVar13 + 8;
			uVar14 = (undefined)lVar13;
			*(undefined4 *)lVar13 = uVar4;
			((undefined4 *)lVar13)[1] = uVar3;
			lVar15 = lVar15 + -1;
		} while (lVar15 != 0);
		uVar9 = FUN_100ab044((int)lVar8, uVar10, uVar12, uVar14, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
		if ((int)uVar9 == 0) {
			StartStore('\n', uVar10, uVar12, uVar14, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
		} else {
			StartStore('\v', uVar10, uVar12, uVar14, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
		}
	}
	return;
}

void FUN_100ab694(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	char cVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined **ppuVar6;
	int iVar7;
	undefined4 in_stack_ffffffb8;

	puVar5 = PTR_DAT_100f20ac;
	puVar4 = PTR_DAT_100f1828;
	puVar3 = PTR_DAT_100f1824;
	ppuVar6 = &toc;
	FUN_100aa87c(*(int *)(PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec + 0x549c), param_2,
	    param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	puVar2 = ppuVar6[-0x1bca];
	iVar7 = *(int *)ppuVar6[-0x1bce] + (*(int *)ppuVar6[-0x1bc3] - *(int *)ppuVar6[-0x1bc6] >> 2);
	*(undefined4 *)(puVar5 + iVar7 * 0x170 + 0xec) = *(undefined4 *)(puVar5 + iVar7 * 0x170 + 0xf0);
	cVar1 = puVar2[iVar7];
	if (cVar1 < '\0') {
		if (cVar1 == -1) {
			*(undefined4 *)(puVar4 + *(int *)puVar3 * 0x55ec + 0x584) = *(undefined4 *)(puVar4 + *(int *)puVar3 * 0x55ec + 0x588);
		}
		if (cVar1 == -2) {
			*(undefined4 *)(puVar4 + *(int *)puVar3 * 0x55ec + 0xe24) = *(undefined4 *)(puVar4 + *(int *)puVar3 * 0x55ec + 0xe28);
		}
		if (cVar1 == -3) {
			*(undefined4 *)(puVar4 + *(int *)puVar3 * 0x55ec + 0xb44) = *(undefined4 *)(puVar4 + *(int *)puVar3 * 0x55ec + 0xb48);
		}
		if (cVar1 == -4) {
			*(undefined4 *)(puVar4 + *(int *)puVar3 * 0x55ec + 0xcb4) = *(undefined4 *)(puVar4 + *(int *)puVar3 * 0x55ec + 0xcb8);
		}
	} else {
		*(undefined4 *)(puVar4 + (int)cVar1 * 0x170 + *(int *)puVar3 * 0x55ec + 0xf94) = *(undefined4 *)(puVar4 + (int)cVar1 * 0x170 + *(int *)puVar3 * 0x55ec + 0xf98);
	}
	return;
}

void FUN_100ab7bc(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	uint uVar2;
	undefined4 uVar3;
	undefined *puVar4;
	undefined *puVar5;
	int *piVar6;
	uint *puVar7;
	int *piVar8;
	longlong lVar9;
	undefined uVar10;
	longlong lVar11;
	ulonglong uVar12;
	undefined uVar13;
	ulonglong uVar14;
	undefined uVar15;
	longlong lVar16;
	longlong lVar17;
	longlong lVar18;
	undefined4 in_stack_ffffffb8;

	piVar8 = _DAT_100f20d0;
	piVar6 = _DAT_100f20c4;
	puVar5 = PTR_DAT_100f20ac;
	puVar4 = PTR_DAT_100f1828;
	uVar14 = ZEXT48(PTR_DAT_100f20ac);
	uVar12 = ZEXT48(PTR_DAT_100f1828);
	iVar1 = *_DAT_100f20d0;
	uVar13 = SUB41(PTR_DAT_100f1828, 0);
	uVar15 = SUB41(PTR_DAT_100f20ac, 0);
	if (iVar1 == 0x16) {
		StartStore('\x01', param_2, param_3, uVar13, uVar15, 0x16, param_7, param_8, in_stack_ffffffb8);
		*piVar8 = 0x12;
	} else {
		*(undefined4 *)PTR_DAT_100f20a4 = 4;
		puVar7 = _DAT_100f20bc;
		lVar18 = 0x2e;
		*piVar6 = iVar1;
		piVar6 = _DAT_100f20b8;
		uVar2 = *puVar7;
		*(uint *)PTR_DAT_100f2098 = uVar2;
		lVar16 = ((ulonglong)uVar2 + (ulonglong)(uint)(iVar1 - *piVar6 >> 2)) * 0x170;
		lVar17 = (ulonglong) * (uint *)PTR_DAT_100f1824 * 0x55ec;
		lVar9 = uVar14 + lVar16 + -8;
		lVar11 = uVar12 + lVar17 + 0x53cc;
		do {
			lVar9 = lVar9 + 8;
			uVar3 = ((undefined4 *)lVar9)[1];
			lVar11 = lVar11 + 8;
			*(undefined4 *)lVar11 = *(undefined4 *)lVar9;
			((undefined4 *)lVar11)[1] = uVar3;
			lVar18 = lVar18 + -1;
		} while (lVar18 != 0);
		uVar10 = (undefined) * (int *)(puVar4 + (int)lVar17 + 0x1c8);
		if (*(int *)(puVar4 + (int)lVar17 + 0x1c8) < *(int *)(puVar5 + (int)lVar16 + 200)) {
			StartStore('\t', uVar10, (char)lVar11, uVar13, uVar15, (char)lVar16, (char)lVar17, param_8,
			    in_stack_ffffffb8);
		} else {
			StartStore('\v', uVar10, (char)lVar11, uVar13, uVar15, (char)lVar16, (char)lVar17, param_8,
			    in_stack_ffffffb8);
		}
	}
	return;
}

void FUN_100ab8ac(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	if (*_DAT_100f20d0 - 0xcU < 9) {
		// WARNING: Could not recover jumptable at 0x100ab8dc. Too many branches
		// WARNING: Treating indirect jump as call
		(**(code **)(PTR_PTR_LAB_100f37d0 + (*_DAT_100f20d0 - 0xcU) * 4))(*(code **)(PTR_PTR_LAB_100f37d0 + (*_DAT_100f20d0 - 0xcU) * 4), param_2, param_3,
		    param_4, param_5, param_6, param_7, param_8);
		return;
	}
	return;
}

void FUN_100ab968(void)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	ulonglong uVar4;
	longlong lVar5;
	int iVar6;
	undefined4 uVar7;
	undefined uVar8;
	longlong lVar9;
	undefined uVar10;
	ulonglong uVar11;
	ulonglong in_r6;
	ulonglong in_r7;
	undefined7 uVar12;
	undefined8 in_r8;
	undefined uVar13;
	undefined7 uVar14;
	undefined8 in_r9;
	undefined uVar15;
	undefined7 uVar16;
	undefined8 in_r10;
	undefined uVar17;
	ulonglong uVar18;
	ulonglong uVar19;
	undefined4 in_stack_ffffffb8;

	puVar3 = PTR_DAT_100f1e58;
	puVar2 = PTR_DAT_100f1828;
	puVar1 = PTR_DAT_100f1824;
	uVar17 = (undefined)in_r10;
	uVar16 = (undefined7)((ulonglong)in_r10 >> 8);
	uVar15 = (undefined)in_r9;
	uVar14 = (undefined7)((ulonglong)in_r9 >> 8);
	uVar13 = (undefined)in_r8;
	uVar12 = (undefined7)((ulonglong)in_r8 >> 8);
	uVar11 = ZEXT48(PTR_DAT_100f2098);
	uVar19 = ZEXT48(PTR_DAT_100f1e58);
	uVar18 = ZEXT48(PTR_DAT_100f1828);
	uVar10 = (undefined)*_DAT_100f20b8;
	uVar4 = (ulonglong)*_DAT_100f20c4 - (ulonglong)*_DAT_100f20b8;
	lVar5 = (ulonglong) * (uint *)PTR_DAT_100f2098 + (uVar4 & 0xffffffff00000000 | (ulonglong)(uint)((int)uVar4 >> 2));
	iVar6 = (int)lVar5;
	if (iVar6 < 3) {
		uVar7 = GetRndSeed((char)*(uint *)PTR_DAT_100f2098, uVar10, (char)PTR_DAT_100f2098, (char)in_r6,
		    (char)in_r7, uVar13, uVar15, uVar17, in_stack_ffffffb8);
		lVar9 = uVar18 + (ulonglong) * (uint *)puVar1 * 0x55ec;
		uVar10 = (undefined)lVar9;
		*(undefined4 *)((int)lVar9 + 0x53d4) = uVar7;
	}
	uVar8 = FUN_100aa87c(*(int *)(puVar2 + *(int *)puVar1 * 0x55ec + 0x549c), uVar10, (char)uVar11,
	    (char)in_r6, (char)in_r7, uVar13, uVar15, uVar17, in_stack_ffffffb8);
	StoreAutoPlace(uVar8, uVar10, (char)uVar11, (char)in_r6, (char)in_r7, uVar13, uVar15, uVar17,
	    in_stack_ffffffb8);
	if (iVar6 < 3) {
		CalcPlrInv((ulonglong) * (uint *)puVar1, 1, uVar11, in_r6, in_r7, CONCAT71(uVar12, uVar13),
		    CONCAT71(uVar14, uVar15), CONCAT71(uVar16, uVar17), in_stack_ffffffb8);
	} else {
		if (iVar6 == 0x13) {
			*(undefined4 *)(puVar3 + 7000) = 0xffffffff;
		} else {
			in_r7 = uVar19 + lVar5 * 0x170;
			while (*(int *)((int)in_r7 + 0x178) != -1) {
				lVar9 = 0x2e;
				in_r6 = in_r7 - 8;
				uVar11 = in_r7 + 0x168;
				do {
					uVar11 = uVar11 + 8;
					uVar7 = ((undefined4 *)uVar11)[1];
					in_r6 = in_r6 + 8;
					*(undefined4 *)in_r6 = *(undefined4 *)uVar11;
					((undefined4 *)in_r6)[1] = uVar7;
					lVar9 = lVar9 + -1;
				} while (lVar9 != 0);
				in_r7 = in_r7 + 0x170;
				lVar5 = lVar5 + 1;
			}
			*(undefined4 *)(puVar3 + (int)lVar5 * 0x170 + 8) = 0xffffffff;
		}
		CalcPlrInv((ulonglong) * (uint *)puVar1, 1, uVar11, in_r6, in_r7, CONCAT71(uVar12, uVar13),
		    CONCAT71(uVar14, uVar15), CONCAT71(uVar16, uVar17), in_stack_ffffffb8);
	}
	return;
}

void FUN_100abaa0(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	uint uVar2;
	int iVar3;
	undefined4 uVar4;
	uint uVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	int *piVar10;
	uint *puVar11;
	int *piVar12;
	longlong lVar13;
	ulonglong uVar14;
	undefined uVar15;
	longlong lVar16;
	undefined uVar17;
	ulonglong uVar18;
	undefined uVar19;
	ulonglong uVar20;
	undefined uVar21;
	ulonglong uVar22;
	undefined uVar23;
	longlong lVar24;
	undefined uVar25;
	longlong lVar26;
	undefined uVar27;
	longlong lVar28;
	undefined4 in_stack_ffffffb8;

	piVar12 = _DAT_100f20d0;
	piVar10 = _DAT_100f20c4;
	puVar9 = PTR_DAT_100f1980;
	puVar8 = PTR_DAT_100f197c;
	puVar7 = PTR_DAT_100f1828;
	puVar6 = PTR_DAT_100f1824;
	lVar26 = (longlong)param_8;
	lVar24 = (longlong)param_7;
	uVar20 = ZEXT48(PTR_DAT_100f1e58);
	uVar18 = ZEXT48(PTR_DAT_100f1828);
	iVar1 = *_DAT_100f20d0;
	uVar15 = SUB41(PTR_DAT_100f1828, 0);
	uVar17 = SUB41(PTR_DAT_100f1e58, 0);
	if (iVar1 == 0x16) {
		StartStore('\x05', param_2, 0x16, uVar15, uVar17, param_6, param_7, param_8, in_stack_ffffffb8);
		*piVar12 = 0xe;
	} else {
		*(undefined4 *)PTR_DAT_100f20a4 = 6;
		puVar11 = _DAT_100f20bc;
		*piVar10 = iVar1;
		piVar10 = _DAT_100f20b8;
		uVar2 = *puVar11;
		*(uint *)PTR_DAT_100f2098 = uVar2;
		uVar22 = (ulonglong) * (uint *)puVar6 * 0x55ec;
		lVar16 = uVar18 + uVar22;
		iVar3 = *(int *)((int)lVar16 + 0x1c8);
		lVar13 = uVar20 + ((ulonglong)uVar2 + (ulonglong)(uint)(iVar1 - *piVar10 >> 2)) * 0x170;
		if (iVar3 < *(int *)((int)lVar13 + 200)) {
			StartStore('\t', (char)iVar3, (char)lVar16, uVar15, uVar17, (char)uVar22, param_7, param_8,
			    in_stack_ffffffb8);
		} else {
			lVar16 = lVar16 + 0x53cc;
			lVar28 = 0x2e;
			lVar13 = lVar13 + -8;
			do {
				lVar13 = lVar13 + 8;
				uVar4 = ((undefined4 *)lVar13)[1];
				lVar16 = lVar16 + 8;
				*(undefined4 *)lVar16 = *(undefined4 *)lVar13;
				((undefined4 *)lVar16)[1] = uVar4;
				lVar28 = lVar28 + -1;
			} while (lVar28 != 0);
			SetCursor_(*(int *)(puVar7 + (int)uVar22 + 0x5494) + 0xc, (char)lVar13, (char)lVar16, uVar15,
			    uVar17, (char)uVar22, param_7, param_8, in_stack_ffffffb8);
			uVar14 = 0;
			lVar28 = 0;
			while (true) {
				uVar23 = (undefined)uVar22;
				uVar21 = (undefined)uVar20;
				uVar19 = (undefined)uVar18;
				uVar17 = (undefined)lVar16;
				uVar15 = (undefined)lVar13;
				uVar25 = (undefined)lVar24;
				uVar27 = (undefined)lVar26;
				if ((0x27 < (int)lVar28) || ((int)uVar14 != 0))
					break;
				iVar1 = *(int *)puVar9;
				uVar20 = 0;
				uVar2 = iVar1 / 0x1c + (iVar1 >> 0x1f);
				uVar22 = (longlong)(int)((ulonglong)((longlong)iVar1 * -0x6db6db6d) >> 0x20) & 0xffffffff00000000U | (ulonglong)uVar2;
				uVar5 = *(int *)puVar8 / 0x1c + (*(int *)puVar8 >> 0x1f);
				lVar16 = uVar22 + (ulonglong)(uVar2 >> 0x1f);
				uVar18 = (ulonglong)uVar5 + (ulonglong)(uVar5 >> 0x1f);
				lVar13 = lVar28;
				uVar14 = FUN_10046494(*(int *)puVar6, (int)lVar28, lVar16, (int)uVar18, 0, (char)uVar2, uVar25,
				    uVar27, in_stack_ffffffb8);
				lVar28 = lVar28 + 1;
			}
			if ((int)uVar14 == 0) {
				StartStore('\n', uVar15, uVar17, uVar19, uVar21, uVar23, uVar25, uVar27, in_stack_ffffffb8);
			} else {
				StartStore('\v', uVar15, uVar17, uVar19, uVar21, uVar23, uVar25, uVar27, in_stack_ffffffb8);
			}
			SetCursor_(1, uVar15, uVar17, uVar19, uVar21, uVar23, uVar25, uVar27, in_stack_ffffffb8);
		}
	}
	return;
}

void FUN_100abc24(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	uint uVar2;
	undefined4 uVar3;
	undefined4 uVar4;
	int *piVar5;
	uint *puVar6;
	int *piVar7;
	longlong lVar8;
	undefined8 uVar9;
	undefined uVar10;
	longlong lVar11;
	undefined uVar12;
	longlong lVar13;
	undefined uVar14;
	longlong lVar15;
	undefined4 in_stack_ffffffc8;

	piVar7 = _DAT_100f20d0;
	piVar5 = _DAT_100f20c4;
	iVar1 = *_DAT_100f20d0;
	if (iVar1 == 0x16) {
		StartStore('\x05', param_2, param_3, 0x16, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
		*piVar7 = 0x10;
	} else {
		*(undefined4 *)PTR_DAT_100f20a4 = 7;
		puVar6 = _DAT_100f20bc;
		lVar15 = 0x2e;
		*piVar5 = iVar1;
		piVar5 = _DAT_100f20b8;
		uVar2 = *puVar6;
		*(uint *)PTR_DAT_100f2098 = uVar2;
		lVar8 = (ulonglong)uVar2 + (ulonglong)(uint)(iVar1 - *piVar5 >> 2);
		lVar11 = ZEXT48(PTR_DAT_100f20ac) + lVar8 * 0x170 + -8;
		lVar13 = ZEXT48(PTR_DAT_100f1828) + (ulonglong) * (uint *)PTR_DAT_100f1824 * 0x55ec + 0x53cc;
		do {
			lVar11 = lVar11 + 8;
			uVar12 = (undefined)lVar11;
			uVar4 = *(undefined4 *)lVar11;
			uVar10 = (undefined)uVar4;
			uVar3 = ((undefined4 *)lVar11)[1];
			lVar13 = lVar13 + 8;
			uVar14 = (undefined)lVar13;
			*(undefined4 *)lVar13 = uVar4;
			((undefined4 *)lVar13)[1] = uVar3;
			lVar15 = lVar15 + -1;
		} while (lVar15 != 0);
		uVar9 = FUN_100ab044((int)lVar8, uVar10, uVar12, uVar14, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
		if ((int)uVar9 == 0) {
			StartStore('\n', uVar10, uVar12, uVar14, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
		} else {
			StartStore('\v', uVar10, uVar12, uVar14, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
		}
	}
	return;
}

void FUN_100abd08(undefined8 uParm1, undefined param_2, undefined param_3, undefined8 uParm4,
    undefined8 uParm5, undefined8 uParm6, undefined8 uParm7, undefined8 uParm8)

{
	undefined *puVar1;
	undefined *puVar2;
	int iVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined **ppuVar6;
	ulonglong uVar7;
	undefined7 uVar8;
	undefined uVar9;
	undefined7 uVar10;
	undefined uVar11;
	undefined7 uVar12;
	undefined uVar13;
	undefined7 uVar14;
	undefined uVar15;
	undefined7 uVar16;
	undefined uVar17;
	undefined4 in_stack_ffffffb8;

	puVar5 = PTR_DAT_100f20ac;
	puVar2 = PTR_DAT_100f1828;
	puVar4 = PTR_DAT_100f1824;
	uVar17 = (undefined)uParm8;
	uVar16 = (undefined7)((ulonglong)uParm8 >> 8);
	uVar15 = (undefined)uParm7;
	uVar14 = (undefined7)((ulonglong)uParm7 >> 8);
	uVar13 = (undefined)uParm6;
	uVar12 = (undefined7)((ulonglong)uParm6 >> 8);
	uVar11 = (undefined)uParm5;
	uVar10 = (undefined7)((ulonglong)uParm5 >> 8);
	uVar9 = (undefined)uParm4;
	uVar8 = (undefined7)((ulonglong)uParm4 >> 8);
	ppuVar6 = &toc;
	FUN_100aa87c(*(int *)(PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec + 0x549c), param_2,
	    param_3, uVar9, uVar11, uVar13, uVar15, uVar17, in_stack_ffffffb8);
	puVar1 = ppuVar6[-0x1bca];
	uVar7 = (ulonglong) * (uint *)ppuVar6[-0x1bce] + ((ulonglong) * (uint *)ppuVar6[-0x1bc3] - (ulonglong) * (uint *)ppuVar6[-0x1bc6] & 0xffffffff00000000 | (ulonglong)(uint)((int)((ulonglong) * (uint *)ppuVar6[-0x1bc3] - (ulonglong) * (uint *)ppuVar6[-0x1bc6]) >> 2));
	iVar3 = (int)uVar7;
	*(undefined4 *)(puVar5 + iVar3 * 0x170 + 0xe4) = *(undefined4 *)(puVar5 + iVar3 * 0x170 + 0xe8);
	if ((char)puVar1[iVar3] < '\0') {
		puVar2 = puVar2 + *(int *)puVar4 * 0x55ec;
		*(undefined4 *)(puVar2 + 0xb3c) = *(undefined4 *)(puVar2 + 0xb40);
	} else {
		puVar2 = puVar2 + (int)(char)puVar1[iVar3] * 0x170 + *(int *)puVar4 * 0x55ec;
		*(undefined4 *)(puVar2 + 0xf8c) = *(undefined4 *)(puVar2 + 0xf90);
	}
	CalcPlrInv((ulonglong) * (uint *)puVar4, 1, uVar7, CONCAT71(uVar8, uVar9), CONCAT71(uVar10, uVar11),
	    CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15), CONCAT71(uVar16, uVar17),
	    in_stack_ffffffb8);
	return;
}

void FUN_100abde0(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	uint uVar2;
	undefined4 uVar3;
	undefined *puVar4;
	undefined *puVar5;
	int *piVar6;
	uint *puVar7;
	int *piVar8;
	longlong lVar9;
	undefined uVar10;
	longlong lVar11;
	ulonglong uVar12;
	undefined uVar13;
	ulonglong uVar14;
	undefined uVar15;
	longlong lVar16;
	longlong lVar17;
	longlong lVar18;
	undefined4 in_stack_ffffffb8;

	piVar8 = _DAT_100f20d0;
	piVar6 = _DAT_100f20c4;
	puVar5 = PTR_DAT_100f20ac;
	puVar4 = PTR_DAT_100f1828;
	uVar14 = ZEXT48(PTR_DAT_100f20ac);
	uVar12 = ZEXT48(PTR_DAT_100f1828);
	iVar1 = *_DAT_100f20d0;
	uVar13 = SUB41(PTR_DAT_100f1828, 0);
	uVar15 = SUB41(PTR_DAT_100f20ac, 0);
	if (iVar1 == 0x16) {
		StartStore('\x05', param_2, param_3, uVar13, uVar15, 0x16, param_7, param_8, in_stack_ffffffb8);
		*piVar8 = 0x12;
	} else {
		*(undefined4 *)PTR_DAT_100f20a4 = 8;
		puVar7 = _DAT_100f20bc;
		lVar18 = 0x2e;
		*piVar6 = iVar1;
		piVar6 = _DAT_100f20b8;
		uVar2 = *puVar7;
		*(uint *)PTR_DAT_100f2098 = uVar2;
		lVar16 = ((ulonglong)uVar2 + (ulonglong)(uint)(iVar1 - *piVar6 >> 2)) * 0x170;
		lVar17 = (ulonglong) * (uint *)PTR_DAT_100f1824 * 0x55ec;
		lVar9 = uVar14 + lVar16 + -8;
		lVar11 = uVar12 + lVar17 + 0x53cc;
		do {
			lVar9 = lVar9 + 8;
			uVar3 = ((undefined4 *)lVar9)[1];
			lVar11 = lVar11 + 8;
			*(undefined4 *)lVar11 = *(undefined4 *)lVar9;
			((undefined4 *)lVar11)[1] = uVar3;
			lVar18 = lVar18 + -1;
		} while (lVar18 != 0);
		uVar10 = (undefined) * (int *)(puVar4 + (int)lVar17 + 0x1c8);
		if (*(int *)(puVar4 + (int)lVar17 + 0x1c8) < *(int *)(puVar5 + (int)lVar16 + 200)) {
			StartStore('\t', uVar10, (char)lVar11, uVar13, uVar15, (char)lVar16, (char)lVar17, param_8,
			    in_stack_ffffffb8);
		} else {
			StartStore('\v', uVar10, (char)lVar11, uVar13, uVar15, (char)lVar16, (char)lVar17, param_8,
			    in_stack_ffffffb8);
		}
	}
	return;
}

void FUN_100abed0(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined4 *puVar6;
	int *piVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined4 in_stack_ffffffc8;

	piVar7 = _DAT_100f20c4;
	puVar6 = _DAT_100f20bc;
	puVar5 = PTR_DAT_100f20a4;
	puVar4 = PTR_DAT_100f2094;
	uVar11 = SUB41(PTR_DAT_100f20a4, 0);
	uVar10 = SUB41(_DAT_100f20c4, 0);
	iVar1 = *(int *)(PTR_DAT_100f1e14 + 8);
	if ((iVar1 != -1) && (uVar9 = (undefined)*_DAT_100f20d0, *_DAT_100f20d0 == 0x12)) {
		uVar8 = SUB41(PTR_DAT_100f1828, 0);
		if (*(int *)(PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec + 0x1c8) < 0x32) {
			*(undefined4 *)PTR_DAT_100f20a4 = 0xc;
			puVar4 = PTR_DAT_100f2098;
			*piVar7 = 0x12;
			*(undefined4 *)puVar4 = *puVar6;
			StartStore('\t', (char)puVar4, (char)puVar6, uVar9, uVar10, uVar11, param_7, param_8,
			    in_stack_ffffffc8);
			return;
		}
		FUN_100aa87c(0x32, uVar8, param_3, uVar9, uVar10, uVar11, param_7, param_8, in_stack_ffffffc8);
		StartStore('\r', uVar8, param_3, uVar9, uVar10, uVar11, param_7, param_8, in_stack_ffffffc8);
		return;
	}
	iVar2 = *_DAT_100f20d0;
	if (((iVar2 == 8) && (iVar1 != -1)) || ((iVar2 == 0xc && (iVar1 == -1)))) {
		*(undefined4 *)PTR_DAT_100f209c = 8;
		puVar3 = PTR_DAT_100f2090;
		*(undefined4 *)puVar5 = 0xc;
		*piVar7 = iVar2;
		*(undefined4 *)puVar4 = 0xe1;
		*(undefined4 *)puVar3 = 0xea;
		StartStore('\x13', (char)puVar3, (char)puVar4, 0xe1, uVar10, uVar11, (char)iVar2, param_8,
		    in_stack_ffffffc8);
	} else {
		*PTR_DAT_100f186c = 0;
	}
	return;
}

void FUN_100abfdc(undefined8 uParm1, undefined param_2, undefined param_3, undefined8 uParm4,
    undefined8 uParm5, undefined8 uParm6, undefined8 uParm7, undefined8 uParm8)

{
	undefined4 *puVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined uVar4;
	undefined7 uVar5;
	undefined uVar6;
	undefined7 uVar7;
	undefined uVar8;
	undefined7 uVar9;
	undefined uVar10;
	undefined7 uVar11;
	undefined uVar12;
	undefined7 uVar13;
	undefined uVar14;
	undefined4 in_stack_ffffffc8;

	puVar2 = PTR_DAT_100f1824;
	uVar14 = (undefined)uParm8;
	uVar13 = (undefined7)((ulonglong)uParm8 >> 8);
	uVar12 = (undefined)uParm7;
	uVar11 = (undefined7)((ulonglong)uParm7 >> 8);
	uVar10 = (undefined)uParm6;
	uVar9 = (undefined7)((ulonglong)uParm6 >> 8);
	uVar8 = (undefined)uParm5;
	uVar7 = (undefined7)((ulonglong)uParm5 >> 8);
	uVar6 = (undefined)uParm4;
	uVar5 = (undefined7)((ulonglong)uParm4 >> 8);
	ppuVar3 = &toc;
	uVar4 = FUN_100aa87c(*(int *)(PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec + 0x549c),
	    param_2, param_3, uVar6, uVar8, uVar10, uVar12, uVar14, in_stack_ffffffc8);
	StoreAutoPlace(uVar4, param_2, param_3, uVar6, uVar8, uVar10, uVar12, uVar14, in_stack_ffffffc8);
	puVar1 = (undefined4 *)ppuVar3[-0x1bcb];
	*(undefined4 *)(ppuVar3[-0x1c6f] + 8) = 0xffffffff;
	*puVar1 = 0xc;
	CalcPlrInv((ulonglong) * (uint *)puVar2, 1, 0xffffffffffffffff, CONCAT71(uVar5, uVar6),
	    CONCAT71(uVar7, uVar8), CONCAT71(uVar9, uVar10), CONCAT71(uVar11, uVar12),
	    CONCAT71(uVar13, uVar14), in_stack_ffffffc8);
	return;
}

void FUN_100ac044(void)

{
	uint uVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	uint uVar6;
	undefined *puVar7;
	uint *puVar8;
	uint *puVar9;
	undefined uVar11;
	undefined4 uVar10;
	longlong lVar12;
	undefined uVar13;
	ulonglong uVar14;
	ulonglong in_r6;
	ulonglong in_r7;
	undefined param_6;
	undefined7 uVar15;
	undefined8 in_r9;
	undefined uVar16;
	undefined7 uVar17;
	undefined8 in_r10;
	undefined uVar18;
	int iVar19;
	ulonglong uVar20;
	ulonglong uVar21;
	undefined4 in_stack_ffffffa8;

	puVar9 = _DAT_100f20c4;
	puVar8 = _DAT_100f20b8;
	puVar7 = PTR_DAT_100f2098;
	uVar6 = _DAT_100f1e10;
	puVar5 = PTR_DAT_100f1828;
	puVar4 = PTR_DAT_100f1824;
	puVar3 = PTR_DAT_100f17e0;
	uVar18 = (undefined)in_r10;
	uVar17 = (undefined7)((ulonglong)in_r10 >> 8);
	uVar16 = (undefined)in_r9;
	uVar15 = (undefined7)((ulonglong)in_r9 >> 8);
	uVar20 = (ulonglong)_DAT_100f1e10;
	uVar21 = ZEXT48(PTR_DAT_100f1828);
	uVar13 = (undefined)*_DAT_100f20b8;
	uVar1 = *(uint *)PTR_DAT_100f2098;
	uVar14 = (ulonglong)uVar1;
	iVar19 = uVar1 + ((int)(*_DAT_100f20c4 - *_DAT_100f20b8) >> 2);
	uVar11 = (undefined)*_DAT_100f20c4;
	if (*PTR_DAT_100f17e0 == '\x01') {
		if (iVar19 < 2) {
			uVar10 = GetRndSeed(uVar11, uVar13, (char)uVar1, (char)in_r6, (char)in_r7, param_6, uVar16, uVar18,
			    in_stack_ffffffa8);
			lVar12 = uVar21 + (ulonglong) * (uint *)puVar4 * 0x55ec;
			uVar13 = (undefined)lVar12;
			*(undefined4 *)((int)lVar12 + 0x53d4) = uVar10;
		}
	} else {
		if (iVar19 < 3) {
			uVar10 = GetRndSeed(uVar11, uVar13, (char)uVar1, (char)in_r6, (char)in_r7, param_6, uVar16, uVar18,
			    in_stack_ffffffa8);
			lVar12 = uVar21 + (ulonglong) * (uint *)puVar4 * 0x55ec;
			uVar13 = (undefined)lVar12;
			*(undefined4 *)((int)lVar12 + 0x53d4) = uVar10;
		}
	}
	FUN_100aa87c(*(int *)(puVar5 + *(int *)puVar4 * 0x55ec + 0x549c), uVar13, (char)uVar14, (char)in_r6,
	    (char)in_r7, param_6, uVar16, uVar18, in_stack_ffffffa8);
	lVar12 = uVar21 + (ulonglong) * (uint *)puVar4 * 0x55ec;
	iVar2 = (int)lVar12;
	if (*(char *)(iVar2 + 0x5410) == '\0') {
		*(undefined4 *)(iVar2 + 0x540c) = 0;
	}
	StoreAutoPlace((char)lVar12, uVar13, (char)uVar14, (char)in_r6, (char)in_r7, param_6, uVar16, uVar18,
	    in_stack_ffffffa8);
	if (*puVar3 == '\x01') {
		if (iVar19 < 2) {
			return;
		}
	} else {
		if (iVar19 < 3) {
			return;
		}
	}
	uVar21 = (ulonglong) * (uint *)puVar7 + ((ulonglong)*puVar9 - (ulonglong)*puVar8 & 0xffffffff00000000 | (ulonglong)(uint)((int)((ulonglong)*puVar9 - (ulonglong)*puVar8) >> 2));
	if ((int)uVar21 == 0x13) {
		*(undefined4 *)(uVar6 + 7000) = 0xffffffff;
	} else {
		in_r7 = uVar20 + uVar21 * 0x170;
		while (*(int *)((int)in_r7 + 0x178) != -1) {
			lVar12 = 0x2e;
			in_r6 = in_r7 - 8;
			uVar14 = in_r7 + 0x168;
			do {
				uVar14 = uVar14 + 8;
				uVar10 = ((undefined4 *)uVar14)[1];
				in_r6 = in_r6 + 8;
				*(undefined4 *)in_r6 = *(undefined4 *)uVar14;
				((undefined4 *)in_r6)[1] = uVar10;
				lVar12 = lVar12 + -1;
			} while (lVar12 != 0);
			in_r7 = in_r7 + 0x170;
			uVar21 = uVar21 + 1;
		}
		*(undefined4 *)(uVar6 + (int)uVar21 * 0x170 + 8) = 0xffffffff;
	}
	CalcPlrInv((ulonglong) * (uint *)puVar4, 1, uVar14, in_r6, in_r7, uVar21, CONCAT71(uVar15, uVar16),
	    CONCAT71(uVar17, uVar18), in_stack_ffffffa8);
	return;
}

void FUN_100ac1d0(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	undefined4 uVar2;
	uint uVar3;
	uint uVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined4 *puVar10;
	undefined4 *puVar11;
	ulonglong uVar12;
	longlong lVar13;
	longlong lVar14;
	ulonglong uVar15;
	ulonglong uVar16;
	undefined uVar17;
	undefined uVar18;
	ulonglong uVar19;
	undefined uVar20;
	undefined uVar21;
	ulonglong uVar22;
	undefined uVar23;
	longlong lVar24;
	undefined uVar25;
	longlong lVar26;
	undefined uVar27;
	ulonglong uVar28;
	longlong lVar29;
	undefined4 in_stack_ffffffb8;

	puVar11 = _DAT_100f20c4;
	puVar9 = PTR_DAT_100f1e14;
	puVar8 = PTR_DAT_100f1980;
	puVar7 = PTR_DAT_100f197c;
	puVar6 = PTR_DAT_100f1828;
	puVar5 = PTR_DAT_100f1824;
	lVar26 = (longlong)param_8;
	lVar24 = (longlong)param_7;
	uVar19 = ZEXT48(PTR_DAT_100f1828);
	uVar16 = ZEXT48(PTR_DAT_100f1e14);
	if (*_DAT_100f20d0 == 10) {
		*(undefined4 *)PTR_DAT_100f20a4 = 0xd;
		puVar10 = _DAT_100f20bc;
		*puVar11 = 10;
		*(undefined4 *)PTR_DAT_100f2098 = *puVar10;
		iVar1 = *(int *)(puVar9 + 200);
		uVar22 = (ulonglong) * (uint *)puVar5 * 0x55ec;
		lVar13 = uVar19 + uVar22;
		uVar17 = SUB41(puVar9, 0);
		uVar20 = SUB41(puVar6, 0);
		if (*(int *)((int)lVar13 + 0x1c8) < iVar1 + (iVar1 >> 1)) {
			StartStore('\t', (char)lVar13, (char)iVar1, uVar17, uVar20, (char)uVar22, param_7, param_8,
			    in_stack_ffffffb8);
		} else {
			lVar13 = lVar13 + 0x53cc;
			lVar29 = 0x2e;
			lVar14 = uVar16 - 8;
			do {
				lVar14 = lVar14 + 8;
				uVar2 = ((undefined4 *)lVar14)[1];
				lVar13 = lVar13 + 8;
				*(undefined4 *)lVar13 = *(undefined4 *)lVar14;
				((undefined4 *)lVar13)[1] = uVar2;
				lVar29 = lVar29 + -1;
			} while (lVar29 != 0);
			lVar13 = uVar19 + uVar22;
			uVar3 = *(uint *)((int)lVar13 + 0x549c);
			uVar15 = (ulonglong)uVar3;
			*(int *)((int)lVar13 + 0x549c) = uVar3 + ((int)uVar3 >> 1);
			SetCursor_(*(int *)(puVar6 + (int)uVar22 + 0x5494) + 0xc, (char)uVar3, (char)lVar13, uVar17,
			    uVar20, (char)uVar22, param_7, param_8, in_stack_ffffffb8);
			uVar12 = 0;
			uVar28 = 0;
			while (true) {
				uVar23 = (undefined)uVar22;
				uVar21 = (undefined)uVar19;
				uVar18 = (undefined)uVar16;
				uVar20 = (undefined)lVar13;
				uVar17 = (undefined)uVar15;
				uVar25 = (undefined)lVar24;
				uVar27 = (undefined)lVar26;
				if ((0x27 < (int)uVar28) || ((int)uVar12 != 0))
					break;
				iVar1 = *(int *)puVar8;
				uVar19 = 0;
				uVar3 = iVar1 / 0x1c + (iVar1 >> 0x1f);
				uVar22 = (longlong)(int)((ulonglong)((longlong)iVar1 * -0x6db6db6d) >> 0x20) & 0xffffffff00000000U | (ulonglong)uVar3;
				uVar4 = *(int *)puVar7 / 0x1c + (*(int *)puVar7 >> 0x1f);
				lVar13 = uVar22 + (ulonglong)(uVar3 >> 0x1f);
				uVar16 = (ulonglong)uVar4 + (ulonglong)(uVar4 >> 0x1f);
				uVar15 = uVar28;
				uVar12 = AutoPlace(*(int *)puVar5, (int)uVar28, lVar13, (int)uVar16, 0, (char)uVar3, uVar25,
				    uVar27, in_stack_ffffffb8);
				uVar28 = uVar28 + 1;
			}
			if ((int)uVar12 == 0) {
				StartStore('\n', uVar17, uVar20, uVar18, uVar21, uVar23, uVar25, uVar27, in_stack_ffffffb8);
			} else {
				StartStore('\v', uVar17, uVar20, uVar18, uVar21, uVar23, uVar25, uVar27, in_stack_ffffffb8);
			}
			SetCursor_(1, uVar17, uVar20, uVar18, uVar21, uVar23, uVar25, uVar27, in_stack_ffffffb8);
		}
	} else {
		*PTR_DAT_100f186c = 0;
	}
	return;
}

void FUN_100ac350(void)

{
	char cVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	ulonglong uVar5;
	undefined7 uVar6;
	undefined8 in_r6;
	undefined uVar7;
	undefined7 uVar8;
	undefined8 in_r7;
	undefined uVar9;
	undefined7 uVar10;
	undefined8 in_r8;
	undefined uVar11;
	undefined7 uVar12;
	undefined8 in_r9;
	undefined uVar13;
	undefined7 uVar14;
	undefined8 in_r10;
	undefined uVar15;
	undefined4 in_stack_ffffffb8;

	puVar4 = PTR_DAT_100f1828;
	puVar3 = PTR_DAT_100f1824;
	uVar15 = (undefined)in_r10;
	uVar14 = (undefined7)((ulonglong)in_r10 >> 8);
	uVar13 = (undefined)in_r9;
	uVar12 = (undefined7)((ulonglong)in_r9 >> 8);
	uVar11 = (undefined)in_r8;
	uVar10 = (undefined7)((ulonglong)in_r8 >> 8);
	uVar9 = (undefined)in_r7;
	uVar8 = (undefined7)((ulonglong)in_r7 >> 8);
	uVar7 = (undefined)in_r6;
	uVar6 = (undefined7)((ulonglong)in_r6 >> 8);
	cVar1 = PTR_DAT_100f20a8[*(int *)PTR_DAT_100f2098 + (*_DAT_100f20c4 - *_DAT_100f20b8 >> 2)];
	uVar5 = SEXT18(cVar1);
	if ((longlong)uVar5 < 0) {
		if (cVar1 == -1) {
			*(undefined4 *)(PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec + 0x4d0) = 1;
		}
		if (cVar1 == -2) {
			*(undefined4 *)(puVar4 + *(int *)puVar3 * 0x55ec + 0xd70) = 1;
		}
		if (cVar1 == -3) {
			*(undefined4 *)(puVar4 + *(int *)puVar3 * 0x55ec + 0xa90) = 1;
		}
		if (cVar1 == -4) {
			*(undefined4 *)(puVar4 + *(int *)puVar3 * 0x55ec + 0xc00) = 1;
		}
		if (cVar1 == -5) {
			*(undefined4 *)(puVar4 + *(int *)puVar3 * 0x55ec + 0x640) = 1;
		}
		if (cVar1 == -6) {
			*(undefined4 *)(puVar4 + *(int *)puVar3 * 0x55ec + 0x7b0) = 1;
		}
		if (cVar1 == -7) {
			*(undefined4 *)(puVar4 + *(int *)puVar3 * 0x55ec + 0x920) = 1;
		}
	} else {
		*(undefined4 *)(PTR_DAT_100f1828 + (int)cVar1 * 0x170 + *(int *)PTR_DAT_100f1824 * 0x55ec + 0xee0) = 1;
	}
	iVar2 = *(int *)puVar3;
	*(undefined4 *)(puVar4 + iVar2 * 0x55ec + 0x540c) = 1;
	FUN_100aa87c(*(int *)(puVar4 + iVar2 * 0x55ec + 0x549c), 1, cVar1, uVar7, uVar9, uVar11, uVar13, uVar15,
	    in_stack_ffffffb8);
	CalcPlrInv((ulonglong) * (uint *)puVar3, 1, uVar5, CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9),
	    CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13), CONCAT71(uVar14, uVar15),
	    in_stack_ffffffb8);
	return;
}

void FUN_100ac4bc(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined4 *puVar2;
	int *piVar3;
	undefined **ppuVar4;
	undefined4 in_stack_ffffffc8;

	piVar3 = _DAT_100f20d0;
	ppuVar4 = &toc;
	if (*_DAT_100f20d0 == 0x12) {
		if (*(uint *)PTR_DAT_100f20a4 < 0x13) {
			// WARNING: Could not recover jumptable at 0x100ac500. Too many branches
			// WARNING: Treating indirect jump as call
			(**(code **)(PTR_PTR_LAB_100f37cc + *(uint *)PTR_DAT_100f20a4 * 4))();
			return;
		}
		StartStore((char)*(undefined4 *)PTR_DAT_100f20a4, param_2, param_3, param_4, param_5, param_6,
		    param_7, param_8, in_stack_ffffffc8);
	} else {
		StartStore((char)*(undefined4 *)PTR_DAT_100f20a4, param_2, param_3, param_4, param_5, param_6,
		    param_7, param_8, in_stack_ffffffc8);
		puVar1 = (undefined4 *)ppuVar4[-0x1bce];
		puVar2 = (undefined4 *)ppuVar4[-0x1bc5];
		*piVar3 = *(int *)ppuVar4[-0x1bc3];
		*puVar2 = *puVar1;
	}
	return;
}

void FUN_100ac5a4(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	if (*_DAT_100f20d0 - 0xcU < 7) {
		// WARNING: Could not recover jumptable at 0x100ac5ec. Too many branches
		// WARNING: Treating indirect jump as call
		(**(code **)(PTR_PTR_LAB_100f37c8 + (*_DAT_100f20d0 - 0xcU) * 4))(*(code **)(PTR_PTR_LAB_100f37c8 + (*_DAT_100f20d0 - 0xcU) * 4), param_2, param_3,
		    param_4, param_5, param_6, param_7, param_8);
		return;
	}
	return;
}

void FUN_100ac6c4(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	uint uVar2;
	int iVar3;
	undefined4 uVar4;
	uint uVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	int *piVar10;
	uint *puVar11;
	int *piVar12;
	longlong lVar13;
	ulonglong uVar14;
	undefined uVar15;
	longlong lVar16;
	undefined uVar17;
	ulonglong uVar18;
	undefined uVar19;
	ulonglong uVar20;
	undefined uVar21;
	ulonglong uVar22;
	undefined uVar23;
	longlong lVar24;
	undefined uVar25;
	longlong lVar26;
	undefined uVar27;
	longlong lVar28;
	undefined4 in_stack_ffffffb8;

	piVar12 = _DAT_100f20d0;
	piVar10 = _DAT_100f20c4;
	puVar9 = PTR_DAT_100f1980;
	puVar8 = PTR_DAT_100f197c;
	puVar7 = PTR_DAT_100f1828;
	puVar6 = PTR_DAT_100f1824;
	lVar26 = (longlong)param_8;
	lVar24 = (longlong)param_7;
	uVar20 = (ulonglong)_DAT_100f1e10;
	uVar18 = ZEXT48(PTR_DAT_100f1828);
	iVar1 = *_DAT_100f20d0;
	uVar15 = SUB41(PTR_DAT_100f1828, 0);
	uVar17 = (undefined)_DAT_100f1e10;
	if (iVar1 == 0x16) {
		StartStore('\x0e', param_2, 0x16, uVar15, uVar17, param_6, param_7, param_8, in_stack_ffffffb8);
		*piVar12 = 0x10;
	} else {
		*(undefined4 *)PTR_DAT_100f20a4 = 0x10;
		puVar11 = _DAT_100f20bc;
		*piVar10 = iVar1;
		piVar10 = _DAT_100f20b8;
		uVar2 = *puVar11;
		*(uint *)PTR_DAT_100f2098 = uVar2;
		uVar22 = (ulonglong) * (uint *)puVar6 * 0x55ec;
		lVar16 = uVar18 + uVar22;
		iVar3 = *(int *)((int)lVar16 + 0x1c8);
		lVar13 = uVar20 + ((ulonglong)uVar2 + (ulonglong)(uint)(iVar1 - *piVar10 >> 2)) * 0x170;
		if (iVar3 < *(int *)((int)lVar13 + 200)) {
			StartStore('\t', (char)iVar3, (char)lVar16, uVar15, uVar17, (char)uVar22, param_7, param_8,
			    in_stack_ffffffb8);
		} else {
			lVar16 = lVar16 + 0x53cc;
			lVar28 = 0x2e;
			lVar13 = lVar13 + -8;
			do {
				lVar13 = lVar13 + 8;
				uVar4 = ((undefined4 *)lVar13)[1];
				lVar16 = lVar16 + 8;
				*(undefined4 *)lVar16 = *(undefined4 *)lVar13;
				((undefined4 *)lVar16)[1] = uVar4;
				lVar28 = lVar28 + -1;
			} while (lVar28 != 0);
			SetCursor_(*(int *)(puVar7 + (int)uVar22 + 0x5494) + 0xc, (char)lVar13, (char)lVar16, uVar15,
			    uVar17, (char)uVar22, param_7, param_8, in_stack_ffffffb8);
			uVar14 = 0;
			lVar28 = 0;
			while (true) {
				uVar23 = (undefined)uVar22;
				uVar21 = (undefined)uVar20;
				uVar19 = (undefined)uVar18;
				uVar17 = (undefined)lVar16;
				uVar15 = (undefined)lVar13;
				uVar25 = (undefined)lVar24;
				uVar27 = (undefined)lVar26;
				if ((0x27 < (int)lVar28) || ((int)uVar14 != 0))
					break;
				iVar1 = *(int *)puVar9;
				uVar20 = 0;
				uVar2 = iVar1 / 0x1c + (iVar1 >> 0x1f);
				uVar22 = (longlong)(int)((ulonglong)((longlong)iVar1 * -0x6db6db6d) >> 0x20) & 0xffffffff00000000U | (ulonglong)uVar2;
				uVar5 = *(int *)puVar8 / 0x1c + (*(int *)puVar8 >> 0x1f);
				lVar16 = uVar22 + (ulonglong)(uVar2 >> 0x1f);
				uVar18 = (ulonglong)uVar5 + (ulonglong)(uVar5 >> 0x1f);
				lVar13 = lVar28;
				uVar14 = FUN_10046494(*(int *)puVar6, (int)lVar28, lVar16, (int)uVar18, 0, (char)uVar2, uVar25,
				    uVar27, in_stack_ffffffb8);
				lVar28 = lVar28 + 1;
			}
			if ((int)uVar14 == 0) {
				StartStore('\n', uVar15, uVar17, uVar19, uVar21, uVar23, uVar25, uVar27, in_stack_ffffffb8);
			} else {
				StartStore('\v', uVar15, uVar17, uVar19, uVar21, uVar23, uVar25, uVar27, in_stack_ffffffb8);
			}
			SetCursor_(1, uVar15, uVar17, uVar19, uVar21, uVar23, uVar25, uVar27, in_stack_ffffffb8);
		}
	}
	return;
}

void FUN_100ac848(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined4 *puVar4;
	undefined4 in_stack_ffffffc8;

	puVar2 = PTR_DAT_100f20a4;
	iVar1 = *_DAT_100f20d0;
	if (iVar1 == 0xe) {
		StartStore('\x11', param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	} else {
		if (iVar1 < 0xe) {
			if (iVar1 == 0xc) {
				*(undefined4 *)PTR_DAT_100f209c = 4;
				puVar4 = _DAT_100f20c4;
				*(undefined4 *)puVar2 = 0xf;
				puVar3 = PTR_DAT_100f2094;
				*puVar4 = 0xc;
				puVar2 = PTR_DAT_100f2090;
				*(undefined4 *)puVar3 = 0x97;
				*(undefined4 *)puVar2 = 0x9f;
				StartStore('\x13', (char)puVar2, (char)puVar3, 0x97, param_5, param_6, param_7, param_8,
				    in_stack_ffffffc8);
			}
		} else {
			if (iVar1 == 0x12) {
				*PTR_DAT_100f186c = 0;
			}
		}
	}
	return;
}

void FUN_100ac8f0(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	uint uVar2;
	undefined4 uVar3;
	undefined *puVar4;
	undefined *puVar5;
	int *piVar6;
	uint *puVar7;
	int *piVar8;
	longlong lVar9;
	undefined uVar10;
	longlong lVar11;
	ulonglong uVar12;
	undefined uVar13;
	ulonglong uVar14;
	undefined uVar15;
	longlong lVar16;
	longlong lVar17;
	longlong lVar18;
	undefined4 in_stack_ffffffb8;

	piVar8 = _DAT_100f20d0;
	piVar6 = _DAT_100f20c4;
	puVar5 = PTR_DAT_100f20ac;
	puVar4 = PTR_DAT_100f1828;
	uVar14 = ZEXT48(PTR_DAT_100f20ac);
	uVar12 = ZEXT48(PTR_DAT_100f1828);
	iVar1 = *_DAT_100f20d0;
	uVar13 = SUB41(PTR_DAT_100f1828, 0);
	uVar15 = SUB41(PTR_DAT_100f20ac, 0);
	if (iVar1 == 0x16) {
		StartStore('\x0f', param_2, param_3, uVar13, uVar15, 0x16, param_7, param_8, in_stack_ffffffb8);
		*piVar8 = 0xe;
	} else {
		*(undefined4 *)PTR_DAT_100f20a4 = 0x11;
		puVar7 = _DAT_100f20bc;
		lVar18 = 0x2e;
		*piVar6 = iVar1;
		piVar6 = _DAT_100f20b8;
		uVar2 = *puVar7;
		*(uint *)PTR_DAT_100f2098 = uVar2;
		lVar16 = ((ulonglong)uVar2 + (ulonglong)(uint)(iVar1 - *piVar6 >> 2)) * 0x170;
		lVar17 = (ulonglong) * (uint *)PTR_DAT_100f1824 * 0x55ec;
		lVar9 = uVar14 + lVar16 + -8;
		lVar11 = uVar12 + lVar17 + 0x53cc;
		do {
			lVar9 = lVar9 + 8;
			uVar3 = ((undefined4 *)lVar9)[1];
			lVar11 = lVar11 + 8;
			*(undefined4 *)lVar11 = *(undefined4 *)lVar9;
			((undefined4 *)lVar11)[1] = uVar3;
			lVar18 = lVar18 + -1;
		} while (lVar18 != 0);
		uVar10 = (undefined) * (int *)(puVar4 + (int)lVar17 + 0x1c8);
		if (*(int *)(puVar4 + (int)lVar17 + 0x1c8) < *(int *)(puVar5 + (int)lVar16 + 200)) {
			StartStore('\t', uVar10, (char)lVar11, uVar13, uVar15, (char)lVar16, (char)lVar17, param_8,
			    in_stack_ffffffb8);
		} else {
			StartStore('\v', uVar10, (char)lVar11, uVar13, uVar15, (char)lVar16, (char)lVar17, param_8,
			    in_stack_ffffffb8);
		}
	}
	return;
}

void FUN_100ac9e0(undefined8 uParm1, undefined param_2, undefined8 uParm3, undefined param_4,
    undefined param_5, undefined param_6, undefined4 uParm7, undefined4 uParm8)

{
	uint uVar1;
	uint uVar2;
	undefined *puVar3;
	undefined *puVar4;
	uint *puVar5;
	undefined **ppuVar6;
	undefined *puVar7;
	longlong lVar8;
	int *piVar9;
	ulonglong uVar10;
	ulonglong uVar11;
	longlong lVar12;
	longlong lVar13;
	int iVar14;
	longlong lVar15;
	undefined *puVar16;
	int iVar17;
	longlong lVar18;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;

	puVar5 = _DAT_100f20d0;
	puVar4 = PTR_DAT_100f209c;
	puVar16 = PTR_DAT_100f2094;
	puVar3 = PTR_DAT_100f206c;
	ppuVar6 = &toc;
	uVar1 = *_DAT_100f20d0;
	uVar10 = (ulonglong)uVar1;
	if (uVar1 == 0x16) {
		StartStore((char)*(undefined4 *)PTR_DAT_100f20a4, param_2, 0x16, param_4, param_5, param_6,
		    (char)uParm7, (char)uParm8, in_stack_ffffffa8);
		*puVar5 = *(uint *)ppuVar6[-0x1bc3];
	} else {
		uVar2 = *(uint *)PTR_DAT_100f209c;
		uVar11 = (ulonglong)uVar2;
		lVar18 = 4;
		lVar8 = ZEXT48(PTR_DAT_100f206c) + (ulonglong)(uVar2 << 6);
		lVar13 = 0;
		lVar12 = 0;
		puVar7 = PTR_DAT_100f19cc;
		do {
			piVar9 = (int *)lVar8;
			if (((puVar7[2] == '\x02') && (*piVar9 != -1)) && (*(int *)(puVar7 + 0x14) != 0)) {
				lVar13 = lVar13 + 1;
			}
			if (((puVar7[0x1a] == '\x02') && (piVar9[1] != -1)) && (*(int *)(puVar7 + 0x2c) != 0)) {
				lVar13 = lVar13 + 1;
			}
			if (((puVar7[0x32] == '\x02') && (piVar9[2] != -1)) && (*(int *)(puVar7 + 0x44) != 0)) {
				lVar13 = lVar13 + 1;
			}
			if (((puVar7[0x4a] == '\x02') && (piVar9[3] != -1)) && (*(int *)(puVar7 + 0x5c) != 0)) {
				lVar13 = lVar13 + 1;
			}
			iVar14 = (int)lVar13;
			puVar7 = puVar7 + 0x60;
			lVar8 = lVar8 + 0x10;
			lVar12 = lVar12 + 3;
			lVar18 = lVar18 + -1;
		} while (lVar18 != 0);
		if (iVar14 < 7) {
			lVar15 = 0xf - lVar13;
			lVar18 = 2;
		} else {
			lVar15 = 0xe - (ulonglong)(uint)(iVar14 >> 1);
			lVar18 = 1;
		}
		if (uVar1 == (int)lVar15 - 2U) {
			SetRndSeed(*(undefined4 *)(PTR_DAT_100f1878 + uVar2 * 0x10c + 0x8c));
			uVar1 = *(uint *)puVar16;
			uVar10 = (ulonglong)uVar1;
			lVar13 = ((ulonglong) * (uint *)ppuVar6[-0x1bd0] - uVar10) + 1;
			lVar8 = random(0, lVar13, (char)uVar1, (char)uVar11, (char)lVar12, (char)iVar14, (char)uParm7,
			    (char)uParm8, in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
			InitQTextMsg(*(int *)puVar16 + (int)lVar8, lVar13, uVar10, uVar11, lVar12, iVar14, uParm7, uParm8,
			    in_stack_ffffffa8);
		} else {
			iVar14 = 0;
			iVar17 = 0;
			puVar16 = PTR_DAT_100f19cc;
			do {
				if (((puVar16[2] == '\x02') && (*(int *)(puVar3 + *(int *)puVar4 * 0x40 + iVar17) != -1)) && (*(int *)(puVar16 + 0x14) != 0)) {
					if ((uint)lVar15 == *puVar5) {
						InitQTextMsg(*(int *)(puVar3 + *(int *)puVar4 * 0x40 + iVar17), lVar8, uVar10, uVar11,
						    lVar12, (int)lVar13, uParm7, uParm8, in_stack_ffffffa8);
					}
					lVar15 = lVar15 + lVar18;
				}
				iVar14 = iVar14 + 1;
				iVar17 = iVar17 + 4;
				puVar16 = puVar16 + 0x18;
			} while (iVar14 < 0x10);
		}
	}
	return;
}

void FUN_100acc04(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined4 *puVar4;
	undefined4 in_stack_ffffffc8;

	puVar2 = PTR_DAT_100f20a4;
	iVar1 = *_DAT_100f20d0;
	if (iVar1 == 0x12) {
		*PTR_DAT_100f186c = 0;
	} else {
		if ((iVar1 < 0x12) && (iVar1 == 0xc)) {
			*(undefined4 *)PTR_DAT_100f209c = 3;
			puVar4 = _DAT_100f20c4;
			*(undefined4 *)puVar2 = 0x15;
			puVar3 = PTR_DAT_100f2094;
			*puVar4 = 0xc;
			puVar2 = PTR_DAT_100f2090;
			*(undefined4 *)puVar3 = 0xa1;
			*(undefined4 *)puVar2 = 0xa8;
			StartStore('\x13', (char)puVar2, (char)puVar3, 0xa1, param_5, param_6, param_7, param_8,
			    in_stack_ffffffc8);
		}
	}
	return;
}

void FUN_100acc94(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined4 *puVar4;
	undefined4 in_stack_ffffffc8;

	puVar2 = PTR_DAT_100f20a4;
	iVar1 = *_DAT_100f20d0;
	if (iVar1 == 0x12) {
		*PTR_DAT_100f186c = 0;
	} else {
		if ((iVar1 < 0x12) && (iVar1 == 0xc)) {
			*(undefined4 *)PTR_DAT_100f209c = 7;
			puVar4 = _DAT_100f20c4;
			*(undefined4 *)puVar2 = 0x17;
			puVar3 = PTR_DAT_100f2094;
			*puVar4 = 0xc;
			puVar2 = PTR_DAT_100f2090;
			*(undefined4 *)puVar3 = 0xb4;
			*(undefined4 *)puVar2 = 0xbb;
			StartStore('\x13', (char)puVar2, (char)puVar3, 0xb4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffc8);
		}
	}
	return;
}

void FUN_100acd24(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined4 *puVar4;
	undefined4 in_stack_ffffffc8;

	puVar2 = PTR_DAT_100f20a4;
	iVar1 = *_DAT_100f20d0;
	if (iVar1 == 0x12) {
		*PTR_DAT_100f186c = 0;
	} else {
		if ((iVar1 < 0x12) && (iVar1 == 0xc)) {
			*(undefined4 *)PTR_DAT_100f209c = 5;
			puVar4 = _DAT_100f20c4;
			*(undefined4 *)puVar2 = 0x16;
			puVar3 = PTR_DAT_100f2094;
			*puVar4 = 0xc;
			puVar2 = PTR_DAT_100f2090;
			*(undefined4 *)puVar3 = 0xc9;
			*(undefined4 *)puVar2 = 0xd3;
			StartStore('\x13', (char)puVar2, (char)puVar3, 0xc9, param_5, param_6, param_7, param_8,
			    in_stack_ffffffc8);
		}
	}
	return;
}

void STextEnter(undefined8 param_1, undefined8 param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	ulonglong uVar4;
	ulonglong uVar5;
	undefined7 uVar6;
	undefined uVar7;
	undefined7 uVar8;
	undefined uVar9;
	undefined7 uVar10;
	undefined uVar11;
	undefined4 in_stack_ffffffc8;

	puVar2 = PTR_DAT_100f18a0;
	puVar1 = PTR_DAT_100f183c;
	uVar10 = (undefined7)((ulonglong)param_5 >> 8);
	uVar11 = (undefined)param_5;
	uVar8 = (undefined7)((ulonglong)param_4 >> 8);
	uVar9 = (undefined)param_4;
	uVar6 = (undefined7)(param_3 >> 8);
	uVar7 = (undefined)param_3;
	ppuVar3 = &toc;
	uVar5 = ZEXT48(PTR_DAT_100f18a0);
	if (*PTR_DAT_100f18a0 == '\0') {
		PlaySFX(0x46);
		if (((longlong)(char)*ppuVar3[-0x1dd9] & 0xffffffffU) < 0x18) {
			// WARNING: Could not recover jumptable at 0x100ace20. Too many branches
			// WARNING: Treating indirect jump as call
			(**(code **)(ppuVar3[-0x1603] + (int)(char)*ppuVar3[-0x1dd9] * 4))();
			return;
		}
	} else {
		uVar4 = ZEXT48(PTR_DAT_100f183c);
		*PTR_DAT_100f18a0 = 0;
		if (*puVar1 == '\0') {
			uVar4 = sfx_stop((char)puVar1, (char)puVar2, uVar7, uVar9, uVar11, (char)param_6, (char)param_7,
			    (char)param_8, in_stack_ffffffc8);
		}
		music_stop2(uVar4, uVar5, CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9), CONCAT71(uVar10, uVar11),
		    param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return;
}

void CheckStoreBtn(void)

{
	char cVar1;
	int iVar2;
	uint uVar3;
	uint uVar4;
	undefined *puVar5;
	undefined *puVar6;
	char *pcVar7;
	char *pcVar8;
	ulonglong uVar9;
	longlong lVar10;
	ulonglong uVar11;
	undefined uVar12;
	ulonglong uVar13;
	undefined uVar14;
	ulonglong uVar15;
	undefined uVar16;
	ulonglong uVar17;
	undefined uVar18;
	undefined8 in_r8;
	undefined4 uVar19;
	undefined uVar20;
	undefined4 in_r9;
	undefined uVar21;
	undefined4 in_r10;
	undefined uVar22;
	longlong lVar23;
	int iVar24;
	undefined4 in_stack_ffffffb8;

	pcVar8 = _DAT_100f20cc;
	pcVar7 = _DAT_100f20c8;
	puVar6 = PTR_DAT_100f18a0;
	puVar5 = PTR_DAT_100f183c;
	uVar22 = (undefined)in_r10;
	uVar21 = (undefined)in_r9;
	uVar19 = (undefined4)in_r8;
	uVar11 = ZEXT48(PTR_DAT_100f18a0);
	uVar17 = ZEXT48(PTR_DAT_100f1928);
	uVar18 = SUB41(PTR_DAT_100f1928, 0);
	uVar15 = ZEXT48(_DAT_100f20d0);
	uVar16 = SUB41(_DAT_100f20d0, 0);
	uVar13 = (ulonglong)_DAT_100f20d4;
	uVar14 = (undefined)_DAT_100f20d4;
	if (*PTR_DAT_100f18a0 == '\0') {
		if (*_DAT_100f20d0 != -1) {
			iVar2 = *(int *)PTR_DAT_100f1924;
			uVar20 = (undefined)iVar2;
			if ((0x1f < iVar2) && (iVar2 < 0x141)) {
				if (*_DAT_100f20dc == '\0') {
					iVar24 = *(int *)PTR_DAT_100f1928;
					if (iVar24 < 0x158) {
						return;
					}
				} else {
					iVar24 = *(int *)PTR_DAT_100f1928;
					if (iVar24 < 0x18) {
						return;
					}
				}
				if (iVar24 < 0x269) {
					iVar24 = (iVar2 + -0x20) / 6 + (iVar2 + -0x20 >> 0x1f);
					uVar3 = *_DAT_100f20d8;
					uVar12 = (undefined)uVar3;
					uVar4 = iVar24 >> 1;
					lVar23 = ((longlong)iVar24 & 0xffffffff00000000U | (ulonglong)uVar4) + (ulonglong)(uVar4 >> 0x1f);
					iVar24 = (int)lVar23;
					if ((uVar3 == 0) || (*(int *)PTR_DAT_100f1928 < 0x259)) {
						if (4 < iVar24) {
							if (0x16 < iVar24) {
								lVar23 = 0x16;
							}
							if (((uVar3 != 0) && ((int)lVar23 < 0x15)) && (iVar24 = _DAT_100f20d4 + (int)lVar23 * 0x9c, *(int *)(iVar24 + 0x94) == 0)) {
								if (*(int *)(iVar24 + -0xa4) == 0) {
									if (*(int *)(iVar24 + -8) != 0) {
										lVar23 = lVar23 + -1;
									}
								} else {
									lVar23 = lVar23 + -2;
								}
							}
							lVar10 = uVar13 + lVar23 * 0x9c;
							if ((*(int *)((int)lVar10 + 0x94) != 0) || ((uVar3 != 0 && ((int)lVar23 == 0x16)))) {
								*_DAT_100f20d0 = (int)lVar23;
								STextEnter(lVar10, (ulonglong)uVar3, uVar13, uVar15, uVar17, iVar2, in_r9, in_r10,
								    in_stack_ffffffb8);
							}
						}
					} else {
						if (iVar24 == 4) {
							cVar1 = *_DAT_100f20cc;
							if (cVar1 < '\x01') {
								STextUp(cVar1, uVar12, uVar14, uVar16, uVar18, uVar20, uVar21, uVar22,
								    in_stack_ffffffb8);
								*pcVar8 = '\n';
							} else {
								*_DAT_100f20cc = cVar1 + -1;
							}
						}
						if (iVar24 == 0x14) {
							cVar1 = *pcVar7;
							if (cVar1 < '\x01') {
								STextDown(cVar1, uVar12, uVar14, uVar16, uVar18, uVar20, uVar21, uVar22,
								    in_stack_ffffffb8);
								*pcVar7 = '\n';
							} else {
								*pcVar7 = cVar1 + -1;
							}
						}
					}
				}
			}
		}
	} else {
		uVar9 = ZEXT48(PTR_DAT_100f183c);
		*PTR_DAT_100f18a0 = 0;
		if (*puVar5 == '\0') {
			uVar9 = sfx_stop((char)puVar5, (char)puVar6, uVar14, uVar16, uVar18, (char)in_r8, uVar21, uVar22,
			    in_stack_ffffffb8);
		}
		music_stop2(uVar9, uVar11, uVar13, uVar15, uVar17, uVar19, in_r9, in_r10, in_stack_ffffffb8);
	}
	return;
}

void ReleaseStoreBtn(void)

{
	undefined *puVar1;

	puVar1 = _DAT_100f20c8;
	*_DAT_100f20cc = 0xff;
	*puVar1 = 0xff;
	return;
}

void FUN_100ad128(void)

{
	_DAT_100f4480 = _DAT_100f447c;
	return;
}

ulonglong sync_one_monster(char param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	ushort uVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	int iVar7;
	int iVar8;
	longlong lVar9;
	longlong lVar10;
	ulonglong uVar11;
	ushort *puVar12;
	int iVar13;
	undefined *puVar14;
	int *piVar15;

	iVar8 = _DAT_100f392c;
	iVar7 = _DAT_100f3928;
	puVar6 = PTR_DAT_100f19a4;
	puVar5 = PTR_DAT_100f187c;
	puVar4 = PTR_DAT_100f1828;
	puVar3 = PTR_DAT_100f1824;
	uVar11 = SEXT18(param_1);
	iVar13 = 0;
	piVar15 = (int *)PTR_DAT_100f19a8;
	while (iVar13 < *(int *)puVar6) {
		iVar2 = *piVar15;
		puVar14 = puVar5 + iVar2 * 0xe8;
		lVar9 = abs((ulonglong) * (uint *)(puVar4 + *(int *)puVar3 * 0x55ec + 0x3c) - (ulonglong) * (uint *)(puVar14 + 0x24));
		lVar10 = abs((ulonglong) * (uint *)(puVar4 + *(int *)puVar3 * 0x55ec + 0x38) - (ulonglong) * (uint *)(puVar14 + 0x20));
		iVar2 = iVar2 * 2;
		puVar12 = (ushort *)(iVar8 + iVar2);
		*puVar12 = (short)lVar10 + (short)lVar9;
		if (puVar14[0xa4] == '\0') {
			uVar11 = (ulonglong)*puVar12;
			*puVar12 = *puVar12 + 0x1000;
		} else {
			puVar12 = (ushort *)(iVar7 + iVar2);
			uVar1 = *puVar12;
			uVar11 = (ulonglong)uVar1;
			if (uVar1 != 0) {
				*puVar12 = uVar1 - 1;
			}
		}
		piVar15 = piVar15 + 1;
		iVar13 = iVar13 + 1;
	}
	return uVar11;
}

void FUN_100ad21c(undefined *param_1, undefined8 param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	ushort uVar1;
	undefined *puVar2;
	int iVar3;
	undefined *puVar4;
	undefined uVar5;
	undefined **ppuVar6;
	ulonglong uVar7;
	undefined2 uVar8;

	puVar4 = PTR_DAT_100f187c;
	ppuVar6 = &toc;
	iVar3 = (int)param_2;
	puVar2 = PTR_DAT_100f187c + iVar3 * 0xe8;
	*param_1 = (char)param_2;
	param_1[1] = (char)*(undefined4 *)(puVar2 + 0x20);
	param_1[2] = (char)*(undefined4 *)(puVar2 + 0x24);
	uVar7 = FUN_10076cd0(iVar3);
	puVar2 = ppuVar6[-0x15a9];
	param_1[3] = (char)uVar7;
	uVar1 = *(ushort *)(puVar2 + iVar3 * 2);
	uVar5 = (undefined)uVar1;
	if (0xff < uVar1) {
		uVar5 = 0xff;
	}
	param_1[4] = uVar5;
	uVar8 = 0xffff;
	*(ushort *)(puVar2 + iVar3 * 2) = 0xffff;
	if (puVar4[iVar3 * 0xe8 + 0xa4] != '\0') {
		uVar8 = 0xfffe;
	}
	*(undefined2 *)(ppuVar6[-0x15aa] + iVar3 * 2) = uVar8;
	return;
}

ulonglong sync_monster_active(undefined *param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	bool bVar1;
	ushort uVar2;
	uint uVar3;
	ulonglong uVar4;
	ulonglong uVar5;
	undefined uVar6;
	ulonglong uVar7;
	ulonglong uVar8;
	undefined4 in_stack_ffffffc8;

	uVar6 = SUB41(PTR_DAT_100f19a4, 0);
	uVar5 = 0xffffffffffffffff;
	uVar8 = 0xffffffffffffffff;
	uVar8._7_1_ = 0xff;
	uVar4 = (ulonglong) * (uint *)PTR_DAT_100f19a4;
	uVar7 = ZEXT48(PTR_DAT_100f19a8);
	uVar7._7_1_ = SUB41(PTR_DAT_100f19a8, 0);
	if (0 < (int)*(uint *)PTR_DAT_100f19a4) {
		do {
			uVar3 = *(uint *)uVar7;
			param_7 = (undefined)uVar3;
			uVar2 = *(ushort *)(_DAT_100f392c + uVar3 * 2);
			uVar6 = (undefined)uVar2;
			if (((ulonglong)uVar2 < (uVar8 & 0xffffffff)) && (*(ushort *)(_DAT_100f3928 + uVar3 * 2) < 0xfffe)) {
				uVar5 = (ulonglong)uVar3;
				uVar8 = (ulonglong)uVar2;
			}
			uVar8._7_1_ = (undefined)uVar8;
			uVar7 = uVar7 + 4;
			uVar7._7_1_ = (undefined)uVar7;
			uVar4 = uVar4 - 1;
		} while (uVar4 != 0);
	}
	bVar1 = (int)uVar5 != -1;
	if (bVar1) {
		FUN_100ad21c(param_1, uVar5, uVar6, (char)_DAT_100f392c, (char)_DAT_100f3928, (undefined)uVar7,
		    param_7, (undefined)uVar8, in_stack_ffffffc8);
	}
	return (ulonglong)bVar1;
}

ulonglong sync_monster_active2(undefined *param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	bool bVar1;
	int iVar2;
	ulonglong uVar3;
	ulonglong uVar4;
	ulonglong uVar5;
	int iVar6;
	undefined4 in_stack_ffffffc8;

	uVar5 = 0xfffe;
	uVar4 = 0xffffffffffffffff;
	iVar6 = 0;
	while (iVar2 = *(int *)PTR_DAT_100f19a4, iVar6 < iVar2) {
		if (iVar2 <= _DAT_100f4490) {
			_DAT_100f4490 = 0;
		}
		uVar3 = (ulonglong)
		    * (ushort *)(_DAT_100f3928 + *(uint *)(PTR_DAT_100f19a8 + _DAT_100f4490 * 4) * 2);
		if (uVar3 < uVar5) {
			uVar4 = (ulonglong) * (uint *)(PTR_DAT_100f19a8 + _DAT_100f4490 * 4);
			uVar5 = uVar3;
		}
		iVar6 = iVar6 + 1;
		_DAT_100f4490 = _DAT_100f4490 + 1;
	}
	bVar1 = (int)uVar4 != -1;
	if (bVar1) {
		FUN_100ad21c(param_1, uVar4, (char)iVar2, 0, (char)PTR_DAT_100f19a8, (char)_DAT_100f3928,
		    (char)PTR_DAT_100f19a4, (char)uVar5, in_stack_ffffffc8);
	}
	return (ulonglong)bVar1;
}

void SyncPlrInv(int param_1)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined4 *puVar4;
	int iVar5;

	puVar2 = PTR_DAT_100f1940;
	if (*_DAT_100f1dec < 1) {
		*(undefined *)(param_1 + 6) = 0xff;
	} else {
		if (*_DAT_100f1dec <= _DAT_100f448c) {
			_DAT_100f448c = 0;
		}
		iVar1 = *(int *)(_DAT_100f1df0 + _DAT_100f448c * 4);
		iVar5 = iVar1 * 0x170;
		_DAT_100f448c = _DAT_100f448c + 1;
		*(undefined *)(param_1 + 6) = (char)iVar1;
		puVar3 = puVar2 + iVar5;
		*(undefined *)(param_1 + 7) = (char)*(undefined4 *)(puVar3 + 0xc);
		*(undefined *)(param_1 + 8) = (char)*(undefined4 *)(puVar3 + 0x10);
		*(undefined2 *)(param_1 + 9) = (short)*(undefined4 *)(puVar3 + 0x168);
		if (*(int *)(puVar3 + 0x168) == 0x17) {
			*(ushort *)(param_1 + 0xb) = (ushort)((int)(char)puVar3[0x44] << 8) | (short)(char)puVar3[0x45];
			*(uint *)(param_1 + 0xd) = (int)(char)puVar3[0x49] | (int)(char)puVar3[0x48] << 8 | (int)(char)puVar3[0x46] << 0x18 | (int)(char)puVar3[0x47] << 0x10;
			*(undefined *)(param_1 + 0x11) = puVar3[0x4a];
			*(undefined *)(param_1 + 0x12) = puVar3[0x4b];
			*(undefined *)(param_1 + 0x13) = puVar3[0x4c];
			*(undefined *)(param_1 + 0x14) = puVar3[0x4d];
			*(undefined *)(param_1 + 0x15) = puVar3[0x4e];
			*(ushort *)(param_1 + 0x16) = (ushort) * (undefined4 *)(puVar3 + 0xc4) | (ushort)((int)(char)puVar3[0x4f] << 8) | ((short)*(undefined4 *)(puVar3 + 0xc0) + -0x13) * 0x40;
			*(uint *)(param_1 + 0x18) = (int)(char)puVar3[0x53] | (int)(char)puVar3[0x52] << 8 | (int)(char)puVar3[0x50] << 0x18 | (int)(char)puVar3[0x51] << 0x10;
		} else {
			*(undefined2 *)(param_1 + 0xb) = *(undefined2 *)(puVar3 + 4);
			*(undefined4 *)(param_1 + 0xd) = *(undefined4 *)(puVar2 + iVar5);
			*(undefined *)(param_1 + 0x11) = (char)*(undefined4 *)(puVar3 + 0x38);
			*(undefined *)(param_1 + 0x12) = (char)*(undefined4 *)(puVar3 + 0xec);
			*(undefined *)(param_1 + 0x13) = (char)*(undefined4 *)(puVar3 + 0xf0);
			*(undefined *)(param_1 + 0x14) = (char)*(undefined4 *)(puVar3 + 0xe4);
			*(undefined *)(param_1 + 0x15) = (char)*(undefined4 *)(puVar3 + 0xe8);
			if (*(int *)(puVar3 + 0x168) == 0) {
				*(undefined2 *)(param_1 + 0x16) = (short)*(undefined4 *)(puVar3 + 0xc4);
			}
		}
	}
	puVar4 = (undefined4 *)(PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec + _DAT_100f4488 * 0x170 + 0x498);
	if (puVar4[2] == -1) {
		*(undefined *)(param_1 + 0x1c) = 0xff;
	} else {
		*(undefined *)(param_1 + 0x1c) = (char)_DAT_100f4488;
		*(undefined2 *)(param_1 + 0x1d) = (short)puVar4[0x5a];
		*(undefined2 *)(param_1 + 0x1f) = *(undefined2 *)(puVar4 + 1);
		*(undefined4 *)(param_1 + 0x21) = *puVar4;
		*(undefined *)(param_1 + 0x25) = (char)puVar4[0xe];
	}
	*(undefined2 *)(param_1 + 2) = CONCAT11(*(undefined *)(param_1 + 3), *(undefined *)(param_1 + 2));
	*(undefined2 *)(param_1 + 9) = CONCAT11(*(undefined *)(param_1 + 10), *(undefined *)(param_1 + 9));
	*(undefined2 *)(param_1 + 0xb) = CONCAT11(*(undefined *)(param_1 + 0xc), *(undefined *)(param_1 + 0xb));
	*(uint *)(param_1 + 0xd) = (uint) * (byte *)(param_1 + 0x10) << 0x18 | (uint) * (byte *)(param_1 + 0xf) << 0x10 | (uint) * (byte *)(param_1 + 0xe) << 8 | (uint) * (byte *)(param_1 + 0xd);
	*(undefined2 *)(param_1 + 0x16) = CONCAT11(*(undefined *)(param_1 + 0x17), *(undefined *)(param_1 + 0x16));
	*(uint *)(param_1 + 0x18) = (uint) * (byte *)(param_1 + 0x1b) << 0x18 | (uint) * (byte *)(param_1 + 0x1a) << 0x10 | (uint) * (byte *)(param_1 + 0x19) << 8 | (uint) * (byte *)(param_1 + 0x18);
	*(undefined2 *)(param_1 + 0x1d) = CONCAT11(*(undefined *)(param_1 + 0x1e), *(undefined *)(param_1 + 0x1d));
	*(undefined2 *)(param_1 + 0x1f) = CONCAT11(*(undefined *)(param_1 + 0x20), *(undefined *)(param_1 + 0x1f));
	*(uint *)(param_1 + 0x21) = (uint) * (byte *)(param_1 + 0x24) << 0x18 | (uint) * (byte *)(param_1 + 0x23) << 0x10 | (uint) * (byte *)(param_1 + 0x22) << 8 | (uint) * (byte *)(param_1 + 0x21);
	if (_DAT_100f4488 + 1 < 7) {
		_DAT_100f4488 = _DAT_100f4488 + 1;
		return;
	}
	_DAT_100f4488 = 0;
	return;
}

ulonglong sync_all_monsters(undefined *param_1, ulonglong param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined uVar4;
	ulonglong uVar2;
	int iVar3;
	ulonglong uVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	int iVar12;
	undefined *puVar13;
	undefined4 in_stack_ffffffb8;

	puVar1 = PTR_DAT_100f19a4;
	puVar13 = PTR_DAT_100f17ec;
	lVar11 = (longlong)param_8;
	lVar10 = (longlong)param_7;
	lVar9 = (longlong)param_6;
	lVar8 = (longlong)param_5;
	lVar7 = (longlong)param_4;
	lVar6 = (longlong)param_3;
	if ((0 < *(int *)PTR_DAT_100f19a4) && (0x2a < (param_2 & 0xffffffff))) {
		*param_1 = 0x23;
		uVar5 = (ulonglong)(byte)*puVar13;
		param_2 = param_2 - 0x26;
		param_1[1] = *puVar13;
		*(undefined2 *)(param_1 + 2) = 0;
		puVar13 = param_1 + 0x26;
		uVar4 = SyncPlrInv((int)param_1);
		sync_one_monster(uVar4, (char)uVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10,
		    (char)lVar11, in_stack_ffffffb8);
		iVar12 = 0;
		while ((iVar12 < *(int *)puVar1 && (4 < (param_2 & 0xffffffff)))) {
			iVar3 = 0;
			if (iVar12 < 2) {
				uVar2 = sync_monster_active2(puVar13, (char)uVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9,
				    (char)lVar10, (char)lVar11, in_stack_ffffffb8);
				iVar3 = (int)uVar2;
			}
			if (iVar3 == 0) {
				uVar2 = sync_monster_active(puVar13, (char)uVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9,
				    (char)lVar10, (char)lVar11, in_stack_ffffffb8);
				iVar3 = (int)uVar2;
			}
			if (iVar3 == 0) {
				return param_2;
			}
			*(ushort *)(param_1 + 2) = CONCAT11(param_1[3], param_1[2]);
			*(short *)(param_1 + 2) = *(short *)(param_1 + 2) + 5;
			puVar13 = puVar13 + 5;
			param_2 = param_2 - 5;
			iVar12 = iVar12 + 1;
			*(ushort *)(param_1 + 2) = CONCAT11(param_1[3], param_1[2]);
		}
	}
	return param_2;
}

void FUN_100ad7cc(int param_1, byte *param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	byte bVar1;
	uint uVar2;
	int iVar3;
	uint *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	longlong lVar9;
	longlong lVar10;
	ulonglong uVar11;
	ulonglong uVar12;
	uint *puVar13;
	int iVar15;
	byte bVar16;
	ulonglong uVar14;
	byte bVar18;
	ulonglong uVar17;
	undefined7 uVar19;
	undefined uVar20;
	undefined uVar21;
	undefined uVar22;
	undefined uVar23;
	undefined4 in_stack_ffffffa8;

	puVar8 = PTR_DAT_100f1954;
	puVar5 = PTR_DAT_100f187c;
	puVar7 = PTR_DAT_100f1828;
	puVar6 = PTR_DAT_100f1824;
	uVar19 = (undefined7)((ulonglong)param_5 >> 8);
	uVar20 = (undefined)param_5;
	bVar1 = *param_2;
	uVar12 = (ulonglong)bVar1;
	if (*(int *)(PTR_DAT_100f187c + (uint)bVar1 * 0xe8 + 0x98) != 0) {
		iVar15 = 0;
		puVar13 = (uint *)PTR_DAT_100f19a8;
		while ((iVar15 < *(int *)PTR_DAT_100f19a4 && ((uint)bVar1 != *puVar13))) {
			puVar13 = puVar13 + 1;
			iVar15 = iVar15 + 1;
		}
		iVar15 = (uint)bVar1 * 0xe8;
		puVar13 = (uint *)(PTR_DAT_100f187c + iVar15 + 0x24);
		lVar9 = abs((ulonglong)
		        * (uint *)(PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec + 0x3c)
		    - (ulonglong)*puVar13);
		puVar4 = (uint *)(puVar5 + iVar15 + 0x20);
		lVar10 = abs((ulonglong) * (uint *)(puVar7 + *(int *)puVar6 * 0x55ec + 0x38) - (ulonglong)*puVar4);
		uVar11 = lVar10 + lVar9;
		if (0xff < (uVar11 & 0xffffffff)) {
			uVar11 = 0xff;
		}
		if (((ulonglong)param_2[4] <= (uVar11 & 0xffffffff)) && (((uVar11 & 0xffffffff) != (ulonglong)param_2[4] || (param_1 <= *(int *)puVar6)))) {
			if (((uint)param_2[1] != *(uint *)(puVar5 + iVar15 + 0x28)) || ((uint)param_2[2] != *(uint *)(puVar5 + iVar15 + 0x2c))) {
				iVar3 = *(int *)(puVar5 + iVar15 + 4);
				if ((iVar3 != 0xe) && (iVar3 != 0xf)) {
					lVar9 = abs((ulonglong)*puVar4 - (ulonglong)param_2[1]);
					lVar10 = abs((ulonglong)*puVar13 - (ulonglong)param_2[2]);
					uVar23 = (undefined)param_8;
					uVar22 = (undefined)param_7;
					uVar21 = (undefined)param_6;
					if (((int)lVar9 < 3) && ((int)lVar10 < 3)) {
						iVar3 = *(int *)(puVar5 + iVar15 + 4);
						if ((iVar3 < 1) || (3 < iVar3)) {
							uVar14 = (ulonglong)param_2[1];
							uVar17 = (ulonglong)param_2[2];
							uVar11 = GetDirection((ulonglong)*puVar4, *puVar13, uVar14, (uint)param_2[2]);
							uVar14 = DirOK(uVar12, (uint)uVar11, uVar14, uVar17, CONCAT71(uVar19, uVar20),
							    param_6, param_7, param_8, in_stack_ffffffa8);
							if ((int)uVar14 != 0) {
								FUN_1006bf90((uint)bVar1);
								uVar2 = *(uint *)puVar8;
								*(undefined2 *)(uVar2 + *puVar4 * 0xe0 + *puVar13 * 2) = (short)(uVar12 + 1);
								M_WalkDir(uVar12, (uint)uVar11, (ulonglong)uVar2, uVar12 + 1, CONCAT71(uVar19, uVar20), param_6, param_7, param_8, in_stack_ffffffa8);
								puVar5[iVar15 + 0xa4] = 0xff;
							}
						}
					} else {
						if (*(short *)(*(int *)puVar8 + (uint)param_2[1] * 0xe0 + (uint)param_2[2] * 2) == 0) {
							FUN_1006bf90((uint)bVar1);
							*(short *)(*(int *)puVar8 + (uint)param_2[1] * 0xe0 + (uint)param_2[2] * 2) = (ushort)bVar1 + 1;
							*puVar4 = (uint)param_2[1];
							*puVar13 = (uint)param_2[2];
							FUN_10076cfc((uint)bVar1, (uint)param_2[3]);
							puVar5 = puVar5 + iVar15;
							bVar16 = puVar5[0x50];
							bVar18 = puVar5[0x51];
							uVar12 = GetDirection((ulonglong)param_2[1], (uint)param_2[2], (ulonglong)bVar16,
							    (uint)bVar18);
							FUN_1006b758((uint)bVar1, (int)uVar12, bVar16, bVar18, uVar20, uVar21, uVar22, uVar23,
							    in_stack_ffffffa8);
							puVar5[0xa4] = 0xff;
						}
					}
					FUN_10076cfc((uint)bVar1, (uint)param_2[3]);
				}
			}
		}
	}
	return;
}

longlong FUN_100ada58(int param_1, longlong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	char *pcVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	ushort uVar7;
	longlong lVar8;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar2 = PTR_DAT_100f17ec;
	lVar6 = (longlong)param_8;
	lVar5 = (longlong)param_7;
	lVar4 = (longlong)param_6;
	ppuVar3 = &toc;
	lVar8 = param_2 + 0x26;
	pcVar1 = (char *)param_2;
	*(ushort *)(pcVar1 + 2) = CONCAT11(pcVar1[3], pcVar1[2]);
	*(ushort *)(pcVar1 + 9) = CONCAT11(pcVar1[10], pcVar1[9]);
	*(ushort *)(pcVar1 + 0xb) = CONCAT11(pcVar1[0xc], pcVar1[0xb]);
	*(uint *)(pcVar1 + 0xd) = (uint)(byte)pcVar1[0x10] << 0x18 | (uint)(byte)pcVar1[0xf] << 0x10 | (uint)(byte)pcVar1[0xe] << 8 | (uint)(byte)pcVar1[0xd];
	*(ushort *)(pcVar1 + 0x16) = CONCAT11(pcVar1[0x17], pcVar1[0x16]);
	*(uint *)(pcVar1 + 0x18) = (uint)(byte)pcVar1[0x1b] << 0x18 | (uint)(byte)pcVar1[0x1a] << 0x10 | (uint)(byte)pcVar1[0x19] << 8 | (uint)(byte)pcVar1[0x18];
	*(ushort *)(pcVar1 + 0x1d) = CONCAT11(pcVar1[0x1e], pcVar1[0x1d]);
	*(ushort *)(pcVar1 + 0x1f) = CONCAT11(pcVar1[0x20], pcVar1[0x1f]);
	*(uint *)(pcVar1 + 0x21) = (uint)(byte)pcVar1[0x24] << 0x18 | (uint)(byte)pcVar1[0x23] << 0x10 | (uint)(byte)pcVar1[0x22] << 8 | (uint)(byte)pcVar1[0x21];
	if (*pcVar1 != '#') {
		ppuVar3 = &toc;
		app_fatal(_DAT_100f3924, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc,
		    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
		    in_stack_ffffffe0, in_stack_ffffffe4);
	}
	if (*ppuVar3[-0x1caf] == '\x01') {
		lVar4 = (ulonglong) * (ushort *)(pcVar1 + 2) + 0x26;
	} else {
		if (param_1 == *(int *)ppuVar3[-0x1deb]) {
			lVar4 = (ulonglong) * (ushort *)(pcVar1 + 2) + 0x26;
		} else {
			uVar7 = *(ushort *)(pcVar1 + 2);
			while (4 < uVar7) {
				if (*puVar2 == pcVar1[1]) {
					FUN_100ad7cc(param_1, (byte *)lVar8, param_3, param_4, param_5, (int)lVar4, (int)lVar5,
					    (int)lVar6, in_stack_ffffffb8);
				}
				FUN_10079b24((byte *)lVar8, (uint)(byte)pcVar1[1]);
				lVar8 = lVar8 + 5;
				uVar7 = uVar7 - 5;
			}
			lVar4 = (ulonglong) * (ushort *)(pcVar1 + 2) + 0x26;
		}
	}
	return lVar4;
}

void sync_init(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	_DAT_100f4490 = *(int *)PTR_DAT_100f1824 << 4;
	memset((char)_DAT_100f3928, 0x90, 0xff, (char)PTR_DAT_100f1824, param_5, param_6, param_7, param_8,
	    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	return;
}

void FUN_100adbec(void)

{
	_DAT_100f4494 = _DAT_100f4484;
	return;
}

void FUN_100adbf8(void)

{
	_DAT_100f44ac = _DAT_100f44a8;
	return;
}

undefined8 FUN_100adc04(int param_1)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	int iVar4;
	int iVar5;
	char *pcVar6;
	int iVar7;
	int iVar8;
	int iVar9;
	int iVar10;
	int iVar11;

	puVar3 = PTR_DAT_100f2108;
	iVar11 = 0;
	iVar10 = 0;
	iVar9 = 0;
	iVar1 = *(int *)(PTR_DAT_100f2004 + param_1 * 8 + 4);
	iVar4 = 0;
	do {
		do {
			if (iVar9 != 0) {
				*(int *)PTR_DAT_100f210c = iVar11;
				puVar2 = PTR_DAT_100f2104;
				*(int *)puVar3 = iVar10;
				*(int *)puVar2 = iVar9;
				return 1;
			}
			iVar7 = iVar11 * 0x70;
			pcVar6 = (char *)(*(int *)PTR_DAT_100f1a48 + iVar7 + iVar10);
			if ((int)*pcVar6 == iVar1) {
				iVar5 = *(int *)PTR_DAT_100f1a54 + iVar11 * 0xe0 + iVar4;
				if (((((PTR_DAT_100f1d98[(int)*(short *)(iVar5 + -2)] != '\0') && (*(char *)(_DAT_100f1da4 + (int)*(short *)(iVar5 + -0xe0)) == '\0')) && (*(char *)(_DAT_100f1da4 + (int)*(short *)(iVar5 + 0xe0)) == '\0')) && (((int)pcVar6[-0x70] == iVar1 && ((int)pcVar6[0x70] == iVar1)))) && ((iVar8 = *(int *)PTR_DAT_100f194c + iVar7 + iVar10, *(char *)(iVar8 + -0x71) == '\0' && (*(char *)(iVar8 + 0x6f) == '\0')))) {
					iVar9 = 1;
				}
				if ((((iVar9 == 0) && (PTR_DAT_100f1d98[(int)*(short *)(iVar5 + -0xe0)] != '\0')) && ((*(char *)(_DAT_100f1da4 + (int)*(short *)(iVar5 + -2)) == '\0' && (((*(char *)(_DAT_100f1da4 + (int)*(short *)(iVar5 + 2)) == '\0' && ((int)pcVar6[-1] == iVar1)) && ((int)pcVar6[1] == iVar1)))))) && ((iVar7 = *(int *)PTR_DAT_100f194c + iVar7 + iVar10, *(char *)(iVar7 + -0x71) == '\0' && (*(char *)(iVar7 + -0x6f) == '\0')))) {
					iVar9 = 2;
				}
			}
		} while ((iVar9 != 0) || (iVar11 = iVar11 + 1, iVar11 != 0x70));
		iVar10 = iVar10 + 1;
		iVar4 = iVar4 + 2;
		iVar11 = 0;
	} while (iVar10 != 0x70);
	return 0;
}

undefined8
FUN_100addbc(int param_1, undefined param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	bool bVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	longlong lVar6;
	longlong lVar7;
	int *piVar8;
	int *piVar9;
	int iVar10;
	int iVar11;
	int iVar12;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined1 in_stack_ffffffbb;

	puVar4 = PTR_DAT_100f394c;
	puVar3 = PTR_DAT_100f3948;
	iVar2 = _DAT_100f1da4;
	ppuVar5 = &toc;
	iVar12 = 0;
	iVar11 = 0;
	lVar6 = random(0, 5, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8,
	    in_stack_ffffffaf, in_stack_ffffffbb);
	lVar7 = lVar6 + 1;
	while (true) {
		do {
			do {
				while (true) {
					if ((int)lVar7 < 1) {
						piVar8 = (int *)ppuVar5[-0x1bb2];
						*(int *)ppuVar5[-0x1bb1] = iVar12;
						*piVar8 = iVar11;
						return 1;
					}
					bVar1 = false;
					if (((int)*(char *)(*(int *)ppuVar5[-0x1d62] + iVar12 * 0x70 + iVar11) == *(int *)(ppuVar5[-0x1bf3] + param_1 * 8 + 4)) && (*(char *)(iVar2 + (int)*(short *)(*(int *)ppuVar5[-0x1d5f] + iVar12 * 0xe0 + iVar11 * 2)) == '\0')) {
						bVar1 = true;
						iVar10 = 0;
						piVar8 = (int *)puVar4;
						piVar9 = (int *)puVar3;
						while ((bVar1 && (iVar10 < 0x19))) {
							if (*(char *)(iVar2 + (int)*(short *)(*(int *)ppuVar5[-0x1d5f] + (iVar12 + *piVar8) * 0xe0 + (iVar11 + *piVar9) * 2)) != '\0') {
								bVar1 = false;
							}
							if (*(int *)(ppuVar5[-0x1bf3] + param_1 * 8 + 4) != (int)*(char *)(*(int *)ppuVar5[-0x1d62] + iVar11 + (iVar12 + *piVar8) * 0x70 + *piVar9)) {
								bVar1 = false;
							}
							piVar8 = piVar8 + 1;
							piVar9 = piVar9 + 1;
							iVar10 = iVar10 + 1;
						}
					}
					if (!bVar1)
						break;
					lVar7 = lVar7 + -1;
				}
				iVar12 = iVar12 + 1;
			} while (iVar12 != 0x70);
			iVar11 = iVar11 + 1;
			iVar12 = 0;
		} while (iVar11 != 0x70);
		if ((int)lVar7 == (int)(lVar6 + 1))
			break;
		iVar11 = 0;
	}
	return 0;
}

undefined8
FUN_100adf44(int param_1, undefined param_2, char param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	int *piVar1;
	undefined *puVar2;
	ulonglong uVar3;
	ulonglong uVar4;
	undefined8 uVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	int iVar12;
	byte *pbVar13;
	undefined4 in_stack_ffffffb8;

	puVar2 = PTR_DAT_100f19b8;
	lVar11 = (longlong)param_8;
	lVar10 = (longlong)param_7;
	lVar9 = (longlong)param_6;
	lVar8 = (longlong)param_5;
	lVar7 = (longlong)param_4;
	lVar6 = (longlong)param_3;
	uVar3 = ZEXT48(&toc);
	if ((byte)(*PTR_DAT_100f183c - 1) < 2) {
		iVar12 = 0;
		pbVar13 = PTR_DAT_100f19c0;
		while (iVar12 < *(int *)puVar2) {
			uVar4 = FUN_10076400((uint)*pbVar13);
			if ((int)uVar4 != 0) {
				piVar1 = *(int **)((int)uVar3 + -0x6ecc);
				*piVar1 = iVar12;
				uVar5 = FUN_100addbc(param_1, (char)piVar1, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9,
				    (char)lVar10, (char)lVar11, in_stack_ffffffb8);
				return uVar5;
			}
			pbVar13 = pbVar13 + 0x208;
			iVar12 = iVar12 + 1;
		}
	}
	return 0;
}

undefined8
FUN_100adff0(int param_1, undefined param_2, char param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	int *piVar1;
	undefined *puVar2;
	ulonglong uVar3;
	ulonglong uVar4;
	undefined8 uVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	int iVar12;
	byte *pbVar13;
	undefined4 in_stack_ffffffb8;

	puVar2 = PTR_DAT_100f19b8;
	lVar11 = (longlong)param_8;
	lVar10 = (longlong)param_7;
	lVar9 = (longlong)param_6;
	lVar8 = (longlong)param_5;
	lVar7 = (longlong)param_4;
	lVar6 = (longlong)param_3;
	uVar3 = ZEXT48(&toc);
	iVar12 = 0;
	pbVar13 = PTR_DAT_100f19c0;
	while (true) {
		if (*(int *)puVar2 <= iVar12) {
			return 0;
		}
		uVar4 = FUN_10076480((uint)*pbVar13);
		if ((int)uVar4 != 0)
			break;
		pbVar13 = pbVar13 + 0x208;
		iVar12 = iVar12 + 1;
	}
	piVar1 = *(int **)((int)uVar3 + -0x6ecc);
	*piVar1 = iVar12;
	uVar5 = FUN_100addbc(param_1, (char)piVar1, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9,
	    (char)lVar10, (char)lVar11, in_stack_ffffffb8);
	return uVar5;
}

undefined8
FUN_100ae084(longlong param_1, longlong param_2, int param_3, longlong param_4, undefined param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	uint uVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	int iVar6;
	undefined *puVar7;
	longlong lVar8;
	ulonglong uVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	int iVar13;
	uint *puVar14;
	uint *puVar15;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined in_stack_ffffffab;

	puVar7 = PTR_DAT_100f2004;
	iVar6 = _DAT_100f1da4;
	puVar5 = PTR_DAT_100f1a54;
	puVar4 = PTR_DAT_100f1a48;
	puVar3 = PTR_DAT_100f194c;
	lVar12 = (longlong)param_8;
	lVar11 = (longlong)param_7;
	lVar10 = (longlong)param_6;
	uVar9 = ZEXT48(PTR_DAT_100f2004);
	iVar13 = 0;
	puVar15 = (uint *)PTR_DAT_100f3944;
	puVar14 = (uint *)PTR_DAT_100f3940;
	while (true) {
		lVar8 = param_1 + (ulonglong)*puVar15;
		if (lVar8 < 0) {
			return 0;
		}
		uVar1 = *puVar14;
		if ((longlong)(param_2 + (ulonglong)uVar1) < 0) {
			return 0;
		}
		if (*(char *)(iVar6 + (int)*(short *)(*(int *)puVar5 + (int)lVar8 * 0xe0 + (int)(param_2 + (ulonglong)uVar1) * 2))
		    != '\0') {
			return 0;
		}
		iVar2 = (int)lVar8 * 0x70;
		if (*(int *)(puVar7 + param_3 * 8 + 4) != (int)*(char *)((int)param_2 + *(int *)puVar4 + iVar2 + uVar1))
			break;
		if (*(char *)((int)param_2 + *(int *)puVar3 + iVar2 + uVar1) != '\0') {
			return 0;
		}
		if (((int)param_4 != -1) && (lVar8 = random(0, param_4, (char)lVar8, (char)uVar1, (char)uVar9, (char)lVar10, (char)lVar11, (char)lVar12, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab), (int)lVar8 == 0)) {
			return 0;
		}
		iVar13 = iVar13 + 1;
		puVar14 = puVar14 + 1;
		puVar15 = puVar15 + 1;
		if (8 < iVar13) {
			return 1;
		}
	}
	return 0;
}

undefined8
FUN_100ae1ac(int param_1, undefined param_2, undefined param_3, undefined param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined4 *puVar1;
	undefined *puVar2;
	ulonglong uVar3;
	undefined8 uVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	longlong lVar9;
	undefined8 unaff_r29;
	longlong lVar10;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffffa8;
	char cStack41;
	undefined4 local_28;
	undefined4 local_14;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar2 = PTR_DAT_100f183c;
	lVar8 = (longlong)param_8;
	lVar7 = (longlong)param_7;
	lVar6 = (longlong)param_6;
	lVar5 = (longlong)param_5;
	uVar3 = ZEXT48(&toc);
	local_14 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	lVar9 = 1;
	local_28 = _DAT_100f44b0;
	do {
		lVar10 = 1;
		do {
			uVar4 = FUN_100ae084(lVar10, lVar9, param_1, (longlong)(&cStack41)[(uint)(byte)*puVar2],
			    (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, in_stack_ffffffa8);
			if ((int)uVar4 != 0) {
				puVar1 = *(undefined4 **)((int)uVar3 + -0x6ec8);
				**(undefined4 **)((int)uVar3 + -0x6ec4) = (int)lVar10;
				*puVar1 = (int)lVar9;
				return 1;
			}
			lVar10 = lVar10 + 1;
		} while ((int)lVar10 < 0x6f);
		lVar9 = lVar9 + 1;
	} while ((int)lVar9 < 0x6f);
	return 0;
}

undefined8 FUN_100ae248(ulonglong param_1)

{
	undefined8 uVar1;

	if ((param_1 & 0xffffffff) < 0x11) {
		// WARNING: Could not recover jumptable at 0x100ae268. Too many branches
		// WARNING: Treating indirect jump as call
		uVar1 = (**(code **)(PTR_PTR_LAB_100f393c + (int)param_1 * 4))(param_1, *(code **)(PTR_PTR_LAB_100f393c + (int)param_1 * 4),
		    ZEXT48(PTR_DAT_100f183c));
		return uVar1;
	}
	return 1;
}

void SpecialThemeFit(undefined8 param_1, ulonglong param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;

	ppuVar1 = &toc;
	FUN_100ae248(param_2);
	if ((param_2 & 0xffffffff) < 0x11) {
		// WARNING: Could not recover jumptable at 0x100ae384. Too many branches
		// WARNING: Treating indirect jump as call
		(**(code **)(ppuVar1[-0x15a6] + (int)param_2 * 4))();
		return;
	}
	return;
}

undefined8 CheckThemeRoom(char param_1)

{
	ulonglong uVar1;
	char *pcVar2;
	char *pcVar3;
	int *piVar4;
	byte *pbVar5;
	char *pcVar6;
	short *psVar7;
	byte *pbVar8;
	short *psVar9;
	int iVar10;
	int iVar11;
	longlong lVar12;

	uVar1 = (ulonglong) * (uint *)PTR_DAT_100f1ed8;
	pcVar2 = *(char **)PTR_DAT_100f1a48;
	piVar4 = (int *)PTR_DAT_100f1edc;
	if (0 < (int)*(uint *)PTR_DAT_100f1ed8) {
		do {
			if (param_1 == pcVar2[*piVar4 * 0x70 + piVar4[1]]) {
				return 0;
			}
			piVar4 = piVar4 + 4;
			uVar1 = uVar1 - 1;
		} while (uVar1 != 0);
	}
	iVar11 = 0;
	pbVar8 = *(byte **)PTR_DAT_100f1834;
	iVar10 = 0;
	pcVar6 = pcVar2;
	do {
		lVar12 = 0x10;
		pbVar5 = pbVar8;
		pcVar3 = pcVar6;
		do {
			if (param_1 == *pcVar3) {
				if ((*pbVar5 & 8) != 0) {
					return 0;
				}
				iVar11 = iVar11 + 1;
			}
			if (param_1 == pcVar3[0x70]) {
				if ((pbVar5[0x70] & 8) != 0) {
					return 0;
				}
				iVar11 = iVar11 + 1;
			}
			if (param_1 == pcVar3[0xe0]) {
				if ((pbVar5[0xe0] & 8) != 0) {
					return 0;
				}
				iVar11 = iVar11 + 1;
			}
			if (param_1 == pcVar3[0x150]) {
				if ((pbVar5[0x150] & 8) != 0) {
					return 0;
				}
				iVar11 = iVar11 + 1;
			}
			if (param_1 == pcVar3[0x1c0]) {
				if ((pbVar5[0x1c0] & 8) != 0) {
					return 0;
				}
				iVar11 = iVar11 + 1;
			}
			if (param_1 == pcVar3[0x230]) {
				if ((pbVar5[0x230] & 8) != 0) {
					return 0;
				}
				iVar11 = iVar11 + 1;
			}
			if (param_1 == pcVar3[0x2a0]) {
				if ((pbVar5[0x2a0] & 8) != 0) {
					return 0;
				}
				iVar11 = iVar11 + 1;
			}
			pcVar3 = pcVar3 + 0x310;
			pbVar5 = pbVar5 + 0x310;
			lVar12 = lVar12 + -1;
		} while (lVar12 != 0);
		iVar10 = iVar10 + 1;
		pbVar8 = pbVar8 + 1;
		pcVar6 = pcVar6 + 1;
	} while (iVar10 < 0x70);
	if ((*PTR_DAT_100f183c == '\x01') && ((iVar11 < 9 || (100 < iVar11)))) {
		return 0;
	}
	iVar10 = 0;
	psVar9 = *(short **)PTR_DAT_100f1a54;
	do {
		lVar12 = 0x38;
		pcVar6 = pcVar2;
		psVar7 = psVar9;
		do {
			if ((param_1 == *pcVar6) && (*(char *)(_DAT_100f1da4 + (int)*psVar7) == '\0')) {
				if ((param_1 != pcVar6[-0x70]) && (*(char *)(_DAT_100f1da4 + (int)psVar7[-0x70]) == '\0')) {
					return 0;
				}
				if ((param_1 != pcVar6[0x70]) && (*(char *)(_DAT_100f1da4 + (int)psVar7[0x70]) == '\0')) {
					return 0;
				}
				if ((param_1 != pcVar6[-1]) && (*(char *)(_DAT_100f1da4 + (int)psVar7[-1]) == '\0')) {
					return 0;
				}
				if ((param_1 != pcVar6[1]) && (*(char *)(_DAT_100f1da4 + (int)psVar7[1]) == '\0')) {
					return 0;
				}
			}
			if ((param_1 == pcVar6[0x70]) && (*(char *)(_DAT_100f1da4 + (int)psVar7[0x70]) == '\0')) {
				if ((param_1 != *pcVar6) && (*(char *)(_DAT_100f1da4 + (int)*psVar7) == '\0')) {
					return 0;
				}
				if ((param_1 != pcVar6[0xe0]) && (*(char *)(_DAT_100f1da4 + (int)psVar7[0xe0]) == '\0')) {
					return 0;
				}
				if ((param_1 != pcVar6[0x6f]) && (*(char *)(_DAT_100f1da4 + (int)psVar7[0x6f]) == '\0')) {
					return 0;
				}
				if ((param_1 != pcVar6[0x71]) && (*(char *)(_DAT_100f1da4 + (int)psVar7[0x71]) == '\0')) {
					return 0;
				}
			}
			pcVar6 = pcVar6 + 0xe0;
			psVar7 = psVar7 + 0xe0;
			lVar12 = lVar12 + -1;
		} while (lVar12 != 0);
		iVar10 = iVar10 + 1;
		psVar9 = psVar9 + 1;
		pcVar2 = pcVar2 + 1;
		if (0x6f < iVar10) {
			return 1;
		}
	} while (true);
}

void InitThemes(undefined param_1, undefined param_2, undefined param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	int iVar7;
	ulonglong uVar8;
	longlong lVar9;
	undefined8 uVar10;
	int iVar12;
	longlong lVar11;
	int iVar13;
	undefined *puVar14;
	ulonglong uVar15;
	longlong lVar16;
	longlong lVar17;
	longlong lVar18;
	longlong lVar19;
	longlong lVar20;
	longlong lVar21;
	undefined *puVar22;
	undefined *puVar23;
	char *pcVar24;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined in_stack_ffffffab;

	iVar7 = _DAT_100f3934;
	pcVar24 = PTR_DAT_100f2004;
	puVar5 = PTR_DAT_100f2000;
	puVar14 = PTR_DAT_100f1fe0;
	puVar3 = PTR_DAT_100f1f28;
	puVar23 = PTR_DAT_100f1d64;
	puVar2 = PTR_DAT_100f1d60;
	puVar22 = PTR_DAT_100f183c;
	lVar20 = (longlong)param_8;
	lVar19 = (longlong)param_7;
	lVar18 = (longlong)param_6;
	lVar17 = (longlong)param_5;
	lVar16 = (longlong)param_4;
	*(undefined4 *)PTR_DAT_100f2000 = 0;
	*(undefined4 *)puVar3 = 0xffffffff;
	puVar4 = PTR_DAT_100f2100;
	*(undefined4 *)puVar14 = 1;
	puVar14 = PTR_DAT_100f20f0;
	*(undefined4 *)puVar4 = 1;
	puVar4 = PTR_DAT_100f20f8;
	*(undefined4 *)puVar14 = 1;
	puVar6 = PTR_DAT_100f20fc;
	*(undefined4 *)puVar4 = 1;
	puVar14 = PTR_DAT_100f20f4;
	*(undefined4 *)puVar6 = 1;
	puVar4 = PTR_DAT_100f20ec;
	*(undefined4 *)puVar14 = 1;
	puVar14 = PTR_DAT_100f20e8;
	*(undefined4 *)puVar4 = 1;
	puVar4 = PTR_DAT_100f1fd8;
	*(undefined4 *)puVar14 = 0;
	puVar14 = PTR_DAT_100f17ec;
	*(undefined4 *)puVar4 = 1;
	puVar4 = PTR_DAT_100f20e4;
	if (*puVar14 != '\x10') {
		if (*puVar22 == '\x01') {
			*(undefined4 *)PTR_DAT_100f20e4 = 0;
			lVar21 = 0;
			*(undefined4 *)(puVar4 + 4) = 0;
			*(undefined4 *)(puVar4 + 8) = 0;
			*(undefined4 *)(puVar4 + 0xc) = 0;
			while (((int)lVar21 < 0x100 && (*(int *)puVar5 < 0x32))) {
				uVar10 = CheckThemeRoom((char)lVar21);
				if ((int)uVar10 != 0) {
					uVar1 = *(int *)puVar5 * 8;
					uVar15 = (ulonglong)uVar1;
					*(int *)(pcVar24 + uVar1 + 4) = (int)lVar21;
					lVar9 = random(0, 4, (char)uVar1, (char)lVar16, (char)lVar17, (char)lVar18, (char)lVar19,
					    (char)lVar20, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
					uVar8 = (ulonglong) * (uint *)(iVar7 + (int)lVar9 * 4);
					while (iVar13 = SpecialThemeFit((ulonglong) * (uint *)puVar5, uVar8, (char)uVar15, (char)lVar16,
					           (char)lVar17, (char)lVar18, (char)lVar19, (char)lVar20,
					           in_stack_ffffff98),
					    iVar13 == 0) {
						uVar8 = random(0, 0x11, (char)uVar15, (char)lVar16, (char)lVar17, (char)lVar18,
						    (char)lVar19, (char)lVar20, in_stack_ffffff98, in_stack_ffffff9f,
						    in_stack_ffffffab);
					}
					pcVar24[*(int *)puVar5 * 8] = (char)uVar8;
					*(int *)puVar5 = *(int *)puVar5 + 1;
				}
				lVar21 = lVar21 + 1;
			}
		}
		if ((byte)(*puVar22 - 2) < 3) {
			iVar13 = *(int *)puVar2;
			lVar21 = 0;
			if (0 < iVar13) {
				if ((8 < iVar13) && (uVar8 = (ulonglong)(iVar13 - 1U >> 3), puVar14 = pcVar24, 0 < iVar13 + -8)) {
					do {
						*puVar14 = 0xff;
						lVar21 = lVar21 + 8;
						puVar14[8] = 0xff;
						puVar14[0x10] = 0xff;
						puVar14[0x18] = 0xff;
						puVar14[0x20] = 0xff;
						puVar14[0x28] = 0xff;
						puVar14[0x30] = 0xff;
						puVar14[0x38] = 0xff;
						puVar14 = puVar14 + 0x40;
						uVar8 = uVar8 - 1;
					} while (uVar8 != 0);
				}
				puVar14 = pcVar24 + (int)lVar21 * 8;
				lVar9 = (ulonglong) * (uint *)puVar2 - lVar21;
				if ((int)lVar21 < (int)*(uint *)puVar2) {
					do {
						*puVar14 = 0xff;
						puVar14 = puVar14 + 8;
						lVar9 = lVar9 + -1;
					} while (lVar9 != 0);
				}
			}
			uVar10 = QuestStatus(3);
			if ((int)uVar10 != 0) {
				lVar9 = 0;
				puVar14 = pcVar24;
				puVar22 = puVar23;
				while (iVar13 = (int)lVar9, iVar13 < *(int *)puVar2) {
					*(undefined4 *)(puVar14 + 4) = *(undefined4 *)(puVar22 + 8);
					iVar12 = SpecialThemeFit(lVar9, 5, (char)lVar21, (char)lVar16, (char)lVar17, (char)lVar18,
					    (char)lVar19, (char)lVar20, in_stack_ffffff98);
					if (iVar12 != 0) {
						pcVar24[iVar13 * 8] = 5;
						*(int *)puVar3 = iVar13;
						break;
					}
					puVar22 = puVar22 + 0x14;
					puVar14 = puVar14 + 8;
					lVar9 = lVar9 + 1;
				}
			}
			lVar9 = 0;
			while ((int)lVar9 < *(int *)puVar2) {
				if (*pcVar24 == -1) {
					*(undefined4 *)(pcVar24 + 4) = *(undefined4 *)(puVar23 + 8);
					lVar11 = random(0, 4, (char)lVar21, (char)lVar16, (char)lVar17, (char)lVar18, (char)lVar19, (char)lVar20, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
					uVar8 = (ulonglong) * (uint *)(iVar7 + (int)lVar11 * 4);
					while (iVar13 = SpecialThemeFit(lVar9, uVar8, (char)lVar21, (char)lVar16, (char)lVar17,
					           (char)lVar18, (char)lVar19, (char)lVar20, in_stack_ffffff98),
					    iVar13 == 0) {
						uVar8 = random(0, 0x11, (char)lVar21, (char)lVar16, (char)lVar17, (char)lVar18,
						    (char)lVar19, (char)lVar20, in_stack_ffffff98, in_stack_ffffff9f,
						    in_stack_ffffffab);
					}
					*pcVar24 = (char)uVar8;
				}
				pcVar24 = pcVar24 + 8;
				puVar23 = puVar23 + 0x14;
				lVar9 = lVar9 + 1;
			}
			*(int *)puVar5 = *(int *)puVar5 + *(int *)puVar2;
		}
	}
	return;
}

void HoldThemeRooms(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	char cVar4;
	int iVar5;
	int iVar6;
	undefined *puVar7;
	int iVar8;
	int iVar9;
	longlong lVar10;

	puVar3 = PTR_DAT_100f2000;
	puVar2 = PTR_DAT_100f1a48;
	puVar1 = PTR_DAT_100f1834;
	if (*PTR_DAT_100f17ec != '\x10') {
		if (*PTR_DAT_100f183c == '\x01') {
			iVar8 = 0;
			puVar7 = PTR_DAT_100f2004;
			while (iVar8 < *(int *)puVar3) {
				iVar9 = 0;
				cVar4 = (char)*(undefined4 *)(puVar7 + 4);
				do {
					lVar10 = 0x10;
					iVar6 = 0;
					do {
						if (cVar4 == *(char *)(iVar9 + *(int *)puVar2 + iVar6)) {
							*(byte *)(iVar9 + *(int *)puVar1 + iVar6) = *(byte *)(iVar9 + *(int *)puVar1 + iVar6) | 8;
						}
						if (cVar4 == *(char *)(iVar9 + *(int *)puVar2 + iVar6 + 0x70)) {
							iVar5 = *(int *)puVar1 + iVar6 + 0x70;
							*(byte *)(iVar9 + iVar5) = *(byte *)(iVar9 + iVar5) | 8;
						}
						if (cVar4 == *(char *)(iVar9 + *(int *)puVar2 + iVar6 + 0xe0)) {
							iVar5 = *(int *)puVar1 + iVar6 + 0xe0;
							*(byte *)(iVar9 + iVar5) = *(byte *)(iVar9 + iVar5) | 8;
						}
						if (cVar4 == *(char *)(iVar9 + *(int *)puVar2 + iVar6 + 0x150)) {
							iVar5 = *(int *)puVar1 + iVar6 + 0x150;
							*(byte *)(iVar9 + iVar5) = *(byte *)(iVar9 + iVar5) | 8;
						}
						if (cVar4 == *(char *)(iVar9 + *(int *)puVar2 + iVar6 + 0x1c0)) {
							iVar5 = *(int *)puVar1 + iVar6 + 0x1c0;
							*(byte *)(iVar9 + iVar5) = *(byte *)(iVar9 + iVar5) | 8;
						}
						if (cVar4 == *(char *)(iVar9 + *(int *)puVar2 + iVar6 + 0x230)) {
							iVar5 = *(int *)puVar1 + iVar6 + 0x230;
							*(byte *)(iVar9 + iVar5) = *(byte *)(iVar9 + iVar5) | 8;
						}
						if (cVar4 == *(char *)(iVar9 + *(int *)puVar2 + iVar6 + 0x2a0)) {
							iVar5 = *(int *)puVar1 + iVar6 + 0x2a0;
							*(byte *)(iVar9 + iVar5) = *(byte *)(iVar9 + iVar5) | 8;
						}
						iVar6 = iVar6 + 0x310;
						lVar10 = lVar10 + -1;
					} while (lVar10 != 0);
					iVar9 = iVar9 + 1;
				} while (iVar9 < 0x70);
				puVar7 = puVar7 + 8;
				iVar8 = iVar8 + 1;
			}
		} else {
			DRLG_HoldThemeRooms();
		}
	}
	return;
}

void FUN_100aedb4(int param_1, longlong param_2, undefined param_3, undefined param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	uint uVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	int iVar7;
	ulonglong uVar8;
	undefined **ppuVar9;
	longlong lVar10;
	int iVar11;
	ulonglong uVar12;
	ulonglong uVar13;
	longlong lVar14;
	longlong lVar15;
	longlong lVar16;
	longlong lVar17;
	undefined8 unaff_r19;
	undefined8 unaff_r20;
	undefined8 unaff_r21;
	undefined8 unaff_r22;
	int iVar18;
	undefined8 unaff_r23;
	undefined8 unaff_r24;
	int iVar19;
	undefined8 unaff_r25;
	int iVar20;
	undefined8 unaff_r26;
	int iVar21;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_fffffdd8;
	undefined in_stack_fffffddf;
	undefined in_stack_fffffdeb;
	uint local_1f8[113];
	undefined4 local_34;
	undefined4 uStack48;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	iVar7 = _DAT_100f1da4;
	puVar6 = PTR_DAT_100f1a54;
	puVar5 = PTR_DAT_100f1a48;
	puVar4 = PTR_DAT_100f194c;
	puVar3 = PTR_DAT_100f1944;
	lVar17 = (longlong)param_8;
	lVar16 = (longlong)param_7;
	lVar15 = (longlong)param_6;
	lVar14 = (longlong)param_5;
	ppuVar9 = &toc;
	local_34 = (undefined4)((ulonglong)unaff_r19 >> 0x20);
	uStack48 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	lVar10 = 0;
	uVar13 = 0;
	uVar8 = (ulonglong) * (uint *)PTR_DAT_100f19b8;
	uVar12 = ZEXT48(PTR_DAT_100f19c0);
	uVar12._7_1_ = SUB41(PTR_DAT_100f19c0, 0);
	if (0 < (int)*(uint *)PTR_DAT_100f19b8) {
		do {
			if ((*(byte *)((int)uVar12 + 1) & 1) != 0) {
				iVar11 = (int)lVar10;
				lVar10 = lVar10 + 1;
				local_1f8[iVar11] = (uint)uVar13;
			}
			uVar12 = uVar12 + 0x208;
			uVar12._7_1_ = (undefined)uVar12;
			uVar13 = uVar13 + 1;
			uVar8 = uVar8 - 1;
		} while (uVar8 != 0);
	}
	lVar10 = random(0, lVar10, (undefined)uVar12, (char)uVar13, param_5, param_6, param_7, param_8,
	    in_stack_fffffdd8, in_stack_fffffddf, in_stack_fffffdeb);
	uVar8 = (ulonglong)(uint)((int)lVar10 * 4);
	puVar1 = ppuVar9[-0x1bf3];
	uVar2 = local_1f8[(int)lVar10];
	iVar11 = 0;
	iVar19 = 0;
	do {
		iVar21 = 0;
		iVar20 = 0;
		iVar18 = 0;
		do {
			if ((int)*(char *)(iVar11 + *(int *)puVar5 + iVar21) == *(int *)(puVar1 + param_1 * 8 + 4)) {
				if (*(char *)(iVar7 + (int)*(short *)(iVar19 + *(int *)puVar6 + iVar20)) == '\0') {
					if (((*(char *)(iVar11 + *(int *)puVar3 + iVar21) == '\0') && (*(char *)(iVar11 + *(int *)puVar4 + iVar21) == '\0')) && (lVar10 = random(0, param_2, (char)uVar8, (char)uVar13, (char)lVar14, (char)lVar15, (char)lVar16, (char)lVar17, in_stack_fffffdd8, in_stack_fffffddf, in_stack_fffffdeb), (int)lVar10 == 0)) {
						uVar8 = random(0, 8, (char)uVar8, (char)uVar13, (char)lVar14, (char)lVar15, (char)lVar16, (char)lVar17, in_stack_fffffdd8, in_stack_fffffddf, in_stack_fffffdeb);
						lVar14 = 1;
						uVar13 = (ulonglong)uVar2;
						FUN_1006b0f8(iVar18, iVar11, (int)uVar8, uVar2, 1, (char)lVar15, (char)lVar16, (char)lVar17,
						    in_stack_fffffdd8);
					}
				}
			}
			iVar18 = iVar18 + 1;
			iVar20 = iVar20 + 0xe0;
			iVar21 = iVar21 + 0x70;
		} while (iVar18 < 0x70);
		iVar11 = iVar11 + 1;
		iVar19 = iVar19 + 2;
	} while (iVar11 < 0x70);
	return;
}

void FUN_100aef28(int param_1, undefined param_2, undefined param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	int iVar4;
	undefined *puVar5;
	longlong lVar6;
	uint uVar7;
	ulonglong uVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	undefined8 unaff_r20;
	undefined8 unaff_r21;
	undefined8 unaff_r22;
	ulonglong uVar14;
	undefined8 unaff_r23;
	int iVar15;
	undefined8 unaff_r24;
	undefined8 unaff_r25;
	int iVar16;
	undefined8 unaff_r26;
	int iVar17;
	undefined8 unaff_r27;
	int iVar18;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined in_stack_ffffffab;
	char cStack57;
	undefined4 local_38;
	uint local_34;
	undefined4 local_30;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar5 = PTR_DAT_100f2004;
	iVar4 = _DAT_100f1da4;
	puVar3 = PTR_DAT_100f1a54;
	puVar2 = PTR_DAT_100f1a48;
	puVar1 = PTR_DAT_100f183c;
	lVar13 = (longlong)param_8;
	lVar12 = (longlong)param_7;
	lVar11 = (longlong)param_6;
	lVar10 = (longlong)param_5;
	lVar9 = (longlong)param_4;
	local_30 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar14 = 0;
	iVar16 = 0;
	uVar8 = (ulonglong)_DAT_100f44b4;
	local_34 = _DAT_100f44b4;
	local_38 = _DAT_100f44b8;
	do {
		iVar18 = 0;
		iVar17 = 0;
		iVar15 = 0;
		do {
			if ((((int)*(char *)((int)uVar14 + *(int *)puVar2 + iVar18) == *(int *)(puVar5 + param_1 * 8 + 4)) && (*(char *)(iVar4 + (int)*(short *)(iVar16 + *(int *)puVar3 + iVar17)) == '\0')) && (lVar6 = random(0, (longlong) * (char *)((int)&local_34 + ((uint)(byte)*puVar1 - 1)), (char)uVar8, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12, (char)lVar13, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab), (int)lVar6 == 0)) {
				lVar6 = random(0, (longlong) * (char *)((int)&local_34 + ((uint)(byte)*puVar1 - 1)),
				    (char)uVar8, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12,
				    (char)lVar13, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab);
				if ((int)lVar6 == 0) {
					uVar7 = 0x39;
				} else {
					uVar7 = 0x3a;
				}
				uVar8 = uVar14;
				AddObject(uVar7, iVar15, (int)uVar14, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12,
				    (char)lVar13, in_stack_ffffff98);
			}
			iVar15 = iVar15 + 1;
			iVar17 = iVar17 + 0xe0;
			iVar18 = iVar18 + 0x70;
		} while (iVar15 < 0x70);
		uVar14 = uVar14 + 1;
		iVar16 = iVar16 + 2;
	} while ((int)uVar14 < 0x70);
	FUN_100aedb4(param_1, (longlong)(&cStack57)[(uint)(byte)*puVar1], (char)uVar8, (char)lVar9,
	    (char)lVar10, (char)lVar11, (char)lVar12, (char)lVar13, in_stack_ffffff98);
	return;
}

void FUN_100af05c(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined4 in_stack_ffffffb8;
	char cStack25;
	undefined4 local_18;

	puVar2 = PTR_DAT_100f210c;
	puVar1 = PTR_DAT_100f2108;
	ppuVar3 = &toc;
	local_18 = _DAT_100f44bc;
	FUN_100adc04(param_1);
	if (*(int *)ppuVar3[-0x1bb3] == 1) {
		AddObject(9, *(int *)puVar2 + -1, *(int *)puVar1, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8);
		AddObject(0x3c, *(int *)puVar2, *(int *)puVar1, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8);
		AddObject(9, *(int *)puVar2 + 1, *(int *)puVar1, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8);
	} else {
		AddObject(9, *(int *)puVar2, *(int *)puVar1 + -1, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8);
		AddObject(0x3b, *(int *)puVar2, *(int *)puVar1, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8);
		AddObject(9, *(int *)puVar2, *(int *)puVar1 + 1, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8);
	}
	FUN_100aedb4(param_1, (longlong)(&cStack25)[(uint)(byte)*ppuVar3[-0x1de5]], (char)ppuVar3[-0x1de5],
	    param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	return;
}

void FUN_100af148(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined **ppuVar2;
	longlong lVar3;
	int iVar4;
	int iVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined1 in_stack_ffffffcb;
	char cStack25;
	undefined4 local_18;

	iVar1 = _DAT_100f1da4;
	ppuVar2 = &toc;
	local_18 = _DAT_100f44c0;
	lVar3 = random(0, 100, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8,
	    in_stack_ffffffbf, in_stack_ffffffcb);
	lVar3 = lVar3 + 1;
	iVar4 = 0;
	uVar8 = (undefined) * (int *)ppuVar2[-0x1d5f];
	iVar5 = 0;
	while (uVar9 = (undefined)lVar3, 0 < (int)lVar3) {
		if (((int)*(char *)(*(int *)ppuVar2[-0x1d62] + iVar4 * 0x70 + iVar5) == *(int *)(ppuVar2[-0x1bf3] + param_1 * 8 + 4)) && (*(char *)(iVar1 + (int)*(short *)(*(int *)ppuVar2[-0x1d5f] + iVar4 * 0xe0 + iVar5 * 2)) == '\0')) {
			lVar3 = lVar3 + -1;
		}
		if ((0 < (int)lVar3) && (iVar4 = iVar4 + 1, iVar4 == 0x70)) {
			iVar5 = iVar5 + 1;
			iVar4 = 0;
			if (iVar5 == 0x70) {
				iVar5 = 0;
			}
		}
	}
	uVar6 = 0;
	uVar7 = 1;
	FUN_1004f860(iVar4, iVar5, 1, 0, 1, uVar8, uVar9, param_8, in_stack_ffffffb8);
	FUN_10053cd4();
	FUN_100aedb4(param_1, (longlong)(&cStack25)[(uint)(byte)*ppuVar2[-0x1de5]], (char)ppuVar2[-0x1de5],
	    uVar6, uVar7, uVar8, uVar9, param_8, in_stack_ffffffb8);
	return;
}

void FUN_100af258(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	uint uVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	longlong lVar6;
	ulonglong uVar7;
	undefined8 uVar8;
	undefined uVar9;
	char cVar10;
	undefined uVar11;
	undefined uVar12;
	undefined uVar13;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	ulonglong uVar14;
	undefined8 unaff_r31;
	ulonglong uVar15;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined in_stack_ffffffbb;
	char cStack41;
	undefined4 local_28;
	undefined4 local_14;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar4 = PTR_DAT_100f194c;
	puVar3 = PTR_DAT_100f183c;
	ppuVar5 = &toc;
	local_14 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	local_28 = _DAT_100f44c4;
	FUN_100adf44(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	uVar1 = *(uint *)ppuVar5[-0x1bb1];
	uVar15 = (ulonglong)uVar1;
	uVar2 = *(uint *)ppuVar5[-0x1bb2];
	uVar14 = (ulonglong)uVar2;
	uVar13 = (undefined)uVar2;
	uVar9 = uVar13;
	AddObject(3, uVar1, uVar2, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	cVar10 = (&cStack41)[(uint)(byte)*puVar3];
	lVar6 = random(0, (longlong)cVar10, uVar9, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
	if ((int)lVar6 == 0) {
		uVar11 = (undefined)(uVar15 - 1);
		uVar12 = (undefined)(uVar14 - 1);
		uVar9 = AddObject(0xb, (int)(uVar15 - 1), (int)(uVar14 - 1), param_4, param_5, param_6, param_7,
		    param_8, in_stack_ffffffa8);
	} else {
		uVar7 = FUN_100767dc((char)lVar6, cVar10, uVar9, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8);
		uVar11 = (undefined)(uVar15 - 1);
		uVar12 = (undefined)(uVar14 - 1);
		uVar8 = FUN_10076640((int)uVar7, uVar15 - 1, (int)(uVar14 - 1), param_4, param_5, param_6, param_7,
		    param_8, in_stack_ffffffa8);
		uVar9 = (undefined)uVar8;
	}
	uVar7 = FUN_100767dc(uVar9, uVar11, uVar12, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	uVar9 = (undefined)(uVar14 - 1);
	FUN_10076640((int)uVar7, uVar15, (int)(uVar14 - 1), param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	cVar10 = (&cStack41)[(uint)(byte)*puVar3];
	lVar6 = random(0, (longlong)cVar10, uVar9, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
	if ((int)lVar6 == 0) {
		uVar9 = (undefined)(uVar14 - 1);
		AddObject(0xd, uVar1 + 1, (int)(uVar14 - 1), param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8);
	} else {
		uVar7 = FUN_100767dc((char)lVar6, cVar10, uVar9, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8);
		uVar9 = (undefined)(uVar14 - 1);
		FUN_10076640((int)uVar7, uVar15 + 1, (int)(uVar14 - 1), param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8);
	}
	cVar10 = (&cStack41)[(uint)(byte)*puVar3];
	lVar6 = random(0, (longlong)cVar10, uVar9, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
	if ((int)lVar6 == 0) {
		uVar9 = uVar13;
		AddObject(0xc, uVar1 - 1, uVar2, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	} else {
		uVar7 = FUN_100767dc((char)lVar6, cVar10, uVar9, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8);
		uVar9 = uVar13;
		FUN_10076640((int)uVar7, uVar15 - 1, uVar2, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8);
	}
	cVar10 = (&cStack41)[(uint)(byte)*puVar3];
	lVar6 = random(0, (longlong)cVar10, uVar9, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
	if ((int)lVar6 == 0) {
		AddObject(0xc, uVar1 + 1, uVar2, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	} else {
		uVar7 = FUN_100767dc((char)lVar6, cVar10, uVar9, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8);
		FUN_10076640((int)uVar7, uVar15 + 1, uVar2, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8);
	}
	cVar10 = (&cStack41)[(uint)(byte)*puVar3];
	lVar6 = random(0, (longlong)cVar10, uVar13, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
	if ((int)lVar6 == 0) {
		uVar13 = (undefined)(uVar15 - 1);
		uVar11 = (undefined)(uVar14 + 1);
		uVar9 = AddObject(0xd, (int)(uVar15 - 1), (int)(uVar14 + 1), param_4, param_5, param_6, param_7,
		    param_8, in_stack_ffffffa8);
	} else {
		uVar7 = FUN_100767dc((char)lVar6, cVar10, uVar13, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8);
		uVar13 = (undefined)(uVar15 - 1);
		uVar11 = (undefined)(uVar14 + 1);
		uVar8 = FUN_10076640((int)uVar7, uVar15 - 1, (int)(uVar14 + 1), param_4, param_5, param_6, param_7,
		    param_8, in_stack_ffffffa8);
		uVar9 = (undefined)uVar8;
	}
	uVar7 = FUN_100767dc(uVar9, uVar13, uVar11, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	uVar9 = (undefined)(uVar14 + 1);
	FUN_10076640((int)uVar7, uVar15, (int)(uVar14 + 1), param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	cVar10 = (&cStack41)[(uint)(byte)*puVar3];
	lVar6 = random(0, (longlong)cVar10, uVar9, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbb);
	if ((int)lVar6 == 0) {
		AddObject(0xb, uVar1 + 1, uVar2 + 1, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	} else {
		uVar14 = FUN_100767dc((char)lVar6, cVar10, uVar9, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8);
		FUN_10076640((int)uVar14, uVar15 + 1, uVar2 + 1, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffa8);
	}
	if (*(char *)(*(int *)puVar4 + uVar1 * 0x70 + uVar2 + -3) == '\0') {
		AddObject(0x3d, uVar1, uVar2 - 2, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	}
	if (*(char *)(*(int *)puVar4 + uVar1 * 0x70 + uVar2 + 3) == '\0') {
		AddObject(0x3d, uVar1, uVar2 + 2, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	}
	return;
}

void FUN_100af4a8(int param_1, undefined param_2, char param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	byte bVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	int iVar7;
	undefined **ppuVar8;
	longlong lVar9;
	ulonglong uVar10;
	int iVar11;
	ulonglong uVar12;
	longlong lVar13;
	longlong lVar14;
	longlong lVar15;
	longlong lVar16;
	longlong lVar17;
	undefined8 unaff_r18;
	undefined8 unaff_r19;
	int iVar18;
	undefined8 unaff_r20;
	int iVar19;
	undefined8 unaff_r21;
	undefined8 unaff_r22;
	int iVar20;
	undefined8 unaff_r23;
	int iVar21;
	undefined8 unaff_r24;
	int iVar22;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	int iVar23;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;
	undefined in_stack_ffffff9b;
	char cStack69;
	undefined4 local_44;
	undefined4 local_40[2];
	undefined4 local_38;
	undefined4 uStack52;
	undefined4 uStack48;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	iVar7 = _DAT_100f1da4;
	puVar6 = PTR_DAT_100f1a54;
	puVar5 = PTR_DAT_100f1a48;
	puVar4 = PTR_DAT_100f1940;
	puVar3 = PTR_DAT_100f183c;
	lVar17 = (longlong)param_8;
	lVar16 = (longlong)param_7;
	lVar15 = (longlong)param_6;
	lVar14 = (longlong)param_5;
	lVar13 = (longlong)param_4;
	uVar12 = SEXT18(param_3);
	ppuVar8 = &toc;
	local_38 = (undefined4)((ulonglong)unaff_r18 >> 0x20);
	uStack52 = (undefined4)((ulonglong)unaff_r19 >> 0x20);
	uStack48 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	local_40[0] = _DAT_100f44c8;
	local_44 = _DAT_100f44cc;
	GetRndSeed((char)param_1, (char)_DAT_100f44c8, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffff88);
	puVar2 = ppuVar8[-0x1bf3];
	iVar18 = 0;
	iVar20 = 0;
	do {
		iVar22 = 0;
		iVar21 = 0;
		iVar19 = 0;
		do {
			if (((int)*(char *)(iVar18 + *(int *)puVar5 + iVar22) == *(int *)(puVar2 + param_1 * 8 + 4))
			    && (*(char *)(iVar7 + (int)*(short *)(iVar20 + *(int *)puVar6 + iVar21)) == '\0')) {
				lVar9 = random(0, (longlong) * (char *)((int)local_40 + ((uint)(byte)*puVar3 - 1)),
				    (char)uVar12, (char)lVar13, (char)lVar14, (char)lVar15, (char)lVar16,
				    (char)lVar17, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff9b);
				uVar10 = random(0, (longlong) * (char *)((int)local_40 + ((uint)(byte)*puVar3 - 1)),
				    (char)uVar12, (char)lVar13, (char)lVar14, (char)lVar15, (char)lVar16,
				    (char)lVar17, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff9b);
				if ((uVar10 & 0x7fffffff) == 0) {
					uVar12 = 0;
					lVar13 = 0xb;
					lVar14 = 0;
					lVar15 = 0;
					lVar16 = 1;
					FUN_1004fac4(iVar19, iVar18, 0, 0xb, 0, 0, 1, (char)lVar17, in_stack_ffffff88);
					FUN_10053cd4();
				}
				iVar23 = (int)lVar9;
				if (iVar23 == 0) {
					lVar13 = 0;
					lVar14 = 1;
					FUN_1004f860(iVar19, iVar18, 0, 0, 1, (char)lVar15, (char)lVar16, (char)lVar17, in_stack_ffffff88);
					FUN_10053cd4();
				} else {
					if (iVar23 < (int)*(char *)((int)local_40 + ((uint)(byte)*puVar3 - 1)) + -2)
						goto LAB_100af624;
				}
				iVar11 = FUN_10053cd4();
				bVar1 = *puVar3;
				uVar12 = (ulonglong)bVar1;
				if (((int)*(char *)((int)local_40 + ((uint)bVar1 - 1)) + -2 <= iVar23) && (bVar1 != 1)) {
					*(int *)(puVar4 + iVar11 * 0x170 + 0xc4) = *(int *)(puVar4 + iVar11 * 0x170 + 0xc4) >> 1;
				}
			}
		LAB_100af624:
			iVar19 = iVar19 + 1;
			iVar21 = iVar21 + 0xe0;
			iVar22 = iVar22 + 0x70;
		} while (iVar19 < 0x70);
		iVar18 = iVar18 + 1;
		iVar20 = iVar20 + 2;
		if (0x6f < iVar18) {
			FUN_100aedb4(param_1, (longlong)(&cStack69)[(uint)(byte)*puVar3], (char)uVar12, (char)lVar13,
			    (char)lVar14, (char)lVar15, (char)lVar16, (char)lVar17, in_stack_ffffff88);
			return;
		}
	} while (true);
}

void FUN_100af674(int param_1, undefined param_2, undefined param_3, undefined param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	ulonglong uVar6;
	int iVar7;
	undefined8 uVar8;
	longlong lVar9;
	undefined uVar10;
	undefined uVar11;
	longlong lVar12;
	undefined uVar13;
	longlong lVar14;
	undefined uVar15;
	longlong lVar16;
	undefined uVar17;
	longlong lVar18;
	undefined uVar19;
	undefined8 unaff_r21;
	undefined8 unaff_r22;
	longlong lVar20;
	undefined8 unaff_r23;
	longlong lVar21;
	undefined8 unaff_r24;
	int iVar22;
	undefined8 unaff_r25;
	int iVar23;
	undefined8 unaff_r26;
	int iVar24;
	undefined8 unaff_r27;
	ulonglong uVar25;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;
	undefined in_stack_ffffff9b;
	undefined4 local_48;
	undefined4 local_44[6];
	undefined4 local_2c;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar5 = PTR_DAT_100f210c;
	puVar4 = PTR_DAT_100f2108;
	puVar3 = PTR_DAT_100f1954;
	puVar2 = PTR_DAT_100f194c;
	puVar1 = PTR_DAT_100f183c;
	lVar18 = (longlong)param_8;
	lVar16 = (longlong)param_7;
	lVar14 = (longlong)param_6;
	lVar12 = (longlong)param_5;
	uVar6 = ZEXT48(&toc);
	local_2c = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar25 = ZEXT48(PTR_DAT_100f1948);
	local_44[0] = _DAT_100f44d0;
	local_48 = _DAT_100f44d4;
	FUN_100adc04(param_1);
	if (**(int **)((int)uVar6 + -0x6ecc) == 1) {
		AddObject(0x41, *(int *)puVar5 + -1, *(int *)puVar4, param_4, (char)lVar12, (char)lVar14,
		    (char)lVar16, (char)lVar18, in_stack_ffffff88);
		AddObject(0x3f, *(int *)puVar5, *(int *)puVar4, param_4, (char)lVar12, (char)lVar14, (char)lVar16,
		    (char)lVar18, in_stack_ffffff88);
		AddObject(0x41, *(int *)puVar5 + 1, *(int *)puVar4, param_4, (char)lVar12, (char)lVar14,
		    (char)lVar16, (char)lVar18, in_stack_ffffff88);
	} else {
		AddObject(0x41, *(int *)puVar5, *(int *)puVar4 + -1, param_4, (char)lVar12, (char)lVar14,
		    (char)lVar16, (char)lVar18, in_stack_ffffff88);
		AddObject(0x3e, *(int *)puVar5, *(int *)puVar4, param_4, (char)lVar12, (char)lVar14, (char)lVar16,
		    (char)lVar18, in_stack_ffffff88);
		AddObject(0x41, *(int *)puVar5, *(int *)puVar4 + 1, param_4, (char)lVar12, (char)lVar14,
		    (char)lVar16, (char)lVar18, in_stack_ffffff88);
	}
	lVar20 = 1;
	iVar22 = 2;
	do {
		lVar21 = 1;
		iVar24 = 0xe0;
		iVar23 = 0x70;
		do {
			uVar11 = 0xff;
			uVar10 = (char)param_1;
			uVar8 = FUN_100ae084(lVar21, lVar20, param_1, -1, (char)lVar12, (char)lVar14, (char)lVar16,
			    (char)lVar18, in_stack_ffffff88);
			if ((((int)uVar8 != 0) && (*(short *)(iVar22 + *(int *)puVar3 + iVar24) == 0)) && (lVar9 = random(0, (longlong) * (char *)((int)local_44 + ((uint)(byte)*puVar1 - 1)), uVar10, uVar11, (char)lVar12, (char)lVar14, (char)lVar16, (char)lVar18, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff9b), (int)lVar9 == 0)) {
				uVar10 = (char)lVar20;
				AddObject(0x40, (int)lVar21, (int)lVar20, uVar11, (char)lVar12, (char)lVar14, (char)lVar16,
				    (char)lVar18, in_stack_ffffff88);
				lVar9 = random(0, (ulonglong)(uint)((int)*(char *)((int)local_44 + ((uint)(byte)*puVar1 - 1)) << 1), uVar10, uVar11, (char)lVar12, (char)lVar14, (char)lVar16,
				    (char)lVar18, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff9b);
				if ((int)lVar9 != 0) {
					lVar9 = uVar25 + ((longlong) * (char *)((int)lVar20 + *(int *)puVar2 + iVar23) + -1) * 0x78;
					uVar10 = (undefined)lVar9;
					iVar7 = (int)lVar9;
					*(undefined *)(iVar7 + 0x40) = 0;
					*(int *)(iVar7 + 0x24) = *(int *)(iVar7 + 0x24) + 2;
				}
			}
			uVar19 = (undefined)lVar18;
			uVar17 = (undefined)lVar16;
			uVar15 = (undefined)lVar14;
			uVar13 = (undefined)lVar12;
			iVar7 = (int)uVar6;
			lVar21 = lVar21 + 1;
			iVar23 = iVar23 + 0x70;
			iVar24 = iVar24 + 0xe0;
		} while ((int)lVar21 < 0x6f);
		lVar20 = lVar20 + 1;
		iVar22 = iVar22 + 2;
	} while ((int)lVar20 < 0x6f);
	uVar8 = QuestStatus(3);
	if ((int)uVar8 == 0) {
		FUN_100aedb4(param_1, (longlong) * (char *)((int)&local_48 + (uint)(byte)*puVar1), uVar10, uVar11,
		    uVar13, uVar15, uVar17, uVar19, in_stack_ffffff88);
	} else {
		if (param_1 != **(int **)(iVar7 + -0x70a8)) {
			FUN_100aedb4(param_1, (longlong) * (char *)((int)&local_48 + (uint)(byte)*puVar1), uVar10, uVar11,
			    uVar13, uVar15, uVar17, uVar19, in_stack_ffffff88);
		}
	}
	return;
}

void FUN_100af890(int param_1, undefined param_2, undefined param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	int iVar4;
	undefined *puVar5;
	undefined8 uVar6;
	longlong lVar7;
	ulonglong uVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	undefined8 unaff_r20;
	undefined8 unaff_r21;
	undefined8 unaff_r22;
	ulonglong uVar14;
	undefined8 unaff_r23;
	longlong lVar15;
	undefined8 unaff_r24;
	undefined8 unaff_r25;
	int iVar16;
	undefined8 unaff_r26;
	int iVar17;
	undefined8 unaff_r27;
	int iVar18;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined in_stack_ffffffab;
	char cStack57;
	undefined4 local_38;
	uint local_34;
	undefined4 local_30;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar5 = PTR_DAT_100f2004;
	iVar4 = _DAT_100f1da4;
	puVar3 = PTR_DAT_100f1a54;
	puVar2 = PTR_DAT_100f1a48;
	puVar1 = PTR_DAT_100f183c;
	lVar13 = (longlong)param_8;
	lVar12 = (longlong)param_7;
	lVar11 = (longlong)param_6;
	lVar10 = (longlong)param_5;
	lVar9 = (longlong)param_4;
	local_30 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar14 = 1;
	iVar16 = 2;
	uVar8 = (ulonglong)_DAT_100f44d8;
	local_34 = _DAT_100f44d8;
	local_38 = _DAT_100f44dc;
	do {
		lVar15 = 1;
		iVar18 = 0x70;
		iVar17 = 0xe0;
		do {
			if (((int)*(char *)((int)uVar14 + *(int *)puVar2 + iVar18) == *(int *)(puVar5 + param_1 * 8 + 4)) && (*(char *)(iVar4 + (int)*(short *)(iVar16 + *(int *)puVar3 + iVar17)) == '\0')) {
				lVar9 = -1;
				uVar8 = (longlong)param_1;
				uVar6 = FUN_100ae084(lVar15, uVar14, param_1, -1, (char)lVar10, (char)lVar11, (char)lVar12,
				    (char)lVar13, in_stack_ffffff98);
				if (((int)uVar6 != 0) && (lVar7 = random(0, (longlong) * (char *)((int)&local_38 + (uint)(byte)*puVar1 + 3), (char)uVar8, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12, (char)lVar13, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab), (int)lVar7 == 0)) {
					uVar8 = uVar14;
					AddObject(0x1e, (int)lVar15, (int)uVar14, (char)lVar9, (char)lVar10, (char)lVar11,
					    (char)lVar12, (char)lVar13, in_stack_ffffff98);
				}
			}
			lVar15 = lVar15 + 1;
			iVar17 = iVar17 + 0xe0;
			iVar18 = iVar18 + 0x70;
		} while ((int)lVar15 < 0x6f);
		uVar14 = uVar14 + 1;
		iVar16 = iVar16 + 2;
	} while ((int)uVar14 < 0x6f);
	FUN_100aedb4(param_1, (longlong)(&cStack57)[(uint)(byte)*puVar1], (char)uVar8, (char)lVar9,
	    (char)lVar10, (char)lVar11, (char)lVar12, (char)lVar13, in_stack_ffffff98);
	return;
}

void FUN_100af9b8(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 in_stack_ffffffb8;
	char cStack25;
	undefined4 local_18;

	ppuVar1 = &toc;
	local_18 = _DAT_100f44e0;
	FUN_100addbc(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	AddObject(0x42, *(int *)ppuVar1[-0x1bb1], *(int *)ppuVar1[-0x1bb2], param_4, param_5, param_6,
	    param_7, param_8, in_stack_ffffffb8);
	FUN_100aedb4(param_1, (longlong)(&cStack25)[(uint)(byte)*ppuVar1[-0x1de5]], (char)ppuVar1[-0x1de5],
	    param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	return;
}

void FUN_100afa20(int param_1, undefined param_2, undefined param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	int iVar4;
	undefined *puVar5;
	undefined8 uVar6;
	longlong lVar7;
	ulonglong uVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	undefined8 unaff_r20;
	undefined8 unaff_r21;
	undefined8 unaff_r22;
	ulonglong uVar14;
	undefined8 unaff_r23;
	longlong lVar15;
	undefined8 unaff_r24;
	undefined8 unaff_r25;
	int iVar16;
	undefined8 unaff_r26;
	int iVar17;
	undefined8 unaff_r27;
	int iVar18;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined in_stack_ffffffab;
	char cStack57;
	undefined4 local_38;
	uint local_34;
	undefined4 local_30;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar5 = PTR_DAT_100f2004;
	iVar4 = _DAT_100f1da4;
	puVar3 = PTR_DAT_100f1a54;
	puVar2 = PTR_DAT_100f1a48;
	puVar1 = PTR_DAT_100f183c;
	lVar13 = (longlong)param_8;
	lVar12 = (longlong)param_7;
	lVar11 = (longlong)param_6;
	lVar10 = (longlong)param_5;
	lVar9 = (longlong)param_4;
	local_30 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar14 = 1;
	iVar16 = 2;
	uVar8 = (ulonglong)_DAT_100f44e4;
	local_34 = _DAT_100f44e4;
	local_38 = _DAT_100f44e8;
	do {
		lVar15 = 1;
		iVar18 = 0x70;
		iVar17 = 0xe0;
		do {
			if (((int)*(char *)((int)uVar14 + *(int *)puVar2 + iVar18) == *(int *)(puVar5 + param_1 * 8 + 4)) && (*(char *)(iVar4 + (int)*(short *)(iVar16 + *(int *)puVar3 + iVar17)) == '\0')) {
				lVar9 = -1;
				uVar8 = (longlong)param_1;
				uVar6 = FUN_100ae084(lVar15, uVar14, param_1, -1, (char)lVar10, (char)lVar11, (char)lVar12,
				    (char)lVar13, in_stack_ffffff98);
				if (((int)uVar6 != 0) && (lVar7 = random(0, (longlong) * (char *)((int)&local_38 + (uint)(byte)*puVar1 + 3), (char)uVar8, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12, (char)lVar13, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab), (int)lVar7 == 0)) {
					uVar8 = uVar14;
					AddObject(0x43, (int)lVar15, (int)uVar14, (char)lVar9, (char)lVar10, (char)lVar11,
					    (char)lVar12, (char)lVar13, in_stack_ffffff98);
				}
			}
			lVar15 = lVar15 + 1;
			iVar17 = iVar17 + 0xe0;
			iVar18 = iVar18 + 0x70;
		} while ((int)lVar15 < 0x6f);
		uVar14 = uVar14 + 1;
		iVar16 = iVar16 + 2;
	} while ((int)uVar14 < 0x6f);
	FUN_100aedb4(param_1, (longlong)(&cStack57)[(uint)(byte)*puVar1], (char)uVar8, (char)lVar9,
	    (char)lVar10, (char)lVar11, (char)lVar12, (char)lVar13, in_stack_ffffff98);
	return;
}

void FUN_100afb48(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 in_stack_ffffffb8;
	char cStack25;
	undefined4 local_18;

	ppuVar1 = &toc;
	local_18 = _DAT_100f44ec;
	FUN_100addbc(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	AddObject(0x4c, *(int *)ppuVar1[-0x1bb1], *(int *)ppuVar1[-0x1bb2], param_4, param_5, param_6,
	    param_7, param_8, in_stack_ffffffb8);
	FUN_100aedb4(param_1, (longlong)(&cStack25)[(uint)(byte)*ppuVar1[-0x1de5]], (char)ppuVar1[-0x1de5],
	    param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	return;
}

void FUN_100afbb0(int param_1, undefined param_2, char param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	int iVar5;
	undefined *puVar6;
	undefined **ppuVar7;
	undefined8 uVar8;
	longlong lVar9;
	ulonglong uVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	longlong lVar14;
	longlong lVar15;
	undefined8 unaff_r19;
	undefined8 unaff_r20;
	undefined8 unaff_r21;
	ulonglong uVar16;
	undefined8 unaff_r22;
	longlong lVar17;
	undefined8 unaff_r23;
	undefined8 unaff_r24;
	int iVar18;
	undefined8 unaff_r25;
	int iVar19;
	undefined8 unaff_r26;
	int iVar20;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;
	undefined in_stack_ffffff9b;
	char cStack73;
	undefined4 local_48;
	undefined4 local_44;
	undefined4 local_34;
	undefined4 uStack48;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar6 = PTR_DAT_100f1fe0;
	iVar5 = _DAT_100f1da4;
	puVar4 = PTR_DAT_100f1a54;
	puVar3 = PTR_DAT_100f1a48;
	puVar2 = PTR_DAT_100f183c;
	lVar15 = (longlong)param_8;
	lVar14 = (longlong)param_7;
	lVar13 = (longlong)param_6;
	lVar12 = (longlong)param_5;
	lVar11 = (longlong)param_4;
	uVar10 = SEXT18(param_3);
	ppuVar7 = &toc;
	local_34 = (undefined4)((ulonglong)unaff_r19 >> 0x20);
	uStack48 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	local_44 = _DAT_100f44f0;
	local_48 = _DAT_100f44f4;
	if (*(int *)PTR_DAT_100f1fe0 != 0) {
		ppuVar7 = &toc;
		FUN_100ae1ac(param_1, (char)_DAT_100f44f0, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffff88);
		uVar10 = (ulonglong) * (uint *)ppuVar7[-0x1bb2];
		AddObject(0x4d, *(int *)ppuVar7[-0x1bb1], *(uint *)ppuVar7[-0x1bb2], (char)lVar11, (char)lVar12,
		    (char)lVar13, (char)lVar14, (char)lVar15, in_stack_ffffff88);
	}
	puVar1 = ppuVar7[-0x1bf3];
	uVar16 = 0;
	iVar18 = 0;
	do {
		iVar20 = 0;
		iVar19 = 0;
		lVar17 = 0;
		do {
			if (((int)*(char *)((int)uVar16 + *(int *)puVar3 + iVar20) == *(int *)(puVar1 + param_1 * 8 + 4)) && (*(char *)(iVar5 + (int)*(short *)(iVar18 + *(int *)puVar4 + iVar19)) == '\0')) {
				lVar11 = -1;
				uVar10 = (longlong)param_1;
				uVar8 = FUN_100ae084(lVar17, uVar16, param_1, -1, (char)lVar12, (char)lVar13, (char)lVar14,
				    (char)lVar15, in_stack_ffffff88);
				if (((int)uVar8 != 0) && (lVar9 = random(0, (longlong) * (char *)((int)&local_48 + (uint)(byte)*puVar2 + 3), (char)uVar10, (char)lVar11, (char)lVar12, (char)lVar13, (char)lVar14, (char)lVar15, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff9b), (int)lVar9 == 0)) {
					uVar10 = uVar16;
					AddObject(0x4e, (int)lVar17, (int)uVar16, (char)lVar11, (char)lVar12, (char)lVar13,
					    (char)lVar14, (char)lVar15, in_stack_ffffff88);
				}
			}
			lVar17 = lVar17 + 1;
			iVar19 = iVar19 + 0xe0;
			iVar20 = iVar20 + 0x70;
		} while ((int)lVar17 < 0x70);
		uVar16 = uVar16 + 1;
		iVar18 = iVar18 + 2;
	} while ((int)uVar16 < 0x70);
	FUN_100aedb4(param_1, (longlong)(&cStack73)[(uint)(byte)*puVar2], (char)uVar10, (char)lVar11,
	    (char)lVar12, (char)lVar13, (char)lVar14, (char)lVar15, in_stack_ffffff88);
	*(undefined4 *)puVar6 = 0;
	return;
}

void FUN_100afd10(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	int iVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined **ppuVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	int iVar12;
	int iVar13;
	int iVar14;
	int iVar15;
	int iVar16;
	undefined4 in_stack_ffffff98;

	puVar7 = PTR_DAT_100f210c;
	puVar6 = PTR_DAT_100f2108;
	puVar5 = PTR_DAT_100f2104;
	iVar4 = _DAT_100f1da4;
	puVar3 = PTR_DAT_100f1a54;
	puVar2 = PTR_DAT_100f1a48;
	lVar11 = (longlong)param_8;
	lVar10 = (longlong)param_7;
	lVar9 = (longlong)param_6;
	ppuVar8 = &toc;
	FUN_100adff0(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff98);
	AddObject(0x4f, *(int *)puVar7, *(int *)puVar6, param_4, param_5, (char)lVar9, (char)lVar10,
	    (char)lVar11, in_stack_ffffff98);
	puVar1 = ppuVar8[-0x1bf3];
	iVar12 = *(int *)puVar6 + -1;
	iVar14 = iVar12 * 2;
	while (iVar12 <= *(int *)puVar6 + 1) {
		iVar13 = *(int *)puVar7 + -1;
		iVar16 = iVar13 * 0x70;
		iVar15 = iVar13 * 0xe0;
		while (iVar13 <= *(int *)puVar7 + 1) {
			if ((((int)*(char *)(iVar12 + *(int *)puVar2 + iVar16) == *(int *)(puVar1 + param_1 * 8 + 4))
			        && (*(char *)(iVar4 + (int)*(short *)(iVar14 + *(int *)puVar3 + iVar15)) == '\0'))
			    && ((iVar13 != *(int *)puVar7 || (iVar12 != *(int *)puVar6)))) {
				FUN_1006b0f8(iVar13, iVar12, 1, *(int *)puVar5, 1, (char)lVar9, (char)lVar10, (char)lVar11,
				    in_stack_ffffff98);
			}
			iVar16 = iVar16 + 0x70;
			iVar15 = iVar15 + 0xe0;
			iVar13 = iVar13 + 1;
		}
		iVar14 = iVar14 + 2;
		iVar12 = iVar12 + 1;
	}
	return;
}

void FUN_100afe2c(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 in_stack_ffffffb8;
	char cStack25;
	undefined4 local_18;

	ppuVar1 = &toc;
	local_18 = _DAT_100f44f8;
	FUN_100addbc(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	AddObject(0x50, *(int *)ppuVar1[-0x1bb1], *(int *)ppuVar1[-0x1bb2], param_4, param_5, param_6,
	    param_7, param_8, in_stack_ffffffb8);
	FUN_100aedb4(param_1, (longlong)(&cStack25)[(uint)(byte)*ppuVar1[-0x1de5]], (char)ppuVar1[-0x1de5],
	    param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	return;
}

void FUN_100afe94(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 in_stack_ffffffb8;
	char cStack25;
	undefined4 local_18;

	ppuVar1 = &toc;
	local_18 = _DAT_100f44fc;
	FUN_100addbc(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	AddObject(0x51, *(int *)ppuVar1[-0x1bb1], *(int *)ppuVar1[-0x1bb2], param_4, param_5, param_6,
	    param_7, param_8, in_stack_ffffffb8);
	FUN_100aedb4(param_1, (longlong)(&cStack25)[(uint)(byte)*ppuVar1[-0x1de5]], (char)ppuVar1[-0x1de5],
	    param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	return;
}

void FUN_100afefc(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 in_stack_ffffffb8;
	char cStack25;
	undefined4 local_18;

	ppuVar1 = &toc;
	local_18 = _DAT_100f4500;
	FUN_100addbc(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	AddObject(0x52, *(int *)ppuVar1[-0x1bb1], *(int *)ppuVar1[-0x1bb2], param_4, param_5, param_6,
	    param_7, param_8, in_stack_ffffffb8);
	FUN_100aedb4(param_1, (longlong)(&cStack25)[(uint)(byte)*ppuVar1[-0x1de5]], (char)ppuVar1[-0x1de5],
	    param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	return;
}

void FUN_100aff64(int param_1, undefined param_2, undefined param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	int iVar4;
	undefined *puVar5;
	ulonglong uVar6;
	int iVar7;
	undefined8 uVar8;
	longlong lVar9;
	ulonglong uVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	longlong lVar14;
	longlong lVar15;
	undefined8 unaff_r20;
	undefined8 unaff_r21;
	undefined8 unaff_r22;
	ulonglong uVar16;
	undefined8 unaff_r23;
	longlong lVar17;
	undefined8 unaff_r24;
	undefined8 unaff_r25;
	int iVar18;
	undefined8 unaff_r26;
	int iVar19;
	undefined8 unaff_r27;
	int iVar20;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined in_stack_ffffffab;
	char cStack57;
	undefined4 local_38;
	uint local_34;
	undefined4 local_30;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar5 = PTR_DAT_100f2004;
	iVar4 = _DAT_100f1da4;
	puVar3 = PTR_DAT_100f1a54;
	puVar2 = PTR_DAT_100f1a48;
	puVar1 = PTR_DAT_100f183c;
	lVar15 = (longlong)param_8;
	lVar14 = (longlong)param_7;
	lVar13 = (longlong)param_6;
	lVar12 = (longlong)param_5;
	lVar11 = (longlong)param_4;
	uVar6 = ZEXT48(&toc);
	local_30 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar16 = 0;
	iVar18 = 0;
	uVar10 = (ulonglong)_DAT_100f4504;
	local_34 = _DAT_100f4504;
	local_38 = _DAT_100f4508;
	do {
		iVar20 = 0;
		iVar19 = 0;
		lVar17 = 0;
		do {
			if (((int)*(char *)((int)uVar16 + *(int *)puVar2 + iVar20) == *(int *)(puVar5 + param_1 * 8 + 4)) && (*(char *)(iVar4 + (int)*(short *)(iVar18 + *(int *)puVar3 + iVar19)) == '\0')) {
				lVar11 = -1;
				uVar10 = (longlong)param_1;
				uVar8 = FUN_100ae084(lVar17, uVar16, param_1, -1, (char)lVar12, (char)lVar13, (char)lVar14,
				    (char)lVar15, in_stack_ffffff98);
				if (((int)uVar8 != 0) && (lVar9 = random(0, (longlong)(&cStack57)[(uint)(byte)*puVar1], (char)uVar10, (char)lVar11, (char)lVar12, (char)lVar13, (char)lVar14, (char)lVar15, in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffab), (int)lVar9 == 0)) {
					uVar10 = uVar16;
					AddObject(0x5b, (int)lVar17, (int)uVar16, (char)lVar11, (char)lVar12, (char)lVar13,
					    (char)lVar14, (char)lVar15, in_stack_ffffff98);
				}
			}
			iVar7 = (int)uVar6;
			lVar17 = lVar17 + 1;
			iVar19 = iVar19 + 0xe0;
			iVar20 = iVar20 + 0x70;
		} while ((int)lVar17 < 0x70);
		uVar16 = uVar16 + 1;
		iVar18 = iVar18 + 2;
	} while ((int)uVar16 < 0x70);
	FUN_100aedb4(param_1, (longlong) * (char *)((int)&local_38 + (uint)(byte)*puVar1 + 3), (char)uVar10,
	    (char)lVar11, (char)lVar12, (char)lVar13, (char)lVar14, (char)lVar15, in_stack_ffffff98);
	**(undefined4 **)(iVar7 + -0x6ee8) = 1;
	return;
}

void FUN_100b0098(int param_1, undefined param_2, char param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	int iVar5;
	undefined *puVar6;
	undefined **ppuVar7;
	undefined8 uVar8;
	longlong lVar9;
	ulonglong uVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	longlong lVar14;
	longlong lVar15;
	undefined8 unaff_r19;
	undefined8 unaff_r20;
	undefined8 unaff_r21;
	ulonglong uVar16;
	undefined8 unaff_r22;
	longlong lVar17;
	undefined8 unaff_r23;
	undefined8 unaff_r24;
	int iVar18;
	undefined8 unaff_r25;
	int iVar19;
	undefined8 unaff_r26;
	int iVar20;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;
	undefined in_stack_ffffff9b;
	char cStack73;
	undefined4 local_48;
	undefined4 local_44;
	undefined4 local_34;
	undefined4 uStack48;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar6 = PTR_DAT_100f1fd8;
	iVar5 = _DAT_100f1da4;
	puVar4 = PTR_DAT_100f1a54;
	puVar3 = PTR_DAT_100f1a48;
	puVar2 = PTR_DAT_100f183c;
	lVar15 = (longlong)param_8;
	lVar14 = (longlong)param_7;
	lVar13 = (longlong)param_6;
	lVar12 = (longlong)param_5;
	lVar11 = (longlong)param_4;
	uVar10 = SEXT18(param_3);
	ppuVar7 = &toc;
	local_34 = (undefined4)((ulonglong)unaff_r19 >> 0x20);
	uStack48 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	local_44 = _DAT_100f450c;
	local_48 = _DAT_100f4510;
	if (*(int *)PTR_DAT_100f1fd8 != 0) {
		ppuVar7 = &toc;
		FUN_100ae1ac(param_1, (char)_DAT_100f450c, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffff88);
		uVar10 = (ulonglong) * (uint *)ppuVar7[-0x1bb2];
		AddObject(0x5c, *(int *)ppuVar7[-0x1bb1], *(uint *)ppuVar7[-0x1bb2], (char)lVar11, (char)lVar12,
		    (char)lVar13, (char)lVar14, (char)lVar15, in_stack_ffffff88);
	}
	puVar1 = ppuVar7[-0x1bf3];
	uVar16 = 0;
	iVar18 = 0;
	do {
		iVar20 = 0;
		iVar19 = 0;
		lVar17 = 0;
		do {
			if (((int)*(char *)((int)uVar16 + *(int *)puVar3 + iVar20) == *(int *)(puVar1 + param_1 * 8 + 4)) && (*(char *)(iVar5 + (int)*(short *)(iVar18 + *(int *)puVar4 + iVar19)) == '\0')) {
				lVar11 = -1;
				uVar10 = (longlong)param_1;
				uVar8 = FUN_100ae084(lVar17, uVar16, param_1, -1, (char)lVar12, (char)lVar13, (char)lVar14,
				    (char)lVar15, in_stack_ffffff88);
				if (((int)uVar8 != 0) && (lVar9 = random(0, (longlong) * (char *)((int)&local_48 + (uint)(byte)*puVar2 + 3), (char)uVar10, (char)lVar11, (char)lVar12, (char)lVar13, (char)lVar14, (char)lVar15, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff9b), (int)lVar9 == 0)) {
					uVar10 = uVar16;
					AddObject(0x5d, (int)lVar17, (int)uVar16, (char)lVar11, (char)lVar12, (char)lVar13,
					    (char)lVar14, (char)lVar15, in_stack_ffffff88);
				}
			}
			lVar17 = lVar17 + 1;
			iVar19 = iVar19 + 0xe0;
			iVar20 = iVar20 + 0x70;
		} while ((int)lVar17 < 0x70);
		uVar16 = uVar16 + 1;
		iVar18 = iVar18 + 2;
	} while ((int)uVar16 < 0x70);
	FUN_100aedb4(param_1, (longlong)(&cStack73)[(uint)(byte)*puVar2], (char)uVar10, (char)lVar11,
	    (char)lVar12, (char)lVar13, (char)lVar14, (char)lVar15, in_stack_ffffff88);
	*(undefined4 *)puVar6 = 0;
	return;
}

void UpdateL4Trans(void)

{
	undefined *puVar1;
	int iVar2;
	char *pcVar3;
	int iVar4;
	longlong lVar5;

	puVar1 = PTR_DAT_100f1a48;
	iVar4 = 0;
	do {
		lVar5 = 0xe;
		iVar2 = 0;
		do {
			pcVar3 = (char *)(iVar4 + *(int *)puVar1 + iVar2);
			if (*pcVar3 != '\0') {
				*pcVar3 = '\x01';
			}
			pcVar3 = (char *)(iVar4 + *(int *)puVar1 + iVar2 + 0x70);
			if (*pcVar3 != '\0') {
				*pcVar3 = '\x01';
			}
			pcVar3 = (char *)(iVar4 + *(int *)puVar1 + iVar2 + 0xe0);
			if (*pcVar3 != '\0') {
				*pcVar3 = '\x01';
			}
			pcVar3 = (char *)(iVar4 + *(int *)puVar1 + iVar2 + 0x150);
			if (*pcVar3 != '\0') {
				*pcVar3 = '\x01';
			}
			pcVar3 = (char *)(iVar4 + *(int *)puVar1 + iVar2 + 0x1c0);
			if (*pcVar3 != '\0') {
				*pcVar3 = '\x01';
			}
			pcVar3 = (char *)(iVar4 + *(int *)puVar1 + iVar2 + 0x230);
			if (*pcVar3 != '\0') {
				*pcVar3 = '\x01';
			}
			pcVar3 = (char *)(iVar4 + *(int *)puVar1 + iVar2 + 0x2a0);
			if (*pcVar3 != '\0') {
				*pcVar3 = '\x01';
			}
			pcVar3 = (char *)(iVar4 + *(int *)puVar1 + iVar2 + 0x310);
			if (*pcVar3 != '\0') {
				*pcVar3 = '\x01';
			}
			iVar2 = iVar2 + 0x380;
			lVar5 = lVar5 + -1;
		} while (lVar5 != 0);
		iVar4 = iVar4 + 1;
	} while (iVar4 < 0x70);
	return;
}

void CreateThemeRooms(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	code *UNRECOVERED_JUMPTABLE;
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	int iVar6;
	char *pcVar7;

	puVar5 = PTR_DAT_100f210c;
	puVar4 = PTR_DAT_100f2108;
	pcVar7 = PTR_DAT_100f2004;
	puVar3 = PTR_DAT_100f2000;
	puVar2 = PTR_DAT_100f1fe8;
	if (*PTR_DAT_100f17ec != '\x10') {
		*(undefined4 *)PTR_DAT_100f1fe8 = 1;
		iVar6 = 0;
		while (puVar1 = PTR_DAT_100f183c, iVar6 < *(int *)puVar3) {
			*(undefined4 *)puVar5 = 0;
			*(undefined4 *)puVar4 = 0;
			if (((longlong)*pcVar7 & 0xffffffffU) < 0x11) {
				UNRECOVERED_JUMPTABLE = *(code **)(_DAT_100f3930 + (int)*pcVar7 * 4);
				// WARNING: Could not recover jumptable at 0x100b03b4. Too many branches
				// WARNING: Treating indirect jump as call
				(*UNRECOVERED_JUMPTABLE)(UNRECOVERED_JUMPTABLE, param_2, param_3, param_4, param_5, param_6, param_7, param_8);
				return;
			}
			pcVar7 = pcVar7 + 8;
			iVar6 = iVar6 + 1;
		}
		*(undefined4 *)puVar2 = 0;
		if ((*puVar1 == '\x04') && (0 < *(int *)PTR_DAT_100f1d60)) {
			UpdateL4Trans();
		}
	}
	return;
}

void FUN_100b04d4(void)

{
	_DAT_100f4518 = _DAT_100f4514;
	return;
}

ulonglong FUN_100b04e0(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	ulonglong uVar2;
	longlong lVar3;
	char cVar4;
	byte bVar5;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	int local_2c;

	if (_DAT_100f4520 == 0) {
		uVar2 = 0;
	} else {
		lVar3 = GetTickCount(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
		puVar1 = *(undefined4 **)(local_2c + -0x4ab0);
		if ((longlong)((ulonglong)(uint)puVar1[1] - lVar3) < 0) {
			cVar4 = (char)puVar1 + '\t';
			*(undefined4 *)(local_2c + -0x4ab0) = *puVar1;
			bVar5 = *(byte *)(puVar1 + 2);
			uVar2 = (ulonglong)bVar5;
			memcpy(param_1, cVar4, bVar5, param_4, param_5, param_6, param_7, param_8, (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
			mem_free_dbg(ZEXT48(puVar1), cVar4, bVar5, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffc8);
		} else {
			uVar2 = 0;
		}
	}
	return uVar2;
}

void FUN_100b0574(undefined8 param_1, byte param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 *puVar1;
	undefined4 *puVar2;
	int iVar3;
	undefined4 *puVar4;
	byte bVar5;
	undefined in_stack_ffffffbb;
	undefined in_stack_ffffffbf;
	int local_3c;

	bVar5 = param_2;
	puVar2 = (undefined4 *)DiabloAllocPtr((ulonglong)((int)(char)param_2 & 0xffU) + 0xc);
	*puVar2 = 0;
	iVar3 = GetTickCount((char)puVar2, bVar5, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
	puVar2[1] = iVar3 + 500;
	*(byte *)(puVar2 + 2) = param_2;
	memcpy((char)puVar2 + '\t', (undefined)param_1, (char)((int)(char)param_2 & 0xffU), param_4,
	    param_5, param_6, param_7, param_8, in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
	puVar1 = (undefined4 *)(local_3c + -0x4ab0);
	do {
		puVar4 = puVar1;
		puVar1 = (undefined4 *)*puVar4;
	} while (puVar1 != (undefined4 *)0x0);
	*(undefined4 **)puVar4 = puVar2;
	return;
}

void tmsg_start(void)

{
	return;
}

undefined tmsg_cleanup(undefined param_1, char param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined4 *puVar1;
	undefined4 uVar2;
	int iVar3;
	ulonglong uVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	undefined4 in_stack_ffffffc8;

	lVar11 = (longlong)param_8;
	lVar10 = (longlong)param_7;
	lVar9 = (longlong)param_6;
	lVar8 = (longlong)param_5;
	lVar7 = (longlong)param_4;
	lVar6 = (longlong)param_3;
	lVar5 = (longlong)param_2;
	uVar4 = ZEXT48(&toc);
	while (iVar3 = (int)uVar4, *(int *)(iVar3 + -0x4ab0) != 0) {
		puVar1 = *(undefined4 **)(iVar3 + -0x4ab0);
		uVar2 = *puVar1;
		*(undefined4 *)(iVar3 + -0x4ab0) = 0;
		param_1 = mem_free_dbg(ZEXT48(puVar1), (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8,
		    (char)lVar9, (char)lVar10, (char)lVar11, in_stack_ffffffc8);
		*(undefined4 *)((int)uVar4 + -0x4ab0) = uVar2;
	}
	return param_1;
}

void FUN_100b066c(void)

{
	_DAT_100f4524 = _DAT_100f451c;
	return;
}

void FUN_100b0678(undefined *param_1)

{
	undefined *puVar1;
	longlong lVar2;
	int iVar3;
	int iVar4;
	longlong lVar5;

	puVar1 = PTR_DAT_100f17c8;
	lVar5 = 4;
	iVar3 = 0x1e;
	do {
		if (param_1 < *(undefined **)puVar1) {
			return;
		}
		param_1 = param_1 + iVar3;
		lVar2 = lVar5;
		do {
			lVar2 = lVar2 + -1;
			*param_1 = 0;
			param_1 = param_1 + 1;
		} while (lVar2 != 0);
		lVar5 = lVar5 + 4;
		iVar4 = iVar3 + -2;
		param_1 = param_1 + iVar3 + -0x340;
		iVar3 = iVar4;
	} while (iVar4 != 0);
	lVar5 = 0x3c;
	iVar3 = 2;
	do {
		if (param_1 < *(undefined **)puVar1) {
			return;
		}
		param_1 = param_1 + iVar3;
		lVar2 = lVar5;
		do {
			lVar2 = lVar2 + -1;
			*param_1 = 0;
			param_1 = param_1 + 1;
		} while (lVar2 != 0);
		iVar4 = iVar3 + 2;
		param_1 = param_1 + iVar3 + -0x340;
		lVar5 = lVar5 + -4;
		iVar3 = iVar4;
	} while (iVar4 != 0x20);
	return;
}

void town_clear_low_buf(undefined *param_1)

{
	undefined *puVar1;
	longlong lVar2;
	int iVar3;
	longlong lVar4;

	puVar1 = PTR_DAT_100f17c8;
	iVar3 = 0x1e;
	lVar4 = 4;
	do {
		if (param_1 < *(undefined **)puVar1) {
			param_1 = param_1 + iVar3;
			lVar2 = lVar4;
			do {
				lVar2 = lVar2 + -1;
				*param_1 = 0;
				param_1 = param_1 + 1;
			} while (lVar2 != 0);
			param_1 = param_1 + iVar3;
		} else {
			param_1 = param_1 + 0x40;
		}
		iVar3 = iVar3 + -2;
		lVar4 = lVar4 + 4;
		param_1 = param_1 + -0x340;
	} while (iVar3 != 0);
	iVar3 = 2;
	lVar4 = 0x3c;
	do {
		if (param_1 < *(undefined **)puVar1) {
			param_1 = param_1 + iVar3;
			lVar2 = lVar4;
			do {
				lVar2 = lVar2 + -1;
				*param_1 = 0;
				param_1 = param_1 + 1;
			} while (lVar2 != 0);
			param_1 = param_1 + iVar3;
		} else {
			param_1 = param_1 + 0x40;
		}
		iVar3 = iVar3 + 2;
		lVar4 = lVar4 + -4;
		param_1 = param_1 + -0x340;
	} while (iVar3 != 0x20);
	return;
}

void town_special_lower(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined param_9, undefined param_10, undefined4 param_11, undefined4 param_12)

{
	return;
}

void FUN_100b07bc(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined param_9, undefined param_10, undefined4 param_11, undefined4 param_12)

{
	return;
}

void town_draw_clipped_e_flag_2(longlong param_1, longlong param_2, ulonglong param_3, ulonglong param_4,
    ulonglong param_5, char param_6, char param_7, char param_8, undefined4 param_9)

{
	ushort uVar1;
	uint *puVar2;
	undefined **ppuVar3;
	longlong lVar4;
	ulonglong uVar5;
	ulonglong uVar6;
	ulonglong uVar7;
	ulonglong uVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	int iVar12;
	ushort *puVar13;
	undefined4 in_stack_ffffffa8;

	puVar2 = _DAT_100f2080;
	lVar11 = (longlong)param_8;
	lVar10 = (longlong)param_7;
	lVar9 = (longlong)param_6;
	ppuVar3 = &toc;
	uVar6 = param_3;
	uVar7 = param_4;
	uVar8 = param_5;
	lVar4 = IsometricCoord(param_2, (int)param_3);
	uVar5 = ZEXT48(ppuVar3[-0x1d61]);
	iVar12 = 0;
	puVar13 = (ushort *)(*(int *)ppuVar3[-0x1d61] + (int)lVar4 * 0x20);
	lVar4 = param_1;
	do {
		uVar1 = *puVar13;
		*puVar2 = (uint)uVar1;
		if (uVar1 != 0) {
			drawLowerScreen(lVar4, (char)uVar5, (char)uVar6, (char)uVar7, (char)uVar8, (char)lVar9, (char)lVar10,
			    (char)lVar11, in_stack_ffffffa8);
		}
		uVar1 = puVar13[1];
		*puVar2 = (uint)uVar1;
		if (uVar1 != 0) {
			drawLowerScreen(lVar4 + 0x20, (char)uVar5, (char)uVar6, (char)uVar7, (char)uVar8, (char)lVar9,
			    (char)lVar10, (char)lVar11, in_stack_ffffffa8);
		}
		iVar12 = iVar12 + 2;
		puVar13 = puVar13 + 2;
		lVar4 = lVar4 + -0x6000;
	} while (iVar12 < 0xc);
	FUN_100b088c(param_1, param_2, param_3, param_4, param_5, 0, (char)lVar10, (char)lVar11, in_stack_ffffffa8);
	return;
}

void FUN_100b088c(undefined8 param_1, ulonglong param_2, ulonglong param_3, ulonglong param_4,
    ulonglong param_5, int param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	short sVar1;
	uint uVar2;
	int iVar3;
	int iVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	int iVar9;
	int iVar10;
	int iVar11;
	undefined *puVar12;
	undefined *puVar13;
	undefined *puVar14;
	undefined *puVar15;
	undefined *puVar16;
	undefined **ppuVar17;
	char cVar18;
	char cVar19;
	char cVar20;
	char cVar21;
	char cVar22;
	char cVar23;
	undefined uVar24;
	undefined uVar25;
	ulonglong uVar26;
	undefined uVar27;
	longlong lVar28;
	longlong lVar29;
	undefined4 in_stack_ffffff88;
	undefined uVar30;
	undefined in_stack_ffffff8f;
	undefined4 in_stack_ffffff98;
	undefined4 in_stack_ffffff9c;

	puVar16 = PTR_DAT_100f1954;
	puVar15 = PTR_DAT_100f1950;
	puVar6 = PTR_DAT_100f1940;
	puVar14 = PTR_DAT_100f1880;
	puVar7 = PTR_DAT_100f1878;
	puVar13 = PTR_DAT_100f1874;
	puVar12 = PTR_DAT_100f1834;
	puVar8 = PTR_DAT_100f1828;
	cVar22 = (char)param_5;
	cVar20 = (char)param_4;
	uVar24 = (undefined)param_6;
	ppuVar17 = &toc;
	iVar9 = (int)param_2;
	iVar3 = iVar9 * 0x70;
	uVar25 = SUB41(PTR_DAT_100f1938, 0);
	uVar26 = ZEXT48(PTR_DAT_100f17cc);
	iVar4 = (int)param_3;
	cVar18 = *(char *)(*(int *)PTR_DAT_100f1944 + iVar3 + iVar4);
	lVar29 = (ulonglong) * (uint *)PTR_DAT_100f17cc + (ulonglong) * (uint *)(PTR_DAT_100f1938 + (int)param_5 * 4) + param_4;
	cVar21 = cVar20;
	cVar23 = cVar22;
	if (cVar18 != '\0') {
		iVar10 = (int)(char)(cVar18 + -1) * 0x170;
		puVar5 = PTR_DAT_100f1940 + iVar10;
		uVar2 = *(uint *)(puVar5 + 0x28);
		ppuVar17 = &toc;
		if ((char)(cVar18 + -1) == *PTR_DAT_100f1888) {
			uVar26 = 8;
			ppuVar17 = &toc;
			CelDrawHdrClrHL(0xb5, param_4 - (ulonglong)uVar2, param_5, (ulonglong) * (uint *)(puVar5 + 0x18),
			    (ulonglong) * (uint *)(puVar5 + 0x20), (ulonglong) * (uint *)(puVar5 + 0x24), 0, 8,
			    in_stack_ffffff88);
		}
		puVar6 = puVar6 + iVar10;
		cVar18 = (char)*(uint *)(puVar6 + 0x18);
		cVar21 = (char)*(uint *)(puVar6 + 0x20);
		cVar23 = (char)*(uint *)(puVar6 + 0x24);
		uVar24 = 0;
		uVar25 = 8;
		Cel2DrawHdrOnly((int)(param_4 - (ulonglong)uVar2), param_5, (ulonglong) * (uint *)(puVar6 + 0x18),
		    (ulonglong) * (uint *)(puVar6 + 0x20), (ulonglong) * (uint *)(puVar6 + 0x24), 0, 8,
		    (int)uVar26, in_stack_ffffff88);
	}
	if ((*(byte *)(*(int *)puVar12 + iVar3 + iVar4) & 0x10) != 0) {
		iVar10 = (int)*(short *)(*(int *)puVar16 + iVar9 * 0xe0 + iVar4 * 2 + -2) + 1;
		iVar11 = iVar10 * -0x10c;
		puVar6 = puVar7 + iVar11;
		uVar2 = *(uint *)(puVar6 + 0x44);
		if (-iVar10 == *(int *)puVar14) {
			uVar26 = 8;
			CelDrawHdrClrHL_part(0xa6, param_4 - (ulonglong)uVar2, param_5, (ulonglong) * (uint *)(puVar6 + 0x24),
			    (ulonglong) * (uint *)(puVar6 + 0x34), (ulonglong) * (uint *)(puVar6 + 0x40), 0, 8,
			    in_stack_ffffff88);
		}
		puVar6 = puVar7 + iVar11;
		cVar18 = (char)*(uint *)(puVar6 + 0x24);
		cVar21 = (char)*(uint *)(puVar6 + 0x34);
		cVar23 = (char)*(uint *)(puVar6 + 0x40);
		uVar24 = 0;
		uVar25 = 8;
		Cel2DrawHdrOnly_part((int)(param_4 - (ulonglong)uVar2), param_5, (ulonglong) * (uint *)(puVar6 + 0x24),
		    (ulonglong) * (uint *)(puVar6 + 0x34), (ulonglong) * (uint *)(puVar6 + 0x40), 0, 8,
		    (int)uVar26, in_stack_ffffff88);
	}
	sVar1 = *(short *)(*(int *)puVar16 + iVar9 * 0xe0 + iVar4 * 2);
	if (0 < sVar1) {
		iVar11 = (int)sVar1 + -1;
		iVar10 = iVar11 * 0x10c;
		puVar6 = puVar7 + iVar10;
		uVar2 = *(uint *)(puVar6 + 0x44);
		if (iVar11 == *(int *)puVar14) {
			uVar26 = 8;
			CelDrawHdrClrHL_part(0xa6, param_4 - (ulonglong)uVar2, param_5, (ulonglong) * (uint *)(puVar6 + 0x24),
			    (ulonglong) * (uint *)(puVar6 + 0x34), (ulonglong) * (uint *)(puVar6 + 0x40), 0, 8,
			    in_stack_ffffff88);
		}
		puVar7 = puVar7 + iVar10;
		cVar18 = (char)*(uint *)(puVar7 + 0x24);
		cVar21 = (char)*(uint *)(puVar7 + 0x34);
		cVar23 = (char)*(uint *)(puVar7 + 0x40);
		uVar24 = 0;
		uVar25 = 8;
		Cel2DrawHdrOnly_part((int)(param_4 - (ulonglong)uVar2), param_5, (ulonglong) * (uint *)(puVar7 + 0x24),
		    (ulonglong) * (uint *)(puVar7 + 0x34), (ulonglong) * (uint *)(puVar7 + 0x40), 0, 8,
		    (int)uVar26, in_stack_ffffff88);
	}
	if ((*(byte *)(*(int *)puVar12 + iVar3 + iVar4) & 0x20) != 0) {
		cVar18 = -(*(char *)(*(int *)puVar15 + iVar3 + iVar4 + -1) + '\x01');
		iVar10 = (int)cVar18 * 0x55ec;
		puVar6 = puVar8 + iVar10;
		uVar2 = *(uint *)(puVar6 + 100);
		lVar28 = (param_4 + (ulonglong) * (uint *)(puVar6 + 0x60)) - (ulonglong) * (uint *)(puVar6 + 0x94);
		if (cVar18 == *puVar13) {
			uVar26 = 8;
			Cl2DecodeClrHL(0xa5, lVar28, param_5 + (ulonglong)uVar2, (ulonglong) * (uint *)(puVar6 + 0x7c),
			    (ulonglong) * (uint *)(puVar6 + 0x8c), (ulonglong) * (uint *)(puVar6 + 0x90), 0, 8,
			    in_stack_ffffff88);
		}
		puVar6 = puVar8 + iVar10;
		cVar18 = (char)*(uint *)(puVar6 + 0x7c);
		cVar21 = (char)*(uint *)(puVar6 + 0x8c);
		cVar23 = (char)*(uint *)(puVar6 + 0x90);
		uVar24 = 0;
		uVar25 = 8;
		Cl2DecodeFrm4(lVar28, param_5 + (ulonglong)uVar2, (ulonglong) * (uint *)(puVar6 + 0x7c),
		    (ulonglong) * (uint *)(puVar6 + 0x8c), (ulonglong) * (uint *)(puVar6 + 0x90), 0, 8,
		    (int)uVar26, in_stack_ffffff88);
		if (param_6 != 0) {
			if (*(int *)(puVar6 + 0x98) != 0) {
				cVar18 = (char)(param_3 + 1);
				cVar21 = (char)(param_4 - 0x40);
				cVar23 = cVar22;
				town_draw_clipped_e_flag_2(lVar29 + -0x40, param_2 - 1, param_3 + 1, param_4 - 0x40, param_5, uVar24, uVar25,
				    (char)uVar26, in_stack_ffffff88);
			}
		}
	}
	if ((*(byte *)(*(int *)puVar12 + iVar3 + iVar4) & 4) != 0) {
		cVar23 = '\0';
		uVar24 = 8;
		uVar25 = 1;
		cVar18 = cVar20;
		cVar21 = cVar22;
		DrawDeadPlayer(param_2, param_3, param_4, param_5, 0, 8, 1, uVar26, in_stack_ffffff88);
	}
	cVar19 = *(char *)(*(int *)puVar15 + iVar3 + iVar4);
	if ('\0' < cVar19) {
		cVar19 = cVar19 + -1;
		iVar10 = (int)cVar19 * 0x55ec;
		puVar6 = puVar8 + iVar10;
		uVar2 = *(uint *)(puVar6 + 100);
		lVar28 = (param_4 + (ulonglong) * (uint *)(puVar6 + 0x60)) - (ulonglong) * (uint *)(puVar6 + 0x94);
		if (cVar19 == *puVar13) {
			uVar26 = 8;
			Cl2DecodeClrHL(0xa5, lVar28, param_5 + (ulonglong)uVar2, (ulonglong) * (uint *)(puVar6 + 0x7c),
			    (ulonglong) * (uint *)(puVar6 + 0x8c), (ulonglong) * (uint *)(puVar6 + 0x90), 0, 8,
			    in_stack_ffffff88);
		}
		puVar8 = puVar8 + iVar10;
		cVar18 = (char)*(uint *)(puVar8 + 0x7c);
		cVar21 = (char)*(uint *)(puVar8 + 0x8c);
		cVar23 = (char)*(uint *)(puVar8 + 0x90);
		uVar24 = 0;
		uVar25 = 8;
		Cl2DecodeFrm4(lVar28, param_5 + (ulonglong)uVar2, (ulonglong) * (uint *)(puVar8 + 0x7c),
		    (ulonglong) * (uint *)(puVar8 + 0x8c), (ulonglong) * (uint *)(puVar8 + 0x90), 0, 8,
		    (int)uVar26, in_stack_ffffff88);
		if (param_6 != 0) {
			if (*(int *)(puVar8 + 0x98) != 0) {
				cVar18 = (char)(param_3 + 1);
				cVar21 = (char)(param_4 - 0x40);
				cVar23 = cVar22;
				town_draw_clipped_e_flag_2(lVar29 + -0x40, param_2 - 1, param_3 + 1, param_4 - 0x40, param_5, uVar24, uVar25,
				    (char)uVar26, in_stack_ffffff88);
			}
		}
	}
	uVar30 = (undefined)in_stack_ffffff88;
	uVar27 = (undefined)uVar26;
	if ((*(byte *)(*(int *)puVar12 + iVar3 + iVar4) & 1) != 0) {
		cVar23 = '\0';
		uVar24 = 8;
		uVar25 = 0;
		cVar18 = cVar20;
		cVar21 = cVar22;
		DrawClippedMissile(iVar9, param_3, param_4, param_5, 0, 8, 0, uVar26, in_stack_ffffff88);
	}
	cVar20 = *(char *)(*(int *)ppuVar17[-0x1d66] + iVar3 + iVar4);
	if (cVar20 != '\0') {
		town_special_lower((char)lVar29, cVar20, cVar18, cVar21, cVar23, uVar24, uVar25, uVar27, uVar30,
		    in_stack_ffffff8f, in_stack_ffffff98, in_stack_ffffff9c);
	}
	return;
}

void town_draw_lower(ulonglong param_1, ulonglong param_2, ulonglong param_3, ulonglong param_4,
    int param_5, longlong param_6, char param_7, char param_8, undefined4 param_9)

{
	short sVar1;
	ushort uVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	uint *puVar7;
	longlong lVar8;
	ulonglong uVar9;
	longlong lVar10;
	ulonglong uVar11;
	ulonglong uVar12;
	ulonglong uVar13;
	longlong lVar14;
	longlong lVar15;
	longlong lVar16;
	longlong lVar17;
	ushort *puVar18;
	uint *puVar19;
	int iVar20;
	int iVar21;
	int iVar22;
	int iVar23;
	int iVar24;
	undefined4 in_stack_ffffff88;

	puVar7 = _DAT_100f2080;
	puVar6 = PTR_DAT_100f1a54;
	puVar5 = PTR_DAT_100f1a4c;
	puVar4 = PTR_DAT_100f1938;
	puVar3 = PTR_DAT_100f17cc;
	lVar16 = (longlong)param_8;
	lVar15 = (longlong)param_7;
	uVar13 = SEXT48(param_5);
	iVar24 = (int)param_4;
	uVar9 = param_4;
	lVar14 = param_6;
	if (param_6 != 0) {
		iVar22 = (int)param_2;
		if ((((iVar22 < 0) || (0x6f < iVar22)) || (iVar20 = (int)param_1, iVar20 < 0)) || (0x6f < iVar20)) {
			uVar9 = param_4;
			lVar14 = param_6;
			town_clear_low_buf((undefined *)(*(int *)PTR_DAT_100f17cc + *(int *)(PTR_DAT_100f1938 + iVar24 * 4) + (int)param_3));
		} else {
			sVar1 = *(short *)(*(int *)PTR_DAT_100f1a54 + iVar20 * 0xe0 + iVar22 * 2);
			*_DAT_100f2080 = (int)sVar1;
			if (((longlong)sVar1 & 0xffffffffU) == 0) {
				uVar9 = param_4;
				lVar14 = param_6;
				town_clear_low_buf((undefined *)(*(int *)puVar3 + *(int *)(puVar4 + iVar24 * 4) + (int)param_3));
			} else {
				uVar12 = (ulonglong) * (uint *)puVar3;
				lVar10 = (ulonglong) * (uint *)(puVar4 + iVar24 * 4) + param_3;
				lVar17 = uVar12 + lVar10 + 0x20;
				uVar9 = param_2;
				lVar14 = param_6;
				lVar8 = IsometricCoord(param_1, iVar22);
				iVar22 = 1;
				puVar18 = (ushort *)(*(int *)puVar5 + (int)lVar8 * 0x20 + 2);
				do {
					uVar2 = *puVar18;
					*puVar7 = (uint)uVar2;
					if (uVar2 != 0) {
						drawLowerScreen(lVar17, (char)uVar9, (char)lVar10, (char)uVar12, (char)uVar13, (char)lVar14,
						    (char)lVar15, (char)lVar16, in_stack_ffffff88);
					}
					iVar22 = iVar22 + 2;
					puVar18 = puVar18 + 2;
					lVar17 = lVar17 + -0x6000;
				} while (iVar22 < 0x11);
				lVar14 = 0;
				uVar9 = param_3;
				uVar13 = param_4;
				FUN_100b088c((ulonglong) * (uint *)puVar3 + (ulonglong) * (uint *)(puVar4 + iVar24 * 4) + param_3, param_1, param_2, param_3,
				    param_4, 0, (char)lVar15, (char)lVar16, in_stack_ffffff88);
			}
		}
		param_1 = param_1 + 1;
		param_2 = param_2 - 1;
		param_3 = param_3 + 0x40;
	}
	lVar8 = param_1 * 0xe0;
	puVar19 = (uint *)(puVar4 + iVar24 * 4);
	iVar24 = (int)param_2 << 1;
	iVar22 = 0;
	while (true) {
		iVar23 = (int)param_2;
		iVar21 = (int)param_1;
		iVar20 = (int)param_3;
		if (param_5 - (int)param_6 <= iVar22)
			break;
		if (((iVar23 < 0) || (0x6f < iVar23)) || ((iVar21 < 0 || (0x6f < iVar21)))) {
			town_clear_low_buf((undefined *)(*(int *)puVar3 + *puVar19 + iVar20));
		} else {
			*puVar7 = (int)*(short *)(*(int *)puVar6 + (int)lVar8 + iVar24);
			if (*puVar7 == 0) {
				town_clear_low_buf((undefined *)(*(int *)puVar3 + *puVar19 + iVar20));
			} else {
				uVar11 = (ulonglong) * (uint *)puVar3;
				lVar17 = uVar11 + (ulonglong)*puVar19 + param_3;
				uVar12 = param_2;
				lVar10 = IsometricCoord(param_1, iVar23);
				iVar20 = 0;
				puVar18 = (ushort *)(*(int *)puVar5 + (int)lVar10 * 0x20);
				do {
					uVar2 = *puVar18;
					*puVar7 = (uint)uVar2;
					if (uVar2 != 0) {
						drawLowerScreen(lVar17, (char)uVar12, (char)uVar11, (char)uVar9, (char)uVar13, (char)lVar14,
						    (char)lVar15, (char)lVar16, in_stack_ffffff88);
					}
					uVar2 = puVar18[1];
					*puVar7 = (uint)uVar2;
					if (uVar2 != 0) {
						drawLowerScreen(lVar17 + 0x20, (char)uVar12, (char)uVar11, (char)uVar9, (char)uVar13,
						    (char)lVar14, (char)lVar15, (char)lVar16, in_stack_ffffff88);
					}
					iVar20 = iVar20 + 2;
					puVar18 = puVar18 + 2;
					lVar17 = lVar17 + -0x6000;
				} while (iVar20 < 0x10);
				lVar14 = 1;
				uVar9 = param_3;
				uVar13 = param_4;
				FUN_100b088c((ulonglong) * (uint *)puVar3 + (ulonglong)*puVar19 + param_3, param_1, param_2,
				    param_3, param_4, 1, (char)lVar15, (char)lVar16, in_stack_ffffff88);
			}
		}
		lVar8 = lVar8 + 0xe0;
		param_1 = param_1 + 1;
		iVar24 = iVar24 + -2;
		param_2 = param_2 - 1;
		param_3 = param_3 + 0x40;
		iVar22 = iVar22 + 1;
	}
	if ((int)param_6 != 0) {
		if (((iVar23 < 0) || (0x6f < iVar23)) || ((iVar21 < 0 || (0x6f < iVar21)))) {
			town_clear_low_buf((undefined *)(*(int *)puVar3 + *puVar19 + iVar20));
		} else {
			*puVar7 = (int)*(short *)(*(int *)puVar6 + iVar21 * 0xe0 + iVar23 * 2);
			if (*puVar7 == 0) {
				town_clear_low_buf((undefined *)(*(int *)puVar3 + *puVar19 + iVar20));
			} else {
				uVar11 = (ulonglong) * (uint *)puVar3;
				lVar10 = uVar11 + (ulonglong)*puVar19 + param_3;
				uVar12 = param_2;
				lVar8 = IsometricCoord(param_1, iVar23);
				iVar24 = 0;
				puVar18 = (ushort *)(*(int *)puVar5 + (int)lVar8 * 0x20);
				do {
					uVar2 = *puVar18;
					*puVar7 = (uint)uVar2;
					if (uVar2 != 0) {
						drawLowerScreen(lVar10, (char)uVar12, (char)uVar11, (char)uVar9, (char)uVar13, (char)lVar14,
						    (char)lVar15, (char)lVar16, in_stack_ffffff88);
					}
					iVar24 = iVar24 + 2;
					puVar18 = puVar18 + 2;
					lVar10 = lVar10 + -0x6000;
				} while (iVar24 < 0x10);
				FUN_100b088c((ulonglong) * (uint *)puVar3 + (ulonglong)*puVar19 + param_3, param_1, param_2,
				    param_3, param_4, 0, (char)lVar15, (char)lVar16, in_stack_ffffff88);
			}
		}
	}
	return;
}

void FUN_100b1078(longlong param_1, longlong param_2, ulonglong param_3, longlong param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, char param_8,
    undefined4 param_9)

{
	ushort uVar1;
	uint *puVar2;
	undefined **ppuVar3;
	longlong lVar4;
	ulonglong uVar5;
	ulonglong uVar6;
	longlong lVar7;
	ulonglong uVar8;
	ulonglong uVar9;
	ulonglong uVar10;
	longlong lVar11;
	int iVar12;
	longlong lVar13;
	int iVar14;
	undefined4 in_stack_ffffff98;

	puVar2 = _DAT_100f2080;
	lVar11 = (longlong)param_8;
	ppuVar3 = &toc;
	lVar13 = param_1;
	if (param_4 != 0) {
		lVar13 = param_1 + param_4 * 0x6000;
	}
	uVar6 = param_3;
	lVar7 = param_4;
	uVar8 = param_5;
	uVar9 = param_6;
	uVar10 = param_7;
	lVar4 = IsometricCoord(param_2, (int)param_3);
	uVar5 = ZEXT48(ppuVar3[-0x1d61]);
	iVar12 = 0;
	iVar14 = *(int *)ppuVar3[-0x1d61] + (int)lVar4 * 0x20;
	do {
		if ((int)param_4 <= iVar12) {
			uVar1 = *(ushort *)(iVar14 + 4);
			*puVar2 = (uint)uVar1;
			if (uVar1 != 0) {
				drawLowerScreen(lVar13, (char)uVar5, (char)uVar6, (char)lVar7, (char)uVar8, (char)uVar9, (char)uVar10, (char)lVar11, in_stack_ffffff98);
			}
			uVar1 = *(ushort *)(iVar14 + 6);
			*puVar2 = (uint)uVar1;
			if (uVar1 != 0) {
				drawLowerScreen(lVar13 + 0x20, (char)uVar5, (char)uVar6, (char)lVar7, (char)uVar8, (char)uVar9,
				    (char)uVar10, (char)lVar11, in_stack_ffffff98);
			}
		}
		iVar12 = iVar12 + 1;
		iVar14 = iVar14 + 4;
		lVar13 = lVar13 + -0x6000;
	} while (iVar12 < 6);
	if ((int)param_5 < 8) {
		town_draw_clipped_town_2(param_1, param_2, param_3, param_4, param_5, param_6, param_7, 0, in_stack_ffffff98);
	}
	return;
}

void town_draw_clipped_town_2(longlong param_1, ulonglong param_2, ulonglong param_3, longlong param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	short sVar1;
	uint uVar2;
	int iVar3;
	int iVar4;
	undefined *puVar5;
	undefined *puVar6;
	int iVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined **ppuVar12;
	char cVar13;
	undefined uVar14;
	undefined uVar15;
	undefined uVar16;
	undefined uVar17;
	undefined uVar18;
	undefined uVar19;
	undefined uVar20;
	undefined uVar21;
	ulonglong uVar22;
	undefined uVar23;
	undefined *puVar24;
	int iVar25;
	int iVar26;
	undefined *puVar27;
	undefined *puVar28;
	int iVar29;
	longlong lVar30;
	undefined4 in_stack_ffffff78;
	undefined uVar31;
	undefined in_stack_ffffff7f;
	undefined4 in_stack_ffffff88;
	undefined4 in_stack_ffffff8c;

	puVar6 = PTR_DAT_100f1954;
	puVar11 = PTR_DAT_100f1950;
	puVar10 = PTR_DAT_100f1880;
	puVar27 = PTR_DAT_100f1878;
	puVar9 = PTR_DAT_100f1874;
	puVar8 = PTR_DAT_100f1834;
	puVar28 = PTR_DAT_100f1828;
	uVar16 = (undefined)param_5;
	uVar20 = (undefined)param_7;
	uVar18 = (undefined)param_6;
	uVar23 = (undefined)param_4;
	uVar14 = (undefined)param_3;
	ppuVar12 = &toc;
	iVar7 = (int)param_2;
	iVar3 = iVar7 * 0x70;
	iVar4 = (int)param_3;
	cVar13 = *(char *)(*(int *)PTR_DAT_100f1944 + iVar3 + iVar4);
	iVar29 = (int)param_5;
	uVar22 = param_8;
	uVar15 = uVar23;
	uVar17 = uVar16;
	uVar19 = uVar18;
	uVar21 = uVar20;
	if (cVar13 != '\0') {
		cVar13 = cVar13 + -1;
		iVar26 = (int)cVar13 * 0x170;
		puVar5 = PTR_DAT_100f1940 + iVar26;
		uVar2 = *(uint *)(puVar5 + 0x28);
		uVar22 = param_8;
		ppuVar12 = &toc;
		puVar24 = PTR_DAT_100f1940;
		if (cVar13 == *PTR_DAT_100f1888) {
			uVar22 = 8;
			ppuVar12 = &toc;
			puVar24 = PTR_DAT_100f1940;
			CelDrawHdrClrHL(0xb5, param_6 - (ulonglong)uVar2, param_7, (ulonglong) * (uint *)(puVar5 + 0x18),
			    (ulonglong) * (uint *)(puVar5 + 0x20), (ulonglong) * (uint *)(puVar5 + 0x24), iVar29, 8,
			    in_stack_ffffff78);
		}
		puVar24 = puVar24 + iVar26;
		uVar14 = (undefined) * (uint *)(puVar24 + 0x18);
		uVar15 = (undefined) * (uint *)(puVar24 + 0x20);
		uVar17 = (undefined) * (uint *)(puVar24 + 0x24);
		uVar21 = 8;
		uVar19 = uVar16;
		Cel2DrawHdrOnly((int)(param_6 - (ulonglong)uVar2), param_7, (ulonglong) * (uint *)(puVar24 + 0x18),
		    (ulonglong) * (uint *)(puVar24 + 0x20), (ulonglong) * (uint *)(puVar24 + 0x24), iVar29, 8,
		    (int)uVar22, in_stack_ffffff78);
	}
	if ((*(byte *)(*(int *)puVar8 + iVar3 + iVar4) & 0x10) != 0) {
		iVar26 = (int)*(short *)(*(int *)puVar6 + iVar7 * 0xe0 + iVar4 * 2 + -2) + 1;
		iVar25 = iVar26 * -0x10c;
		puVar5 = puVar27 + iVar25;
		uVar2 = *(uint *)(puVar5 + 0x44);
		if (-iVar26 == *(int *)puVar10) {
			uVar22 = 8;
			CelDrawHdrClrHL_part(0xa6, param_6 - (ulonglong)uVar2, param_7, (ulonglong) * (uint *)(puVar5 + 0x24),
			    (ulonglong) * (uint *)(puVar5 + 0x34), (ulonglong) * (uint *)(puVar5 + 0x40), iVar29, 8,
			    in_stack_ffffff78);
		}
		puVar5 = puVar27 + iVar25;
		uVar14 = (undefined) * (uint *)(puVar5 + 0x24);
		uVar15 = (undefined) * (uint *)(puVar5 + 0x34);
		uVar17 = (undefined) * (uint *)(puVar5 + 0x40);
		uVar21 = 8;
		uVar19 = uVar16;
		Cel2DrawHdrOnly_part((int)(param_6 - (ulonglong)uVar2), param_7, (ulonglong) * (uint *)(puVar5 + 0x24),
		    (ulonglong) * (uint *)(puVar5 + 0x34), (ulonglong) * (uint *)(puVar5 + 0x40), iVar29, 8,
		    (int)uVar22, in_stack_ffffff78);
	}
	sVar1 = *(short *)(*(int *)puVar6 + iVar7 * 0xe0 + iVar4 * 2);
	if (0 < sVar1) {
		iVar25 = (int)sVar1 + -1;
		iVar26 = iVar25 * 0x10c;
		puVar6 = puVar27 + iVar26;
		uVar2 = *(uint *)(puVar6 + 0x44);
		if (iVar25 == *(int *)puVar10) {
			uVar22 = 8;
			CelDrawHdrClrHL_part(0xa6, param_6 - (ulonglong)uVar2, param_7, (ulonglong) * (uint *)(puVar6 + 0x24),
			    (ulonglong) * (uint *)(puVar6 + 0x34), (ulonglong) * (uint *)(puVar6 + 0x40), iVar29, 8,
			    in_stack_ffffff78);
		}
		puVar27 = puVar27 + iVar26;
		uVar14 = (undefined) * (uint *)(puVar27 + 0x24);
		uVar15 = (undefined) * (uint *)(puVar27 + 0x34);
		uVar17 = (undefined) * (uint *)(puVar27 + 0x40);
		uVar21 = 8;
		uVar19 = uVar16;
		Cel2DrawHdrOnly_part((int)(param_6 - (ulonglong)uVar2), param_7, (ulonglong) * (uint *)(puVar27 + 0x24),
		    (ulonglong) * (uint *)(puVar27 + 0x34), (ulonglong) * (uint *)(puVar27 + 0x40), iVar29, 8,
		    (int)uVar22, in_stack_ffffff78);
	}
	if ((*(byte *)(*(int *)puVar8 + iVar3 + iVar4) & 0x20) != 0) {
		cVar13 = -(*(char *)(*(int *)puVar11 + iVar3 + iVar4 + -1) + '\x01');
		iVar26 = (int)cVar13 * 0x55ec;
		puVar27 = puVar28 + iVar26;
		uVar2 = *(uint *)(puVar27 + 100);
		lVar30 = (param_6 + (ulonglong) * (uint *)(puVar27 + 0x60)) - (ulonglong) * (uint *)(puVar27 + 0x94);
		if (cVar13 == *puVar9) {
			uVar22 = 8;
			Cl2DecodeClrHL(0xa5, lVar30, param_7 + (ulonglong)uVar2, (ulonglong) * (uint *)(puVar27 + 0x7c),
			    (ulonglong) * (uint *)(puVar27 + 0x8c), (ulonglong) * (uint *)(puVar27 + 0x90), iVar29,
			    8, in_stack_ffffff78);
		}
		puVar27 = puVar28 + iVar26;
		uVar14 = (undefined) * (uint *)(puVar27 + 0x7c);
		uVar15 = (undefined) * (uint *)(puVar27 + 0x8c);
		uVar17 = (undefined) * (uint *)(puVar27 + 0x90);
		uVar21 = 8;
		uVar19 = uVar16;
		Cl2DecodeFrm4(lVar30, param_7 + (ulonglong)uVar2, (ulonglong) * (uint *)(puVar27 + 0x7c),
		    (ulonglong) * (uint *)(puVar27 + 0x8c), (ulonglong) * (uint *)(puVar27 + 0x90), iVar29, 8,
		    (int)uVar22, in_stack_ffffff78);
		if ((int)param_8 != 0) {
			if (*(int *)(puVar27 + 0x98) != 0) {
				uVar14 = (undefined)(param_3 + 1);
				uVar19 = (undefined)(param_6 - 0x40);
				uVar15 = uVar23;
				uVar17 = uVar16;
				uVar21 = uVar20;
				FUN_100b1078(param_1 + -0x40, param_2 - 1, param_3 + 1, param_4, param_5, param_6 - 0x40, param_7,
				    (char)uVar22, in_stack_ffffff78);
			}
		}
	}
	if ((*(byte *)(*(int *)puVar8 + iVar3 + iVar4) & 4) != 0) {
		uVar19 = 8;
		uVar21 = 1;
		uVar14 = uVar18;
		uVar15 = uVar20;
		uVar17 = uVar16;
		DrawDeadPlayer(param_2, param_3, param_6, param_7, param_5, 8, 1, uVar22, in_stack_ffffff78);
	}
	cVar13 = *(char *)(*(int *)puVar11 + iVar3 + iVar4);
	if ('\0' < cVar13) {
		cVar13 = cVar13 + -1;
		iVar26 = (int)cVar13 * 0x55ec;
		puVar27 = puVar28 + iVar26;
		uVar2 = *(uint *)(puVar27 + 100);
		lVar30 = (param_6 + (ulonglong) * (uint *)(puVar27 + 0x60)) - (ulonglong) * (uint *)(puVar27 + 0x94);
		if (cVar13 == *puVar9) {
			uVar22 = 8;
			Cl2DecodeClrHL(0xa5, lVar30, param_7 + (ulonglong)uVar2, (ulonglong) * (uint *)(puVar27 + 0x7c),
			    (ulonglong) * (uint *)(puVar27 + 0x8c), (ulonglong) * (uint *)(puVar27 + 0x90), iVar29,
			    8, in_stack_ffffff78);
		}
		puVar28 = puVar28 + iVar26;
		uVar14 = (undefined) * (uint *)(puVar28 + 0x7c);
		uVar15 = (undefined) * (uint *)(puVar28 + 0x8c);
		uVar17 = (undefined) * (uint *)(puVar28 + 0x90);
		uVar21 = 8;
		uVar19 = uVar16;
		Cl2DecodeFrm4(lVar30, param_7 + (ulonglong)uVar2, (ulonglong) * (uint *)(puVar28 + 0x7c),
		    (ulonglong) * (uint *)(puVar28 + 0x8c), (ulonglong) * (uint *)(puVar28 + 0x90), iVar29, 8,
		    (int)uVar22, in_stack_ffffff78);
		if ((int)param_8 != 0) {
			if (*(int *)(puVar28 + 0x98) != 0) {
				uVar14 = (undefined)(param_3 + 1);
				uVar19 = (undefined)(param_6 - 0x40);
				uVar15 = uVar23;
				uVar17 = uVar16;
				uVar21 = uVar20;
				FUN_100b1078(param_1 + -0x40, param_2 - 1, param_3 + 1, param_4, param_5, param_6 - 0x40, param_7,
				    (char)uVar22, in_stack_ffffff78);
			}
		}
	}
	uVar31 = (undefined)in_stack_ffffff78;
	uVar23 = (undefined)uVar22;
	if ((*(byte *)(*(int *)puVar8 + iVar3 + iVar4) & 1) != 0) {
		uVar19 = 8;
		uVar21 = 0;
		uVar14 = uVar18;
		uVar15 = uVar20;
		uVar17 = uVar16;
		DrawClippedMissile(iVar7, param_3, param_6, param_7, param_5, 8, 0, uVar22, in_stack_ffffff78);
	}
	cVar13 = *(char *)(*(int *)ppuVar12[-0x1d66] + iVar3 + iVar4);
	if (cVar13 != '\0') {
		town_special_lower((char)param_1 + (char)*(undefined4 *)(ppuVar12[-0x1da6] + iVar29 * 0x40), cVar13,
		    uVar14, uVar15, uVar17, uVar19, uVar21, uVar23, uVar31, in_stack_ffffff7f,
		    in_stack_ffffff88, in_stack_ffffff8c);
	}
	return;
}

void town_draw_lower_2(ulonglong param_1, ulonglong param_2, ulonglong param_3, ulonglong param_4,
    int param_5, longlong param_6, int param_7, char param_8, undefined4 param_9,
    undefined param_10, undefined4 param_11)

{
	short sVar1;
	ushort uVar2;
	uint uVar3;
	int iVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	uint *puVar8;
	longlong lVar9;
	ulonglong uVar10;
	longlong lVar11;
	ulonglong uVar12;
	ulonglong uVar13;
	ulonglong uVar14;
	ulonglong uVar15;
	longlong lVar16;
	ulonglong uVar17;
	uint *puVar18;
	int iVar19;
	ulonglong uVar20;
	uint *puVar21;
	int iVar22;
	int iVar23;
	int iVar24;
	int iVar25;
	longlong lVar26;
	longlong lVar27;
	undefined4 in_stack_ffffff78;

	puVar8 = _DAT_100f2080;
	puVar7 = PTR_DAT_100f1a54;
	puVar6 = PTR_DAT_100f1938;
	puVar5 = PTR_DAT_100f17cc;
	lVar16 = (longlong)param_8;
	uVar15 = SEXT48(param_7);
	uVar13 = SEXT48(param_5);
	uVar17 = ZEXT48(PTR_DAT_100f1a4c);
	iVar4 = (int)param_6;
	uVar3 = (iVar4 + 1) * 2;
	uVar20 = (ulonglong)uVar3;
	iVar19 = (int)param_4;
	uVar14 = param_6;
	if (param_7 != 0) {
		iVar22 = (int)param_2;
		if ((((iVar22 < 0) || (0x6f < iVar22)) || (iVar24 = (int)param_1, iVar24 < 0)) || (0x6f < iVar24)) {
			uVar14 = param_6;
			town_clear_low_buf((undefined *)(*(int *)PTR_DAT_100f17cc + *(int *)(PTR_DAT_100f1938 + iVar19 * 4) + (int)param_3));
		} else {
			sVar1 = *(short *)(*(int *)PTR_DAT_100f1a54 + iVar24 * 0xe0 + iVar22 * 2);
			*_DAT_100f2080 = (int)sVar1;
			if (((longlong)sVar1 & 0xffffffffU) == 0) {
				uVar14 = param_6;
				town_clear_low_buf((undefined *)(*(int *)puVar5 + *(int *)(puVar6 + iVar19 * 4) + (int)param_3));
			} else {
				uVar12 = (ulonglong) * (uint *)puVar5;
				lVar11 = (ulonglong) * (uint *)(puVar6 + iVar19 * 4) + param_3;
				lVar26 = uVar12 + lVar11 + -0x5fe0;
				uVar14 = param_6;
				lVar9 = IsometricCoord(param_1, iVar22);
				uVar10 = (ulonglong) * (uint *)uVar17;
				iVar22 = 0;
				lVar9 = uVar10 + (ulonglong)(uint)((int)lVar9 << 5);
				do {
					if ((iVar4 <= iVar22) && (uVar2 = *(ushort *)((int)lVar9 + 6), *puVar8 = (uint)uVar2, uVar2 != 0)) {
						drawLowerScreen(lVar26, (char)uVar10, (char)lVar11, (char)uVar12, (char)uVar13, (char)uVar14,
						    (char)uVar15, (char)lVar16, in_stack_ffffff78);
					}
					iVar22 = iVar22 + 1;
					lVar9 = lVar9 + 4;
					lVar26 = lVar26 + -0x6000;
				} while (iVar22 < 7);
				if ((int)uVar3 < 8) {
					lVar16 = 0;
					uVar13 = uVar20;
					uVar14 = param_3;
					uVar15 = param_4;
					town_draw_clipped_town_2((ulonglong) * (uint *)puVar5 + (ulonglong) * (uint *)(puVar6 + iVar19 * 4) + param_3, param_1, param_2, param_6,
					    uVar20, param_3, param_4, 0, in_stack_ffffff78);
				}
			}
		}
		param_1 = param_1 + 1;
		param_2 = param_2 - 1;
		param_3 = param_3 + 0x40;
	}
	puVar21 = (uint *)(puVar6 + iVar19 * 4);
	lVar9 = param_1 * 0xe0;
	iVar19 = (int)param_2 << 1;
	iVar22 = 0;
	while (true) {
		puVar18 = (uint *)uVar17;
		iVar23 = (int)param_2;
		iVar25 = (int)param_1;
		iVar24 = (int)param_3;
		if (param_5 - param_7 <= iVar22)
			break;
		if (((iVar23 < 0) || (0x6f < iVar23)) || ((iVar25 < 0 || (0x6f < iVar25)))) {
			town_clear_low_buf((undefined *)(*(int *)puVar5 + *puVar21 + iVar24));
		} else {
			*puVar8 = (int)*(short *)(*(int *)puVar7 + (int)lVar9 + iVar19);
			if (*puVar8 == 0) {
				town_clear_low_buf((undefined *)(*(int *)puVar5 + *puVar21 + iVar24));
			} else {
				uVar12 = (ulonglong) * (uint *)puVar5;
				lVar26 = (ulonglong)*puVar21 + param_3;
				lVar27 = uVar12 + lVar26 + -0x6000;
				lVar11 = IsometricCoord(param_1, iVar23);
				uVar10 = (ulonglong) * (uint *)uVar17;
				iVar24 = 0;
				lVar11 = uVar10 + (ulonglong)(uint)((int)lVar11 << 5);
				do {
					if (iVar4 <= iVar24) {
						uVar2 = *(ushort *)((int)lVar11 + 4);
						*puVar8 = (uint)uVar2;
						if (uVar2 != 0) {
							drawLowerScreen(lVar27, (char)uVar10, (char)lVar26, (char)uVar12, (char)uVar13, (char)uVar14,
							    (char)uVar15, (char)lVar16, in_stack_ffffff78);
						}
						uVar2 = *(ushort *)((int)lVar11 + 6);
						*puVar8 = (uint)uVar2;
						if (uVar2 != 0) {
							drawLowerScreen(lVar27 + 0x20, (char)uVar10, (char)lVar26, (char)uVar12, (char)uVar13,
							    (char)uVar14, (char)uVar15, (char)lVar16, in_stack_ffffff78);
						}
					}
					iVar24 = iVar24 + 1;
					lVar11 = lVar11 + 4;
					lVar27 = lVar27 + -0x6000;
				} while (iVar24 < 7);
				if ((int)uVar3 < 8) {
					lVar16 = 1;
					uVar13 = uVar20;
					uVar14 = param_3;
					uVar15 = param_4;
					town_draw_clipped_town_2((ulonglong) * (uint *)puVar5 + (ulonglong)*puVar21 + param_3 + uVar20 * -0x3000, param_1, param_2, param_6, uVar20, param_3, param_4, 1, in_stack_ffffff78);
				}
			}
		}
		lVar9 = lVar9 + 0xe0;
		param_1 = param_1 + 1;
		iVar19 = iVar19 + -2;
		param_2 = param_2 - 1;
		param_3 = param_3 + 0x40;
		iVar22 = iVar22 + 1;
	}
	if (param_7 != 0) {
		if ((((iVar23 < 0) || (0x6f < iVar23)) || (iVar25 < 0)) || (0x6f < iVar25)) {
			town_clear_low_buf((undefined *)(*(int *)puVar5 + *puVar21 + iVar24));
		} else {
			*puVar8 = (int)*(short *)(*(int *)puVar7 + iVar25 * 0xe0 + iVar23 * 2);
			if (*puVar8 == 0) {
				town_clear_low_buf((undefined *)(*(int *)puVar5 + *puVar21 + iVar24));
			} else {
				uVar10 = (ulonglong) * (uint *)puVar5;
				lVar11 = (ulonglong)*puVar21 + param_3;
				lVar26 = uVar10 + lVar11 + -0x6000;
				lVar9 = IsometricCoord(param_1, iVar23);
				uVar17 = (ulonglong)*puVar18;
				iVar19 = 0;
				lVar9 = uVar17 + (ulonglong)(uint)((int)lVar9 << 5);
				do {
					if ((iVar4 <= iVar19) && (uVar2 = *(ushort *)((int)lVar9 + 4), *puVar8 = (uint)uVar2, uVar2 != 0)) {
						drawLowerScreen(lVar26, (char)uVar17, (char)lVar11, (char)uVar10, (char)uVar13, (char)uVar14,
						    (char)uVar15, (char)lVar16, in_stack_ffffff78);
					}
					iVar19 = iVar19 + 1;
					lVar9 = lVar9 + 4;
					lVar26 = lVar26 + -0x6000;
				} while (iVar19 < 7);
				if ((int)uVar3 < 8) {
					town_draw_clipped_town_2((ulonglong) * (uint *)puVar5 + (ulonglong)*puVar21 + param_3, param_1, param_2,
					    param_6, uVar20, param_3, param_4, 0, in_stack_ffffff78);
				}
			}
		}
	}
	return;
}

void FUN_100b19d0(longlong param_1, longlong param_2, ulonglong param_3, undefined8 param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, char param_8,
    undefined4 param_9)

{
	ushort uVar1;
	uint *puVar2;
	undefined **ppuVar3;
	longlong lVar4;
	ulonglong uVar5;
	ulonglong uVar6;
	undefined8 uVar7;
	ulonglong uVar8;
	ulonglong uVar9;
	ulonglong uVar10;
	longlong lVar11;
	int iVar12;
	ushort *puVar13;
	undefined4 in_stack_ffffff98;

	puVar2 = _DAT_100f2080;
	lVar11 = (longlong)param_8;
	ppuVar3 = &toc;
	uVar6 = param_3;
	uVar7 = param_4;
	uVar8 = param_5;
	uVar9 = param_6;
	uVar10 = param_7;
	lVar4 = IsometricCoord(param_2, (int)param_3);
	uVar5 = ZEXT48(ppuVar3[-0x1d61]);
	iVar12 = 0;
	puVar13 = (ushort *)(*(int *)ppuVar3[-0x1d61] + (int)lVar4 * 0x20);
	lVar4 = param_1;
	do {
		if (iVar12 <= (int)param_4) {
			uVar1 = *puVar13;
			*puVar2 = (uint)uVar1;
			if (uVar1 != 0) {
				drawUpperScreen(lVar4, (char)uVar5, (char)uVar6, (char)uVar7, (char)uVar8, (char)uVar9, (char)uVar10,
				    (char)lVar11, in_stack_ffffff98);
			}
			uVar1 = puVar13[1];
			*puVar2 = (uint)uVar1;
			if (uVar1 != 0) {
				drawUpperScreen(lVar4 + 0x20, (char)uVar5, (char)uVar6, (char)uVar7, (char)uVar8, (char)uVar9,
				    (char)uVar10, (char)lVar11, in_stack_ffffff98);
			}
		}
		iVar12 = iVar12 + 1;
		puVar13 = puVar13 + 2;
		lVar4 = lVar4 + -0x6000;
	} while (iVar12 < 7);
	FUN_100b1aac(param_1, param_2, param_3, param_4, param_5, param_6, param_7, 0, in_stack_ffffff98);
	return;
}

void FUN_100b1aac(longlong param_1, ulonglong param_2, ulonglong param_3, undefined8 param_4,
    ulonglong param_5, ulonglong param_6, ulonglong param_7, ulonglong param_8,
    undefined4 param_9)

{
	short sVar1;
	uint uVar2;
	int iVar3;
	int iVar4;
	undefined *puVar5;
	undefined *puVar6;
	int iVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined **ppuVar12;
	char cVar13;
	undefined uVar14;
	undefined uVar15;
	undefined uVar16;
	undefined uVar17;
	undefined uVar18;
	undefined uVar19;
	undefined uVar20;
	undefined uVar21;
	int iVar23;
	ulonglong uVar22;
	undefined uVar24;
	undefined *puVar25;
	int iVar26;
	int iVar27;
	undefined *puVar28;
	undefined *puVar29;
	longlong lVar30;
	undefined4 in_stack_ffffff78;
	undefined uVar31;
	undefined in_stack_ffffff7f;
	undefined4 in_stack_ffffff88;
	undefined4 in_stack_ffffff8c;

	puVar6 = PTR_DAT_100f1954;
	puVar11 = PTR_DAT_100f1950;
	puVar10 = PTR_DAT_100f1880;
	puVar28 = PTR_DAT_100f1878;
	puVar9 = PTR_DAT_100f1874;
	puVar8 = PTR_DAT_100f1834;
	puVar29 = PTR_DAT_100f1828;
	uVar16 = (undefined)param_5;
	uVar20 = (undefined)param_7;
	uVar18 = (undefined)param_6;
	uVar24 = (undefined)param_4;
	uVar14 = (undefined)param_3;
	ppuVar12 = &toc;
	iVar7 = (int)param_2;
	iVar3 = iVar7 * 0x70;
	iVar4 = (int)param_3;
	cVar13 = *(char *)(*(int *)PTR_DAT_100f1944 + iVar3 + iVar4);
	iVar23 = (int)param_5;
	uVar22 = param_8;
	uVar15 = uVar24;
	uVar17 = uVar16;
	uVar19 = uVar18;
	uVar21 = uVar20;
	if (cVar13 != '\0') {
		cVar13 = cVar13 + -1;
		iVar27 = (int)cVar13 * 0x170;
		puVar5 = PTR_DAT_100f1940 + iVar27;
		uVar2 = *(uint *)(puVar5 + 0x28);
		uVar22 = param_8;
		ppuVar12 = &toc;
		puVar25 = PTR_DAT_100f1940;
		if (cVar13 == *PTR_DAT_100f1888) {
			uVar22 = param_5;
			ppuVar12 = &toc;
			puVar25 = PTR_DAT_100f1940;
			CelDecodeClr(0xb5, param_6 - (ulonglong)uVar2, param_7, (ulonglong) * (uint *)(puVar5 + 0x18),
			    (ulonglong) * (uint *)(puVar5 + 0x20), (ulonglong) * (uint *)(puVar5 + 0x24), 0, iVar23,
			    in_stack_ffffff78);
		}
		puVar25 = puVar25 + iVar27;
		uVar14 = (undefined) * (uint *)(puVar25 + 0x18);
		uVar15 = (undefined) * (uint *)(puVar25 + 0x20);
		uVar17 = (undefined) * (uint *)(puVar25 + 0x24);
		uVar19 = 0;
		uVar21 = uVar16;
		CelDrawHdrOnly((int)(param_6 - (ulonglong)uVar2), param_7, (ulonglong) * (uint *)(puVar25 + 0x18),
		    (ulonglong) * (uint *)(puVar25 + 0x20), (ulonglong) * (uint *)(puVar25 + 0x24), 0, iVar23,
		    (int)uVar22, in_stack_ffffff78);
	}
	if ((*(byte *)(*(int *)puVar8 + iVar3 + iVar4) & 0x10) != 0) {
		iVar27 = (int)*(short *)(*(int *)puVar6 + iVar7 * 0xe0 + iVar4 * 2 + -2) + 1;
		iVar26 = iVar27 * -0x10c;
		puVar5 = puVar28 + iVar26;
		uVar2 = *(uint *)(puVar5 + 0x44);
		if (-iVar27 == *(int *)puVar10) {
			uVar22 = param_5;
			FUN_1003e4e8(0xa6, param_6 - (ulonglong)uVar2, param_7, (ulonglong) * (uint *)(puVar5 + 0x24),
			    (ulonglong) * (uint *)(puVar5 + 0x34), (ulonglong) * (uint *)(puVar5 + 0x40), 0, iVar23,
			    in_stack_ffffff78);
		}
		puVar5 = puVar28 + iVar26;
		uVar14 = (undefined) * (uint *)(puVar5 + 0x24);
		uVar15 = (undefined) * (uint *)(puVar5 + 0x34);
		uVar17 = (undefined) * (uint *)(puVar5 + 0x40);
		uVar19 = 0;
		uVar21 = uVar16;
		FUN_1003d138((int)(param_6 - (ulonglong)uVar2), param_7, (ulonglong) * (uint *)(puVar5 + 0x24),
		    (ulonglong) * (uint *)(puVar5 + 0x34), (ulonglong) * (uint *)(puVar5 + 0x40), 0, iVar23,
		    (int)uVar22, in_stack_ffffff78);
	}
	sVar1 = *(short *)(*(int *)puVar6 + iVar7 * 0xe0 + iVar4 * 2);
	if (0 < sVar1) {
		iVar26 = (int)sVar1 + -1;
		iVar27 = iVar26 * 0x10c;
		puVar6 = puVar28 + iVar27;
		uVar2 = *(uint *)(puVar6 + 0x44);
		if (iVar26 == *(int *)puVar10) {
			uVar22 = param_5;
			FUN_1003e4e8(0xa6, param_6 - (ulonglong)uVar2, param_7, (ulonglong) * (uint *)(puVar6 + 0x24),
			    (ulonglong) * (uint *)(puVar6 + 0x34), (ulonglong) * (uint *)(puVar6 + 0x40), 0, iVar23,
			    in_stack_ffffff78);
		}
		puVar28 = puVar28 + iVar27;
		uVar14 = (undefined) * (uint *)(puVar28 + 0x24);
		uVar15 = (undefined) * (uint *)(puVar28 + 0x34);
		uVar17 = (undefined) * (uint *)(puVar28 + 0x40);
		uVar19 = 0;
		uVar21 = uVar16;
		FUN_1003d138((int)(param_6 - (ulonglong)uVar2), param_7, (ulonglong) * (uint *)(puVar28 + 0x24),
		    (ulonglong) * (uint *)(puVar28 + 0x34), (ulonglong) * (uint *)(puVar28 + 0x40), 0, iVar23,
		    (int)uVar22, in_stack_ffffff78);
	}
	if ((*(byte *)(*(int *)puVar8 + iVar3 + iVar4) & 0x20) != 0) {
		cVar13 = -(*(char *)(*(int *)puVar11 + iVar3 + iVar4 + -1) + '\x01');
		iVar27 = (int)cVar13 * 0x55ec;
		puVar28 = puVar29 + iVar27;
		uVar2 = *(uint *)(puVar28 + 100);
		lVar30 = (param_6 + (ulonglong) * (uint *)(puVar28 + 0x60)) - (ulonglong) * (uint *)(puVar28 + 0x94);
		if (cVar13 == *puVar9) {
			uVar22 = param_5;
			Cl2DecodeFrm2(0xa5, lVar30, param_7 + (ulonglong)uVar2, (ulonglong) * (uint *)(puVar28 + 0x7c),
			    (ulonglong) * (uint *)(puVar28 + 0x8c), (ulonglong) * (uint *)(puVar28 + 0x90), 0,
			    iVar23, in_stack_ffffff78);
		}
		puVar28 = puVar29 + iVar27;
		uVar14 = (undefined) * (uint *)(puVar28 + 0x7c);
		uVar15 = (undefined) * (uint *)(puVar28 + 0x8c);
		uVar17 = (undefined) * (uint *)(puVar28 + 0x90);
		uVar19 = 0;
		uVar21 = uVar16;
		Cl2DecodeFrm1(lVar30, param_7 + (ulonglong)uVar2, (ulonglong) * (uint *)(puVar28 + 0x7c),
		    (ulonglong) * (uint *)(puVar28 + 0x8c), (ulonglong) * (uint *)(puVar28 + 0x90), 0, iVar23,
		    (int)uVar22, in_stack_ffffff78);
		if ((int)param_8 != 0) {
			if (*(int *)(puVar28 + 0x98) != 0) {
				uVar14 = (undefined)(param_3 + 1);
				uVar19 = (undefined)(param_6 - 0x40);
				uVar15 = uVar24;
				uVar17 = uVar16;
				uVar21 = uVar20;
				FUN_100b19d0(param_1 + -0x40, param_2 - 1, param_3 + 1, param_4, param_5, param_6 - 0x40, param_7,
				    (char)uVar22, in_stack_ffffff78);
			}
		}
	}
	if ((*(byte *)(*(int *)puVar8 + iVar3 + iVar4) & 4) != 0) {
		uVar17 = 0;
		uVar21 = 0;
		uVar14 = uVar18;
		uVar15 = uVar20;
		uVar19 = uVar16;
		DrawDeadPlayer(param_2, param_3, param_6, param_7, 0, param_5, 0, uVar22, in_stack_ffffff78);
	}
	cVar13 = *(char *)(*(int *)puVar11 + iVar3 + iVar4);
	if ('\0' < cVar13) {
		cVar13 = cVar13 + -1;
		iVar27 = (int)cVar13 * 0x55ec;
		puVar28 = puVar29 + iVar27;
		uVar2 = *(uint *)(puVar28 + 100);
		lVar30 = (param_6 + (ulonglong) * (uint *)(puVar28 + 0x60)) - (ulonglong) * (uint *)(puVar28 + 0x94);
		if (cVar13 == *puVar9) {
			uVar22 = param_5;
			Cl2DecodeFrm2(0xa5, lVar30, param_7 + (ulonglong)uVar2, (ulonglong) * (uint *)(puVar28 + 0x7c),
			    (ulonglong) * (uint *)(puVar28 + 0x8c), (ulonglong) * (uint *)(puVar28 + 0x90), 0,
			    iVar23, in_stack_ffffff78);
		}
		puVar29 = puVar29 + iVar27;
		uVar14 = (undefined) * (uint *)(puVar29 + 0x7c);
		uVar15 = (undefined) * (uint *)(puVar29 + 0x8c);
		uVar17 = (undefined) * (uint *)(puVar29 + 0x90);
		uVar19 = 0;
		uVar21 = uVar16;
		Cl2DecodeFrm1(lVar30, param_7 + (ulonglong)uVar2, (ulonglong) * (uint *)(puVar29 + 0x7c),
		    (ulonglong) * (uint *)(puVar29 + 0x8c), (ulonglong) * (uint *)(puVar29 + 0x90), 0, iVar23,
		    (int)uVar22, in_stack_ffffff78);
		if ((int)param_8 != 0) {
			if (*(int *)(puVar29 + 0x98) != 0) {
				uVar14 = (undefined)(param_3 + 1);
				uVar19 = (undefined)(param_6 - 0x40);
				uVar15 = uVar24;
				uVar17 = uVar16;
				uVar21 = uVar20;
				FUN_100b19d0(param_1 + -0x40, param_2 - 1, param_3 + 1, param_4, param_5, param_6 - 0x40, param_7,
				    (char)uVar22, in_stack_ffffff78);
			}
		}
	}
	uVar31 = (undefined)in_stack_ffffff78;
	uVar24 = (undefined)uVar22;
	if ((*(byte *)(*(int *)puVar8 + iVar3 + iVar4) & 1) != 0) {
		uVar17 = 0;
		uVar21 = 0;
		uVar14 = uVar18;
		uVar15 = uVar20;
		uVar19 = uVar16;
		DrawMissile(iVar7, param_3, param_6, param_7, 0, param_5, 0, uVar22, in_stack_ffffff78);
	}
	cVar13 = *(char *)(*(int *)ppuVar12[-0x1d66] + iVar3 + iVar4);
	if (cVar13 != '\0') {
		FUN_100b07bc((char)param_1, cVar13, uVar14, uVar15, uVar17, uVar19, uVar21, uVar24, uVar31,
		    in_stack_ffffff7f, in_stack_ffffff88, in_stack_ffffff8c);
	}
	return;
}

void town_draw_upper(ulonglong param_1, ulonglong param_2, ulonglong param_3, ulonglong param_4,
    int param_5, ulonglong param_6, int param_7, char param_8, undefined4 param_9)

{
	short sVar1;
	ushort uVar2;
	uint uVar3;
	int iVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	uint *puVar9;
	ulonglong uVar10;
	longlong lVar11;
	ulonglong uVar12;
	longlong lVar13;
	ulonglong uVar14;
	ulonglong uVar15;
	ulonglong uVar16;
	ulonglong uVar17;
	ulonglong uVar18;
	longlong lVar19;
	longlong lVar20;
	ushort *puVar21;
	uint *puVar22;
	int iVar23;
	int iVar24;
	int iVar25;
	int iVar26;
	int iVar27;
	undefined4 in_stack_ffffff78;

	puVar9 = _DAT_100f2080;
	puVar8 = PTR_DAT_100f1a54;
	puVar7 = PTR_DAT_100f1a4c;
	puVar6 = PTR_DAT_100f1938;
	puVar5 = PTR_DAT_100f17cc;
	lVar19 = (longlong)param_8;
	uVar18 = SEXT48(param_7);
	uVar16 = SEXT48(param_5);
	iVar4 = (int)param_6;
	uVar3 = (iVar4 + 1) * 2;
	uVar10 = (ulonglong)uVar3;
	if (8 < (int)uVar3) {
		uVar10 = 8;
	}
	iVar27 = (int)param_4;
	uVar12 = param_4;
	uVar17 = param_6;
	if (param_7 != 0) {
		iVar25 = (int)param_2;
		if ((((iVar25 < 0) || (0x6f < iVar25)) || (iVar23 = (int)param_1, iVar23 < 0)) || (0x6f < iVar23)) {
			uVar12 = param_4;
			uVar17 = param_6;
			FUN_100b0678((undefined *)(*(int *)PTR_DAT_100f17cc + *(int *)(PTR_DAT_100f1938 + iVar27 * 4) + (int)param_3));
		} else {
			sVar1 = *(short *)(*(int *)PTR_DAT_100f1a54 + iVar23 * 0xe0 + iVar25 * 2);
			*_DAT_100f2080 = (int)sVar1;
			if (((longlong)sVar1 & 0xffffffffU) == 0) {
				uVar12 = param_4;
				uVar17 = param_6;
				FUN_100b0678((undefined *)(*(int *)puVar5 + *(int *)(puVar6 + iVar27 * 4) + (int)param_3));
			} else {
				uVar15 = (ulonglong) * (uint *)puVar5;
				lVar13 = (ulonglong) * (uint *)(puVar6 + iVar27 * 4) + param_3;
				lVar20 = uVar15 + lVar13 + 0x20;
				uVar12 = param_2;
				uVar17 = param_6;
				lVar11 = IsometricCoord(param_1, iVar25);
				iVar23 = 0;
				iVar25 = *(int *)puVar7 + (int)lVar11 * 0x20;
				do {
					if ((iVar23 <= iVar4) && (uVar2 = *(ushort *)(iVar25 + 2), *puVar9 = (uint)uVar2, uVar2 != 0)) {
						drawUpperScreen(lVar20, (char)uVar12, (char)lVar13, (char)uVar15, (char)uVar16, (char)uVar17,
						    (char)uVar18, (char)lVar19, in_stack_ffffff78);
					}
					iVar23 = iVar23 + 1;
					iVar25 = iVar25 + 4;
					lVar20 = lVar20 + -0x6000;
				} while (iVar23 < 7);
				lVar19 = 0;
				uVar12 = param_6;
				uVar16 = uVar10;
				uVar17 = param_3;
				uVar18 = param_4;
				FUN_100b1aac((ulonglong) * (uint *)puVar5 + (ulonglong) * (uint *)(puVar6 + iVar27 * 4) + param_3, param_1, param_2, param_6,
				    uVar10, param_3, param_4, 0, in_stack_ffffff78);
			}
		}
		param_1 = param_1 + 1;
		param_2 = param_2 - 1;
		param_3 = param_3 + 0x40;
	}
	lVar11 = param_1 * 0xe0;
	puVar22 = (uint *)(puVar6 + iVar27 * 4);
	iVar27 = (int)param_2 << 1;
	iVar25 = 0;
	while (true) {
		iVar26 = (int)param_2;
		iVar24 = (int)param_1;
		iVar23 = (int)param_3;
		if (param_5 - param_7 <= iVar25)
			break;
		if (((iVar26 < 0) || (0x6f < iVar26)) || ((iVar24 < 0 || (0x6f < iVar24)))) {
			FUN_100b0678((undefined *)(*(int *)puVar5 + *puVar22 + iVar23));
		} else {
			*puVar9 = (int)*(short *)(*(int *)puVar8 + (int)lVar11 + iVar27);
			if (*puVar9 == 0) {
				FUN_100b0678((undefined *)(*(int *)puVar5 + *puVar22 + iVar23));
			} else {
				uVar14 = (ulonglong) * (uint *)puVar5;
				lVar20 = uVar14 + (ulonglong)*puVar22 + param_3;
				uVar15 = param_2;
				lVar13 = IsometricCoord(param_1, iVar26);
				iVar23 = 0;
				lVar13 = (ulonglong) * (uint *)puVar7 + (ulonglong)(uint)((int)lVar13 << 5);
				do {
					if (iVar23 <= iVar4) {
						uVar2 = *(ushort *)lVar13;
						*puVar9 = (uint)uVar2;
						if (uVar2 != 0) {
							drawUpperScreen(lVar20, (char)uVar15, (char)uVar14, (char)uVar12, (char)uVar16, (char)uVar17,
							    (char)uVar18, (char)lVar19, in_stack_ffffff78);
						}
						uVar2 = *(ushort *)((int)lVar13 + 2);
						*puVar9 = (uint)uVar2;
						if (uVar2 != 0) {
							drawUpperScreen(lVar20 + 0x20, (char)uVar15, (char)uVar14, (char)uVar12, (char)uVar16,
							    (char)uVar17, (char)uVar18, (char)lVar19, in_stack_ffffff78);
						}
					}
					iVar23 = iVar23 + 1;
					lVar13 = lVar13 + 4;
					lVar20 = lVar20 + -0x6000;
				} while (iVar23 < 7);
				lVar19 = 1;
				uVar12 = param_6;
				uVar16 = uVar10;
				uVar17 = param_3;
				uVar18 = param_4;
				FUN_100b1aac((ulonglong) * (uint *)puVar5 + (ulonglong)*puVar22 + param_3, param_1, param_2,
				    param_6, uVar10, param_3, param_4, 1, in_stack_ffffff78);
			}
		}
		lVar11 = lVar11 + 0xe0;
		param_1 = param_1 + 1;
		iVar27 = iVar27 + -2;
		param_2 = param_2 - 1;
		param_3 = param_3 + 0x40;
		iVar25 = iVar25 + 1;
	}
	if (param_7 != 0) {
		if ((((iVar26 < 0) || (0x6f < iVar26)) || (iVar24 < 0)) || (0x6f < iVar24)) {
			FUN_100b0678((undefined *)(*(int *)puVar5 + *puVar22 + iVar23));
		} else {
			*puVar9 = (int)*(short *)(*(int *)puVar8 + iVar24 * 0xe0 + iVar26 * 2);
			if (*puVar9 == 0) {
				FUN_100b0678((undefined *)(*(int *)puVar5 + *puVar22 + iVar23));
			} else {
				uVar14 = (ulonglong) * (uint *)puVar5;
				lVar13 = uVar14 + (ulonglong)*puVar22 + param_3;
				uVar15 = param_2;
				lVar11 = IsometricCoord(param_1, iVar26);
				iVar27 = 0;
				puVar21 = (ushort *)(*(int *)puVar7 + (int)lVar11 * 0x20);
				do {
					if ((iVar27 <= iVar4) && (uVar2 = *puVar21, *puVar9 = (uint)uVar2, uVar2 != 0)) {
						drawUpperScreen(lVar13, (char)uVar15, (char)uVar14, (char)uVar12, (char)uVar16, (char)uVar17,
						    (char)uVar18, (char)lVar19, in_stack_ffffff78);
					}
					iVar27 = iVar27 + 1;
					puVar21 = puVar21 + 2;
					lVar13 = lVar13 + -0x6000;
				} while (iVar27 < 7);
				FUN_100b1aac((ulonglong) * (uint *)puVar5 + (ulonglong)*puVar22 + param_3, param_1, param_2,
				    param_6, uVar10, param_3, param_4, 0, in_stack_ffffff78);
			}
		}
	}
	return;
}

void T_DrawGame(longlong param_1, longlong param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, char param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined4 *puVar5;
	undefined4 *puVar6;
	undefined8 uVar7;
	longlong lVar8;
	longlong lVar9;
	ulonglong uVar10;
	ulonglong uVar11;
	int iVar12;
	ulonglong uVar13;
	ulonglong uVar14;
	int iVar15;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffd0;

	puVar5 = _DAT_100f1d74;
	puVar4 = PTR_DAT_100f1938;
	puVar3 = PTR_DAT_100f180c;
	puVar2 = PTR_DAT_100f17cc;
	puVar1 = PTR_DAT_100f17c8;
	lVar8 = (longlong)param_8;
	uVar10 = param_1 - 10;
	uVar11 = param_2 - 1;
	iVar12 = 10;
	*_DAT_100f1d78 = 0x280;
	puVar6 = _DAT_100f1d70;
	*puVar5 = 0x160;
	puVar5 = _DAT_100f1d6c;
	*puVar6 = 10;
	*puVar5 = 0xb;
	uVar14 = (ulonglong) * (uint *)PTR_DAT_100f1818 + 0x40;
	uVar13 = (ulonglong) * (uint *)(PTR_DAT_100f1818 + 4) + 0xaf;
	if ((*(int *)puVar3 != 0) || (*(int *)PTR_DAT_100f1808 != 0)) {
		iVar12 = 6;
		uVar10 = param_1 - 8;
		uVar11 = param_2 - 3;
		uVar14 = (ulonglong) * (uint *)PTR_DAT_100f1818 + 0x160;
	}
	if ((*(int *)PTR_DAT_100f1814 != 0) || (*(int *)PTR_DAT_100f1810 != 0)) {
		iVar12 = 6;
		uVar10 = uVar10 + 2;
		uVar11 = uVar11 - 2;
		uVar14 = uVar14 - 0x20;
	}
	if (*(uint *)(PTR_DAT_100f1818 + 0x10) < 9) {
		// WARNING: Could not recover jumptable at 0x100b23cc. Too many branches
		// WARNING: Treating indirect jump as call
		(**(code **)(PTR_PTR_LAB_100f3968 + *(uint *)(PTR_DAT_100f1818 + 0x10) * 4))();
		return;
	}
	lVar9 = 0;
	*(int *)puVar1 = *(int *)puVar2 + *(int *)(puVar4 + 0x280);
	do {
		town_draw_upper(uVar10, uVar11, uVar14, uVar13, iVar12, lVar9, 0, (char)lVar8, in_stack_ffffffa8);
		uVar11 = uVar11 + 1;
		uVar7 = 1;
		town_draw_upper(uVar10, uVar11, uVar14 - 0x20, uVar13 + 0x10, iVar12, lVar9, 1, (char)lVar8,
		    in_stack_ffffffa8);
		lVar9 = lVar9 + 1;
		uVar13 = uVar13 + 0x20;
		uVar10 = uVar10 + 1;
	} while ((int)lVar9 < 7);
	iVar15 = 0;
	*(int *)puVar1 = *(int *)puVar2 + *(int *)(puVar4 + 0x800);
	while (iVar15 < 5) {
		town_draw_lower(uVar10, uVar11, uVar14, uVar13, iVar12, 0, (char)uVar7, (char)lVar8, in_stack_ffffffa8);
		uVar11 = uVar11 + 1;
		town_draw_lower(uVar10, uVar11, uVar14 - 0x20, uVar13 + 0x10, iVar12, 1, (char)uVar7, (char)lVar8,
		    in_stack_ffffffa8);
		uVar10 = uVar10 + 1;
		uVar13 = uVar13 + 0x20;
		iVar15 = iVar15 + 1;
	}
	lVar9 = 0;
	do {
		town_draw_lower_2(uVar10, uVar11, uVar14, uVar13, iVar12, lVar9, 0, (char)lVar8, in_stack_ffffffa8,
		    in_stack_ffffffaf, in_stack_ffffffd0);
		uVar11 = uVar11 + 1;
		town_draw_lower_2(uVar10, uVar11, uVar14 - 0x20, uVar13 + 0x10, iVar12, lVar9, 1, (char)lVar8,
		    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffd0);
		lVar9 = lVar9 + 1;
		uVar13 = uVar13 + 0x20;
		uVar10 = uVar10 + 1;
	} while ((int)lVar9 < 7);
	return;
}

void T_DrawZoom(longlong param_1, longlong param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, char param_8,
    undefined4 param_9)

{
	undefined uVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined4 *puVar5;
	undefined4 *puVar6;
	undefined4 *puVar7;
	undefined2 uVar8;
	ulonglong uVar9;
	ulonglong uVar10;
	undefined2 *puVar11;
	int iVar12;
	undefined *puVar13;
	int iVar14;
	undefined2 *puVar15;
	longlong lVar16;
	undefined8 uVar17;
	int iVar18;
	longlong lVar19;
	int iVar20;
	ulonglong uVar21;
	ulonglong uVar22;
	ulonglong uVar23;
	ulonglong uVar24;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffd0;

	puVar7 = _DAT_100f1d74;
	puVar5 = _DAT_100f1d6c;
	puVar4 = PTR_DAT_100f1938;
	puVar2 = PTR_DAT_100f17cc;
	puVar13 = PTR_DAT_100f17c8;
	lVar16 = (longlong)param_8;
	uVar9 = ZEXT48(&toc);
	uVar21 = param_1 - 6;
	uVar22 = param_2 - 1;
	*_DAT_100f1d78 = 0x180;
	puVar6 = _DAT_100f1d70;
	*puVar7 = 0xc0;
	*puVar6 = 6;
	puVar3 = PTR_DAT_100f1818;
	*puVar5 = 6;
	uVar10 = (ulonglong) * (uint *)puVar3;
	uVar24 = uVar10 + 0x40;
	uVar23 = (ulonglong) * (uint *)(puVar3 + 4) + 0x8f;
	if (8 < *(uint *)(puVar3 + 0x10)) {
		lVar19 = 0;
		*(int *)puVar13 = *(int *)puVar2 + *(int *)(puVar4 + 0x23c);
		do {
			town_draw_upper(uVar21, uVar22, uVar24, uVar23, 6, lVar19, 0, (char)lVar16, in_stack_ffffffa8);
			uVar22 = uVar22 + 1;
			uVar17 = 1;
			town_draw_upper(uVar21, uVar22, uVar10 + 0x20, uVar23 + 0x10, 6, lVar19, 1, (char)lVar16,
			    in_stack_ffffffa8);
			lVar19 = lVar19 + 1;
			uVar23 = uVar23 + 0x20;
			uVar21 = uVar21 + 1;
		} while ((int)lVar19 < 7);
		iVar20 = 0;
		*(int *)puVar13 = *(int *)puVar2 + *(int *)(puVar4 + 0x500);
		while (iVar20 < 0) {
			town_draw_lower(uVar21, uVar22, uVar24, uVar23, 6, 0, (char)uVar17, (char)lVar16, in_stack_ffffffa8);
			uVar22 = uVar22 + 1;
			town_draw_lower(uVar21, uVar22, uVar10 + 0x20, uVar23 + 0x10, 6, 1, (char)uVar17, (char)lVar16,
			    in_stack_ffffffa8);
			uVar21 = uVar21 + 1;
			uVar23 = uVar23 + 0x20;
			iVar20 = iVar20 + 1;
		}
		lVar19 = 0;
		do {
			town_draw_lower_2(uVar21, uVar22, uVar24, uVar23, 6, lVar19, 0, (char)lVar16, in_stack_ffffffa8,
			    in_stack_ffffffaf, in_stack_ffffffd0);
			uVar22 = uVar22 + 1;
			town_draw_lower_2(uVar21, uVar22, uVar10 + 0x20, uVar23 + 0x10, 6, lVar19, 1, (char)lVar16,
			    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffd0);
			lVar19 = lVar19 + 1;
			uVar23 = uVar23 + 0x20;
			uVar21 = uVar21 + 1;
		} while ((int)lVar19 < 7);
		iVar20 = (int)uVar9;
		if ((**(int **)(iVar20 + -0x77c4) == 0) && (**(int **)(iVar20 + -0x77c8) == 0)) {
			if ((**(int **)(iVar20 + -0x77bc) == 0) && (**(int **)(iVar20 + -0x77c0) == 0)) {
				iVar12 = 0x3bd60;
				iVar20 = 0x5fa40;
				iVar14 = 0x140;
			} else {
				iVar12 = 0x3bdb0;
				iVar20 = 0x5fa40;
				iVar14 = 0xa0;
			}
		} else {
			iVar12 = 0x3bdb0;
			iVar20 = 0x5fb80;
			iVar14 = 0xa0;
		}
		iVar18 = iVar14 + 0x300;
		puVar11 = (undefined2 *)(*(int *)puVar2 + iVar20);
		puVar13 = (undefined *)(*(int *)puVar2 + iVar12);
		puVar15 = puVar11 + 0x180;
		lVar16 = 0xb0;
		iVar20 = iVar14;
		do {
			do {
				uVar1 = *puVar13;
				iVar20 = iVar20 + -1;
				puVar13 = puVar13 + 1;
				uVar8 = CONCAT11(uVar1, uVar1);
				*puVar11 = uVar8;
				puVar11 = puVar11 + 1;
				*puVar15 = uVar8;
				puVar15 = puVar15 + 1;
			} while (iVar20 != 0);
			lVar16 = lVar16 + -1;
			puVar13 = puVar13 + -iVar18;
			puVar15 = puVar15 + iVar18 * 0x7fffffff;
			puVar11 = puVar11 + iVar18 * 0x7fffffff;
			iVar20 = iVar14;
		} while (lVar16 != 0);
		return;
	}
	// WARNING: Could not recover jumptable at 0x100b2624. Too many branches
	// WARNING: Treating indirect jump as call
	(**(code **)(_DAT_100f3964 + *(uint *)(puVar3 + 0x10) * 4))();
	return;
}

void T_DrawView(longlong param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined4 *puVar4;
	undefined **ppuVar5;
	ulonglong uVar6;
	undefined uVar7;
	ulonglong uVar8;
	undefined uVar9;
	ulonglong uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined7 uVar13;
	undefined uVar14;
	undefined uVar15;
	undefined uVar16;
	undefined uVar17;
	undefined4 in_stack_ffffffc8;

	puVar4 = _DAT_100f1d3c;
	puVar2 = PTR_DAT_100f1918;
	puVar1 = PTR_DAT_100f18a0;
	uVar13 = (undefined7)((ulonglong)param_5 >> 8);
	uVar14 = (undefined)param_5;
	ppuVar5 = &toc;
	uVar10 = ZEXT48(_DAT_100f1d3c);
	*_DAT_100f1d40 = 0;
	puVar3 = PTR_DAT_100f1964;
	uVar8 = ZEXT48(PTR_DAT_100f1964);
	*puVar4 = 0;
	uVar11 = SUB41(puVar4, 0);
	uVar9 = SUB41(puVar3, 0);
	if (*(int *)puVar3 == 0) {
		T_DrawZoom(param_1, param_2, uVar9, uVar11, uVar14, (char)param_6, (char)param_7, (char)param_8,
		    in_stack_ffffffc8);
	} else {
		T_DrawGame(param_1, param_2, uVar9, uVar11, uVar14, (char)param_6, (char)param_7, (char)param_8,
		    in_stack_ffffffc8);
	}
	if (*(int *)ppuVar5[-0x1dde] != 0) {
		DrawAutomap((char)ppuVar5[-0x1dde], (char)param_2, (char)uVar8, (char)uVar10, uVar14, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffffc8);
	}
	if ((*ppuVar5[-0x1dd9] != '\0') && (*puVar1 == '\0')) {
		DrawSText((char)ppuVar5[-0x1dd9], (char)param_2, (char)uVar8, (char)uVar10, uVar14, (char)param_6,
		    (char)param_7, (char)param_8, in_stack_ffffffc8);
	}
	if (*(int *)ppuVar5[-0x1def] == 0) {
		if (*(int *)ppuVar5[-0x1df0] != 0) {
			DrawSpellBook();
		}
	} else {
		DrawInv();
	}
	DrawDurIcon();
	if (*(int *)ppuVar5[-0x1df1] == 0) {
		if (*(int *)ppuVar5[-0x1df2] == 0) {
			param_2 = ZEXT48(ppuVar5[-0x1dea]);
			if ((*(int *)(ppuVar5[-0x1dea] + *(int *)ppuVar5[-0x1deb] * 0x55ec + 0x180) != 0) && (*(int *)puVar2 == 0)) {
				DrawLevelUpIcon();
			}
		} else {
			DrawQuestLog();
		}
	} else {
		DrawChr();
	}
	uVar6 = ZEXT48(ppuVar5[-0x1d9d]);
	if (*(int *)ppuVar5[-0x1d9d] != 0) {
		uVar6 = DrawUniqueInfo();
	}
	uVar17 = (undefined)param_8;
	uVar16 = (undefined)param_7;
	uVar15 = (undefined)param_6;
	uVar12 = (undefined)uVar10;
	uVar11 = (undefined)uVar8;
	uVar9 = (undefined)param_2;
	if (*puVar1 != '\0') {
		DrawQText(uVar6, param_2, uVar8, uVar10, CONCAT71(uVar13, uVar14), param_6, param_7, param_8,
		    in_stack_ffffffc8);
	}
	if (*(int *)puVar2 != 0) {
		DrawSpellList();
	}
	if (*(int *)ppuVar5[-0x1dc1] != 0) {
		DrawGoldSplit((ulonglong) * (uint *)ppuVar5[-0x1dc2]);
	}
	if (*(int *)ppuVar5[-0x1d75] != 0) {
		DrawHelp();
	}
	if (*ppuVar5[-0x1d76] != '\0') {
		DrawDiabloMsg();
	}
	if ((*(int *)ppuVar5[-0x1d74] != 0) && (*(int *)ppuVar5[-0x1d73] == 0)) {
		gmenu_draw_pause();
	}
	DrawPlrMsg();
	gmenu_draw();
	doom_draw();
	uVar7 = DrawInfoBox();
	uVar7 = DrawLifeFlask(uVar7, uVar9, uVar11, uVar12, uVar14, uVar15, uVar16, uVar17, in_stack_ffffffc8);
	DrawManaFlask(uVar7, uVar9, uVar11, uVar12, uVar14, uVar15, uVar16, uVar17, in_stack_ffffffc8);
	return;
}

void SetTownMicros(undefined8 param_1, undefined8 param_2, longlong param_3, longlong param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	short sVar1;
	undefined *puVar2;
	int iVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined4 *puVar7;
	undefined4 *puVar8;
	undefined4 *puVar9;
	undefined4 *puVar10;
	ulonglong uVar11;
	int iVar12;
	ulonglong uVar13;
	longlong lVar14;
	undefined2 *puVar15;
	undefined uVar16;
	uint uVar17;
	undefined uVar18;
	longlong lVar19;
	longlong lVar20;
	longlong lVar21;
	int iVar22;
	longlong lVar23;
	int iVar24;
	int iVar25;
	longlong lVar26;
	undefined4 in_stack_ffffff78;

	puVar10 = _DAT_100f1d78;
	puVar9 = _DAT_100f1d74;
	puVar8 = _DAT_100f1d70;
	puVar7 = _DAT_100f1d6c;
	puVar6 = PTR_DAT_100f1a60;
	puVar5 = PTR_DAT_100f1a54;
	puVar4 = PTR_DAT_100f1a4c;
	uVar18 = (undefined)param_5;
	lVar21 = (longlong)param_8;
	lVar20 = (longlong)param_7;
	lVar19 = (longlong)param_6;
	uVar11 = ZEXT48(&toc);
	uVar13 = FUN_100b8f7c((ulonglong) * (uint *)PTR_DAT_100f1a60, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff78);
	iVar22 = 0;
	iVar24 = 0;
	do {
		lVar23 = 0;
		iVar25 = 0;
		do {
			sVar1 = *(short *)(iVar24 + *(int *)puVar5 + iVar25);
			lVar14 = IsometricCoord(lVar23, iVar22);
			iVar12 = (int)uVar11;
			lVar14 = (ulonglong) * (uint *)puVar4 + (ulonglong)(uint)((int)lVar14 << 5);
			uVar16 = (undefined)lVar14;
			if (sVar1 == 0) {
				puVar15 = (undefined2 *)lVar14;
				*puVar15 = 0;
				puVar15[1] = 0;
				puVar15[2] = 0;
				puVar15[3] = 0;
				puVar15[4] = 0;
				puVar15[5] = 0;
				puVar15[6] = 0;
				puVar15[7] = 0;
				puVar15[8] = 0;
				puVar15[9] = 0;
				puVar15[10] = 0;
				puVar15[0xb] = 0;
				puVar15[0xc] = 0;
				puVar15[0xd] = 0;
				puVar15[0xe] = 0;
				puVar15[0xf] = 0;
			} else {
				lVar26 = 2;
				param_4 = uVar13 + (ulonglong)(uint)(((int)sVar1 + -1) * 0x20);
				param_3 = 0;
				do {
					uVar17 = (uint)param_3;
					iVar3 = (int)param_4;
					puVar2 = (undefined *)(iVar3 + (0xe - (uVar17 & 0xe)) * 2);
					puVar15 = (undefined2 *)lVar14;
					*puVar15 = CONCAT11(puVar2[1], *puVar2);
					puVar2 = (undefined *)(iVar3 + ((0xe - (uVar17 + 1 & 0xe)) + (uVar17 + 1 & 1)) * 2);
					puVar15[1] = CONCAT11(puVar2[1], *puVar2);
					puVar2 = (undefined *)(iVar3 + (0xe - (uVar17 + 2 & 0xe)) * 2);
					puVar15[2] = CONCAT11(puVar2[1], *puVar2);
					puVar2 = (undefined *)(iVar3 + ((0xe - (uVar17 + 3 & 0xe)) + (uVar17 + 3 & 1)) * 2);
					puVar15[3] = CONCAT11(puVar2[1], *puVar2);
					puVar2 = (undefined *)(iVar3 + (0xe - (uVar17 + 4 & 0xe)) * 2);
					puVar15[4] = CONCAT11(puVar2[1], *puVar2);
					puVar2 = (undefined *)(iVar3 + ((0xe - (uVar17 + 5 & 0xe)) + (uVar17 + 5 & 1)) * 2);
					puVar15[5] = CONCAT11(puVar2[1], *puVar2);
					puVar2 = (undefined *)(iVar3 + (0xe - (uVar17 + 6 & 0xe)) * 2);
					puVar15[6] = CONCAT11(puVar2[1], *puVar2);
					puVar2 = (undefined *)(iVar3 + ((0xe - (uVar17 + 7 & 0xe)) + (uVar17 + 7 & 1)) * 2);
					param_3 = param_3 + 8;
					puVar15[7] = CONCAT11(puVar2[1], *puVar2);
					lVar14 = lVar14 + 0x10;
					uVar16 = (undefined)lVar14;
					lVar26 = lVar26 + -1;
				} while (lVar26 != 0);
			}
			lVar23 = lVar23 + 1;
			iVar25 = iVar25 + 0xe0;
		} while ((int)lVar23 < 0x70);
		iVar22 = iVar22 + 1;
		iVar24 = iVar24 + 2;
	} while (iVar22 < 0x70);
	FUN_100b9100(*(int *)puVar6, uVar16, (char)param_3, (char)param_4, uVar18, (char)lVar19, (char)lVar20,
	    (char)lVar21, in_stack_ffffff78);
	if (**(int **)(iVar12 + -0x766c) == 0) {
		*puVar10 = 0x180;
		*puVar9 = 0xe0;
		*puVar8 = 6;
		*puVar7 = 7;
	} else {
		*puVar10 = 0x280;
		*puVar9 = 0x160;
		*puVar8 = 10;
		*puVar7 = 0xb;
	}
	return;
}

void FUN_100b2d3c(longlong param_1, longlong param_2, longlong param_3, undefined8 param_4,
    longlong param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	short sVar1;
	undefined *puVar2;
	int iVar3;
	int iVar4;
	undefined *puVar5;
	ulonglong uVar6;
	ulonglong uVar7;
	longlong lVar8;
	undefined uVar9;
	ulonglong uVar10;
	undefined uVar11;
	undefined8 uVar12;
	longlong lVar13;
	undefined uVar14;
	longlong lVar15;
	undefined uVar16;
	longlong lVar17;
	undefined uVar18;
	longlong lVar19;
	undefined uVar20;
	longlong lVar21;
	undefined uVar22;
	longlong lVar23;
	undefined4 in_stack_ffffffa8;

	puVar5 = PTR_DAT_100f1a54;
	lVar21 = (longlong)param_8;
	lVar19 = (longlong)param_7;
	lVar17 = (longlong)param_6;
	lVar8 = param_2;
	lVar13 = param_3;
	uVar12 = param_4;
	lVar15 = param_5;
	uVar6 = FUN_100b8f7c(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	uVar7 = FUN_100b8f7c(param_2, lVar8, lVar13, uVar12, lVar15, (int)lVar17, (int)lVar19, (int)lVar21,
	    in_stack_ffffffa8);
	uVar10 = (ulonglong)(uint)((int)param_4 << 1);
	lVar15 = 4;
	lVar13 = 0;
	while (true) {
		uVar22 = (undefined)lVar21;
		uVar20 = (undefined)lVar19;
		uVar18 = (undefined)lVar17;
		uVar16 = (undefined)lVar15;
		uVar14 = (undefined)lVar13;
		uVar11 = (undefined)uVar10;
		uVar9 = (undefined)lVar8;
		if (param_6 <= (int)lVar13)
			break;
		lVar8 = param_3 * 0xe0;
		lVar23 = param_5;
		if (0 < (int)param_5) {
			do {
				puVar2 = (undefined *)((int)uVar7 + (int)lVar15);
				sVar1 = CONCAT11(puVar2[1], *puVar2);
				iVar4 = (int)lVar8;
				iVar3 = (int)uVar10;
				if (sVar1 == 0) {
					lVar19 = 0;
					*(undefined2 *)(iVar3 + *(int *)puVar5 + iVar4) = 0;
					*(undefined2 *)(iVar3 + *(int *)puVar5 + iVar4 + 0xe0) = 0;
					*(undefined2 *)(iVar3 + *(int *)puVar5 + iVar4 + 2) = 0;
					lVar17 = (ulonglong) * (uint *)puVar5 + lVar8;
					*(undefined2 *)(iVar3 + (int)lVar17 + 0xe2) = 0;
				} else {
					puVar2 = (undefined *)((int)uVar6 + ((int)sVar1 + -1) * 8);
					*(short *)(iVar3 + *(int *)puVar5 + iVar4) = CONCAT11(puVar2[1], *puVar2) + 1;
					*(short *)(iVar3 + *(int *)puVar5 + iVar4 + 0xe0) = CONCAT11(puVar2[3], puVar2[2]) + 1;
					lVar21 = (longlong)CONCAT11(puVar2[5], puVar2[4]) + 1;
					*(undefined2 *)(iVar3 + *(int *)puVar5 + iVar4 + 2) = (short)lVar21;
					lVar17 = (ulonglong) * (uint *)puVar5 + lVar8;
					lVar19 = (longlong)CONCAT11(puVar2[7], puVar2[6]) + 1;
					*(undefined2 *)(iVar3 + (int)lVar17 + 0xe2) = (short)lVar19;
				}
				lVar8 = lVar8 + 0x1c0;
				lVar15 = lVar15 + 2;
				lVar23 = lVar23 + -1;
			} while (lVar23 != 0);
		}
		uVar10 = uVar10 + 4;
		lVar13 = lVar13 + 1;
	}
	FUN_100b9100((int)param_1, uVar9, uVar11, uVar14, uVar16, uVar18, uVar20, uVar22, in_stack_ffffffa8);
	FUN_100b9100((int)param_2, uVar9, uVar11, uVar14, uVar16, uVar18, uVar20, uVar22, in_stack_ffffffa8);
	return;
}

void FUN_100b2eac(longlong param_1, longlong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	int iVar3;
	undefined *puVar4;
	ulonglong uVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined4 in_stack_ffffffb8;

	puVar4 = PTR_DAT_100f1a54;
	uVar11 = (undefined)param_8;
	uVar10 = (undefined)param_7;
	uVar9 = (undefined)param_6;
	uVar5 = FUN_100b8f7c(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	lVar8 = uVar5 + (ulonglong)(uint)(((int)param_4 + -1) * 8);
	puVar2 = (undefined *)lVar8;
	uVar1 = (int)param_3 * 2;
	iVar3 = (int)(param_2 * 0xe0);
	*(short *)(*(int *)puVar4 + iVar3 + uVar1) = CONCAT11(puVar2[1], *puVar2) + 1;
	*(short *)(*(int *)puVar4 + iVar3 + uVar1 + 0xe0) = CONCAT11(puVar2[3], puVar2[2]) + 1;
	*(short *)(*(int *)puVar4 + iVar3 + uVar1 + 2) = CONCAT11(puVar2[5], puVar2[4]) + 1;
	lVar7 = (longlong)CONCAT11(puVar2[7], puVar2[6]) + 1;
	lVar6 = (ulonglong) * (uint *)puVar4 + param_2 * 0xe0 + (ulonglong)uVar1;
	*(undefined2 *)((int)lVar6 + 0xe2) = (short)lVar7;
	FUN_100b9100((int)param_1, (char)lVar6, (char)lVar7, (char)uVar1, (char)lVar8, uVar9, uVar10, uVar11,
	    in_stack_ffffffb8);
	return;
}

void T_Pass3(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	char cVar1;
	int iVar2;
	int iVar3;
	int iVar4;
	undefined *puVar5;
	ulonglong uVar6;
	ulonglong uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined8 uVar10;
	undefined uVar11;
	undefined8 uVar12;
	undefined uVar13;
	undefined8 uVar14;
	undefined *puVar15;
	undefined4 uVar16;
	undefined uVar17;
	longlong lVar18;
	undefined4 uVar19;
	undefined uVar20;
	longlong lVar21;
	undefined4 uVar22;
	undefined uVar23;
	int iVar24;
	int iVar26;
	longlong lVar25;
	longlong lVar27;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined in_stack_ffffffcb;
	int *local_18;
	int *local_14[5];

	puVar15 = PTR_DAT_100f1a54;
	puVar5 = PTR_DAT_100f1824;
	uVar6 = ZEXT48(&toc);
	iVar24 = 0;
	lVar21 = 0;
	do {
		lVar18 = 0;
		lVar27 = 0xe;
		uVar14 = 0;
		uVar12 = 0;
		uVar10 = 0;
		do {
			iVar4 = (int)lVar18;
			iVar26 = (int)lVar21;
			*(undefined2 *)(iVar26 + *(int *)puVar15 + iVar4) = 0;
			*(undefined2 *)(iVar26 + *(int *)puVar15 + iVar4 + 0xe0) = 0;
			*(undefined2 *)(iVar26 + *(int *)puVar15 + iVar4 + 2) = 0;
			iVar2 = iVar4 + 0x1c0;
			*(undefined2 *)(iVar26 + *(int *)puVar15 + iVar4 + 0xe2) = 0;
			*(undefined2 *)(iVar26 + *(int *)puVar15 + iVar2) = 0;
			*(undefined2 *)(iVar26 + *(int *)puVar15 + iVar2 + 0xe0) = 0;
			*(undefined2 *)(iVar26 + *(int *)puVar15 + iVar2 + 2) = 0;
			iVar3 = iVar4 + 0x380;
			*(undefined2 *)(iVar26 + *(int *)puVar15 + iVar2 + 0xe2) = 0;
			*(undefined2 *)(iVar26 + *(int *)puVar15 + iVar3) = 0;
			*(undefined2 *)(iVar26 + *(int *)puVar15 + iVar3 + 0xe0) = 0;
			*(undefined2 *)(iVar26 + *(int *)puVar15 + iVar3 + 2) = 0;
			iVar4 = iVar4 + 0x540;
			*(undefined2 *)(iVar26 + *(int *)puVar15 + iVar3 + 0xe2) = 0;
			*(undefined2 *)(iVar26 + *(int *)puVar15 + iVar4) = 0;
			*(undefined2 *)(iVar26 + *(int *)puVar15 + iVar4 + 0xe0) = 0;
			*(undefined2 *)(iVar26 + *(int *)puVar15 + iVar4 + 2) = 0;
			lVar18 = lVar18 + 0x700;
			*(undefined2 *)(iVar26 + *(int *)puVar15 + iVar4 + 0xe2) = 0;
			lVar27 = lVar27 + -1;
		} while (lVar27 != 0);
		iVar24 = iVar24 + 2;
		lVar21 = lVar21 + 4;
	} while (iVar24 < 0x70);
	lVar27 = LoadFileInMem((ulonglong)_DAT_100f3960, (undefined4 *)0x0, 0, 0, 0, puVar15, (int)lVar18,
	    (int)lVar21, in_stack_ffffffb8);
	local_14[0] = (int *)lVar27;
	uVar7 = LoadFileInMem((ulonglong) * (uint *)((int)uVar6 + -0x5674), (undefined4 *)0x0, uVar10, uVar12,
	    uVar14, puVar15, (int)lVar18, (int)lVar21, in_stack_ffffffb8);
	local_18 = (int *)uVar7;
	uVar10 = 0x2e;
	uVar12 = 0x2e;
	uVar8 = (undefined)uVar7;
	uVar14 = 0x19;
	uVar16 = 0x19;
	FUN_100b2d3c(ZEXT48(local_14[0]), uVar7 & 0xffffffff, 0x2e, 0x2e, 0x19, 0x19, (int)lVar18, (int)lVar21,
	    in_stack_ffffffb8);
	mem_free_dbg(&local_18, uVar8, (char)uVar10, (char)uVar12, (char)uVar14, (char)uVar16, (char)lVar18,
	    (char)lVar21, in_stack_ffffffb8);
	uVar7 = LoadFileInMem((ulonglong) * (uint *)((int)uVar6 + -0x5678), (undefined4 *)0x0, uVar10, uVar12,
	    uVar14, uVar16, (int)lVar18, (int)lVar21, in_stack_ffffffb8);
	local_18 = (int *)uVar7;
	uVar10 = 0x2e;
	uVar12 = 0;
	uVar8 = (undefined)uVar7;
	uVar14 = 0x19;
	uVar16 = 0x17;
	FUN_100b2d3c(ZEXT48(local_14[0]), uVar7 & 0xffffffff, 0x2e, 0, 0x19, 0x17, (int)lVar18, (int)lVar21,
	    in_stack_ffffffb8);
	mem_free_dbg(&local_18, uVar8, (char)uVar10, (char)uVar12, (char)uVar14, (char)uVar16, (char)lVar18,
	    (char)lVar21, in_stack_ffffffb8);
	uVar7 = LoadFileInMem((ulonglong) * (uint *)((int)uVar6 + -0x567c), (undefined4 *)0x0, uVar10, uVar12,
	    uVar14, uVar16, (int)lVar18, (int)lVar21, in_stack_ffffffb8);
	local_18 = (int *)uVar7;
	uVar10 = 0;
	uVar12 = 0x2e;
	uVar8 = (undefined)uVar7;
	uVar14 = 0x17;
	uVar16 = 0x19;
	FUN_100b2d3c(ZEXT48(local_14[0]), uVar7 & 0xffffffff, 0, 0x2e, 0x17, 0x19, (int)lVar18, (int)lVar21,
	    in_stack_ffffffb8);
	mem_free_dbg(&local_18, uVar8, (char)uVar10, (char)uVar12, (char)uVar14, (char)uVar16, (char)lVar18,
	    (char)lVar21, in_stack_ffffffb8);
	uVar7 = LoadFileInMem((ulonglong) * (uint *)((int)uVar6 + -0x5680), (undefined4 *)0x0, uVar10, uVar12,
	    uVar14, uVar16, (int)lVar18, (int)lVar21, in_stack_ffffffb8);
	local_18 = (int *)uVar7;
	uVar10 = 0;
	lVar27 = 0;
	uVar8 = (undefined)uVar7;
	uVar12 = 0x17;
	uVar14 = 0x17;
	FUN_100b2d3c(ZEXT48(local_14[0]), uVar7 & 0xffffffff, 0, 0, 0x17, 0x17, (int)lVar18, (int)lVar21,
	    in_stack_ffffffb8);
	mem_free_dbg(&local_18, uVar8, (char)uVar10, (char)lVar27, (char)uVar12, (char)uVar14, (char)lVar18,
	    (char)lVar21, in_stack_ffffffb8);
	uVar22 = (undefined4)lVar21;
	uVar19 = (undefined4)lVar18;
	uVar16 = (undefined4)uVar14;
	iVar24 = (int)uVar6;
	if (**(char **)(iVar24 + -0x77f0) == '\x01') {
		iVar26 = *(int *)(iVar24 + -0x77a8) + 0x5590;
		if ((*(byte *)(iVar26 + *(int *)puVar5 * 0x55ec) & 1) == 0) {
			uVar10 = 0x14;
			lVar27 = 0x140;
			FUN_100b2eac(ZEXT48(local_14[0]), 0x30, 0x14, 0x140, uVar12, uVar16, uVar19, uVar22, in_stack_ffffffb8);
		}
		if ((*(byte *)(iVar26 + *(int *)puVar5 * 0x55ec) & 2) == 0) {
			FUN_100b2eac(ZEXT48(local_14[0]), 0x10, 0x44, 0x14c, uVar12, (int)uVar14, (int)lVar18, (int)lVar21,
			    in_stack_ffffffb8);
			uVar10 = 0x46;
			lVar27 = 0x14b;
			FUN_100b2eac(ZEXT48(local_14[0]), 0x10, 0x46, 0x14b, uVar12, (int)uVar14, (int)lVar18, (int)lVar21,
			    in_stack_ffffffb8);
		}
		uVar22 = (undefined4)lVar21;
		uVar19 = (undefined4)lVar18;
		uVar16 = (undefined4)uVar14;
		iVar24 = (int)uVar6;
		if ((*(byte *)(iVar26 + *(int *)puVar5 * 0x55ec) & 4) == 0) {
			lVar25 = 0x24;
			do {
				lVar27 = random(0, 4, (char)uVar10, (char)lVar27, (char)uVar12, (char)uVar14, (char)lVar18,
				    (char)lVar21, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffcb);
				lVar27 = lVar27 + 1;
				uVar10 = 0x4e;
				FUN_100b2eac(ZEXT48(local_14[0]), lVar25, 0x4e, lVar27, uVar12, (int)uVar14, (int)lVar18,
				    (int)lVar21, in_stack_ffffffb8);
				uVar22 = (undefined4)lVar21;
				uVar19 = (undefined4)lVar18;
				uVar16 = (undefined4)uVar14;
				iVar24 = (int)uVar6;
				lVar25 = lVar25 + 1;
			} while ((int)lVar25 < 0x2e);
		}
	}
	uVar23 = (undefined)uVar22;
	uVar20 = (undefined)uVar19;
	uVar17 = (undefined)uVar16;
	uVar8 = (undefined)uVar12;
	cVar1 = *(char *)(*(int *)(iVar24 + -0x7604) + 0x13a);
	if ((cVar1 == '\x03') || (cVar1 == '\0')) {
		uVar9 = 0x3c;
		uVar11 = 0x46;
		uVar13 = 0x47;
		FUN_100b2eac(ZEXT48(local_14[0]), 0x3c, 0x46, 0x47, uVar12, uVar16, uVar19, uVar22, in_stack_ffffffb8);
	} else {
		uVar9 = 0x3c;
		uVar11 = 0x46;
		uVar13 = 0x56;
		FUN_100b2eac(ZEXT48(local_14[0]), 0x3c, 0x46, 0x156, uVar12, uVar16, uVar19, uVar22, in_stack_ffffffb8);
	}
	mem_free_dbg(local_14, uVar9, uVar11, uVar13, uVar8, uVar17, uVar20, uVar23, in_stack_ffffffb8);
	return;
}

void CreateTown(undefined8 uParm1)

{
	short sVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined **ppuVar7;
	undefined uVar10;
	int iVar9;
	longlong lVar8;
	longlong lVar11;
	undefined uVar13;
	longlong lVar12;
	undefined uVar15;
	longlong lVar14;
	undefined8 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	longlong lVar16;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	int local_2c;

	puVar4 = PTR_DAT_100f1a9c;
	puVar6 = PTR_DAT_100f1a54;
	puVar5 = PTR_DAT_100f1a38;
	uVar10 = (undefined)uParm1;
	ppuVar7 = &toc;
	uVar15 = 10;
	iVar9 = (int)uParm1;
	*(undefined4 *)PTR_DAT_100f1aa0 = 10;
	puVar3 = PTR_DAT_100f1a98;
	*(undefined4 *)puVar4 = 10;
	puVar4 = PTR_DAT_100f1a94;
	*(undefined4 *)puVar3 = 0x54;
	puVar3 = PTR_DAT_100f181c;
	uVar13 = SUB41(PTR_DAT_100f181c, 0);
	*(undefined4 *)puVar4 = 0x54;
	puVar4 = PTR_DAT_100f1820;
	if (iVar9 == 0) {
		*(undefined4 *)PTR_DAT_100f1820 = 0x4b;
		*(undefined4 *)puVar3 = 0x44;
	} else {
		if (iVar9 == 1) {
			*(undefined4 *)PTR_DAT_100f1820 = 0x19;
			*(undefined4 *)puVar3 = 0x1f;
		} else {
			if (iVar9 == 7) {
				iVar9 = *(int *)PTR_DAT_100f2110;
				uVar10 = (undefined)iVar9;
				if (iVar9 == 5) {
					*(undefined4 *)PTR_DAT_100f1820 = 0x31;
					*(undefined4 *)puVar3 = 0x16;
				}
				if (iVar9 == 9) {
					*(undefined4 *)puVar4 = 0x12;
					*(undefined4 *)puVar3 = 0x45;
				}
				if (iVar9 == 0xd) {
					*(undefined4 *)puVar4 = 0x29;
					*(undefined4 *)puVar3 = 0x51;
				}
			}
		}
	}
	T_Pass3(uVar10, (char)puVar4, uVar13, 10, (char)in_r7, (char)in_r8, (char)in_r9, (char)in_r10,
	    in_stack_ffffffc8);
	memset((char)*(undefined4 *)ppuVar7[-0x1d63], 0, uVar13, uVar15, (char)in_r7, (char)in_r8,
	    (char)in_r9, (char)in_r10, (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
	memset((char)**(undefined4 **)(local_2c + -0x779c), 0, uVar13, uVar15, (char)in_r7, (char)in_r8,
	    (char)in_r9, (char)in_r10, (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
	memset((char)**(undefined4 **)(local_2c + -0x7680), 0, uVar13, uVar15, (char)in_r7, (char)in_r8,
	    (char)in_r9, (char)in_r10, (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
	memset((char)**(undefined4 **)(local_2c + -0x767c), 0, uVar13, uVar15, (char)in_r7, (char)in_r8,
	    (char)in_r9, (char)in_r10, (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
	memset((char)**(undefined4 **)(local_2c + -0x7684), 0, uVar13, uVar15, (char)in_r7, (char)in_r8,
	    (char)in_r9, (char)in_r10, (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
	memset((char)**(undefined4 **)(local_2c + -0x768c), 0, uVar13, uVar15, (char)in_r7, (char)in_r8,
	    (char)in_r9, (char)in_r10, (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
	memset((char)*(undefined4 *)puVar5, 0, uVar13, uVar15, (char)in_r7, (char)in_r8, (char)in_r9,
	    (char)in_r10, (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
	lVar14 = 0;
	lVar12 = 0;
	do {
		lVar8 = 0;
		lVar16 = 0x70;
		lVar11 = 0;
		do {
			sVar1 = *(short *)((int)lVar12 + *(int *)puVar6 + (int)lVar8);
			iVar9 = (int)lVar14;
			iVar2 = (int)lVar11;
			if (sVar1 == 0x168) {
				in_r7 = 1;
				*(undefined *)(iVar9 + *(int *)puVar5 + iVar2) = 1;
			} else {
				if (sVar1 == 0x166) {
					in_r7 = 2;
					*(undefined *)(iVar9 + *(int *)puVar5 + iVar2) = 2;
				} else {
					if (sVar1 == 0x81) {
						in_r7 = 6;
						*(undefined *)(iVar9 + *(int *)puVar5 + iVar2) = 6;
					} else {
						if (sVar1 == 0x82) {
							in_r7 = 7;
							*(undefined *)(iVar9 + *(int *)puVar5 + iVar2) = 7;
						} else {
							if (sVar1 == 0x80) {
								in_r7 = 8;
								*(undefined *)(iVar9 + *(int *)puVar5 + iVar2) = 8;
							} else {
								if (sVar1 == 0x75) {
									in_r7 = 9;
									*(undefined *)(iVar9 + *(int *)puVar5 + iVar2) = 9;
								} else {
									if (sVar1 == 0x9d) {
										in_r7 = 10;
										*(undefined *)(iVar9 + *(int *)puVar5 + iVar2) = 10;
									} else {
										if (sVar1 == 0x9e) {
											in_r7 = 0xb;
											*(undefined *)(iVar9 + *(int *)puVar5 + iVar2) = 0xb;
										} else {
											if (sVar1 == 0x9c) {
												in_r7 = 0xc;
												*(undefined *)(iVar9 + *(int *)puVar5 + iVar2) = 0xc;
											} else {
												if (sVar1 == 0xa2) {
													in_r7 = 0xd;
													*(undefined *)(iVar9 + *(int *)puVar5 + iVar2) = 0xd;
												} else {
													if (sVar1 == 0xa0) {
														in_r7 = 0xe;
														*(undefined *)(iVar9 + *(int *)puVar5 + iVar2) = 0xe;
													} else {
														if (sVar1 == 0xd6) {
															in_r7 = 0xf;
															*(undefined *)(iVar9 + *(int *)puVar5 + iVar2) = 0xf;
														} else {
															if (sVar1 == 0xd4) {
																in_r7 = 0x10;
																*(undefined *)(iVar9 + *(int *)puVar5 + iVar2) = 0x10;
															} else {
																if (sVar1 == 0xd9) {
																	in_r7 = 0x11;
																	*(undefined *)(iVar9 + *(int *)puVar5 + iVar2) = 0x11;
																} else {
																	if (sVar1 == 0xd8) {
																		in_r7 = 0x12;
																		*(undefined *)(iVar9 + *(int *)puVar5 + iVar2) = 0x12;
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
			lVar8 = lVar8 + 0xe0;
			lVar11 = lVar11 + 0x70;
			lVar16 = lVar16 + -1;
		} while (lVar16 != 0);
		lVar14 = lVar14 + 1;
		lVar12 = lVar12 + 2;
	} while ((int)lVar14 < 0x70);
	SetTownMicros(lVar8, lVar11, lVar12, lVar14, in_r7, in_r8, in_r9, in_r10, in_stack_ffffffc8);
	return;
}

void FUN_100b363c(void)

{
	_DAT_100f452c = _DAT_100f4528;
	return;
}

longlong GetActiveTowner(int param_1)

{
	ulonglong uVar1;
	undefined *puVar2;
	longlong lVar3;

	lVar3 = 0;
	uVar1 = (ulonglong) * (uint *)PTR_DAT_100f2120;
	puVar2 = PTR_DAT_100f1878;
	if (0 < (int)*(uint *)PTR_DAT_100f2120) {
		do {
			if (param_1 == *(int *)(puVar2 + 4)) {
				return lVar3;
			}
			puVar2 = puVar2 + 0x10c;
			lVar3 = lVar3 + 1;
			uVar1 = uVar1 - 1;
		} while (uVar1 != 0);
	}
	return -1;
}

void FUN_100b368c(longlong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int *piVar1;
	byte *pbVar2;
	ulonglong uVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	int iVar10;
	undefined4 in_stack_ffffffc8;

	uVar6 = (undefined)param_5;
	uVar5 = (undefined)param_4;
	uVar4 = (undefined)param_2;
	uVar9 = (undefined)param_8;
	uVar8 = (undefined)param_7;
	uVar7 = (undefined)param_6;
	uVar3 = FUN_100b8f7c(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	iVar10 = (int)param_1;
	piVar1 = (int *)param_2;
	*piVar1 = iVar10;
	pbVar2 = (byte *)uVar3;
	piVar1[1] = (uint)pbVar2[3] << 0x18 | (uint)pbVar2[2] << 0x10 | (uint)pbVar2[1] << 8 | (uint)*pbVar2;
	piVar1[2] = iVar10;
	piVar1[3] = (uint)pbVar2[7] << 0x18 | (uint)pbVar2[6] << 0x10 | (uint)pbVar2[5] << 8 | (uint)pbVar2[4];
	piVar1[4] = iVar10;
	piVar1[5] = (uint)pbVar2[0xb] << 0x18 | (uint)pbVar2[10] << 0x10 | (uint)pbVar2[9] << 8 | (uint)pbVar2[8];
	piVar1[6] = iVar10;
	piVar1[7] = (uint)pbVar2[0xf] << 0x18 | (uint)pbVar2[0xe] << 0x10 | (uint)pbVar2[0xd] << 8 | (uint)pbVar2[0xc];
	piVar1[8] = iVar10;
	piVar1[9] = (uint)pbVar2[0x13] << 0x18 | (uint)pbVar2[0x12] << 0x10 | (uint)pbVar2[0x11] << 8 | (uint)pbVar2[0x10];
	piVar1[10] = iVar10;
	piVar1[0xb] = (uint)pbVar2[0x17] << 0x18 | (uint)pbVar2[0x16] << 0x10 | (uint)pbVar2[0x15] << 8 | (uint)pbVar2[0x14];
	piVar1[0xc] = iVar10;
	piVar1[0xd] = (uint)pbVar2[0x1b] << 0x18 | (uint)pbVar2[0x1a] << 0x10 | (uint)pbVar2[0x19] << 8 | (uint)pbVar2[0x18];
	piVar1[0xe] = iVar10;
	piVar1[0xf] = (uint)pbVar2[0x1f] << 0x18 | (uint)pbVar2[0x1e] << 0x10 | (uint)pbVar2[0x1d] << 8 | (uint)pbVar2[0x1c];
	FUN_100b9100(iVar10, uVar4, 0x1c, uVar5, uVar6, uVar7, uVar8, uVar9, in_stack_ffffffc8);
	return;
}

void FUN_100b3750(int param_1, undefined4 param_2, undefined4 param_3, undefined4 param_4)

{
	undefined *puVar1;

	puVar1 = PTR_DAT_100f1878 + param_1 * 0x10c;
	*(undefined4 *)(puVar1 + 0x24) = param_2;
	*(undefined4 *)(puVar1 + 0x30) = param_3;
	*(undefined4 *)(puVar1 + 0x34) = 1;
	*(undefined4 *)(puVar1 + 0x2c) = 0;
	*(undefined4 *)(puVar1 + 0x28) = param_4;
	return;
}

void FUN_100b377c(longlong param_1, int param_2, undefined4 param_3, undefined4 param_4, int param_5,
    int param_6, undefined param_7, undefined4 param_8, undefined4 param_9)

{
	int *piVar1;
	int iVar2;
	int iVar3;
	undefined *puVar4;
	undefined4 uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	int local_4c;

	puVar4 = PTR_DAT_100f1878;
	uVar9 = (undefined)param_8;
	uVar7 = (undefined)param_6;
	uVar6 = (undefined)param_5;
	uVar8 = param_7;
	memset((char)PTR_DAT_100f1878 + (char)(param_1 * 0x10c), 0xc, (char)param_3, (char)param_4, uVar6,
	    uVar7, param_7, uVar9, (char)in_stack_ffffffa8, in_stack_ffffffaf, local_4c);
	puVar4 = puVar4 + (int)(param_1 * 0x10c);
	*(undefined4 *)(puVar4 + 0x54) = param_3;
	iVar3 = param_2 + -0x40 >> 1;
	piVar1 = *(int **)(local_4c + -0x767c);
	*(int *)(puVar4 + 0x40) = param_2;
	*(int *)(puVar4 + 0x44) = iVar3;
	*(undefined4 *)(puVar4 + 0x58) = 0;
	*(undefined4 *)(puVar4 + 4) = param_4;
	*(int *)(puVar4 + 8) = param_5;
	*(int *)(puVar4 + 0xc) = param_6;
	iVar2 = *piVar1;
	*(undefined2 *)(iVar2 + param_5 * 0xe0 + param_6 * 2) = (short)(param_1 + 1);
	puVar4[0x3c] = param_7;
	*(undefined4 *)(puVar4 + 0x48) = param_8;
	uVar5 = GetRndSeed((char)iVar2, (char)piVar1, (char)(param_1 + 1), (char)iVar3, uVar6, uVar7, uVar8,
	    uVar9, in_stack_ffffffa8);
	*(undefined4 *)(puVar4 + 0x8c) = uVar5;
	return;
}

void FUN_100b3830(int param_1)

{
	undefined *puVar1;
	int *piVar2;
	undefined *puVar3;
	int iVar4;
	longlong lVar5;

	iVar4 = param_1;
	if (*(int *)PTR_DAT_100f211c != 0) {
		iVar4 = param_1 + 1;
	}
	lVar5 = 4;
	puVar1 = PTR_DAT_100f1878 + param_1 * 0x10c;
	piVar2 = (int *)(PTR_DAT_100f206c + iVar4 * 0x40);
	puVar3 = PTR_DAT_100f19cc;
	do {
		puVar1[0x5c] = puVar3[1];
		puVar1[0x5d] = (char)*piVar2;
		if (*piVar2 == -1) {
			puVar1[0x5e] = 0;
		} else {
			puVar1[0x5e] = 1;
		}
		puVar1[0x5f] = puVar3[0x19];
		puVar1[0x60] = (char)piVar2[1];
		if (piVar2[1] == -1) {
			puVar1[0x61] = 0;
		} else {
			puVar1[0x61] = 1;
		}
		puVar1[0x62] = puVar3[0x31];
		puVar1[99] = (char)piVar2[2];
		if (piVar2[2] == -1) {
			puVar1[100] = 0;
		} else {
			puVar1[100] = 1;
		}
		puVar1[0x65] = puVar3[0x49];
		puVar1[0x66] = (char)piVar2[3];
		if (piVar2[3] == -1) {
			puVar1[0x67] = 0;
		} else {
			puVar1[0x67] = 1;
		}
		puVar3 = puVar3 + 0x60;
		puVar1 = puVar1 + 0xc;
		piVar2 = piVar2 + 4;
		lVar5 = lVar5 + -1;
	} while (lVar5 != 0);
	return;
}

void InitSmith(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	longlong lVar5;
	int iVar6;
	undefined8 uVar7;
	undefined *puVar8;
	undefined8 uVar9;
	undefined8 uVar10;
	undefined4 uVar11;
	undefined *puVar12;
	undefined4 uVar13;
	undefined4 uVar14;
	undefined4 in_stack_ffffffb8;

	puVar3 = PTR_DAT_100f2120;
	puVar2 = PTR_DAT_100f1878;
	ppuVar4 = &toc;
	uVar7 = 1;
	uVar9 = 0;
	uVar10 = 0x3e;
	uVar11 = 0x3f;
	uVar13 = 0;
	uVar14 = 10;
	FUN_100b377c((ulonglong) * (uint *)PTR_DAT_100f2120, 0x60, 1, 0, 0x3e, 0x3f, 0, 10, in_stack_ffffffb8);
	FUN_100b3830(*(int *)puVar3);
	lVar5 = LoadFileInMem(ZEXT48(ppuVar4[-0x157d]), (undefined4 *)0x0, uVar7, uVar9, uVar10, uVar11, uVar13,
	    uVar14, in_stack_ffffffb8);
	iVar1 = *(int *)puVar3;
	iVar6 = iVar1 * 0x10c;
	puVar12 = puVar2 + iVar6;
	puVar8 = puVar2 + iVar6;
	*(int *)(puVar12 + 0x104) = (int)lVar5;
	*(undefined4 *)(puVar8 + 0x108) = 0;
	*(undefined4 *)(puVar8 + 0xc0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xc4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 200) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xcc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xd0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xd4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xd8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xdc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xe0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xe4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xe8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xec) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xf0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xf4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xf8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xfc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0x100) = 0x10;
	FUN_100b3750(iVar1, puVar2 + iVar6 + 200, *(undefined4 *)(puVar8 + 0x100), 3);
	strcpy((int)(puVar2 + *(int *)puVar3 * 0x10c + 0xa0), (int)ppuVar4[-0x157e]);
	*(int *)puVar3 = *(int *)puVar3 + 1;
	return;
}

void InitBarOwner(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	longlong lVar5;
	int iVar6;
	undefined8 uVar7;
	undefined *puVar8;
	undefined8 uVar9;
	undefined8 uVar10;
	undefined4 uVar11;
	undefined *puVar12;
	undefined4 uVar13;
	undefined4 uVar14;
	undefined4 in_stack_ffffffa8;

	puVar3 = PTR_DAT_100f2120;
	puVar2 = PTR_DAT_100f1878;
	ppuVar4 = &toc;
	uVar7 = 1;
	uVar9 = 3;
	uVar10 = 0x37;
	uVar11 = 0x3e;
	uVar13 = 3;
	*(undefined4 *)PTR_DAT_100f2118 = 0;
	uVar14 = 10;
	FUN_100b377c((ulonglong) * (uint *)puVar3, 0x60, 1, 3, 0x37, 0x3e, 3, 10, in_stack_ffffffa8);
	FUN_100b3830(*(int *)puVar3);
	lVar5 = LoadFileInMem(ZEXT48(ppuVar4[-0x157f]), (undefined4 *)0x0, uVar7, uVar9, uVar10, uVar11, uVar13,
	    uVar14, in_stack_ffffffa8);
	iVar1 = *(int *)puVar3;
	iVar6 = iVar1 * 0x10c;
	puVar12 = puVar2 + iVar6;
	puVar8 = puVar2 + iVar6;
	*(int *)(puVar12 + 0x104) = (int)lVar5;
	*(undefined4 *)(puVar8 + 0x108) = 0;
	*(undefined4 *)(puVar8 + 0xc0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xc4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 200) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xcc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xd0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xd4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xd8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xdc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xe0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xe4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xe8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xec) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xf0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xf4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xf8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xfc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0x100) = 0x10;
	FUN_100b3750(iVar1, puVar2 + iVar6 + 200, *(undefined4 *)(puVar8 + 0x100), 3);
	strcpy((int)(puVar2 + *(int *)puVar3 * 0x10c + 0xa0), (int)ppuVar4[-0x1580]);
	*(int *)puVar3 = *(int *)puVar3 + 1;
	return;
}

void InitTownDead(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	longlong lVar5;
	int iVar6;
	undefined8 uVar7;
	undefined *puVar8;
	undefined8 uVar9;
	undefined8 uVar10;
	undefined4 uVar11;
	undefined *puVar12;
	undefined4 uVar13;
	undefined4 uVar14;
	undefined4 in_stack_ffffffb8;

	puVar3 = PTR_DAT_100f2120;
	puVar2 = PTR_DAT_100f1878;
	ppuVar4 = &toc;
	uVar7 = 1;
	uVar9 = 2;
	uVar10 = 0x18;
	uVar11 = 0x20;
	uVar13 = 0xffffffff;
	uVar14 = 10;
	FUN_100b377c((ulonglong) * (uint *)PTR_DAT_100f2120, 0x60, 1, 2, 0x18, 0x20, 0xff, 10, in_stack_ffffffb8);
	FUN_100b3830(*(int *)puVar3);
	lVar5 = LoadFileInMem(ZEXT48(ppuVar4[-0x1581]), (undefined4 *)0x0, uVar7, uVar9, uVar10, uVar11, uVar13,
	    uVar14, in_stack_ffffffb8);
	iVar1 = *(int *)puVar3;
	iVar6 = iVar1 * 0x10c;
	puVar12 = puVar2 + iVar6;
	puVar8 = puVar2 + iVar6;
	*(int *)(puVar12 + 0x104) = (int)lVar5;
	*(undefined4 *)(puVar8 + 0x108) = 0;
	*(undefined4 *)(puVar8 + 0xc0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xc4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 200) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xcc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xd0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xd4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xd8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xdc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xe0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xe4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xe8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xec) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xf0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xf4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xf8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xfc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0x100) = 8;
	FUN_100b3750(iVar1, puVar2 + iVar6 + 0xe0, *(undefined4 *)(puVar8 + 0x100), 6);
	strcpy((int)(puVar2 + *(int *)puVar3 * 0x10c + 0xa0), (int)ppuVar4[-0x1582]);
	*(int *)puVar3 = *(int *)puVar3 + 1;
	return;
}

void InitWitch(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	longlong lVar5;
	int iVar6;
	undefined8 uVar7;
	undefined *puVar8;
	undefined8 uVar9;
	undefined8 uVar10;
	undefined4 uVar11;
	undefined *puVar12;
	undefined4 uVar13;
	undefined4 uVar14;
	undefined4 in_stack_ffffffb8;

	puVar3 = PTR_DAT_100f2120;
	puVar2 = PTR_DAT_100f1878;
	ppuVar4 = &toc;
	uVar7 = 1;
	uVar9 = 6;
	uVar10 = 0x50;
	uVar11 = 0x14;
	uVar13 = 5;
	uVar14 = 10;
	FUN_100b377c((ulonglong) * (uint *)PTR_DAT_100f2120, 0x60, 1, 6, 0x50, 0x14, 5, 10, in_stack_ffffffb8);
	FUN_100b3830(*(int *)puVar3);
	lVar5 = LoadFileInMem(ZEXT48(ppuVar4[-0x1583]), (undefined4 *)0x0, uVar7, uVar9, uVar10, uVar11, uVar13,
	    uVar14, in_stack_ffffffb8);
	iVar1 = *(int *)puVar3;
	iVar6 = iVar1 * 0x10c;
	puVar12 = puVar2 + iVar6;
	puVar8 = puVar2 + iVar6;
	*(int *)(puVar12 + 0x104) = (int)lVar5;
	*(undefined4 *)(puVar8 + 0x108) = 0;
	*(undefined4 *)(puVar8 + 0xc0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xc4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 200) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xcc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xd0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xd4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xd8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xdc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xe0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xe4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xe8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xec) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xf0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xf4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xf8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xfc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0x100) = 0x13;
	FUN_100b3750(iVar1, puVar2 + iVar6 + 0xc0, *(undefined4 *)(puVar8 + 0x100), 6);
	strcpy((int)(puVar2 + *(int *)puVar3 * 0x10c + 0xa0), (int)ppuVar4[-0x1584]);
	*(int *)puVar3 = *(int *)puVar3 + 1;
	return;
}

void InitBarmaid(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	longlong lVar5;
	int iVar6;
	undefined8 uVar7;
	undefined *puVar8;
	undefined8 uVar9;
	undefined8 uVar10;
	undefined4 uVar11;
	undefined *puVar12;
	undefined4 uVar13;
	undefined4 uVar14;
	undefined4 in_stack_ffffffb8;

	puVar3 = PTR_DAT_100f2120;
	puVar2 = PTR_DAT_100f1878;
	ppuVar4 = &toc;
	uVar7 = 1;
	uVar9 = 7;
	uVar10 = 0x2b;
	uVar11 = 0x42;
	uVar13 = 0xffffffff;
	uVar14 = 10;
	FUN_100b377c((ulonglong) * (uint *)PTR_DAT_100f2120, 0x60, 1, 7, 0x2b, 0x42, 0xff, 10, in_stack_ffffffb8);
	FUN_100b3830(*(int *)puVar3);
	lVar5 = LoadFileInMem(ZEXT48(ppuVar4[-0x1585]), (undefined4 *)0x0, uVar7, uVar9, uVar10, uVar11, uVar13,
	    uVar14, in_stack_ffffffb8);
	iVar1 = *(int *)puVar3;
	iVar6 = iVar1 * 0x10c;
	puVar12 = puVar2 + iVar6;
	puVar8 = puVar2 + iVar6;
	*(int *)(puVar12 + 0x104) = (int)lVar5;
	*(undefined4 *)(puVar8 + 0x108) = 0;
	*(undefined4 *)(puVar8 + 0xc0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xc4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 200) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xcc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xd0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xd4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xd8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xdc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xe0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xe4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xe8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xec) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xf0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xf4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xf8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xfc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0x100) = 0x12;
	FUN_100b3750(iVar1, puVar2 + iVar6 + 0xc0, *(undefined4 *)(puVar8 + 0x100), 6);
	strcpy((int)(puVar2 + *(int *)puVar3 * 0x10c + 0xa0), (int)ppuVar4[-0x1586]);
	*(int *)puVar3 = *(int *)puVar3 + 1;
	return;
}

void InitBoy(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	longlong lVar5;
	int iVar6;
	undefined8 uVar7;
	undefined *puVar8;
	undefined8 uVar9;
	undefined8 uVar10;
	undefined4 uVar11;
	undefined *puVar12;
	undefined4 uVar13;
	undefined4 uVar14;
	undefined4 in_stack_ffffffb8;

	puVar3 = PTR_DAT_100f2120;
	puVar2 = PTR_DAT_100f1878;
	ppuVar4 = &toc;
	uVar7 = 1;
	uVar9 = 8;
	uVar10 = 0xb;
	*(undefined4 *)PTR_DAT_100f211c = 1;
	uVar11 = 0x35;
	uVar13 = 0xffffffff;
	uVar14 = 10;
	FUN_100b377c((ulonglong) * (uint *)puVar3, 0x60, 1, 8, 0xb, 0x35, 0xff, 10, in_stack_ffffffb8);
	FUN_100b3830(*(int *)puVar3);
	lVar5 = LoadFileInMem(ZEXT48(ppuVar4[-0x1587]), (undefined4 *)0x0, uVar7, uVar9, uVar10, uVar11, uVar13,
	    uVar14, in_stack_ffffffb8);
	iVar1 = *(int *)puVar3;
	iVar6 = iVar1 * 0x10c;
	puVar12 = puVar2 + iVar6;
	puVar8 = puVar2 + iVar6;
	*(int *)(puVar12 + 0x104) = (int)lVar5;
	*(undefined4 *)(puVar8 + 0x108) = 0;
	*(undefined4 *)(puVar8 + 0xc0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xc4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 200) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xcc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xd0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xd4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xd8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xdc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xe0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xe4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xe8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xec) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xf0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xf4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xf8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xfc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0x100) = 0x14;
	FUN_100b3750(iVar1, puVar2 + iVar6 + 0xc0, *(undefined4 *)(puVar8 + 0x100), 6);
	strcpy((int)(puVar2 + *(int *)puVar3 * 0x10c + 0xa0), (int)ppuVar4[-0x1588]);
	*(int *)puVar3 = *(int *)puVar3 + 1;
	return;
}

void InitHealer(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	longlong lVar5;
	int iVar6;
	undefined8 uVar7;
	undefined *puVar8;
	undefined8 uVar9;
	undefined8 uVar10;
	undefined4 uVar11;
	undefined *puVar12;
	undefined4 uVar13;
	undefined4 uVar14;
	undefined4 in_stack_ffffffb8;

	puVar3 = PTR_DAT_100f2120;
	puVar2 = PTR_DAT_100f1878;
	ppuVar4 = &toc;
	uVar7 = 1;
	uVar9 = 1;
	uVar10 = 0x37;
	uVar11 = 0x4f;
	uVar13 = 1;
	uVar14 = 10;
	FUN_100b377c((ulonglong) * (uint *)PTR_DAT_100f2120, 0x60, 1, 1, 0x37, 0x4f, 1, 10, in_stack_ffffffb8);
	FUN_100b3830(*(int *)puVar3);
	lVar5 = LoadFileInMem(ZEXT48(ppuVar4[-0x1589]), (undefined4 *)0x0, uVar7, uVar9, uVar10, uVar11, uVar13,
	    uVar14, in_stack_ffffffb8);
	iVar1 = *(int *)puVar3;
	iVar6 = iVar1 * 0x10c;
	puVar12 = puVar2 + iVar6;
	puVar8 = puVar2 + iVar6;
	*(int *)(puVar12 + 0x104) = (int)lVar5;
	*(undefined4 *)(puVar8 + 0x108) = 0;
	*(undefined4 *)(puVar8 + 0xc0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xc4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 200) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xcc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xd0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xd4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xd8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xdc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xe0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xe4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xe8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xec) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xf0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xf4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xf8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xfc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0x100) = 0x14;
	FUN_100b3750(iVar1, puVar2 + iVar6 + 0xf8, *(undefined4 *)(puVar8 + 0x100), 6);
	strcpy((int)(puVar2 + *(int *)puVar3 * 0x10c + 0xa0), (int)ppuVar4[-0x158a]);
	*(int *)puVar3 = *(int *)puVar3 + 1;
	return;
}

void InitTeller(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	longlong lVar5;
	int iVar6;
	undefined8 uVar7;
	undefined *puVar8;
	undefined8 uVar9;
	undefined8 uVar10;
	undefined4 uVar11;
	undefined *puVar12;
	undefined4 uVar13;
	undefined4 uVar14;
	undefined4 in_stack_ffffffb8;

	puVar3 = PTR_DAT_100f2120;
	puVar2 = PTR_DAT_100f1878;
	ppuVar4 = &toc;
	uVar7 = 1;
	uVar9 = 4;
	uVar10 = 0x3e;
	uVar11 = 0x47;
	uVar13 = 2;
	uVar14 = 10;
	FUN_100b377c((ulonglong) * (uint *)PTR_DAT_100f2120, 0x60, 1, 4, 0x3e, 0x47, 2, 10, in_stack_ffffffb8);
	FUN_100b3830(*(int *)puVar3);
	lVar5 = LoadFileInMem(ZEXT48(ppuVar4[-0x158b]), (undefined4 *)0x0, uVar7, uVar9, uVar10, uVar11, uVar13,
	    uVar14, in_stack_ffffffb8);
	iVar1 = *(int *)puVar3;
	iVar6 = iVar1 * 0x10c;
	puVar12 = puVar2 + iVar6;
	puVar8 = puVar2 + iVar6;
	*(int *)(puVar12 + 0x104) = (int)lVar5;
	*(undefined4 *)(puVar8 + 0x108) = 0;
	*(undefined4 *)(puVar8 + 0xc0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xc4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 200) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xcc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xd0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xd4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xd8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xdc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xe0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xe4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xe8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xec) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xf0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xf4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xf8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xfc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0x100) = 0x19;
	FUN_100b3750(iVar1, puVar2 + iVar6 + 0xc0, *(undefined4 *)(puVar8 + 0x100), 3);
	strcpy((int)(puVar2 + *(int *)puVar3 * 0x10c + 0xa0), (int)ppuVar4[-0x158c]);
	*(int *)puVar3 = *(int *)puVar3 + 1;
	return;
}

void InitDrunk(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	longlong lVar5;
	int iVar6;
	undefined8 uVar7;
	undefined *puVar8;
	undefined8 uVar9;
	undefined8 uVar10;
	undefined4 uVar11;
	undefined *puVar12;
	undefined4 uVar13;
	undefined4 uVar14;
	undefined4 in_stack_ffffffb8;

	puVar3 = PTR_DAT_100f2120;
	puVar2 = PTR_DAT_100f1878;
	ppuVar4 = &toc;
	uVar7 = 1;
	uVar9 = 5;
	uVar10 = 0x47;
	uVar11 = 0x54;
	uVar13 = 4;
	uVar14 = 10;
	FUN_100b377c((ulonglong) * (uint *)PTR_DAT_100f2120, 0x60, 1, 5, 0x47, 0x54, 4, 10, in_stack_ffffffb8);
	FUN_100b3830(*(int *)puVar3);
	lVar5 = LoadFileInMem(ZEXT48(ppuVar4[-0x158d]), (undefined4 *)0x0, uVar7, uVar9, uVar10, uVar11, uVar13,
	    uVar14, in_stack_ffffffb8);
	iVar1 = *(int *)puVar3;
	iVar6 = iVar1 * 0x10c;
	puVar12 = puVar2 + iVar6;
	puVar8 = puVar2 + iVar6;
	*(int *)(puVar12 + 0x104) = (int)lVar5;
	*(undefined4 *)(puVar8 + 0x108) = 0;
	*(undefined4 *)(puVar8 + 0xc0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xc4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 200) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xcc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xd0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xd4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xd8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xdc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xe0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xe4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xe8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xec) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xf0) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xf4) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0xf8) = *(undefined4 *)(puVar12 + 0x104);
	*(undefined4 *)(puVar8 + 0xfc) = *(undefined4 *)(puVar12 + 0x108);
	*(undefined4 *)(puVar8 + 0x100) = 0x12;
	FUN_100b3750(iVar1, puVar2 + iVar6 + 0xc0, *(undefined4 *)(puVar8 + 0x100), 3);
	strcpy((int)(puVar2 + *(int *)puVar3 * 0x10c + 0xa0), (int)ppuVar4[-0x158e]);
	*(int *)puVar3 = *(int *)puVar3 + 1;
	return;
}

void InitCows(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	uint uVar1;
	int iVar2;
	int iVar3;
	uint uVar4;
	int iVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	int iVar10;
	int iVar11;
	int iVar12;
	ulonglong uVar13;
	longlong lVar14;
	short *psVar15;
	undefined uVar16;
	undefined8 uVar17;
	undefined uVar19;
	int iVar18;
	undefined uVar20;
	int iVar21;
	undefined uVar22;
	undefined4 uVar23;
	undefined uVar24;
	undefined4 uVar25;
	undefined uVar26;
	ulonglong uVar27;
	int iVar28;
	int *piVar29;
	int *piVar30;
	uint *puVar31;
	ulonglong uVar32;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined in_stack_ffffffab;

	iVar12 = _DAT_100f3984;
	iVar11 = _DAT_100f3980;
	iVar10 = _DAT_100f397c;
	puVar9 = PTR_DAT_100f2120;
	puVar8 = PTR_DAT_100f1954;
	puVar7 = PTR_DAT_100f1878;
	uVar13 = ZEXT48(&toc);
	uVar32 = ZEXT48(PTR_DAT_100f1878);
	lVar14 = LoadFileInMem((ulonglong)_DAT_100f3994, (undefined4 *)0x0, param_3, param_4, param_5, param_6,
	    param_7, param_8, in_stack_ffffff98);
	iVar2 = (int)uVar13;
	*(undefined4 *)(iVar2 + -0x4a8c) = (int)lVar14;
	iVar28 = 0;
	puVar31 = *(uint **)(iVar2 + -0x5640);
	piVar30 = *(int **)(iVar2 + -0x5644);
	piVar29 = *(int **)(iVar2 + -0x5648);
	do {
		uVar1 = *puVar31;
		uVar27 = (ulonglong)uVar1;
		iVar2 = *piVar30;
		iVar3 = *piVar29;
		uVar17 = 9;
		uVar23 = 0xffffffff;
		uVar25 = 10;
		iVar21 = iVar2;
		FUN_100b377c((ulonglong) * (uint *)puVar9, 0x80, 0, 9, uVar1, iVar2, 0xff, 10, in_stack_ffffff98);
		uVar26 = (undefined)uVar25;
		uVar24 = (undefined)uVar23;
		uVar22 = (undefined)iVar21;
		uVar4 = *(uint *)((int)uVar13 + -0x4a8c);
		lVar14 = uVar32 + (ulonglong) * (uint *)puVar9 * 0x10c;
		iVar5 = (int)lVar14;
		*(uint *)(iVar5 + 0x104) = uVar4;
		*(undefined4 *)(iVar5 + 0x108) = 0;
		FUN_100b368c((ulonglong) * (uint *)(iVar5 + 0x104), lVar14 + 0xc0, (ulonglong)uVar4, uVar17, uVar27,
		    iVar21, uVar23, uVar25, in_stack_ffffff98);
		uVar4 = *(uint *)puVar9;
		lVar14 = uVar32 + (ulonglong)uVar4 * 0x10c;
		iVar5 = (int)lVar14;
		*(undefined4 *)(iVar5 + 0x100) = 0xc;
		lVar14 = lVar14 + 0x100;
		uVar20 = (undefined)lVar14;
		uVar23 = *(undefined4 *)lVar14;
		uVar16 = (undefined)uVar23;
		uVar19 = 3;
		FUN_100b3750(uVar4, iVar5 + iVar3 * 8 + 0xc0, uVar23, 3);
		lVar14 = random(0, 0xb, uVar16, uVar19, uVar20, uVar22, uVar24, uVar26, in_stack_ffffff98,
		    in_stack_ffffff9f, in_stack_ffffffab);
		puVar6 = puVar7 + *(int *)puVar9 * 0x10c;
		*(int *)(puVar6 + 0x34) = (int)lVar14 + 1;
		*(undefined4 *)(puVar6 + 0x54) = 1;
		strcpy((int)(puVar6 + 0xa0), iVar12);
		iVar3 = iVar3 * 4;
		iVar5 = *(int *)(iVar11 + iVar3);
		iVar18 = iVar2 + *(int *)(iVar10 + iVar3);
		iVar21 = *(int *)puVar8 + uVar1 * 0xe0;
		iVar3 = iVar18 * 2;
		if (*(short *)(iVar21 + iVar3) == 0) {
			*(short *)(iVar21 + iVar3) = -((short)*(undefined4 *)puVar9 + 1);
		}
		iVar3 = (uVar1 + iVar5) * 0xe0;
		psVar15 = (short *)(*(int *)puVar8 + iVar3 + iVar2 * 2);
		if (*psVar15 == 0) {
			*psVar15 = -((short)*(undefined4 *)puVar9 + 1);
		}
		psVar15 = (short *)(*(int *)puVar8 + iVar3 + iVar18 * 2);
		if (*psVar15 == 0) {
			*psVar15 = -((short)*(undefined4 *)puVar9 + 1);
		}
		iVar28 = iVar28 + 1;
		piVar30 = piVar30 + 1;
		*(int *)puVar9 = *(int *)puVar9 + 1;
		piVar29 = piVar29 + 1;
		puVar31 = puVar31 + 1;
	} while (iVar28 < 3);
	return;
}

void InitTowners(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	char cVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined **ppuVar4;
	undefined uVar6;
	undefined8 uVar5;
	ulonglong uVar7;
	undefined7 uVar8;
	undefined uVar9;
	undefined7 uVar10;
	undefined uVar11;
	undefined7 uVar12;
	undefined uVar13;
	undefined4 in_stack_ffffffc8;

	puVar3 = PTR_DAT_100f2120;
	puVar2 = PTR_DAT_100f211c;
	uVar12 = (undefined7)((ulonglong)param_5 >> 8);
	uVar13 = (undefined)param_5;
	uVar10 = (undefined7)((ulonglong)param_4 >> 8);
	uVar11 = (undefined)param_4;
	uVar8 = (undefined7)((ulonglong)param_3 >> 8);
	uVar9 = (undefined)param_3;
	ppuVar4 = &toc;
	uVar7 = ZEXT48(PTR_DAT_100f2120);
	*(undefined4 *)PTR_DAT_100f2120 = 0;
	*(undefined4 *)puVar2 = 0;
	uVar6 = InitSmith((char)puVar2, (char)puVar3, uVar9, uVar11, uVar13, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffffc8);
	InitHealer(uVar6, (char)uVar7, uVar9, uVar11, uVar13, (char)param_6, (char)param_7, (char)param_8,
	    in_stack_ffffffc8);
	uVar6 = SUB41(ppuVar4[-0x1d81], 0);
	cVar1 = ppuVar4[-0x1d81][0x92];
	if ((cVar1 != '\0') && (cVar1 != '\x03')) {
		uVar6 = InitTownDead(uVar6, (char)uVar7, uVar9, uVar11, uVar13, (char)param_6, (char)param_7,
		    (char)param_8, in_stack_ffffffc8);
	}
	uVar6 = InitBarOwner(uVar6, (char)uVar7, uVar9, uVar11, uVar13, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffffc8);
	uVar6 = InitTeller(uVar6, (char)uVar7, uVar9, uVar11, uVar13, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffffc8);
	uVar6 = InitDrunk(uVar6, (char)uVar7, uVar9, uVar11, uVar13, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffffc8);
	uVar6 = InitWitch(uVar6, (char)uVar7, uVar9, uVar11, uVar13, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffffc8);
	uVar6 = InitBarmaid(uVar6, (char)uVar7, uVar9, uVar11, uVar13, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffffc8);
	uVar5 = InitBoy(uVar6, (char)uVar7, uVar9, uVar11, uVar13, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffffc8);
	InitCows(uVar5, uVar7, CONCAT71(uVar8, uVar9), CONCAT71(uVar10, uVar11), CONCAT71(uVar12, uVar13),
	    param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FreeTownerGFX(undefined param_1, char param_2, char param_3, char param_4, char param_5, char param_6, char param_7, char param_8, undefined4 param_9)

{
	ulonglong uVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	int iVar9;
	undefined *puVar10;
	undefined4 in_stack_ffffffb8;

	lVar8 = (longlong)param_8;
	lVar7 = (longlong)param_7;
	lVar6 = (longlong)param_6;
	lVar5 = (longlong)param_5;
	lVar4 = (longlong)param_4;
	lVar3 = (longlong)param_3;
	lVar2 = (longlong)param_2;
	uVar1 = ZEXT48(&toc);
	iVar9 = 0;
	puVar10 = PTR_DAT_100f1878;
	do {
		if (*(int *)(puVar10 + 0x104) == *(int *)((int)uVar1 + -0x4a8c)) {
			*(undefined4 *)(puVar10 + 0x104) = 0;
		} else {
			if (*(int *)(puVar10 + 0x104) != 0) {
				mem_free_dbg((int **)(puVar10 + 0x104), (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5,
				    (char)lVar6, (char)lVar7, (char)lVar8, in_stack_ffffffb8);
			}
		}
		iVar9 = iVar9 + 1;
		puVar10 = puVar10 + 0x10c;
	} while (iVar9 < 0x10);
	mem_free_dbg((int **)((int)uVar1 + -0x4a8c), (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5,
	    (char)lVar6, (char)lVar7, (char)lVar8, in_stack_ffffffb8);
	return;
}

void FUN_100b4834(longlong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int *piVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	longlong lVar4;
	longlong lVar5;
	undefined8 uVar6;
	ulonglong uVar7;
	ulonglong uVar8;
	undefined7 uVar9;
	undefined uVar10;
	undefined7 uVar11;
	undefined uVar12;
	undefined *puVar13;
	undefined4 in_stack_ffffffb8;

	uVar11 = (undefined7)((ulonglong)param_5 >> 8);
	uVar12 = (undefined)param_5;
	uVar9 = (undefined7)((ulonglong)param_4 >> 8);
	uVar10 = (undefined)param_4;
	ppuVar3 = &toc;
	uVar8 = param_1 * 0x10c;
	piVar1 = (int *)(PTR_DAT_100f1878 + (int)uVar8 + 0x50);
	if (*piVar1 != 0) {
		puVar2 = PTR_DAT_100f1878 + (int)uVar8;
		puVar13 = PTR_DAT_100f1828 + *(int *)(puVar2 + 0x90) * 0x55ec;
		lVar4 = abs((ulonglong) * (uint *)(puVar2 + 8) - (ulonglong) * (uint *)(puVar13 + 0x38));
		uVar7 = (ulonglong) * (uint *)(puVar13 + 0x3c);
		lVar5 = abs((ulonglong) * (uint *)(puVar2 + 0xc) - uVar7);
		if ((1 < (int)lVar4) || (1 < (int)lVar5)) {
			*piVar1 = 0;
		}
		if (*piVar1 == 0) {
			puVar2 = ppuVar3[-0x1dcc];
			*puVar2 = 0;
			uVar6 = sfx_stop((char)puVar2, (char)uVar7, (char)uVar8, uVar10, uVar12, (char)param_6,
			    (char)param_7, (char)param_8, in_stack_ffffffb8);
			music_stop2(uVar6, uVar7, uVar8, CONCAT71(uVar9, uVar10), CONCAT71(uVar11, uVar12), param_6, param_7,
			    param_8, in_stack_ffffffb8);
		}
	}
	return;
}

void FUN_100b48f0(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	longlong lVar1;
	undefined4 in_stack_ffffffb8;

	lVar1 = GetActiveTowner(0);
	FUN_100b4834(lVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	return;
}

void FUN_100b4918(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	longlong lVar1;
	undefined4 in_stack_ffffffb8;

	lVar1 = GetActiveTowner(3);
	FUN_100b4834(lVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	return;
}

void FUN_100b4940(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined **ppuVar5;
	longlong lVar6;
	undefined4 in_stack_ffffffb8;

	puVar4 = PTR_DAT_100f19cc;
	puVar3 = PTR_DAT_100f1878;
	ppuVar5 = &toc;
	lVar6 = GetActiveTowner(2);
	FUN_100b4834(lVar6, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	if (*ppuVar5[-0x1dcc] == '\0') {
		if ((puVar4[0x92] == '\x02') && (*(int *)(puVar4 + 0xa4) == 0)) {
			return;
		}
		if (puVar4[0x92] != '\x01') {
			iVar2 = (int)lVar6 * 0x10c;
			puVar1 = ppuVar5[-0x1596];
			*(undefined4 *)(puVar3 + iVar2 + 0x28) = 1000;
			*(undefined4 *)(puVar3 + iVar2 + 0x34) = 1;
			strcpy((int)(puVar3 + iVar2 + 0xa0), (int)puVar1);
		}
	}
	if (puVar4[0x92] != '\x01') {
		*(undefined4 *)(puVar3 + (int)lVar6 * 0x10c + 0x2c) = 0;
	}
	return;
}

void FUN_100b4a00(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	longlong lVar1;
	undefined4 in_stack_ffffffc8;

	lVar1 = GetActiveTowner(1);
	FUN_100b4834(lVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_100b4a28(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	longlong lVar1;
	undefined4 in_stack_ffffffc8;

	lVar1 = GetActiveTowner(4);
	FUN_100b4834(lVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_100b4a50(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	longlong lVar1;
	undefined4 in_stack_ffffffc8;

	lVar1 = GetActiveTowner(5);
	FUN_100b4834(lVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_100b4a78(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	longlong lVar1;
	undefined4 in_stack_ffffffc8;

	lVar1 = GetActiveTowner(8);
	FUN_100b4834(lVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_100b4aa0(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	longlong lVar1;
	undefined4 in_stack_ffffffc8;

	lVar1 = GetActiveTowner(6);
	FUN_100b4834(lVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_100b4ac8(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	longlong lVar1;
	undefined4 in_stack_ffffffc8;

	lVar1 = GetActiveTowner(7);
	FUN_100b4834(lVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_100b4af0(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	longlong lVar1;
	undefined4 in_stack_ffffffc8;

	lVar1 = GetActiveTowner(9);
	FUN_100b4834(lVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void ProcessTowners(undefined param_1, undefined param_2, char param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	byte bVar1;
	undefined *puVar2;
	ulonglong uVar3;
	int iVar4;
	undefined *puVar5;

	puVar2 = PTR_DAT_100f3974;
	uVar3 = SEXT18(param_3);
	iVar4 = 0;
	puVar5 = PTR_DAT_100f1878;
	do {
		if (*(uint *)(puVar5 + 4) < 10) {
			// WARNING: Could not recover jumptable at 0x100b4b58. Too many branches
			// WARNING: Treating indirect jump as call
			(**(code **)(PTR_PTR_LAB_100f3970 + *(uint *)(puVar5 + 4) * 4))(*(code **)(PTR_PTR_LAB_100f3970 + *(uint *)(puVar5 + 4) * 4), param_2, uVar3, param_4,
			    param_5, param_6, param_7, param_8);
			return;
		}
		*(int *)(puVar5 + 0x2c) = *(int *)(puVar5 + 0x2c) + 1;
		if (*(int *)(puVar5 + 0x28) <= *(int *)(puVar5 + 0x2c)) {
			param_2 = 0;
			*(undefined4 *)(puVar5 + 0x2c) = 0;
			bVar1 = puVar5[0x3c];
			uVar3 = (ulonglong)bVar1;
			if ((char)bVar1 < '\0') {
				*(int *)(puVar5 + 0x34) = *(int *)(puVar5 + 0x34) + 1;
				if (*(int *)(puVar5 + 0x30) < *(int *)(puVar5 + 0x34)) {
					*(undefined4 *)(puVar5 + 0x34) = 1;
				}
			} else {
				*(int *)(puVar5 + 0x38) = *(int *)(puVar5 + 0x38) + 1;
				if ((puVar2 + (int)(char)bVar1 * 0x94)[*(int *)(puVar5 + 0x38)] == -1) {
					*(undefined4 *)(puVar5 + 0x38) = 0;
				}
				*(int *)(puVar5 + 0x34) = (int)(char)(puVar2 + (int)(char)bVar1 * 0x94)[*(int *)(puVar5 + 0x38)];
			}
		}
		iVar4 = iVar4 + 1;
		puVar5 = puVar5 + 0x10c;
	} while (iVar4 < 0x10);
	return;
}

undefined *PlrHasItem(int param_1, int param_2, int *param_3)

{
	int iVar1;
	undefined *puVar2;

	puVar2 = PTR_DAT_100f1828 + param_1 * 0x55ec;
	*param_3 = 0;
	while (true) {
		if (*(int *)(puVar2 + 0x4828) <= *param_3) {
			return (undefined *)0x0;
		}
		iVar1 = *param_3 * 0x170;
		if (param_2 == *(int *)(puVar2 + iVar1 + 0x1010))
			break;
		*param_3 = *param_3 + 1;
	}
	return puVar2 + iVar1 + 0xea8;
}

void CowSFX(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined **ppuVar2;
	ulonglong uVar3;
	undefined *puVar4;
	undefined7 uVar5;
	undefined uVar6;
	undefined7 uVar7;
	undefined uVar8;
	undefined *puVar9;
	undefined4 in_stack_ffffffb8;

	puVar4 = PTR_DAT_100f1828;
	uVar7 = (undefined7)((ulonglong)param_5 >> 8);
	uVar8 = (undefined)param_5;
	uVar5 = (undefined7)((ulonglong)param_4 >> 8);
	uVar6 = (undefined)param_4;
	ppuVar2 = &toc;
	if (DAT_100f4534 == '\0') {
		_DAT_100f4538 = -1;
		DAT_100f4534 = '\x01';
	}
	if ((_DAT_100f4538 == -1) || (ppuVar2 = &toc, uVar3 = effect_is_playing(_DAT_100f4538, (undefined)param_2, (undefined)param_3, uVar6, uVar8, (char)param_6, (char)param_7, (char)param_8, in_stack_ffffffb8), (int)uVar3 == 0)) {
		ppuVar2[-0x12a4] = ppuVar2[-0x12a4] + 1;
		if (ppuVar2[-0x12a4] < (undefined *)0x8) {
			if (ppuVar2[-0x12a4] == (undefined *)0x4) {
				ppuVar2[-0x12a6] = (undefined *)0xed;
			} else {
				ppuVar2[-0x12a6] = (undefined *)0xec;
			}
		} else {
			puVar9 = puVar4 + param_1 * 0x55ec;
			PlaySfxLoc(0xec, (ulonglong) * (uint *)(puVar9 + 0x38), (ulonglong) * (uint *)(puVar9 + 0x3c) + 5,
			    CONCAT71(uVar5, uVar6), CONCAT71(uVar7, uVar8), param_6, param_7, param_8,
			    in_stack_ffffffb8);
			ppuVar2[-0x12a4] = (undefined *)0x4;
			puVar1 = ppuVar2[-0x12a5] + 1;
			ppuVar2[-0x12a6] = *(undefined **)(ppuVar2[-0x1599] + (int)ppuVar2[-0x12a5] * 0xc + (int)(char)puVar9[0x15c] * 4);
			ppuVar2[-0x12a5] = puVar1;
			if (2 < (int)puVar1) {
				ppuVar2[-0x12a5] = (undefined *)0x0;
			}
		}
		puVar4 = puVar4 + param_1 * 0x55ec;
		PlaySfxLoc(ZEXT48(ppuVar2[-0x12a6]), (ulonglong) * (uint *)(puVar4 + 0x38),
		    (ulonglong) * (uint *)(puVar4 + 0x3c), CONCAT71(uVar5, uVar6), CONCAT71(uVar7, uVar8),
		    param_6, param_7, param_8, in_stack_ffffffb8);
	}
	return;
}

void TownerTalk(int param_1, undefined4 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11)

{
	ulonglong uVar1;
	undefined4 in_stack_ffffffc8;

	uVar1 = ZEXT48(PTR_DAT_100f2114);
	_DAT_100f4540 = 0;
	_DAT_100f453c = 0;
	*(undefined4 *)PTR_DAT_100f2114 = 1;
	InitQTextMsg(param_1, uVar1, 0, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void TalkToTowner(longlong param_1, longlong param_2, ulonglong param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	char cVar1;
	int *piVar2;
	uint *puVar3;
	uint *puVar4;
	int *piVar5;
	int iVar6;
	int iVar7;
	int iVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	undefined *puVar12;
	undefined *puVar13;
	undefined **ppuVar14;
	longlong lVar15;
	longlong lVar16;
	int iVar18;
	undefined *puVar19;
	ulonglong uVar17;
	undefined *puVar20;
	ulonglong uVar21;
	undefined uVar22;
	undefined uVar23;
	undefined uVar24;
	undefined uVar25;
	undefined uVar26;
	undefined uVar27;
	undefined uVar28;
	longlong lVar29;
	char *pcVar30;
	ulonglong uVar31;
	ulonglong uVar32;
	undefined4 in_stack_ffffff88;
	undefined in_stack_ffffff8f;
	undefined in_stack_ffffff9b;
	undefined4 in_stack_ffffff9c;
	uint local_3c;

	puVar13 = PTR_DAT_100f2114;
	puVar12 = PTR_DAT_100f206c;
	puVar11 = PTR_DAT_100f19cc;
	puVar10 = PTR_DAT_100f18a0;
	puVar9 = PTR_DAT_100f1878;
	puVar20 = PTR_DAT_100f1828;
	puVar19 = PTR_DAT_100f17e0;
	uVar22 = (undefined)param_2;
	uVar17 = ZEXT48(register0x0000000c);
	ppuVar14 = &toc;
	uVar31 = ZEXT48(PTR_DAT_100f19cc);
	uVar32 = ZEXT48(PTR_DAT_100f1878);
	random(6, 3, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff9b);
	random(6, 4, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff9b);
	random(6, 5, (char)param_3, (char)param_4, (char)param_5, (char)param_6, (char)param_7,
	    (char)param_8, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff9b);
	iVar8 = (int)param_1;
	iVar7 = iVar8 * 0x55ec;
	lVar29 = param_2 * 0x10c;
	iVar6 = (int)lVar29;
	puVar3 = (uint *)(puVar9 + iVar6 + 8);
	lVar15 = abs((ulonglong) * (uint *)(puVar20 + iVar7 + 0x38) - (ulonglong)*puVar3);
	puVar4 = (uint *)(puVar9 + iVar6 + 0xc);
	uVar21 = (ulonglong)*puVar4;
	lVar16 = abs((ulonglong) * (uint *)(puVar20 + iVar7 + 0x3c) - uVar21);
	if (1 < (int)lVar15) {
		return;
	}
	if (1 < (int)lVar16) {
		return;
	}
	if (*puVar10 != '\0') {
		return;
	}
	piVar2 = (int *)ppuVar14[-0x1dd1];
	piVar5 = (int *)(puVar9 + iVar6 + 0x58);
	*piVar5 = 0;
	if ((0xb < *piVar2) && (iVar18 = DropItemBeforeTrig(), iVar18 == 0)) {
		return;
	}
	lVar15 = GetActiveTowner(3);
	iVar18 = (int)param_2;
	if (iVar18 == (int)lVar15) {
		if ((puVar20[iVar7 + 0x1f0] == '\0') && (*piVar5 == 0)) {
			iVar6 = (int)(uVar32 + lVar29);
			*(undefined4 *)(iVar6 + 0x50) = 0x96;
			*(int *)(iVar6 + 0x90) = iVar8;
			InitQTextMsg(0x102, uVar32 + lVar29, param_3, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffff88);
			*piVar5 = 1;
		}
		if (((puVar20 + iVar7)[0x1f2] != '\0') || ((puVar20 + iVar7)[500] != '\0')) {
			pcVar30 = puVar11 + 0x122;
			if (puVar11[0x122] != '\0') {
				if (((puVar11[0x122] != '\0') && (puVar11[0x130] == '\0')) && (*piVar5 == 0)) {
					puVar11[0x130] = 1;
					*(undefined4 *)(puVar11 + 0x134) = 1;
					if (*pcVar30 == '\x01') {
						*pcVar30 = '\x02';
						puVar11[0x12f] = 1;
					}
					iVar6 = (int)(uVar32 + lVar29);
					*(undefined4 *)(iVar6 + 0x50) = 0x96;
					*(int *)(iVar6 + 0x90) = iVar8;
					InitQTextMsg(1, uVar32 + lVar29, param_3, param_4, param_5, param_6, param_7, param_8,
					    in_stack_ffffff88);
					*piVar5 = 1;
					NetSendCmdQuest(1, 0xc);
				}
				if (((*pcVar30 == '\x03') && (puVar11[0x130] == '\x01')) && (*piVar5 == 0)) {
					param_3 = 2;
					puVar11[0x130] = 2;
					puVar11[0x12f] = 2;
					iVar6 = (int)(uVar32 + lVar29);
					*(undefined4 *)(iVar6 + 0x50) = 0x96;
					*(int *)(iVar6 + 0x90) = iVar8;
					InitQTextMsg(3, uVar32 + lVar29, 2, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff88);
					*piVar5 = 1;
					NetSendCmdQuest(1, 0xc);
				}
			}
		}
		if ((*puVar19 == '\x01') && (puVar20[iVar7 + 499] != '\0')) {
			pcVar30 = puVar11 + 0xaa;
			if (puVar11[0xaa] != '\0') {
				if ((((byte)(puVar11[0xaa] - 1) < 2) && (puVar11[0xb8] == '\0')) && (*piVar5 == 0)) {
					puVar11[0xb8] = 1;
					if (*pcVar30 == '\x01') {
						puVar11[0xb7] = 1;
						*pcVar30 = '\x02';
					}
					*(undefined4 *)(puVar11 + 0xbc) = 1;
					iVar7 = (int)(uVar32 + lVar29);
					*(undefined4 *)(iVar7 + 0x50) = 0x96;
					*(int *)(iVar7 + 0x90) = iVar8;
					InitQTextMsg(0xc, uVar32 + lVar29, param_3, param_4, param_5, param_6, param_7, param_8,
					    in_stack_ffffff88);
					*piVar5 = 1;
				}
				if (puVar11[0xb8] == '\x01') {
					param_3 = uVar17 - 0x3c;
					puVar19 = PlrHasItem(iVar8, 0xc, (int *)param_3);
					if ((puVar19 != (undefined *)0x0) && (*piVar5 == 0)) {
						*pcVar30 = '\x03';
						puVar11[0xb7] = 3;
						RemoveInvItem(param_1, (ulonglong)local_3c, (char)param_3, (char)param_4, (char)param_5,
						    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffff88);
						param_3 = (ulonglong)*puVar4 + 1;
						CreateItem(5, *puVar3, (int)param_3, (char)param_4, (char)param_5, (char)param_6,
						    (char)param_7, (char)param_8, in_stack_ffffff88);
						iVar7 = (int)(uVar32 + lVar29);
						*(undefined4 *)(iVar7 + 0x50) = 0x96;
						*(int *)(iVar7 + 0x90) = iVar8;
						InitQTextMsg(0xd, uVar32 + lVar29, param_3, param_4, param_5, param_6, param_7, param_8,
						    in_stack_ffffff88);
						*piVar5 = 1;
					}
				}
			}
		}
		uVar28 = (undefined)param_8;
		uVar27 = (undefined)param_7;
		uVar26 = (undefined)param_6;
		uVar25 = (undefined)param_5;
		uVar24 = (undefined)param_4;
		uVar23 = (undefined)param_3;
		if (*puVar10 != '\0') {
			return;
		}
		TownerTalk(0xa0, iVar18, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff88,
		    in_stack_ffffff8f, in_stack_ffffff9c);
		if (*(int *)puVar13 == 0) {
			return;
		}
		StartStore('\x15', uVar22, uVar23, uVar24, uVar25, uVar26, uVar27, uVar28, in_stack_ffffff88);
		return;
	}
	lVar15 = GetActiveTowner(2);
	uVar27 = (undefined)param_8;
	uVar26 = (undefined)param_7;
	uVar25 = (undefined)param_6;
	uVar24 = (undefined)param_5;
	uVar23 = (undefined)param_3;
	if (iVar18 == (int)lVar15) {
		lVar15 = uVar31 + 0x92;
		uVar22 = (undefined)lVar15;
		cVar1 = puVar11[0x92];
		if (cVar1 == '\x02') {
			uVar28 = (undefined)(uVar31 + 0x9f);
			if (puVar11[0x9f] == '\x01') {
				*(undefined4 *)(puVar9 + iVar6 + 0x50) = 0x96;
				*(int *)(puVar9 + iVar6 + 0x90) = iVar8;
				*(undefined *)(uVar31 + 0x9f) = 1;
				pcVar30 = puVar20 + iVar7 + 0x15c;
				if ((*pcVar30 == '\0') && (uVar17 = effect_is_playing(0x2d1, uVar28, uVar23, uVar22, uVar24, uVar25, uVar26, uVar27, in_stack_ffffff88), (int)uVar17 == 0)) {
					PlaySFX(0x2d1);
				} else {
					if ((*pcVar30 == '\x01') && (uVar17 = effect_is_playing(0x26a, uVar28, uVar23, uVar22, uVar24, uVar25, uVar26, uVar27, in_stack_ffffff88), (int)uVar17 == 0)) {
						PlaySFX(0x26a);
					} else {
						if ((*pcVar30 == '\x02') && (uVar17 = effect_is_playing(0x203, uVar28, uVar23, uVar22, uVar24, uVar25, uVar26, uVar27, in_stack_ffffff88), (int)uVar17 == 0)) {
							PlaySFX(0x203);
						}
					}
				}
				*piVar5 = 1;
				return;
			}
		}
		if ((cVar1 == '\x03') && (puVar11[0x9f] == '\x01')) {
			puVar11[0x9f] = 1;
			*(undefined4 *)(puVar9 + iVar6 + 0x50) = 0x96;
			*(int *)(puVar9 + iVar6 + 0x90) = iVar8;
			*piVar5 = 1;
			return;
		}
		if (cVar1 != '\x01') {
			if (cVar1 != '\x02') {
				return;
			}
			if (puVar11[0x9f] != '\0') {
				return;
			}
		}
		*(undefined *)lVar15 = 2;
		*(undefined4 *)(puVar11 + 0xa4) = 1;
		puVar11[0x9e] = 0x3f;
		puVar11[0x9f] = 1;
		iVar7 = (int)(uVar32 + lVar29);
		*(undefined4 *)(iVar7 + 0x50) = 0x32;
		*(int *)(iVar7 + 0x90) = iVar8;
		*(undefined4 *)(iVar7 + 0x94) = 3;
		InitQTextMsg(0x3f, uVar32 + lVar29, 0x32, lVar15, param_5, param_6, param_7, param_8, in_stack_ffffff88);
		*piVar5 = 1;
		NetSendCmdQuest(1, 6);
		return;
	}
	lVar15 = GetActiveTowner(0);
	if (iVar18 == (int)lVar15) {
		if (*puVar19 == '\x01') {
			if (puVar20[iVar7 + 500] != '\0') {
				pcVar30 = puVar11 + 2;
				if (puVar11[2] != '\0') {
					if ((puVar11[2] != '\0') && (puVar11[0x10] == '\0')) {
						puVar11[0x10] = 1;
						*(undefined4 *)(puVar11 + 0x14) = 1;
						if (*pcVar30 == '\x01') {
							*pcVar30 = '\x02';
							puVar11[0xf] = 1;
						}
						iVar6 = (int)(uVar32 + lVar29);
						*(undefined4 *)(iVar6 + 0x50) = 0x96;
						*(int *)(iVar6 + 0x90) = iVar8;
						InitQTextMsg(0x73, uVar32 + lVar29, param_3, param_4, param_5, param_6, param_7, param_8,
						    in_stack_ffffff88);
						*piVar5 = 1;
					}
					if (puVar11[0x10] == '\x01') {
						param_3 = uVar17 - 0x3c;
						puVar19 = PlrHasItem(iVar8, 9, (int *)param_3);
						if ((puVar19 != (undefined *)0x0) && (*piVar5 == 0)) {
							*pcVar30 = '\x03';
							puVar11[0x10] = 2;
							puVar11[0xf] = 2;
							RemoveInvItem(param_1, (ulonglong)local_3c, (char)param_3, (char)param_4, (char)param_5,
							    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffff88);
							param_3 = (ulonglong)*puVar4 + 1;
							CreateItem(2, *puVar3, (int)param_3, (char)param_4, (char)param_5, (char)param_6,
							    (char)param_7, (char)param_8, in_stack_ffffff88);
							iVar6 = (int)(uVar32 + lVar29);
							*(undefined4 *)(iVar6 + 0x50) = 0x96;
							*(int *)(iVar6 + 0x90) = iVar8;
							InitQTextMsg(0x75, uVar32 + lVar29, param_3, param_4, param_5, param_6, param_7, param_8,
							    in_stack_ffffff88);
							*piVar5 = 1;
						}
					}
				}
			}
			if (puVar20[iVar7 + 0x1f9] != '\0') {
				pcVar30 = puVar11 + 0xf2;
				if (puVar11[0xf2] != '\0') {
					if (((((byte)(puVar11[0xf2] - 1) < 2) && (puVar11[0x100] == '\0')) && (*piVar5 == 0)) && ((puVar11[0x10] == '\x02' || ((puVar11[2] == '\x02' && (puVar11[0x10] == '\x01')))))) {
						puVar11[0x100] = 1;
						*(undefined4 *)(puVar11 + 0x104) = 1;
						if (*pcVar30 == '\x01') {
							*pcVar30 = '\x02';
							puVar11[0xff] = 1;
						}
						iVar7 = (int)(uVar32 + lVar29);
						*(undefined4 *)(iVar7 + 0x50) = 0x96;
						*(int *)(iVar7 + 0x90) = iVar8;
						InitQTextMsg(0x58, uVar32 + lVar29, param_3, param_4, param_5, param_6, param_7, param_8,
						    in_stack_ffffff88);
						*piVar5 = 1;
					}
					if (puVar11[0x100] == '\x01') {
						param_3 = uVar17 - 0x3c;
						puVar19 = PlrHasItem(iVar8, 0x10, (int *)param_3);
						if ((puVar19 != (undefined *)0x0) && (*piVar5 == 0)) {
							*pcVar30 = '\x03';
							puVar11[0x100] = 2;
							puVar11[0xff] = 2;
							RemoveInvItem(param_1, (ulonglong)local_3c, (char)param_3, (char)param_4, (char)param_5,
							    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffff88);
							param_3 = (ulonglong)*puVar4 + 1;
							CreateItem(8, *puVar3, (int)param_3, (char)param_4, (char)param_5, (char)param_6,
							    (char)param_7, (char)param_8, in_stack_ffffff88);
							iVar7 = (int)(uVar32 + lVar29);
							*(undefined4 *)(iVar7 + 0x50) = 0x96;
							*(int *)(iVar7 + 0x90) = iVar8;
							InitQTextMsg(0x5a, uVar32 + lVar29, param_3, param_4, param_5, param_6, param_7, param_8,
							    in_stack_ffffff88);
							*piVar5 = 1;
						}
					}
				}
			}
		}
		uVar28 = (undefined)param_8;
		uVar27 = (undefined)param_7;
		uVar26 = (undefined)param_6;
		uVar25 = (undefined)param_5;
		uVar24 = (undefined)param_4;
		uVar23 = (undefined)param_3;
		if (*puVar10 != '\0') {
			return;
		}
		TownerTalk(0xbc, iVar18, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff88,
		    in_stack_ffffff8f, in_stack_ffffff9c);
		if (*(int *)puVar13 == 0) {
			return;
		}
		StartStore('\x01', uVar22, uVar23, uVar24, uVar25, uVar26, uVar27, uVar28, in_stack_ffffff88);
		return;
	}
	lVar15 = GetActiveTowner(6);
	if (iVar18 != (int)lVar15) {
		lVar15 = GetActiveTowner(7);
		uVar28 = (undefined)param_8;
		uVar27 = (undefined)param_7;
		uVar26 = (undefined)param_6;
		uVar25 = (undefined)param_5;
		uVar24 = (undefined)param_4;
		uVar23 = (undefined)param_3;
		if (iVar18 == (int)lVar15) {
			if (*puVar10 != '\0') {
				return;
			}
			TownerTalk(0xb3, iVar18, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff88,
			    in_stack_ffffff8f, in_stack_ffffff9c);
			if (*(int *)puVar13 == 0) {
				return;
			}
			StartStore('\x17', uVar22, uVar23, uVar24, uVar25, uVar26, uVar27, uVar28, in_stack_ffffff88);
			return;
		}
		lVar15 = GetActiveTowner(5);
		uVar28 = (undefined)param_8;
		uVar27 = (undefined)param_7;
		uVar26 = (undefined)param_6;
		uVar25 = (undefined)param_5;
		uVar24 = (undefined)param_4;
		uVar23 = (undefined)param_3;
		if (iVar18 == (int)lVar15) {
			if (*puVar10 != '\0') {
				return;
			}
			TownerTalk(200, iVar18, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff88,
			    in_stack_ffffff8f, in_stack_ffffff9c);
			if (*(int *)puVar13 == 0) {
				return;
			}
			StartStore('\x16', uVar22, uVar23, uVar24, uVar25, uVar26, uVar27, uVar28, in_stack_ffffff88);
			return;
		}
		lVar15 = GetActiveTowner(1);
		if (iVar18 == (int)lVar15) {
			if (*puVar19 == '\x01') {
				if ((puVar20[iVar7 + 0x1f1] != '\0') && (*piVar5 == 0)) {
					if (puVar11[0x13a] == '\x01') {
						puVar11[0x13a] = 2;
						param_3 = 0x27;
						*(undefined4 *)(puVar11 + 0x14c) = 1;
						puVar11[0x146] = 0x27;
						puVar11[0x147] = 1;
						iVar7 = (int)(uVar32 + lVar29);
						*(undefined4 *)(iVar7 + 0x50) = 0x96;
						*(int *)(iVar7 + 0x90) = iVar8;
						InitQTextMsg(0x27, uVar32 + lVar29, 0x27, param_4, param_5, param_6, param_7, param_8,
						    in_stack_ffffff88);
						*piVar5 = 1;
					} else {
						if ((puVar11[0x13a] == '\x03') && (puVar11[0x147] != '\x02')) {
							puVar11[0x147] = 2;
							iVar7 = (int)(uVar32 + lVar29);
							*(undefined4 *)(iVar7 + 0x50) = 0x96;
							*(int *)(iVar7 + 0x90) = iVar8;
							InitQTextMsg(0x29, uVar32 + lVar29, param_3, param_4, param_5, param_6, param_7, param_8,
							    in_stack_ffffff88);
							param_3 = (ulonglong)*puVar4 + 1;
							CreateItem(4, *puVar3, (int)param_3, (char)param_4, (char)param_5, (char)param_6,
							    (char)param_7, (char)param_8, in_stack_ffffff88);
							*piVar5 = 1;
						}
					}
				}
				if ((puVar11[0x1a] == '\x02') && (puVar11[0x26] == -0x7e)) {
					param_3 = uVar17 - 0x3c;
					puVar19 = PlrHasItem(iVar8, 0x12, (int *)param_3);
					if (puVar19 != (undefined *)0x0) {
						RemoveInvItem(param_1, (ulonglong)local_3c, (char)param_3, (char)param_4, (char)param_5,
						    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffff88);
						uVar17 = (ulonglong)*puVar3;
						param_4 = 0;
						param_3 = (ulonglong)*puVar4 + 1;
						param_5 = 0;
						SpawnQuestItem(0x14, *puVar3, (int)param_3, 0, 0, (char)param_6, (char)param_7, (char)param_8,
						    in_stack_ffffff88);
						InitQTextMsg(0x7c, uVar17, param_3, param_4, param_5, param_6, param_7, param_8,
						    in_stack_ffffff88);
						puVar11[0x27] = 7;
						*(undefined4 *)(puVar12 + 0x44) = 0xffffffff;
					}
				}
			}
			uVar28 = (undefined)param_8;
			uVar27 = (undefined)param_7;
			uVar26 = (undefined)param_6;
			uVar25 = (undefined)param_5;
			uVar24 = (undefined)param_4;
			uVar23 = (undefined)param_3;
			if (*puVar10 != '\0') {
				return;
			}
			TownerTalk(0xa9, iVar18, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff88,
			    in_stack_ffffff8f, in_stack_ffffff9c);
			if (*(int *)puVar13 == 0) {
				return;
			}
			StartStore('\x0e', uVar22, uVar23, uVar24, uVar25, uVar26, uVar27, uVar28, in_stack_ffffff88);
			return;
		}
		lVar15 = GetActiveTowner(8);
		uVar28 = (undefined)param_8;
		uVar27 = (undefined)param_7;
		uVar26 = (undefined)param_6;
		uVar25 = (undefined)param_5;
		uVar24 = (undefined)param_4;
		uVar23 = (undefined)param_3;
		if (iVar18 == (int)lVar15) {
			if (*puVar10 != '\0') {
				return;
			}
			TownerTalk(0xe0, iVar18, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff88,
			    in_stack_ffffff8f, in_stack_ffffff9c);
			if (*(int *)puVar13 == 0) {
				return;
			}
			StartStore('\f', uVar22, uVar23, uVar24, uVar25, uVar26, uVar27, uVar28, in_stack_ffffff88);
			return;
		}
		lVar15 = GetActiveTowner(4);
		if (iVar18 != (int)lVar15) {
			if (*(int *)(puVar9 + iVar6 + 4) != 9) {
				return;
			}
			if (*puVar10 != '\0') {
				return;
			}
			CowSFX(iVar8, uVar21, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff88);
			return;
		}
		if (*puVar19 == '\x01') {
			if (puVar11[0x16a] == '\x01') {
				param_3 = uVar17 - 0x3c;
				puVar20 = PlrHasItem(iVar8, 0x21, (int *)param_3);
				if (puVar20 != (undefined *)0x0) {
					RemoveInvItem(param_1, (ulonglong)local_3c, (char)param_3, (char)param_4, (char)param_5,
					    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffff88);
					puVar11[0x177] = 2;
					iVar7 = (int)(uVar32 + lVar29);
					*(undefined4 *)(iVar7 + 0x50) = 0x96;
					*(int *)(iVar7 + 0x90) = iVar8;
					InitQTextMsg(0x17, uVar32 + lVar29, param_3, param_4, param_5, param_6, param_7, param_8,
					    in_stack_ffffff88);
					*piVar5 = 1;
					puVar11[0x16a] = '\x02';
					*(undefined4 *)(puVar11 + 0x17c) = 1;
					goto LAB_100b5a9c;
				}
			}
			if ((puVar11[0x16a] == '\x03') && (puVar11[0x177] == '\a')) {
				puVar11[0x177] = 8;
				iVar7 = (int)(uVar32 + lVar29);
				*(undefined4 *)(iVar7 + 0x50) = 0x96;
				*(int *)(iVar7 + 0x90) = iVar8;
				InitQTextMsg(0x19, uVar32 + lVar29, param_3, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffff88);
				*piVar5 = 1;
				*(undefined4 *)(puVar11 + 0x8c) = 1;
			}
		}
	LAB_100b5a9c:
		if (*puVar19 != '\x01') {
			if ((puVar11[0x16a] == '\x02') && (*(int *)(puVar11 + 0x17c) == 0)) {
				iVar7 = (int)(uVar32 + lVar29);
				*(undefined4 *)(iVar7 + 0x50) = 0x96;
				*(int *)(iVar7 + 0x90) = iVar8;
				InitQTextMsg(0x17, uVar32 + lVar29, param_3, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffff88);
				*piVar5 = 1;
				*(undefined4 *)(puVar11 + 0x17c) = 1;
				NetSendCmdQuest(1, 0xf);
			} else {
				if ((puVar11[0x16a] == '\x03') && (puVar11[0x177] == '\a')) {
					puVar11[0x177] = 8;
					iVar7 = (int)(uVar32 + lVar29);
					*(undefined4 *)(iVar7 + 0x50) = 0x96;
					*(int *)(iVar7 + 0x90) = iVar8;
					InitQTextMsg(0x19, uVar32 + lVar29, param_3, param_4, param_5, param_6, param_7, param_8,
					    in_stack_ffffff88);
					*piVar5 = 1;
					NetSendCmdQuest(1, 0xf);
					*(undefined4 *)(puVar11 + 0x8c) = 1;
					NetSendCmdQuest(1, 5);
				}
			}
		}
		uVar28 = (undefined)param_8;
		uVar27 = (undefined)param_7;
		uVar26 = (undefined)param_6;
		uVar25 = (undefined)param_5;
		uVar24 = (undefined)param_4;
		uVar23 = (undefined)param_3;
		if (*puVar10 != '\0') {
			return;
		}
		TownerTalk(0x96, iVar18, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff88,
		    in_stack_ffffff8f, in_stack_ffffff9c);
		if (*(int *)puVar13 == 0) {
			return;
		}
		StartStore('\x0f', uVar22, uVar23, uVar24, uVar25, uVar26, uVar27, uVar28, in_stack_ffffff88);
		return;
	}
	pcVar30 = puVar11 + 0x1a;
	if (puVar11[0x1a] == '\x01') {
		param_3 = uVar17 - 0x3c;
		puVar19 = PlrHasItem(iVar8, 0x13, (int *)param_3);
		if (puVar19 != (undefined *)0x0) {
			RemoveInvItem(param_1, (ulonglong)local_3c, (char)param_3, (char)param_4, (char)param_5,
			    (char)param_6, (char)param_7, (char)param_8, in_stack_ffffff88);
			param_3 = 2;
			*pcVar30 = '\x02';
			*(undefined4 *)(puVar11 + 0x2c) = 1;
			puVar11[0x27] = 2;
			iVar7 = (int)(uVar32 + lVar29);
			*(undefined4 *)(iVar7 + 0x50) = 0x96;
			*(int *)(iVar7 + 0x90) = iVar8;
			InitQTextMsg(0x80, uVar32 + lVar29, 2, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff88);
			*piVar5 = 1;
			goto LAB_100b5768;
		}
	}
	if (*pcVar30 == '\x02') {
		if (((byte)puVar11[0x27] < 2) || (4 < (byte)puVar11[0x27])) {
			param_3 = uVar17 - 0x3c;
			puVar19 = PlrHasItem(iVar8, 0x14, (int *)param_3);
			if (puVar19 == (undefined *)0x0) {
				param_3 = uVar17 - 0x3c;
				puVar19 = PlrHasItem(iVar8, 0x12, (int *)param_3);
				if ((puVar19 != (undefined *)0x0) && (param_3 = uVar31 + 0x28, puVar11[0x28] != -0x7d)) {
					iVar7 = (int)(uVar32 + lVar29);
					*(undefined4 *)(iVar7 + 0x50) = 0x96;
					*(int *)(iVar7 + 0x90) = iVar8;
					*(undefined *)param_3 = 0x83;
					InitQTextMsg(0x83, uVar32 + lVar29, param_3, param_4, param_5, param_6, param_7, param_8,
					    in_stack_ffffff88);
					*piVar5 = 1;
				}
			} else {
				iVar7 = (int)(uVar32 + lVar29);
				*(undefined4 *)(iVar7 + 0x50) = 0x96;
				*(int *)(iVar7 + 0x90) = iVar8;
				InitQTextMsg(0x84, uVar32 + lVar29, param_3, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffff88);
				*pcVar30 = '\x03';
				*piVar5 = 1;
				ppuVar14[*(int *)(puVar19 + 0x168) * 0x13 + 0xe26] = (undefined *)0x1;
			}
		} else {
			uVar23 = (undefined)(uVar17 - 0x3c);
			puVar19 = PlrHasItem(iVar8, 0x11, (int *)(uVar17 - 0x3c));
			if (puVar19 == (undefined *)0x0) {
				param_3 = uVar31 + 0x26;
				if (puVar11[0x26] != -0x7f) {
					iVar7 = (int)(uVar32 + lVar29);
					*(undefined4 *)(iVar7 + 0x50) = 0x96;
					*(int *)(iVar7 + 0x90) = iVar8;
					*(undefined *)param_3 = 0x81;
					InitQTextMsg(0x81, uVar32 + lVar29, param_3, param_4, param_5, param_6, param_7, param_8,
					    in_stack_ffffff88);
					*piVar5 = 1;
				}
			} else {
				RemoveInvItem(param_1, (ulonglong)local_3c, uVar23, (char)param_4, (char)param_5, (char)param_6,
				    (char)param_7, (char)param_8, in_stack_ffffff88);
				puVar11[0x27] = 5;
				*(undefined4 *)(puVar12 + 0x44) = 0x7b;
				param_3 = 0x96;
				*(undefined4 *)(puVar12 + 0x184) = 0xffffffff;
				iVar7 = (int)(uVar32 + lVar29);
				*(undefined4 *)(iVar7 + 0x50) = 0x96;
				*(int *)(iVar7 + 0x90) = iVar8;
				puVar11[0x26] = 0x82;
				InitQTextMsg(0x82, uVar32 + lVar29, 0x96, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffff88);
				*piVar5 = 1;
			}
		}
	}
LAB_100b5768:
	uVar28 = (undefined)param_8;
	uVar27 = (undefined)param_7;
	uVar26 = (undefined)param_6;
	uVar25 = (undefined)param_5;
	uVar24 = (undefined)param_4;
	uVar23 = (undefined)param_3;
	if ((*puVar10 == '\0') && (TownerTalk(0xd4, iVar18, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff88, in_stack_ffffff8f, in_stack_ffffff9c), *(int *)puVar13 != 0)) {
		StartStore('\x05', uVar22, uVar23, uVar24, uVar25, uVar26, uVar27, uVar28, in_stack_ffffff88);
	}
	return;
}

void FUN_100b5bbc(void)

{
	_DAT_100f4548 = _DAT_100f4530;
	return;
}

void track_process(void)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	int iVar5;
	longlong lVar6;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	int local_2c;

	puVar4 = PTR_DAT_100f1978;
	puVar3 = PTR_DAT_100f1974;
	if ((((((_DAT_100f4558 != 0) && (iVar5 = *(int *)PTR_DAT_100f1978, -1 < iVar5)) && (iVar5 < 0x6f))
	         && ((iVar1 = *(int *)PTR_DAT_100f1974, -1 < iVar1 && (iVar1 < 0x6f))))
	        && ((lVar6 = (ulonglong) * (uint *)PTR_DAT_100f1824 * 0x55ec,
	            6 < *(int *)(PTR_DAT_100f1828 + (int)lVar6 + 0x1ec) || (*(int *)(PTR_DAT_100f1828 + (int)lVar6) == 0))))
	    && ((iVar2 = (int)(ZEXT48(PTR_DAT_100f1828) + lVar6), iVar5 != *(int *)(iVar2 + 0x48) || (iVar1 != *(int *)(iVar2 + 0x4c))))) {
		iVar5 = GetTickCount((char)(ZEXT48(PTR_DAT_100f1828) + lVar6), (char)PTR_DAT_100f1828, (char)iVar5, (char)iVar1, (char)lVar6, (char)in_r8, (char)in_r9, (char)in_r10,
		    (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
		if (299 < iVar5 - *(int *)(local_2c + -0x4a80)) {
			*(int *)(local_2c + -0x4a80) = iVar5;
			NetSendCmdLoc(1, 1, (ulonglong)(*(uint *)puVar4 & 0xff), (ulonglong)(*(uint *)puVar3 & 0xff), lVar6, in_r8, in_r9, in_r10, in_stack_ffffffc8);
			if (*(char *)(local_2c + -0x4a7c) == '\0') {
				*(undefined *)(local_2c + -0x4a7c) = 1;
			}
		}
	}
	return;
}

void track_repeat_walk(undefined8 uParm1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined4 uParm6, undefined4 uParm7, undefined4 uParm8)

{
	uint uVar1;
	int iVar2;
	undefined4 uVar3;
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	int local_2c;

	iVar2 = (int)uParm1;
	if (_DAT_100f4558 != iVar2) {
		if (iVar2 == 0) {
			_DAT_100f4558 = iVar2;
			if (DAT_100f4554 != '\0') {
				DAT_100f4554 = '\0';
				_DAT_100f4558 = iVar2;
			}
		} else {
			DAT_100f4554 = '\0';
			_DAT_100f4558 = iVar2;
			uVar3 = GetTickCount((char)uParm1, param_2, param_3, param_4, param_5, (char)uParm6, (char)uParm7,
			    (char)uParm8, (char)in_stack_ffffffc8, in_stack_ffffffcf, local_2c);
			*(undefined4 *)(local_2c + -0x4a80) = uVar3;
			*(int *)(local_2c + -0x4a80) = *(int *)(local_2c + -0x4a80) + 0xfa;
			uVar1 = *(uint *)(local_2c + -0x4a80);
			*(int *)(local_2c + -0x4a80) = uVar1 - 300;
			NetSendCmdLoc(1, 1, (ulonglong)(**(uint **)(local_2c + -0x7658) & 0xff),
			    (ulonglong)(**(uint **)(local_2c + -0x765c) & 0xff), (ulonglong)uVar1, uParm6,
			    uParm7, uParm8, in_stack_ffffffc8);
		}
	}
	return;
}

ulonglong track_isscrolling(void)

{
	return (ulonglong)DAT_100f4554;
}

void FUN_100b5d6c(void)

{
	_DAT_100f455c = _DAT_100f454c;
	return;
}

void InitNoTriggers(void)

{
	undefined *puVar1;

	puVar1 = PTR_DAT_100f1890;
	*(undefined4 *)PTR_DAT_100f1ed8 = 0;
	*(undefined4 *)puVar1 = 0;
	return;
}

void InitTownTriggers(void)

{
	byte bVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;

	puVar6 = PTR_DAT_100f1edc;
	puVar4 = PTR_DAT_100f1ed8;
	*(undefined4 *)PTR_DAT_100f1edc = 0x19;
	puVar7 = PTR_DAT_100f17e0;
	*(undefined4 *)(puVar6 + 4) = 0x1d;
	puVar5 = PTR_DAT_100f2124;
	*(undefined4 *)(puVar6 + 8) = 0x402;
	*(undefined4 *)puVar4 = 1;
	puVar3 = PTR_DAT_100f1824;
	if (*puVar7 == '\x04') {
		*(undefined4 *)puVar5 = 1;
		*(undefined4 *)(puVar5 + 4) = 1;
		*(undefined4 *)(puVar5 + 8) = 1;
		*(undefined4 *)(puVar6 + 0x10) = 0x31;
		*(undefined4 *)(puVar6 + 0x14) = 0x15;
		*(undefined4 *)(puVar6 + 0x18) = 0x407;
		*(undefined4 *)(puVar6 + 0x1c) = 5;
		*(int *)puVar4 = *(int *)puVar4 + 1;
		*(undefined4 *)(puVar6 + 0x20) = 0x11;
		*(undefined4 *)(puVar6 + 0x24) = 0x45;
		*(undefined4 *)(puVar6 + 0x28) = 0x407;
		*(undefined4 *)(puVar6 + 0x2c) = 9;
		*(int *)puVar4 = *(int *)puVar4 + 1;
		*(undefined4 *)(puVar6 + 0x30) = 0x29;
		*(undefined4 *)(puVar6 + 0x34) = 0x50;
		*(undefined4 *)(puVar6 + 0x38) = 0x407;
		*(undefined4 *)(puVar6 + 0x3c) = 0xd;
		*(int *)puVar4 = *(int *)puVar4 + 1;
	} else {
		*(undefined4 *)puVar5 = 0;
		puVar7 = PTR_DAT_100f1828;
		*(undefined4 *)(puVar5 + 4) = 0;
		*(undefined4 *)(puVar5 + 8) = 0;
		bVar1 = puVar7[*(int *)puVar3 * 0x55ec + 0x5590];
		if ((bVar1 & 1) != 0) {
			*(undefined4 *)(puVar6 + 0x10) = 0x31;
			*(undefined4 *)(puVar6 + 0x14) = 0x15;
			*(undefined4 *)(puVar6 + 0x18) = 0x407;
			*(undefined4 *)(puVar6 + 0x1c) = 5;
			*(int *)puVar4 = *(int *)puVar4 + 1;
			*(undefined4 *)puVar5 = 1;
		}
		if ((bVar1 & 2) != 0) {
			iVar2 = *(int *)puVar4;
			*(undefined4 *)(puVar6 + iVar2 * 0x10) = 0x11;
			puVar7 = puVar6 + iVar2 * 0x10;
			*(undefined4 *)(puVar7 + 4) = 0x45;
			*(undefined4 *)(puVar7 + 8) = 0x407;
			*(undefined4 *)(puVar7 + 0xc) = 9;
			*(int *)puVar4 = *(int *)puVar4 + 1;
			*(undefined4 *)(puVar5 + 4) = 1;
		}
		if ((bVar1 & 4) != 0) {
			iVar2 = *(int *)puVar4;
			*(undefined4 *)(puVar6 + iVar2 * 0x10) = 0x29;
			puVar6 = puVar6 + iVar2 * 0x10;
			*(undefined4 *)(puVar6 + 4) = 0x50;
			*(undefined4 *)(puVar6 + 8) = 0x407;
			*(undefined4 *)(puVar6 + 0xc) = 0xd;
			*(int *)puVar4 = *(int *)puVar4 + 1;
			*(undefined4 *)(puVar5 + 8) = 1;
		}
	}
	*(undefined4 *)PTR_DAT_100f1890 = 0;
	return;
}

void InitL1Triggers(void)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	int *piVar4;
	short *psVar5;
	short *psVar6;
	int iVar7;
	int iVar8;
	longlong lVar9;

	puVar2 = PTR_DAT_100f1ed8;
	puVar1 = PTR_DAT_100f1a54;
	iVar8 = 0;
	*(undefined4 *)PTR_DAT_100f1ed8 = 0;
	puVar3 = PTR_DAT_100f1edc;
	psVar6 = *(short **)puVar1;
	do {
		lVar9 = 0x38;
		iVar7 = 0;
		psVar5 = psVar6;
		do {
			if (*psVar5 == 0x81) {
				piVar4 = (int *)(puVar3 + *(int *)puVar2 * 0x10);
				*piVar4 = iVar7;
				piVar4[1] = iVar8;
				piVar4[2] = 0x403;
				*(int *)puVar2 = *(int *)puVar2 + 1;
			}
			if (*psVar5 == 0x73) {
				piVar4 = (int *)(puVar3 + *(int *)puVar2 * 0x10);
				*piVar4 = iVar7;
				piVar4[1] = iVar8;
				piVar4[2] = 0x402;
				*(int *)puVar2 = *(int *)puVar2 + 1;
			}
			if (psVar5[0x70] == 0x81) {
				piVar4 = (int *)(puVar3 + *(int *)puVar2 * 0x10);
				*piVar4 = iVar7 + 1;
				piVar4[1] = iVar8;
				piVar4[2] = 0x403;
				*(int *)puVar2 = *(int *)puVar2 + 1;
			}
			if (psVar5[0x70] == 0x73) {
				piVar4 = (int *)(puVar3 + *(int *)puVar2 * 0x10);
				*piVar4 = iVar7 + 1;
				piVar4[1] = iVar8;
				piVar4[2] = 0x402;
				*(int *)puVar2 = *(int *)puVar2 + 1;
			}
			psVar5 = psVar5 + 0xe0;
			iVar7 = iVar7 + 2;
			lVar9 = lVar9 + -1;
		} while (lVar9 != 0);
		iVar8 = iVar8 + 1;
		psVar6 = psVar6 + 1;
	} while (iVar8 < 0x70);
	*(undefined4 *)PTR_DAT_100f1890 = 0;
	return;
}

void InitL2Triggers(void)

{
	short *psVar1;
	int iVar2;
	int iVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	int iVar7;
	int iVar8;
	int iVar9;
	int *piVar10;
	short *psVar11;
	short *psVar12;
	longlong lVar13;

	puVar5 = PTR_DAT_100f1ed8;
	puVar4 = PTR_DAT_100f19cc;
	iVar9 = 0;
	*(undefined4 *)PTR_DAT_100f1ed8 = 0;
	puVar6 = PTR_DAT_100f1edc;
	psVar12 = *(short **)PTR_DAT_100f1a54;
	iVar2 = *(int *)(puVar4 + 0x154);
	iVar3 = *(int *)(puVar4 + 0x158);
	do {
		lVar13 = 0x38;
		iVar7 = 0;
		psVar11 = psVar12;
		do {
			if ((*psVar11 == 0x10b) && ((iVar7 != iVar2 || (iVar9 != iVar3)))) {
				piVar10 = (int *)(puVar6 + *(int *)puVar5 * 0x10);
				*piVar10 = iVar7;
				piVar10[1] = iVar9;
				piVar10[2] = 0x403;
				*(int *)puVar5 = *(int *)puVar5 + 1;
			}
			if (*psVar11 == 0x22f) {
				piVar10 = (int *)(puVar6 + *(int *)puVar5 * 0x10);
				*piVar10 = iVar7;
				piVar10[1] = iVar9;
				piVar10[2] = 0x408;
				piVar10[3] = 0;
				*(int *)puVar5 = *(int *)puVar5 + 1;
			}
			if (*psVar11 == 0x10f) {
				piVar10 = (int *)(puVar6 + *(int *)puVar5 * 0x10);
				*piVar10 = iVar7;
				piVar10[1] = iVar9;
				piVar10[2] = 0x402;
				*(int *)puVar5 = *(int *)puVar5 + 1;
			}
			psVar1 = psVar11 + 0x70;
			iVar8 = iVar7 + 1;
			if ((*psVar1 == 0x10b) && ((iVar8 != iVar2 || (iVar9 != iVar3)))) {
				piVar10 = (int *)(puVar6 + *(int *)puVar5 * 0x10);
				*piVar10 = iVar8;
				piVar10[1] = iVar9;
				piVar10[2] = 0x403;
				*(int *)puVar5 = *(int *)puVar5 + 1;
			}
			if (*psVar1 == 0x22f) {
				piVar10 = (int *)(puVar6 + *(int *)puVar5 * 0x10);
				*piVar10 = iVar8;
				piVar10[1] = iVar9;
				piVar10[2] = 0x408;
				piVar10[3] = 0;
				*(int *)puVar5 = *(int *)puVar5 + 1;
			}
			if (*psVar1 == 0x10f) {
				piVar10 = (int *)(puVar6 + *(int *)puVar5 * 0x10);
				*piVar10 = iVar8;
				piVar10[1] = iVar9;
				piVar10[2] = 0x402;
				*(int *)puVar5 = *(int *)puVar5 + 1;
			}
			psVar11 = psVar11 + 0xe0;
			iVar7 = iVar7 + 2;
			lVar13 = lVar13 + -1;
		} while (lVar13 != 0);
		iVar9 = iVar9 + 1;
		psVar12 = psVar12 + 1;
	} while (iVar9 < 0x70);
	*(undefined4 *)PTR_DAT_100f1890 = 0;
	return;
}

void InitL3Triggers(void)

{
	short *psVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	int iVar5;
	int *piVar6;
	short *psVar7;
	short *psVar8;
	int iVar9;
	int iVar10;
	longlong lVar11;

	puVar3 = PTR_DAT_100f1ed8;
	puVar2 = PTR_DAT_100f1a54;
	iVar5 = 0;
	*(undefined4 *)PTR_DAT_100f1ed8 = 0;
	puVar4 = PTR_DAT_100f1edc;
	psVar8 = *(short **)puVar2;
	do {
		lVar11 = 0x38;
		iVar9 = 0;
		psVar7 = psVar8;
		do {
			if (*psVar7 == 0xab) {
				piVar6 = (int *)(puVar4 + *(int *)puVar3 * 0x10);
				*piVar6 = iVar9;
				piVar6[1] = iVar5;
				piVar6[2] = 0x403;
				*(int *)puVar3 = *(int *)puVar3 + 1;
			}
			if (*psVar7 == 0xa8) {
				piVar6 = (int *)(puVar4 + *(int *)puVar3 * 0x10);
				*piVar6 = iVar9;
				piVar6[1] = iVar5;
				piVar6[2] = 0x402;
				*(int *)puVar3 = *(int *)puVar3 + 1;
			}
			if (*psVar7 == 0x225) {
				piVar6 = (int *)(puVar4 + *(int *)puVar3 * 0x10);
				*piVar6 = iVar9;
				piVar6[1] = iVar5;
				piVar6[2] = 0x408;
				*(int *)puVar3 = *(int *)puVar3 + 1;
			}
			psVar1 = psVar7 + 0x70;
			iVar10 = iVar9 + 1;
			if (*psVar1 == 0xab) {
				piVar6 = (int *)(puVar4 + *(int *)puVar3 * 0x10);
				*piVar6 = iVar10;
				piVar6[1] = iVar5;
				piVar6[2] = 0x403;
				*(int *)puVar3 = *(int *)puVar3 + 1;
			}
			if (*psVar1 == 0xa8) {
				piVar6 = (int *)(puVar4 + *(int *)puVar3 * 0x10);
				*piVar6 = iVar10;
				piVar6[1] = iVar5;
				piVar6[2] = 0x402;
				*(int *)puVar3 = *(int *)puVar3 + 1;
			}
			if (*psVar1 == 0x225) {
				piVar6 = (int *)(puVar4 + *(int *)puVar3 * 0x10);
				*piVar6 = iVar10;
				piVar6[1] = iVar5;
				piVar6[2] = 0x408;
				*(int *)puVar3 = *(int *)puVar3 + 1;
			}
			psVar7 = psVar7 + 0xe0;
			iVar9 = iVar9 + 2;
			lVar11 = lVar11 + -1;
		} while (lVar11 != 0);
		iVar5 = iVar5 + 1;
		psVar8 = psVar8 + 1;
	} while (iVar5 < 0x70);
	*(undefined4 *)PTR_DAT_100f1890 = 0;
	return;
}

void InitL4Triggers(void)

{
	short *psVar1;
	char cVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	int iVar7;
	int iVar8;
	int *piVar9;
	short *psVar10;
	short *psVar11;
	int iVar12;
	longlong lVar13;

	puVar5 = PTR_DAT_100f1ed8;
	puVar4 = PTR_DAT_100f1a54;
	iVar8 = 0;
	*(undefined4 *)PTR_DAT_100f1ed8 = 0;
	puVar6 = PTR_DAT_100f1edc;
	puVar3 = PTR_DAT_100f19cc;
	psVar11 = *(short **)puVar4;
	do {
		lVar13 = 0x38;
		iVar7 = 0;
		psVar10 = psVar11;
		do {
			if (*psVar10 == 0x53) {
				piVar9 = (int *)(puVar6 + *(int *)puVar5 * 0x10);
				*piVar9 = iVar7;
				piVar9[1] = iVar8;
				piVar9[2] = 0x403;
				*(int *)puVar5 = *(int *)puVar5 + 1;
			}
			if (*psVar10 == 0x1a6) {
				piVar9 = (int *)(puVar6 + *(int *)puVar5 * 0x10);
				*piVar9 = iVar7;
				piVar9[1] = iVar8;
				piVar9[2] = 0x408;
				piVar9[3] = 0;
				*(int *)puVar5 = *(int *)puVar5 + 1;
			}
			if (*psVar10 == 0x78) {
				piVar9 = (int *)(puVar6 + *(int *)puVar5 * 0x10);
				*piVar9 = iVar7;
				piVar9[1] = iVar8;
				piVar9[2] = 0x402;
				*(int *)puVar5 = *(int *)puVar5 + 1;
			}
			psVar1 = psVar10 + 0x70;
			iVar12 = iVar7 + 1;
			if (*psVar1 == 0x53) {
				piVar9 = (int *)(puVar6 + *(int *)puVar5 * 0x10);
				*piVar9 = iVar12;
				piVar9[1] = iVar8;
				piVar9[2] = 0x403;
				*(int *)puVar5 = *(int *)puVar5 + 1;
			}
			if (*psVar1 == 0x1a6) {
				piVar9 = (int *)(puVar6 + *(int *)puVar5 * 0x10);
				*piVar9 = iVar12;
				piVar9[1] = iVar8;
				piVar9[2] = 0x408;
				piVar9[3] = 0;
				*(int *)puVar5 = *(int *)puVar5 + 1;
			}
			if (*psVar1 == 0x78) {
				piVar9 = (int *)(puVar6 + *(int *)puVar5 * 0x10);
				*piVar9 = iVar12;
				piVar9[1] = iVar8;
				piVar9[2] = 0x402;
				*(int *)puVar5 = *(int *)puVar5 + 1;
			}
			psVar10 = psVar10 + 0xe0;
			iVar7 = iVar7 + 2;
			lVar13 = lVar13 + -1;
		} while (lVar13 != 0);
		iVar8 = iVar8 + 1;
		psVar11 = psVar11 + 1;
	} while (iVar8 < 0x70);
	iVar7 = 0;
	iVar8 = 0;
	do {
		lVar13 = 0x10;
		cVar2 = puVar3[0x16a];
		psVar11 = (short *)(*(int *)puVar4 + iVar8);
		piVar9 = (int *)(puVar6 + *(int *)puVar5 * 0x10);
		iVar12 = 0;
		do {
			if ((*psVar11 == 0x172) && (cVar2 == '\x03')) {
				*piVar9 = iVar12;
				piVar9[1] = iVar7;
				piVar9[2] = 0x402;
				piVar9 = piVar9 + 4;
				*(int *)puVar5 = *(int *)puVar5 + 1;
			}
			if ((psVar11[0x70] == 0x172) && (cVar2 == '\x03')) {
				*piVar9 = iVar12 + 1;
				piVar9[1] = iVar7;
				piVar9[2] = 0x402;
				piVar9 = piVar9 + 4;
				*(int *)puVar5 = *(int *)puVar5 + 1;
			}
			if ((psVar11[0xe0] == 0x172) && (cVar2 == '\x03')) {
				*piVar9 = iVar12 + 2;
				piVar9[1] = iVar7;
				piVar9[2] = 0x402;
				piVar9 = piVar9 + 4;
				*(int *)puVar5 = *(int *)puVar5 + 1;
			}
			if ((psVar11[0x150] == 0x172) && (cVar2 == '\x03')) {
				*piVar9 = iVar12 + 3;
				piVar9[1] = iVar7;
				piVar9[2] = 0x402;
				piVar9 = piVar9 + 4;
				*(int *)puVar5 = *(int *)puVar5 + 1;
			}
			if ((psVar11[0x1c0] == 0x172) && (cVar2 == '\x03')) {
				*piVar9 = iVar12 + 4;
				piVar9[1] = iVar7;
				piVar9[2] = 0x402;
				piVar9 = piVar9 + 4;
				*(int *)puVar5 = *(int *)puVar5 + 1;
			}
			if ((psVar11[0x230] == 0x172) && (cVar2 == '\x03')) {
				*piVar9 = iVar12 + 5;
				piVar9[1] = iVar7;
				piVar9[2] = 0x402;
				piVar9 = piVar9 + 4;
				*(int *)puVar5 = *(int *)puVar5 + 1;
			}
			if ((psVar11[0x2a0] == 0x172) && (cVar2 == '\x03')) {
				*piVar9 = iVar12 + 6;
				piVar9[1] = iVar7;
				piVar9[2] = 0x402;
				piVar9 = piVar9 + 4;
				*(int *)puVar5 = *(int *)puVar5 + 1;
			}
			psVar11 = psVar11 + 0x310;
			iVar12 = iVar12 + 7;
			lVar13 = lVar13 + -1;
		} while (lVar13 != 0);
		iVar7 = iVar7 + 1;
		iVar8 = iVar8 + 2;
	} while (iVar7 < 0x70);
	*(undefined4 *)PTR_DAT_100f1890 = 0;
	return;
}

void InitSKingTriggers(void)

{
	undefined *puVar1;
	undefined *puVar2;

	puVar2 = PTR_DAT_100f1edc;
	*(undefined4 *)PTR_DAT_100f1ed8 = 1;
	puVar1 = PTR_DAT_100f1890;
	*(undefined4 *)puVar2 = 0x52;
	*(undefined4 *)(puVar2 + 4) = 0x2a;
	*(undefined4 *)(puVar2 + 8) = 0x404;
	*(undefined4 *)puVar1 = 0;
	return;
}

void InitSChambTriggers(void)

{
	undefined *puVar1;
	undefined *puVar2;

	puVar2 = PTR_DAT_100f1edc;
	*(undefined4 *)PTR_DAT_100f1ed8 = 1;
	puVar1 = PTR_DAT_100f1890;
	*(undefined4 *)puVar2 = 0x46;
	*(undefined4 *)(puVar2 + 4) = 0x27;
	*(undefined4 *)(puVar2 + 8) = 0x404;
	*(undefined4 *)puVar1 = 0;
	return;
}

void InitPWaterTriggers(void)

{
	undefined *puVar1;
	undefined *puVar2;

	puVar2 = PTR_DAT_100f1edc;
	*(undefined4 *)PTR_DAT_100f1ed8 = 1;
	puVar1 = PTR_DAT_100f1890;
	*(undefined4 *)puVar2 = 0x1e;
	*(undefined4 *)(puVar2 + 4) = 0x53;
	*(undefined4 *)(puVar2 + 8) = 0x404;
	*(undefined4 *)puVar1 = 0;
	return;
}

void InitVPTriggers(void)

{
	undefined *puVar1;
	undefined *puVar2;

	puVar2 = PTR_DAT_100f1edc;
	*(undefined4 *)PTR_DAT_100f1ed8 = 1;
	puVar1 = PTR_DAT_100f1890;
	*(undefined4 *)puVar2 = 0x23;
	*(undefined4 *)(puVar2 + 4) = 0x20;
	*(undefined4 *)(puVar2 + 8) = 0x404;
	*(undefined4 *)puVar1 = 0;
	return;
}

undefined8
FUN_100b6834(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	int *piVar3;
	int iVar4;
	short *psVar5;
	longlong lVar6;

	puVar2 = PTR_DAT_100f1978;
	puVar1 = PTR_DAT_100f1974;
	psVar5 = (short *)(*(int *)PTR_DAT_100f1a54 + *(int *)PTR_DAT_100f1978 * 0xe0 + *(int *)PTR_DAT_100f1974 * 2);
	piVar3 = (int *)PTR_DAT_100f3a3c;
	while (*piVar3 != -1) {
		if (*piVar3 == (int)*psVar5) {
			strcpy((int)PTR_DAT_100f192c, (int)PTR_s_Down_to_dungeon_100f3a38);
			*(undefined4 *)puVar2 = 0x19;
			*(undefined4 *)puVar1 = 0x1d;
			return 1;
		}
		piVar3 = piVar3 + 1;
	}
	piVar3 = (int *)PTR_DAT_100f3a34;
	if (*(int *)PTR_DAT_100f2124 != 0) {
		while (*piVar3 != -1) {
			if (*piVar3 == (int)*psVar5) {
				strcpy((int)PTR_DAT_100f192c, (int)PTR_s_Down_to_catacombs_100f3a30);
				*(undefined4 *)puVar2 = 0x31;
				*(undefined4 *)puVar1 = 0x15;
				return 1;
			}
			piVar3 = piVar3 + 1;
		}
	}
	if (*(int *)(PTR_DAT_100f2124 + 4) != 0) {
		lVar6 = 0x16;
		iVar4 = 0x4af;
		do {
			if (iVar4 == (int)*psVar5) {
				strcpy((int)PTR_DAT_100f192c, (int)PTR_s_Down_to_caves_100f3a2c);
				*(undefined4 *)puVar2 = 0x11;
				*(undefined4 *)puVar1 = 0x45;
				return 1;
			}
			iVar4 = iVar4 + 1;
			lVar6 = lVar6 + -1;
		} while (lVar6 != 0);
	}
	if (*(int *)(PTR_DAT_100f2124 + 8) != 0) {
		lVar6 = 0x10;
		iVar4 = 0x4d8;
		do {
			if (iVar4 == (int)*psVar5) {
				strcpy((int)PTR_DAT_100f192c, (int)PTR_s_Down_to_hell_100f3a28);
				*(undefined4 *)puVar2 = 0x29;
				*(undefined4 *)puVar1 = 0x50;
				return 1;
			}
			iVar4 = iVar4 + 1;
			lVar6 = lVar6 + -1;
		} while (lVar6 != 0);
	}
	return 0;
}

undefined8 ForceL1Trig(void)

{
	byte bVar1;
	uint uVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	undefined *puVar11;
	ulonglong uVar12;
	ulonglong uVar13;
	undefined *puVar14;
	undefined *puVar15;
	int iVar16;
	undefined4 in_r6;
	undefined4 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	int *piVar17;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;

	puVar11 = PTR_s_Up_to_level__i_100f3a20;
	puVar15 = PTR_s_Up_to_town_100f3a1c;
	puVar10 = PTR_s_Down_to_level__i_100f3a14;
	puVar9 = PTR_DAT_100f1edc;
	puVar8 = PTR_DAT_100f1ed8;
	puVar7 = PTR_DAT_100f1a54;
	puVar6 = PTR_DAT_100f1978;
	puVar5 = PTR_DAT_100f1974;
	puVar4 = PTR_DAT_100f192c;
	puVar3 = PTR_DAT_100f17ec;
	uVar13 = ZEXT48(&toc);
	piVar17 = (int *)PTR_DAT_100f3a24;
	while (*piVar17 != -1) {
		if (*piVar17 == (int)*(short *)(*(int *)puVar7 + *(int *)puVar6 * 0xe0 + *(int *)puVar5 * 2)) {
			bVar1 = *puVar3;
			if (bVar1 < 2) {
				strcpy((int)puVar4, (int)puVar15);
			} else {
				sprintf((int)puVar4, puVar11, (uint)bVar1 - 1, in_r6, in_r7, in_r8, in_r9, in_r10,
				    in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffac, in_stack_ffffffb0,
				    in_stack_ffffffb4, in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0,
				    in_stack_ffffffc4);
			}
			uVar2 = *(uint *)puVar8;
			uVar12 = (ulonglong)uVar2;
			iVar16 = 0;
			puVar14 = puVar9;
			if (0 < (int)uVar2) {
				do {
					if (*(int *)(puVar14 + 8) == 0x403) {
						*(undefined4 *)puVar6 = *(undefined4 *)(puVar9 + iVar16 * 0x10);
						*(undefined4 *)puVar5 = *(undefined4 *)(puVar9 + iVar16 * 0x10 + 4);
						return 1;
					}
					puVar14 = puVar14 + 0x10;
					iVar16 = iVar16 + 1;
					uVar12 = uVar12 - 1;
				} while (uVar12 != 0);
			}
		}
		piVar17 = piVar17 + 1;
	}
	piVar17 = *(int **)((int)uVar13 + -0x55b8);
	do {
		if (*piVar17 == -1) {
			return 0;
		}
		if (*piVar17 == (int)*(short *)(*(int *)puVar7 + *(int *)puVar6 * 0xe0 + *(int *)puVar5 * 2)) {
			sprintf((int)puVar4, puVar10, (uint)(byte)*puVar3 + 1, in_r6, in_r7, in_r8, in_r9, in_r10,
			    in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffac, in_stack_ffffffb0,
			    in_stack_ffffffb4, in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0,
			    in_stack_ffffffc4);
			uVar2 = *(uint *)puVar8;
			uVar13 = (ulonglong)uVar2;
			iVar16 = 0;
			puVar15 = puVar9;
			if (0 < (int)uVar2) {
				do {
					if (*(int *)(puVar15 + 8) == 0x402) {
						*(undefined4 *)puVar6 = *(undefined4 *)(puVar9 + iVar16 * 0x10);
						*(undefined4 *)puVar5 = *(undefined4 *)(puVar9 + iVar16 * 0x10 + 4);
						return 1;
					}
					puVar15 = puVar15 + 0x10;
					iVar16 = iVar16 + 1;
					uVar13 = uVar13 - 1;
				} while (uVar13 != 0);
			}
		}
		piVar17 = piVar17 + 1;
	} while (true);
}

undefined8 ForceL2Trig(void)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	ulonglong uVar9;
	ulonglong uVar10;
	undefined *puVar13;
	longlong lVar11;
	longlong lVar12;
	undefined4 in_r6;
	undefined4 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	uint *puVar14;
	int iVar15;
	int *piVar16;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;

	puVar8 = PTR_s_Down_to_level__i_100f3a14;
	puVar7 = PTR_DAT_100f1edc;
	puVar6 = PTR_DAT_100f1ed8;
	puVar5 = PTR_DAT_100f1a54;
	puVar4 = PTR_DAT_100f1978;
	puVar3 = PTR_DAT_100f1974;
	puVar2 = PTR_DAT_100f192c;
	puVar1 = PTR_DAT_100f17ec;
	uVar10 = ZEXT48(&toc);
	piVar16 = (int *)PTR_DAT_100f3a10;
	while (*piVar16 != -1) {
		if (*piVar16 == (int)*(short *)(*(int *)puVar5 + *(int *)puVar4 * 0xe0 + *(int *)puVar3 * 2)) {
			iVar15 = 0;
			puVar14 = (uint *)puVar7;
			while (iVar15 < *(int *)puVar6) {
				if (puVar14[2] == 0x403) {
					lVar11 = abs((ulonglong)*puVar14 - (ulonglong) * (uint *)puVar4);
					lVar12 = abs((ulonglong)puVar14[1] - (ulonglong) * (uint *)puVar3);
					if (((int)lVar11 < 4) && ((int)lVar12 < 4)) {
						sprintf((int)puVar2, *(undefined4 *)((int)uVar10 + -0x55b0), (uint)(byte)*puVar1 - 1,
						    in_r6, in_r7, in_r8, in_r9, in_r10, in_stack_ffffff98, in_stack_ffffff9f,
						    in_stack_ffffffac, in_stack_ffffffb0, in_stack_ffffffb4, in_stack_ffffffb8,
						    in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4);
						*(undefined4 *)puVar4 = *(undefined4 *)(puVar7 + iVar15 * 0x10);
						*(undefined4 *)puVar3 = *(undefined4 *)(puVar7 + iVar15 * 0x10 + 4);
						return 1;
					}
				}
				puVar14 = puVar14 + 4;
				iVar15 = iVar15 + 1;
			}
		}
		piVar16 = piVar16 + 1;
	}
	piVar16 = *(int **)((int)uVar10 + -0x55c4);
	while (*piVar16 != -1) {
		if (*piVar16 == (int)*(short *)(*(int *)puVar5 + *(int *)puVar4 * 0xe0 + *(int *)puVar3 * 2)) {
			sprintf((int)puVar2, puVar8, (uint)(byte)*puVar1 + 1, in_r6, in_r7, in_r8, in_r9, in_r10,
			    in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffac, in_stack_ffffffb0,
			    in_stack_ffffffb4, in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0,
			    in_stack_ffffffc4);
			uVar9 = (ulonglong) * (uint *)puVar6;
			iVar15 = 0;
			puVar13 = puVar7;
			if (0 < (int)*(uint *)puVar6) {
				do {
					if (*(int *)(puVar13 + 8) == 0x402) {
						*(undefined4 *)puVar4 = *(undefined4 *)(puVar7 + iVar15 * 0x10);
						*(undefined4 *)puVar3 = *(undefined4 *)(puVar7 + iVar15 * 0x10 + 4);
						return 1;
					}
					puVar13 = puVar13 + 0x10;
					iVar15 = iVar15 + 1;
					uVar9 = uVar9 - 1;
				} while (uVar9 != 0);
			}
		}
		piVar16 = piVar16 + 1;
	}
	if (*puVar1 == '\x05') {
		piVar16 = *(int **)((int)uVar10 + -0x55c8);
		while (*piVar16 != -1) {
			if (*piVar16 == (int)*(short *)(*(int *)puVar5 + *(int *)puVar4 * 0xe0 + *(int *)puVar3 * 2)) {
				iVar15 = 0;
				puVar14 = (uint *)puVar7;
				while (iVar15 < *(int *)puVar6) {
					if (puVar14[2] == 0x408) {
						lVar11 = abs((ulonglong)*puVar14 - (ulonglong) * (uint *)puVar4);
						lVar12 = abs((ulonglong)puVar14[1] - (ulonglong) * (uint *)puVar3);
						if (((int)lVar11 < 4) && ((int)lVar12 < 4)) {
							strcpy((int)puVar2, *(int *)((int)uVar10 + -0x55b4));
							*(undefined4 *)puVar4 = *(undefined4 *)(puVar7 + iVar15 * 0x10);
							*(undefined4 *)puVar3 = *(undefined4 *)(puVar7 + iVar15 * 0x10 + 4);
							return 1;
						}
					}
					puVar14 = puVar14 + 4;
					iVar15 = iVar15 + 1;
				}
			}
			piVar16 = piVar16 + 1;
		}
	}
	return 0;
}

undefined8 ForceL3Trig(void)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	ulonglong uVar9;
	ulonglong uVar10;
	undefined *puVar13;
	short *psVar14;
	undefined *puVar15;
	longlong lVar11;
	longlong lVar12;
	int iVar16;
	undefined4 in_r6;
	undefined4 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	int *piVar17;
	uint *puVar18;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	puVar15 = PTR_s_Up_to_level__i_100f3a20;
	puVar8 = PTR_s_Down_to_level__i_100f3a14;
	puVar7 = PTR_DAT_100f1edc;
	puVar6 = PTR_DAT_100f1ed8;
	puVar5 = PTR_DAT_100f1a54;
	puVar4 = PTR_DAT_100f1978;
	puVar3 = PTR_DAT_100f1974;
	puVar2 = PTR_DAT_100f192c;
	puVar1 = PTR_DAT_100f17ec;
	uVar10 = ZEXT48(&toc);
	piVar17 = (int *)PTR_DAT_100f3a04;
	while (*piVar17 != -1) {
		if (*piVar17 == (int)*(short *)(*(int *)puVar5 + *(int *)puVar4 * 0xe0 + *(int *)puVar3 * 2)) {
			sprintf((int)puVar2, puVar15, (uint)(byte)*puVar1 - 1, in_r6, in_r7, in_r8, in_r9, in_r10,
			    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbc, in_stack_ffffffc0,
			    in_stack_ffffffc4, in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0,
			    in_stack_ffffffd4);
			uVar9 = (ulonglong) * (uint *)puVar6;
			iVar16 = 0;
			puVar13 = puVar7;
			if (0 < (int)*(uint *)puVar6) {
				do {
					if (*(int *)(puVar13 + 8) == 0x403) {
						*(undefined4 *)puVar4 = *(undefined4 *)(puVar7 + iVar16 * 0x10);
						*(undefined4 *)puVar3 = *(undefined4 *)(puVar7 + iVar16 * 0x10 + 4);
						return 1;
					}
					puVar13 = puVar13 + 0x10;
					iVar16 = iVar16 + 1;
					uVar9 = uVar9 - 1;
				} while (uVar9 != 0);
			}
		}
		piVar17 = piVar17 + 1;
	}
	piVar17 = *(int **)((int)uVar10 + -0x55d0);
	while (iVar16 = *piVar17, iVar16 != -1) {
		psVar14 = (short *)(*(int *)puVar5 + *(int *)puVar4 * 0xe0 + *(int *)puVar3 * 2);
		if (((iVar16 == (int)*psVar14) || (iVar16 == (int)psVar14[0x70])) || (iVar16 == (int)psVar14[0xe0])) {
			sprintf((int)puVar2, puVar8, (uint)(byte)*puVar1 + 1, in_r6, in_r7, in_r8, in_r9, in_r10,
			    in_stack_ffffffa8, in_stack_ffffffaf, in_stack_ffffffbc, in_stack_ffffffc0,
			    in_stack_ffffffc4, in_stack_ffffffc8, in_stack_ffffffcc, in_stack_ffffffd0,
			    in_stack_ffffffd4);
			uVar9 = (ulonglong) * (uint *)puVar6;
			iVar16 = 0;
			puVar15 = puVar7;
			if (0 < (int)*(uint *)puVar6) {
				do {
					if (*(int *)(puVar15 + 8) == 0x402) {
						*(undefined4 *)puVar4 = *(undefined4 *)(puVar7 + iVar16 * 0x10);
						*(undefined4 *)puVar3 = *(undefined4 *)(puVar7 + iVar16 * 0x10 + 4);
						return 1;
					}
					puVar15 = puVar15 + 0x10;
					iVar16 = iVar16 + 1;
					uVar9 = uVar9 - 1;
				} while (uVar9 != 0);
			}
		}
		piVar17 = piVar17 + 1;
	}
	if (*puVar1 == '\t') {
		piVar17 = *(int **)((int)uVar10 + -0x55d4);
		while (*piVar17 != -1) {
			if (*piVar17 == (int)*(short *)(*(int *)puVar5 + *(int *)puVar4 * 0xe0 + *(int *)puVar3 * 2)) {
				iVar16 = 0;
				puVar18 = (uint *)puVar7;
				while (iVar16 < *(int *)puVar6) {
					if (puVar18[2] == 0x408) {
						lVar11 = abs((ulonglong)*puVar18 - (ulonglong) * (uint *)puVar4);
						lVar12 = abs((ulonglong)puVar18[1] - (ulonglong) * (uint *)puVar3);
						if (((int)lVar11 < 4) && ((int)lVar12 < 4)) {
							strcpy((int)puVar2, *(int *)((int)uVar10 + -0x55b4));
							*(undefined4 *)puVar4 = *(undefined4 *)(puVar7 + iVar16 * 0x10);
							*(undefined4 *)puVar3 = *(undefined4 *)(puVar7 + iVar16 * 0x10 + 4);
							return 1;
						}
					}
					puVar18 = puVar18 + 4;
					iVar16 = iVar16 + 1;
				}
			}
			piVar17 = piVar17 + 1;
		}
	}
	return 0;
}

undefined8 ForceL4Trig(void)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	ulonglong uVar9;
	ulonglong uVar10;
	undefined *puVar13;
	undefined *puVar14;
	longlong lVar11;
	longlong lVar12;
	undefined *puVar15;
	int iVar16;
	undefined4 in_r6;
	undefined4 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	int *piVar17;
	uint *puVar18;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;

	puVar14 = PTR_s_Up_to_level__i_100f3a20;
	puVar8 = PTR_s_Down_to_level__i_100f3a14;
	puVar7 = PTR_s_Down_to_Diablo_100f39e8;
	puVar6 = PTR_DAT_100f1edc;
	puVar5 = PTR_DAT_100f1ed8;
	puVar4 = PTR_DAT_100f1a54;
	puVar3 = PTR_DAT_100f1978;
	puVar2 = PTR_DAT_100f1974;
	puVar1 = PTR_DAT_100f192c;
	puVar15 = PTR_DAT_100f17ec;
	uVar10 = ZEXT48(&toc);
	piVar17 = (int *)PTR_DAT_100f39f8;
	while (*piVar17 != -1) {
		if (*piVar17 == (int)*(short *)(*(int *)puVar4 + *(int *)puVar3 * 0xe0 + *(int *)puVar2 * 2)) {
			sprintf((int)puVar1, puVar14, (uint)(byte)*puVar15 - 1, in_r6, in_r7, in_r8, in_r9, in_r10,
			    in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffac, in_stack_ffffffb0,
			    in_stack_ffffffb4, in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0,
			    in_stack_ffffffc4);
			uVar9 = (ulonglong) * (uint *)puVar5;
			iVar16 = 0;
			puVar13 = puVar6;
			if (0 < (int)*(uint *)puVar5) {
				do {
					if (*(int *)(puVar13 + 8) == 0x403) {
						*(undefined4 *)puVar3 = *(undefined4 *)(puVar6 + iVar16 * 0x10);
						*(undefined4 *)puVar2 = *(undefined4 *)(puVar6 + iVar16 * 0x10 + 4);
						return 1;
					}
					puVar13 = puVar13 + 0x10;
					iVar16 = iVar16 + 1;
					uVar9 = uVar9 - 1;
				} while (uVar9 != 0);
			}
		}
		piVar17 = piVar17 + 1;
	}
	piVar17 = *(int **)((int)uVar10 + -0x55dc);
	while (true) {
		iVar16 = (int)uVar10;
		if (*piVar17 == -1)
			break;
		if (*piVar17 == (int)*(short *)(*(int *)puVar4 + *(int *)puVar3 * 0xe0 + *(int *)puVar2 * 2)) {
			sprintf((int)puVar1, puVar8, (uint)(byte)*puVar15 + 1, in_r6, in_r7, in_r8, in_r9, in_r10,
			    in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffac, in_stack_ffffffb0,
			    in_stack_ffffffb4, in_stack_ffffffb8, in_stack_ffffffbc, in_stack_ffffffc0,
			    in_stack_ffffffc4);
			uVar9 = (ulonglong) * (uint *)puVar5;
			iVar16 = 0;
			puVar14 = puVar6;
			if (0 < (int)*(uint *)puVar5) {
				do {
					if (*(int *)(puVar14 + 8) == 0x402) {
						*(undefined4 *)puVar3 = *(undefined4 *)(puVar6 + iVar16 * 0x10);
						*(undefined4 *)puVar2 = *(undefined4 *)(puVar6 + iVar16 * 0x10 + 4);
						return 1;
					}
					puVar14 = puVar14 + 0x10;
					iVar16 = iVar16 + 1;
					uVar9 = uVar9 - 1;
				} while (uVar9 != 0);
			}
		}
		piVar17 = piVar17 + 1;
	}
	if (*puVar15 == '\r') {
		piVar17 = *(int **)(iVar16 + -0x55e0);
		while (true) {
			iVar16 = (int)uVar10;
			if (*piVar17 == -1)
				break;
			if (*piVar17 == (int)*(short *)(*(int *)puVar4 + *(int *)puVar3 * 0xe0 + *(int *)puVar2 * 2)) {
				iVar16 = 0;
				puVar18 = (uint *)puVar6;
				while (iVar16 < *(int *)puVar5) {
					if (puVar18[2] == 0x408) {
						lVar11 = abs((ulonglong)*puVar18 - (ulonglong) * (uint *)puVar3);
						lVar12 = abs((ulonglong)puVar18[1] - (ulonglong) * (uint *)puVar2);
						if (((int)lVar11 < 4) && ((int)lVar12 < 4)) {
							strcpy((int)puVar1, *(int *)((int)uVar10 + -0x55b4));
							*(undefined4 *)puVar3 = *(undefined4 *)(puVar6 + iVar16 * 0x10);
							*(undefined4 *)puVar2 = *(undefined4 *)(puVar6 + iVar16 * 0x10 + 4);
							return 1;
						}
					}
					puVar18 = puVar18 + 4;
					iVar16 = iVar16 + 1;
				}
			}
			piVar17 = piVar17 + 1;
		}
	}
	if (*puVar15 == '\x0f') {
		piVar17 = *(int **)(iVar16 + -0x55e4);
		while (*piVar17 != -1) {
			if (*piVar17 == (int)*(short *)(*(int *)puVar4 + *(int *)puVar3 * 0xe0 + *(int *)puVar2 * 2)) {
				strcpy((int)puVar1, (int)puVar7);
				uVar10 = (ulonglong) * (uint *)puVar5;
				iVar16 = 0;
				puVar15 = puVar6;
				if (0 < (int)*(uint *)puVar5) {
					do {
						if (*(int *)(puVar15 + 8) == 0x402) {
							*(undefined4 *)puVar3 = *(undefined4 *)(puVar6 + iVar16 * 0x10);
							*(undefined4 *)puVar2 = *(undefined4 *)(puVar6 + iVar16 * 0x10 + 4);
							return 1;
						}
						puVar15 = puVar15 + 0x10;
						iVar16 = iVar16 + 1;
						uVar10 = uVar10 - 1;
					} while (uVar10 != 0);
				}
			}
			piVar17 = piVar17 + 1;
		}
	}
	return 0;
}

void Freeupstairs(void)

{
	undefined *puVar1;
	undefined *puVar2;
	int iVar3;
	int iVar4;
	int iVar5;
	int iVar6;
	int *piVar7;
	int iVar8;

	puVar2 = PTR_DAT_100f1ed8;
	puVar1 = PTR_DAT_100f1834;
	iVar8 = 0;
	piVar7 = (int *)PTR_DAT_100f1edc;
	while (iVar8 < *(int *)puVar2) {
		iVar4 = *piVar7;
		iVar6 = piVar7[1];
		iVar5 = iVar6 + -2;
		iVar3 = *(int *)puVar1 + (iVar4 + -2) * 0x70;
		*(byte *)(iVar5 + iVar3) = *(byte *)(iVar5 + iVar3) | 8;
		iVar3 = *(int *)puVar1 + (iVar4 + -1) * 0x70;
		*(byte *)(iVar5 + iVar3) = *(byte *)(iVar5 + iVar3) | 8;
		iVar3 = *(int *)puVar1 + iVar4 * 0x70;
		*(byte *)(iVar5 + iVar3) = *(byte *)(iVar5 + iVar3) | 8;
		iVar3 = *(int *)puVar1 + (iVar4 + 1) * 0x70;
		*(byte *)(iVar5 + iVar3) = *(byte *)(iVar5 + iVar3) | 8;
		iVar3 = *(int *)puVar1 + (iVar4 + 2) * 0x70;
		*(byte *)(iVar5 + iVar3) = *(byte *)(iVar5 + iVar3) | 8;
		iVar5 = iVar6 + -1;
		iVar3 = *(int *)puVar1 + (iVar4 + -2) * 0x70;
		*(byte *)(iVar5 + iVar3) = *(byte *)(iVar5 + iVar3) | 8;
		iVar3 = *(int *)puVar1 + (iVar4 + -1) * 0x70;
		*(byte *)(iVar5 + iVar3) = *(byte *)(iVar5 + iVar3) | 8;
		iVar3 = *(int *)puVar1 + iVar4 * 0x70;
		*(byte *)(iVar5 + iVar3) = *(byte *)(iVar5 + iVar3) | 8;
		iVar3 = *(int *)puVar1 + (iVar4 + 1) * 0x70;
		*(byte *)(iVar5 + iVar3) = *(byte *)(iVar5 + iVar3) | 8;
		iVar3 = *(int *)puVar1 + (iVar4 + 2) * 0x70;
		*(byte *)(iVar5 + iVar3) = *(byte *)(iVar5 + iVar3) | 8;
		iVar5 = iVar6 + 1;
		iVar3 = *(int *)puVar1 + (iVar4 + -2) * 0x70;
		*(byte *)(iVar6 + iVar3) = *(byte *)(iVar6 + iVar3) | 8;
		iVar3 = *(int *)puVar1 + (iVar4 + -1) * 0x70;
		*(byte *)(iVar6 + iVar3) = *(byte *)(iVar6 + iVar3) | 8;
		iVar3 = *(int *)puVar1 + iVar4 * 0x70;
		*(byte *)(iVar6 + iVar3) = *(byte *)(iVar6 + iVar3) | 8;
		iVar3 = *(int *)puVar1 + (iVar4 + 1) * 0x70;
		*(byte *)(iVar6 + iVar3) = *(byte *)(iVar6 + iVar3) | 8;
		iVar3 = *(int *)puVar1 + (iVar4 + 2) * 0x70;
		*(byte *)(iVar6 + iVar3) = *(byte *)(iVar6 + iVar3) | 8;
		iVar3 = *(int *)puVar1 + (iVar4 + -2) * 0x70;
		*(byte *)(iVar5 + iVar3) = *(byte *)(iVar5 + iVar3) | 8;
		iVar3 = *(int *)puVar1 + (iVar4 + -1) * 0x70;
		*(byte *)(iVar5 + iVar3) = *(byte *)(iVar5 + iVar3) | 8;
		iVar3 = *(int *)puVar1 + iVar4 * 0x70;
		*(byte *)(iVar5 + iVar3) = *(byte *)(iVar5 + iVar3) | 8;
		iVar3 = *(int *)puVar1 + (iVar4 + 1) * 0x70;
		*(byte *)(iVar5 + iVar3) = *(byte *)(iVar5 + iVar3) | 8;
		iVar3 = *(int *)puVar1 + (iVar4 + 2) * 0x70;
		*(byte *)(iVar5 + iVar3) = *(byte *)(iVar5 + iVar3) | 8;
		iVar6 = iVar6 + 2;
		piVar7 = piVar7 + 4;
		iVar8 = iVar8 + 1;
		iVar3 = *(int *)puVar1 + (iVar4 + -2) * 0x70;
		*(byte *)(iVar6 + iVar3) = *(byte *)(iVar6 + iVar3) | 8;
		iVar3 = *(int *)puVar1 + (iVar4 + -1) * 0x70;
		*(byte *)(iVar6 + iVar3) = *(byte *)(iVar6 + iVar3) | 8;
		iVar3 = *(int *)puVar1 + iVar4 * 0x70;
		*(byte *)(iVar6 + iVar3) = *(byte *)(iVar6 + iVar3) | 8;
		iVar3 = *(int *)puVar1 + (iVar4 + 1) * 0x70;
		*(byte *)(iVar6 + iVar3) = *(byte *)(iVar6 + iVar3) | 8;
		iVar4 = *(int *)puVar1 + (iVar4 + 2) * 0x70;
		*(byte *)(iVar6 + iVar4) = *(byte *)(iVar6 + iVar4) | 8;
	}
	return;
}

undefined8 ForceSKingTrig(void)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	int *piVar4;
	undefined4 in_r6;
	undefined4 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar3 = PTR_DAT_100f1edc;
	puVar2 = PTR_DAT_100f1978;
	puVar1 = PTR_DAT_100f1974;
	piVar4 = (int *)PTR_DAT_100f3a24;
	while (true) {
		if (*piVar4 == -1) {
			return 0;
		}
		if (*piVar4 == (int)*(short *)(*(int *)PTR_DAT_100f1a54 + *(int *)PTR_DAT_100f1978 * 0xe0 + *(int *)PTR_DAT_100f1974 * 2))
			break;
		piVar4 = piVar4 + 1;
	}
	sprintf((int)PTR_DAT_100f192c, PTR_s_Back_to_Level__i_100f39e4,
	    (uint)(byte)PTR_DAT_100f19cc[0x120], in_r6, in_r7, in_r8, in_r9, in_r10, in_stack_ffffffb8,
	    in_stack_ffffffbf, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
	    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	*(undefined4 *)puVar2 = *(undefined4 *)puVar3;
	*(undefined4 *)puVar1 = *(undefined4 *)(puVar3 + 4);
	return 1;
}

undefined8 ForceSChambTrig(void)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	int *piVar4;
	undefined4 in_r6;
	undefined4 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar3 = PTR_DAT_100f1edc;
	puVar2 = PTR_DAT_100f1978;
	puVar1 = PTR_DAT_100f1974;
	piVar4 = (int *)PTR_DAT_100f3a0c;
	while (true) {
		if (*piVar4 == -1) {
			return 0;
		}
		if (*piVar4 == (int)*(short *)(*(int *)PTR_DAT_100f1a54 + *(int *)PTR_DAT_100f1978 * 0xe0 + *(int *)PTR_DAT_100f1974 * 2))
			break;
		piVar4 = piVar4 + 1;
	}
	sprintf((int)PTR_DAT_100f192c, PTR_s_Back_to_Level__i_100f39e4,
	    (uint)(byte)PTR_DAT_100f19cc[0x150], in_r6, in_r7, in_r8, in_r9, in_r10, in_stack_ffffffb8,
	    in_stack_ffffffbf, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
	    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	*(undefined4 *)puVar2 = *(undefined4 *)puVar3;
	*(undefined4 *)puVar1 = *(undefined4 *)(puVar3 + 4);
	return 1;
}

undefined8 ForcePWaterTrig(void)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined *puVar3;
	int *piVar4;
	undefined4 in_r6;
	undefined4 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	puVar3 = PTR_DAT_100f1edc;
	puVar2 = PTR_DAT_100f1978;
	puVar1 = PTR_DAT_100f1974;
	piVar4 = (int *)PTR_DAT_100f3a00;
	while (true) {
		if (*piVar4 == -1) {
			return 0;
		}
		if (*piVar4 == (int)*(short *)(*(int *)PTR_DAT_100f1a54 + *(int *)PTR_DAT_100f1978 * 0xe0 + *(int *)PTR_DAT_100f1974 * 2))
			break;
		piVar4 = piVar4 + 1;
	}
	sprintf((int)PTR_DAT_100f192c, PTR_s_Back_to_Level__i_100f39e4,
	    (uint)(byte)PTR_DAT_100f19cc[0x138], in_r6, in_r7, in_r8, in_r9, in_r10, in_stack_ffffffb8,
	    in_stack_ffffffbf, in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4,
	    in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
	*(undefined4 *)puVar2 = *(undefined4 *)puVar3;
	*(undefined4 *)puVar1 = *(undefined4 *)(puVar3 + 4);
	return 1;
}

// WARNING: Removing unreachable block (ram,0x100b78e0)

void CheckTrigForce(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	byte bVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined uVar7;
	undefined4 uVar6;
	undefined8 uVar5;
	undefined4 in_stack_ffffffc8;

	puVar4 = PTR_DAT_100f1924;
	puVar3 = PTR_DAT_100f1890;
	puVar2 = PTR_DAT_100f183c;
	*(undefined4 *)PTR_DAT_100f1890 = 0;
	if (*(int *)puVar4 < 0x160) {
		uVar7 = SUB41(PTR_DAT_100f17f8, 0);
		if (*PTR_DAT_100f17f8 == '\0') {
			bVar1 = *puVar2;
			if (bVar1 == 2) {
				uVar6 = ForceL2Trig();
				uVar7 = (undefined)uVar6;
				*(undefined4 *)puVar3 = uVar6;
			} else {
				if (bVar1 < 2) {
					if (bVar1 == 0) {
						uVar5 = FUN_100b6834(uVar7, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
						    in_stack_ffffffc8);
						uVar7 = (undefined)uVar5;
						*(int *)puVar3 = (int)uVar5;
					} else {
						uVar6 = ForceL1Trig();
						uVar7 = (undefined)uVar6;
						*(undefined4 *)puVar3 = uVar6;
					}
				} else {
					if (bVar1 == 4) {
						uVar6 = ForceL4Trig();
						uVar7 = (undefined)uVar6;
						*(undefined4 *)puVar3 = uVar6;
					} else {
						if (bVar1 < 4) {
							uVar6 = ForceL3Trig();
							uVar7 = (undefined)uVar6;
							*(undefined4 *)puVar3 = uVar6;
						}
					}
				}
			}
			if ((*puVar2 != '\0') && (*(int *)puVar3 == 0)) {
				uVar5 = ForceQuests(uVar7, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffffc8);
				*(int *)puVar3 = (int)uVar5;
			}
		} else {
			bVar1 = *PTR_DAT_100f17f0;
			if (bVar1 != 3) {
				if (bVar1 < 3) {
					if (bVar1 == 1) {
						uVar6 = ForceSKingTrig();
						*(undefined4 *)puVar3 = uVar6;
					} else {
						if (bVar1 != 0) {
							uVar6 = ForceSChambTrig();
							*(undefined4 *)puVar3 = uVar6;
						}
					}
				} else {
					if (bVar1 < 5) {
						uVar6 = ForcePWaterTrig();
						*(undefined4 *)puVar3 = uVar6;
					}
				}
			}
		}
		if (*(int *)puVar3 != 0) {
			ClearPanel();
		}
	}
	return;
}

void CheckTriggers(void)

{
	char cVar1;
	undefined *puVar2;
	undefined *puVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	undefined *puVar8;
	undefined *puVar9;
	undefined *puVar10;
	ulonglong uVar11;
	int iVar12;
	ulonglong uVar13;
	ulonglong uVar14;
	ulonglong uVar15;
	ulonglong in_r7;
	undefined *puVar16;
	ulonglong in_r9;
	undefined4 uVar17;
	uint uVar18;
	undefined8 in_r10;
	undefined4 uVar19;
	int iVar20;
	char unaff_r18;
	ulonglong unaff_r19;
	ulonglong unaff_r20;
	int iVar21;
	uint *puVar22;
	undefined4 in_stack_ffffff98;
	undefined in_stack_ffffff9f;
	undefined4 in_stack_ffffffa8;
	undefined4 in_stack_ffffffac;
	undefined4 in_stack_ffffffb0;
	undefined4 in_stack_ffffffb4;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;

	puVar10 = PTR_s_Unknown_trigger_msg_100f39e0;
	puVar9 = PTR_DAT_100f2110;
	puVar8 = PTR_DAT_100f1ed8;
	puVar7 = PTR_DAT_100f1e98;
	puVar6 = PTR_DAT_100f188c;
	puVar5 = PTR_DAT_100f1828;
	puVar4 = PTR_DAT_100f1824;
	puVar3 = PTR_DAT_100f17ec;
	puVar2 = PTR_DAT_100f17e0;
	if (*(int *)(PTR_DAT_100f1828 + *(int *)PTR_DAT_100f1824 * 0x55ec) == 0) {
		iVar21 = 0;
		puVar22 = (uint *)PTR_DAT_100f1edc;
		while (iVar21 < *(int *)puVar8) {
			uVar11 = (ulonglong) * (uint *)puVar4;
			iVar12 = *(uint *)puVar4 * 0x55ec;
			puVar16 = puVar5 + iVar12;
			uVar14 = (ulonglong) * (uint *)(puVar16 + 0x38);
			if ((*(uint *)(puVar16 + 0x38) == *puVar22) && (uVar15 = (ulonglong) * (uint *)(puVar16 + 0x3c), *(uint *)(puVar16 + 0x3c) == puVar22[1])) {
				uVar18 = puVar22[2];
				uVar13 = (ulonglong)uVar18;
				uVar17 = (undefined4)in_r9;
				uVar19 = (undefined4)in_r10;
				if (uVar18 == 0x404) {
					StartNewLvl(uVar11, uVar13, (ulonglong) * (uint *)puVar7, uVar15, in_r7, puVar16, uVar17, uVar19,
					    in_stack_ffffff98);
				} else {
					if ((int)uVar18 < 0x404) {
						if (uVar18 == 0x402) {
							if ((0xb < *(int *)puVar6) && (iVar12 = DropItemBeforeTrig(), iVar12 != 0)) {
								return;
							}
							StartNewLvl((ulonglong) * (uint *)puVar4, (ulonglong)puVar22[2],
							    (ulonglong)(byte)*puVar3 + 1, uVar15, in_r7, puVar16, (int)in_r9, (int)in_r10,
							    in_stack_ffffff98);
						} else {
							if ((int)uVar18 < 0x402) {
							LAB_100b7c08:
								app_fatal((int)puVar10, uVar13, uVar14, uVar15, in_r7, puVar16, uVar17, uVar19,
								    in_stack_ffffff98, in_stack_ffffff9f, in_stack_ffffffa8, in_stack_ffffffac, in_stack_ffffffb0, in_stack_ffffffb4, in_stack_ffffffb8,
								    in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4);
							} else {
								if ((0xb < *(int *)puVar6) && (iVar12 = DropItemBeforeTrig(), iVar12 != 0)) {
									return;
								}
								StartNewLvl((ulonglong) * (uint *)puVar4, (ulonglong)puVar22[2],
								    (ulonglong)(byte)*puVar3 - 1, uVar15, in_r7, puVar16, (int)in_r9,
								    (int)in_r10, in_stack_ffffff98);
							}
						}
					} else {
						if (uVar18 == 0x408) {
							*(uint *)puVar9 = (uint)(byte)*puVar3;
							StartNewLvl(uVar11, (ulonglong)puVar22[2], 0, uVar15, in_r7, puVar16, uVar17, uVar19,
							    in_stack_ffffff98);
						} else {
							if ((0x407 < (int)uVar18) || ((int)uVar18 < 0x407))
								goto LAB_100b7c08;
							in_r7 = (ulonglong)(byte)*puVar2;
							if (*puVar2 != 1) {
								uVar18 = puVar22[3];
								in_r9 = (ulonglong)uVar18;
								in_r10 = 0;
								if ((uVar18 == 5) && (in_r7 = SEXT18((char)puVar16[0x1b4]), (char)puVar16[0x1b4] < '\b')) {
									unaff_r19 = uVar15 + 1;
									in_r10 = 1;
									unaff_r18 = '(';
									unaff_r20 = uVar14;
								}
								if ((uVar18 == 9) && (in_r7 = SEXT18((char)puVar16[0x1b4]), (char)puVar16[0x1b4] < '\r')) {
									unaff_r20 = uVar14 + 1;
									in_r10 = 1;
									unaff_r18 = ')';
									unaff_r19 = uVar15;
								}
								if ((uVar18 == 0xd) && (in_r7 = SEXT18((char)puVar16[0x1b4]), (char)puVar16[0x1b4] < '\x11')) {
									unaff_r19 = uVar15 + 1;
									in_r10 = 1;
									unaff_r18 = '*';
									unaff_r20 = uVar14;
								}
								iVar20 = (int)in_r10;
								if (iVar20 != 0) {
									cVar1 = puVar5[iVar12 + 0x15c];
									if (cVar1 == '\0') {
										PlaySFX(0x2fa);
									} else {
										if (cVar1 == '\x01') {
											PlaySFX(0x28d);
										} else {
											if (cVar1 == '\x02') {
												PlaySFX(0x226);
											}
										}
									}
									InitDiabloMsg(unaff_r18);
									NetSendCmdLoc(1, 1, (ulonglong)((uint)unaff_r20 & 0xff),
									    (ulonglong)((uint)unaff_r19 & 0xff), in_r7, puVar16, uVar18, iVar20,
									    in_stack_ffffff98);
									return;
								}
							}
							StartNewLvl(uVar11, uVar13, (ulonglong)puVar22[3], uVar15, in_r7, puVar16, (int)in_r9,
							    (int)in_r10, in_stack_ffffff98);
						}
					}
				}
			}
			puVar22 = puVar22 + 4;
			iVar21 = iVar21 + 1;
		}
	}
	return;
}

void FUN_100b7c38(void)

{
	_DAT_100f4564 = _DAT_100f4560;
	return;
}

void WGetFileArchive(int param_1, ulonglong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int iVar1;
	uint *puVar2;
	undefined7 uVar3;
	undefined uVar4;
	undefined7 uVar5;
	undefined uVar6;
	undefined7 uVar7;
	undefined uVar8;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	int local_3c;
	uint local_18;

	uVar7 = (undefined7)((ulonglong)param_5 >> 8);
	uVar8 = (undefined)param_5;
	uVar5 = (undefined7)((ulonglong)param_4 >> 8);
	uVar6 = (undefined)param_4;
	uVar3 = (undefined7)((ulonglong)param_3 >> 8);
	uVar4 = (undefined)param_3;
	puVar2 = (uint *)param_2;
	if (4 < *puVar2) {
		FileErrDlg((undefined *)param_3, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8);
	}
	if (param_1 != 0) {
		param_2 = ZEXT48(register0x0000000c) - 0x18;
		iVar1 = SFileGetFileArchive((char)param_1, (char)param_2, uVar4, uVar6, uVar8, (char)param_6,
		    (char)param_7, (char)param_8, (char)in_stack_ffffffb8,
		    in_stack_ffffffbf, local_3c);
		if ((iVar1 != 0) && (param_2 = (ulonglong)local_18, param_2 != (ulonglong) * *(uint **)(local_3c + -0x7204))) {
			Sleep(0x14, (char)local_18, uVar4, uVar6, uVar8, (char)param_6, (char)param_7, (char)param_8,
			    (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
			*puVar2 = *puVar2 + 1;
			return;
		}
	}
	iVar1 = InsertCDDlg();
	if (iVar1 == 0) {
		FileErrDlg((undefined *)param_3, param_2, CONCAT71(uVar3, uVar4), CONCAT71(uVar5, uVar6),
		    CONCAT71(uVar7, uVar8), param_6, param_7, param_8, in_stack_ffffffb8);
	}
	return;
}

void WCloseFile(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	SFileCloseFile(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffcb,
	    in_stack_ffffffcf, local_2c);
	return;
}

void WGetFileSize(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	ulonglong uVar1;
	undefined7 uVar2;
	undefined uVar3;
	undefined7 uVar4;
	undefined uVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	uVar4 = (undefined7)((ulonglong)param_5 >> 8);
	uVar5 = (undefined)param_5;
	uVar2 = (undefined7)((ulonglong)param_4 >> 8);
	uVar3 = (undefined)param_4;
	lVar8 = (longlong)param_8;
	lVar7 = (longlong)param_7;
	lVar6 = (longlong)param_6;
	while (true) {
		uVar1 = SFileGetFileSize((char)param_1, (undefined)param_2, (char)param_3, uVar3, uVar5, (char)lVar6,
		    (char)lVar7, (char)lVar8, (char)in_stack_ffffffb8, in_stack_ffffffbf,
		    local_3c);
		if ((uVar1 & 0xffffffff) != 0)
			break;
		param_3 = 0;
		WGetFileArchive(param_1, ZEXT48(register0x0000000c) - 0x18, 0, CONCAT71(uVar2, uVar3),
		    CONCAT71(uVar4, uVar5), (int)lVar6, (int)lVar7, (int)lVar8, in_stack_ffffffb8);
	}
	return;
}

undefined8
WOpenFile(longlong param_1, undefined8 param_2, int param_3, undefined8 param_4, undefined8 param_5,
    int param_6, int param_7, int param_8, undefined4 param_9)

{
	int iVar2;
	ulonglong uVar1;
	undefined uVar3;
	longlong lVar4;
	undefined uVar5;
	undefined7 uVar6;
	undefined uVar7;
	undefined7 uVar8;
	undefined uVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	uVar8 = (undefined7)((ulonglong)param_5 >> 8);
	uVar9 = (undefined)param_5;
	uVar6 = (undefined7)((ulonglong)param_4 >> 8);
	uVar7 = (undefined)param_4;
	lVar12 = (longlong)param_8;
	lVar11 = (longlong)param_7;
	lVar10 = (longlong)param_6;
	lVar4 = (longlong)param_3;
	while (true) {
		uVar5 = (undefined)lVar4;
		uVar3 = (undefined)param_2;
		iVar2 = SFileOpenFile((char)param_1, (undefined)param_2, uVar5, uVar7, uVar9, (char)lVar10,
		    (char)lVar11, (char)lVar12, (char)in_stack_ffffffb8, in_stack_ffffffbf,
		    local_3c);
		if (iVar2 != 0) {
			return 1;
		}
		if ((param_3 != 0) && (uVar1 = SErrGetLastError(0, uVar3, uVar5, uVar7, uVar9, (char)lVar10, (char)lVar11, (char)lVar12, (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c), (uVar1 & 0xffffffff) == 2))
			break;
		lVar4 = param_1;
		WGetFileArchive(0, ZEXT48(register0x0000000c) - 0x18, param_1, CONCAT71(uVar6, uVar7),
		    CONCAT71(uVar8, uVar9), (int)lVar10, (int)lVar11, (int)lVar12, in_stack_ffffffb8);
	}
	return 0;
}

void WReadFile(undefined8 uParm1, undefined param_2, undefined param_3, undefined8 uParm4,
    undefined8 uParm5, undefined4 uParm6, undefined4 uParm7, undefined4 uParm8)

{
	undefined8 uVar1;
	int iVar2;
	longlong lVar3;
	undefined8 uVar4;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	uVar1._4_4_ = (int)uParm1;
	uVar1 = WSetFilePointer(uVar1._4_4_, 0, 0, 1, uParm5, uParm6, uParm7, uParm8, in_stack_ffffffb8);
	while (true) {
		lVar3 = ZEXT48(register0x0000000c) - 0x14;
		uVar4 = 0;
		iVar2 = SFileReadFile((char)uParm1, param_2, param_3, (char)lVar3, 0, (char)uParm6, (char)uParm7,
		    (char)uParm8, (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
		if (iVar2 != 0)
			break;
		WGetFileArchive(uVar1._4_4_, ZEXT48(register0x0000000c) - 0x18, 0, lVar3, uVar4, uParm6, uParm7, uParm8,
		    in_stack_ffffffb8);
		WSetFilePointer(uVar1._4_4_, uVar1, 0, 0, uVar4, uParm6, uParm7, uParm8, in_stack_ffffffb8);
	}
	return;
}

void WSetFilePointer(int param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	longlong lVar1;
	undefined8 uVar2;
	undefined7 uVar3;
	undefined uVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	uVar3 = (undefined7)((ulonglong)param_5 >> 8);
	uVar4 = (undefined)param_5;
	lVar7 = (longlong)param_8;
	lVar6 = (longlong)param_7;
	lVar5 = (longlong)param_6;
	while (true) {
		uVar2 = param_4;
		lVar1 = SFileSetFilePointer((char)param_1, (undefined)param_2, (undefined)param_3, (char)param_4,
		    uVar4, (char)lVar5, (char)lVar6, (char)lVar7, (char)in_stack_ffffffb8,
		    in_stack_ffffffbf, local_3c);
		if ((lVar1 + 0x10000U & 0xffffffff) != 0xffff)
			break;
		WGetFileArchive(param_1, ZEXT48(register0x0000000c) - 0x18, 0, uVar2, CONCAT71(uVar3, uVar4), (int)lVar5,
		    (int)lVar6, (int)lVar7, in_stack_ffffffb8);
	}
	return;
}

void FUN_100b7f64(uint *puParm1)

{
	ulonglong uVar1;
	undefined8 in_r7;
	undefined4 in_r8;
	undefined4 in_r9;
	undefined4 in_r10;
	undefined4 in_stack_ffffffc8;

	WSetFilePointer(puParm1[6], (ulonglong)puParm1[1], 0, 0, in_r7, in_r8, in_r9, in_r10, in_stack_ffffffc8);
	uVar1 = (ulonglong)*puParm1 - (ulonglong)puParm1[1];
	if ((ulonglong)puParm1[2] < (uVar1 & 0xffffffff)) {
		uVar1 = (ulonglong)puParm1[2];
	}
	if ((uVar1 & 0xffffffff) != 0) {
		WReadFile((ulonglong)puParm1[6], (ulonglong)puParm1[5], uVar1);
	}
	puParm1[4] = (uint)uVar1;
	puParm1[3] = 0;
	return;
}

void AllocateMemFile(uint param_1, uint *param_2, ulonglong param_3, undefined8 param_4, undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8, undefined4 param_9)

{
	uint uVar1;
	undefined7 uVar2;
	undefined uVar3;
	undefined7 uVar4;
	undefined uVar5;
	undefined7 uVar6;
	undefined uVar7;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	uVar6 = (undefined7)((ulonglong)param_5 >> 8);
	uVar7 = (undefined)param_5;
	uVar4 = (undefined7)((ulonglong)param_4 >> 8);
	uVar5 = (undefined)param_4;
	uVar2 = (undefined7)(param_3 >> 8);
	uVar3 = (undefined)param_3;
	memset((char)param_2, 0x1c, uVar3, uVar5, uVar7, (char)param_6, (char)param_7, (char)param_8,
	    (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
	uVar1 = WGetFileSize(param_1, 0, CONCAT71(uVar2, uVar3), CONCAT71(uVar4, uVar5), CONCAT71(uVar6, uVar7),
	    param_6, param_7, param_8, in_stack_ffffffb8);
	*param_2 = uVar1;
	if ((param_3 & 0xffffffff) < 0x1001) {
		uVar1 = 0x1000;
	} else {
		uVar1 = (uint)param_3;
	}
	param_2[2] = uVar1;
	uVar1 = *param_2;
	if (param_2[2] < uVar1) {
		uVar1 = param_2[2];
	}
	param_2[2] = uVar1;
	uVar1 = DiabloAllocPtr((ulonglong)param_2[2]);
	param_2[5] = uVar1;
	param_2[6] = param_1;
	return;
}

void FreeMemFile(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined4 in_stack_ffffffc8;

	uVar1 = *(uint *)(param_1 + 0x14);
	*(undefined4 *)(param_1 + 0x14) = 0;
	mem_free_dbg((ulonglong)uVar1, (char)uVar1, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

undefined8
FUN_100b80c0(int param_1, undefined8 param_2, uint param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	ulonglong uVar7;
	ulonglong uVar8;
	undefined in_stack_ffffffbb;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	lVar6 = (longlong)param_8;
	lVar5 = (longlong)param_7;
	lVar4 = (longlong)param_6;
	lVar3 = (longlong)param_5;
	lVar2 = (longlong)param_4;
	uVar7 = SEXT48((int)param_3);
	while (true) {
		if ((uVar7 & 0xffffffff) == 0) {
			return 1;
		}
		if (*(int *)(param_1 + 0x10) == 0) {
			FUN_100b7f64(param_1);
		}
		uVar8 = (ulonglong) * (uint *)(param_1 + 0x10);
		if ((uVar7 & 0xffffffff) < (ulonglong) * (uint *)(param_1 + 0x10)) {
			uVar8 = uVar7;
		}
		if ((uVar8 & 0xffffffff) == 0)
			break;
		memcpy((undefined)param_2,
		    (char)*(undefined4 *)(param_1 + 0x14) + (char)*(undefined4 *)(param_1 + 0xc),
		    (char)uVar8, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6,
		    in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
		uVar7 = uVar7 - uVar8;
		iVar1 = (int)uVar8;
		*(int *)(param_1 + 4) = *(int *)(param_1 + 4) + iVar1;
		*(int *)(param_1 + 0xc) = *(int *)(param_1 + 0xc) + iVar1;
		*(int *)(param_1 + 0x10) = *(int *)(param_1 + 0x10) - iVar1;
	}
	return 0;
}

ulonglong FUN_100b8190(int param_1, uint param_2)

{
	if (param_2 < *(uint *)(param_1 + 0x10)) {
		*(int *)(param_1 + 0x10) = *(uint *)(param_1 + 0x10) - param_2;
		*(int *)(param_1 + 0xc) = *(int *)(param_1 + 0xc) + param_2;
	} else {
		*(undefined4 *)(param_1 + 0x10) = 0;
	}
	*(int *)(param_1 + 4) = *(int *)(param_1 + 4) + param_2;
	return (ulonglong) * (uint *)(param_1 + 4);
}

ulonglong FUN_100b81d0(int param_1, int param_2, uint *param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	undefined8 uVar1;
	ulonglong uVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	undefined4 in_stack_ffffffb8;
	int local_18;
	uint local_14;

	lVar7 = (longlong)param_8;
	lVar6 = (longlong)param_7;
	lVar5 = (longlong)param_6;
	lVar4 = (longlong)param_5;
	lVar3 = (longlong)param_4;
	while (true) {
		uVar1 = FUN_100b80c0(param_1, ZEXT48(register0x0000000c) - 0x18, 8, (char)lVar3, (char)lVar4,
		    (char)lVar5, (char)lVar6, (char)lVar7, in_stack_ffffffb8);
		if ((int)uVar1 == 0) {
			return 0;
		}
		local_14 = local_14 << 0x18 | (local_14 >> 8 & 0xff) << 0x10 | (local_14 >> 0x10 & 0xff) << 8 | local_14 >> 0x18;
		if (local_18 == param_2)
			break;
		uVar2 = FUN_100b8190(param_1, local_14);
		if ((uVar2 + 0x10000 & 0xffffffff) == 0xffff) {
			return 0;
		}
	}
	*param_3 = local_14;
	uVar2 = FUN_100b8190(param_1, 0);
	param_3[1] = (uint)uVar2;
	lVar3 = -(ulonglong)param_3[1] + -1;
	return (ulonglong)((int)lVar3 - ((uint)(lVar3 == 0) + (int)-(ulonglong)param_3[1] + -2) & 0xff);
}

ulonglong ReadWaveFile(int param_1, undefined2 *param_2, uint *param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined8 uVar1;
	ulonglong uVar2;
	undefined4 in_stack_ffffff88;
	undefined2 local_48;
	undefined2 local_46;
	uint local_44;
	uint local_40;
	undefined2 local_3c;
	undefined2 local_3a;
	int local_38;
	int local_30;
	uint local_24[9];

	uVar1 = FUN_100b80c0(param_1, ZEXT48(register0x0000000c) - 0x38, 0xc, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff88);
	if ((int)uVar1 == 0) {
		uVar2 = 0;
	} else {
		if ((local_38 == 0x52494646) && (local_30 == 0x57415645)) {
			uVar2 = FUN_100b81d0(param_1, 0x666d7420, local_24, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffff88);
			if ((int)uVar2 == 0) {
				uVar2 = 0;
			} else {
				if (local_24[0] < 0x10) {
					uVar2 = 0;
				} else {
					uVar1 = FUN_100b80c0(param_1, ZEXT48(register0x0000000c) - 0x48, 0x10, param_4, param_5,
					    param_6, param_7, param_8, in_stack_ffffff88);
					if ((int)uVar1 == 0) {
						uVar2 = 0;
					} else {
						uVar2 = FUN_100b8190(param_1, local_24[0] - 0x10);
						if ((uVar2 + 0x10000 & 0xffffffff) == 0xffff) {
							uVar2 = 0;
						} else {
							*param_2 = CONCAT11((undefined)local_48, local_48._0_1_);
							param_2[1] = CONCAT11((undefined)local_46, local_46._0_1_);
							*(uint *)(param_2 + 2) = local_44 << 0x18 | (local_44 >> 8 & 0xff) << 0x10 | (local_44 >> 0x10 & 0xff) << 8 | local_44 >> 0x18;
							*(uint *)(param_2 + 4) = local_40 << 0x18 | (local_40 >> 8 & 0xff) << 0x10 | (local_40 >> 0x10 & 0xff) << 8 | local_40 >> 0x18;
							param_2[6] = CONCAT11((undefined)local_3c, local_3c._0_1_);
							param_2[7] = CONCAT11((undefined)local_3a, local_3a._0_1_);
							param_2[8] = 0;
							if (param_3 == (uint *)0x0) {
								uVar2 = 1;
							} else {
								uVar2 = FUN_100b81d0(param_1, 0x64617461, param_3, param_4, param_5, param_6, param_7,
								    param_8, in_stack_ffffff88);
							}
						}
					}
				}
			}
		} else {
			uVar2 = 0;
		}
	}
	return uVar2;
}

ulonglong LoadWaveFormat(uint param_1, undefined2 *param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	undefined uVar2;
	undefined uVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined4 in_stack_ffffffa8;
	uint auStack40[10];

	uVar5 = (undefined)param_5;
	uVar4 = (undefined)param_4;
	uVar8 = (undefined)param_8;
	uVar7 = (undefined)param_7;
	uVar6 = (undefined)param_6;
	uVar2 = SUB41(param_2, 0);
	AllocateMemFile(param_1, auStack40, 0, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffa8);
	uVar3 = 0;
	uVar1 = ReadWaveFile((int)auStack40, param_2, (uint *)0x0, uVar4, uVar5, uVar6, uVar7, uVar8,
	    in_stack_ffffffa8);
	FreeMemFile((int)auStack40, uVar2, uVar3, uVar4, uVar5, uVar6, uVar7, uVar8, in_stack_ffffffa8);
	return uVar1;
}

ulonglong LoadWaveFile(uint param_1, undefined2 *param_2, uint *param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	undefined uVar2;
	undefined uVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined4 in_stack_ffffffa8;
	uint auStack40[5];
	uint local_14;

	uVar5 = (undefined)param_5;
	uVar4 = (undefined)param_4;
	uVar8 = (undefined)param_8;
	uVar7 = (undefined)param_7;
	uVar6 = (undefined)param_6;
	uVar3 = SUB41(param_3, 0);
	uVar2 = SUB41(param_2, 0);
	AllocateMemFile(param_1, auStack40, 0xffffffffffffffff, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffa8);
	uVar1 = ReadWaveFile((int)auStack40, param_2, param_3, uVar4, uVar5, uVar6, uVar7, uVar8,
	    in_stack_ffffffa8);
	if ((int)uVar1 == 0) {
		FreeMemFile((int)auStack40, uVar2, uVar3, uVar4, uVar5, uVar6, uVar7, uVar8, in_stack_ffffffa8);
		uVar1 = 0;
	} else {
		uVar1 = (ulonglong)local_14;
	}
	return uVar1;
}

void FUN_100b8540(void)

{
	_DAT_100f456c = _DAT_100f4568;
	return;
}

void FUN_100b8b04(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 uVar1;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	int local_2c;

	uVar1 = MemFileGetTime((char)param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	*(undefined4 *)(param_1 + 0x94) = uVar1;
	if (*(int *)(local_2c + -0x4a4c) == 0) {
		*(int *)(local_2c + -0x4a50) = param_1;
		*(int *)(local_2c + -0x4a4c) = param_1;
	} else {
		*(undefined4 *)(param_1 + 4) = *(undefined4 *)(local_2c + -0x4a50);
		**(int **)(local_2c + -0x4a50) = param_1;
		*(int *)(local_2c + -0x4a50) = param_1;
	}
	return;
}

void FUN_100b8b64(int **param_1)

{
	if ((param_1 == _DAT_100f4584) && (param_1 == _DAT_100f4580)) {
		_DAT_100f4580 = (int **)0x0;
		_DAT_100f4584 = (int **)0x0;
	} else {
		if (param_1 == _DAT_100f4584) {
			_DAT_100f4584 = (int **)*param_1;
			_DAT_100f4584[1] = (int *)0x0;
		} else {
			if (param_1 == _DAT_100f4580) {
				_DAT_100f4580 = (int **)param_1[1];
				*_DAT_100f4580 = (int *)0x0;
			} else {
				*(int **)param_1[1] = *param_1;
				*(int **)(*param_1 + 1) = param_1[1];
			}
		}
	}
	*param_1 = (int *)0x0;
	param_1[1] = (int *)0x0;
	return;
}

int DiabloAllocPtr(int param_1, longlong param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11)

{
	int iVar1;
	int iVar2;
	longlong lVar3;
	undefined4 uVar4;
	longlong lVar5;
	undefined7 uVar6;
	undefined uVar7;
	undefined7 uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	int iVar13;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	int local_3c;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;

	iVar1 = _DAT_100f3a4c;
	uVar8 = (undefined7)((ulonglong)param_5 >> 8);
	uVar9 = (undefined)param_5;
	uVar6 = (undefined7)((ulonglong)param_4 >> 8);
	uVar7 = (undefined)param_4;
	iVar13 = 0;
	if (param_2 != 0) {
		lVar5 = 0;
		lVar3 = MemAlloc(0x9c, 0, (char)param_3, uVar7, uVar9, (char)param_6, (char)param_7, (char)param_8,
		    (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
		iVar13 = (int)lVar3;
		if (lVar3 == 0) {
			app_fatal(iVar1, lVar5, param_3, CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9), param_6, param_7,
			    param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8, in_stack_ffffffcc,
			    in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc,
			    in_stack_ffffffe0, in_stack_ffffffe4);
		} else {
			memset((char)lVar3, 0x9c, (char)param_3, uVar7, uVar9, (char)param_6, (char)param_7,
			    (char)param_8, (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
			if (param_1 != 0) {
				strcpy(iVar13 + 8, param_1);
			}
			lVar3 = 0x400;
			uVar4 = MemAlloc((char)param_2, 0, (char)param_3, uVar7, uVar9, (char)param_6, (char)param_7,
			    (char)param_8, (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
			uVar12 = (undefined)param_8;
			uVar11 = (undefined)param_7;
			uVar10 = (undefined)param_6;
			*(undefined4 *)(iVar13 + 0x88) = uVar4;
			if (*(int *)(iVar13 + 0x88) == 0) {
				app_fatal(iVar1, lVar3, param_3, CONCAT71(uVar6, uVar7), CONCAT71(uVar8, uVar9), param_6, param_7, param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
				    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
				    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
			}
			*(uint *)(iVar13 + 0x98) = *(uint *)(iVar13 + 0x98) | 1;
			*(undefined4 *)(iVar13 + 0x90) = (int)param_2;
			iVar1 = *(int *)(local_3c + -0x4a54);
			iVar2 = *(int *)(local_3c + -0x4a58);
			*(int *)(local_3c + -0x4a54) = iVar1 + *(int *)(iVar13 + 0x90);
			*(int *)(local_3c + -0x4a58) = iVar2 + *(int *)(iVar13 + 0x90);
			FUN_100b8b04(iVar13, (char)iVar2, (char)iVar1, uVar7, uVar9, uVar10, uVar11, uVar12, in_stack_ffffffb8);
		}
	}
	return iVar13;
}

void mem_free_dbg(int **param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int *piVar1;
	undefined **ppuVar2;
	longlong lVar3;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined **local_2c;

	ppuVar2 = &toc;
	piVar1 = *param_1;
	if ((piVar1 != (int *)0x0) && (piVar1[0x23] == 0)) {
		if (piVar1[0x22] != 0) {
			ppuVar2 = local_2c;
			Allocation_FreePtr((char)piVar1[0x22], param_2, param_3, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
			ppuVar2[-0x1296] = ppuVar2[-0x1296] + -(*param_1)[0x24];
			local_2c = ppuVar2;
		}
		lVar3 = ZEXT48(*param_1) + 0x48;
		if ((lVar3 != 0) && (*(char *)lVar3 != '\0')) {
			ppuVar2 = local_2c;
			DeleteFile((char)lVar3, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
			local_2c = ppuVar2;
		}
		ppuVar2[-0x1295] = ppuVar2[-0x1295] + -(*param_1)[0x24];
		FUN_100b8b64((int **)*param_1);
		Allocation_FreePtr((char)*param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
		*param_1 = (int *)0x0;
	}
	return;
}

undefined8
FUN_100b8db4(longlong param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined *puVar1;
	char cVar2;
	char cVar3;
	int iVar4;
	ulonglong uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined8 uVar10;

	uVar10 = 0;
	puVar1 = (undefined *)(ZEXT48(register0x0000000c) - 0x150);
	*(BADSPACEBASE **)puVar1 = register0x0000000c;
	iVar4 = (int)param_1;
	if ((param_1 != 0) && (param_1 != -0x48)) {
		if (*(int *)(iVar4 + 0x88) != 0) {
			cVar3 = (char)param_1;
			if (*(char *)(iVar4 + 0x48) == '\0') {
				uVar5 = GetTempPathFreeSpace(cVar3, param_2, param_3, param_4, param_5, param_6, param_7, param_8, puVar1[0xb], puVar1[0xf], *(undefined4 *)(puVar1 + 0x14));
				if ((uVar5 & 0xffffffff) < 0x500001) {
					uVar5 = 0;
				} else {
					cVar2 = (char)(ZEXT48(register0x0000000c) - 0x150);
					GetTempPath(0x80, cVar2 + -0x48, param_3, param_4, param_5, param_6, param_7, param_8, puVar1[0xb], puVar1[0xf], *(undefined4 *)(puVar1 + 0x14));
					GetTempFileName(cVar2 + -0x48, (char)*(undefined4 *)(*(int *)(puVar1 + 0x14) + -0x5588), 0,
					    cVar2 + '8', param_5, param_6, param_7, param_8, puVar1[0xb], puVar1[0xf],
					    *(undefined4 *)(puVar1 + 0x14));
					strcpy(iVar4 + 0x48, puVar1 + 0x38, *puVar1);
					param_6 = 0;
					param_7 = 0;
					uVar5 = CreateFile(cVar3 + 'H', 0, 3, 0, 2, 0, 0, param_8, puVar1[0xb], puVar1[0xf],
					    *(undefined4 *)(puVar1 + 0x14));
				}
			} else {
				param_6 = 0;
				param_7 = 0;
				uVar5 = CreateFile(cVar3 + 'H', 0, 3, 0, 3, 0, 0, param_8, puVar1[0xb], puVar1[0xf],
				    *(undefined4 *)(puVar1 + 0x14));
			}
			if ((uVar5 & 0xffffffff) == 0) {
				*(undefined *)(iVar4 + 0x48) = 0;
			} else {
				uVar6 = (undefined) * (undefined4 *)(iVar4 + 0x88);
				uVar7 = (undefined) * (undefined4 *)(iVar4 + 0x90);
				uVar8 = 0xe8;
				uVar9 = 0;
				WriteFile((char)uVar5, uVar6, uVar7, 0xe8, 0, param_6, param_7, param_8, puVar1[0xb], puVar1[0xf],
				    *(undefined4 *)(puVar1 + 0x14));
				CloseHandle((char)uVar5, uVar6, uVar7, uVar8, uVar9, param_6, param_7, param_8, puVar1[0xb],
				    puVar1[0xf], *(undefined4 *)(puVar1 + 0x14));
				YieldToThinThread(0, uVar6, uVar7, uVar8, uVar9, param_6, param_7, param_8, puVar1[0xb], puVar1[0xf],
				    *(undefined4 *)(puVar1 + 0x14));
				if (*(int *)(iVar4 + 0x90) == *(int *)(puVar1 + 0x138)) {
					uVar10 = 1;
					*(uint *)(iVar4 + 0x98) = *(uint *)(iVar4 + 0x98) & 0xfffffffe;
				} else {
					DeleteFile(cVar3 + 'H', uVar6, uVar7, uVar8, uVar9, param_6, param_7, param_8, puVar1[0xb],
					    puVar1[0xf], *(undefined4 *)(puVar1 + 0x14));
					*(undefined *)(iVar4 + 0x48) = 0;
				}
			}
		}
	}
	if ((int)uVar10 == 0) {
		if ((param_1 != -8) && (*(char *)(iVar4 + 8) != '\0')) {
			uVar10 = 1;
		}
	}
	return uVar10;
}

void FUN_100b8f64(int param_1)

{
	if (param_1 == 0) {
		return;
	}
	*(uint *)(param_1 + 0x98) = *(uint *)(param_1 + 0x98) | 1;
	return;
}

ulonglong FUN_100b8f7c(longlong param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	int **ppiVar1;
	int *piVar2;
	longlong lVar3;
	ulonglong uVar4;
	undefined uVar5;
	ulonglong uVar6;
	undefined uVar7;
	longlong lVar8;
	undefined uVar9;
	undefined8 uVar10;
	undefined uVar11;
	undefined4 uVar12;
	undefined uVar13;
	undefined4 uVar14;
	undefined uVar15;
	undefined uVar16;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	int local_3c;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;
	undefined4 in_stack_ffffffd8;
	undefined4 in_stack_ffffffdc;
	undefined4 in_stack_ffffffe0;
	undefined4 in_stack_ffffffe4;
	uint local_18;
	int *local_14;

	if (param_1 != 0) {
		ppiVar1 = (int **)param_1;
		piVar2 = ppiVar1[0x23];
		ppiVar1[0x23] = (int *)((int)piVar2 + 1);
		if (piVar2 == (int *)0x0) {
			_DAT_100f4574 = _DAT_100f4574 + (int)ppiVar1[0x24];
			FUN_100b8b64(ppiVar1);
			if (ppiVar1[0x22] == (int *)0x0) {
				lVar3 = 0x400;
				piVar2 = (int *)MemAlloc((char)ppiVar1[0x24], 0, (char)param_3, (char)param_4, (char)param_5,
				    (char)param_6, (char)param_7, (char)param_8, (char)in_stack_ffffffb8,
				    in_stack_ffffffbf, local_3c);
				uVar16 = (undefined)param_8;
				uVar15 = (undefined)param_7;
				uVar13 = (undefined)param_6;
				uVar11 = (undefined)param_5;
				uVar9 = (undefined)param_4;
				ppiVar1[0x22] = piVar2;
				if (ppiVar1[0x22] == (int *)0x0) {
					app_fatal(*(int *)(local_3c + -0x5590), lVar3, param_3, param_4, param_5, param_6, param_7,
					    param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
					    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8,
					    in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
				} else {
					*(int *)(local_3c + -0x4a58) = *(int *)(local_3c + -0x4a58) + (int)ppiVar1[0x24];
					if ((param_1 == -0x48) || (*(char *)(ppiVar1 + 0x12) == '\0')) {
						if (((param_1 != -8) && (*(char *)(ppiVar1 + 2) != '\0')) && (uVar10 = WOpenFile(param_1 + 8, ZEXT48(register0x0000000c) - 0x18, 0, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8), (int)uVar10 != 0)) {
							uVar5 = SUB41(ppiVar1[0x22], 0);
							uVar7 = SUB41(ppiVar1[0x24], 0);
							WReadFile((ulonglong)local_18);
							WCloseFile((char)local_18, uVar5, uVar7, uVar9, uVar11, uVar13, uVar15, uVar16,
							    in_stack_ffffffb8);
						}
					} else {
						uVar12 = 0x8000000;
						uVar14 = 0;
						lVar3 = CreateFile((char)param_1 + 'H', 0, 1, 0, 3, 0, 0, uVar16, (char)in_stack_ffffffb8,
						    in_stack_ffffffbf, local_3c);
						if (lVar3 != 0) {
							uVar4 = ZEXT48(ppiVar1[0x22]);
							uVar6 = ZEXT48(ppiVar1[0x24]);
							lVar8 = ZEXT48(register0x0000000c) - 0x14;
							uVar10 = 0;
							ReadFile((char)lVar3, (char)ppiVar1[0x22], (char)ppiVar1[0x24], (char)lVar8, 0,
							    (char)uVar12, (char)uVar14, (char)param_8, (char)in_stack_ffffffb8,
							    in_stack_ffffffbf, local_3c);
							CloseHandle((char)lVar3, (char)uVar4, (char)uVar6, (char)lVar8, (char)uVar10, (char)uVar12,
							    (char)uVar14, (char)param_8, (char)in_stack_ffffffb8, in_stack_ffffffbf,
							    local_3c);
							YieldToThinThread(0, (char)uVar4, (char)uVar6, (char)lVar8, (char)uVar10, (char)uVar12,
							    (char)uVar14, (char)param_8, (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
							if (ppiVar1[0x24] != local_14) {
								app_fatal(*(int *)(local_3c + -0x558c), uVar4, uVar6, lVar8, uVar10, uVar12, uVar14,
								    param_8, in_stack_ffffffb8, in_stack_ffffffbf, in_stack_ffffffc8,
								    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4, in_stack_ffffffd8, in_stack_ffffffdc, in_stack_ffffffe0, in_stack_ffffffe4);
							}
						}
					}
				}
			}
		}
		return ZEXT48(ppiVar1[0x22]);
	}
	return 0;
}

void FUN_100b9100(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	longlong lVar1;
	undefined **ppuVar2;
	undefined4 in_stack_ffffffc8;

	ppuVar2 = &toc;
	if (param_1 != 0) {
		if (*(uint *)(param_1 + 0x8c) != 0) {
			lVar1 = (ulonglong) * (uint *)(param_1 + 0x8c) - 1;
			*(undefined4 *)(param_1 + 0x8c) = (int)lVar1;
			if (lVar1 == 0) {
				FUN_100b8b04(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffffc8);
				ppuVar2[-0x1297] = ppuVar2[-0x1297] + -*(int *)(param_1 + 0x90);
			}
		}
	}
	return;
}

ulonglong FUN_100b915c(uint *param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4,
    undefined8 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	undefined4 in_stack_ffffffc8;

	uVar1 = 0;
	if ((param_1 != (uint *)0x0) && (uVar1 = FUN_100b8f7c((ulonglong)*param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8), (uVar1 & 0xffffffff) != 0)) {
		uVar1 = uVar1 + (ulonglong)param_1[1];
	}
	return uVar1;
}

void FUN_100b91a4(int *param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	if (param_1 != (int *)0x0) {
		FUN_100b9100(*param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return;
}

void FUN_100b9294(void)

{
	undefined4 *puVar1;
	int iVar2;

	iVar2 = 0;
	puVar1 = _DAT_100f4584;
	while (true) {
		if (iVar2 != 0) {
			return;
		}
		if (puVar1 == (undefined4 *)0x0)
			break;
		if (puVar1[0x22] != 0) {
			iVar2 = puVar1[0x25];
		}
		puVar1 = (undefined4 *)*puVar1;
	}
	return;
}

longlong FUN_100b92c8(int param_1, char param_2, char param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	undefined4 *puVar1;
	ulonglong uVar2;
	ulonglong uVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	int local_3c;

	lVar9 = (longlong)param_8;
	lVar8 = (longlong)param_7;
	lVar7 = (longlong)param_6;
	lVar6 = (longlong)param_5;
	lVar5 = (longlong)param_4;
	lVar4 = (longlong)param_3;
	uVar3 = SEXT18(param_2);
	lVar10 = 0;
	puVar1 = _DAT_100f4584;
	while (true) {
		if (param_1 <= (int)lVar10) {
			return lVar10;
		}
		if (puVar1 == (undefined4 *)0x0)
			break;
		if (puVar1[0x22] != 0) {
			if (((puVar1[0x26] & 1) != 0) && (uVar2 = FUN_100b8db4(ZEXT48(puVar1), (char)uVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8, (char)lVar9, in_stack_ffffffb8), (uVar2 & 0xff) == 0)) {
				return lVar10;
			}
			if (puVar1[0x22] != 0) {
				Allocation_FreePtr((char)puVar1[0x22], (char)uVar3, (char)lVar4, (char)lVar5, (char)lVar6,
				    (char)lVar7, (char)lVar8, (char)lVar9, (char)in_stack_ffffffb8,
				    in_stack_ffffffbf, local_3c);
				uVar3 = (ulonglong)(uint)puVar1[0x24];
				*(int *)(local_3c + -0x4a58) = *(int *)(local_3c + -0x4a58) - puVar1[0x24];
				puVar1[0x22] = 0;
				lVar10 = lVar10 + (ulonglong)(uint)puVar1[0x24];
				puVar1[0x26] = puVar1[0x26] | 2;
			}
		}
		puVar1 = (undefined4 *)*puVar1;
	}
	return lVar10;
}

void FUN_100b938c(void)

{
	_DAT_100f4588 = _DAT_100f4570;
	return;
}

void FUN_100b9398(undefined4 param_1, undefined4 param_2, undefined4 param_3, undefined4 param_4,
    undefined4 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11, undefined4 param_12,
    undefined4 param_13, undefined4 param_14, undefined4 param_15, undefined4 param_16,
    undefined4 param_17, undefined4 param_18)

{
	int iVar1;
	char cVar2;
	undefined *puVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;

	puVar3 = PTR_PTR_LAB_100f2128;
	uVar10 = (undefined)param_8;
	uVar9 = (undefined)param_7;
	uVar8 = (undefined)param_6;
	uVar7 = (undefined)param_5;
	uVar6 = (undefined)param_4;
	uVar4 = (undefined)param_3;
	iVar1 = (int)(ZEXT48(register0x0000000c) - 0x140);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	*(undefined4 *)(iVar1 + 0x15c) = param_2;
	*(undefined4 *)(iVar1 + 0x160) = param_3;
	*(undefined4 *)(iVar1 + 0x164) = param_4;
	*(undefined4 *)(iVar1 + 0x168) = param_5;
	*(undefined4 *)(iVar1 + 0x16c) = param_6;
	*(undefined4 *)(iVar1 + 0x170) = param_7;
	*(undefined4 *)(iVar1 + 0x174) = param_8;
	*(undefined4 *)(iVar1 + 0x158) = param_1;
	if (puVar3 == (undefined *)0x0) {
		uVar4 = 0xf8;
		uVar5 = 0;
		BlockMove((char)*(undefined4 *)(iVar1 + 0x158), 0xf8, 0, uVar6, uVar7, uVar8, uVar9, uVar10,
		    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14));
		cVar2 = (char)(ZEXT48(register0x0000000c) - 0x140);
		c2pstr(cVar2 + '8', uVar4, uVar5, uVar6, uVar7, uVar8, uVar9, uVar10, *(undefined *)(iVar1 + 0xb),
		    *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14));
		DebugStr(cVar2 + '8', uVar4, uVar5, uVar6, uVar7, uVar8, uVar9, uVar10, *(undefined *)(iVar1 + 0xb),
		    *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14));
	} else {
		FPlowlevelAssertions(1, (char)param_2, uVar4, uVar6, uVar7, uVar8, uVar9, uVar10, *(undefined *)(iVar1 + 0xb),
		    *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14));
		uVar5 = 0x1c;
		FPvfatal((char)*(undefined4 *)(iVar1 + 0x158), 0x1c, uVar4, uVar6, uVar7, uVar8, uVar9, uVar10,
		    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14));
		FPlowlevelAssertions(0, uVar5, uVar4, uVar6, uVar7, uVar8, uVar9, uVar10, *(undefined *)(iVar1 + 0xb),
		    *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14));
	}
	return;
}

void RotateRadius(int *param_1, int *param_2, int *param_3, int *param_4, int *param_5, int *param_6,
    undefined4 *param_7, undefined4 *param_8)

{
	int iVar1;

	*param_7 = 0;
	*param_8 = 0;
	iVar1 = *param_3;
	*param_3 = 7 - *param_4;
	*param_4 = iVar1;
	iVar1 = *param_5;
	*param_5 = 7 - *param_6;
	*param_6 = iVar1;
	*param_1 = *param_3 - *param_5;
	*param_2 = *param_4 - *param_6;
	if (*param_1 < 0) {
		*param_1 = *param_1 + 8;
		*param_7 = 1;
	}
	if (-1 < *param_2) {
		return;
	}
	*param_2 = *param_2 + 8;
	*param_8 = 1;
	return;
}

void DoLighting(longlong param_1, longlong param_2, int param_3, int param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int iVar1;
	int iVar2;
	undefined *puVar3;
	undefined *puVar4;
	byte *pbVar5;
	int iVar6;
	int iVar7;
	byte *pbVar8;
	int iVar9;
	undefined *puVar10;
	byte *pbVar11;
	longlong lVar12;
	longlong lVar13;
	int iVar14;
	undefined8 unaff_r23;
	undefined8 unaff_r24;
	undefined8 unaff_r25;
	int iVar15;
	undefined8 unaff_r26;
	int iVar16;
	undefined8 unaff_r27;
	longlong lVar17;
	undefined8 unaff_r28;
	longlong lVar18;
	undefined8 unaff_r29;
	undefined *puVar19;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	int local_54;
	int local_50;
	int local_4c;
	int local_48;
	int local_44;
	int local_40;
	int local_3c;
	int local_38[5];
	undefined4 local_24;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar4 = PTR_DAT_100f2138;
	puVar3 = PTR_DAT_100f1a44;
	local_24 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	local_38[0] = 0;
	local_3c = 0;
	local_48 = 0;
	local_4c = 0;
	local_50 = 0;
	local_54 = 0;
	if (-1 < param_4) {
		local_38[0] = *(int *)(PTR_DAT_100f1e90 + param_4 * 0x34 + 0x28);
		local_3c = *(int *)(PTR_DAT_100f1e90 + param_4 * 0x34 + 0x2c);
		if (local_38[0] < 0) {
			local_38[0] = local_38[0] + 8;
			param_1 = param_1 + -1;
		}
		if (local_3c < 0) {
			local_3c = local_3c + 8;
			param_2 = param_2 + -1;
		}
	}
	local_40 = local_38[0];
	local_44 = local_3c;
	if (param_1 + -0xf < 0) {
		lVar18 = param_1 + 1;
	} else {
		lVar18 = 0xf;
	}
	iVar1 = (int)param_1;
	if (iVar1 + 0xf < 0x71) {
		lVar17 = 0xf;
	} else {
		lVar17 = 0x70 - param_1;
	}
	iVar2 = (int)param_2;
	if (param_2 + -0xf < 0) {
		iVar16 = iVar2 + 1;
	} else {
		iVar16 = 0xf;
	}
	if (iVar2 + 0xf < 0x71) {
		iVar15 = 0xf;
	} else {
		iVar15 = 0x70 - iVar2;
	}
	if ((((-1 < iVar1) && (iVar1 < 0x70)) && (-1 < iVar2)) && (iVar2 < 0x70)) {
		*(undefined *)(*(int *)PTR_DAT_100f1a44 + iVar1 * 0x70 + iVar2) = 0;
	}
	pbVar8 = puVar4 + (local_38[0] + local_3c * 8) * 0x100;
	puVar19 = PTR_DAT_100f2134 + param_3 * 0x80;
	iVar14 = 0;
	while (iVar14 < iVar16) {
		iVar9 = iVar2 + iVar14;
		lVar12 = 1;
		lVar13 = lVar17 + -1;
		pbVar5 = pbVar8;
		if (1 < (int)lVar17) {
			do {
				pbVar5 = pbVar5 + 1;
				if (*pbVar5 < 0x80) {
					if (((-1 < param_1 + lVar12) && (iVar7 = (int)(param_1 + lVar12), iVar7 < 0x70)) && ((-1 < iVar9 && ((iVar9 < 0x70 && (pbVar11 = (byte *)(*(int *)puVar3 + iVar7 * 0x70 + iVar9), (int)(uint)(byte)puVar19[(uint)*pbVar5] < (int)(char)*pbVar11)))))) {
						*pbVar11 = puVar19[(uint)*pbVar5];
					}
				}
				lVar12 = lVar12 + 1;
				lVar13 = lVar13 + -1;
			} while (lVar13 != 0);
		}
		pbVar8 = pbVar8 + 0x10;
		iVar14 = iVar14 + 1;
	}
	RotateRadius(local_38, &local_3c, &local_40, &local_44, &local_48, &local_4c, &local_50, &local_54);
	iVar14 = 0;
	while (iVar14 < iVar15) {
		iVar9 = iVar1 + iVar14;
		iVar7 = 1;
		lVar13 = lVar17 + -1;
		puVar10 = puVar4 + (local_38[0] + local_3c * 8) * 0x100;
		if (1 < (int)lVar17) {
			do {
				puVar10 = puVar10 + 1;
				if ((byte)puVar10[local_50 + (iVar14 + local_54) * 0x10] < 0x80) {
					iVar6 = iVar2 - iVar7;
					if ((((-1 < iVar9) && (iVar9 < 0x70)) && (-1 < iVar6)) && ((iVar6 < 0x70 && (pbVar8 = (byte *)(*(int *)puVar3 + iVar9 * 0x70 + iVar6), (int)(uint)(byte)puVar19[(uint)(byte)puVar10[local_50 + (iVar14 + local_54) * 0x10]] < (int)(char)*pbVar8)))) {
						*pbVar8 = puVar19[(uint)(byte)puVar10[local_50 + (iVar14 + local_54) * 0x10]];
					}
				}
				iVar7 = iVar7 + 1;
				lVar13 = lVar13 + -1;
			} while (lVar13 != 0);
		}
		iVar14 = iVar14 + 1;
	}
	RotateRadius(local_38, &local_3c, &local_40, &local_44, &local_48, &local_4c, &local_50, &local_54);
	iVar14 = 0;
	while (iVar14 < iVar15) {
		iVar9 = iVar2 - iVar14;
		lVar13 = 1;
		lVar17 = lVar18 + -1;
		puVar10 = puVar4 + (local_38[0] + local_3c * 8) * 0x100;
		if (1 < (int)lVar18) {
			do {
				puVar10 = puVar10 + 1;
				if ((byte)puVar10[local_50 + (iVar14 + local_54) * 0x10] < 0x80) {
					if (((-1 < param_1 - lVar13) && (iVar7 = (int)(param_1 - lVar13), iVar7 < 0x70)) && ((-1 < iVar9 && ((iVar9 < 0x70 && (pbVar8 = (byte *)(*(int *)puVar3 + iVar7 * 0x70 + iVar9), (int)(uint)(byte)puVar19[(uint)(byte)puVar10[local_50 + (iVar14 + local_54) * 0x10]] < (int)(char)*pbVar8)))))) {
						*pbVar8 = puVar19[(uint)(byte)puVar10[local_50 + (iVar14 + local_54) * 0x10]];
					}
				}
				lVar13 = lVar13 + 1;
				lVar17 = lVar17 + -1;
			} while (lVar17 != 0);
		}
		iVar14 = iVar14 + 1;
	}
	RotateRadius(local_38, &local_3c, &local_40, &local_44, &local_48, &local_4c, &local_50, &local_54);
	iVar15 = 0;
	while (iVar15 < iVar16) {
		iVar14 = iVar1 - iVar15;
		iVar9 = 1;
		lVar17 = lVar18 + -1;
		puVar10 = puVar4 + (local_38[0] + local_3c * 8) * 0x100;
		if (1 < (int)lVar18) {
			do {
				puVar10 = puVar10 + 1;
				if ((byte)puVar10[local_50 + (iVar15 + local_54) * 0x10] < 0x80) {
					iVar7 = iVar2 + iVar9;
					if ((((-1 < iVar14) && (iVar14 < 0x70)) && (-1 < iVar7)) && ((iVar7 < 0x70 && (pbVar8 = (byte *)(*(int *)puVar3 + iVar14 * 0x70 + iVar7), (int)(uint)(byte)puVar19[(uint)(byte)puVar10[local_50 + (iVar15 + local_54) * 0x10]] < (int)(char)*pbVar8)))) {
						*pbVar8 = puVar19[(uint)(byte)puVar10[local_50 + (iVar15 + local_54) * 0x10]];
					}
				}
				iVar9 = iVar9 + 1;
				lVar17 = lVar17 + -1;
			} while (lVar17 != 0);
		}
		iVar15 = iVar15 + 1;
	}
	return;
}

void DoUnLight(longlong param_1, longlong param_2, longlong param_3)

{
	undefined *puVar1;
	undefined *puVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	int iVar7;
	longlong lVar8;
	longlong lVar9;
	int iVar10;

	puVar2 = PTR_DAT_100f1a44;
	puVar1 = PTR_DAT_100f1a40;
	lVar4 = param_2 - (param_3 + 1);
	lVar8 = param_1 - (param_3 + 1);
	iVar10 = (int)param_3 + (int)param_2 + 1;
	lVar9 = param_3 + param_1 + 1;
	if (lVar4 < 0) {
		lVar4 = 0;
	}
	if (0x70 < iVar10) {
		iVar10 = 0x70;
	}
	if ((int)lVar8 < 0) {
		lVar8 = 0;
	}
	if (0x70 < (int)lVar9) {
		lVar9 = 0x70;
	}
	while (iVar7 = (int)lVar4, iVar7 < iVar10) {
		lVar3 = lVar9 - lVar8;
		lVar5 = lVar8 * 0x70;
		lVar6 = lVar8;
		if ((int)lVar8 < (int)lVar9) {
			do {
				if ((((-1 < (int)lVar6) && ((int)lVar6 < 0x70)) && (-1 < iVar7)) && (iVar7 < 0x70)) {
					*(undefined *)(iVar7 + *(int *)puVar2 + (int)lVar5) = *(undefined *)(iVar7 + *(int *)puVar1 + (int)lVar5);
				}
				lVar5 = lVar5 + 0x70;
				lVar6 = lVar6 + 1;
				lVar3 = lVar3 + -1;
			} while (lVar3 != 0);
		}
		lVar4 = lVar4 + 1;
	}
	return;
}

void FUN_100b9a64(longlong param_1, longlong param_2, longlong param_3)

{
	uint uVar1;
	int iVar2;
	int iVar3;
	int iVar4;
	undefined *puVar5;
	longlong lVar6;
	ulonglong uVar7;
	ulonglong uVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	int iVar12;
	longlong lVar13;

	puVar5 = PTR_DAT_100f1834;
	lVar9 = param_2 - (param_3 + 1);
	lVar6 = param_1 - (param_3 + 1);
	iVar12 = (int)param_3 + (int)param_1 + 1;
	lVar13 = param_3 + param_2 + 1;
	if (lVar9 < 0) {
		lVar9 = 0;
	}
	if (0x70 < (int)lVar13) {
		lVar13 = 0x70;
	}
	if ((int)lVar6 < 0) {
		lVar6 = 0;
	}
	if (0x70 < iVar12) {
		iVar12 = 0x70;
	}
	lVar10 = lVar6 * 0x70;
	do {
		if (iVar12 <= (int)lVar6) {
			return;
		}
		uVar8 = lVar13 - lVar9;
		if ((int)lVar9 < (int)lVar13) {
			uVar1 = (uint)uVar8 >> 3;
			uVar7 = (ulonglong)uVar1;
			iVar2 = (int)lVar10;
			lVar11 = lVar9;
			if (uVar1 != 0) {
				do {
					iVar4 = (int)lVar11;
					*(byte *)(iVar2 + *(int *)puVar5 + iVar4) = *(byte *)(iVar2 + *(int *)puVar5 + iVar4) & 0xbd;
					iVar3 = *(int *)puVar5 + iVar4 + 1;
					*(byte *)(iVar2 + iVar3) = *(byte *)(iVar2 + iVar3) & 0xbd;
					iVar3 = *(int *)puVar5 + iVar4 + 2;
					*(byte *)(iVar2 + iVar3) = *(byte *)(iVar2 + iVar3) & 0xbd;
					iVar3 = *(int *)puVar5 + iVar4 + 3;
					*(byte *)(iVar2 + iVar3) = *(byte *)(iVar2 + iVar3) & 0xbd;
					iVar3 = *(int *)puVar5 + iVar4 + 4;
					*(byte *)(iVar2 + iVar3) = *(byte *)(iVar2 + iVar3) & 0xbd;
					iVar3 = *(int *)puVar5 + iVar4 + 5;
					*(byte *)(iVar2 + iVar3) = *(byte *)(iVar2 + iVar3) & 0xbd;
					iVar3 = *(int *)puVar5 + iVar4 + 6;
					*(byte *)(iVar2 + iVar3) = *(byte *)(iVar2 + iVar3) & 0xbd;
					iVar3 = *(int *)puVar5 + iVar4 + 7;
					lVar11 = lVar11 + 8;
					*(byte *)(iVar2 + iVar3) = *(byte *)(iVar2 + iVar3) & 0xbd;
					uVar7 = uVar7 - 1;
				} while (uVar7 != 0);
				uVar8 = uVar8 & 7;
				if (uVar8 == 0)
					goto LAB_100b9bcc;
			}
			do {
				iVar3 = *(int *)puVar5 + (int)lVar11;
				*(byte *)(iVar2 + iVar3) = *(byte *)(iVar2 + iVar3) & 0xbd;
				uVar8 = uVar8 - 1;
				lVar11 = lVar11 + 1;
			} while (uVar8 != 0);
		}
	LAB_100b9bcc:
		lVar10 = lVar10 + 0x70;
		lVar6 = lVar6 + 1;
	} while (true);
}

void FUN_100b9be0(longlong param_1, longlong param_2, int param_3, int param_4, int param_5, char param_6, char param_7, char param_8, undefined4 param_9, undefined param_10,
    undefined4 param_11)

{
	byte bVar1;
	char cVar2;
	int iVar3;
	undefined *puVar4;
	undefined *puVar5;
	undefined *puVar6;
	int iVar7;
	int iVar8;
	int iVar9;
	ulonglong uVar10;
	int iVar11;
	int iVar12;
	int iVar13;
	longlong lVar14;
	longlong lVar15;
	longlong lVar16;
	ulonglong uVar17;
	int iVar18;
	char cVar19;
	int iVar20;
	int iVar21;
	byte *pbVar23;
	ulonglong uVar22;
	longlong unaff_r30;
	int iVar24;
	longlong unaff_r31;
	int iVar25;
	undefined4 in_stack_ffffff78;
	byte *local_58;

	iVar8 = _DAT_100f1da8;
	iVar7 = _DAT_100f1d68;
	puVar6 = PTR_DAT_100f1a54;
	puVar5 = PTR_DAT_100f1a48;
	puVar4 = PTR_DAT_100f1834;
	lVar16 = (longlong)param_8;
	lVar15 = (longlong)param_7;
	lVar14 = (longlong)param_6;
	uVar10 = ZEXT48(&toc);
	if ((((-1 < param_1) && (iVar21 = (int)param_1, iVar21 < 0x71)) && (iVar20 = (int)param_2, -1 < iVar20)) && (iVar20 < 0x71)) {
		if (param_4 != 0) {
			iVar18 = iVar21 * 0x70;
			if (-1 < *(char *)(*(int *)PTR_DAT_100f1834 + iVar18 + iVar20)) {
				FUN_1001b0dc(param_1, iVar21, (char)param_3, (char)param_4, (char)param_5, param_6, param_7,
				    param_8, in_stack_ffffff78);
			}
			*(byte *)(*(int *)puVar4 + iVar18 + iVar20) = *(byte *)(*(int *)puVar4 + iVar18 + iVar20) | 0x80;
		}
		if (param_5 != 0) {
			iVar18 = iVar21 * 0x70 + iVar20;
			*(byte *)(*(int *)puVar4 + iVar18) = *(byte *)(*(int *)puVar4 + iVar18) | 0x40;
		}
		iVar20 = iVar21 * 0x70 + iVar20;
		*(byte *)(*(int *)puVar4 + iVar20) = *(byte *)(*(int *)puVar4 + iVar20) | 2;
	}
	iVar21 = 0;
	do {
		local_58 = *(byte **)((int)uVar10 + -0x6ea0);
		iVar20 = 0;
		uVar17 = (ulonglong) * (uint *)((int)uVar10 + -0x7100);
		do {
			cVar19 = '\0';
			bVar1 = *local_58;
			iVar18 = 0;
			uVar22 = uVar17;
			while ((iVar18 < (int)((param_3 - (uint)bVar1) * 2) && (cVar19 == '\0'))) {
				iVar9 = 0;
				iVar13 = 0;
				iVar11 = 0;
				iVar12 = 0;
				pbVar23 = (byte *)uVar22;
				if (iVar21 == 2) {
					unaff_r30 = param_1 + (ulonglong)*pbVar23;
					unaff_r31 = param_2 - (ulonglong)pbVar23[1];
					if ((*pbVar23 != 0) && (pbVar23[1] != 0)) {
						iVar9 = -1;
						iVar12 = 1;
					}
				} else {
					if (iVar21 < 2) {
						if (iVar21 == 0) {
							unaff_r30 = param_1 + (ulonglong)*pbVar23;
							unaff_r31 = param_2 + (ulonglong)pbVar23[1];
							if ((*pbVar23 != 0) && (pbVar23[1] != 0)) {
								iVar9 = -1;
								iVar12 = -1;
							}
						} else {
							if (-1 < iVar21) {
								unaff_r30 = param_1 - (ulonglong)*pbVar23;
								unaff_r31 = param_2 - (ulonglong)pbVar23[1];
								if ((*pbVar23 != 0) && (pbVar23[1] != 0)) {
									iVar11 = 1;
									iVar13 = 1;
								}
							}
						}
					} else {
						if (iVar21 < 4) {
							unaff_r30 = param_1 - (ulonglong)*pbVar23;
							unaff_r31 = param_2 + (ulonglong)pbVar23[1];
							if ((*pbVar23 != 0) && (pbVar23[1] != 0)) {
								iVar11 = -1;
								iVar13 = 1;
							}
						}
					}
				}
				iVar24 = (int)unaff_r30;
				if ((((-1 < iVar24) && (iVar24 < 0x71)) && (iVar25 = (int)unaff_r31, -1 < iVar25)) && (iVar25 < 0x71)) {
					iVar3 = *(int *)puVar6;
					cVar2 = *(char *)(iVar8 + (int)*(short *)(iVar3 + (iVar24 + iVar9) * 0xe0 + (iVar25 + iVar11) * 2));
					cVar19 = *(char *)(iVar8 + (int)*(short *)(iVar3 + iVar24 * 0xe0 + iVar25 * 2));
					if ((cVar2 == '\0') || (*(char *)(iVar8 + (int)*(short *)(iVar3 + (iVar24 + iVar13) * 0xe0 + (iVar25 + iVar12) * 2)) == '\0')) {
						if (param_4 != 0) {
							if (-1 < *(char *)(*(int *)puVar4 + iVar24 * 0x70 + iVar25)) {
								FUN_1001b0dc(unaff_r30, iVar25, cVar2, (char)iVar12, (char)iVar13, (char)lVar14,
								    (char)lVar15, (char)lVar16, in_stack_ffffff78);
							}
							iVar9 = iVar24 * 0x70 + iVar25;
							*(byte *)(*(int *)puVar4 + iVar9) = *(byte *)(*(int *)puVar4 + iVar9) | 0x80;
						}
						if (param_5 != 0) {
							iVar9 = iVar24 * 0x70 + iVar25;
							*(byte *)(*(int *)puVar4 + iVar9) = *(byte *)(*(int *)puVar4 + iVar9) | 0x40;
						}
						iVar25 = iVar24 * 0x70 + iVar25;
						*(byte *)(*(int *)puVar4 + iVar25) = *(byte *)(*(int *)puVar4 + iVar25) | 2;
						if ((cVar19 == '\0') && (*(char *)(*(int *)puVar5 + iVar25) != '\0')) {
							*(undefined *)(iVar7 + (int)*(char *)(*(int *)puVar5 + iVar25)) = 1;
						}
					}
				}
				uVar22 = uVar22 + 2;
				iVar18 = iVar18 + 2;
			}
			iVar20 = iVar20 + 1;
			uVar17 = uVar17 + 0x1e;
			local_58 = local_58 + 1;
		} while (iVar20 < 0x17);
		iVar21 = iVar21 + 1;
	} while (iVar21 < 4);
	return;
}

void FreeLightTable(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined *puVar2;
	undefined4 in_stack_ffffffc8;

	puVar2 = PTR_DAT_100f1860;
	uVar1 = *(uint *)PTR_DAT_100f1860;
	*(undefined4 *)PTR_DAT_100f1860 = 0;
	mem_free_dbg((ulonglong)uVar1, (char)puVar2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

void InitLightTable(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined4 uVar2;

	ppuVar1 = &toc;
	uVar2 = DiabloAllocPtr(0x1b00, param_2, param_3, param_4, param_5, param_6, param_7, param_8);
	*(undefined4 *)ppuVar1[-0x1ddc] = uVar2;
	return;
}

void MakeLightTable(undefined8 param_1, undefined8 param_2, ulonglong param_3, ulonglong param_4,
    undefined8 param_5, undefined8 param_6, uint param_7, uint param_8, undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	byte bVar3;
	ulonglong uVar4;
	int iVar6;
	ulonglong uVar5;
	byte *pbVar7;
	undefined8 uVar8;
	undefined uVar10;
	int iVar9;
	byte bVar11;
	undefined uVar12;
	byte bVar13;
	undefined uVar14;
	ulonglong uVar15;
	undefined uVar16;
	undefined uVar18;
	uint uVar17;
	undefined uVar19;
	uint uVar20;
	undefined uVar21;
	int iVar22;
	uint uVar23;
	byte bVar24;
	undefined8 unaff_r19;
	uint uVar25;
	undefined8 unaff_r20;
	longlong lVar26;
	undefined8 unaff_r21;
	int iVar27;
	undefined8 unaff_r22;
	int iVar28;
	undefined8 unaff_r23;
	byte *pbVar29;
	undefined *puVar30;
	undefined8 unaff_r24;
	int iVar31;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	int iVar32;
	undefined8 unaff_r27;
	undefined *puVar33;
	undefined8 unaff_r28;
	undefined *puVar34;
	undefined8 unaff_r29;
	int iVar35;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	longlong lVar36;
	longlong lVar37;
	double dVar38;
	double dVar39;
	double dVar40;
	double dVar41;
	double dVar42;
	undefined4 in_stack_ffffff18;
	undefined local_96;
	undefined local_95;
	undefined local_94;
	undefined local_93;
	undefined local_92;
	undefined local_91;
	undefined local_90;
	undefined local_8f;
	undefined local_8e[6];
	undefined local_88[8];
	int *local_80[2];
	double local_78;
	double local_70;
	double local_68;
	undefined4 local_54;
	undefined4 uStack80;
	undefined4 uStack76;
	undefined4 uStack72;
	undefined4 uStack68;
	undefined4 uStack64;
	undefined4 uStack60;
	undefined4 uStack56;
	undefined4 uStack52;
	undefined4 uStack48;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;

	puVar2 = PTR_DAT_100f2138;
	puVar34 = PTR_DAT_100f1864;
	puVar33 = PTR_DAT_100f1860;
	uVar4 = ZEXT48(&toc);
	uVar17 = 0;
	uVar15 = ZEXT48(PTR_DAT_100f1860);
	local_54 = (undefined4)((ulonglong)unaff_r19 >> 0x20);
	uStack80 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack76 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack72 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack68 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack64 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack60 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack56 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack52 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack48 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	pbVar29 = *(byte **)PTR_DAT_100f1860;
	if (*(int *)PTR_DAT_100f1864 == 0) {
		iVar9 = 0xf;
	} else {
		iVar9 = 3;
	}
	iVar6 = 0;
	while (iVar6 < iVar9) {
		*pbVar29 = 0;
		iVar22 = 0;
		uVar23 = 0xf;
		pbVar29 = pbVar29 + 1;
		uVar20 = uVar17;
		do {
			lVar36 = 4;
			uVar5 = (ulonglong)(uVar20 & 0xff);
			uVar25 = uVar23 & 0xff;
			lVar37 = 0;
			do {
				if (((int)lVar37 != 0) || (iVar22 != 0)) {
					*pbVar29 = (byte)uVar5;
					pbVar29 = pbVar29 + 1;
				}
				if (((uint)uVar5 & 0xff) < uVar25) {
					lVar26 = uVar5 + 1;
				} else {
					uVar25 = 0;
					lVar26 = 0;
				}
				if ((lVar37 != -1) || (iVar22 != 0)) {
					*pbVar29 = (byte)lVar26;
					pbVar29 = pbVar29 + 1;
				}
				if (((uint)lVar26 & 0xff) < uVar25) {
					lVar26 = lVar26 + 1;
				} else {
					uVar25 = 0;
					lVar26 = 0;
				}
				if ((lVar37 != -2) || (iVar22 != 0)) {
					*pbVar29 = (byte)lVar26;
					pbVar29 = pbVar29 + 1;
				}
				if (((uint)lVar26 & 0xff) < uVar25) {
					lVar26 = lVar26 + 1;
				} else {
					uVar25 = 0;
					lVar26 = 0;
				}
				if ((lVar37 != -3) || (iVar22 != 0)) {
					*pbVar29 = (byte)lVar26;
					pbVar29 = pbVar29 + 1;
				}
				if (((uint)lVar26 & 0xff) < uVar25) {
					uVar5 = lVar26 + 1;
				} else {
					uVar25 = 0;
					uVar5 = 0;
				}
				lVar37 = lVar37 + 4;
				lVar36 = lVar36 + -1;
			} while (lVar36 != 0);
			iVar22 = iVar22 + 1;
			uVar23 = uVar23 + 0x10;
			uVar20 = uVar20 + 0x10;
		} while (iVar22 < 8);
		lVar36 = 4;
		lVar37 = (ulonglong)(uint)((int)uVar17 >> 1) + 0x80;
		uVar20 = 0x87;
		do {
			uVar23 = (uint)lVar37 & 0xff;
			uVar25 = uVar20 & 0xff;
			*pbVar29 = (byte)lVar37;
			if (uVar23 < uVar25) {
				uVar23 = uVar23 + 1;
			} else {
				uVar25 = 0;
				uVar23 = 0;
			}
			pbVar29[1] = (byte)uVar23;
			if ((uVar23 & 0xff) < uVar25) {
				uVar23 = uVar23 + 1;
			} else {
				uVar25 = 0;
				uVar23 = 0;
			}
			pbVar29[2] = (byte)uVar23;
			if ((uVar23 & 0xff) < uVar25) {
				uVar23 = uVar23 + 1;
			} else {
				uVar25 = 0;
				uVar23 = 0;
			}
			pbVar29[3] = (byte)uVar23;
			if ((uVar23 & 0xff) < uVar25) {
				uVar23 = uVar23 + 1;
			} else {
				uVar25 = 0;
				uVar23 = 0;
			}
			pbVar29[4] = (byte)uVar23;
			if ((uVar23 & 0xff) < uVar25) {
				uVar23 = uVar23 + 1;
			} else {
				uVar25 = 0;
				uVar23 = 0;
			}
			pbVar29[5] = (byte)uVar23;
			if ((uVar23 & 0xff) < uVar25) {
				uVar23 = uVar23 + 1;
			} else {
				uVar25 = 0;
				uVar23 = 0;
			}
			pbVar29[6] = (byte)uVar23;
			if ((uVar23 & 0xff) < uVar25) {
				bVar24 = (byte)uVar23 + 1;
			} else {
				bVar24 = 0;
			}
			pbVar29[7] = bVar24;
			pbVar29 = pbVar29 + 8;
			lVar37 = lVar37 + 8;
			uVar20 = uVar20 + 8;
			lVar36 = lVar36 + -1;
		} while (lVar36 != 0);
		param_7 = uVar17 + 0xa0;
		iVar22 = 10;
		param_8 = 0xaf;
		do {
			lVar37 = 4;
			uVar5 = (ulonglong)(param_7 & 0xff);
			uVar20 = param_8 & 0xff;
			do {
				*pbVar29 = (byte)uVar5;
				if (((uint)uVar5 & 0xff) < uVar20) {
					lVar36 = uVar5 + 1;
				} else {
					uVar20 = 0;
					lVar36 = 0;
				}
				if (((uint)lVar36 & 0xff) == 0xff) {
					uVar20 = 0;
					lVar36 = 0;
				}
				pbVar29[1] = (byte)lVar36;
				if (((uint)lVar36 & 0xff) < uVar20) {
					lVar36 = lVar36 + 1;
				} else {
					uVar20 = 0;
					lVar36 = 0;
				}
				if (((uint)lVar36 & 0xff) == 0xff) {
					uVar20 = 0;
					lVar36 = 0;
				}
				pbVar29[2] = (byte)lVar36;
				if (((uint)lVar36 & 0xff) < uVar20) {
					lVar36 = lVar36 + 1;
				} else {
					uVar20 = 0;
					lVar36 = 0;
				}
				if (((uint)lVar36 & 0xff) == 0xff) {
					uVar20 = 0;
					lVar36 = 0;
				}
				param_4 = (ulonglong)((uint)lVar36 & 0xff);
				pbVar29[3] = (byte)lVar36;
				pbVar29 = pbVar29 + 4;
				if (param_4 < (ulonglong)uVar20) {
					uVar5 = lVar36 + 1;
				} else {
					uVar20 = 0;
					uVar5 = 0;
				}
				if (((uint)uVar5 & 0xff) == 0xff) {
					uVar20 = 0;
					uVar5 = 0;
				}
				lVar37 = lVar37 + -1;
			} while (lVar37 != 0);
			iVar22 = iVar22 + 1;
			param_8 = param_8 + 0x10;
			param_7 = param_7 + 0x10;
		} while (iVar22 < 0x10);
		param_3 = (ulonglong) * (uint *)puVar34;
		if (*(uint *)puVar34 == 0) {
			uVar17 = uVar17 + 1;
		} else {
			uVar17 = uVar17 + 5;
		}
		iVar6 = iVar6 + 1;
	}
	lVar37 = 8;
	do {
		iVar6 = 0;
		*pbVar29 = 0;
		pbVar29[1] = 0;
		pbVar29[2] = 0;
		pbVar29[3] = 0;
		pbVar29[4] = 0;
		pbVar29[5] = 0;
		pbVar29[6] = 0;
		pbVar29[7] = 0;
		pbVar29[8] = 0;
		pbVar29[9] = 0;
		pbVar29[10] = 0;
		pbVar29[0xb] = 0;
		pbVar29[0xc] = 0;
		pbVar29[0xd] = 0;
		pbVar29[0xe] = 0;
		pbVar29[0xf] = 0;
		pbVar29[0x10] = 0;
		pbVar29[0x11] = 0;
		pbVar29[0x12] = 0;
		pbVar29[0x13] = 0;
		pbVar29[0x14] = 0;
		pbVar29[0x15] = 0;
		pbVar29[0x16] = 0;
		pbVar29[0x17] = 0;
		pbVar29[0x18] = 0;
		pbVar29[0x19] = 0;
		pbVar29[0x1a] = 0;
		pbVar29[0x1b] = 0;
		pbVar29[0x1c] = 0;
		pbVar29[0x1d] = 0;
		pbVar29[0x1e] = 0;
		pbVar29[0x1f] = 0;
		pbVar29 = pbVar29 + 0x20;
		lVar37 = lVar37 + -1;
	} while (lVar37 != 0);
	if (*PTR_DAT_100f183c == '\x04') {
		puVar33 = *(undefined **)puVar33;
		param_4 = 0xf;
		iVar6 = 0;
		while (iVar6 < iVar9) {
			param_7 = iVar9 - iVar6;
			puVar34 = &local_96;
			param_8 = iVar9 / (int)param_7;
			uVar15 = 1;
			iVar22 = 1;
			uVar20 = 0;
			uVar17 = param_7;
			while (iVar22 < 0x10) {
				uVar17 = uVar17 + (iVar9 - param_8 * param_7);
				*puVar34 = (char)uVar15;
				if (((int)param_7 < (int)uVar17) && (iVar22 < 0xf)) {
					puVar34 = puVar34 + 1;
					*puVar34 = (char)uVar15;
					uVar17 = uVar17 - param_7;
					iVar22 = iVar22 + 1;
				}
				uVar20 = uVar20 + 1;
				if (uVar20 == param_8) {
					uVar20 = 0;
					uVar15 = uVar15 + 1;
				}
				iVar22 = iVar22 + 1;
				puVar34 = puVar34 + 1;
			}
			*puVar33 = 0;
			param_3 = 9;
			puVar33[1] = local_96;
			puVar33[2] = local_95;
			puVar33[3] = local_94;
			puVar33[4] = local_93;
			puVar33[5] = local_92;
			puVar33[6] = local_91;
			puVar33[7] = local_90;
			puVar33[8] = local_8f;
			puVar33 = puVar33 + 9;
			puVar34 = local_8e;
			lVar37 = 7;
			do {
				uVar10 = *puVar34;
				puVar34 = puVar34 + 1;
				*puVar33 = uVar10;
				puVar33 = puVar33 + 1;
				lVar37 = lVar37 + -1;
			} while (lVar37 != 0);
			puVar34 = local_88;
			lVar37 = 3;
			do {
				puVar30 = puVar33;
				*puVar30 = *puVar34;
				puVar30[1] = puVar34[-1];
				puVar30[2] = puVar34[-2];
				puVar30[3] = puVar34[-3];
				puVar33 = puVar34 + -4;
				puVar34 = puVar34 + -5;
				puVar30[4] = *puVar33;
				lVar37 = lVar37 + -1;
				puVar33 = puVar30 + 5;
			} while (lVar37 != 0);
			iVar6 = iVar6 + 1;
			puVar30[5] = 1;
			puVar33 = puVar30 + 0xe6;
		}
		*puVar33 = 0;
		puVar33[1] = 1;
		lVar37 = 7;
		puVar33[2] = 1;
		puVar33[3] = 1;
		puVar33[4] = 1;
		puVar33[5] = 1;
		puVar33[6] = 1;
		puVar33[7] = 1;
		puVar33[8] = 1;
		puVar33[9] = 1;
		puVar33[10] = 1;
		puVar33[0xb] = 1;
		puVar33[0xc] = 1;
		puVar33[0xd] = 1;
		puVar33[0xe] = 1;
		puVar33[0xf] = 1;
		puVar33[0x10] = 1;
		puVar33[0x11] = 1;
		puVar33[0x12] = 1;
		puVar33[0x13] = 1;
		puVar33[0x14] = 1;
		puVar33[0x15] = 1;
		puVar33[0x16] = 1;
		puVar33[0x17] = 1;
		puVar33[0x18] = 1;
		puVar33 = puVar33 + 0x19;
		do {
			puVar34 = puVar33;
			*puVar34 = 1;
			lVar37 = lVar37 + -1;
			puVar33 = puVar34 + 1;
		} while (lVar37 != 0);
		pbVar29 = puVar34 + 0xe1;
	}
	uVar8 = 0;
	uVar5 = LoadFileInMem((ulonglong)_DAT_100f3a54, (undefined4 *)0x0, param_3, param_4, uVar15, iVar6,
	    param_7, param_8, in_stack_ffffff18);
	uVar10 = (undefined)uVar8;
	local_80[0] = (int *)uVar5;
	uVar5 = FUN_100b8f7c(uVar5 & 0xffffffff, uVar8, param_3, param_4, uVar15, iVar6, param_7, param_8,
	    in_stack_ffffff18);
	lVar37 = 0x10;
	do {
		pbVar7 = (byte *)uVar5;
		*pbVar29 = *pbVar7;
		pbVar29[1] = pbVar7[1];
		pbVar29[2] = pbVar7[2];
		pbVar29[3] = pbVar7[3];
		pbVar29[4] = pbVar7[4];
		pbVar29[5] = pbVar7[5];
		pbVar29[6] = pbVar7[6];
		pbVar29[7] = pbVar7[7];
		pbVar29[8] = pbVar7[8];
		pbVar29[9] = pbVar7[9];
		pbVar29[10] = pbVar7[10];
		pbVar29[0xb] = pbVar7[0xb];
		pbVar29[0xc] = pbVar7[0xc];
		pbVar29[0xd] = pbVar7[0xd];
		pbVar29[0xe] = pbVar7[0xe];
		uVar5 = uVar5 + 0x10;
		pbVar29[0xf] = pbVar7[0xf];
		pbVar29 = pbVar29 + 0x10;
		lVar37 = lVar37 + -1;
	} while (lVar37 != 0);
	FUN_100b9100((int)local_80[0], uVar10, (char)param_3, (char)param_4, (char)uVar15, (char)iVar6,
	    (char)param_7, (char)param_8, in_stack_ffffff18);
	mem_free_dbg(local_80, uVar10, (char)param_3, (char)param_4, (char)uVar15, (char)iVar6, (char)param_7,
	    (char)param_8, in_stack_ffffff18);
	uVar8 = 0;
	uVar5 = LoadFileInMem((ulonglong) * (uint *)((int)uVar4 + -0x5580), (undefined4 *)0x0, param_3, param_4,
	    uVar15, iVar6, param_7, param_8, in_stack_ffffff18);
	uVar21 = (undefined)param_8;
	uVar19 = (undefined)param_7;
	uVar18 = (undefined)iVar6;
	uVar16 = (undefined)uVar15;
	uVar14 = (undefined)param_4;
	uVar12 = (undefined)param_3;
	uVar10 = (undefined)uVar8;
	local_80[0] = (int *)uVar5;
	uVar15 = FUN_100b8f7c(uVar5 & 0xffffffff, uVar8, param_3, param_4, uVar15, iVar6, param_7, param_8,
	    in_stack_ffffff18);
	lVar37 = 0x10;
	do {
		pbVar7 = (byte *)uVar15;
		*pbVar29 = *pbVar7;
		pbVar29[1] = pbVar7[1];
		pbVar29[2] = pbVar7[2];
		pbVar29[3] = pbVar7[3];
		pbVar29[4] = pbVar7[4];
		pbVar29[5] = pbVar7[5];
		pbVar29[6] = pbVar7[6];
		pbVar29[7] = pbVar7[7];
		pbVar29[8] = pbVar7[8];
		pbVar29[9] = pbVar7[9];
		pbVar29[10] = pbVar7[10];
		pbVar29[0xb] = pbVar7[0xb];
		pbVar29[0xc] = pbVar7[0xc];
		pbVar29[0xd] = pbVar7[0xd];
		pbVar29[0xe] = pbVar7[0xe];
		uVar15 = uVar15 + 0x10;
		pbVar29[0xf] = pbVar7[0xf];
		pbVar29 = pbVar29 + 0x10;
		lVar37 = lVar37 + -1;
	} while (lVar37 != 0);
	FUN_100b9100((int)local_80[0], uVar10, uVar12, uVar14, uVar16, uVar18, uVar19, uVar21, in_stack_ffffff18);
	mem_free_dbg(local_80, uVar10, uVar12, uVar14, uVar16, uVar18, uVar19, uVar21, in_stack_ffffff18);
	lVar37 = 4;
	iVar9 = 0;
	do {
		bVar24 = 0xe2;
		while (bVar24 < 0xef) {
			if ((iVar9 == 0) && (bVar24 == 0xe2)) {
				*pbVar29 = 0;
			} else {
				*pbVar29 = bVar24;
			}
			pbVar29 = pbVar29 + 1;
			bVar24 = bVar24 + 1;
		}
		*pbVar29 = 0;
		bVar24 = 0xe2;
		pbVar29[1] = 0;
		pbVar29[2] = 0;
		pbVar7 = pbVar29 + 3;
		while (bVar24 < 0xef) {
			if ((iVar9 == -1) && (bVar24 == 0xe2)) {
				*pbVar7 = 0;
			} else {
				*pbVar7 = bVar24;
			}
			pbVar7 = pbVar7 + 1;
			bVar24 = bVar24 + 1;
		}
		iVar9 = iVar9 + 2;
		*pbVar7 = 0;
		pbVar7[1] = 0;
		pbVar7[2] = 0;
		pbVar29 = pbVar7 + 3;
		lVar37 = lVar37 + -1;
	} while (lVar37 != 0);
	*pbVar29 = 0xe0;
	pbVar7[4] = 0xe2;
	pbVar7[5] = 0xe4;
	pbVar7[6] = 0xe6;
	pbVar7[7] = 0xe8;
	pbVar7[8] = 0xea;
	pbVar7[9] = 0xec;
	pbVar7[10] = 0xee;
	pbVar7[0xb] = 0xe0;
	pbVar7[0xc] = 0xe2;
	pbVar7[0xd] = 0xe4;
	pbVar7[0xe] = 0xe6;
	pbVar7[0xf] = 0xe8;
	pbVar7[0x10] = 0xea;
	pbVar7[0x11] = 0xec;
	pbVar7[0x12] = 0xee;
	pbVar7[0x13] = 0xe0;
	pbVar7[0x14] = 0xe2;
	pbVar7[0x15] = 0xe4;
	pbVar7[0x16] = 0xe6;
	pbVar7[0x17] = 0xe8;
	pbVar7[0x18] = 0xea;
	pbVar7[0x19] = 0xec;
	pbVar7[0x1a] = 0xee;
	pbVar7[0x1b] = 0xe0;
	lVar37 = 3;
	pbVar7[0x1c] = 0xe2;
	pbVar7[0x1d] = 0xe4;
	pbVar7[0x1e] = 0xe6;
	pbVar7[0x1f] = 0xe8;
	pbVar7[0x20] = 0xea;
	pbVar7[0x21] = 0xec;
	pbVar7[0x22] = 0xee;
	pbVar7 = pbVar7 + 0x23;
	do {
		bVar24 = 0xe0;
		while (bVar24 < 0xe7) {
			*pbVar7 = bVar24;
			bVar13 = bVar24 + 5;
			pbVar7[1] = bVar24 + 1;
			pbVar7[2] = bVar24 + 2;
			pbVar7[3] = bVar24 + 3;
			bVar11 = bVar24 + 6;
			pbVar7[4] = bVar24 + 4;
			bVar3 = bVar24 + 7;
			bVar24 = bVar24 + 8;
			pbVar7[5] = bVar13;
			pbVar7[6] = bVar11;
			pbVar7[7] = bVar3;
			pbVar7 = pbVar7 + 8;
		}
		while (bVar24 < 0xef) {
			*pbVar7 = bVar24;
			pbVar7 = pbVar7 + 1;
			bVar24 = bVar24 + 1;
		}
		*pbVar7 = 0;
		bVar24 = 0xe0;
		pbVar7 = pbVar7 + 1;
		while (bVar24 < 0xe7) {
			*pbVar7 = bVar24;
			bVar13 = bVar24 + 5;
			pbVar7[1] = bVar24 + 1;
			pbVar7[2] = bVar24 + 2;
			pbVar7[3] = bVar24 + 3;
			bVar11 = bVar24 + 6;
			pbVar7[4] = bVar24 + 4;
			bVar3 = bVar24 + 7;
			bVar24 = bVar24 + 8;
			pbVar7[5] = bVar13;
			pbVar7[6] = bVar11;
			pbVar7[7] = bVar3;
			pbVar7 = pbVar7 + 8;
		}
		while (bVar24 < 0xef) {
			*pbVar7 = bVar24;
			pbVar7 = pbVar7 + 1;
			bVar24 = bVar24 + 1;
		}
		*pbVar7 = 0;
		pbVar7 = pbVar7 + 1;
		lVar37 = lVar37 + -1;
	} while (lVar37 != 0);
	iVar9 = (int)uVar4;
	puVar33 = *(undefined **)(iVar9 + -0x6e9c);
	iVar6 = 0;
	dVar40 = *(double *)(iVar9 + -0x4a10);
	dVar39 = *(double *)(iVar9 + -0x4a18);
	dVar38 = *(double *)(iVar9 + -0x4a30);
	dVar41 = *(double *)(iVar9 + -0x4a08);
	do {
		lVar37 = 0x20;
		local_68 = (double)CONCAT44(0x43300000, iVar6 + 1U ^ 0x80000000);
		iVar22 = (iVar6 + 1U) * 8;
		uVar17 = 0;
		dVar42 = dVar41 * (local_68 - dVar38);
		puVar34 = puVar33;
		do {
			if (iVar22 < (int)uVar17) {
				*puVar34 = 0xf;
			} else {
				local_68 = (double)CONCAT44(0x43300000, uVar17 ^ 0x80000000);
				*puVar34 = (char)(int)(dVar40 + (dVar39 * (local_68 - dVar38)) / dVar42);
			}
			if (iVar22 < (int)(uVar17 + 1)) {
				puVar34[1] = 0xf;
			} else {
				local_68 = (double)CONCAT44(0x43300000, uVar17 + 1 ^ 0x80000000);
				puVar34[1] = (char)(int)(dVar40 + (dVar39 * (local_68 - dVar38)) / dVar42);
			}
			if (iVar22 < (int)(uVar17 + 2)) {
				puVar34[2] = 0xf;
			} else {
				local_68 = (double)CONCAT44(0x43300000, uVar17 + 2 ^ 0x80000000);
				puVar34[2] = (char)(int)(dVar40 + (dVar39 * (local_68 - dVar38)) / dVar42);
			}
			if (iVar22 < (int)(uVar17 + 3)) {
				puVar34[3] = 0xf;
			} else {
				local_68 = (double)CONCAT44(0x43300000, uVar17 + 3 ^ 0x80000000);
				puVar34[3] = (char)(int)(dVar40 + (dVar39 * (local_68 - dVar38)) / dVar42);
			}
			puVar34 = puVar34 + 4;
			uVar17 = uVar17 + 4;
			lVar37 = lVar37 + -1;
		} while (lVar37 != 0);
		iVar6 = iVar6 + 1;
		puVar33 = puVar33 + 0x80;
	} while (iVar6 < 0x10);
	iVar6 = 0;
	dVar38 = *(double *)(iVar9 + -0x4a30);
	dVar39 = *(double *)(iVar9 + -19000);
	iVar22 = 0;
	dVar40 = *(double *)(iVar9 + -0x4a20);
	do {
		iVar31 = 0;
		iVar9 = iVar22 << 8;
		do {
			puVar33 = puVar2 + iVar9;
			iVar27 = 0;
			iVar32 = 0;
			do {
				iVar28 = 0;
				iVar35 = 0;
				puVar34 = puVar33;
				do {
					local_70 = (double)CONCAT44(0x43300000,
					    (iVar35 - iVar31) * (iVar35 - iVar31) + (iVar32 - iVar6) * (iVar32 - iVar6) ^ 0x80000000);
					dVar41 = FUN_100d11e4(local_70 - dVar38);
					local_68 = (double)(longlong)(int)dVar41;
					local_78 = (double)CONCAT44(0x43300000, (int)dVar41 & 0xff);
					if (dVar40 <= local_78 - dVar39) {
						dVar41 = *(double *)((int)uVar4 + -0x4a10);
					} else {
						dVar41 = *(double *)((int)uVar4 + -0x4a28);
					}
					iVar28 = iVar28 + 1;
					iVar35 = iVar35 + 8;
					iVar1 = (int)((local_78 - dVar39) + dVar41);
					local_78 = (double)(longlong)iVar1;
					*puVar34 = (char)iVar1;
					puVar34 = puVar34 + 1;
				} while (iVar28 < 0x10);
				iVar27 = iVar27 + 1;
				iVar32 = iVar32 + 8;
				puVar33 = puVar33 + 0x10;
			} while (iVar27 < 0x10);
			iVar31 = iVar31 + 1;
			iVar9 = iVar9 + 0x100;
		} while (iVar31 < 8);
		iVar6 = iVar6 + 1;
		iVar22 = iVar22 + 8;
	} while (iVar6 < 8);
	return;
}

void InitLightMax(void)

{
	if (*(int *)PTR_DAT_100f1864 != 0) {
		*PTR_DAT_100f1f04 = 3;
		return;
	}
	*PTR_DAT_100f1f04 = 0xf;
	return;
}

void InitLighting(void)

{
	undefined *puVar1;
	undefined4 *puVar2;
	undefined *puVar3;

	puVar2 = _DAT_100f1e68;
	*(undefined4 *)PTR_DAT_100f1e78 = 0;
	puVar1 = PTR_DAT_100f1aa4;
	*puVar2 = 0;
	puVar3 = PTR_DAT_100f1e74;
	*(undefined4 *)puVar1 = 0;
	*puVar3 = 0;
	puVar3[1] = 1;
	puVar3[2] = 2;
	puVar3[3] = 3;
	puVar3[4] = 4;
	puVar3[5] = 5;
	puVar3[6] = 6;
	puVar3[7] = 7;
	puVar3[8] = 8;
	puVar3[9] = 9;
	puVar3[10] = 10;
	puVar3[0xb] = 0xb;
	puVar3[0xc] = 0xc;
	puVar3[0xd] = 0xd;
	puVar3[0xe] = 0xe;
	puVar3[0xf] = 0xf;
	puVar3[0x10] = 0x10;
	puVar3[0x11] = 0x11;
	puVar3[0x12] = 0x12;
	puVar3[0x13] = 0x13;
	puVar3[0x14] = 0x14;
	puVar3[0x15] = 0x15;
	puVar3[0x16] = 0x16;
	puVar3[0x17] = 0x17;
	puVar3[0x18] = 0x18;
	puVar3[0x19] = 0x19;
	puVar3[0x1a] = 0x1a;
	puVar3[0x1b] = 0x1b;
	puVar3[0x1c] = 0x1c;
	puVar3[0x1d] = 0x1d;
	puVar3[0x1e] = 0x1e;
	puVar3[0x1f] = 0x1f;
	return;
}

ulonglong AddLight(undefined4 param_1, undefined4 param_2, undefined4 param_3)

{
	int iVar1;
	undefined *puVar2;
	undefined4 *puVar3;
	undefined *puVar4;
	ulonglong uVar5;

	puVar2 = PTR_DAT_100f1e90;
	puVar4 = PTR_DAT_100f1e74;
	if (*(int *)PTR_DAT_100f1aa4 != 0) {
		return 0xffffffffffffffff;
	}
	iVar1 = *(int *)PTR_DAT_100f1e78;
	uVar5 = 0xffffffffffffffff;
	if (iVar1 < 0x20) {
		*(int *)PTR_DAT_100f1e78 = iVar1 + 1;
		puVar3 = _DAT_100f1e68;
		uVar5 = (ulonglong)(byte)puVar4[iVar1];
		iVar1 = (uint)(byte)puVar4[iVar1] * 0x34;
		*(undefined4 *)(puVar2 + iVar1) = param_1;
		puVar2 = puVar2 + iVar1;
		*(undefined4 *)(puVar2 + 4) = param_2;
		*(undefined4 *)(puVar2 + 8) = param_3;
		*(undefined4 *)(puVar2 + 0x28) = 0;
		*(undefined4 *)(puVar2 + 0x2c) = 0;
		*(undefined4 *)(puVar2 + 0x10) = 0;
		*(undefined4 *)(puVar2 + 0x14) = 0;
		*puVar3 = 1;
	}
	return uVar5;
}

void FUN_100baf2c(int param_1)

{
	undefined4 *puVar1;

	puVar1 = _DAT_100f1e68;
	if (*(int *)PTR_DAT_100f1aa4 != 0) {
		return;
	}
	if (param_1 == -1) {
		return;
	}
	*(undefined4 *)(PTR_DAT_100f1e90 + param_1 * 0x34 + 0x10) = 1;
	*puVar1 = 1;
	return;
}

void FUN_100baf64(int param_1, undefined4 param_2)

{
	undefined4 *puVar1;
	undefined *puVar2;
	undefined *puVar3;

	puVar2 = PTR_DAT_100f1e90;
	puVar1 = _DAT_100f1e68;
	if (*(int *)PTR_DAT_100f1aa4 != 0) {
		return;
	}
	if (param_1 == -1) {
		return;
	}
	puVar3 = PTR_DAT_100f1e90 + param_1 * 0x34;
	*(undefined4 *)(puVar3 + 0x14) = 1;
	*(undefined4 *)(puVar3 + 0x1c) = *(undefined4 *)(puVar2 + param_1 * 0x34);
	*(undefined4 *)(puVar3 + 0x20) = *(undefined4 *)(puVar3 + 4);
	*(undefined4 *)(puVar3 + 0x24) = *(undefined4 *)(puVar3 + 8);
	*(undefined4 *)(puVar3 + 8) = param_2;
	*puVar1 = 1;
	return;
}

void ChangeLightXY(int param_1, undefined4 param_2, undefined4 param_3)

{
	undefined4 *puVar1;
	undefined4 *puVar2;

	puVar1 = _DAT_100f1e68;
	if (*(int *)PTR_DAT_100f1aa4 != 0) {
		return;
	}
	if (param_1 == -1) {
		return;
	}
	puVar2 = (undefined4 *)(PTR_DAT_100f1e90 + param_1 * 0x34);
	puVar2[5] = 1;
	puVar2[7] = *puVar2;
	puVar2[8] = puVar2[1];
	puVar2[9] = puVar2[2];
	*puVar2 = param_2;
	puVar2[1] = param_3;
	*puVar1 = 1;
	return;
}

void ChangeLightOff(int param_1, undefined4 param_2, undefined4 param_3)

{
	undefined4 *puVar1;
	undefined *puVar2;
	undefined *puVar3;

	puVar2 = PTR_DAT_100f1e90;
	puVar1 = _DAT_100f1e68;
	if (*(int *)PTR_DAT_100f1aa4 != 0) {
		return;
	}
	if (param_1 == -1) {
		return;
	}
	puVar3 = PTR_DAT_100f1e90 + param_1 * 0x34;
	*(undefined4 *)(puVar3 + 0x14) = 1;
	*(undefined4 *)(puVar3 + 0x1c) = *(undefined4 *)(puVar2 + param_1 * 0x34);
	*(undefined4 *)(puVar3 + 0x20) = *(undefined4 *)(puVar3 + 4);
	*(undefined4 *)(puVar3 + 0x24) = *(undefined4 *)(puVar3 + 8);
	*(undefined4 *)(puVar3 + 0x28) = param_2;
	*(undefined4 *)(puVar3 + 0x2c) = param_3;
	*puVar1 = 1;
	return;
}

void FUN_100bb068(int param_1, undefined4 param_2, undefined4 param_3, undefined4 param_4)

{
	undefined4 *puVar1;
	undefined4 *puVar2;

	puVar1 = _DAT_100f1e68;
	if (*(int *)PTR_DAT_100f1aa4 != 0) {
		return;
	}
	if (param_1 == -1) {
		return;
	}
	puVar2 = (undefined4 *)(PTR_DAT_100f1e90 + param_1 * 0x34);
	puVar2[5] = 1;
	puVar2[7] = *puVar2;
	puVar2[8] = puVar2[1];
	puVar2[9] = puVar2[2];
	*puVar2 = param_2;
	puVar2[1] = param_3;
	puVar2[2] = param_4;
	*puVar1 = 1;
	return;
}

void ProcessLightList(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    char param_5, char param_6, char param_7, char param_8, undefined4 param_9)

{
	byte bVar1;
	int iVar2;
	undefined *puVar3;
	int *piVar4;
	undefined *puVar5;
	undefined *puVar6;
	undefined *puVar7;
	byte *pbVar8;
	uint *puVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	int iVar14;
	byte *pbVar15;
	undefined4 in_stack_ffffffa8;

	puVar7 = PTR_DAT_100f1e90;
	puVar6 = PTR_DAT_100f1e78;
	puVar5 = PTR_DAT_100f1e74;
	piVar4 = _DAT_100f1e68;
	lVar13 = (longlong)param_8;
	lVar12 = (longlong)param_7;
	lVar11 = (longlong)param_6;
	lVar10 = (longlong)param_5;
	if (*(int *)PTR_DAT_100f1aa4 == 0) {
		if (*_DAT_100f1e68 != 0) {
			iVar14 = 0;
			pbVar15 = PTR_DAT_100f1e74;
			while (iVar14 < *(int *)puVar6) {
				bVar1 = *pbVar15;
				iVar2 = (uint)bVar1 * 0x34;
				if (*(int *)(puVar7 + iVar2 + 0x10) != 0) {
					puVar9 = (uint *)(puVar7 + iVar2);
					DoUnLight((ulonglong)*puVar9, (ulonglong)puVar9[1], (ulonglong)puVar9[2]);
				}
				puVar3 = puVar7 + (uint)bVar1 * 0x34;
				if (*(int *)(puVar3 + 0x14) != 0) {
					DoUnLight((ulonglong) * (uint *)(puVar3 + 0x1c), (ulonglong) * (uint *)(puVar3 + 0x20),
					    (ulonglong) * (uint *)(puVar3 + 0x24));
					*(undefined4 *)(puVar3 + 0x14) = 0;
				}
				pbVar15 = pbVar15 + 1;
				iVar14 = iVar14 + 1;
			}
			iVar14 = 0;
			pbVar15 = puVar5;
			while (true) {
				if (*(int *)puVar6 <= iVar14)
					break;
				iVar2 = (uint)*pbVar15 * 0x34;
				if (*(int *)(puVar7 + iVar2 + 0x10) == 0) {
					puVar9 = (uint *)(puVar7 + iVar2);
					DoLighting((ulonglong)*puVar9, (ulonglong)puVar9[1], puVar9[2], (uint)*pbVar15, (char)lVar10, (char)lVar11, (char)lVar12, (char)lVar13, in_stack_ffffffa8);
				}
				pbVar15 = pbVar15 + 1;
				iVar14 = iVar14 + 1;
			}
			pbVar15 = puVar5 + *(int *)puVar6;
			iVar14 = 0;
			pbVar8 = puVar5;
			while (iVar14 < *(int *)puVar6) {
				if (*(int *)(puVar7 + (uint)*pbVar8 * 0x34 + 0x10) == 0) {
					pbVar8 = pbVar8 + 1;
					iVar14 = iVar14 + 1;
				} else {
					iVar2 = *(int *)puVar6;
					*(int *)puVar6 = iVar2 + -1;
					bVar1 = puVar5[iVar2 + -1];
					pbVar15 = pbVar15 + -1;
					*pbVar15 = *pbVar8;
					*pbVar8 = bVar1;
				}
			}
		}
		*piVar4 = 0;
	}
	return;
}

void SavePreLighting(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	memcpy((char)*(undefined4 *)PTR_DAT_100f1a40, (char)*(undefined4 *)PTR_DAT_100f1a44, 0, param_4,
	    param_5, param_6, param_7, param_8, in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	return;
}

void InitVision(void)

{
	char cVar1;
	undefined *puVar2;
	ulonglong uVar3;
	longlong lVar4;
	ulonglong uVar5;
	longlong lVar6;
	undefined *puVar8;
	ulonglong uVar7;
	longlong lVar9;

	puVar2 = PTR_DAT_100f212c;
	*(undefined4 *)PTR_DAT_100f1e6c = 0;
	puVar8 = PTR_DAT_100f1e70;
	lVar9 = 0;
	*(undefined4 *)puVar2 = 0;
	puVar2 = PTR_DAT_100f1ab8;
	*(undefined4 *)puVar8 = 1;
	uVar5 = (ulonglong)_DAT_100f1d68;
	cVar1 = *puVar2;
	if (cVar1 < '\x01') {
		return;
	}
	if (('\b' < cVar1) && (uVar3 = (ulonglong)((int)cVar1 - 1U >> 3), uVar7 = uVar5, 0 < (int)cVar1 + -8)) {
		do {
			puVar8 = (undefined *)uVar7;
			*puVar8 = 0;
			lVar9 = lVar9 + 8;
			puVar8[1] = 0;
			puVar8[2] = 0;
			puVar8[3] = 0;
			puVar8[4] = 0;
			puVar8[5] = 0;
			puVar8[6] = 0;
			puVar8[7] = 0;
			uVar7 = uVar7 + 8;
			uVar3 = uVar3 - 1;
		} while (uVar3 != 0);
	}
	cVar1 = *puVar2;
	lVar6 = uVar5 + lVar9;
	lVar4 = (longlong)cVar1 - lVar9;
	if ((int)lVar9 < (int)cVar1) {
		do {
			*(undefined *)lVar6 = 0;
			lVar6 = lVar6 + 1;
			lVar4 = lVar4 + -1;
		} while (lVar4 != 0);
		return;
	}
	return;
}

void FUN_100bb33c(undefined4 param_1, undefined4 param_2, undefined4 param_3, int param_4)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	int iVar4;
	int iVar5;
	int iVar6;

	iVar4 = _DAT_100f1e8c;
	puVar3 = PTR_DAT_100f1e70;
	puVar2 = PTR_DAT_100f1e6c;
	if (0x1f < *(int *)PTR_DAT_100f1e6c) {
		return;
	}
	iVar6 = *(int *)PTR_DAT_100f1e6c * 0x34;
	*(undefined4 *)(_DAT_100f1e8c + iVar6) = param_1;
	iVar5 = iVar4 + iVar6;
	*(undefined4 *)(iVar5 + 4) = param_2;
	*(undefined4 *)(iVar5 + 8) = param_3;
	iVar1 = *(int *)puVar3;
	*(int *)puVar3 = iVar1 + 1;
	*(int *)(iVar5 + 0xc) = iVar1;
	*(undefined4 *)(iVar5 + 0x10) = 0;
	*(undefined4 *)(iVar5 + 0x14) = 0;
	puVar3 = PTR_DAT_100f212c;
	*(uint *)(iVar4 + iVar6 + 0x30) = (uint)(param_4 != 0);
	*(int *)puVar2 = *(int *)puVar2 + 1;
	*(undefined4 *)puVar3 = 1;
	return;
}

void FUN_100bb3b4(int param_1, undefined4 param_2)

{
	undefined *puVar1;
	ulonglong uVar2;
	undefined4 *puVar3;

	puVar1 = PTR_DAT_100f212c;
	uVar2 = (ulonglong) * (uint *)PTR_DAT_100f1e6c;
	puVar3 = _DAT_100f1e8c;
	if ((int)*(uint *)PTR_DAT_100f1e6c < 1) {
		return;
	}
	do {
		if (param_1 == puVar3[3]) {
			puVar3[5] = 1;
			puVar3[7] = *puVar3;
			puVar3[8] = puVar3[1];
			puVar3[9] = puVar3[2];
			puVar3[2] = param_2;
			*(undefined4 *)puVar1 = 1;
		}
		puVar3 = puVar3 + 0xd;
		uVar2 = uVar2 - 1;
	} while (uVar2 != 0);
	return;
}

void ChangeVisionXY(int param_1, undefined4 param_2, undefined4 param_3)

{
	undefined *puVar1;
	ulonglong uVar2;
	undefined4 *puVar3;

	puVar1 = PTR_DAT_100f212c;
	uVar2 = (ulonglong) * (uint *)PTR_DAT_100f1e6c;
	puVar3 = _DAT_100f1e8c;
	if ((int)*(uint *)PTR_DAT_100f1e6c < 1) {
		return;
	}
	do {
		if (param_1 == puVar3[3]) {
			puVar3[5] = 1;
			puVar3[7] = *puVar3;
			puVar3[8] = puVar3[1];
			puVar3[9] = puVar3[2];
			*puVar3 = param_2;
			puVar3[1] = param_3;
			*(undefined4 *)puVar1 = 1;
		}
		puVar3 = puVar3 + 0xd;
		uVar2 = uVar2 - 1;
	} while (uVar2 != 0);
	return;
}

longlong ProcessVisionList(char param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, char param_6, char param_7, char param_8, undefined4 param_9)

{
	char cVar1;
	uint uVar2;
	undefined *puVar3;
	undefined *puVar4;
	uint *puVar5;
	undefined *puVar6;
	ulonglong uVar7;
	longlong lVar8;
	longlong lVar9;
	uint *puVar10;
	longlong lVar11;
	longlong lVar12;
	undefined *puVar14;
	ulonglong uVar13;
	longlong lVar15;
	int iVar16;
	uint *puVar17;
	ulonglong uVar18;
	undefined4 in_stack_ffffffa8;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffc0;

	puVar6 = PTR_DAT_100f212c;
	puVar5 = _DAT_100f1e8c;
	puVar4 = PTR_DAT_100f1e6c;
	puVar3 = PTR_DAT_100f1ab8;
	uVar13 = SEXT18(param_8);
	lVar12 = (longlong)param_7;
	lVar11 = (longlong)param_6;
	lVar15 = (longlong)param_1;
	uVar18 = (ulonglong)_DAT_100f1d68;
	if (*(int *)PTR_DAT_100f212c != 0) {
		iVar16 = 0;
		puVar17 = _DAT_100f1e8c;
		while (iVar16 < *(int *)puVar4) {
			if (puVar17[4] != 0) {
				FUN_100b9a64((ulonglong)*puVar17, (ulonglong)puVar17[1], (ulonglong)puVar17[2]);
			}
			if (puVar17[5] != 0) {
				FUN_100b9a64((ulonglong)puVar17[7], (ulonglong)puVar17[8], (ulonglong)puVar17[9]);
				puVar17[5] = 0;
			}
			puVar17 = puVar17 + 0xd;
			iVar16 = iVar16 + 1;
		}
		cVar1 = *puVar3;
		lVar15 = 0;
		if ('\0' < cVar1) {
			if ('\b' < cVar1) {
				uVar7 = (ulonglong)((int)cVar1 - 1U >> 3);
				lVar12 = 0;
				lVar11 = 0;
				uVar13 = uVar18;
				if (0 < (int)cVar1 + -8) {
					do {
						puVar14 = (undefined *)uVar13;
						*puVar14 = 0;
						lVar15 = lVar15 + 8;
						puVar14[1] = 0;
						puVar14[2] = 0;
						puVar14[3] = 0;
						puVar14[4] = 0;
						puVar14[5] = 0;
						puVar14[6] = 0;
						puVar14[7] = 0;
						uVar13 = uVar13 + 8;
						uVar7 = uVar7 - 1;
					} while (uVar7 != 0);
				}
			}
			cVar1 = *puVar3;
			lVar9 = uVar18 + lVar15;
			lVar8 = (longlong)cVar1 - lVar15;
			if ((int)lVar15 < (int)cVar1) {
				do {
					*(undefined *)lVar9 = 0;
					lVar9 = lVar9 + 1;
					lVar8 = lVar8 + -1;
				} while (lVar8 != 0);
			}
		}
		iVar16 = 0;
		puVar17 = puVar5;
		while (iVar16 < *(int *)puVar4) {
			if (puVar17[4] == 0) {
				FUN_100b9be0((ulonglong)*puVar17, (ulonglong)puVar17[1], puVar17[2], puVar17[0xc] & 1,
				    puVar17[0xc] & 1, (char)lVar11, (char)lVar12, (char)uVar13, in_stack_ffffffa8,
				    in_stack_ffffffaf, in_stack_ffffffc0);
			}
			puVar17 = puVar17 + 0xd;
			iVar16 = iVar16 + 1;
		}
		puVar17 = puVar5 + *(int *)puVar4 * 0xd;
		do {
			lVar15 = 0;
			iVar16 = 0;
			puVar10 = puVar5;
			while (iVar16 < *(int *)puVar4) {
				if (puVar10[4] != 0) {
					*(int *)puVar4 = *(int *)puVar4 + -1;
					if ((0 < *(int *)puVar4) && (iVar16 != *(int *)puVar4)) {
						uVar2 = puVar17[-0xc];
						*puVar10 = puVar17[-0xd];
						puVar10[1] = uVar2;
						uVar2 = puVar17[-10];
						puVar10[2] = puVar17[-0xb];
						puVar10[3] = uVar2;
						uVar2 = puVar17[-8];
						puVar10[4] = puVar17[-9];
						puVar10[5] = uVar2;
						uVar2 = puVar17[-6];
						puVar10[6] = puVar17[-7];
						puVar10[7] = uVar2;
						uVar2 = puVar17[-4];
						puVar10[8] = puVar17[-5];
						puVar10[9] = uVar2;
						uVar2 = puVar17[-2];
						puVar10[10] = puVar17[-3];
						puVar10[0xb] = uVar2;
						puVar10[0xc] = puVar17[-1];
					}
					lVar15 = 1;
					puVar17 = puVar17 + -0xd;
				}
				puVar10 = puVar10 + 0xd;
				iVar16 = iVar16 + 1;
			}
		} while ((int)lVar15 != 0);
	}
	*(undefined4 *)puVar6 = 0;
	return lVar15;
}

void lighting_color_cycling(void)

{
	undefined uVar1;
	undefined *puVar2;
	longlong lVar3;
	int iVar4;
	int iVar5;
	undefined *puVar6;

	if (*(int *)PTR_DAT_100f1864 == 0) {
		iVar5 = 0x10;
	} else {
		iVar5 = 4;
	}
	if (*PTR_DAT_100f183c != '\x04') {
		return;
	}
	iVar4 = 0;
	puVar6 = *(undefined **)PTR_DAT_100f1860;
	while (iVar4 < iVar5) {
		uVar1 = puVar6[1];
		puVar6[1] = puVar6[2];
		puVar6[2] = puVar6[3];
		puVar6[3] = puVar6[4];
		puVar6[4] = puVar6[5];
		puVar6[5] = puVar6[6];
		puVar6[6] = puVar6[7];
		puVar6[7] = puVar6[8];
		puVar6[8] = puVar6[9];
		puVar6[9] = puVar6[10];
		puVar6[10] = puVar6[0xb];
		puVar6[0xb] = puVar6[0xc];
		puVar6[0xc] = puVar6[0xd];
		puVar6[0xd] = puVar6[0xe];
		puVar6[0xe] = puVar6[0xf];
		puVar6[0xf] = puVar6[0x10];
		puVar6[0x10] = puVar6[0x11];
		puVar6[0x11] = puVar6[0x12];
		puVar6[0x12] = puVar6[0x13];
		puVar6[0x13] = puVar6[0x14];
		puVar6[0x14] = puVar6[0x15];
		puVar6[0x15] = puVar6[0x16];
		puVar6[0x16] = puVar6[0x17];
		puVar6[0x17] = puVar6[0x18];
		puVar6[0x18] = puVar6[0x19];
		lVar3 = 6;
		puVar2 = puVar6 + 0x19;
		do {
			puVar6 = puVar2;
			*puVar6 = puVar6[1];
			lVar3 = lVar3 + -1;
			puVar2 = puVar6 + 1;
		} while (lVar3 != 0);
		puVar6[1] = uVar1;
		puVar6 = puVar6 + 0xe2;
		iVar4 = iVar4 + 1;
	}
	return;
}

void FUN_100bb83c(void)

{
	_DAT_100f4590 = _DAT_100f458c;
	return;
}

ulonglong FUN_100bb848(char param_1, ulonglong param_2, ulonglong param_3, int param_4,
    ulonglong param_5, char param_6, char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	char cVar2;
	ulonglong uVar3;
	short sVar6;
	undefined uVar7;
	undefined8 uVar4;
	ulonglong uVar5;
	ulonglong uVar8;
	undefined uVar9;
	undefined uVar10;
	ulonglong uVar11;
	undefined uVar12;
	longlong lVar13;
	undefined uVar14;
	undefined uVar15;
	longlong lVar16;
	undefined uVar17;
	longlong lVar18;
	undefined uVar19;
	longlong lVar20;
	undefined uVar21;
	ulonglong uVar22;
	uint uVar23;
	ulonglong uVar24;
	ulonglong uVar25;

	uVar10 = (undefined)param_5;
	lVar20 = (longlong)param_8;
	lVar18 = (longlong)param_7;
	lVar16 = (longlong)param_6;
	lVar13 = (longlong)param_4;
	uVar3 = ZEXT48(register0x0000000c);
	uVar25 = (ulonglong)_DAT_100f3a5c;
	iVar1 = (int)(uVar3 - 0x80);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	cVar2 = (char)(uVar3 - 0x80);
	uVar11 = param_3;
	uVar15 = uVar10;
	GetCurrentProcess(cVar2 + 'L', (char)param_2, (char)param_3, (char)param_4, uVar10, param_6, param_7,
	    param_8, *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
	    *(undefined4 *)(iVar1 + 0x14));
	*(undefined *)(iVar1 + 0x39) = 0;
	do {
		uVar8 = param_5;
		FUN_100bbaf4(param_4, param_5, (char)uVar11, (char)lVar13, uVar15, (char)lVar16, (char)lVar18,
		    (char)lVar20, *(undefined4 *)(iVar1 + 8));
		*(undefined4 *)(iVar1 + 0x3c) = 0;
		uVar22 = 0;
		uVar24 = 0;
		*(undefined4 *)(iVar1 + 0x40) = 0;
		do {
			sVar6 = GetNextProcess(cVar2 + '<', (char)uVar8, (char)uVar11, (char)lVar13, uVar15, (char)lVar16,
			    (char)lVar18, (char)lVar20, *(undefined *)(iVar1 + 0xb),
			    *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14));
			uVar7 = (undefined)sVar6;
			if (sVar6 == 0) {
				uVar8 = uVar3 - 0x34;
				uVar11 = uVar3 - 0x48;
				uVar7 = SameProcess(cVar2 + '<', (char)uVar8, (char)uVar11, (char)lVar13, uVar15, (char)lVar16,
				    (char)lVar18, (char)lVar20, *(undefined *)(iVar1 + 0xb),
				    *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14));
				if (*(char *)(iVar1 + 0x38) == '\0') {
					if ((uVar24 & 0xff) == 0) {
						uVar24 = FUN_100bbc40(cVar2 + '<', (char)uVar8, (char)uVar11, (char)lVar13, uVar15,
						    (char)lVar16, (char)lVar18, (char)lVar20, *(undefined4 *)(iVar1 + 8));
						if ((uVar24 & 0xff) != 0) {
							uVar23 = *(uint *)(iVar1 + 0x3c);
							uVar11 = (ulonglong)uVar23;
							*(uint *)(iVar1 + 0x44) = uVar23;
							*(undefined4 *)(iVar1 + 0x48) = *(undefined4 *)(iVar1 + 0x40);
							uVar8 = uVar25;
							uVar4 = FUN_100bbbf4(uVar3 - 0x3c, uVar25, (char)uVar23, (char)lVar13, uVar15, (char)lVar16, (char)lVar18, (char)lVar20, *(undefined4 *)(iVar1 + 8));
							uVar7 = (undefined)uVar4;
							goto LAB_100bb940;
						}
					}
					uVar8 = (longlong)param_1;
					uVar11 = param_2;
					uVar5 = FUN_100bbcb0(uVar3 - 0x44, param_1, param_2, (char)lVar13, uVar15, (char)lVar16,
					    (char)lVar18, (char)lVar20, *(undefined4 *)(iVar1 + 8),
					    *(undefined *)(iVar1 + 0xf), *(undefined *)(iVar1 + 0x1f));
					uVar7 = (undefined)uVar5;
					if ((uVar5 & 0xff) != 0) {
						uVar8 = uVar3 - 0x34;
						uVar11 = uVar3 - 0x47;
						uVar22 = FUN_100bbd2c(uVar3 - 0x44, uVar8, (undefined *)uVar11, (char)lVar13, uVar15,
						    (char)lVar16, (char)lVar18, (char)lVar20, *(undefined4 *)(iVar1 + 8));
						uVar7 = (undefined)uVar22;
					}
				}
			}
		LAB_100bb940:
			uVar9 = (undefined)uVar8;
			uVar23 = (uint)uVar22;
		} while (((sVar6 == 0) && ((uVar22 & 0xff) == 0)) && (*(char *)(iVar1 + 0x39) == '\0'));
		if (((uVar22 & 0xff) != 0) && (*(char *)(iVar1 + 0x39) == '\0')) {
			uVar9 = uVar10;
			FUN_100bbaf4(param_4, param_5, (char)uVar11, (char)lVar13, uVar15, (char)lVar16, (char)lVar18,
			    (char)lVar20, *(undefined4 *)(iVar1 + 8));
			uVar4 = FUN_100bba68(cVar2 + '<', uVar9, (char)uVar11, (char)lVar13, uVar15, (char)lVar16,
			    (char)lVar18, (char)lVar20, *(undefined4 *)(iVar1 + 8));
			uVar7 = (undefined)uVar4;
			uVar4 = countLeadingZeros((uint)uVar4 & 0xff);
			*(undefined *)(iVar1 + 0x39) = (char)((uint)uVar4 >> 5);
		}
		uVar21 = (undefined)lVar20;
		uVar19 = (undefined)lVar18;
		uVar17 = (undefined)lVar16;
		uVar14 = (undefined)lVar13;
		uVar12 = (undefined)uVar11;
		if (((uVar22 & 0xff) == 0) || (*(char *)(iVar1 + 0x39) != '\0')) {
			if ((param_1 != '\0') && (((uVar24 & 0xff) != 0 && (*(char *)(iVar1 + 0x39) == '\0')))) {
				uVar11 = FUN_100c9fe4(uVar7, uVar9, uVar12, uVar14, uVar15, uVar17, uVar19, uVar21,
				    *(undefined4 *)(iVar1 + 8));
				if ((uVar11 & 0xff) == 0) {
					uVar12 = (undefined)(uVar3 - 0x47);
					uVar11 = FUN_100bbd2c(uVar3 - 0x3c, uVar3 - 0x34, (undefined *)(uVar3 - 0x47), uVar14, uVar15,
					    uVar17, uVar19, uVar21, *(undefined4 *)(iVar1 + 8));
					uVar23 = (uint)uVar11;
				} else {
					*(undefined *)(iVar1 + 0x39) = 1;
				}
				if (((uVar23 & 0xff) != 0) && (*(char *)(iVar1 + 0x39) == '\0')) {
					FUN_100bbaf4(param_4, param_5, uVar12, uVar14, uVar15, uVar17, uVar19, uVar21,
					    *(undefined4 *)(iVar1 + 8));
					uVar4 = FUN_100bba68(cVar2 + 'D', uVar10, uVar12, uVar14, uVar15, uVar17, uVar19, uVar21,
					    *(undefined4 *)(iVar1 + 8));
					uVar4 = countLeadingZeros((uint)uVar4 & 0xff);
					*(undefined4 *)(iVar1 + 0x3c) = *(undefined4 *)(iVar1 + 0x44);
					*(undefined *)(iVar1 + 0x39) = (char)((uint)uVar4 >> 5);
					*(undefined4 *)(iVar1 + 0x40) = *(undefined4 *)(iVar1 + 0x48);
				}
			}
			if (*(char *)(iVar1 + 0x39) != '\0') {
				FUN_100bbba8(uVar3 - 0x44, param_3, uVar12, uVar14, uVar15, uVar17, uVar19, uVar21,
				    *(undefined4 *)(iVar1 + 8));
			}
			return (ulonglong) * (byte *)(iVar1 + 0x39);
		}
	} while (true);
}

undefined8
FUN_100bba68(undefined param_1, undefined param_2, char param_3, char param_4, char param_5, char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined4 uVar1;
	int iVar2;
	undefined4 *puVar3;
	ulonglong uVar4;
	short sVar5;
	ulonglong uVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;

	puVar3 = _DAT_100f3a58;
	lVar12 = (longlong)param_8;
	lVar11 = (longlong)param_7;
	lVar10 = (longlong)param_6;
	lVar9 = (longlong)param_5;
	lVar8 = (longlong)param_4;
	lVar7 = (longlong)param_3;
	uVar4 = ZEXT48(register0x0000000c);
	uVar6 = ZEXT48(_DAT_100f3a58);
	iVar2 = (int)(uVar4 - 0x50);
	*(BADSPACEBASE **)iVar2 = register0x0000000c;
	uVar1 = puVar3[1];
	*(undefined4 *)(iVar2 + 0x3c) = *puVar3;
	*(undefined4 *)(iVar2 + 0x40) = uVar1;
	do {
		sVar5 = GetNextProcess((char)(uVar4 - 0x50) + '<', (char)uVar6, (char)lVar7, (char)lVar8,
		    (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12,
		    *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf),
		    *(undefined4 *)(iVar2 + 0x14));
		if (sVar5 == 0) {
			uVar6 = uVar4 - 0x14;
			lVar7 = uVar4 - 0x18;
			sVar5 = SameProcess(param_1, (char)uVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10,
			    (char)lVar11, (char)lVar12, *(undefined *)(iVar2 + 0xb),
			    *(undefined *)(iVar2 + 0xf), *(undefined4 *)(iVar2 + 0x14));
			if ((sVar5 == 0) && (*(char *)(iVar2 + 0x38) != '\0')) {
				return 0;
			}
		}
		if (sVar5 != 0) {
			return 1;
		}
	} while (true);
}

void FUN_100bbaf4(int param_1, undefined8 param_2, undefined param_3, undefined param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	longlong lVar1;
	int iVar2;
	uint uVar3;
	undefined uVar4;
	undefined uVar5;
	undefined uVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	int iVar11;

	lVar10 = (longlong)param_8;
	lVar9 = (longlong)param_7;
	lVar8 = (longlong)param_6;
	lVar7 = (longlong)param_5;
	iVar11 = 0;
	lVar1 = ZEXT48(register0x0000000c) - 0x60;
	iVar2 = (int)lVar1;
	*(BADSPACEBASE **)iVar2 = register0x0000000c;
	while (iVar11 < 3) {
		uVar4 = 0xd8;
		uVar5 = 0;
		uVar6 = 0;
		uVar3 = WaitNextEvent(0xff, 0xd8, 0, 0, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10,
		    *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf),
		    *(undefined4 *)(iVar2 + 0x14));
		if ((uVar3 & 0xff) == 0) {
			iVar11 = iVar11 + 1;
		}
		if (param_1 == 0) {
			if (*(short *)(iVar2 + 0x38) == 0x17) {
				AEProcessAppleEvent((char)lVar1 + '8', uVar4, uVar5, uVar6, (char)lVar7, (char)lVar8, (char)lVar9,
				    (char)lVar10, *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf),
				    *(undefined4 *)(iVar2 + 0x14));
			}
		} else {
			FUN_100dbf44(ZEXT48(register0x0000000c) - 0x28, param_2);
		}
	}
	return;
}

undefined8
FUN_100bbba8(undefined8 param_1, undefined8 param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;

	iVar1 = (int)(ZEXT48(register0x0000000c) - 0x80);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	*(undefined4 *)(iVar1 + 0x38) = 0x3c;
	*(undefined4 *)(iVar1 + 0x70) = 0;
	*(undefined4 *)(iVar1 + 0x3c) = (int)param_2;
	GetProcessInformation((undefined)param_1, (char)(ZEXT48(register0x0000000c) - 0x80) + '8', param_3, param_4,
	    param_5, param_6, param_7, param_8, *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14));
	return param_2;
}

undefined8
FUN_100bbbf4(undefined8 param_1, undefined8 param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;

	iVar1 = (int)(ZEXT48(register0x0000000c) - 0x80);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	*(undefined4 *)(iVar1 + 0x38) = 0x3c;
	*(undefined4 *)(iVar1 + 0x70) = (int)param_2;
	*(undefined4 *)(iVar1 + 0x3c) = 0;
	GetProcessInformation((undefined)param_1, (char)(ZEXT48(register0x0000000c) - 0x80) + '8', param_3, param_4,
	    param_5, param_6, param_7, param_8, *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14));
	return param_2;
}

undefined8
FUN_100bbc40(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	short sVar3;
	undefined8 uVar2;

	iVar1 = (int)(ZEXT48(register0x0000000c) - 0x80);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	*(undefined4 *)(iVar1 + 0x38) = 0x3c;
	*(undefined4 *)(iVar1 + 0x3c) = 0;
	*(undefined4 *)(iVar1 + 0x70) = 0;
	sVar3 = GetProcessInformation(param_1, (char)(ZEXT48(register0x0000000c) - 0x80) + '8', param_3, param_4, param_5, param_6, param_7, param_8, *(undefined *)(iVar1 + 0xb),
	    *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14));
	if (((sVar3 == 0) && (*(int *)(iVar1 + 0x4c) == 0x4d414353)) && (*(int *)(iVar1 + 0x48) == 0x464e4452)) {
		uVar2 = 1;
	} else {
		uVar2 = 0;
	}
	return uVar2;
}

undefined8
FUN_100bbcb0(undefined8 param_1, undefined param_2, undefined8 param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9, undefined param_10, undefined1 param_11)

{
	int iVar1;
	short sVar2;
	undefined8 uVar3;

	iVar1 = (int)(ZEXT48(register0x0000000c) - 0x80);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	*(undefined4 *)(iVar1 + 0x38) = 0x3c;
	*(undefined4 *)(iVar1 + 0x3c) = 0;
	*(undefined *)(iVar1 + 0x9f) = param_2;
	*(undefined4 *)(iVar1 + 0x70) = 0;
	sVar2 = GetProcessInformation((undefined)param_1, (char)(ZEXT48(register0x0000000c) - 0x80) + '8',
	    (char)param_3, param_4, param_5, param_6, param_7, param_8,
	    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
	    *(undefined4 *)(iVar1 + 0x14));
	uVar3 = 0;
	if ((sVar2 == 0) && (uVar3 = param_3, (*(uint *)(iVar1 + 0x50) & 0x400) == 0)) {
		uVar3 = 1;
	}
	return uVar3;
}

undefined8 FUN_100bc24c(void)

{
	undefined8 uVar1;
	ushort *in_r6;

	if (*in_r6 < 0x18) {
		// WARNING: Could not recover jumptable at 0x100bc290. Too many branches
		// WARNING: Treating indirect jump as call
		uVar1 = (**(code **)(PTR_PTR_LAB_100f3a64 + (uint)*in_r6 * 4))();
		return uVar1;
	}
	return 0;
}

void FUN_100bcc48(longlong param_1, undefined4 param_2, int param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;
	undefined in_stack_ffffffcf;
	undefined4 in_stack_ffffffd8;

	if ((param_1 != 0) && (param_3 != 0)) {
		*(undefined2 *)(param_3 + 0x1a) = 0;
		*(undefined4 *)(param_3 + 0x1c) = 0;
		*(undefined4 *)(param_3 + 0x20) = param_2;
		FUN_100bc580((int)param_1, param_3, (char)param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8, in_stack_ffffffcf, in_stack_ffffffd8);
		FUN_100bc850((int)param_1, param_3, '\x01', param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	}
	return;
}

void FUN_100bccb4(int param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	if ((param_1 != 0) && (param_2 != 0)) {
		FUN_100bcb18(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return;
}

void FUN_100bceb8(ulonglong param_1, ulonglong param_2, int param_3, short *param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	FUN_100bcce4(param_1, param_2, param_3, param_4, 0, 0, param_7, param_8, in_stack_ffffffc8);
	return;
}

undefined8
FUN_100bcee0(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	short sVar2;
	undefined8 uVar3;

	uVar3 = 0;
	iVar1 = (int)(ZEXT48(register0x0000000c) - 0x50);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	sVar2 = Gestalt(0x70, (char)(ZEXT48(register0x0000000c) - 0x50) + '8', param_3, param_4, param_5,
	    param_6, param_7, param_8, *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
	    *(undefined4 *)(iVar1 + 0x14));
	if ((sVar2 == 0) && ((*(uint *)(iVar1 + 0x38) & 1) != 0)) {
		uVar3 = 1;
	}
	return uVar3;
}

void FUN_100bcf38(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	uint uVar2;
	undefined4 in_stack_ffffffc8;
	undefined uVar3;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	uVar3 = (undefined)in_stack_ffffffc8;
	uVar1 = FUN_100bcee0(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	if ((uVar1 & 0xff) != 0) {
		uVar2 = HMGetBalloons((char)uVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, uVar3,
		    in_stack_ffffffcf, local_2c);
		if ((uVar2 & 0xff) != 0) {
			uVar2 = HMIsBalloon((char)uVar2, param_2, param_3, param_4, param_5, param_6, param_7, param_8, uVar3,
			    in_stack_ffffffcf, local_2c);
			if ((uVar2 & 0xff) != 0) {
				HMRemoveBalloon((char)uVar2, param_2, param_3, param_4, param_5, param_6, param_7, param_8, uVar3,
				    in_stack_ffffffcf, local_2c);
			}
			HMSetBalloons(0, param_2, param_3, param_4, param_5, param_6, param_7, param_8, uVar3,
			    in_stack_ffffffcf, local_2c);
		}
	}
	return;
}

ulonglong FUN_100bcf94(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined8 uVar1;
	ulonglong uVar2;
	uint uVar3;
	short sVar4;
	ulonglong uVar5;
	undefined4 in_stack_ffffffc8;
	undefined uVar6;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	uVar6 = (undefined)in_stack_ffffffc8;
	uVar5 = 0;
	uVar2 = FUN_100bcee0(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	if ((uVar2 & 0xff) != 0) {
		uVar3 = HMGetBalloons((char)uVar2, param_2, param_3, param_4, param_5, param_6, param_7, param_8, uVar6,
		    in_stack_ffffffcf, local_2c);
		if ((uVar3 & 0xff) == 0) {
			sVar4 = HMSetBalloons(1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, uVar6,
			    in_stack_ffffffcf, local_2c);
			uVar1 = countLeadingZeros(-(int)sVar4);
			uVar5 = (ulonglong)((uint)uVar1 >> 5 & 0xff);
		} else {
			uVar3 = HMIsBalloon((char)uVar3, param_2, param_3, param_4, param_5, param_6, param_7, param_8, uVar6,
			    in_stack_ffffffcf, local_2c);
			if ((uVar3 & 0xff) != 0) {
				HMRemoveBalloon((char)uVar3, param_2, param_3, param_4, param_5, param_6, param_7, param_8, uVar6,
				    in_stack_ffffffcf, local_2c);
			}
			HMSetBalloons(0, param_2, param_3, param_4, param_5, param_6, param_7, param_8, uVar6,
			    in_stack_ffffffcf, local_2c);
		}
	}
	return uVar5;
}

void FUN_100bd020(int param_1, undefined8 param_2, int param_3, int param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	char cVar1;
	char cVar2;
	undefined uVar6;
	short sVar5;
	int *piVar3;
	int iVar4;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	uint uVar10;
	undefined in_stack_ffffffab;
	undefined in_stack_ffffffaf;
	undefined4 local_4c;
	undefined4 local_22;
	undefined4 local_1e;
	short local_1a;
	short sStack24;
	short local_16;
	short sStack20;

	uVar9 = (undefined)param_4;
	uVar8 = (undefined)param_3;
	if (param_1 != 0) {
		if (param_4 == 0) {
			if (param_3 == 0) {
				param_3 = GetMainDevice((char)param_1, (char)param_2, uVar8, uVar9, param_5, param_6, param_7,
				    param_8, in_stack_ffffffab, in_stack_ffffffaf, local_4c);
			}
			iVar4 = *(int *)param_3;
			uVar7 = (undefined)iVar4;
			local_22 = *(undefined4 *)(iVar4 + 0x22);
			uVar6 = (undefined)local_22;
			local_1e = *(undefined4 *)(iVar4 + 0x26);
		} else {
			iVar4 = **(int **)(param_4 + 0x76);
			uVar7 = (undefined)iVar4;
			local_22 = *(undefined4 *)(iVar4 + 2);
			uVar6 = (undefined)local_22;
			local_1e = *(undefined4 *)(iVar4 + 6);
		}
		sVar5 = GetMBarHeight(uVar6, uVar7, uVar8, uVar9, param_5, param_6, param_7, param_8, in_stack_ffffffab,
		    in_stack_ffffffaf, local_4c);
		piVar3 = (int *)GetMainDevice((char)sVar5, uVar7, uVar8, uVar9, param_5, param_6, param_7, param_8,
		    in_stack_ffffffab, in_stack_ffffffaf, local_4c);
		if ((int *)param_3 != piVar3) {
			sVar5 = 0;
		}
		sStack24 = (short)*(undefined4 *)(param_1 + 0x10);
		sStack20 = (short)*(undefined4 *)(param_1 + 0x14);
		local_1a = (short)((uint) * (undefined4 *)(param_1 + 0x10) >> 0x10);
		local_16 = (short)((uint) * (undefined4 *)(param_1 + 0x14) >> 0x10);
		uVar10 = ((int)local_1e._2_2_ - (int)local_22._2_2_) - ((int)sStack20 - (int)sStack24);
		cVar1 = (char)((int)uVar10 >> 1) + ((int)uVar10 < 0 && (uVar10 & 1) != 0);
		if ((char)param_2 == '\0') {
			iVar4 = 2;
		} else {
			iVar4 = 5;
		}
		cVar2 = (char)((int)(short)(((local_1e._0_2_ - local_22._0_2_) - sVar5) - (local_16 - local_1a))
		            / iVar4)
		    + (char)sVar5;
		MoveWindow((char)param_1, (char)local_22 + cVar1, (char)((uint)local_22 >> 0x10) + cVar2 + '\v', 0,
		    (char)local_22, cVar2, cVar1, param_8, in_stack_ffffffab, in_stack_ffffffaf, local_4c);
	}
	return;
}

void FUN_100bd16c(char **param_1, uint *param_2, int param_3, undefined8 param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	if (((param_1 != (char **)0x0) && (param_2 != (uint *)0x0)) && (param_3 != 0)) {
		while (**param_1 != '\0') {
			FUN_100dbf44(*param_1, (ulonglong)*param_2, param_4);
			param_1 = param_1 + 1;
			param_2 = param_2 + 1;
		}
	}
	return;
}

void FUN_100bd2f4(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined uVar2;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined **local_2c;

	ppuVar1 = &toc;
	uVar2 = (undefined)_DAT_100f3ac0;
	if (_DAT_100f45e8 != 0) {
		ppuVar1 = local_2c;
		SMemFree((char)_DAT_100f45e8, uVar2, 0x8b, 0, param_5, param_6, param_7, param_8, in_stack_ffffffcb,
		    in_stack_ffffffcf, local_2c);
		ppuVar1[-0x127a] = (undefined *)0x0;
		local_2c = ppuVar1;
	}
	if (ppuVar1[-0x127b] != (undefined *)0x0) {
		SMemFree((char)ppuVar1[-0x127b], uVar2, 0x8f, 0, param_5, param_6, param_7, param_8, in_stack_ffffffcb,
		    in_stack_ffffffcf, local_2c);
		local_2c[-0x127b] = (undefined *)0x0;
	}
	return;
}

void FUN_100bd800(undefined8 param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	FUN_100bd16c(_DAT_100f4614, _DAT_100f4610, (int)PTR_PTR_LAB_100f3ab0, param_1, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_100bde24(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined **ppuVar2;
	undefined **ppuVar3;
	undefined uVar4;
	undefined4 in_stack_ffffffc8;
	undefined uVar5;
	undefined in_stack_ffffffcf;
	undefined **local_2c;

	ppuVar3 = &toc;
	uVar4 = FUN_100be890(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	uVar5 = (undefined)in_stack_ffffffc8;
	FUN_100bd2f4(uVar4, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	ppuVar1 = ppuVar3 + -0x1274;
	if (*ppuVar1 != (undefined *)0x0) {
		ppuVar3 = local_2c;
		DeleteObject((char)*ppuVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, uVar5,
		    in_stack_ffffffcf, local_2c);
		local_2c = ppuVar3;
	}
	ppuVar1 = ppuVar3 + -0x1275;
	ppuVar3[-0x1274] = (undefined *)0x0;
	if (*ppuVar1 != (undefined *)0x0) {
		ppuVar3 = local_2c;
		DeleteObject((char)*ppuVar1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, uVar5,
		    in_stack_ffffffcf, local_2c);
		local_2c = ppuVar3;
	}
	ppuVar1 = ppuVar3 + -0x1276;
	ppuVar3[-0x1275] = (undefined *)0x0;
	if (*ppuVar1 != (undefined *)0x0) {
		ppuVar2 = ppuVar3 + -0x1544;
		ppuVar3 = local_2c;
		SMemFree((char)*ppuVar1, (char)*ppuVar2, 0x20, 0, param_5, param_6, param_7, param_8, uVar5,
		    in_stack_ffffffcf, local_2c);
	}
	ppuVar3[-0x1276] = (undefined *)0x0;
	return;
}

void FUN_100be698(void)

{
	_DAT_100f4618 = _DAT_100f45d8;
	return;
}

undefined8
FUN_100be794(int param_1, undefined param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int iVar1;
	char cVar2;
	undefined8 uVar3;
	longlong lVar4;
	int iVar7;
	ulonglong uVar5;
	longlong lVar6;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;

	iVar1 = (int)(ZEXT48(register0x0000000c) - 0xc0);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	if (param_1 == 0) {
		uVar3 = 0;
	} else {
		uVar8 = 0;
		uVar10 = 0;
		lVar4 = SendMessage((char)param_1, 0x31, 0, 0, param_5, param_6, param_7, param_8,
		    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
		    *(undefined4 *)(iVar1 + 0x14));
		if (lVar4 == 0) {
			uVar3 = 0;
		} else {
			cVar2 = (char)(ZEXT48(register0x0000000c) - 0xc0);
			memset(cVar2 + 't', 0x3c, uVar8, uVar10, param_5, param_6, param_7, param_8,
			    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
			    *(undefined4 *)(iVar1 + 0x14));
			uVar9 = 0xb4;
			uVar8 = 0x3c;
			iVar7 = GetObject((char)lVar4, 0x3c, 0xb4, uVar10, param_5, param_6, param_7, param_8,
			    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
			    *(undefined4 *)(iVar1 + 0x14));
			if (iVar7 != 0) {
				uVar5 = CreateFontIndirect(cVar2 + 't', uVar8, uVar9, uVar10, param_5, param_6, param_7, param_8,
				    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
				    *(undefined4 *)(iVar1 + 0x14));
				iVar7 = *(int *)(iVar1 + 0x14);
				if ((uVar5 & 0xffffffff) != 0) {
					*(undefined4 *)(iVar7 + -0x49a4) = (int)uVar5;
					lVar6 = FUN_100be6a4((char)uVar5, uVar8, uVar9, uVar10, param_5, param_6, param_7, param_8,
					    *(undefined4 *)(iVar1 + 8));
					*(undefined4 *)(iVar7 + -0x49ac) = (int)lVar6;
				}
			}
			memset(cVar2 + '8', 0x3c, uVar9, uVar10, param_5, param_6, param_7, param_8,
			    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
			    *(undefined4 *)(iVar1 + 0x14));
			uVar9 = 0x78;
			uVar8 = 0x3c;
			iVar7 = GetObject((char)lVar4, 0x3c, 0x78, uVar10, param_5, param_6, param_7, param_8,
			    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
			    *(undefined4 *)(iVar1 + 0x14));
			if (iVar7 != 0) {
				*(undefined *)(iVar1 + 0x4d) = 1;
				uVar5 = CreateFontIndirect(cVar2 + '8', uVar8, uVar9, uVar10, param_5, param_6, param_7, param_8,
				    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
				    *(undefined4 *)(iVar1 + 0x14));
				iVar7 = *(int *)(iVar1 + 0x14);
				if ((uVar5 & 0xffffffff) != 0) {
					*(undefined4 *)(iVar7 + -0x49a8) = (int)uVar5;
					lVar4 = FUN_100be6a4((char)uVar5, uVar8, uVar9, uVar10, param_5, param_6, param_7, param_8,
					    *(undefined4 *)(iVar1 + 8));
					*(undefined4 *)(iVar7 + -0x49b0) = (int)lVar4;
				}
			}
			uVar3 = 1;
		}
	}
	return uVar3;
}

void FUN_100be890(undefined param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	uint *puVar2;
	undefined **ppuVar3;
	ulonglong uVar4;
	ulonglong uVar5;
	longlong lVar6;
	undefined uVar7;
	longlong lVar8;
	undefined uVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined **local_3c;

	puVar2 = _DAT_100f3aec;
	iVar1 = _DAT_100f3ae8;
	lVar13 = (longlong)param_8;
	lVar12 = (longlong)param_7;
	lVar11 = (longlong)param_6;
	lVar10 = (longlong)param_5;
	lVar8 = (longlong)param_4;
	lVar6 = (longlong)param_3;
	ppuVar3 = &toc;
	if (_DAT_100f462c != 0) {
		ppuVar3 = local_3c;
		DeleteObject((char)_DAT_100f462c, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
		ppuVar3[-0x1269] = (undefined *)0x0;
		local_3c = ppuVar3;
	}
	if (ppuVar3[-0x126a] != (undefined *)0x0) {
		DeleteObject((char)ppuVar3[-0x126a], param_2, (char)lVar6, (char)lVar8, (char)lVar10, (char)lVar11,
		    (char)lVar12, (char)lVar13, (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
		local_3c[-0x126a] = (undefined *)0x0;
	}
	while (true) {
		uVar9 = (undefined)lVar8;
		uVar7 = (undefined)lVar6;
		uVar5 = FUN_100be944(iVar1);
		if (uVar5 == 0)
			break;
		FUN_100be960((int *)uVar5, -1, uVar7, uVar9, (char)lVar10, (char)lVar11, (char)lVar12, (char)lVar13,
		    in_stack_ffffffb8);
		uVar4 = FUN_100be958(puVar2);
		lVar6 = -2;
		lVar8 = 0;
		SMemFree((char)uVar5, (char)uVar4, 0xfe, 0, (char)lVar10, (char)lVar11, (char)lVar12, (char)lVar13,
		    (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
	}
	return;
}

ulonglong FUN_100be944(int param_1)

{
	if (0 < (int)*(uint *)(param_1 + 8)) {
		return (ulonglong) * (uint *)(param_1 + 8);
	}
	return 0;
}

ulonglong FUN_100be958(uint *param_1)

{
	return (ulonglong)*param_1;
}

int *FUN_100be960(int *param_1, short param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int iVar1;
	uint uVar2;
	ulonglong uVar3;
	int *piVar4;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	uVar3 = SEXT48((int)param_1);
	if (uVar3 != 0) {
		if (uVar3 != 0) {
			iVar1 = *param_1;
			param_3 = (undefined)iVar1;
			if (iVar1 != 0) {
				uVar2 = param_1[1];
				if ((int)uVar2 < 1) {
					piVar4 = (int *)~uVar2;
				} else {
					piVar4 = (int *)((int)param_1 + (uVar2 - *(int *)(iVar1 + 4)));
				}
				*piVar4 = iVar1;
				param_3 = (undefined)param_1[1];
				*(int *)(*param_1 + 4) = param_1[1];
				*param_1 = 0;
				param_1[1] = 0;
			}
			if ((uVar3 & 0xffffffff) != 0) {
				iVar1 = *param_1;
				param_3 = (undefined)iVar1;
				if (iVar1 != 0) {
					uVar2 = param_1[1];
					if ((int)uVar2 < 1) {
						piVar4 = (int *)~uVar2;
					} else {
						piVar4 = (int *)((int)param_1 + (uVar2 - *(int *)(iVar1 + 4)));
					}
					*piVar4 = iVar1;
					param_3 = (undefined)param_1[1];
					*(int *)(*param_1 + 4) = param_1[1];
					*param_1 = 0;
					param_1[1] = 0;
				}
			}
		}
		if (0 < param_2) {
			__dl((char)param_1, (char)param_2, param_3, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
		}
	}
	return param_1;
}

longlong FUN_100bea40(int *param_1, int **param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int *piVar1;
	int *piVar2;
	ulonglong uVar3;
	undefined8 uVar4;
	longlong lVar5;
	int **ppiVar6;
	undefined4 in_stack_ffffffb8;
	undefined uVar7;
	undefined in_stack_ffffffbf;
	int local_3c;
	int iVar8;

	uVar3 = FUN_100be958(_DAT_100f3aec);
	uVar4 = SMemAlloc(0x60, (char)uVar3, 0xfe, 8, param_5, param_6, param_7, param_8, (char)in_stack_ffffffb8,
	    in_stack_ffffffbf, local_3c);
	iVar8 = local_3c;
	lVar5 = FUN_100bec88(0x60, uVar4);
	if (lVar5 != 0) {
		lVar5 = FUN_100bec78((undefined4 *)lVar5);
	}
	uVar7 = (undefined)in_stack_ffffffb8;
	ppiVar6 = (int **)lVar5;
	FUN_100beb24(*(int ***)(local_3c + -0x54e8), ppiVar6, 2, (int **)0x0, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	ppiVar6[2] = param_1;
	piVar1 = param_2[1];
	ppiVar6[3] = *param_2;
	ppiVar6[4] = piVar1;
	piVar1 = param_2[2];
	piVar2 = param_2[3];
	ppiVar6[5] = piVar1;
	ppiVar6[6] = piVar2;
	ppiVar6[7] = (int *)0x0;
	ppiVar6[8] = (int *)0x0;
	GetTextMetrics((char)param_1, (char)lVar5 + '$', (char)piVar2, (char)piVar1, param_5, param_6, param_7,
	    param_8, uVar7, in_stack_ffffffbf, iVar8);
	ppiVar6[0x17] = (int *)((int)ppiVar6[9] + (int)ppiVar6[0xd]);
	return lVar5;
}

void FUN_100beb24(int **param_1, int **param_2, int param_3, int **param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int *piVar1;
	int *piVar2;
	undefined uVar3;
	int **ppiVar4;
	undefined in_stack_ffffffab;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	ppiVar4 = param_2;
	if (param_2 == (int **)0x0) {
		ppiVar4 = param_1 + 1;
	}
	piVar1 = *ppiVar4;
	uVar3 = SUB41(piVar1, 0);
	if ((piVar1 != (int *)0x0) && (piVar1 != (int *)0x0)) {
		piVar2 = ppiVar4[1];
		if ((int)piVar2 < 1) {
			piVar2 = (int *)~(uint)piVar2;
		} else {
			piVar2 = (int *)((int)((int)ppiVar4 - piVar1[1]) + (int)piVar2);
		}
		*(int **)piVar2 = piVar1;
		uVar3 = SUB41(ppiVar4[1], 0);
		param_5 = SUB41(*ppiVar4, 0);
		*(int **)(*ppiVar4 + 1) = ppiVar4[1];
		*ppiVar4 = (int *)0x0;
		ppiVar4[1] = (int *)0x0;
	}
	if (param_4 == (int **)0x0) {
		param_4 = param_1 + 1;
	} else {
		if (param_4 == (int **)0x0) {
			param_4 = param_1 + 1;
		}
	}
	if (param_3 == 2) {
		piVar1 = *param_4;
		*ppiVar4 = piVar1;
		ppiVar4[1] = (int *)piVar1[1];
		*(int ***)(piVar1 + 1) = param_2;
		*(int ***)param_4 = ppiVar4;
	} else {
		if ((param_3 < 2) && (0 < param_3)) {
			*(int ***)ppiVar4 = param_4;
			ppiVar4[1] = param_4[1];
			piVar1 = param_4[1];
			param_1 = (int **)*param_1;
			if ((int)piVar1 < 1) {
				param_1 = (int **)~(uint)piVar1;
			} else {
				if ((int)param_1 < 0) {
					param_1 = (int **)((int)param_4 - (*param_4)[1]);
				}
				param_1 = (int **)((int)param_1 + (int)piVar1);
			}
			*(int ***)param_1 = ppiVar4;
			*(int ***)(param_4 + 1) = param_2;
		} else {
			FUN_100bec54((char)_DAT_100f3ae4, (char)_DAT_100f3ae0, (char)param_3, (char)param_4, param_5, uVar3, (char)ppiVar4, param_8, in_stack_ffffffab, in_stack_ffffffaf, in_stack_ffffffb8,
			    in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4, in_stack_ffffffc8,
			    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
		}
	}
	return;
}

void FUN_100bec54(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined param_9, undefined param_10, undefined4 param_11, undefined4 param_12,
    undefined4 param_13, undefined4 param_14, undefined4 param_15, undefined4 param_16,
    undefined4 param_17, undefined4 param_18)

{
	return;
}

void FUN_100bec78(undefined4 *param_1)

{
	*param_1 = 0;
	param_1[1] = 0;
	return;
}

undefined8 FUN_100bec88(undefined8 param_1, undefined8 param_2)

{
	return param_2;
}

// WARNING: Removing unreachable block (ram,0x100bee10)
// WARNING: Removing unreachable block (ram,0x100bee18)
// WARNING: Removing unreachable block (ram,0x100bee2c)
// WARNING: Removing unreachable block (ram,0x100bee34)
// WARNING: Removing unreachable block (ram,0x100bee44)
// WARNING: Removing unreachable block (ram,0x100bee58)
// WARNING: Removing unreachable block (ram,0x100bee64)
// WARNING: Removing unreachable block (ram,0x100bee80)
// WARNING: Removing unreachable block (ram,0x100bee74)
// WARNING: Removing unreachable block (ram,0x100bee4c)
// WARNING: Removing unreachable block (ram,0x100bee24)
// WARNING: Removing unreachable block (ram,0x100bee84)
// WARNING: Removing unreachable block (ram,0x100bee98)
// WARNING: Removing unreachable block (ram,0x100beea8)
// WARNING: Removing unreachable block (ram,0x100beeb4)
// WARNING: Removing unreachable block (ram,0x100beebc)
// WARNING: Removing unreachable block (ram,0x100beec4)
// WARNING: Removing unreachable block (ram,0x100beee4)
// WARNING: Removing unreachable block (ram,0x100beecc)
// WARNING: Removing unreachable block (ram,0x100beedc)
// WARNING: Removing unreachable block (ram,0x100bef0c)
// WARNING: Removing unreachable block (ram,0x100bef2c)
// WARNING: Removing unreachable block (ram,0x100bef44)
// WARNING: Removing unreachable block (ram,0x100bef48)
// WARNING: Removing unreachable block (ram,0x100bef60)
// WARNING: Removing unreachable block (ram,0x100bef64)
// WARNING: Removing unreachable block (ram,0x100bef80)
// WARNING: Removing unreachable block (ram,0x100befb8)
// WARNING: Removing unreachable block (ram,0x100befc4)
// WARNING: Removing unreachable block (ram,0x100befcc)
// WARNING: Removing unreachable block (ram,0x100bef90)
// WARNING: Removing unreachable block (ram,0x100befe4)

undefined8
FUN_100bec90(int param_1, short *param_2, uint param_3, int *param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	undefined *puVar1;
	undefined *puVar2;
	undefined **ppuVar3;
	undefined8 uVar4;
	int iVar5;
	undefined uVar6;
	longlong lVar7;
	undefined uVar8;
	ulonglong uVar9;
	ulonglong uVar10;
	undefined uVar11;
	longlong lVar12;
	undefined uVar13;
	longlong lVar14;
	undefined uVar15;
	longlong lVar16;
	undefined uVar17;
	longlong lVar18;
	undefined uVar19;
	longlong lVar20;
	ulonglong uVar21;
	longlong lVar22;
	undefined in_stack_ffffff8b;
	undefined in_stack_ffffff8f;
	undefined **local_6c;

	lVar18 = (longlong)param_8;
	lVar16 = (longlong)param_7;
	lVar14 = (longlong)param_6;
	lVar12 = (longlong)param_5;
	uVar9 = SEXT48((int)param_4);
	lVar7 = (longlong)(int)param_3;
	lVar20 = (longlong)(int)param_2;
	ppuVar3 = &toc;
	if (param_1 == 0) {
		uVar4 = 0;
	} else {
		uVar10 = uVar9;
		iVar5 = strlen((uint)param_2);
		lVar22 = (longlong)iVar5;
		if ((uVar9 & 0xffffffff) != 0) {
			ppuVar3 = local_6c;
			memset((char)param_4, 0x10, (char)lVar7, (char)uVar10, (char)lVar12, (char)lVar14, (char)lVar16,
			    (char)lVar18, in_stack_ffffff8b, in_stack_ffffff8f, local_6c);
			local_6c = ppuVar3;
		}
		uVar21 = 0;
		if ((param_3 & 2) == 0) {
			puVar1 = ppuVar3[-0x1269];
			puVar2 = ppuVar3[-0x126b];
			uVar6 = SetTextColor((char)*(undefined4 *)(param_1 + 8), 0xff, (char)lVar7, (char)uVar10,
			    (char)lVar12, (char)lVar14, (char)lVar16, (char)lVar18, in_stack_ffffff8b,
			    in_stack_ffffff8f, local_6c);
		} else {
			puVar1 = ppuVar3[-0x126a];
			puVar2 = ppuVar3[-0x126c];
			uVar6 = SetTextColor((char)*(undefined4 *)(param_1 + 8), 0, (char)lVar7, (char)uVar10,
			    (char)lVar12, (char)lVar14, (char)lVar16, (char)lVar18, in_stack_ffffff8b,
			    in_stack_ffffff8f, local_6c);
		}
		if (puVar1 != (undefined *)0x0) {
			uVar21 = SelectObject((char)*(undefined4 *)(param_1 + 8), (char)puVar1, (char)lVar7, (char)uVar10, (char)lVar12, (char)lVar14, (char)lVar16, (char)lVar18, in_stack_ffffff8b,
			    in_stack_ffffff8f, local_6c);
		}
		if ((uVar9 & 0xffffffff) != 0) {
			*param_4 = *(int *)(param_1 + 0x1c);
			param_4[1] = *(int *)(param_1 + 0x20);
		}
		do {
			while (true) {
				uVar19 = (undefined)lVar18;
				uVar17 = (undefined)lVar16;
				uVar15 = (undefined)lVar14;
				uVar13 = (undefined)lVar12;
				uVar11 = (undefined)uVar10;
				uVar8 = (undefined)lVar7;
				iVar5 = (int)lVar22;
				if ((iVar5 < 1) || (*(short *)lVar20 != 0xd0a))
					break;
				lVar22 = lVar22 + -2;
				*(undefined4 *)(param_1 + 0x1c) = 0;
				lVar20 = lVar20 + 2;
				*(int *)(param_1 + 0x20) = *(int *)(param_1 + 0x20) + *(int *)(param_1 + 0x5c);
			}
			if (iVar5 == 0)
				break;
			lVar12 = -0x38;
			lVar16 = -0x40;
			lVar14 = 0;
			lVar18 = ZEXT48(puVar2) + (ulonglong) * (uint *)(param_1 + 0x1c);
			uVar10 = (((ulonglong) * (uint *)(param_1 + 0x14) - (ulonglong) * (uint *)(param_1 + 0xc)) + 1) - lVar18;
			lVar7 = lVar22;
			GetTextExtentExPointA((char)*(undefined4 *)(param_1 + 8), (char)lVar20, (char)lVar22, (char)uVar10, 200, 0,
			    0xc0, (char)lVar18, in_stack_ffffff8b, in_stack_ffffff8f, local_6c);
			*(undefined4 *)(param_1 + 0x1c) = 0;
			*(int *)(param_1 + 0x20) = *(int *)(param_1 + 0x20) + *(int *)(param_1 + 0x5c);
			uVar19 = (undefined)lVar18;
			uVar17 = (undefined)lVar16;
			uVar15 = (undefined)lVar14;
			uVar13 = (undefined)lVar12;
			uVar11 = (undefined)uVar10;
			uVar8 = (undefined)lVar7;
		} while (0 < iVar5);
		if (((*(int *)(param_1 + 0x14) - *(int *)(param_1 + 0xc)) + 1) - (int)puVar2 < *(int *)(param_1 + 0x1c)) {
			*(undefined4 *)(param_1 + 0x1c) = 0;
			*(int *)(param_1 + 0x20) = *(int *)(param_1 + 0x20) + *(int *)(param_1 + 0x5c);
		}
		if ((uVar21 & 0xffffffff) != 0) {
			SelectObject((char)*(undefined4 *)(param_1 + 8), (char)uVar21, uVar8, uVar11, uVar13, uVar15, uVar17, uVar19, in_stack_ffffff8b, in_stack_ffffff8f, local_6c);
		}
		SetTextColor((char)*(undefined4 *)(param_1 + 8), uVar6, uVar8, uVar11, uVar13, uVar15, uVar17, uVar19,
		    in_stack_ffffff8b, in_stack_ffffff8f, local_6c);
		uVar4 = 1;
	}
	return uVar4;
}

ulonglong FUN_100bf070(int *param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	ulonglong uVar2;
	undefined4 in_stack_ffffffb8;
	undefined uVar3;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	ppuVar1 = &toc;
	if (param_1 != (int *)0x0) {
		FUN_100bf0e4(_DAT_100f3ae8, (int)param_1);
		uVar3 = (undefined)in_stack_ffffffb8;
		FUN_100be960(param_1, -1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
		uVar2 = FUN_100be958((uint *)ppuVar1[-0x1539]);
		SMemFree((char)param_1, (char)uVar2, 0xfe, 0, param_5, param_6, param_7, param_8, uVar3,
		    in_stack_ffffffbf, local_3c);
	}
	return (ulonglong)(param_1 != (int *)0x0);
}

ulonglong FUN_100bf0e4(int param_1, int param_2)

{
	if (param_2 == 0) {
		param_2 = param_1 + 4;
	}
	if ((int)*(uint *)(param_2 + 4) < 1) {
		return 0;
	}
	return (ulonglong) * (uint *)(param_2 + 4);
}

void FUN_100bf110(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined4 uVar2;
	undefined4 uVar3;
	undefined4 *puVar4;
	ulonglong uVar5;
	undefined4 in_stack_ffffffc8;

	puVar4 = _DAT_100f3ae8;
	uVar3 = _DAT_100f3adc;
	uVar2 = _DAT_100f213c;
	uVar5 = ZEXT48(_DAT_100f3ae8);
	uVar1 = (uint)(uVar5 + 4);
	_DAT_100f4630 = _DAT_100f461c;
	_DAT_100f3ae8[1] = 0;
	puVar4[2] = 0;
	*puVar4 = 0;
	*(uint *)uVar1 = uVar1;
	puVar4[2] = ~uVar1;
	FUN_1000058c((char)puVar4, (char)uVar2, (char)uVar3, 0, (char)puVar4, (char)(uVar5 + 4), param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_100bf280(uint param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	int iVar5;
	ulonglong uVar2;
	undefined8 uVar3;
	longlong lVar4;
	undefined uVar6;
	undefined4 in_stack_ffffffb8;
	undefined uVar7;
	undefined in_stack_ffffffbf;
	int local_3c;
	int iVar8;

	ppuVar1 = &toc;
	iVar5 = strlen(param_1);
	if ((longlong)iVar5 != 0) {
		if (((longlong)iVar5 + 1U & 0xffffffff) < 0x81) {
			uVar2 = FUN_100be958((uint *)ppuVar1[-0x1533]);
			uVar3 = SMemAlloc(0x88, (char)uVar2, 0xfe, 8, param_5, param_6, param_7, param_8,
			    (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
			iVar8 = local_3c;
			lVar4 = FUN_100bec88(0x88, uVar3);
			lVar4._4_4_ = (int **)lVar4;
			if (lVar4 != 0) {
				lVar4._4_4_ = (int **)FUN_100bf468(lVar4._4_4_);
			}
			uVar7 = (undefined)in_stack_ffffffb8;
			uVar6 = 0;
			FUN_100bf338(*(int ***)(local_3c + -0x54d0), lVar4._4_4_, 2, (int **)0x0, param_5, param_6, param_7,
			    param_8, in_stack_ffffffb8);
			memcpy((char)lVar4._4_4_ + '\b', (char)param_1, (char)iVar5 + '\x01', uVar6, param_5, param_6,
			    param_7, param_8, uVar7, in_stack_ffffffbf, iVar8);
		}
	}
	return;
}

void FUN_100bf338(int **param_1, int **param_2, int param_3, int **param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int *piVar1;
	int *piVar2;
	undefined uVar3;
	int **ppiVar4;
	undefined in_stack_ffffffab;
	undefined in_stack_ffffffaf;
	undefined4 in_stack_ffffffb8;
	undefined4 in_stack_ffffffbc;
	undefined4 in_stack_ffffffc0;
	undefined4 in_stack_ffffffc4;
	undefined4 in_stack_ffffffc8;
	undefined4 in_stack_ffffffcc;
	undefined4 in_stack_ffffffd0;
	undefined4 in_stack_ffffffd4;

	ppiVar4 = param_2;
	if (param_2 == (int **)0x0) {
		ppiVar4 = param_1 + 1;
	}
	piVar1 = *ppiVar4;
	uVar3 = SUB41(piVar1, 0);
	if ((piVar1 != (int *)0x0) && (piVar1 != (int *)0x0)) {
		piVar2 = ppiVar4[1];
		if ((int)piVar2 < 1) {
			piVar2 = (int *)~(uint)piVar2;
		} else {
			piVar2 = (int *)((int)((int)ppiVar4 - piVar1[1]) + (int)piVar2);
		}
		*(int **)piVar2 = piVar1;
		uVar3 = SUB41(ppiVar4[1], 0);
		param_5 = SUB41(*ppiVar4, 0);
		*(int **)(*ppiVar4 + 1) = ppiVar4[1];
		*ppiVar4 = (int *)0x0;
		ppiVar4[1] = (int *)0x0;
	}
	if (param_4 == (int **)0x0) {
		param_4 = param_1 + 1;
	} else {
		if (param_4 == (int **)0x0) {
			param_4 = param_1 + 1;
		}
	}
	if (param_3 == 2) {
		piVar1 = *param_4;
		*ppiVar4 = piVar1;
		ppiVar4[1] = (int *)piVar1[1];
		*(int ***)(piVar1 + 1) = param_2;
		*(int ***)param_4 = ppiVar4;
	} else {
		if ((param_3 < 2) && (0 < param_3)) {
			*(int ***)ppiVar4 = param_4;
			ppiVar4[1] = param_4[1];
			piVar1 = param_4[1];
			param_1 = (int **)*param_1;
			if ((int)piVar1 < 1) {
				param_1 = (int **)~(uint)piVar1;
			} else {
				if ((int)param_1 < 0) {
					param_1 = (int **)((int)param_4 - (*param_4)[1]);
				}
				param_1 = (int **)((int)param_1 + (int)piVar1);
			}
			*(int ***)param_1 = ppiVar4;
			*(int ***)(param_4 + 1) = param_2;
		} else {
			FUN_100bec54((char)_DAT_100f3afc, (char)_DAT_100f3af8, (char)param_3, (char)param_4, param_5, uVar3, (char)ppiVar4, param_8, in_stack_ffffffab, in_stack_ffffffaf, in_stack_ffffffb8,
			    in_stack_ffffffbc, in_stack_ffffffc0, in_stack_ffffffc4, in_stack_ffffffc8,
			    in_stack_ffffffcc, in_stack_ffffffd0, in_stack_ffffffd4);
		}
	}
	return;
}

void FUN_100bf468(undefined4 *param_1)

{
	*param_1 = 0;
	param_1[1] = 0;
	return;
}

void msgcmd_cmd_cleanup(undefined param_1, undefined param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	uint *puVar2;
	ulonglong uVar3;
	ulonglong uVar4;
	longlong lVar5;
	undefined uVar6;
	longlong lVar7;
	undefined uVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	puVar2 = _DAT_100f3b04;
	iVar1 = _DAT_100f3b00;
	lVar12 = (longlong)param_8;
	lVar11 = (longlong)param_7;
	lVar10 = (longlong)param_6;
	lVar9 = (longlong)param_5;
	lVar7 = (longlong)param_4;
	lVar5 = (longlong)param_3;
	while (true) {
		uVar8 = (undefined)lVar7;
		uVar6 = (undefined)lVar5;
		uVar4 = FUN_100bf4f4(iVar1);
		if (uVar4 == 0)
			break;
		FUN_100bf508((int *)uVar4, -1, uVar6, uVar8, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12,
		    in_stack_ffffffb8);
		uVar3 = FUN_100be958(puVar2);
		lVar5 = -2;
		lVar7 = 0;
		SMemFree((char)uVar4, (char)uVar3, 0xfe, 0, (char)lVar9, (char)lVar10, (char)lVar11, (char)lVar12,
		    (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
	}
	return;
}

ulonglong FUN_100bf4f4(int param_1)

{
	if (0 < (int)*(uint *)(param_1 + 8)) {
		return (ulonglong) * (uint *)(param_1 + 8);
	}
	return 0;
}

int *FUN_100bf508(int *param_1, short param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int iVar1;
	uint uVar2;
	ulonglong uVar3;
	int *piVar4;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	uVar3 = SEXT48((int)param_1);
	if (uVar3 != 0) {
		if (uVar3 != 0) {
			iVar1 = *param_1;
			param_3 = (undefined)iVar1;
			if (iVar1 != 0) {
				uVar2 = param_1[1];
				if ((int)uVar2 < 1) {
					piVar4 = (int *)~uVar2;
				} else {
					piVar4 = (int *)((int)param_1 + (uVar2 - *(int *)(iVar1 + 4)));
				}
				*piVar4 = iVar1;
				param_3 = (undefined)param_1[1];
				*(int *)(*param_1 + 4) = param_1[1];
				*param_1 = 0;
				param_1[1] = 0;
			}
			if ((uVar3 & 0xffffffff) != 0) {
				iVar1 = *param_1;
				param_3 = (undefined)iVar1;
				if (iVar1 != 0) {
					uVar2 = param_1[1];
					if ((int)uVar2 < 1) {
						piVar4 = (int *)~uVar2;
					} else {
						piVar4 = (int *)((int)param_1 + (uVar2 - *(int *)(iVar1 + 4)));
					}
					*piVar4 = iVar1;
					param_3 = (undefined)param_1[1];
					*(int *)(*param_1 + 4) = param_1[1];
					*param_1 = 0;
					param_1[1] = 0;
				}
			}
		}
		if (0 < param_2) {
			__dl((char)param_1, (char)param_2, param_3, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
		}
	}
	return param_1;
}

void msgcmd_send_chat(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	ulonglong uVar2;
	longlong lVar3;
	ulonglong uVar4;
	undefined4 in_stack_ffffffb8;
	undefined uVar5;
	undefined in_stack_ffffffbf;
	int local_3c;
	int iVar6;

	iVar1 = _DAT_100f3b00;
	uVar2 = (ulonglong) * (uint *)(_DAT_100f3b00 + 8);
	if ((int)*(uint *)(_DAT_100f3b00 + 8) < 1) {
		uVar2 = 0;
	}
	if (uVar2 != 0) {
		if (DAT_100f4638 == '\0') {
			param_1 = 0;
			_DAT_100f463c = 0;
			DAT_100f4638 = '\x01';
		}
		lVar3 = GetTickCount(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
		if (1999 < (lVar3 - (ulonglong) * (uint *)(local_3c + -0x4994) & 0xffffffff)) {
			*(undefined4 *)(local_3c + -0x4994) = (int)lVar3;
			SNetSendServerChatCommand((char)uVar2 + '\b', param_2, param_3, param_4, param_5, param_6, param_7, param_8,
			    (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
			iVar6 = local_3c;
			FUN_100bf6b0(iVar1, (int)(int *)uVar2);
			uVar5 = (undefined)in_stack_ffffffb8;
			FUN_100bf508((int *)uVar2, -1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
			uVar4 = FUN_100be958(*(uint **)(local_3c + -0x54cc));
			SMemFree((char)uVar2, (char)uVar4, 0xfe, 0, param_5, param_6, param_7, param_8, uVar5,
			    in_stack_ffffffbf, iVar6);
		}
	}
	return;
}

ulonglong FUN_100bf6b0(int param_1, int param_2)

{
	if (param_2 == 0) {
		param_2 = param_1 + 4;
	}
	if ((int)*(uint *)(param_2 + 4) < 1) {
		return 0;
	}
	return (ulonglong) * (uint *)(param_2 + 4);
}

undefined8
msgcmd_add_server_cmd_W(byte *param_1, char param_2, char param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	byte bVar1;
	undefined8 uVar2;
	int iVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	undefined8 unaff_r27;
	uint uVar11;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined *puVar12;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	byte *pbVar13;
	undefined4 in_stack_ffffff38;
	undefined local_98[132];
	undefined4 local_14;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	lVar10 = (longlong)param_8;
	lVar9 = (longlong)param_7;
	lVar8 = (longlong)param_6;
	lVar7 = (longlong)param_5;
	lVar6 = (longlong)param_4;
	lVar5 = (longlong)param_3;
	lVar4 = (longlong)param_2;
	local_14 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	if (*param_1 == 0x2f) {
		puVar12 = local_98;
		uVar11 = 0;
		pbVar13 = param_1;
		while (iVar3 = strlen((uint)param_1), uVar11 < iVar3 + 1U) {
			bVar1 = *pbVar13;
			uVar11 = uVar11 + 1;
			pbVar13 = pbVar13 + 1;
			*puVar12 = (&DAT_100f64e8)[(uint)bVar1];
			puVar12 = puVar12 + 1;
		}
		FUN_100bf280((uint)local_98, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7, (char)lVar8,
		    (char)lVar9, (char)lVar10, in_stack_ffffff38);
		uVar2 = 1;
	} else {
		uVar2 = 0;
	}
	return uVar2;
}

void FUN_100bf764(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	undefined4 uVar2;
	undefined4 uVar3;
	undefined4 *puVar4;
	ulonglong uVar5;
	undefined4 in_stack_ffffffc8;

	puVar4 = _DAT_100f3b00;
	uVar3 = _DAT_100f3af4;
	uVar2 = _DAT_100f2140;
	uVar5 = ZEXT48(_DAT_100f3b00);
	uVar1 = (uint)(uVar5 + 4);
	_DAT_100f4640 = _DAT_100f4634;
	_DAT_100f3b00[1] = 0;
	puVar4[2] = 0;
	*puVar4 = 0;
	*(uint *)uVar1 = uVar1;
	puVar4[2] = ~uVar1;
	FUN_1000058c((char)puVar4, (char)uVar2, (char)uVar3, 0, (char)puVar4, (char)(uVar5 + 4), param_7, param_8, in_stack_ffffffc8);
	return;
}

undefined8
FUN_100bf8d4(undefined8 param_1, undefined8 param_2, undefined4 *param_3, undefined4 *param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 uVar1;
	int iVar2;
	char cVar3;
	undefined8 uVar4;
	undefined uVar5;
	undefined uVar6;

	uVar6 = SUB41(param_4, 0);
	uVar5 = SUB41(param_3, 0);
	iVar2 = (int)(ZEXT48(register0x0000000c) - 0x90);
	*(BADSPACEBASE **)iVar2 = register0x0000000c;
	cVar3 = (char)(ZEXT48(register0x0000000c) - 0x90);
	uVar4 = GetCurrentProcess(cVar3 + '8', (char)param_2, uVar5, uVar6, param_5, param_6, param_7, param_8,
	    *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf),
	    *(undefined4 *)(iVar2 + 0x14));
	if ((short)uVar4 == 0) {
		*(undefined4 *)(iVar2 + 0x40) = 0x3c;
		*(undefined4 *)(iVar2 + 0x44) = param_1._4_4_;
		*(undefined4 *)(iVar2 + 0x78) = (int)param_2;
		uVar4 = GetProcessInformation(cVar3 + '8', cVar3 + '@', uVar5, uVar6, param_5, param_6, param_7, param_8,
		    *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf),
		    *(undefined4 *)(iVar2 + 0x14));
		if ((short)uVar4 == 0) {
			if (param_3 != (undefined4 *)0x0) {
				*param_3 = *(undefined4 *)(iVar2 + 0x54);
			}
			if (param_4 != (undefined4 *)0x0) {
				uVar1 = *(undefined4 *)(iVar2 + 0x3c);
				*param_4 = *(undefined4 *)(iVar2 + 0x38);
				param_4[1] = uVar1;
			}
			uVar4 = 0;
		}
	}
	return uVar4;
}

undefined8 FUN_100bf990(uint *param_1, int *param_2, int *param_3, int param_4)

{
	uint uVar1;
	int iVar2;
	longlong lVar3;

	lVar3 = (ulonglong)*param_1 - (ulonglong) * (uint *)PTR_DAT_100f17c8;
	if (-1 < lVar3) {
		iVar2 = (int)lVar3 + 0x3ff >> 8;
		if (0x2a < iVar2) {
			*param_1 = *param_1 - 0x2d00;
			*param_2 = *param_2 + 0x100;
			return 0;
		}
		uVar1 = *(uint *)(PTR_DAT_100f215c + iVar2 * 4);
		*param_2 = *param_2 + *(int *)(PTR_DAT_100f2158 + (((int)uVar1 >> 2) + (uint)((int)uVar1 < 0 && (uVar1 & 3) != 0)) * 4);
		*param_1 = *param_1 + uVar1 * -0xc0;
		*param_3 = *param_3 + ((int)uVar1 >> 1);
		if (param_4 != 0) {
			*(uint *)PTR_DAT_100f2154 = *(uint *)PTR_DAT_100f2154 ^ (uint)(((int)uVar1 >> 1 & 2U) != 0);
		}
	}
	return 1;
}

undefined8 FUN_100bfa58(uint *param_1, int *param_2, int *param_3, int param_4)

{
	uint uVar1;
	int iVar2;
	longlong lVar3;

	lVar3 = (ulonglong)*param_1 - (ulonglong) * (uint *)PTR_DAT_100f17c8;
	if (-1 < lVar3) {
		iVar2 = (int)lVar3 + 0x3ff >> 8;
		if (0x2d < iVar2) {
			*param_1 = *param_1 - 0x3000;
			*param_2 = *param_2 + 0x120;
			return 0;
		}
		uVar1 = *(uint *)(PTR_DAT_100f215c + iVar2 * 4);
		*param_2 = *param_2 + *(int *)(PTR_DAT_100f2150 + (((int)uVar1 >> 2) + (uint)((int)uVar1 < 0 && (uVar1 & 3) != 0)) * 4);
		*param_1 = *param_1 + uVar1 * -0xc0;
		*param_3 = *param_3 - ((int)uVar1 >> 1);
		if (param_4 != 0) {
			*(uint *)PTR_DAT_100f2154 = *(uint *)PTR_DAT_100f2154 ^ (uint)(((int)uVar1 >> 1 & 2U) != 0);
		}
	}
	return 1;
}

// WARNING: Removing unreachable block (ram,0x100bfb48)
// WARNING: Removing unreachable block (ram,0x100bfbfc)
// WARNING: Removing unreachable block (ram,0x100bfb5c)
// WARNING: Removing unreachable block (ram,0x100bfc10)

void FUN_100bfb20(longlong param_1, undefined4 param_2)

{
	ulonglong uVar1;
	longlong lVar2;
	uint uVar4;
	ulonglong uVar3;
	undefined4 *puVar5;
	longlong lVar6;
	longlong lVar7;

	lVar7 = 0x1e;
	lVar6 = 0x3c;
	do {
		param_1 = param_1 + lVar7;
		uVar4 = (uint)(0x40 - lVar6);
		lVar2 = param_1 + (0x40 - lVar6);
		uVar3 = (ulonglong)(uVar4 >> 2);
		if (3 < (int)uVar4) {
			uVar1 = (ulonglong)(uVar4 >> 5);
			if (uVar4 >> 5 != 0) {
				do {
					puVar5 = (undefined4 *)param_1;
					*puVar5 = param_2;
					puVar5[1] = param_2;
					puVar5[2] = param_2;
					puVar5[3] = param_2;
					puVar5[4] = param_2;
					puVar5[5] = param_2;
					puVar5[6] = param_2;
					puVar5[7] = param_2;
					param_1 = param_1 + 0x20;
					uVar1 = uVar1 - 1;
				} while (uVar1 != 0);
				uVar3 = uVar3 & 7;
				if ((uVar4 >> 2 & 7) == 0)
					goto LAB_100bfbc0;
			}
			do {
				*(undefined4 *)param_1 = param_2;
				param_1 = param_1 + 4;
				uVar3 = uVar3 - 1;
			} while (uVar3 != 0);
		}
	LAB_100bfbc0:
		param_1 = 0x340 - lVar7;
		lVar6 = lVar6 + -4;
		lVar7 = lVar7 + -2;
		param_1 = lVar2 - param_1;
	} while (-1 < lVar7);
	lVar7 = 2;
	lVar6 = 4;
	do {
		param_1 = param_1 + lVar7;
		uVar4 = (uint)(0x40 - lVar6);
		lVar2 = param_1 + (0x40 - lVar6);
		uVar3 = (ulonglong)(uVar4 >> 2);
		if (3 < (int)uVar4) {
			uVar1 = (ulonglong)(uVar4 >> 5);
			if (uVar4 >> 5 != 0) {
				do {
					puVar5 = (undefined4 *)param_1;
					*puVar5 = param_2;
					puVar5[1] = param_2;
					puVar5[2] = param_2;
					puVar5[3] = param_2;
					puVar5[4] = param_2;
					puVar5[5] = param_2;
					puVar5[6] = param_2;
					puVar5[7] = param_2;
					param_1 = param_1 + 0x20;
					uVar1 = uVar1 - 1;
				} while (uVar1 != 0);
				uVar3 = uVar3 & 7;
				if ((uVar4 >> 2 & 7) == 0)
					goto LAB_100bfc74;
			}
			do {
				*(undefined4 *)param_1 = param_2;
				param_1 = param_1 + 4;
				uVar3 = uVar3 - 1;
			} while (uVar3 != 0);
		}
	LAB_100bfc74:
		param_1 = 0x340 - lVar7;
		lVar7 = lVar7 + 2;
		lVar6 = lVar6 + 4;
		param_1 = lVar2 - param_1;
		if (0x1e < (int)lVar7) {
			return;
		}
	} while (true);
}

void drawUpperScreen(undefined8 param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	char cVar1;
	byte bVar2;
	int iVar3;
	uint uVar4;
	undefined *puVar5;
	int *piVar6;
	uint *puVar7;
	int *piVar8;
	undefined **ppuVar9;
	ulonglong uVar10;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	longlong lVar11;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 local_24[2];
	undefined4 local_1c;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	piVar8 = _DAT_100f2144;
	puVar7 = _DAT_100f2080;
	piVar6 = _DAT_100f1d40;
	puVar5 = PTR_DAT_100f19e8;
	ppuVar9 = &toc;
	local_1c = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	lVar11 = 0;
	if (*_DAT_100f1d3c != 0) {
		cVar1 = *_DAT_100f2084;
		if (cVar1 == '\x01') {
			bVar2 = PTR_DAT_100f1d94[*_DAT_100f2088];
			if (bVar2 != 2) {
				if (bVar2 < 2) {
					if (bVar2 == 0)
						goto LAB_100c82a8;
				} else {
					if (3 < bVar2)
						goto LAB_100c82a8;
				}
				lVar11 = ZEXT48(PTR_DAT_100f214c) + 0x7c;
			}
		} else {
			if (((('\0' < cVar1) && (cVar1 < '\x03')) && ((byte)PTR_DAT_100f1d94[*_DAT_100f2088] < 4)) && (1 < (byte)PTR_DAT_100f1d94[*_DAT_100f2088])) {
				lVar11 = (ulonglong)_DAT_100f2148 + 0x7c;
			}
		}
	}
LAB_100c82a8:
	*(undefined **)_DAT_100f2144 = PTR_DAT_100f1d84;
	iVar3 = *piVar6;
	if (iVar3 == 0) {
		uVar4 = *puVar7;
		if ((uVar4 & 0x8000) != 0) {
			*puVar7 = (uVar4 & 0xf000) + *(int *)(*piVar8 + (uVar4 & 0xfff) * 0x40);
		}
		local_24[0] = *(undefined4 *)(*(int *)puVar5 + (*puVar7 & 0xfff) * 4);
		uVar10 = FUN_100c8484((byte *)local_24);
		FUN_100dbf44(param_1, (ulonglong) * (uint *)puVar5 + uVar10, 0, lVar11);
	} else {
		if (iVar3 == (int)(char)*PTR_DAT_100f1f04) {
			uVar4 = *puVar7;
			if ((uVar4 & 0x8000) != 0) {
				*puVar7 = (uVar4 & 0xf000) + *(int *)(*piVar8 + (uVar4 & 0xfff) * 0x40);
			}
			local_24[0] = *(undefined4 *)(*(int *)puVar5 + (*puVar7 & 0xfff) * 4);
			uVar10 = FUN_100c8484((byte *)local_24);
			FUN_100dbf44(param_1, (ulonglong) * (uint *)puVar5 + uVar10, 0, lVar11);
		} else {
			uVar4 = *puVar7;
			if ((uVar4 & 0x8000) == 0) {
				local_24[0] = *(undefined4 *)(*(int *)puVar5 + (uVar4 & 0xfff) * 4);
				uVar10 = FUN_100c8484((byte *)local_24);
				FUN_100dbf44(param_1, (ulonglong) * (uint *)puVar5 + uVar10,
				    (ulonglong) * (uint *)ppuVar9[-0x1ddc] + (ulonglong)(uint)(*piVar6 << 8), lVar11);
			} else {
				FUN_100dbf44(param_1, (ulonglong) * (uint *)PTR_DAT_100f1a58 + (ulonglong) * (uint *)(*piVar8 + ((uVar4 & 0xfff) * 0x10 + iVar3) * 4), 0,
				    lVar11, (ulonglong)uVar4, param_6, param_7, param_8);
			}
		}
	}
	return;
}

ulonglong FUN_100c8484(byte *param_1)

{
	return (ulonglong)param_1[3] << 0x18 | (ulonglong)param_1[2] << 0x10 | (ulonglong)param_1[1] << 8
	    | (ulonglong)*param_1;
}

void drawLowerScreen(undefined8 param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	char cVar1;
	byte bVar2;
	int iVar3;
	uint uVar4;
	undefined *puVar5;
	int *piVar6;
	uint *puVar7;
	int *piVar8;
	undefined **ppuVar9;
	ulonglong uVar10;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	undefined8 unaff_r27;
	longlong lVar11;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined4 local_24[2];
	undefined4 local_1c;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	piVar8 = _DAT_100f2144;
	puVar7 = _DAT_100f2080;
	piVar6 = _DAT_100f1d40;
	puVar5 = PTR_DAT_100f19e8;
	ppuVar9 = &toc;
	local_1c = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	lVar11 = 0;
	if (*_DAT_100f1d3c != 0) {
		cVar1 = *_DAT_100f2084;
		if (cVar1 == '\x01') {
			bVar2 = PTR_DAT_100f1d94[*_DAT_100f2088];
			if (bVar2 != 2) {
				if (bVar2 < 2) {
					if (bVar2 == 0)
						goto LAB_100c856c;
				} else {
					if (3 < bVar2)
						goto LAB_100c856c;
				}
				lVar11 = ZEXT48(PTR_DAT_100f214c) + 0x7c;
			}
		} else {
			if (((('\0' < cVar1) && (cVar1 < '\x03')) && ((byte)PTR_DAT_100f1d94[*_DAT_100f2088] < 4)) && (1 < (byte)PTR_DAT_100f1d94[*_DAT_100f2088])) {
				lVar11 = (ulonglong)_DAT_100f2148 + 0x7c;
			}
		}
	}
LAB_100c856c:
	*(undefined **)_DAT_100f2144 = PTR_DAT_100f1d84;
	iVar3 = *piVar6;
	if (iVar3 == 0) {
		uVar4 = *puVar7;
		if ((uVar4 & 0x8000) != 0) {
			*puVar7 = (uVar4 & 0xf000) + *(int *)(*piVar8 + (uVar4 & 0xfff) * 0x40);
		}
		local_24[0] = *(undefined4 *)(*(int *)puVar5 + (*puVar7 & 0xfff) * 4);
		uVar10 = FUN_100c8484((byte *)local_24);
		FUN_100dbf44(param_1, (ulonglong) * (uint *)puVar5 + uVar10, 0, lVar11);
	} else {
		if (iVar3 == (int)(char)*PTR_DAT_100f1f04) {
			uVar4 = *puVar7;
			if ((uVar4 & 0x8000) != 0) {
				*puVar7 = (uVar4 & 0xf000) + *(int *)(*piVar8 + (uVar4 & 0xfff) * 0x40);
			}
			local_24[0] = *(undefined4 *)(*(int *)puVar5 + (*puVar7 & 0xfff) * 4);
			uVar10 = FUN_100c8484((byte *)local_24);
			FUN_100dbf44(param_1, (ulonglong) * (uint *)puVar5 + uVar10, 0, lVar11);
		} else {
			uVar4 = *puVar7;
			if ((uVar4 & 0x8000) == 0) {
				local_24[0] = *(undefined4 *)(*(int *)puVar5 + (uVar4 & 0xfff) * 4);
				uVar10 = FUN_100c8484((byte *)local_24);
				FUN_100dbf44(param_1, (ulonglong) * (uint *)puVar5 + uVar10,
				    (ulonglong) * (uint *)ppuVar9[-0x1ddc] + (ulonglong)(uint)(*piVar6 << 8), lVar11);
			} else {
				FUN_100dbf44(param_1, (ulonglong) * (uint *)PTR_DAT_100f1a58 + (ulonglong) * (uint *)(*piVar8 + ((uVar4 & 0xfff) * 0x10 + iVar3) * 4), 0,
				    lVar11, (ulonglong)uVar4, param_6, param_7, param_8);
			}
		}
	}
	return;
}

void world_draw_black_tile(longlong param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	FUN_100bfb20(param_1, 0);
	return;
}

void FUN_100c876c(void)

{
	_DAT_100f4648 = _DAT_100f4644;
	return;
}

void FUN_100c8778(undefined4 *param_1, int *param_2)

{
	undefined *puVar1;
	undefined *puVar2;

	puVar1 = (undefined *)*param_1;
	puVar2 = (undefined *)*param_2;
	*(undefined **)param_1 = puVar1 + 0x20;
	*param_2 = *param_2 + 0x20;
	*puVar1 = *puVar2;
	puVar1[2] = puVar2[2];
	puVar1[4] = puVar2[4];
	puVar1[6] = puVar2[6];
	puVar1[8] = puVar2[8];
	puVar1[10] = puVar2[10];
	puVar1[0xc] = puVar2[0xc];
	puVar1[0xe] = puVar2[0xe];
	puVar1[0x10] = puVar2[0x10];
	puVar1[0x12] = puVar2[0x12];
	puVar1[0x14] = puVar2[0x14];
	puVar1[0x16] = puVar2[0x16];
	puVar1[0x18] = puVar2[0x18];
	puVar1[0x1a] = puVar2[0x1a];
	puVar1[0x1c] = puVar2[0x1c];
	puVar1[0x1e] = puVar2[0x1e];
	return;
}

void FUN_100c8818(int *param_1, int *param_2)

{
	int iVar1;
	int iVar2;

	iVar1 = *param_1;
	iVar2 = *param_2;
	*param_1 = iVar1 + 0x20;
	*param_2 = *param_2 + 0x20;
	*(undefined *)(iVar1 + 1) = *(undefined *)(iVar2 + 1);
	*(undefined *)(iVar1 + 3) = *(undefined *)(iVar2 + 3);
	*(undefined *)(iVar1 + 5) = *(undefined *)(iVar2 + 5);
	*(undefined *)(iVar1 + 7) = *(undefined *)(iVar2 + 7);
	*(undefined *)(iVar1 + 9) = *(undefined *)(iVar2 + 9);
	*(undefined *)(iVar1 + 0xb) = *(undefined *)(iVar2 + 0xb);
	*(undefined *)(iVar1 + 0xd) = *(undefined *)(iVar2 + 0xd);
	*(undefined *)(iVar1 + 0xf) = *(undefined *)(iVar2 + 0xf);
	*(undefined *)(iVar1 + 0x11) = *(undefined *)(iVar2 + 0x11);
	*(undefined *)(iVar1 + 0x13) = *(undefined *)(iVar2 + 0x13);
	*(undefined *)(iVar1 + 0x15) = *(undefined *)(iVar2 + 0x15);
	*(undefined *)(iVar1 + 0x17) = *(undefined *)(iVar2 + 0x17);
	*(undefined *)(iVar1 + 0x19) = *(undefined *)(iVar2 + 0x19);
	*(undefined *)(iVar1 + 0x1b) = *(undefined *)(iVar2 + 0x1b);
	*(undefined *)(iVar1 + 0x1d) = *(undefined *)(iVar2 + 0x1d);
	*(undefined *)(iVar1 + 0x1f) = *(undefined *)(iVar2 + 0x1f);
	return;
}

void FUN_100c88b8(undefined4 *param_1, int *param_2, uint param_3)

{
	undefined4 *puVar1;
	undefined4 *puVar2;

	puVar1 = (undefined4 *)*param_1;
	puVar2 = (undefined4 *)*param_2;
	*(undefined4 **)param_1 = puVar1 + 8;
	*param_2 = *param_2 + 0x20;
	if (param_3 == 0xffffffff) {
		*puVar1 = *puVar2;
		puVar1[1] = puVar2[1];
		puVar1[2] = puVar2[2];
		puVar1[3] = puVar2[3];
		puVar1[4] = puVar2[4];
		puVar1[5] = puVar2[5];
		puVar1[6] = puVar2[6];
		puVar1[7] = puVar2[7];
		return;
	}
	if ((param_3 & 0x80000000) != 0) {
		*(undefined *)puVar1 = *(undefined *)puVar2;
	}
	if ((param_3 & 0x40000000) != 0) {
		*(undefined *)((int)puVar1 + 1) = *(undefined *)((int)puVar2 + 1);
	}
	if ((param_3 & 0x20000000) != 0) {
		*(undefined *)((int)puVar1 + 2) = *(undefined *)((int)puVar2 + 2);
	}
	if ((param_3 & 0x10000000) != 0) {
		*(undefined *)((int)puVar1 + 3) = *(undefined *)((int)puVar2 + 3);
	}
	if ((param_3 & 0x8000000) != 0) {
		*(undefined *)(puVar1 + 1) = *(undefined *)(puVar2 + 1);
	}
	if ((param_3 & 0x4000000) != 0) {
		*(undefined *)((int)puVar1 + 5) = *(undefined *)((int)puVar2 + 5);
	}
	if ((param_3 & 0x2000000) != 0) {
		*(undefined *)((int)puVar1 + 6) = *(undefined *)((int)puVar2 + 6);
	}
	if ((param_3 & 0x1000000) != 0) {
		*(undefined *)((int)puVar1 + 7) = *(undefined *)((int)puVar2 + 7);
	}
	if ((param_3 & 0x800000) != 0) {
		*(undefined *)(puVar1 + 2) = *(undefined *)(puVar2 + 2);
	}
	if ((param_3 & 0x400000) != 0) {
		*(undefined *)((int)puVar1 + 9) = *(undefined *)((int)puVar2 + 9);
	}
	if ((param_3 & 0x200000) != 0) {
		*(undefined *)((int)puVar1 + 10) = *(undefined *)((int)puVar2 + 10);
	}
	if ((param_3 & 0x100000) != 0) {
		*(undefined *)((int)puVar1 + 0xb) = *(undefined *)((int)puVar2 + 0xb);
	}
	if ((param_3 & 0x80000) != 0) {
		*(undefined *)(puVar1 + 3) = *(undefined *)(puVar2 + 3);
	}
	if ((param_3 & 0x40000) != 0) {
		*(undefined *)((int)puVar1 + 0xd) = *(undefined *)((int)puVar2 + 0xd);
	}
	if ((param_3 & 0x20000) != 0) {
		*(undefined *)((int)puVar1 + 0xe) = *(undefined *)((int)puVar2 + 0xe);
	}
	if ((param_3 & 0x10000) != 0) {
		*(undefined *)((int)puVar1 + 0xf) = *(undefined *)((int)puVar2 + 0xf);
	}
	if ((param_3 & 0x8000) != 0) {
		*(undefined *)(puVar1 + 4) = *(undefined *)(puVar2 + 4);
	}
	if ((param_3 & 0x4000) != 0) {
		*(undefined *)((int)puVar1 + 0x11) = *(undefined *)((int)puVar2 + 0x11);
	}
	if ((param_3 & 0x2000) != 0) {
		*(undefined *)((int)puVar1 + 0x12) = *(undefined *)((int)puVar2 + 0x12);
	}
	if ((param_3 & 0x1000) != 0) {
		*(undefined *)((int)puVar1 + 0x13) = *(undefined *)((int)puVar2 + 0x13);
	}
	if ((param_3 & 0x800) != 0) {
		*(undefined *)(puVar1 + 5) = *(undefined *)(puVar2 + 5);
	}
	if ((param_3 & 0x400) != 0) {
		*(undefined *)((int)puVar1 + 0x15) = *(undefined *)((int)puVar2 + 0x15);
	}
	if ((param_3 & 0x200) != 0) {
		*(undefined *)((int)puVar1 + 0x16) = *(undefined *)((int)puVar2 + 0x16);
	}
	if ((param_3 & 0x100) != 0) {
		*(undefined *)((int)puVar1 + 0x17) = *(undefined *)((int)puVar2 + 0x17);
	}
	if ((param_3 & 0x80) != 0) {
		*(undefined *)(puVar1 + 6) = *(undefined *)(puVar2 + 6);
	}
	if ((param_3 & 0x40) != 0) {
		*(undefined *)((int)puVar1 + 0x19) = *(undefined *)((int)puVar2 + 0x19);
	}
	if ((param_3 & 0x20) != 0) {
		*(undefined *)((int)puVar1 + 0x1a) = *(undefined *)((int)puVar2 + 0x1a);
	}
	if ((param_3 & 0x10) != 0) {
		*(undefined *)((int)puVar1 + 0x1b) = *(undefined *)((int)puVar2 + 0x1b);
	}
	if ((param_3 & 8) != 0) {
		*(undefined *)(puVar1 + 7) = *(undefined *)(puVar2 + 7);
	}
	if ((param_3 & 4) != 0) {
		*(undefined *)((int)puVar1 + 0x1d) = *(undefined *)((int)puVar2 + 0x1d);
	}
	if ((param_3 & 2) != 0) {
		*(undefined *)((int)puVar1 + 0x1e) = *(undefined *)((int)puVar2 + 0x1e);
	}
	if ((param_3 & 1) == 0) {
		return;
	}
	*(undefined *)((int)puVar1 + 0x1f) = *(undefined *)((int)puVar2 + 0x1f);
	return;
}

void FUN_100c8b28(int *param_1, undefined param_2)

{
	undefined *puVar1;

	puVar1 = (undefined *)*param_1;
	*(undefined **)param_1 = puVar1 + 0x20;
	puVar1[0x1e] = param_2;
	puVar1[0x1c] = param_2;
	puVar1[0x1a] = param_2;
	puVar1[0x18] = param_2;
	puVar1[0x16] = param_2;
	puVar1[0x14] = param_2;
	puVar1[0x12] = param_2;
	puVar1[0x10] = param_2;
	puVar1[0xe] = param_2;
	puVar1[0xc] = param_2;
	puVar1[10] = param_2;
	puVar1[8] = param_2;
	puVar1[6] = param_2;
	puVar1[4] = param_2;
	puVar1[2] = param_2;
	*puVar1 = param_2;
	return;
}

void FUN_100c8b78(int *param_1, undefined param_2)

{
	int iVar1;

	iVar1 = *param_1;
	*param_1 = iVar1 + 0x20;
	*(undefined *)(iVar1 + 0x1f) = param_2;
	*(undefined *)(iVar1 + 0x1d) = param_2;
	*(undefined *)(iVar1 + 0x1b) = param_2;
	*(undefined *)(iVar1 + 0x19) = param_2;
	*(undefined *)(iVar1 + 0x17) = param_2;
	*(undefined *)(iVar1 + 0x15) = param_2;
	*(undefined *)(iVar1 + 0x13) = param_2;
	*(undefined *)(iVar1 + 0x11) = param_2;
	*(undefined *)(iVar1 + 0xf) = param_2;
	*(undefined *)(iVar1 + 0xd) = param_2;
	*(undefined *)(iVar1 + 0xb) = param_2;
	*(undefined *)(iVar1 + 9) = param_2;
	*(undefined *)(iVar1 + 7) = param_2;
	*(undefined *)(iVar1 + 5) = param_2;
	*(undefined *)(iVar1 + 3) = param_2;
	*(undefined *)(iVar1 + 1) = param_2;
	return;
}

void FUN_100c8bc8(int *param_1, undefined4 param_2, uint param_3)

{
	undefined4 *puVar1;
	undefined uVar2;

	puVar1 = (undefined4 *)*param_1;
	*(undefined4 **)param_1 = puVar1 + 8;
	if (param_3 == 0xffffffff) {
		puVar1[7] = param_2;
		puVar1[6] = param_2;
		puVar1[5] = param_2;
		puVar1[4] = param_2;
		puVar1[3] = param_2;
		puVar1[2] = param_2;
		puVar1[1] = param_2;
		*puVar1 = param_2;
		return;
	}
	uVar2 = (undefined)param_2;
	if ((param_3 & 0x80000000) != 0) {
		*(undefined *)puVar1 = uVar2;
	}
	if ((param_3 & 0x40000000) != 0) {
		*(undefined *)((int)puVar1 + 1) = uVar2;
	}
	if ((param_3 & 0x20000000) != 0) {
		*(undefined *)((int)puVar1 + 2) = uVar2;
	}
	if ((param_3 & 0x10000000) != 0) {
		*(undefined *)((int)puVar1 + 3) = uVar2;
	}
	if ((param_3 & 0x8000000) != 0) {
		*(undefined *)(puVar1 + 1) = uVar2;
	}
	if ((param_3 & 0x4000000) != 0) {
		*(undefined *)((int)puVar1 + 5) = uVar2;
	}
	if ((param_3 & 0x2000000) != 0) {
		*(undefined *)((int)puVar1 + 6) = uVar2;
	}
	if ((param_3 & 0x1000000) != 0) {
		*(undefined *)((int)puVar1 + 7) = uVar2;
	}
	if ((param_3 & 0x800000) != 0) {
		*(undefined *)(puVar1 + 2) = uVar2;
	}
	if ((param_3 & 0x400000) != 0) {
		*(undefined *)((int)puVar1 + 9) = uVar2;
	}
	if ((param_3 & 0x200000) != 0) {
		*(undefined *)((int)puVar1 + 10) = uVar2;
	}
	if ((param_3 & 0x100000) != 0) {
		*(undefined *)((int)puVar1 + 0xb) = uVar2;
	}
	if ((param_3 & 0x80000) != 0) {
		*(undefined *)(puVar1 + 3) = uVar2;
	}
	if ((param_3 & 0x40000) != 0) {
		*(undefined *)((int)puVar1 + 0xd) = uVar2;
	}
	if ((param_3 & 0x20000) != 0) {
		*(undefined *)((int)puVar1 + 0xe) = uVar2;
	}
	if ((param_3 & 0x10000) != 0) {
		*(undefined *)((int)puVar1 + 0xf) = uVar2;
	}
	if ((param_3 & 0x8000) != 0) {
		*(undefined *)(puVar1 + 4) = uVar2;
	}
	if ((param_3 & 0x4000) != 0) {
		*(undefined *)((int)puVar1 + 0x11) = uVar2;
	}
	if ((param_3 & 0x2000) != 0) {
		*(undefined *)((int)puVar1 + 0x12) = uVar2;
	}
	if ((param_3 & 0x1000) != 0) {
		*(undefined *)((int)puVar1 + 0x13) = uVar2;
	}
	if ((param_3 & 0x800) != 0) {
		*(undefined *)(puVar1 + 5) = uVar2;
	}
	if ((param_3 & 0x400) != 0) {
		*(undefined *)((int)puVar1 + 0x15) = uVar2;
	}
	if ((param_3 & 0x200) != 0) {
		*(undefined *)((int)puVar1 + 0x16) = uVar2;
	}
	if ((param_3 & 0x100) != 0) {
		*(undefined *)((int)puVar1 + 0x17) = uVar2;
	}
	if ((param_3 & 0x80) != 0) {
		*(undefined *)(puVar1 + 6) = uVar2;
	}
	if ((param_3 & 0x40) != 0) {
		*(undefined *)((int)puVar1 + 0x19) = uVar2;
	}
	if ((param_3 & 0x20) != 0) {
		*(undefined *)((int)puVar1 + 0x1a) = uVar2;
	}
	if ((param_3 & 0x10) != 0) {
		*(undefined *)((int)puVar1 + 0x1b) = uVar2;
	}
	if ((param_3 & 8) != 0) {
		*(undefined *)(puVar1 + 7) = uVar2;
	}
	if ((param_3 & 4) != 0) {
		*(undefined *)((int)puVar1 + 0x1d) = uVar2;
	}
	if ((param_3 & 2) != 0) {
		*(undefined *)((int)puVar1 + 0x1e) = uVar2;
	}
	if ((param_3 & 1) == 0) {
		return;
	}
	*(undefined *)((int)puVar1 + 0x1f) = uVar2;
	return;
}

void FUN_100c8d88(undefined4 *param_1, byte **param_2, int param_3)

{
	undefined *puVar1;
	byte *pbVar2;

	puVar1 = (undefined *)*param_1;
	pbVar2 = *param_2;
	*(undefined **)param_1 = puVar1 + 0x20;
	*param_2 = *param_2 + 0x20;
	*puVar1 = *(undefined *)(param_3 + (uint)*pbVar2);
	puVar1[1] = *(undefined *)(param_3 + (uint)pbVar2[1]);
	puVar1[2] = *(undefined *)(param_3 + (uint)pbVar2[2]);
	puVar1[3] = *(undefined *)(param_3 + (uint)pbVar2[3]);
	puVar1[4] = *(undefined *)(param_3 + (uint)pbVar2[4]);
	puVar1[5] = *(undefined *)(param_3 + (uint)pbVar2[5]);
	puVar1[6] = *(undefined *)(param_3 + (uint)pbVar2[6]);
	puVar1[7] = *(undefined *)(param_3 + (uint)pbVar2[7]);
	puVar1[8] = *(undefined *)(param_3 + (uint)pbVar2[8]);
	puVar1[9] = *(undefined *)(param_3 + (uint)pbVar2[9]);
	puVar1[10] = *(undefined *)(param_3 + (uint)pbVar2[10]);
	puVar1[0xb] = *(undefined *)(param_3 + (uint)pbVar2[0xb]);
	puVar1[0xc] = *(undefined *)(param_3 + (uint)pbVar2[0xc]);
	puVar1[0xd] = *(undefined *)(param_3 + (uint)pbVar2[0xd]);
	puVar1[0xe] = *(undefined *)(param_3 + (uint)pbVar2[0xe]);
	puVar1[0xf] = *(undefined *)(param_3 + (uint)pbVar2[0xf]);
	puVar1[0x10] = *(undefined *)(param_3 + (uint)pbVar2[0x10]);
	puVar1[0x11] = *(undefined *)(param_3 + (uint)pbVar2[0x11]);
	puVar1[0x12] = *(undefined *)(param_3 + (uint)pbVar2[0x12]);
	puVar1[0x13] = *(undefined *)(param_3 + (uint)pbVar2[0x13]);
	puVar1[0x14] = *(undefined *)(param_3 + (uint)pbVar2[0x14]);
	puVar1[0x15] = *(undefined *)(param_3 + (uint)pbVar2[0x15]);
	puVar1[0x16] = *(undefined *)(param_3 + (uint)pbVar2[0x16]);
	puVar1[0x17] = *(undefined *)(param_3 + (uint)pbVar2[0x17]);
	puVar1[0x18] = *(undefined *)(param_3 + (uint)pbVar2[0x18]);
	puVar1[0x19] = *(undefined *)(param_3 + (uint)pbVar2[0x19]);
	puVar1[0x1a] = *(undefined *)(param_3 + (uint)pbVar2[0x1a]);
	puVar1[0x1b] = *(undefined *)(param_3 + (uint)pbVar2[0x1b]);
	puVar1[0x1c] = *(undefined *)(param_3 + (uint)pbVar2[0x1c]);
	puVar1[0x1d] = *(undefined *)(param_3 + (uint)pbVar2[0x1d]);
	puVar1[0x1e] = *(undefined *)(param_3 + (uint)pbVar2[0x1e]);
	puVar1[0x1f] = *(undefined *)(param_3 + (uint)pbVar2[0x1f]);
	return;
}

void FUN_100c8f28(undefined4 *param_1, byte **param_2, int param_3)

{
	undefined *puVar1;
	byte *pbVar2;

	puVar1 = (undefined *)*param_1;
	pbVar2 = *param_2;
	*(undefined **)param_1 = puVar1 + 0x20;
	*param_2 = *param_2 + 0x20;
	*puVar1 = *(undefined *)(param_3 + (uint)*pbVar2);
	puVar1[2] = *(undefined *)(param_3 + (uint)pbVar2[2]);
	puVar1[4] = *(undefined *)(param_3 + (uint)pbVar2[4]);
	puVar1[6] = *(undefined *)(param_3 + (uint)pbVar2[6]);
	puVar1[8] = *(undefined *)(param_3 + (uint)pbVar2[8]);
	puVar1[10] = *(undefined *)(param_3 + (uint)pbVar2[10]);
	puVar1[0xc] = *(undefined *)(param_3 + (uint)pbVar2[0xc]);
	puVar1[0xe] = *(undefined *)(param_3 + (uint)pbVar2[0xe]);
	puVar1[0x10] = *(undefined *)(param_3 + (uint)pbVar2[0x10]);
	puVar1[0x12] = *(undefined *)(param_3 + (uint)pbVar2[0x12]);
	puVar1[0x14] = *(undefined *)(param_3 + (uint)pbVar2[0x14]);
	puVar1[0x16] = *(undefined *)(param_3 + (uint)pbVar2[0x16]);
	puVar1[0x18] = *(undefined *)(param_3 + (uint)pbVar2[0x18]);
	puVar1[0x1a] = *(undefined *)(param_3 + (uint)pbVar2[0x1a]);
	puVar1[0x1c] = *(undefined *)(param_3 + (uint)pbVar2[0x1c]);
	puVar1[0x1e] = *(undefined *)(param_3 + (uint)pbVar2[0x1e]);
	return;
}

void FUN_100c9008(int *param_1, int *param_2, int param_3)

{
	int iVar1;
	int iVar2;

	iVar1 = *param_1;
	iVar2 = *param_2;
	*param_1 = iVar1 + 0x20;
	*param_2 = *param_2 + 0x20;
	*(undefined *)(iVar1 + 1) = *(undefined *)(param_3 + (uint) * (byte *)(iVar2 + 1));
	*(undefined *)(iVar1 + 3) = *(undefined *)(param_3 + (uint) * (byte *)(iVar2 + 3));
	*(undefined *)(iVar1 + 5) = *(undefined *)(param_3 + (uint) * (byte *)(iVar2 + 5));
	*(undefined *)(iVar1 + 7) = *(undefined *)(param_3 + (uint) * (byte *)(iVar2 + 7));
	*(undefined *)(iVar1 + 9) = *(undefined *)(param_3 + (uint) * (byte *)(iVar2 + 9));
	*(undefined *)(iVar1 + 0xb) = *(undefined *)(param_3 + (uint) * (byte *)(iVar2 + 0xb));
	*(undefined *)(iVar1 + 0xd) = *(undefined *)(param_3 + (uint) * (byte *)(iVar2 + 0xd));
	*(undefined *)(iVar1 + 0xf) = *(undefined *)(param_3 + (uint) * (byte *)(iVar2 + 0xf));
	*(undefined *)(iVar1 + 0x11) = *(undefined *)(param_3 + (uint) * (byte *)(iVar2 + 0x11));
	*(undefined *)(iVar1 + 0x13) = *(undefined *)(param_3 + (uint) * (byte *)(iVar2 + 0x13));
	*(undefined *)(iVar1 + 0x15) = *(undefined *)(param_3 + (uint) * (byte *)(iVar2 + 0x15));
	*(undefined *)(iVar1 + 0x17) = *(undefined *)(param_3 + (uint) * (byte *)(iVar2 + 0x17));
	*(undefined *)(iVar1 + 0x19) = *(undefined *)(param_3 + (uint) * (byte *)(iVar2 + 0x19));
	*(undefined *)(iVar1 + 0x1b) = *(undefined *)(param_3 + (uint) * (byte *)(iVar2 + 0x1b));
	*(undefined *)(iVar1 + 0x1d) = *(undefined *)(param_3 + (uint) * (byte *)(iVar2 + 0x1d));
	*(undefined *)(iVar1 + 0x1f) = *(undefined *)(param_3 + (uint) * (byte *)(iVar2 + 0x1f));
	return;
}

void FUN_100c90e8(undefined4 *param_1, byte **param_2, int param_3, uint param_4)

{
	undefined *puVar1;
	byte *pbVar2;

	puVar1 = (undefined *)*param_1;
	pbVar2 = *param_2;
	*(undefined **)param_1 = puVar1 + 0x20;
	*param_2 = *param_2 + 0x20;
	if (param_4 == 0xffffffff) {
		*puVar1 = *(undefined *)(param_3 + (uint)*pbVar2);
		puVar1[1] = *(undefined *)(param_3 + (uint)pbVar2[1]);
		puVar1[2] = *(undefined *)(param_3 + (uint)pbVar2[2]);
		puVar1[3] = *(undefined *)(param_3 + (uint)pbVar2[3]);
		puVar1[4] = *(undefined *)(param_3 + (uint)pbVar2[4]);
		puVar1[5] = *(undefined *)(param_3 + (uint)pbVar2[5]);
		puVar1[6] = *(undefined *)(param_3 + (uint)pbVar2[6]);
		puVar1[7] = *(undefined *)(param_3 + (uint)pbVar2[7]);
		puVar1[8] = *(undefined *)(param_3 + (uint)pbVar2[8]);
		puVar1[9] = *(undefined *)(param_3 + (uint)pbVar2[9]);
		puVar1[10] = *(undefined *)(param_3 + (uint)pbVar2[10]);
		puVar1[0xb] = *(undefined *)(param_3 + (uint)pbVar2[0xb]);
		puVar1[0xc] = *(undefined *)(param_3 + (uint)pbVar2[0xc]);
		puVar1[0xd] = *(undefined *)(param_3 + (uint)pbVar2[0xd]);
		puVar1[0xe] = *(undefined *)(param_3 + (uint)pbVar2[0xe]);
		puVar1[0xf] = *(undefined *)(param_3 + (uint)pbVar2[0xf]);
		puVar1[0x10] = *(undefined *)(param_3 + (uint)pbVar2[0x10]);
		puVar1[0x11] = *(undefined *)(param_3 + (uint)pbVar2[0x11]);
		puVar1[0x12] = *(undefined *)(param_3 + (uint)pbVar2[0x12]);
		puVar1[0x13] = *(undefined *)(param_3 + (uint)pbVar2[0x13]);
		puVar1[0x14] = *(undefined *)(param_3 + (uint)pbVar2[0x14]);
		puVar1[0x15] = *(undefined *)(param_3 + (uint)pbVar2[0x15]);
		puVar1[0x16] = *(undefined *)(param_3 + (uint)pbVar2[0x16]);
		puVar1[0x17] = *(undefined *)(param_3 + (uint)pbVar2[0x17]);
		puVar1[0x18] = *(undefined *)(param_3 + (uint)pbVar2[0x18]);
		puVar1[0x19] = *(undefined *)(param_3 + (uint)pbVar2[0x19]);
		puVar1[0x1a] = *(undefined *)(param_3 + (uint)pbVar2[0x1a]);
		puVar1[0x1b] = *(undefined *)(param_3 + (uint)pbVar2[0x1b]);
		puVar1[0x1c] = *(undefined *)(param_3 + (uint)pbVar2[0x1c]);
		puVar1[0x1d] = *(undefined *)(param_3 + (uint)pbVar2[0x1d]);
		puVar1[0x1e] = *(undefined *)(param_3 + (uint)pbVar2[0x1e]);
		puVar1[0x1f] = *(undefined *)(param_3 + (uint)pbVar2[0x1f]);
		return;
	}
	if ((param_4 & 0x80000000) != 0) {
		*puVar1 = *(undefined *)(param_3 + (uint)*pbVar2);
	}
	if ((param_4 & 0x40000000) != 0) {
		puVar1[1] = *(undefined *)(param_3 + (uint)pbVar2[1]);
	}
	if ((param_4 & 0x20000000) != 0) {
		puVar1[2] = *(undefined *)(param_3 + (uint)pbVar2[2]);
	}
	if ((param_4 & 0x10000000) != 0) {
		puVar1[3] = *(undefined *)(param_3 + (uint)pbVar2[3]);
	}
	if ((param_4 & 0x8000000) != 0) {
		puVar1[4] = *(undefined *)(param_3 + (uint)pbVar2[4]);
	}
	if ((param_4 & 0x4000000) != 0) {
		puVar1[5] = *(undefined *)(param_3 + (uint)pbVar2[5]);
	}
	if ((param_4 & 0x2000000) != 0) {
		puVar1[6] = *(undefined *)(param_3 + (uint)pbVar2[6]);
	}
	if ((param_4 & 0x1000000) != 0) {
		puVar1[7] = *(undefined *)(param_3 + (uint)pbVar2[7]);
	}
	if ((param_4 & 0x800000) != 0) {
		puVar1[8] = *(undefined *)(param_3 + (uint)pbVar2[8]);
	}
	if ((param_4 & 0x400000) != 0) {
		puVar1[9] = *(undefined *)(param_3 + (uint)pbVar2[9]);
	}
	if ((param_4 & 0x200000) != 0) {
		puVar1[10] = *(undefined *)(param_3 + (uint)pbVar2[10]);
	}
	if ((param_4 & 0x100000) != 0) {
		puVar1[0xb] = *(undefined *)(param_3 + (uint)pbVar2[0xb]);
	}
	if ((param_4 & 0x80000) != 0) {
		puVar1[0xc] = *(undefined *)(param_3 + (uint)pbVar2[0xc]);
	}
	if ((param_4 & 0x40000) != 0) {
		puVar1[0xd] = *(undefined *)(param_3 + (uint)pbVar2[0xd]);
	}
	if ((param_4 & 0x20000) != 0) {
		puVar1[0xe] = *(undefined *)(param_3 + (uint)pbVar2[0xe]);
	}
	if ((param_4 & 0x10000) != 0) {
		puVar1[0xf] = *(undefined *)(param_3 + (uint)pbVar2[0xf]);
	}
	if ((param_4 & 0x8000) != 0) {
		puVar1[0x10] = *(undefined *)(param_3 + (uint)pbVar2[0x10]);
	}
	if ((param_4 & 0x4000) != 0) {
		puVar1[0x11] = *(undefined *)(param_3 + (uint)pbVar2[0x11]);
	}
	if ((param_4 & 0x2000) != 0) {
		puVar1[0x12] = *(undefined *)(param_3 + (uint)pbVar2[0x12]);
	}
	if ((param_4 & 0x1000) != 0) {
		puVar1[0x13] = *(undefined *)(param_3 + (uint)pbVar2[0x13]);
	}
	if ((param_4 & 0x800) != 0) {
		puVar1[0x14] = *(undefined *)(param_3 + (uint)pbVar2[0x14]);
	}
	if ((param_4 & 0x400) != 0) {
		puVar1[0x15] = *(undefined *)(param_3 + (uint)pbVar2[0x15]);
	}
	if ((param_4 & 0x200) != 0) {
		puVar1[0x16] = *(undefined *)(param_3 + (uint)pbVar2[0x16]);
	}
	if ((param_4 & 0x100) != 0) {
		puVar1[0x17] = *(undefined *)(param_3 + (uint)pbVar2[0x17]);
	}
	if ((param_4 & 0x80) != 0) {
		puVar1[0x18] = *(undefined *)(param_3 + (uint)pbVar2[0x18]);
	}
	if ((param_4 & 0x40) != 0) {
		puVar1[0x19] = *(undefined *)(param_3 + (uint)pbVar2[0x19]);
	}
	if ((param_4 & 0x20) != 0) {
		puVar1[0x1a] = *(undefined *)(param_3 + (uint)pbVar2[0x1a]);
	}
	if ((param_4 & 0x10) != 0) {
		puVar1[0x1b] = *(undefined *)(param_3 + (uint)pbVar2[0x1b]);
	}
	if ((param_4 & 8) != 0) {
		puVar1[0x1c] = *(undefined *)(param_3 + (uint)pbVar2[0x1c]);
	}
	if ((param_4 & 4) != 0) {
		puVar1[0x1d] = *(undefined *)(param_3 + (uint)pbVar2[0x1d]);
	}
	if ((param_4 & 2) != 0) {
		puVar1[0x1e] = *(undefined *)(param_3 + (uint)pbVar2[0x1e]);
	}
	if ((param_4 & 1) == 0) {
		return;
	}
	puVar1[0x1f] = *(undefined *)(param_3 + (uint)pbVar2[0x1f]);
	return;
}

void FUN_100c9518(undefined4 *param_1, int *param_2, longlong param_3)

{
	undefined *puVar1;
	ulonglong uVar2;
	ulonglong uVar3;
	uint uVar4;
	undefined *puVar5;
	undefined *puVar6;

	puVar5 = (undefined *)*param_1;
	uVar4 = (uint)param_3;
	puVar6 = (undefined *)*param_2;
	*(undefined **)param_1 = puVar5 + uVar4;
	uVar3 = (ulonglong)(uVar4 >> 2);
	*param_2 = *param_2 + uVar4;
	if ((int)uVar4 < 4)
		goto LAB_100c960c;
	uVar2 = (ulonglong)(uVar4 >> 5);
	if (uVar4 >> 5 == 0) {
	LAB_100c95ec:
		do {
			*puVar5 = *puVar6;
			puVar1 = puVar6 + 2;
			puVar6 = puVar6 + 4;
			puVar5[2] = *puVar1;
			puVar5 = puVar5 + 4;
			uVar3 = uVar3 - 1;
		} while (uVar3 != 0);
	} else {
		do {
			*puVar5 = *puVar6;
			puVar5[2] = puVar6[2];
			puVar5[4] = puVar6[4];
			puVar5[6] = puVar6[6];
			puVar5[8] = puVar6[8];
			puVar5[10] = puVar6[10];
			puVar5[0xc] = puVar6[0xc];
			puVar5[0xe] = puVar6[0xe];
			puVar5[0x10] = puVar6[0x10];
			puVar5[0x12] = puVar6[0x12];
			puVar5[0x14] = puVar6[0x14];
			puVar5[0x16] = puVar6[0x16];
			puVar5[0x18] = puVar6[0x18];
			puVar5[0x1a] = puVar6[0x1a];
			puVar5[0x1c] = puVar6[0x1c];
			puVar1 = puVar6 + 0x1e;
			puVar6 = puVar6 + 0x20;
			puVar5[0x1e] = *puVar1;
			puVar5 = puVar5 + 0x20;
			uVar2 = uVar2 - 1;
		} while (uVar2 != 0);
		uVar3 = uVar3 & 7;
		if ((uVar4 >> 2 & 7) != 0)
			goto LAB_100c95ec;
	}
	param_3 = param_3 - (ulonglong)(uVar4 & 0xfffffffc);
LAB_100c960c:
	if ((int)param_3 != 0) {
		do {
			if (((uint)puVar5 & 1) == 0) {
				*puVar5 = *puVar6;
			}
			puVar5 = puVar5 + 1;
			puVar6 = puVar6 + 1;
			param_3 = param_3 + -1;
		} while (param_3 != 0);
		return;
	}
	return;
}

void FUN_100c9638(undefined4 *param_1, int *param_2, longlong param_3)

{
	undefined *puVar1;
	ulonglong uVar2;
	ulonglong uVar3;
	uint uVar4;
	undefined *puVar5;
	undefined *puVar6;

	puVar5 = (undefined *)*param_1;
	uVar4 = (uint)param_3;
	puVar6 = (undefined *)*param_2;
	*(undefined **)param_1 = puVar5 + uVar4;
	uVar3 = (ulonglong)(uVar4 >> 2);
	*param_2 = *param_2 + uVar4;
	if ((int)uVar4 < 4)
		goto LAB_100c972c;
	uVar2 = (ulonglong)(uVar4 >> 5);
	if (uVar4 >> 5 == 0) {
	LAB_100c970c:
		do {
			puVar5[1] = puVar6[1];
			puVar1 = puVar6 + 3;
			puVar6 = puVar6 + 4;
			puVar5[3] = *puVar1;
			puVar5 = puVar5 + 4;
			uVar3 = uVar3 - 1;
		} while (uVar3 != 0);
	} else {
		do {
			puVar5[1] = puVar6[1];
			puVar5[3] = puVar6[3];
			puVar5[5] = puVar6[5];
			puVar5[7] = puVar6[7];
			puVar5[9] = puVar6[9];
			puVar5[0xb] = puVar6[0xb];
			puVar5[0xd] = puVar6[0xd];
			puVar5[0xf] = puVar6[0xf];
			puVar5[0x11] = puVar6[0x11];
			puVar5[0x13] = puVar6[0x13];
			puVar5[0x15] = puVar6[0x15];
			puVar5[0x17] = puVar6[0x17];
			puVar5[0x19] = puVar6[0x19];
			puVar5[0x1b] = puVar6[0x1b];
			puVar5[0x1d] = puVar6[0x1d];
			puVar1 = puVar6 + 0x1f;
			puVar6 = puVar6 + 0x20;
			puVar5[0x1f] = *puVar1;
			puVar5 = puVar5 + 0x20;
			uVar2 = uVar2 - 1;
		} while (uVar2 != 0);
		uVar3 = uVar3 & 7;
		if ((uVar4 >> 2 & 7) != 0)
			goto LAB_100c970c;
	}
	param_3 = param_3 - (ulonglong)(uVar4 & 0xfffffffc);
LAB_100c972c:
	if ((int)param_3 != 0) {
		do {
			if (((uint)puVar5 & 1) != 0) {
				*puVar5 = *puVar6;
			}
			puVar5 = puVar5 + 1;
			puVar6 = puVar6 + 1;
			param_3 = param_3 + -1;
		} while (param_3 != 0);
		return;
	}
	return;
}

void FUN_100c9758(undefined4 *param_1, int *param_2, longlong param_3, int *param_4)

{
	int iVar1;
	undefined *puVar2;
	undefined *puVar3;
	int iVar4;

	iVar1 = (int)param_3;
	puVar2 = (undefined *)*param_1;
	puVar3 = (undefined *)*param_2;
	iVar4 = *param_4;
	*(undefined **)param_1 = puVar2 + iVar1;
	*param_2 = *param_2 + iVar1;
	if (iVar1 != 0) {
		do {
			if (iVar4 < 0) {
				*puVar2 = *puVar3;
			}
			iVar4 = iVar4 << 1;
			puVar2 = puVar2 + 1;
			puVar3 = puVar3 + 1;
			param_3 = param_3 + -1;
		} while (param_3 != 0);
	}
	*param_4 = iVar4;
	return;
}

void FUN_100c97ac(int *param_1, longlong param_2, undefined param_3)

{
	ulonglong uVar1;
	ulonglong uVar2;
	uint uVar3;
	undefined *puVar4;

	puVar4 = (undefined *)*param_1;
	uVar3 = (uint)param_2;
	*(undefined **)param_1 = puVar4 + uVar3;
	uVar2 = (ulonglong)(uVar3 >> 2);
	if ((int)uVar3 < 4)
		goto LAB_100c9844;
	uVar1 = (ulonglong)(uVar3 >> 5);
	if (uVar3 >> 5 == 0) {
	LAB_100c9830:
		do {
			puVar4[2] = param_3;
			*puVar4 = param_3;
			puVar4 = puVar4 + 4;
			uVar2 = uVar2 - 1;
		} while (uVar2 != 0);
	} else {
		do {
			puVar4[2] = param_3;
			*puVar4 = param_3;
			puVar4[6] = param_3;
			puVar4[4] = param_3;
			puVar4[10] = param_3;
			puVar4[8] = param_3;
			puVar4[0xe] = param_3;
			puVar4[0xc] = param_3;
			puVar4[0x12] = param_3;
			puVar4[0x10] = param_3;
			puVar4[0x16] = param_3;
			puVar4[0x14] = param_3;
			puVar4[0x1a] = param_3;
			puVar4[0x18] = param_3;
			puVar4[0x1e] = param_3;
			puVar4[0x1c] = param_3;
			puVar4 = puVar4 + 0x20;
			uVar1 = uVar1 - 1;
		} while (uVar1 != 0);
		uVar2 = uVar2 & 7;
		if ((uVar3 >> 2 & 7) != 0)
			goto LAB_100c9830;
	}
	param_2 = param_2 - (ulonglong)(uVar3 & 0xfffffffc);
LAB_100c9844:
	if ((int)param_2 != 0) {
		do {
			if (((uint)puVar4 & 1) == 0) {
				*puVar4 = param_3;
			}
			puVar4 = puVar4 + 1;
			param_2 = param_2 + -1;
		} while (param_2 != 0);
		return;
	}
	return;
}

void FUN_100c986c(int *param_1, longlong param_2, undefined param_3)

{
	ulonglong uVar1;
	ulonglong uVar2;
	uint uVar3;
	undefined *puVar4;

	puVar4 = (undefined *)*param_1;
	uVar3 = (uint)param_2;
	*(undefined **)param_1 = puVar4 + uVar3;
	uVar2 = (ulonglong)(uVar3 >> 2);
	if ((int)uVar3 < 4)
		goto LAB_100c9904;
	uVar1 = (ulonglong)(uVar3 >> 5);
	if (uVar3 >> 5 == 0) {
	LAB_100c98f0:
		do {
			puVar4[3] = param_3;
			puVar4[1] = param_3;
			puVar4 = puVar4 + 4;
			uVar2 = uVar2 - 1;
		} while (uVar2 != 0);
	} else {
		do {
			puVar4[3] = param_3;
			puVar4[1] = param_3;
			puVar4[7] = param_3;
			puVar4[5] = param_3;
			puVar4[0xb] = param_3;
			puVar4[9] = param_3;
			puVar4[0xf] = param_3;
			puVar4[0xd] = param_3;
			puVar4[0x13] = param_3;
			puVar4[0x11] = param_3;
			puVar4[0x17] = param_3;
			puVar4[0x15] = param_3;
			puVar4[0x1b] = param_3;
			puVar4[0x19] = param_3;
			puVar4[0x1f] = param_3;
			puVar4[0x1d] = param_3;
			puVar4 = puVar4 + 0x20;
			uVar1 = uVar1 - 1;
		} while (uVar1 != 0);
		uVar2 = uVar2 & 7;
		if ((uVar3 >> 2 & 7) != 0)
			goto LAB_100c98f0;
	}
	param_2 = param_2 - (ulonglong)(uVar3 & 0xfffffffc);
LAB_100c9904:
	if ((int)param_2 != 0) {
		do {
			if (((uint)puVar4 & 1) != 0) {
				*puVar4 = param_3;
			}
			puVar4 = puVar4 + 1;
			param_2 = param_2 + -1;
		} while (param_2 != 0);
		return;
	}
	return;
}

void FUN_100c992c(int *param_1, longlong param_2, int *param_3, undefined param_4)

{
	undefined *puVar1;
	int iVar2;

	puVar1 = (undefined *)*param_1;
	iVar2 = *param_3;
	*(undefined **)param_1 = puVar1 + (int)param_2;
	if ((int)param_2 != 0) {
		do {
			if (iVar2 < 0) {
				*puVar1 = param_4;
			}
			iVar2 = iVar2 << 1;
			puVar1 = puVar1 + 1;
			param_2 = param_2 + -1;
		} while (param_2 != 0);
	}
	*param_3 = iVar2;
	return;
}

void FUN_100c996c(undefined4 *param_1, byte **param_2, int param_3, uint param_4)

{
	byte bVar1;
	byte bVar2;
	uint uVar3;
	uint uVar4;
	byte *pbVar5;
	byte *pbVar6;
	byte *pbVar7;
	ulonglong uVar8;
	ulonglong uVar9;
	undefined *puVar10;
	byte *pbVar11;
	byte *pbVar12;

	puVar10 = (undefined *)*param_1;
	pbVar12 = *param_2;
	*(undefined **)param_1 = puVar10 + param_4;
	*param_2 = *param_2 + param_4;
	if ((param_4 & 1) != 0) {
		bVar1 = *pbVar12;
		pbVar12 = pbVar12 + 1;
		param_4 = param_4 - 1;
		*puVar10 = *(undefined *)(param_3 + (uint)bVar1);
		puVar10 = puVar10 + 1;
	}
	if ((param_4 & 2) != 0) {
		bVar1 = pbVar12[1];
		bVar2 = *pbVar12;
		pbVar12 = pbVar12 + 2;
		param_4 = param_4 - 2;
		*puVar10 = *(undefined *)(param_3 + ((int)CONCAT11(bVar1, bVar2) & 0xffU));
		puVar10[1] = *(undefined *)(param_3 + ((int)CONCAT11(bVar1, bVar2) >> 8 & 0xffU));
		puVar10 = puVar10 + 2;
	}
	uVar9 = (ulonglong)(param_4 >> 2);
	if (3 < (int)param_4) {
		uVar8 = (ulonglong)(param_4 >> 4);
		if (param_4 >> 4 != 0) {
			do {
				uVar3 = (int)((uint)pbVar12[3] << 0x18 | (uint)pbVar12[2] << 0x10 | (uint)pbVar12[1] << 8 | (uint)*pbVar12) >> 8;
				*puVar10 = *(undefined *)(param_3 + (uint)*pbVar12);
				uVar4 = (int)uVar3 >> 8;
				puVar10[1] = *(undefined *)(param_3 + (uVar3 & 0xff));
				puVar10[2] = *(undefined *)(param_3 + (uVar4 & 0xff));
				puVar10[3] = *(undefined *)(param_3 + ((int)uVar4 >> 8 & 0xffU));
				uVar3 = (int)((uint)pbVar12[7] << 0x18 | (uint)pbVar12[6] << 0x10 | (uint)pbVar12[5] << 8 | (uint)pbVar12[4]) >> 8;
				puVar10[4] = *(undefined *)(param_3 + (uint)pbVar12[4]);
				uVar4 = (int)uVar3 >> 8;
				puVar10[5] = *(undefined *)(param_3 + (uVar3 & 0xff));
				puVar10[6] = *(undefined *)(param_3 + (uVar4 & 0xff));
				puVar10[7] = *(undefined *)(param_3 + ((int)uVar4 >> 8 & 0xffU));
				pbVar11 = pbVar12 + 0xc;
				uVar3 = (int)((uint)pbVar12[0xb] << 0x18 | (uint)pbVar12[10] << 0x10 | (uint)pbVar12[9] << 8
				            | (uint)pbVar12[8])
				    >> 8;
				puVar10[8] = *(undefined *)(param_3 + (uint)pbVar12[8]);
				uVar4 = (int)uVar3 >> 8;
				puVar10[9] = *(undefined *)(param_3 + (uVar3 & 0xff));
				puVar10[10] = *(undefined *)(param_3 + (uVar4 & 0xff));
				puVar10[0xb] = *(undefined *)(param_3 + ((int)uVar4 >> 8 & 0xffU));
				pbVar5 = pbVar12 + 0xf;
				pbVar6 = pbVar12 + 0xe;
				pbVar7 = pbVar12 + 0xd;
				pbVar12 = pbVar12 + 0x10;
				uVar3 = (int)((uint)*pbVar5 << 0x18 | (uint)*pbVar6 << 0x10 | (uint)*pbVar7 << 8 | (uint)*pbVar11) >> 8;
				puVar10[0xc] = *(undefined *)(param_3 + (uint)*pbVar11);
				uVar4 = (int)uVar3 >> 8;
				puVar10[0xd] = *(undefined *)(param_3 + (uVar3 & 0xff));
				puVar10[0xe] = *(undefined *)(param_3 + (uVar4 & 0xff));
				puVar10[0xf] = *(undefined *)(param_3 + ((int)uVar4 >> 8 & 0xffU));
				puVar10 = puVar10 + 0x10;
				uVar8 = uVar8 - 1;
			} while (uVar8 != 0);
			uVar9 = uVar9 & 3;
			if ((param_4 >> 2 & 3) == 0) {
				return;
			}
		}
		do {
			pbVar5 = pbVar12 + 3;
			pbVar6 = pbVar12 + 2;
			pbVar7 = pbVar12 + 1;
			bVar1 = *pbVar12;
			pbVar12 = pbVar12 + 4;
			uVar3 = (int)((uint)*pbVar5 << 0x18 | (uint)*pbVar6 << 0x10 | (uint)*pbVar7 << 8 | (uint)bVar1) >> 8;
			*puVar10 = *(undefined *)(param_3 + (uint)bVar1);
			uVar4 = (int)uVar3 >> 8;
			puVar10[1] = *(undefined *)(param_3 + (uVar3 & 0xff));
			puVar10[2] = *(undefined *)(param_3 + (uVar4 & 0xff));
			puVar10[3] = *(undefined *)(param_3 + ((int)uVar4 >> 8 & 0xffU));
			puVar10 = puVar10 + 4;
			uVar9 = uVar9 - 1;
		} while (uVar9 != 0);
		return;
	}
	return;
}

void FUN_100c9b6c(undefined4 *param_1, byte **param_2, int param_3, longlong param_4)

{
	byte *pbVar1;
	ulonglong uVar2;
	ulonglong uVar3;
	uint uVar4;
	undefined *puVar5;
	byte *pbVar6;

	puVar5 = (undefined *)*param_1;
	uVar4 = (uint)param_4;
	pbVar6 = *param_2;
	*(undefined **)param_1 = puVar5 + uVar4;
	uVar3 = (ulonglong)(uVar4 >> 2);
	*param_2 = *param_2 + uVar4;
	if ((int)uVar4 < 4)
		goto LAB_100c9ca8;
	uVar2 = (ulonglong)(uVar4 >> 5);
	if (uVar4 >> 5 == 0) {
	LAB_100c9c80:
		do {
			*puVar5 = *(undefined *)(param_3 + (uint)*pbVar6);
			pbVar1 = pbVar6 + 2;
			pbVar6 = pbVar6 + 4;
			puVar5[2] = *(undefined *)(param_3 + (uint)*pbVar1);
			puVar5 = puVar5 + 4;
			uVar3 = uVar3 - 1;
		} while (uVar3 != 0);
	} else {
		do {
			*puVar5 = *(undefined *)(param_3 + (uint)*pbVar6);
			puVar5[2] = *(undefined *)(param_3 + (uint)pbVar6[2]);
			puVar5[4] = *(undefined *)(param_3 + (uint)pbVar6[4]);
			puVar5[6] = *(undefined *)(param_3 + (uint)pbVar6[6]);
			puVar5[8] = *(undefined *)(param_3 + (uint)pbVar6[8]);
			puVar5[10] = *(undefined *)(param_3 + (uint)pbVar6[10]);
			puVar5[0xc] = *(undefined *)(param_3 + (uint)pbVar6[0xc]);
			puVar5[0xe] = *(undefined *)(param_3 + (uint)pbVar6[0xe]);
			puVar5[0x10] = *(undefined *)(param_3 + (uint)pbVar6[0x10]);
			puVar5[0x12] = *(undefined *)(param_3 + (uint)pbVar6[0x12]);
			puVar5[0x14] = *(undefined *)(param_3 + (uint)pbVar6[0x14]);
			puVar5[0x16] = *(undefined *)(param_3 + (uint)pbVar6[0x16]);
			puVar5[0x18] = *(undefined *)(param_3 + (uint)pbVar6[0x18]);
			puVar5[0x1a] = *(undefined *)(param_3 + (uint)pbVar6[0x1a]);
			puVar5[0x1c] = *(undefined *)(param_3 + (uint)pbVar6[0x1c]);
			pbVar1 = pbVar6 + 0x1e;
			pbVar6 = pbVar6 + 0x20;
			puVar5[0x1e] = *(undefined *)(param_3 + (uint)*pbVar1);
			puVar5 = puVar5 + 0x20;
			uVar2 = uVar2 - 1;
		} while (uVar2 != 0);
		uVar3 = uVar3 & 7;
		if ((uVar4 >> 2 & 7) != 0)
			goto LAB_100c9c80;
	}
	param_4 = param_4 - (ulonglong)(uVar4 & 0xfffffffc);
LAB_100c9ca8:
	if ((int)param_4 != 0) {
		do {
			if (((uint)puVar5 & 1) == 0) {
				*puVar5 = *(undefined *)(param_3 + (uint)*pbVar6);
			}
			puVar5 = puVar5 + 1;
			pbVar6 = pbVar6 + 1;
			param_4 = param_4 + -1;
		} while (param_4 != 0);
		return;
	}
	return;
}

void FUN_100c9cd8(undefined4 *param_1, byte **param_2, int param_3, longlong param_4)

{
	byte *pbVar1;
	ulonglong uVar2;
	ulonglong uVar3;
	uint uVar4;
	undefined *puVar5;
	byte *pbVar6;

	puVar5 = (undefined *)*param_1;
	uVar4 = (uint)param_4;
	pbVar6 = *param_2;
	*(undefined **)param_1 = puVar5 + uVar4;
	uVar3 = (ulonglong)(uVar4 >> 2);
	*param_2 = *param_2 + uVar4;
	if ((int)uVar4 < 4)
		goto LAB_100c9e14;
	uVar2 = (ulonglong)(uVar4 >> 5);
	if (uVar4 >> 5 == 0) {
	LAB_100c9dec:
		do {
			puVar5[1] = *(undefined *)(param_3 + (uint)pbVar6[1]);
			pbVar1 = pbVar6 + 3;
			pbVar6 = pbVar6 + 4;
			puVar5[3] = *(undefined *)(param_3 + (uint)*pbVar1);
			puVar5 = puVar5 + 4;
			uVar3 = uVar3 - 1;
		} while (uVar3 != 0);
	} else {
		do {
			puVar5[1] = *(undefined *)(param_3 + (uint)pbVar6[1]);
			puVar5[3] = *(undefined *)(param_3 + (uint)pbVar6[3]);
			puVar5[5] = *(undefined *)(param_3 + (uint)pbVar6[5]);
			puVar5[7] = *(undefined *)(param_3 + (uint)pbVar6[7]);
			puVar5[9] = *(undefined *)(param_3 + (uint)pbVar6[9]);
			puVar5[0xb] = *(undefined *)(param_3 + (uint)pbVar6[0xb]);
			puVar5[0xd] = *(undefined *)(param_3 + (uint)pbVar6[0xd]);
			puVar5[0xf] = *(undefined *)(param_3 + (uint)pbVar6[0xf]);
			puVar5[0x11] = *(undefined *)(param_3 + (uint)pbVar6[0x11]);
			puVar5[0x13] = *(undefined *)(param_3 + (uint)pbVar6[0x13]);
			puVar5[0x15] = *(undefined *)(param_3 + (uint)pbVar6[0x15]);
			puVar5[0x17] = *(undefined *)(param_3 + (uint)pbVar6[0x17]);
			puVar5[0x19] = *(undefined *)(param_3 + (uint)pbVar6[0x19]);
			puVar5[0x1b] = *(undefined *)(param_3 + (uint)pbVar6[0x1b]);
			puVar5[0x1d] = *(undefined *)(param_3 + (uint)pbVar6[0x1d]);
			pbVar1 = pbVar6 + 0x1f;
			pbVar6 = pbVar6 + 0x20;
			puVar5[0x1f] = *(undefined *)(param_3 + (uint)*pbVar1);
			puVar5 = puVar5 + 0x20;
			uVar2 = uVar2 - 1;
		} while (uVar2 != 0);
		uVar3 = uVar3 & 7;
		if ((uVar4 >> 2 & 7) != 0)
			goto LAB_100c9dec;
	}
	param_4 = param_4 - (ulonglong)(uVar4 & 0xfffffffc);
LAB_100c9e14:
	if ((int)param_4 != 0) {
		do {
			if (((uint)puVar5 & 1) != 0) {
				*puVar5 = *(undefined *)(param_3 + (uint)*pbVar6);
			}
			puVar5 = puVar5 + 1;
			pbVar6 = pbVar6 + 1;
			param_4 = param_4 + -1;
		} while (param_4 != 0);
		return;
	}
	return;
}

void FUN_100c9e44(undefined4 *param_1, byte **param_2, int param_3, longlong param_4, int *param_5)

{
	int iVar1;
	undefined *puVar2;
	byte *pbVar3;
	int iVar4;

	iVar1 = (int)param_4;
	puVar2 = (undefined *)*param_1;
	pbVar3 = *param_2;
	iVar4 = *param_5;
	*(undefined **)param_1 = puVar2 + iVar1;
	*param_2 = *param_2 + iVar1;
	if (iVar1 != 0) {
		do {
			if (iVar4 < 0) {
				*puVar2 = *(undefined *)(param_3 + (uint)*pbVar3);
			}
			iVar4 = iVar4 << 1;
			puVar2 = puVar2 + 1;
			pbVar3 = pbVar3 + 1;
			param_4 = param_4 + -1;
		} while (param_4 != 0);
	}
	*param_5 = iVar4;
	return;
}

void FUN_100c9e9c(byte **param_1, byte **param_2, uint param_3)

{
	byte bVar1;
	byte bVar2;
	uint uVar3;
	ulonglong uVar4;
	uint uVar5;
	byte *pbVar6;
	byte *pbVar7;

	pbVar6 = *param_1;
	pbVar7 = *param_2;
	*param_1 = pbVar6 + param_3;
	*param_2 = *param_2 + param_3;
	if ((param_3 & 1) != 0) {
		bVar1 = *pbVar7;
		pbVar7 = pbVar7 + 1;
		if (bVar1 != 0) {
			*pbVar6 = bVar1;
		}
		pbVar6 = pbVar6 + 1;
		param_3 = param_3 - 1;
	}
	if ((param_3 & 2) != 0) {
		bVar1 = pbVar7[1];
		bVar2 = *pbVar7;
		if (CONCAT11(bVar1, bVar2) != 0) {
			if (bVar2 != 0) {
				*pbVar6 = bVar2;
			}
			if (bVar1 != 0) {
				pbVar6[1] = bVar1;
			}
		}
		pbVar6 = pbVar6 + 2;
		pbVar7 = pbVar7 + 2;
		param_3 = param_3 - 2;
	}
	uVar4 = (ulonglong)(param_3 >> 2);
	if ((int)param_3 < 4) {
		return;
	}
	do {
		bVar1 = *pbVar7;
		uVar5 = (uint)pbVar7[3] << 0x18 | (uint)pbVar7[2] << 0x10 | (uint)pbVar7[1] << 8 | (uint)bVar1;
		if (uVar5 != 0) {
			uVar5 = (int)uVar5 >> 8;
			if (bVar1 != 0) {
				*pbVar6 = bVar1;
			}
			uVar3 = uVar5 & 0xff;
			uVar5 = (int)uVar5 >> 8;
			if (uVar3 != 0) {
				pbVar6[1] = (byte)uVar3;
			}
			uVar3 = uVar5 & 0xff;
			if (uVar3 != 0) {
				pbVar6[2] = (byte)uVar3;
			}
			uVar5 = (int)uVar5 >> 8 & 0xff;
			if (uVar5 != 0) {
				pbVar6[3] = (byte)uVar5;
			}
		}
		pbVar6 = pbVar6 + 4;
		pbVar7 = pbVar7 + 4;
		uVar4 = uVar4 - 1;
	} while (uVar4 != 0);
	return;
}

void FUN_100c9f80(void)

{
	_DAT_100f4650 = _DAT_100f464c;
	return;
}

ulonglong FUN_100c9f8c(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	longlong lVar1;
	longlong lVar2;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	lVar1 = GetToolTrapAddress(0x9f, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	lVar2 = GetOSTrapAddress(0x94, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	return (ulonglong)(lVar1 != lVar2);
}

undefined8
FUN_100c9fe4(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	bool bVar1;
	ulonglong uVar2;
	undefined8 uVar3;
	short sVar4;
	undefined4 in_stack_ffffffb8;
	undefined4 local_18;
	undefined2 local_14;
	undefined2 local_12;
	short local_10[8];

	local_10[0] = 0;
	local_12 = 0;
	local_14 = 0;
	local_18 = 0;
	uVar2 = FUN_100c9f8c(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	if ((uVar2 & 0xff) == 0) {
		uVar3 = 0;
	} else {
		sVar4 = FUN_100ca1c4(local_10, &local_12, &local_14, &local_18, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8);
		uVar3 = 0;
		if (sVar4 == 0) {
			uVar3 = 1;
			bVar1 = true;
			if ((local_10[0] != -1) && (local_10[0] != -2)) {
				bVar1 = false;
			}
			if ((!bVar1) && (local_10[0] != -5)) {
				uVar3 = 0;
			}
		}
	}
	return uVar3;
}

short FUN_100ca1c4(undefined2 *param_1, undefined2 *param_2, undefined2 *param_3, undefined4 *param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	short sVar2;
	undefined uVar3;
	undefined uVar4;
	undefined uVar5;
	undefined4 in_stack_ffffff88;
	undefined auStack72[26];
	undefined2 local_2e;
	undefined2 local_2c;
	undefined2 local_2a;
	undefined2 local_28;
	undefined4 local_26;

	uVar5 = SUB41(param_4, 0);
	uVar4 = SUB41(param_3, 0);
	uVar3 = SUB41(param_2, 0);
	uVar1 = FUN_100c9f8c((char)param_1, uVar3, uVar4, uVar5, param_5, param_6, param_7, param_8,
	    in_stack_ffffff88);
	if ((uVar1 & 0xff) == 0) {
		sVar2 = -0x13a0;
	} else {
		local_2e = 5;
		local_26 = 0;
		sVar2 = FUN_100ca3f0((int)auStack72, uVar3, uVar4, uVar5, param_5, param_6, param_7, param_8,
		    in_stack_ffffff88);
		if (sVar2 == 0) {
			*param_1 = local_2c;
			*param_2 = local_2a;
			*param_3 = local_28;
			*param_4 = local_26;
		}
	}
	return sVar2;
}

undefined2
FUN_100ca264(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	undefined2 uVar2;
	undefined4 in_stack_ffffff98;
	undefined auStack56[26];
	undefined2 local_1e;
	undefined2 local_1c;
	undefined2 local_1a;

	uVar1 = FUN_100c9f8c(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffff98);
	if ((uVar1 & 0xff) == 0) {
		uVar2 = 0xec60;
	} else {
		local_1e = 0;
		local_1c = 0;
		local_1a = 0;
		uVar2 = FUN_100ca3f0((int)auStack56, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffff98);
	}
	return uVar2;
}

undefined2
FUN_100ca2ac(undefined2 param_1, undefined2 param_2, undefined4 param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	undefined2 uVar2;
	undefined uVar3;
	undefined uVar4;
	undefined4 in_stack_ffffff88;
	undefined auStack72[26];
	undefined2 local_2e;
	undefined2 local_2c;
	undefined2 local_2a;
	undefined4 local_28;

	uVar4 = (undefined)param_3;
	uVar3 = (undefined)param_2;
	uVar1 = FUN_100c9f8c((char)param_1, uVar3, uVar4, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffff88);
	if ((uVar1 & 0xff) == 0) {
		uVar2 = 0xec60;
	} else {
		local_2e = 2;
		local_2c = param_1;
		local_2a = param_2;
		local_28 = param_3;
		uVar2 = FUN_100ca3f0((int)auStack72, uVar3, uVar4, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffff88);
	}
	return uVar2;
}

void FUN_100ca484(char param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	char cVar2;
	undefined2 uVar3;
	short sVar4;

	iVar1 = (int)(ZEXT48(register0x0000000c) - 0x80);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	if ((((DAT_100f4662 != '\0') && (DAT_100f4660 != '\0')) && ((param_1 != '\0' || (DAT_100f4661 != '\0')))) && ((param_1 == '\0' || (DAT_100f4661 == '\0')))) {
		cVar2 = (char)(ZEXT48(register0x0000000c) - 0x80);
		DAT_100f4661 = '\0';
		*(undefined2 *)(iVar1 + 0x52) = 0x79;
		*(undefined4 *)(iVar1 + 0x4a) = 0;
		*(undefined2 *)(iVar1 + 0x50) = _DAT_100f465c;
		*(undefined2 *)(iVar1 + 0x4e) = _DAT_100f465e;
		sVar4 = PBStatusSync(cVar2 + '8', param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
		    *(undefined4 *)(iVar1 + 0x14));
		if ((sVar4 == 0) && (0xc00 < *(short *)(iVar1 + 0x54))) {
			*(undefined2 *)(iVar1 + 0x52) = 0x72;
			*(undefined4 *)(iVar1 + 0x4a) = 0;
			*(undefined2 *)(iVar1 + 0x50) = *(undefined2 *)(*(int *)(iVar1 + 0x14) + -0x4974);
			*(undefined2 *)(iVar1 + 0x4e) = *(undefined2 *)(*(int *)(iVar1 + 0x14) + -0x4972);
			if (param_1 == '\0') {
				uVar3 = 0xffff;
			} else {
				uVar3 = 0xc00;
			}
			*(undefined2 *)(iVar1 + 0x54) = uVar3;
			sVar4 = PBControlSync(cVar2 + '8', param_2, param_3, param_4, param_5, param_6, param_7, param_8,
			    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
			    *(undefined4 *)(iVar1 + 0x14));
			if ((sVar4 == 0) && (param_1 != '\0')) {
				*(undefined *)(*(int *)(iVar1 + 0x14) + -0x496f) = 1;
			}
		}
	}
	return;
}

undefined8
FUN_100ca5c4(longlong param_1, undefined2 *param_2, undefined2 *param_3, undefined param_4, char param_5, char param_6, char param_7, char param_8, undefined4 param_9)

{
	longlong lVar1;
	int iVar2;
	char cVar3;
	undefined **ppuVar4;
	short sVar7;
	uint uVar5;
	int *piVar6;
	longlong lVar8;
	longlong lVar9;
	undefined8 uVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	longlong lVar14;
	short sVar15;
	longlong lVar16;

	lVar14 = (longlong)param_8;
	lVar13 = (longlong)param_7;
	lVar12 = (longlong)param_6;
	lVar11 = (longlong)param_5;
	lVar9 = (longlong)(int)param_3;
	lVar8 = (longlong)(int)param_2;
	ppuVar4 = &toc;
	uVar10 = 0;
	sVar15 = 0;
	lVar1 = ZEXT48(register0x0000000c) - 0x210;
	iVar2 = (int)lVar1;
	*(BADSPACEBASE **)iVar2 = register0x0000000c;
	lVar16 = ZEXT48(register0x0000000c) - 0x1a5;
	do {
		do {
			do {
				sVar15 = sVar15 + 1;
				cVar3 = (char)lVar1;
				*(short *)(iVar2 + 0x188) = sVar15;
				*(undefined4 *)(iVar2 + 0x17e) = (int)lVar16;
				*(undefined2 *)(iVar2 + 0x182) = 0;
				*(undefined *)((int)ppuVar4 + -0x496e) = 0;
				sVar7 = PBHGetVInfoSync(cVar3 + 'l', (char)lVar8, (char)lVar9, (char)uVar10, (char)lVar11,
				    (char)lVar12, (char)lVar13, (char)lVar14, *(undefined *)(iVar2 + 0xb),
				    *(undefined *)(iVar2 + 0xf), *(undefined4 *)(iVar2 + 0x14));
				if (sVar7 != 0) {
					return 0;
				}
				lVar9 = 0;
				uVar10 = 0;
				lVar8 = param_1;
				uVar5 = EqualString((char)lVar16, (char)param_1, 0, 0, (char)lVar11, (char)lVar12, (char)lVar13,
				    (char)lVar14, *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf),
				    *(undefined4 *)(iVar2 + 0x14));
				ppuVar4 = *(undefined ***)(iVar2 + 0x14);
			} while (((uVar5 & 0xff) == 0) || (*(short *)(iVar2 + 0x1ae) < 1));
			piVar6 = (int *)GetDCtlEntry((char)*(undefined2 *)(iVar2 + 0x1b0), (char)lVar8, (char)lVar9,
			    (char)uVar10, (char)lVar11, (char)lVar12, (char)lVar13, (char)lVar14,
			    *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf),
			    *(undefined4 *)(iVar2 + 0x14));
			ppuVar4 = *(undefined ***)(iVar2 + 0x14);
		} while (piVar6 == (int *)0x0);
		if ((*(ushort *)(*piVar6 + 4) & 4) != 0) {
			*(undefined2 *)(iVar2 + 0x52) = 0x2b;
			*(undefined4 *)(iVar2 + 0x4a) = 0;
			*(undefined4 *)(iVar2 + 0x54) = 0x64657674;
			*(undefined2 *)(iVar2 + 0x50) = *(undefined2 *)(iVar2 + 0x1b0);
			*(undefined2 *)(iVar2 + 0x4e) = *(undefined2 *)(iVar2 + 0x182);
			sVar7 = PBStatusSync(cVar3 + '8', (char)lVar8, (char)lVar9, (char)uVar10, (char)lVar11,
			    (char)lVar12, (char)lVar13, (char)lVar14, *(undefined *)(iVar2 + 0xb),
			    *(undefined *)(iVar2 + 0xf), *(undefined4 *)(iVar2 + 0x14));
			ppuVar4 = *(undefined ***)(iVar2 + 0x14);
			if ((sVar7 == 0) && (*(int *)(iVar2 + 0x58) == 0x6364726d)) {
				*(undefined *)((int)ppuVar4 + -0x496e) = 1;
			}
		}
	} while (*(char *)((int)ppuVar4 + -0x496e) == '\0');
	*param_2 = *(undefined2 *)(iVar2 + 0x182);
	*param_3 = *(undefined2 *)(iVar2 + 0x1b0);
	return 1;
}

void FUN_100ca9d4(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 uVar1;
	int iVar2;
	uint uVar3;
	undefined uVar4;
	double dVar5;
	undefined in_stack_ffffff9b;
	undefined in_stack_ffffff9f;
	int local_5c;

	uVar4 = 0x24;
	memset((char)param_1, 0x24, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffff9b,
	    in_stack_ffffff9f, local_5c);
	GetDefaultOutputVolume((char)param_1 + '\x04', uVar4, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffff9b, in_stack_ffffff9f, local_5c);
	*(uint *)(param_1 + 0x10) = *(uint *)(param_1 + 4) & 0xffff;
	if (*(int *)(param_1 + 0x10) < 0) {
		*(undefined4 *)(param_1 + 0x10) = 0;
	}
	*(uint *)(param_1 + 0x14) = *(uint *)(param_1 + 4) >> 0x10;
	if (*(int *)(param_1 + 0x14) < 0) {
		*(undefined4 *)(param_1 + 0x14) = 0;
	}
	iVar2 = *(int *)(param_1 + 0x10);
	if (iVar2 < *(int *)(param_1 + 0x14)) {
		iVar2 = *(int *)(param_1 + 0x14);
	}
	*(int *)(param_1 + 8) = iVar2;
	if (0x100 < *(int *)(param_1 + 8)) {
		*(undefined4 *)(param_1 + 8) = 0x100;
	}
	if (*(uint *)(param_1 + 8) == 0) {
		uVar1 = *(undefined4 *)(local_5c + -0x4960);
		*(undefined4 *)(param_1 + 0x18) = uVar1;
		*(undefined4 *)(param_1 + 0x1c) = uVar1;
	} else {
		dVar5 = *(double *)(local_5c + -0x4968);
		*(float *)(param_1 + 0x18) = (float)((double)CONCAT44(0x43300000, *(uint *)(param_1 + 0x10) ^ 0x80000000) - dVar5) / (float)((double)CONCAT44(0x43300000, *(uint *)(param_1 + 8) ^ 0x80000000) - dVar5);
		*(float *)(param_1 + 0x1c) = (float)((double)CONCAT44(0x43300000, *(uint *)(param_1 + 0x14) ^ 0x80000000) - dVar5) / (float)((double)CONCAT44(0x43300000, *(uint *)(param_1 + 8) ^ 0x80000000) - dVar5);
	}
	uVar3 = *(int *)(param_1 + 8) * 7;
	*(int *)(param_1 + 0xc) = ((int)uVar3 >> 8) + (uint)((int)uVar3 < 0 && (uVar3 & 0xff) != 0) + 1;
	return;
}

void FUN_100cab2c(int param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	double dVar1;
	int iVar2;
	uint uVar3;
	undefined in_stack_ffffffab;
	undefined in_stack_ffffffaf;
	undefined4 local_4c;

	iVar2 = (param_1 + -1) * 0x100 + 6;
	uVar3 = iVar2 / 7 + (iVar2 >> 0x1f);
	uVar3 = uVar3 + (uVar3 >> 0x1f) ^ 0x80000000;
	dVar1 = (double)CONCAT44(0x43300000, uVar3) - _DAT_100f4668;
	*(int *)(param_2 + 0x10) = (int)((float)((double)CONCAT44(0x43300000, uVar3) - _DAT_100f4668) * *(float *)(param_2 + 0x18));
	*(int *)(param_2 + 0x14) = (int)((float)dVar1 * *(float *)(param_2 + 0x1c));
	*(uint *)(param_2 + 0x20) = *(int *)(param_2 + 0x14) << 0x10 | *(uint *)(param_2 + 0x10);
	SetDefaultOutputVolume((char)*(undefined4 *)(param_2 + 0x20), (char)param_2, 0, param_4, param_5, param_6, param_7,
	    param_8, in_stack_ffffffab, in_stack_ffffffaf, local_4c);
	return;
}

ulonglong FUN_100cabec(undefined8 param_1, char param_2, char param_3, undefined4 *param_4,
    undefined8 param_5, int param_6, int param_7, int param_8, undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	uint uVar3;
	undefined4 uVar4;
	undefined4 uVar5;
	undefined8 uVar6;
	ulonglong uVar7;
	ulonglong uVar8;
	undefined4 uVar11;
	undefined uVar13;
	undefined4 uVar12;
	ulonglong uVar9;
	undefined8 uVar10;
	char cVar15;
	int iVar14;
	undefined uVar16;
	char cVar17;
	undefined uVar19;
	longlong lVar18;
	undefined uVar20;
	undefined uVar21;
	longlong lVar22;
	undefined uVar23;
	longlong lVar24;
	undefined uVar25;
	longlong lVar26;
	undefined uVar27;
	undefined8 unaff_r16;
	undefined8 unaff_r17;
	undefined8 unaff_r18;
	undefined8 unaff_r19;
	undefined8 unaff_r20;
	undefined8 unaff_r21;
	undefined8 unaff_r22;
	ulonglong uVar28;
	undefined8 unaff_r23;
	longlong lVar29;
	undefined8 unaff_r24;
	undefined8 unaff_r25;
	undefined8 unaff_r26;
	longlong lVar30;
	undefined8 unaff_r27;
	longlong lVar31;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	undefined auStack1120[1056];
	undefined4 local_40;
	undefined4 uStack60;
	undefined4 uStack56;
	undefined4 uStack52;
	undefined4 uStack48;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	uVar5 = _DAT_100f3b58;
	uVar4 = _DAT_100f3b24;
	uVar16 = (undefined)param_1;
	lVar26 = (longlong)param_8;
	lVar24 = (longlong)param_7;
	lVar22 = (longlong)param_6;
	uVar19 = SUB41(param_4, 0);
	uVar7 = ZEXT48(register0x0000000c);
	local_40 = (undefined4)((ulonglong)unaff_r16 >> 0x20);
	uStack60 = (undefined4)((ulonglong)unaff_r17 >> 0x20);
	uStack56 = (undefined4)((ulonglong)unaff_r18 >> 0x20);
	uStack52 = (undefined4)((ulonglong)unaff_r19 >> 0x20);
	uStack48 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar28 = 1;
	puVar2 = (undefined *)(uVar7 - 0x7e0);
	*(BADSPACEBASE **)puVar2 = register0x0000000c;
	uVar10 = param_5;
	cVar15 = param_2;
	cVar17 = param_3;
	uVar11 = GetMainDevice(uVar16, param_2, param_3, uVar19, (char)param_5, (char)param_6, (char)param_7,
	    (char)param_8, puVar2[0xb], puVar2[0xf], *(undefined4 *)(puVar2 + 0x14));
	*param_4 = uVar11;
	*(undefined *)param_5 = 0;
	uVar13 = FUN_100ca9d4((int)(puVar2 + 0x23c), cVar15, cVar17, uVar19, (char)uVar10, (char)lVar22,
	    (char)lVar24, (char)lVar26, *(undefined4 *)(puVar2 + 8));
	uVar11 = *(undefined4 *)(puVar2 + 0x248);
	_DAT_100f6130 = *(undefined4 *)(puVar2 + 0x240);
	uVar6 = countLeadingZeros(1 - *(int *)(puVar2 + 0x248));
	puVar2[0x23c] = (char)((uint)uVar6 >> 5);
	puVar2[0x23c] = 0;
	*(undefined4 *)(puVar2 + 0x268) = 0;
	*(undefined4 *)(puVar2 + 0x26c) = 0;
	*(undefined4 *)(puVar2 + 0x270) = 0;
	*(undefined4 *)(puVar2 + 0x274) = 0;
	uVar12 = GetMainDevice(uVar13, cVar15, cVar17, uVar19, (char)uVar10, (char)lVar22, (char)lVar24,
	    (char)lVar26, puVar2[0xb], puVar2[0xf], *(undefined4 *)(puVar2 + 0x14));
	*(undefined4 *)(puVar2 + 0x278) = uVar12;
	lVar29 = uVar7 - 0x560;
	uVar12 = *(undefined4 *)(*(int *)(puVar2 + 0x14) + -0x54a8);
	*(undefined4 *)(puVar2 + 0x27c) = 0;
	strcpy((int)lVar29, uVar12, *puVar2);
	uVar13 = (undefined)(uVar7 - 0x360);
	lVar30 = uVar7 - 0x260;
	uVar19 = (undefined)lVar30;
	lVar31 = uVar7 - 0x160;
	iVar14 = (int)(uVar7 - 0x360);
	lVar18 = lVar31;
	FUN_10025168((int)auStack1120, iVar14, (int)lVar30, (int)lVar31, (char)uVar10, (char)lVar22,
	    (char)lVar24, (char)lVar26, *(undefined4 *)(puVar2 + 8));
	*(undefined4 *)(puVar2 + 0x780) = 2;
	*(undefined4 *)(puVar2 + 0x784) = 0;
	*(undefined4 *)(puVar2 + 0x788) = 0;
	*(undefined4 *)(puVar2 + 0x78c) = 0;
	*(undefined4 *)(puVar2 + 0x790) = uVar11;
	*(undefined4 *)(puVar2 + 0x794) = 0;
	FUN_100cb56c((undefined4 *)(puVar2 + 0x260), uVar13, uVar19, (char)lVar18, (char)uVar10, (char)lVar22,
	    (char)lVar24, (char)lVar26, *(undefined4 *)(puVar2 + 8));
	uVar13 = (undefined)lVar18;
	iVar1 = *(int *)(puVar2 + 0x790);
	if ((param_3 != '\0') || ((*(int *)(puVar2 + 0x268) == 0 && (param_2 == '\0')))) {
		uVar19 = (undefined)(uVar7 - 0x5a4);
		uVar28 = FUN_100cc8ec(uVar7 - 0x580, param_1, uVar7 - 0x5a4, lVar18, uVar10, (int)lVar22, (int)lVar24,
		    (int)lVar26, *(undefined4 *)(puVar2 + 8));
		SetDefaultOutputVolume((char)_DAT_100f6130, uVar16, uVar19, uVar13, (char)uVar10, (char)lVar22, (char)lVar24,
		    (char)lVar26, puVar2[0xb], puVar2[0xf], *(undefined4 *)(puVar2 + 0x14));
		if ((uVar28 & 0xff) != 0) {
			FUN_100cb734((int)(puVar2 + 0x260), uVar16, uVar19, uVar13, (char)uVar10, (char)lVar22, (char)lVar24, (char)lVar26, *(undefined4 *)(puVar2 + 8));
		}
	}
	if ((uVar28 & 0xff) != 0) {
		FUN_100239e8(*(uint *)(puVar2 + 0x274) & 0xff, *puVar2);
		*param_4 = *(undefined4 *)(puVar2 + 0x278);
		*(undefined *)param_5 = (char)*(undefined4 *)(puVar2 + 0x794);
		FUN_100251e0((int)auStack1120, iVar14, (int)lVar30, (int)lVar31, (char)uVar10, (char)lVar22,
		    (char)lVar24, (char)lVar26, *(undefined4 *)(puVar2 + 8));
		iVar14 = *(int *)(puVar2 + 0x780);
		if (iVar14 == 2) {
			*(undefined2 *)(puVar2 + 0x238) = 1;
		} else {
			if ((iVar14 < 2) && (0 < iVar14)) {
				*(undefined2 *)(puVar2 + 0x238) = 4;
			} else {
				*(undefined2 *)(puVar2 + 0x238) = 0;
			}
		}
		uVar6 = countLeadingZeros(*(undefined4 *)(puVar2 + 0x27c));
		puVar2[0x23a] = (char)((uint)uVar6 >> 5);
		strcpy(puVar2 + 0x138, (int)lVar29, *puVar2);
		uVar9 = SetModemInfo((char)(uVar7 - 0x7e0) + '8', (char)lVar29, (char)lVar30, (char)lVar31,
		    (char)uVar10, (char)lVar22, (char)lVar24, (char)lVar26, puVar2[0xb], puVar2[0xf], *(undefined4 *)(puVar2 + 0x14));
		uVar8 = (ulonglong) * (uint *)(puVar2 + 0x14);
		do {
			iVar14 = (int)uVar8;
			uVar27 = (undefined)lVar26;
			uVar25 = (undefined)lVar24;
			uVar23 = (undefined)lVar22;
			uVar13 = (undefined)lVar29;
			uVar16 = (undefined)uVar9;
			uVar21 = (undefined)uVar10;
			uVar20 = (undefined)lVar31;
			uVar19 = (undefined)lVar30;
			if (*(int *)(puVar2 + 0x26c) == 0)
				break;
			uVar10 = FUN_100c9fe4(uVar16, uVar13, uVar19, uVar20, uVar21, uVar23, uVar25, uVar27,
			    *(undefined4 *)(puVar2 + 8));
			*(undefined *)((int)uVar8 + -0x496d) = (char)uVar10;
			if ((*(int *)(puVar2 + 0x270) != 0) && (*(char *)((int)uVar8 + -0x496d) != '\0')) {
				FUN_100ca084('\0', (char)uVar5, uVar19, uVar20, uVar21, (char)lVar22, (char)lVar24, (char)lVar26,
				    *(undefined4 *)(puVar2 + 8));
				FUN_100d9118(uVar4, *puVar2);
			}
			lVar30 = uVar7 - 0x7a8;
			lVar29 = 0;
			lVar31 = 0;
			uVar10 = 0;
			uVar9 = FUN_100bb848((char)*(undefined4 *)(puVar2 + 0x270), 0, lVar30, 0, 0, (char)lVar22,
			    (char)lVar24, (char)lVar26, *(undefined4 *)(puVar2 + 8));
			iVar14 = (int)uVar8;
			uVar27 = (undefined)lVar26;
			uVar25 = (undefined)lVar24;
			uVar23 = (undefined)lVar22;
			uVar21 = (undefined)uVar10;
			uVar20 = (undefined)lVar31;
			uVar19 = (undefined)lVar30;
			uVar13 = (undefined)lVar29;
			uVar16 = (undefined)uVar9;
			if ((uVar9 & 0xff) == 0)
				break;
			uVar9 = FUN_100cd188(puVar2 + 0x38, lVar29, lVar30, (int)lVar31, (int)uVar10, (int)lVar22,
			    (int)lVar24, (int)lVar26, *(undefined4 *)(puVar2 + 8));
			iVar14 = (int)uVar8;
			uVar27 = (undefined)lVar26;
			uVar25 = (undefined)lVar24;
			uVar23 = (undefined)lVar22;
			uVar21 = (undefined)uVar10;
			uVar20 = (undefined)lVar31;
			uVar19 = (undefined)lVar30;
			uVar13 = (undefined)lVar29;
			uVar16 = (undefined)uVar9;
			uVar3 = (uint)uVar9 & 0xff;
			if (uVar3 == 1) {
				return 0;
			}
		} while (uVar3 == 3);
		if (*(int *)(puVar2 + 0x788) != 0) {
			FUN_1001773c(uVar16, uVar13, uVar19, uVar20, uVar21, uVar23, uVar25, uVar27,
			    *(undefined4 *)(puVar2 + 8));
			FUN_10017b1c(1, uVar13, uVar19, uVar20, uVar21, uVar23, uVar25, uVar27, *(undefined4 *)(puVar2 + 8));
		}
		**(undefined **)(iVar14 + -0x7814) = (char)*(undefined4 *)(puVar2 + 0x784);
		if (*(int *)(puVar2 + 0x790) != iVar1) {
			FUN_100cab2c(*(int *)(puVar2 + 0x790), (int)(puVar2 + 0x23c), uVar19, uVar20, uVar21, uVar23, uVar25, uVar27, *(undefined4 *)(puVar2 + 8));
		}
		*(undefined *)(iVar14 + -0x4970) = (char)*(undefined4 *)(puVar2 + 0x78c);
	}
	return uVar28;
}

undefined8
FUN_100caeac(undefined4 *puParm1, undefined *puParm2, undefined8 uParm3, undefined param_4,
    undefined param_5, undefined param_6, undefined4 uParm7, undefined4 uParm8)

{
	ushort uVar1;
	undefined *puVar2;
	char cVar3;
	ulonglong uVar4;
	int iVar5;
	ulonglong uVar6;
	ulonglong uVar7;
	undefined uVar8;
	undefined uVar9;
	undefined8 uVar10;

	uVar4 = ZEXT48(register0x0000000c);
	uVar7 = ZEXT48(&toc);
	uVar10 = 0;
	puVar2 = (undefined *)(uVar4 - 0x80);
	*(BADSPACEBASE **)puVar2 = register0x0000000c;
	*puParm1 = 0;
	FUN_100cd310(puVar2 + 0x60, puVar2 + 0x5c, puVar2 + 0x58, *puVar2);
	cVar3 = (char)(uVar4 - 0x80);
	*(short *)(puVar2 + 0x50) = (short)*(undefined4 *)(puVar2 + 0x60);
	uVar9 = (undefined) * (undefined4 *)(puVar2 + 0x5c);
	*(short *)(puVar2 + 0x52) = (short)*(undefined4 *)(puVar2 + 0x5c);
	uVar8 = (undefined) * (undefined4 *)(puVar2 + 0x58);
	*(short *)(puVar2 + 0x54) = (short)*(undefined4 *)(puVar2 + 0x58);
	puVar2[0x56] = 1;
	uVar6 = FUN_100ca73c(cVar3 + 'P', uVar8, uVar9, param_4, param_5, param_6, (char)uParm7, (char)uParm8,
	    *(undefined4 *)(puVar2 + 8));
	if ((uVar6 & 0xff) != 0) {
		uVar6 = FUN_100ce0e4(2, uVar8, uVar9, param_4, param_5, param_6, (char)uParm7, (char)uParm8,
		    *(undefined4 *)(puVar2 + 8));
		if ((uVar6 & 0xff) != 0) {
			FUN_100d9118(*(undefined4 *)((int)uVar7 + -0x54b0), *puVar2);
			iVar5 = (int)uVar7;
			uVar8 = (undefined)(uVar7 - 0x4972);
			uVar9 = (undefined)(uVar7 - 0x4974);
			uVar7 = FUN_100ca5c4((ulonglong) * (uint *)(iVar5 + -0x54b4), (undefined2 *)(uVar7 - 0x4972),
			    (undefined2 *)(uVar7 - 0x4974), param_4, param_5, param_6, (char)uParm7,
			    (char)uParm8, *(undefined4 *)(puVar2 + 8));
			if ((uVar7 & 0xff) != 0) {
				FUN_100ca484('\x01', uVar8, uVar9, param_4, param_5, param_6, (char)uParm7, (char)uParm8,
				    *(undefined4 *)(puVar2 + 8));
				FUN_100d9118(*(undefined4 *)(iVar5 + -0x54b8), *puVar2);
			}
			GetOSEvent(0, cVar3 + '<', uVar9, param_4, param_5, param_6, (char)uParm7, (char)uParm8, puVar2[0xb],
			    puVar2[0xf], *(undefined4 *)(puVar2 + 0x14));
			uVar1 = *(ushort *)(puVar2 + 0x4a);
			uVar7 = FUN_100cabec(uVar4 - 0x30, '\x01' - ((uVar1 & 0x1000) == 0),
			    '\x01' - ((uVar1 & 0x800) == 0), (undefined4 *)(puVar2 + 0x4c),
			    uVar4 - 0x48, (uint)uVar1, uParm7, uParm8, *(undefined4 *)(puVar2 + 8));
			if ((uVar7 & 0xff) != 0) {
				uVar10 = 1;
				*puParm1 = *(undefined4 *)(puVar2 + 0x4c);
				*puParm2 = puVar2[0x38];
			}
		}
	}
	return uVar10;
}

void FUN_100cafe4(void)

{
	_DAT_100f4664 = _DAT_100f4658;
	return;
}

undefined8
FUN_100caff0(uint param_1, undefined param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined4 uVar1;
	char *pcVar2;
	uint *puVar3;
	uint *puVar4;
	undefined uVar5;
	ulonglong uVar6;
	uint uVar7;
	uint uVar8;
	undefined4 *puVar9;
	undefined uVar10;
	longlong lVar11;
	undefined uVar13;
	undefined8 uVar12;
	undefined8 uVar14;
	undefined uVar15;
	ulonglong uVar16;
	undefined uVar17;
	longlong lVar18;
	undefined uVar19;
	longlong lVar20;
	undefined uVar21;
	undefined8 unaff_r26;
	ulonglong uVar22;
	undefined8 unaff_r27;
	char cVar24;
	ulonglong uVar23;
	undefined8 unaff_r28;
	int iVar25;
	undefined8 unaff_r29;
	undefined8 uVar26;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	longlong lVar27;
	undefined4 in_stack_fffffb58;
	undefined uVar28;
	undefined in_stack_fffffb5f;
	int local_49c;
	int iVar29;
	uint local_30;
	uint local_2c;
	uint local_28[4];
	undefined4 local_18;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar4 = _DAT_100f3b64;
	puVar3 = _DAT_100f17b8;
	lVar20 = (longlong)param_8;
	lVar18 = (longlong)param_7;
	uVar6 = ZEXT48(register0x0000000c);
	local_18 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar26 = 0;
	lVar27 = 0x80;
	lVar11 = uVar6 - 0x464;
	puVar9 = (undefined4 *)(_DAT_100f3b68 + -8);
	do {
		uVar1 = puVar9[3];
		lVar11 = lVar11 + 8;
		*(undefined4 *)lVar11 = puVar9[2];
		((undefined4 *)lVar11)[1] = uVar1;
		lVar27 = lVar27 + -1;
		puVar9 = puVar9 + 2;
	} while (lVar27 != 0);
	if ((param_1 & 0xff) == 0) {
		cVar24 = '\x01';
	} else {
		cVar24 = '\x02';
	}
	memset((char)puVar4, 0x18, (char)lVar11, param_4, param_5, param_6, param_7, param_8,
	    (char)in_stack_fffffb58, in_stack_fffffb5f, local_49c);
	if (*(char *)(local_49c + -0x495c) != cVar24) {
		uVar10 = 0;
		uVar13 = 0;
		FUN_100dbf44(uVar6 - 0x45c);
		lVar11 = FUN_100dbf44();
		if ((param_1 & 0xff) == 0) {
			uVar5 = 2;
		} else {
			uVar5 = 1;
		}
		uVar7 = InstallSysVidDriver(uVar5, uVar10, uVar13, param_4, param_5, param_6, (char)lVar18,
		    (char)lVar20, (char)in_stack_fffffb58, in_stack_fffffb5f, local_49c);
		if ((uVar7 & 0xff) != 0) {
			iVar29 = local_49c;
			FUN_10017aa8(param_1, uVar10, uVar13, param_4, param_5, param_6, (char)lVar18, (char)lVar20,
			    in_stack_fffffb58);
			FUN_100cd310(local_28, &local_2c, &local_30);
			uVar16 = (ulonglong)local_28[0];
			uVar14 = 8;
			FUN_100cd344(local_28, &local_2c, &local_30);
			uVar23 = (ulonglong) * (uint *)(local_49c + -0x5470);
			uVar7 = *(uint *)(local_49c + -0x4958);
			if (*(int *)(*puVar3 + 0xc0) != 0) {
				pcVar2 = (char *)(local_49c + -0x4950);
				local_49c = iVar29;
				FUN_100dbf44((ulonglong)(*pcVar2 != '\0'));
				iVar29 = local_49c;
			}
			uVar13 = (undefined) * (undefined4 *)(local_49c + -0x494c);
			uVar10 = 0xa4;
			uVar8 = FUN_100dbf44(uVar6 - 0x44);
			if ((uVar8 & 0xff) != 0) {
				if ((param_1 & 0xff) == 0) {
					if (*(char *)(iVar29 + -0x495c) == '\x02') {
						LeaveNiceEventProcessing((char)uVar8, uVar10, uVar13, (char)uVar23, (char)uVar14, (char)uVar16, (char)lVar18, (char)lVar20, (char)in_stack_fffffb58, in_stack_fffffb5f, iVar29);
					}
					*(undefined *)(iVar29 + -0x495c) = 1;
				} else {
					EnterNiceEventProcessing((char)uVar8, uVar10, uVar13, (char)uVar23, (char)uVar14, (char)uVar16, (char)lVar18,
					    (char)lVar20, (char)in_stack_fffffb58, in_stack_fffffb5f, iVar29);
					*(undefined *)(iVar29 + -0x495c) = 2;
				}
				uVar8 = FUN_100dbf44(uVar6 - 0x5c);
				if ((uVar8 & 0xff) == 0) {
					uVar8 = FUN_100dbf44(uVar6 - 0x5c);
					if ((uVar8 & 0xff) != 0) {
						uVar22 = (ulonglong)uVar7;
						iVar25 = 0;
						while (iVar25 < (int)local_2c) {
							memset(uVar22, 0, (ulonglong)local_28[0], (char)uVar23, (char)uVar14, (char)uVar16,
							    (char)lVar18, (char)lVar20, in_stack_fffffb58);
							iVar25 = iVar25 + 1;
							uVar22 = uVar22 + (ulonglong)local_28[0];
						}
						FUN_100dbf44();
						uVar23 = (ulonglong)*puVar3;
						FUN_100dbf44(uVar6 - 0x46c, 0, 0);
					}
				} else {
					iVar25 = 0;
					*puVar4 = local_28[0];
					puVar4[1] = local_2c;
					puVar4[2] = local_28[0];
					puVar4[3] = 0x20;
					puVar4[4] = local_30 & 0xff;
					puVar4[5] = uVar7;
					uVar22 = (ulonglong)uVar7;
					while (iVar25 < (int)local_2c) {
						memset(uVar22, 0, (ulonglong)local_28[0], (char)uVar23, (char)uVar14, (char)uVar16,
						    (char)lVar18, (char)lVar20, in_stack_fffffb58);
						iVar25 = iVar25 + 1;
						uVar22 = uVar22 + (ulonglong)local_28[0];
					}
					FUN_100dbf44();
				}
				uVar26 = 0;
				uVar12 = 0;
				FUN_100dbf44(uVar6 - 0x45c);
				if ((int)lVar11 < 1) {
					while (true) {
						uVar28 = (undefined)in_stack_fffffb58;
						uVar21 = (undefined)lVar20;
						uVar19 = (undefined)lVar18;
						uVar17 = (undefined)uVar16;
						uVar15 = (undefined)uVar14;
						uVar5 = (undefined)uVar23;
						uVar13 = (undefined)uVar12;
						uVar10 = (undefined)uVar26;
						iVar25 = (int)lVar11;
						lVar11 = lVar11 + 1;
						if (iVar25 == 0)
							break;
						FUN_100dbf44();
					}
				} else {
					while (true) {
						uVar28 = (undefined)in_stack_fffffb58;
						uVar21 = (undefined)lVar20;
						uVar19 = (undefined)lVar18;
						uVar17 = (undefined)uVar16;
						uVar15 = (undefined)uVar14;
						uVar5 = (undefined)uVar23;
						uVar13 = (undefined)uVar12;
						uVar10 = (undefined)uVar26;
						iVar25 = (int)lVar11;
						lVar11 = lVar11 + -1;
						if (iVar25 == 0)
							break;
						FUN_100dbf44();
					}
				}
				NiceEventProcessingForDuration(0xf0, uVar10, uVar13, uVar5, uVar15, uVar17, uVar19, uVar21, uVar28, in_stack_fffffb5f,
				    iVar29);
				uVar26 = 1;
			}
		}
	}
	return uVar26;
}

void FUN_100cb394(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	longlong lVar1;
	undefined8 uVar2;
	undefined4 in_stack_ffffffc8;

	lVar1 = -(ulonglong)DAT_100f4674 + 2;
	uVar2 = FUN_100caff0((int)lVar1 - ((uint)(lVar1 == 0) + (int)-(ulonglong)DAT_100f4674 + 1), param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	FUN_100cd818((char)uVar2, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

undefined8
FUN_100cba28(undefined8 param_1, uint *param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int iVar1;
	char cVar2;
	uint uVar3;
	undefined8 uVar4;

	uVar4 = 0;
	iVar1 = (int)(ZEXT48(register0x0000000c) - 0x480);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	cVar2 = (char)(ZEXT48(register0x0000000c) - 0x480);
	FUN_100b85b4((undefined)param_1, 0x19, cVar2 + 'd', param_4, param_5, param_6, param_7, param_8,
	    *(undefined4 *)(iVar1 + 8));
	uVar3 = (uint) * (byte *)(iVar1 + 0x364);
	if (*(byte *)(iVar1 + 0x364) < 0x4f) {
		FUN_100b85b4((undefined)param_1, 0x1b, cVar2 + '`', param_4, param_5, param_6, param_7, param_8,
		    *(undefined4 *)(iVar1 + 8));
		uVar3 = (uint) * (byte *)(iVar1 + 0x260);
		if (*(byte *)(iVar1 + 0x260) < 0x4f) {
			FUN_100b85b4((undefined)param_1, 0x1d, cVar2 + '\\', param_4, param_5, param_6, param_7, param_8,
			    *(undefined4 *)(iVar1 + 8));
			uVar3 = (uint) * (byte *)(iVar1 + 0x15c);
			if (*(byte *)(iVar1 + 0x15c) < 0x4f) {
				FUN_100b85b4((undefined)param_1, 0x1f, cVar2 + 'X', param_4, param_5, param_6, param_7, param_8,
				    *(undefined4 *)(iVar1 + 8));
				uVar3 = (uint) * (byte *)(iVar1 + 0x58);
				if (0x4e < *(byte *)(iVar1 + 0x58)) {
					uVar4 = 0x1f;
				}
			} else {
				uVar4 = 0x1d;
			}
		} else {
			uVar4 = 0x1b;
		}
	} else {
		uVar4 = 0x19;
	}
	if ((param_2 != (uint *)0x0) && ((short)uVar4 != 0)) {
		*param_2 = uVar3;
	}
	return uVar4;
}

void FUN_100cc068(undefined8 param_1, int param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	char cVar1;
	ulonglong uVar2;
	undefined8 uVar3;
	undefined uVar4;
	char cVar5;
	undefined4 in_stack_ffffffc8;
	undefined uVar6;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	uVar2 = FUN_100b8970((undefined)param_1, 4, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	*(uint *)(param_2 + 8) = (uint)uVar2 & 0xff;
	uVar2 = FUN_100b8970((undefined)param_1, 7, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	*(uint *)(param_2 + 0xc) = (uint)uVar2 & 0xff;
	uVar2 = FUN_100b8970((undefined)param_1, 8, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	*(uint *)(param_2 + 0x10) = (uint)uVar2 & 0xff;
	uVar2 = FUN_100b8970((undefined)param_1, 0x14, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	*(uint *)(param_2 + 0x14) = (uint)uVar2 & 0xff;
	uVar2 = FUN_100b8970((undefined)param_1, 9, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	*(uint *)(param_2 + 0x534) = (uint)uVar2 & 0xff;
	uVar2 = FUN_100b8a24((undefined)param_1, 0xf, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	*(uint *)(param_2 + 0x1c) = (uint)uVar2 & 0xff;
	uVar3 = FUN_100b87dc((undefined)param_1, 0x10, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	*(int *)(param_2 + 0x520) = (int)(short)uVar3;
	uVar3 = FUN_100b87dc((undefined)param_1, 0x11, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	*(int *)(param_2 + 0x524) = (int)(short)uVar3;
	uVar2 = FUN_100b8970((undefined)param_1, 0x16, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	*(uint *)(param_2 + 0x52c) = (uint)uVar2 & 0xff;
	uVar4 = 0x15;
	uVar3 = FUN_100b87dc((undefined)param_1, 0x15, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	*(int *)(param_2 + 0x530) = 9 - (int)(short)uVar3;
	uVar2 = FUN_100cda0c((char)uVar3, uVar4, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	if ((uVar2 & 0xff) != 0) {
		uVar2 = FUN_100b8970((undefined)param_1, 0x12, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
		*(uint *)(param_2 + 0x528) = (uint)uVar2 & 0xff;
	}
	cVar1 = (char)param_2;
	cVar5 = cVar1 + ' ';
	uVar4 = 0xc;
	FUN_100b85b4((undefined)param_1, 0xc, cVar5, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	p2cstr(cVar1 + ' ', uVar4, cVar5, param_4, param_5, param_6, param_7, param_8, (char)in_stack_ffffffc8,
	    in_stack_ffffffcf, local_2c);
	cVar5 = cVar1 + ' ';
	uVar4 = 0x19;
	FUN_100b85b4((undefined)param_1, 0x19, cVar5, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	p2cstr(cVar1 + ' ', uVar4, cVar5, param_4, param_5, param_6, param_7, param_8, (char)in_stack_ffffffc8,
	    in_stack_ffffffcf, local_2c);
	cVar5 = cVar1 + ' ';
	uVar4 = 0x1b;
	FUN_100b85b4((undefined)param_1, 0x1b, cVar5, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	p2cstr(cVar1 + ' ', uVar4, cVar5, param_4, param_5, param_6, param_7, param_8, (char)in_stack_ffffffc8,
	    in_stack_ffffffcf, local_2c);
	cVar5 = cVar1 + ' ';
	uVar4 = 0x1d;
	FUN_100b85b4((undefined)param_1, 0x1d, cVar5, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	p2cstr(cVar1 + ' ', uVar4, cVar5, param_4, param_5, param_6, param_7, param_8, (char)in_stack_ffffffc8,
	    in_stack_ffffffcf, local_2c);
	uVar6 = (undefined)in_stack_ffffffc8;
	cVar5 = cVar1 + ' ';
	uVar4 = 0x1f;
	FUN_100b85b4((undefined)param_1, 0x1f, cVar5, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	p2cstr(cVar1 + ' ', uVar4, cVar5, param_4, param_5, param_6, param_7, param_8, uVar6, in_stack_ffffffcf,
	    local_2c);
	return;
}

undefined8 FUN_100cc210(void)

{
	short sVar1;
	undefined8 uVar2;
	short *in_r8;

	sVar1 = *in_r8;
	if (((longlong)sVar1 & 0xffffffffU) < 0x17) {
		// WARNING: Could not recover jumptable at 0x100cc25c. Too many branches
		// WARNING: Treating indirect jump as call
		uVar2 = (**(code **)(_DAT_100f3b74 + (int)sVar1 * 4))();
		return uVar2;
	}
	*in_r8 = sVar1;
	return 0;
}

undefined8
FUN_100cceb4(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	short sVar3;
	undefined8 uVar2;

	iVar1 = (int)(ZEXT48(register0x0000000c) - 0x40);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	sVar3 = Gestalt(0x72, (char)(ZEXT48(register0x0000000c) - 0x40) + '8', param_3, param_4, param_5,
	    param_6, param_7, param_8, *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
	    *(undefined4 *)(iVar1 + 0x14));
	uVar2 = 0;
	if ((sVar3 == 0) && ((*(uint *)(iVar1 + 0x38) & 1) != 0)) {
		uVar2 = 1;
	}
	if (*(int *)(*(int *)(iVar1 + 0x14) + -0x7894) == 0) {
		uVar2 = 0;
	}
	return uVar2;
}

longlong FUN_100ccf10(char *param_1, char *param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	uint uVar2;
	longlong unaff_r30;
	undefined4 in_stack_ffffffb8;

	uVar1 = FUN_100cceb4((char)param_1, (char)param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	uVar2 = (uint)uVar1;
	if ((uVar1 & 0xff) != 0) {
		unaff_r30 = FUN_100ccbb4((char)param_1, (char)param_2, param_3, param_4, param_5, param_6, param_7,
		    param_8, in_stack_ffffffb8);
		if (unaff_r30 < 0) {
			uVar2 = 0;
		}
	}
	if ((uVar2 & 0xff) == 0) {
		unaff_r30 = FUN_100ccd60(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffb8);
	}
	return unaff_r30;
}

void FUN_100cd0ac(ulonglong param_1, int param_2, short *param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	FUN_100bceb8(param_1, (ulonglong)_DAT_100f3b80, param_2, param_3, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

void FUN_100cd310(undefined4 *param_1, undefined4 *param_2, undefined4 *param_3)

{
	if (param_1 != (undefined4 *)0x0) {
		*param_1 = 0x280;
	}
	if (param_2 != (undefined4 *)0x0) {
		*param_2 = 0x1e0;
	}
	if (param_3 == (undefined4 *)0x0) {
		return;
	}
	*param_3 = 8;
	return;
}

void FUN_100cd344(undefined4 *param_1, undefined4 *param_2, undefined4 *param_3)

{
	if (param_1 != (undefined4 *)0x0) {
		*param_1 = 0x300;
	}
	if (param_2 != (undefined4 *)0x0) {
		*param_2 = 0x290;
	}
	if (param_3 == (undefined4 *)0x0) {
		return;
	}
	*param_3 = 8;
	return;
}

ulonglong FUN_100cd794(short *param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	int local_18;
	int local_14[5];

	uVar1 = 0;
	if (param_1 != (short *)0x0) {
		if (*_DAT_100f17b8 != 0) {
			local_14[0] = (int)param_1[1];
			local_18 = (int)*param_1;
			uVar1 = FUN_100dbf44(local_14, &local_18, (ulonglong)*_DAT_100f17b8, param_4, param_5, param_6,
			    param_7, param_8);
			if ((uVar1 & 0xff) != 0) {
				param_1[1] = (short)local_14[0];
				*param_1 = (short)local_18;
			}
		}
	}
	return uVar1;
}

void FUN_100cd818(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	*(undefined4 *)PTR_DAT_100f1914 = 0xff;
	InvalidateRect(0, 0, 1, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffcb, in_stack_ffffffcf,
	    local_2c);
	return;
}

void FUN_100cd854(void)

{
	_DAT_100f4690 = _DAT_100f468c;
	return;
}

undefined8
FUN_100cd860(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined8 uVar1;
	int iVar2;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	if (ISpStartup == (undefined *)0x0) {
		uVar1 = 0;
	} else {
		iVar2 = ISpStartup(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
		if (iVar2 == 0) {
			uVar1 = 1;
		} else {
			uVar1 = 0;
		}
	}
	return uVar1;
}

longlong FUN_100cd8ac(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	uint uVar1;
	int iVar2;
	short sVar3;
	short sVar4;
	undefined uVar5;
	undefined uVar6;
	undefined uVar7;
	undefined uVar8;
	undefined uVar9;
	ulonglong uVar10;
	longlong lVar11;

	uVar6 = 0x6e;
	lVar11 = 0;
	sVar4 = -1;
	uVar10 = 0;
	uVar7 = 0;
	iVar2 = (int)(ZEXT48(register0x0000000c) - 0xa0);
	*(BADSPACEBASE **)iVar2 = register0x0000000c;
	uVar8 = 0xe8;
	uVar9 = 0xe4;
	sVar3 = FindFolder(0, 0x6e, 0, 0xe8, 0xe4, param_6, param_7, param_8, *(undefined *)(iVar2 + 0xb),
	    *(undefined *)(iVar2 + 0xf), *(undefined4 *)(iVar2 + 0x14));
	if (sVar3 == 0) {
		uVar8 = 0x9c;
		uVar6 = (undefined) * (undefined4 *)(iVar2 + 0x84);
		uVar7 = (undefined) * (undefined4 *)(*(int *)(iVar2 + 0x14) + -0x5440);
		sVar3 = FSMakeFSSpec((char)*(undefined2 *)(iVar2 + 0x88), uVar6, uVar7, 0x9c, uVar9, param_6, param_7,
		    param_8, *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf),
		    *(undefined4 *)(iVar2 + 0x14));
		if (sVar3 == 0) {
			uVar6 = 1;
			sVar4 = FSpOpenResFile((char)(ZEXT48(register0x0000000c) - 0xa0) + '<', 1, uVar7, uVar8, uVar9,
			    param_6, param_7, param_8, *(undefined *)(iVar2 + 0xb),
			    *(undefined *)(iVar2 + 0xf), *(undefined4 *)(iVar2 + 0x14));
			if (sVar4 != -1) {
				sVar3 = ResError((char)sVar4, uVar6, uVar7, uVar8, uVar9, param_6, param_7, param_8,
				    *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf),
				    *(undefined4 *)(iVar2 + 0x14));
				if (sVar3 == 0) {
					uVar6 = 1;
					uVar10 = Get1Resource(0x73, 1, uVar7, uVar8, uVar9, param_6, param_7, param_8,
					    *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf),
					    *(undefined4 *)(iVar2 + 0x14));
					if (uVar10 != 0) {
						sVar3 = ResError((char)uVar10, uVar6, uVar7, uVar8, uVar9, param_6, param_7, param_8,
						    *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf),
						    *(undefined4 *)(iVar2 + 0x14));
						if (sVar3 == 0) {
							uVar5 = LoadResource((char)uVar10, uVar6, uVar7, uVar8, uVar9, param_6, param_7, param_8,
							    *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf),
							    *(undefined4 *)(iVar2 + 0x14));
							if ((*(uint **)uVar10 != (uint *)0x0) && (sVar3 = ResError(uVar5, uVar6, uVar7, uVar8, uVar9, param_6, param_7, param_8, *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf), *(undefined4 *)(iVar2 + 0x14)), sVar3 == 0)) {
								uVar1 = **(uint **)uVar10;
								uVar6 = (undefined)uVar1;
								lVar11 = -((ulonglong)(uVar1 < 0x1700000) - 1);
							}
						}
					}
				}
			}
		}
	}
	if ((uVar10 & 0xffffffff) != 0) {
		ReleaseResource((char)uVar10, uVar6, uVar7, uVar8, uVar9, param_6, param_7, param_8,
		    *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf),
		    *(undefined4 *)(iVar2 + 0x14));
	}
	if (sVar4 != -1) {
		CloseResFile((char)sVar4, uVar6, uVar7, uVar8, uVar9, param_6, param_7, param_8,
		    *(undefined *)(iVar2 + 0xb), *(undefined *)(iVar2 + 0xf),
		    *(undefined4 *)(iVar2 + 0x14));
	}
	return lVar11;
}

undefined8
FUN_100cda0c(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	char cVar2;
	undefined **ppuVar3;
	ulonglong uVar4;
	short sVar6;
	undefined8 uVar5;
	undefined uVar7;
	int iVar8;

	ppuVar3 = &toc;
	iVar1 = (int)(ZEXT48(register0x0000000c) - 0x50);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	uVar4 = FUN_100cd8ac(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    *(undefined4 *)(iVar1 + 8));
	uVar7 = (undefined)uVar4;
	cVar2 = (char)(ZEXT48(register0x0000000c) - 0x50);
	if ((uVar4 & 0xff) != 0) {
		sVar6 = Gestalt(0x20, cVar2 + '8', param_3, param_4, param_5, param_6, param_7, param_8,
		    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
		    *(undefined4 *)(iVar1 + 0x14));
		if ((sVar6 == 0) && ((*(uint *)(iVar1 + 0x38) & 1) != 0)) {
			iVar8 = 0x860;
		} else {
			iVar8 = 0x810;
		}
		param_2 = 0xe8;
		sVar6 = Gestalt(0x76, 0xe8, param_3, param_4, param_5, param_6, param_7, param_8,
		    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
		    *(undefined4 *)(iVar1 + 0x14));
		uVar7 = (undefined)sVar6;
		ppuVar3 = *(undefined ***)(iVar1 + 0x14);
		if (sVar6 != 0) {
			return 0;
		}
		if (*(int *)(iVar1 + 0x38) < iVar8) {
			return 0;
		}
	}
	if ((*(char *)((int)ppuVar3 + -0x4933) == '\0') && (uVar4 = FUN_100cd860(uVar7, param_2, param_3, param_4, param_5, param_6, param_7, param_8, *(undefined4 *)(iVar1 + 8)), (uVar4 & 0xff) == 0)) {
		uVar5 = 0;
	} else {
		uVar7 = ISpGetVersion(cVar2 + '<', param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
		    *(undefined4 *)(iVar1 + 0x14));
		if ((*(char *)(*(int *)(iVar1 + 0x14) + -0x4933) == '\0') && (sVar6 = ISpShutdown(uVar7, param_2, param_3, param_4, param_5, param_6, param_7, param_8, *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf), *(undefined4 *)(iVar1 + 0x14)), sVar6 != 0)) {
			uVar5 = 0;
		} else {
			if ((*(char *)(iVar1 + 0x3c) == '\0') || ((*(char *)(iVar1 + 0x3c) == '\x01' && (*(byte *)(iVar1 + 0x3d) < 0x20)))) {
				uVar5 = 0;
			} else {
				uVar5 = 1;
			}
		}
	}
	return uVar5;
}

ulonglong FUN_100cde78(void)

{
	return (ulonglong)DAT_100f469c;
}

void FUN_100cdee0(char param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	if (((longlong)param_1 & 0xffffffffU) == 0) {
		param_1 = (char)_DAT_100f3b84;
	}
	ISpConfigure(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffcb,
	    in_stack_ffffffcf, local_2c);
	return;
}

ulonglong FUN_100cdf10(void)

{
	return (ulonglong)((~_DAT_100f4698 >> 0x1f) + (uint)(_DAT_100f4698 == 0) & 1);
}

void FUN_100cdf30(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined **local_2c;

	ppuVar1 = &toc;
	if (_DAT_100f4698 == 0) {
		ppuVar1 = local_2c;
		ISpSuspend(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffcb,
		    in_stack_ffffffcf, local_2c);
	}
	ppuVar1[-0x124e] = ppuVar1[-0x124e] + 1;
	return;
}

void FUN_100cdf6c(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	undefined uVar2;
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	iVar1 = _DAT_100f4698 + -1;
	if (iVar1 == 0) {
		uVar2 = (undefined)_DAT_100f4698;
		_DAT_100f4698 = iVar1;
		ISpResume(uVar2, param_2, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffcb,
		    in_stack_ffffffcf, local_2c);
		iVar1 = _DAT_100f4698;
	}
	_DAT_100f4698 = iVar1;
	return;
}

undefined8
FUN_100ce0e4(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 uVar1;
	int iVar2;
	int iVar3;
	short sVar5;
	ulonglong uVar4;
	undefined uVar6;
	undefined uVar7;
	undefined8 uVar8;

	uVar7 = 0;
	uVar8 = 0;
	iVar2 = (int)(ZEXT48(register0x0000000c) - 0x50);
	*(BADSPACEBASE **)iVar2 = register0x0000000c;
	*(undefined4 *)(iVar2 + 0x3c) = 0;
	uVar6 = 0xe8;
	sVar5 = Gestalt(0x76, 0xe8, 0, param_4, param_5, param_6, param_7, param_8, *(undefined *)(iVar2 + 0xb),
	    *(undefined *)(iVar2 + 0xf), *(undefined4 *)(iVar2 + 0x14));
	iVar3 = *(int *)(iVar2 + 0x14);
	if ((sVar5 == 0) && (0xfff < *(int *)(iVar2 + 0x38))) {
		uVar8 = 1;
	} else {
		if ((((*(int *)(iVar3 + -0x6e2c) == 0) || ((((*(int *)(iVar3 + -0x6e30) == 0 || (*(int *)(iVar3 + -0x6e34) == 0)) || (*(int *)(iVar3 + -0x6e38) == 0)) || ((*(int *)(iVar3 + -0x6e3c) == 0 || (*(int *)(iVar3 + -0x6e40) == 0)))))) || (*(int *)(iVar3 + -0x6e44) == 0)) || ((*(int *)(iVar3 + -0x6e48) == 0 || (*(int *)(iVar3 + -0x6e4c) == 0)))) {
			uVar8 = 0;
		} else {
			uVar4 = FUN_100d3368((char)(ZEXT48(register0x0000000c) - 0x50) + '<', uVar6, uVar7, param_4,
			    param_5, param_6, param_7, param_8, *(undefined4 *)(iVar2 + 8));
			if (((short)uVar4 == 0) && (uVar6 = param_1, uVar4 = FUN_100d3254((char)*(undefined4 *)(iVar2 + 0x3c), param_1, uVar7, param_4, param_5, param_6, param_7, param_8, *(undefined4 *)(iVar2 + 8)), (short)uVar4 == 0)) {
				uVar6 = 0;
				uVar4 = FUN_100d330c((char)*(undefined4 *)(iVar2 + 0x3c), 0, uVar7, param_4, param_5, param_6,
				    param_7, param_8, *(undefined4 *)(iVar2 + 8));
				if ((short)uVar4 == 0) {
					uVar1 = *(undefined4 *)(iVar2 + 0x3c);
					*(undefined *)(iVar3 + -0x4928) = 1;
					*(undefined4 *)(iVar3 + -0x492c) = uVar1;
					return 1;
				}
			}
			if (*(int *)(iVar2 + 0x3c) != 0) {
				FUN_100d33b8((char)*(int *)(iVar2 + 0x3c), uVar6, uVar7, param_4, param_5, param_6, param_7,
				    param_8, *(undefined4 *)(iVar2 + 8));
			}
		}
	}
	return uVar8;
}

void FUN_100ce228(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	undefined uVar2;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	uVar2 = 0;
	FUN_100d31f8((char)_DAT_100f46a4, 0, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	FUN_100d33b8((char)ppuVar1[-0x124b], uVar2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	ppuVar1[-0x124b] = (undefined *)0x0;
	*(undefined *)(ppuVar1 + -0x124a) = 0;
	return;
}

void FUN_100ce264(undefined4 *param_1)

{
	if ((DAT_100f46a8 != '\0') && (_DAT_100f46a4 != 0)) {
		*param_1 = *(undefined4 *)(*(int *)(_DAT_100f46a4 + 4) + 0x10);
		return;
	}
	*param_1 = _DAT_100f469e;
	return;
}

void FUN_100ce298(char param_1, char param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	uint uVar1;
	char cVar2;
	undefined4 in_stack_ffffffc8;

	uVar1 = (int)param_1 << 0xe;
	cVar2 = (char)(uVar1 >> 0x10) + ((int)uVar1 < 0 && (uVar1 & 0xc000) != 0);
	uVar1 = (int)param_2 << 0xe;
	FUN_100d30d8((char)_DAT_100f46a4, cVar2,
	    (char)(uVar1 >> 0x10) + ((int)uVar1 < 0 && (uVar1 & 0xc000) != 0), cVar2, param_5,
	    param_6, param_7, param_8, in_stack_ffffffc8);
	return;
}

void FUN_100ce2d8(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 in_stack_ffffffc8;

	FUN_100d31a8((char)_DAT_100f46a4, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

ulonglong FUN_100ce2fc(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	char cVar2;
	short sVar4;
	ulonglong uVar3;

	iVar1 = (int)(ZEXT48(register0x0000000c) - 0x50);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	*(undefined *)(iVar1 + 0x38) = 0;
	cVar2 = (char)(ZEXT48(register0x0000000c) - 0x50);
	sVar4 = GetCurrentProcess(cVar2 + 'D', param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
	    *(undefined4 *)(iVar1 + 0x14));
	if (sVar4 == 0) {
		sVar4 = GetFrontProcess(cVar2 + '<', param_2, param_3, param_4, param_5, param_6, param_7, param_8,
		    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
		    *(undefined4 *)(iVar1 + 0x14));
		if (sVar4 == 0) {
			SameProcess(0xf4, 0xf4, cVar2 + '8', param_4, param_5, param_6, param_7, param_8,
			    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
			    *(undefined4 *)(iVar1 + 0x14));
			uVar3 = (ulonglong) * (byte *)(iVar1 + 0x38);
		} else {
			uVar3 = 0;
		}
	} else {
		uVar3 = 0;
	}
	return uVar3;
}

void FUN_100ce378(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	SMemAlloc(0x88, (char)PTR_s_SELREGN_CPP_100f3bd0, 0x52, 0, param_5, param_6, param_7, param_8,
	    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	return;
}

void FUN_100ce3ac(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined in_stack_ffffffcb;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	if (param_1 != 0) {
		SMemFree((char)param_1, (char)PTR_s_SELREGN_CPP_100f3bd0, 0x58, 0, param_5, param_6, param_7, param_8,
		    in_stack_ffffffcb, in_stack_ffffffcf, local_2c);
	}
	return;
}

void FUN_100ce3e4(undefined4 *param_1, char param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	undefined4 *puVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	undefined4 in_stack_ffffffc8;

	lVar8 = (longlong)param_8;
	lVar7 = (longlong)param_7;
	lVar6 = (longlong)param_6;
	lVar5 = (longlong)param_5;
	lVar4 = (longlong)param_4;
	lVar3 = (longlong)param_3;
	lVar2 = (longlong)param_2;
	while (param_1 != (undefined4 *)0x0) {
		puVar1 = (undefined4 *)*param_1;
		FUN_100ce3ac((int)param_1, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6,
		    (char)lVar7, (char)lVar8, in_stack_ffffffc8);
		param_1 = puVar1;
	}
	return;
}

undefined4 *FUN_100ce420(undefined4 param_1, undefined4 *param_2)

{
	*param_2 = param_1;
	return param_2;
}

undefined8
FUN_100ce42c(char param_1, char param_2, char param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	int iVar1;
	undefined *puVar2;
	ulonglong uVar3;
	longlong lVar4;
	char *pcVar5;
	undefined4 *puVar6;
	ulonglong uVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	longlong lVar13;
	int iVar14;
	undefined4 in_stack_ffffffb8;

	puVar2 = PTR_DAT_100f178c;
	lVar13 = (longlong)param_8;
	lVar12 = (longlong)param_7;
	lVar11 = (longlong)param_6;
	lVar10 = (longlong)param_5;
	lVar9 = (longlong)param_4;
	lVar8 = (longlong)param_3;
	uVar7 = SEXT18(param_2);
	lVar4 = (longlong)param_1;
	uVar3 = ZEXT48(&toc);
	iVar14 = *(int *)(PTR_DAT_100f178c + 8);
	while (true) {
		if (iVar14 < 1) {
			return 1;
		}
		puVar6 = (undefined4 *)
		    FUN_100ce378((char)lVar4, (char)uVar7, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11,
		        (char)lVar12, (char)lVar13, in_stack_ffffffb8);
		if (puVar6 == (undefined4 *)0x0)
			break;
		*puVar6 = 0;
		puVar6[1] = iVar14;
		pcVar5 = FUN_100cfa98((int)puVar2, iVar14, (char)lVar8, (char)lVar9, (char)lVar10, (char)lVar11,
		    (char)lVar12, (char)lVar13, in_stack_ffffffb8);
		strcpy((int)(puVar6 + 2), (int)pcVar5);
		puVar6 = FUN_100ce420(*(undefined4 *)((int)uVar3 + -0x491c), puVar6);
		lVar4 = (longlong)(int)puVar6;
		iVar1 = (int)uVar3;
		uVar7 = (ulonglong) * (uint *)(iVar1 + -0x4920);
		iVar14 = iVar14 + -1;
		*(undefined4 **)(iVar1 + -0x491c) = puVar6;
		*(int *)(iVar1 + -0x4920) = *(uint *)(iVar1 + -0x4920) + 1;
	}
	return 0;
}


void FUN_100ce6ac(undefined8 param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined **ppuVar1;
	longlong lVar2;
	undefined4 in_stack_ffffffc8;

	ppuVar1 = &toc;
	lVar2 = FUN_100ce614((char)param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	FUN_1000bee8(param_1, 0x451, ppuVar1[-0x1248], (int)lVar2, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	return;
}

undefined4 *FUN_100ce904(int param_1)

{
	undefined4 *puVar1;

	puVar1 = _DAT_100f46b4;
	while ((puVar1 != (undefined4 *)0x0 && (param_1 != 0))) {
		puVar1 = (undefined4 *)*puVar1;
		param_1 = param_1 + -1;
	}
	return puVar1;
}

void FUN_100cf238(undefined4 param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined8 uVar1;
	undefined4 in_stack_ffffffc8;

	uVar1 = FUN_100cf1d0((char)param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	if ((int)uVar1 != 0) {
		FUN_100cf170(param_1, 1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	}
	return;
}

void FUN_100cf66c(void)

{
	_DAT_100f46b8 = _DAT_100f46ac;
	return;
}

void FUN_100cf804(int param_1, longlong param_2, char param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	longlong lVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	int iVar8;
	longlong lVar9;
	int iVar10;
	undefined4 in_stack_ffffffb8;

	lVar7 = (longlong)param_8;
	lVar6 = (longlong)param_7;
	lVar5 = (longlong)param_6;
	lVar4 = (longlong)param_5;
	lVar3 = (longlong)param_4;
	lVar2 = (longlong)param_3;
	iVar10 = 1;
	lVar9 = 0x564;
	iVar8 = 1;
	while (iVar8 <= *(int *)(param_1 + 8)) {
		lVar1 = FUN_100cfa3c(param_1, iVar8, (char)lVar2, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6,
		    (char)lVar7, in_stack_ffffffb8);
		lVar1 = abs(lVar1 * 0x3c - param_2);
		if ((int)lVar1 < (int)lVar9) {
			lVar9 = lVar1;
			iVar10 = iVar8;
		}
		iVar8 = iVar8 + 1;
	}
	FUN_100cfb08(param_1, iVar10);
	return;
}

int FUN_100cf988(int param_1, int param_2, char param_3, char param_4, char param_5, char param_6,
    char param_7, char param_8, undefined4 param_9)

{
	ulonglong uVar1;
	longlong lVar2;
	longlong lVar3;
	longlong lVar4;
	longlong lVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	int iVar11;
	undefined in_stack_ffffffbb;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	lVar9 = (longlong)param_8;
	lVar8 = (longlong)param_7;
	lVar7 = (longlong)param_6;
	lVar6 = (longlong)param_5;
	lVar5 = (longlong)param_4;
	lVar4 = (longlong)param_3;
	lVar3 = (longlong)param_2;
	uVar1 = (ulonglong) * (uint *)(param_1 + 0x10);
	if (((*(uint *)(param_1 + 0x10) != 0) && (0 < param_2)) && (param_2 <= *(int *)(param_1 + 8))) {
		iVar11 = 1;
		lVar10 = 0;
		while ((iVar11 < param_2 * 3 && ((int)lVar10 < *(int *)(param_1 + 0x14)))) {
			lVar2 = SStrLen((char)uVar1, (char)lVar3, (char)lVar4, (char)lVar5, (char)lVar6, (char)lVar7,
			    (char)lVar8, (char)lVar9, in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
			iVar11 = iVar11 + 1;
			uVar1 = uVar1 + lVar2 + 1;
			lVar10 = lVar10 + lVar2 + 1;
		}
		if (((int)lVar10 < *(int *)(param_1 + 0x14)) && (iVar11 <= param_2 * 3)) {
			param_1 = (int)uVar1;
		}
	}
	return param_1;
}

void FUN_100cfa3c(int param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int iVar1;
	undefined uVar2;
	char *pcVar3;
	undefined4 in_stack_ffffffb8;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;
	int aiStack24[6];

	uVar2 = (undefined)param_2;
	pcVar3 = (char *)FUN_100cf988(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffb8);
	if (*pcVar3 != '\0') {
		iVar1 = SStrLen((char)pcVar3, uVar2, param_3, param_4, param_5, param_6, param_7, param_8,
		    (char)in_stack_ffffffb8, in_stack_ffffffbf, local_3c);
		pcVar3 = pcVar3 + iVar1 + 1;
	}
	FUN_100d8d28((int)pcVar3, aiStack24, 10, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	return;
}

char *FUN_100cfa98(int param_1, int param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	int iVar1;
	undefined uVar2;
	char *pcVar3;
	undefined4 in_stack_ffffffc8;
	undefined uVar4;
	undefined in_stack_ffffffcf;
	undefined4 local_2c;

	uVar4 = (undefined)in_stack_ffffffc8;
	uVar2 = (undefined)param_2;
	pcVar3 = (char *)FUN_100cf988(param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	if (*pcVar3 != '\0') {
		iVar1 = SStrLen((char)pcVar3, uVar2, param_3, param_4, param_5, param_6, param_7, param_8, uVar4,
		    in_stack_ffffffcf, local_2c);
		pcVar3 = pcVar3 + iVar1 + 1;
	}
	if (*pcVar3 != '\0') {
		iVar1 = SStrLen((char)pcVar3, uVar2, param_3, param_4, param_5, param_6, param_7, param_8, uVar4,
		    in_stack_ffffffcf, local_2c);
		pcVar3 = pcVar3 + iVar1 + 1;
	}
	return pcVar3;
}

void FUN_100cfb08(int param_1, int param_2)

{
	if (*(int *)(param_1 + 0x10) == 0) {
		return;
	}
	if (param_2 < 1) {
		return;
	}
	if (*(int *)(param_1 + 8) < param_2) {
		return;
	}
	if (99 < param_2) {
		param_2 = 99;
	}
	*(int *)(param_1 + 0xc) = param_2;
	*(undefined4 *)(param_1 + 4) = 1;
	return;
}

void FUN_100cfc60(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	undefined4 uVar1;
	undefined **ppuVar2;
	undefined4 in_stack_ffffffc8;

	uVar1 = _DAT_100f3be0;
	ppuVar2 = &toc;
	*(undefined4 *)(param_1 + 0x1c) = 0;
	FUN_100cfb48(param_1, (char)uVar1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffc8);
	if (*(int *)(param_1 + 0x10) == 0) {
		FUN_100cfb48(param_1, (char)ppuVar2[-0x14fb], param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	} else {
		*(undefined4 *)(param_1 + 0x1c) = 1;
	}
	return;
}

ulonglong FUN_100cfcbc(undefined4 *param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	int iVar1;
	char cVar2;
	undefined4 uVar3;

	uVar3 = _DAT_100f3bd8;
	iVar1 = (int)(ZEXT48(register0x0000000c) - 0x50);
	*(BADSPACEBASE **)iVar1 = register0x0000000c;
	*(undefined4 *)(iVar1 + 0x40) = 0;
	cVar2 = (char)(ZEXT48(register0x0000000c) - 0x50);
	SFileLoadFile((char)uVar3, cVar2 + '<', cVar2 + '@', 0, 0, param_6, param_7, param_8,
	    *(undefined *)(iVar1 + 0xb), *(undefined *)(iVar1 + 0xf),
	    *(undefined4 *)(iVar1 + 0x14));
	*param_1 = *(undefined4 *)(iVar1 + 0x40);
	return (ulonglong) * (uint *)(iVar1 + 0x3c);
}

char *FUN_100cff90(undefined8 param_1, char *param_2, char *param_3)

{
	char cVar1;

	while (true) {
		if ((((param_3 <= param_2) || (cVar1 = *param_2, cVar1 == '\0')) || (cVar1 == '\r')) || (cVar1 == '\n'))
			break;
		param_2 = param_2 + 1;
	}
	return param_2;
}

char *FUN_100cffc8(undefined8 param_1, char *param_2, char *param_3)

{
	char cVar1;

	while (true) {
		if (((param_3 <= param_2) || (cVar1 = *param_2, cVar1 == '\0')) || ((cVar1 != '\r' && (cVar1 != '\n'))))
			break;
		param_2 = param_2 + 1;
	}
	return param_2;
}

void FUN_100cffe4(void)

{
	_DAT_100f46c0 = _DAT_100f46bc;
	return;
}

// WARNING: Removing unreachable block (ram,0x100d12e0)

double FUN_100d11e4(double param_1)

{
	uint uVar1;
	float *pfVar2;
	int iVar3;
	double dVar4;
	double dVar5;
	double dVar6;
	double dVar7;
	undefined8 local_20;

	iVar3 = 0;
	do {
		local_20._0_4_ = (uint)((ulonglong)param_1 >> 0x20);
		local_20 = (double)((ulonglong)param_1 & 0x1fffffffffffff | 0x3fe0000000000000);
		dVar4 = local_20;
		pfVar2 = (float *)(((local_20._0_4_ & 0x1fc000) >> 0xb) + _DAT_100f3bf4);
		dVar5 = (double)*pfVar2;
		uVar1 = local_20._0_4_ >> 0x14 & 0x7ff;
		dVar6 = (double)pfVar2[1];
		local_20._4_4_ = (uint)((ulonglong)param_1 & 0x1fffffffffffff);
		if ((int)local_20._0_4_ < 0) {
			if ((local_20._0_4_ & 0x7fffffff | local_20._4_4_) == 0) {
				return param_1;
			}
			if ((local_20._0_4_ >> 0x14 & 0x7ff) == 0x7ff) {
			LAB_100d133c:
				if ((local_20._0_4_ & 0xfffff | local_20._4_4_) != 0) {
					if (((ulonglong)param_1 & 0x8000000000000) != 0) {
						return param_1;
					}
					local_20 = (double)((ulonglong)param_1 | 0x8000000000000);
					*_DAT_100f21ac = 0x21;
					return local_20;
				}
				if (-1 < (int)local_20._0_4_) {
					return param_1;
				}
			}
			dVar4 = *(double *)(_DAT_100f3bf4 + 0x408);
			*_DAT_100f21ac = 0x21;
			return dVar4;
		}
		dVar7 = *(double *)(_DAT_100f3bf4 + 0x400);
		dVar5 = dVar6 * -(dVar5 * dVar5 - local_20) + dVar5;
		if (uVar1 != 0) {
			if (uVar1 != 0x7ff) {
				local_20 = (double)((ulonglong)((uVar1 + 0x400 + iVar3) * 0x80000 & 0x7ff00000) << 0x20);
				dVar6 = -(dVar6 * dVar5 - dVar7) * (dVar6 + dVar6) + dVar6;
				dVar5 = dVar6 * -(dVar5 * dVar5 - dVar4) + dVar5;
				dVar6 = -(dVar6 * dVar5 - dVar7) * (dVar6 + dVar6) + dVar6;
				dVar5 = dVar6 * -(dVar5 * dVar5 - dVar4) + dVar5;
				return (-(dVar6 * dVar5 - dVar7) * (dVar6 + dVar6) + dVar6) * -(dVar5 * dVar5 * local_20 - dVar4 * local_20) + dVar5 * local_20;
			}
			goto LAB_100d133c;
		}
		if ((local_20._0_4_ | local_20._4_4_) == 0) {
			return param_1;
		}
		param_1 = param_1 * (double)*(float *)(_DAT_100f3bf4 + 0x418);
		iVar3 = -0x40;
	} while (true);
}

undefined8
FUN_100d22a4(undefined4 param_1, undefined4 param_2, longlong param_3, undefined4 param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	byte bVar1;
	ushort uVar2;
	undefined4 *puVar3;
	int iVar4;
	uint uVar7;
	ulonglong uVar5;
	undefined8 uVar6;
	undefined uVar8;
	undefined uVar9;
	undefined uVar10;
	undefined uVar11;
	undefined uVar12;
	undefined4 in_stack_ffffffa8;
	undefined uVar13;
	undefined in_stack_ffffffaf;
	undefined4 local_4c;

	uVar10 = (undefined)param_3;
	uVar12 = (undefined)param_4;
	uVar9 = (undefined)param_2;
	uVar7 = LMGetResLoad((char)param_1, uVar9, uVar10, uVar12, param_5, param_6, param_7, param_8,
	    (char)in_stack_ffffffa8, in_stack_ffffffaf, local_4c);
	if ((uVar7 & 0xff) == 0) {
		LMSetResLoad(1, uVar9, uVar10, uVar12, param_5, param_6, param_7, param_8, (char)in_stack_ffffffa8,
		    in_stack_ffffffaf, local_4c);
	}
	uVar9 = 1;
	uVar5 = GetIndResource(0x42, 1, uVar10, uVar12, param_5, param_6, param_7, param_8,
	    (char)in_stack_ffffffa8, in_stack_ffffffaf, local_4c);
	if ((uVar7 & 0xff) == 0) {
		LMSetResLoad(0, uVar9, uVar10, uVar12, param_5, param_6, param_7, param_8, (char)in_stack_ffffffa8,
		    in_stack_ffffffaf, local_4c);
	}
	if ((uVar5 & 0xffffffff) == 0) {
		uVar6 = 4;
	} else {
		uVar8 = (undefined)uVar5;
		HLock(uVar8, uVar9, uVar10, uVar12, param_5, param_6, param_7, param_8, (char)in_stack_ffffffa8,
		    in_stack_ffffffaf, local_4c);
		puVar3 = (undefined4 *)*(undefined4 *)uVar5;
		iVar4 = (int)param_3;
		*(undefined4 *)(iVar4 + 0x16) = param_1;
		*(undefined4 *)(iVar4 + 0x1a) = param_2;
		*(undefined4 *)(iVar4 + 0x12) = param_4;
		*(undefined2 *)(iVar4 + 0xe) = 0x800;
		uVar9 = (undefined) * (undefined2 *)(iVar4 + 0xe);
		uVar10 = (undefined) * (undefined4 *)(iVar4 + 0x12);
		uVar11 = (undefined)(ZEXT48(puVar3) + 0x40);
		uVar7 = FUN_100dbf44(param_3 + 0x2222);
		*(undefined2 *)(iVar4 + 0x10) = (short)uVar7;
		uVar13 = (undefined)in_stack_ffffffa8;
		if ((uVar7 & 0xffff) < 5) {
			HUnlock(uVar8, uVar9, uVar10, uVar12, param_5, param_6, param_7, param_8, uVar13, in_stack_ffffffaf,
			    local_4c);
			uVar6 = 3;
		} else {
			*(ushort *)(iVar4 + 2) = (ushort) * (byte *)(iVar4 + 0x2222);
			*(ushort *)(iVar4 + 6) = (ushort) * (byte *)(iVar4 + 0x2223);
			bVar1 = *(byte *)(iVar4 + 0x2224);
			*(ushort *)(iVar4 + 10) = (ushort)bVar1;
			*(undefined2 *)(iVar4 + 0xc) = 0;
			*(undefined2 *)(iVar4 + 0xe) = 3;
			uVar2 = *(ushort *)(iVar4 + 6);
			if ((uVar2 < 4) || (6 < uVar2)) {
				HUnlock(uVar8, bVar1, uVar10, uVar12, param_5, param_6, param_7, param_8, uVar13, in_stack_ffffffaf,
				    local_4c);
				uVar6 = 1;
			} else {
				*(undefined2 *)(iVar4 + 8) = (short)(0xffff >> (0x10 - (ulonglong)uVar2 & 0x3f));
				if (*(short *)(iVar4 + 2) == 1) {
					memcpy((undefined4 *)(iVar4 + 0x2fa2), puVar3 + 0x34, 0x100);
					FUN_100d2aa0(iVar4, (int)(puVar3 + 0x74));
				} else {
					if (*(short *)(iVar4 + 2) != 0) {
						HUnlock(uVar8, bVar1, uVar10, uVar12, param_5, param_6, param_7, param_8, uVar13,
						    in_stack_ffffffaf, local_4c);
						return 2;
					}
				}
				memcpy((undefined4 *)(iVar4 + 0x30e2), puVar3 + 0x2c, 0x10);
				FUN_100d2a5c(0x10, iVar4 + 0x30e2, (int)(puVar3 + 0x30), iVar4 + 0x2b22);
				memcpy((undefined4 *)(iVar4 + 0x30f2), puVar3 + 0x20, 0x10);
				memcpy((undefined4 *)(iVar4 + 0x3102), puVar3 + 0x24, 0x20);
				memcpy((undefined4 *)(iVar4 + 0x30a2), puVar3, 0x40);
				uVar9 = (undefined)(param_3 + 0x30a2);
				uVar10 = (undefined)(param_3 + 0x2a22);
				FUN_100d2a5c(0x40, (int)(param_3 + 0x30a2), (int)(ZEXT48(puVar3) + 0x40),
				    (int)(param_3 + 0x2a22));
				uVar12 = (undefined)in_stack_ffffffa8;
				uVar5 = FUN_100d2504(param_3, uVar9, uVar11, uVar10, param_5, param_6, param_7, param_8,
				    in_stack_ffffffa8);
				if (((uint)uVar5 & 0xffff) == 0x306) {
					HUnlock(uVar8, uVar9, uVar11, uVar10, param_5, param_6, param_7, param_8, uVar12, in_stack_ffffffaf, local_4c);
					uVar6 = 4;
				} else {
					HUnlock(uVar8, uVar9, uVar11, uVar10, param_5, param_6, param_7, param_8, uVar12, in_stack_ffffffaf, local_4c);
					uVar6 = 0;
				}
			}
		}
	}
	return uVar6;
}

ulonglong FUN_100d2504(longlong param_1, char param_2, char param_3, char param_4, char param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	ushort uVar1;
	int iVar2;
	ulonglong uVar3;
	longlong lVar4;
	ulonglong uVar5;
	ulonglong uVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	longlong lVar10;
	longlong lVar11;
	longlong lVar12;
	undefined4 in_stack_ffffffc8;

	lVar12 = (longlong)param_8;
	lVar11 = (longlong)param_7;
	lVar10 = (longlong)param_6;
	lVar9 = (longlong)param_5;
	lVar8 = (longlong)param_4;
	lVar7 = (longlong)param_3;
	uVar6 = SEXT18(param_2);
	iVar2 = (int)param_1;
	*(undefined2 *)(iVar2 + 4) = 0x1000;
	do {
		uVar5 = FUN_100d2644(iVar2, (char)uVar6, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10,
		    (char)lVar11, (char)lVar12, in_stack_ffffffc8);
		if (0x304 < ((uint)uVar5 & 0xffff)) {
		LAB_100d2608:
			FUN_100dbf44(param_1 + 0x101e, (ulonglong)((uint) * (ushort *)(iVar2 + 4) - 0x1000 & 0xffff),
			    (ulonglong) * (uint *)(iVar2 + 0x12));
			return uVar5;
		}
		if (((uint)uVar5 & 0xffff) < 0x100) {
			uVar1 = *(ushort *)(iVar2 + 4);
			*(short *)(iVar2 + 4) = uVar1 + 1;
			*(undefined *)(iVar2 + (uint)uVar1 + 0x1e) = (char)uVar5;
		} else {
			uVar5 = uVar5 - 0xfe;
			uVar3 = FUN_100d2874(iVar2, (short)uVar5, (char)lVar7, (char)lVar8, (char)lVar9, (char)lVar10,
			    (char)lVar11, (char)lVar12, in_stack_ffffffc8);
			if ((uVar3 & 0xffff) == 0) {
				uVar5 = 0x306;
				goto LAB_100d2608;
			}
			uVar6 = (ulonglong) * (ushort *)(iVar2 + 4);
			lVar7 = param_1 + uVar6 + 0x1e;
			*(short *)(iVar2 + 4) = *(ushort *)(iVar2 + 4) + (short)uVar5;
			lVar4 = lVar7 - (ulonglong)((uint)uVar3 & 0xffff);
			do {
				uVar5 = uVar5 - 1;
				*(undefined *)lVar7 = *(undefined *)lVar4;
				lVar4 = lVar4 + 1;
				lVar7 = lVar7 + 1;
			} while ((uVar5 & 0xffff) != 0);
		}
		if (0x1fff < *(ushort *)(iVar2 + 4)) {
			FUN_100dbf44(param_1 + 0x101e, 0x1000, (ulonglong) * (uint *)(iVar2 + 0x12));
			uVar6 = param_1 + 0x101e;
			lVar7 = (ulonglong) * (ushort *)(iVar2 + 4) - 0x1000;
			memcpy((undefined4 *)(iVar2 + 0x1e), (undefined4 *)uVar6, lVar7);
			*(short *)(iVar2 + 4) = *(short *)(iVar2 + 4) + -0x1000;
		}
	} while (true);
}

ulonglong FUN_100d2644(int param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	byte bVar1;
	byte bVar2;
	ushort uVar3;
	uint uVar4;
	ulonglong uVar5;
	ulonglong uVar6;
	undefined4 in_stack_ffffffb8;

	if ((*(ushort *)(param_1 + 10) & 1) == 0) {
		uVar5 = FUN_100d2950(param_1, 1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
		if ((uVar5 & 0xffff) == 0) {
			if (*(short *)(param_1 + 2) == 0) {
				uVar5 = (ulonglong)((uint) * (ushort *)(param_1 + 10) & 0xff);
				uVar6 = FUN_100d2950(param_1, 8, param_3, param_4, param_5, param_6, param_7, param_8,
				    in_stack_ffffffb8);
				if ((uVar6 & 0xffff) != 0) {
					uVar5 = 0x306;
				}
			} else {
				uVar3 = *(ushort *)(param_1 + 10);
				if ((uVar3 & 0xff) == 0) {
					uVar5 = FUN_100d2950(param_1, 8, param_3, param_4, param_5, param_6, param_7, param_8,
					    in_stack_ffffffb8);
					if ((uVar5 & 0xffff) != 0) {
						return 0x306;
					}
					uVar5 = (ulonglong) * (byte *)(param_1 + ((uint) * (ushort *)(param_1 + 10) & 0xff) + 0x2ea2);
				} else {
					bVar1 = *(byte *)(param_1 + ((uint)uVar3 & 0xff) + 0x2c22);
					uVar5 = (ulonglong)bVar1;
					if (bVar1 == 0xff) {
						if ((uVar3 & 0x3f) == 0) {
							uVar5 = FUN_100d2950(param_1, 6, param_3, param_4, param_5, param_6, param_7, param_8,
							    in_stack_ffffffb8);
							if ((uVar5 & 0xffff) != 0) {
								return 0x306;
							}
							uVar5 = (ulonglong)
							    * (byte *)(param_1 + ((uint) * (ushort *)(param_1 + 10) & 0x7f) + 0x2e22);
						} else {
							uVar5 = FUN_100d2950(param_1, 4, param_3, param_4, param_5, param_6, param_7, param_8,
							    in_stack_ffffffb8);
							if ((uVar5 & 0xffff) != 0) {
								return 0x306;
							}
							uVar5 = (ulonglong)
							    * (byte *)(param_1 + ((uint) * (ushort *)(param_1 + 10) & 0xff) + 0x2d22);
						}
					}
				}
				uVar6 = FUN_100d2950(param_1, (ulonglong) * (byte *)(param_1 + (int)uVar5 + 0x2fa2), param_3,
				    param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
				if ((uVar6 & 0xffff) != 0) {
					uVar5 = 0x306;
				}
			}
		} else {
			uVar5 = 0x306;
		}
	} else {
		uVar5 = FUN_100d2950(param_1, 1, param_3, param_4, param_5, param_6, param_7, param_8, in_stack_ffffffb8);
		if ((uVar5 & 0xffff) == 0) {
			bVar1 = *(byte *)(param_1 + ((uint) * (ushort *)(param_1 + 10) & 0xff) + 0x2b22);
			uVar5 = (ulonglong)bVar1;
			uVar4 = (uint)bVar1;
			uVar6 = FUN_100d2950(param_1, (ulonglong) * (byte *)(param_1 + uVar4 + 0x30e2), param_3, param_4,
			    param_5, param_6, param_7, param_8, in_stack_ffffffb8);
			if ((uVar6 & 0xffff) == 0) {
				bVar2 = *(byte *)(param_1 + uVar4 + 0x30f2);
				if (bVar2 != 0) {
					uVar5 = (ulonglong) * (ushort *)(param_1 + 10) & (uVar6 & 0xffffffff00000000 | (ulonglong)(uint)(1 << (ulonglong)bVar2)) - 1;
					uVar6 = FUN_100d2950(param_1, (ulonglong)bVar2, (char)*(ushort *)(param_1 + 10), param_4,
					    param_5, param_6, param_7, param_8, in_stack_ffffffb8);
					if (((uVar6 & 0xffff) != 0) && (uVar4 + (int)uVar5 != 0x10e)) {
						return 0x306;
					}
					uVar5 = (ulonglong) * (ushort *)(param_1 + (uint)bVar1 * 2 + 0x3102) + uVar5;
				}
				uVar5 = uVar5 + 0x100;
			} else {
				uVar5 = 0x306;
			}
		} else {
			uVar5 = 0x306;
		}
	}
	return uVar5;
}

longlong FUN_100d2874(int param_1, short param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	byte bVar1;
	ulonglong uVar2;
	longlong lVar3;
	ulonglong uVar4;
	undefined4 in_stack_ffffffb8;

	bVar1 = *(byte *)(param_1 + ((uint) * (ushort *)(param_1 + 10) & 0xff) + 0x2a22);
	uVar2 = FUN_100d2950(param_1, (ulonglong) * (byte *)(param_1 + (uint)bVar1 + 0x30a2), param_3, param_4,
	    param_5, param_6, param_7, param_8, in_stack_ffffffb8);
	if ((uVar2 & 0xffff) == 0) {
		if (param_2 == 2) {
			uVar4 = (ulonglong)((uint)bVar1 << 2 | (uint) * (ushort *)(param_1 + 10) & 3);
			uVar2 = FUN_100d2950(param_1, 2, param_3, param_4, param_5, param_6, param_7, param_8,
			    in_stack_ffffffb8);
			if ((uVar2 & 0xffff) != 0) {
				return 0;
			}
		} else {
			uVar4 = (ulonglong)((uint)bVar1 << (ulonglong) * (ushort *)(param_1 + 6)) | (ulonglong)(*(ushort *)(param_1 + 10) & *(ushort *)(param_1 + 8));
			uVar2 = FUN_100d2950(param_1, (ulonglong) * (ushort *)(param_1 + 6), param_3, param_4, param_5,
			    param_6, param_7, param_8, in_stack_ffffffb8);
			if ((uVar2 & 0xffff) != 0) {
				return 0;
			}
		}
		lVar3 = uVar4 + 1;
	} else {
		lVar3 = 0;
	}
	return lVar3;
}

undefined8
FUN_100d2950(int param_1, longlong param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	uint uVar1;

	if ((ulonglong) * (ushort *)(param_1 + 0xc) < (ulonglong)((uint)param_2 & 0xffff)) {
		*(ushort *)(param_1 + 10) = *(ushort *)(param_1 + 10) >> (ulonglong) * (ushort *)(param_1 + 0xc);
		if (*(short *)(param_1 + 0xe) == *(short *)(param_1 + 0x10)) {
			*(undefined2 *)(param_1 + 0xe) = 0x800;
			uVar1 = FUN_100dbf44((longlong)param_1 + 0x2222, (ulonglong) * (ushort *)(param_1 + 0xe),
			    (ulonglong) * (uint *)(param_1 + 0x12), param_4, param_5, param_6, param_7,
			    param_8);
			*(undefined2 *)(param_1 + 0x10) = (short)uVar1;
			if ((uVar1 & 0xffff) == 0) {
				return 1;
			}
			*(undefined2 *)(param_1 + 0xe) = 0;
		}
		*(ushort *)(param_1 + 10) = *(ushort *)(param_1 + 10) | (ushort) * (byte *)(param_1 + (uint) * (ushort *)(param_1 + 0xe) + 0x2222) << 8;
		*(short *)(param_1 + 0xe) = *(short *)(param_1 + 0xe) + 1;
		*(ushort *)(param_1 + 10) = *(ushort *)(param_1 + 10) >> param_2 - (ulonglong) * (ushort *)(param_1 + 0xc);
		*(short *)(param_1 + 0xc) = 8 - ((short)param_2 - *(short *)(param_1 + 0xc));
	} else {
		*(ushort *)(param_1 + 10) = *(ushort *)(param_1 + 10) >> param_2;
		*(short *)(param_1 + 0xc) = *(short *)(param_1 + 0xc) - (short)param_2;
	}
	return 0;
}

void FUN_100d2a5c(longlong param_1, int param_2, int param_3, int param_4)

{
	byte bVar1;
	ulonglong uVar2;
	uint uVar3;
	short sVar4;

	param_1 = param_1 + -1;
	while (sVar4 = (short)param_1, -1 < sVar4) {
		bVar1 = *(byte *)(param_2 + (int)sVar4);
		uVar2 = (ulonglong) * (byte *)(param_3 + (int)sVar4);
		do {
			uVar3 = (uint)uVar2;
			uVar2 = uVar2 + (ulonglong)(uint)(1 << (ulonglong)bVar1);
			*(undefined *)(param_4 + (uVar3 & 0xffff)) = (char)param_1;
		} while (((uint)uVar2 & 0xffff) < 0x100);
		param_1 = param_1 + -1;
	}
	return;
}

void FUN_100d2aa0(int param_1, int param_2)

{
	byte bVar1;
	int iVar2;
	int iVar3;
	uint uVar4;
	longlong lVar5;
	undefined uVar7;
	short sVar6;
	ulonglong uVar8;
	uint uVar9;

	lVar5 = 0xff;
	while (sVar6 = (short)lVar5, -1 < sVar6) {
		iVar3 = (int)sVar6 + 0x2fa2;
		bVar1 = *(byte *)(param_1 + iVar3);
		uVar7 = (undefined)lVar5;
		if (bVar1 < 9) {
			uVar8 = (ulonglong) * (ushort *)(param_2 + (int)sVar6 * 2);
			do {
				uVar9 = (uint)uVar8;
				uVar8 = uVar8 + (ulonglong)(uint)(1 << (ulonglong)bVar1);
				*(undefined *)(param_1 + (uVar9 & 0xffff) + 0x2c22) = uVar7;
			} while (((uint)uVar8 & 0xffff) < 0x100);
		} else {
			iVar2 = (int)sVar6 * 2;
			if ((*(ushort *)(param_2 + iVar2) & 0xff) == 0) {
				*(char *)(param_1 + iVar3) = bVar1 - 8;
				bVar1 = *(byte *)(param_1 + iVar3);
				uVar9 = (int)(uint) * (ushort *)(param_2 + iVar2) >> 8;
				do {
					uVar4 = uVar9 & 0xffff;
					uVar9 = uVar9 + (1 << (ulonglong)bVar1);
					*(undefined *)(param_1 + uVar4 + 0x2ea2) = uVar7;
				} while ((uVar9 & 0xffff) < 0x100);
			} else {
				*(undefined *)(param_1 + ((uint) * (ushort *)(param_2 + iVar2) & 0xff) + 0x2c22) = 0xff;
				if ((*(ushort *)(param_2 + iVar2) & 0x3f) == 0) {
					*(char *)(param_1 + iVar3) = *(char *)(param_1 + iVar3) + -6;
					bVar1 = *(byte *)(param_1 + iVar3);
					uVar9 = (int)(uint) * (ushort *)(param_2 + iVar2) >> 6;
					do {
						uVar4 = uVar9 & 0xffff;
						uVar9 = uVar9 + (1 << (ulonglong)bVar1);
						*(undefined *)(param_1 + uVar4 + 0x2e22) = uVar7;
					} while ((uVar9 & 0xffff) < 0x80);
				} else {
					*(char *)(param_1 + iVar3) = *(char *)(param_1 + iVar3) + -4;
					bVar1 = *(byte *)(param_1 + iVar3);
					uVar9 = (int)(uint) * (ushort *)(param_2 + iVar2) >> 4;
					do {
						uVar4 = uVar9 & 0xffff;
						uVar9 = uVar9 + (1 << (ulonglong)bVar1);
						*(undefined *)(param_1 + uVar4 + 0x2d22) = uVar7;
					} while ((uVar9 & 0xffff) < 0x100);
				}
			}
		}
		lVar5 = lVar5 + -1;
	}
	return;
}

ulonglong FUN_100d2ce8(undefined param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	char *pcVar1;
	undefined4 *puVar2;
	int iVar3;
	undefined in_stack_ffffffbb;
	undefined in_stack_ffffffbf;
	undefined4 local_3c;

	puVar2 = _DAT_100f3bfc;
	pcVar1 = _DAT_100f3bf8;
	if (*_DAT_100f3bf8 != '\0') {
		return (ulonglong)((int)(short)*_DAT_100f3bfc & 0xff);
	}
	iVar3 = Gestalt(0x78, (char)(ZEXT48(register0x0000000c) - 0x18), param_3, param_4, param_5, param_6,
	    param_7, param_8, in_stack_ffffffbb, in_stack_ffffffbf, local_3c);
	if ((iVar3 == 0) && ((*(uint *)(ZEXT48(register0x0000000c) - 0x18) & 0x100000) != 0)) {
		*puVar2 = 1;
	}
	*pcVar1 = '\x01';
	return (ulonglong)((int)(short)*puVar2 & 0xff);
}

longlong FUN_100d3428(int param_1, int param_2)

{
	longlong lVar1;
	int iVar2;
	int iVar3;

	iVar2 = 1;
	iVar3 = 1;
	if (param_1 < 0) {
		param_1 = -param_1;
		iVar2 = -1;
	}
	if (param_2 < 0) {
		param_2 = -param_2;
		iVar3 = -1;
	}
	lVar1 = (longlong)param_1 * (longlong)iVar2 - (longlong)iVar3 * (longlong)(iVar2 * iVar3 * (param_1 / param_2) * param_2);
	if (lVar1 == 0) {
		return lVar1;
	}
	if (-1 < iVar2 * iVar3) {
		return lVar1;
	}
	return lVar1 + (longlong)param_2 * (longlong)iVar3;
}

ulonglong FUN_100d3488(uint param_1)

{
	if (param_1 == 0xffffffff) {
		return 0xffffffffffffffff;
	}
	return (ulonglong) * (byte *)(_DAT_100f1d24 + (param_1 & 0xff));
}

undefined8 FUN_100d34a8(short *param_1, char *param_2, int param_3)

{
	if (param_2 == (char *)0x0) {
		return 0;
	}
	if (param_3 == 0) {
		return 0xffffffffffffffff;
	}
	if (param_1 != (short *)0x0) {
		*param_1 = (short)*param_2;
	}
	if (*param_2 == '\0') {
		return 0;
	}
	return 1;
}

longlong FUN_100d34f8(char *param_1, undefined2 *param_2, ulonglong param_3)

{
	undefined2 uVar1;
	ulonglong uVar2;
	longlong lVar3;

	lVar3 = 0;
	uVar2 = param_3 & 0xffffffff;
	while (true) {
		if (uVar2 == 0) {
			return lVar3;
		}
		uVar1 = *param_2;
		*param_1 = (char)uVar1;
		param_2 = param_2 + 1;
		param_1 = param_1 + 1;
		if ((char)uVar1 == '\0')
			break;
		lVar3 = lVar3 + 1;
		param_3 = param_3 - 1;
		uVar2 = param_3;
	}
	return lVar3;
}

char *FUN_100d3564(int param_1, char param_2, longlong param_3)

{
	char *pcVar1;

	pcVar1 = (char *)(param_1 + -1);
	param_3 = param_3 + 1;
	do {
		param_3 = param_3 + -1;
		if (param_3 == 0) {
			return (char *)0x0;
		}
		pcVar1 = pcVar1 + 1;
	} while (*pcVar1 != param_2);
	return pcVar1;
}

// WARNING: Removing unreachable block (ram,0x100d5518)
// WARNING: Removing unreachable block (ram,0x100d4f9c)
// WARNING: Removing unreachable block (ram,0x100d4d28)
// WARNING: Removing unreachable block (ram,0x100d520c)

char *FUN_100d594c(int param_1, char **param_2, uint *param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	char cVar1;
	uint uVar2;
	uint uVar3;
	uint uVar4;
	uint uVar5;
	uint uVar6;
	uint uVar7;
	uint uVar8;
	uint uVar9;
	char **ppcVar10;
	bool bVar11;
	bool bVar12;
	int iVar13;
	uint uVar14;
	ulonglong uVar15;
	longlong lVar16;
	int iVar17;
	char *pcVar18;
	char *pcVar19;
	undefined4 local_58;
	uint local_54;
	uint local_50;
	uint local_4c;
	char *local_48;
	char *local_44;
	uint local_40;

	iVar13 = _DAT_100f1a6c;
	uVar15 = ZEXT48(&toc);
	pcVar18 = (char *)(param_1 + 1);
	local_58 = *_DAT_100f3c1c;
	local_54 = _DAT_100f3c1c[1];
	local_50 = _DAT_100f3c1c[2];
	local_4c = _DAT_100f3c1c[3];
	local_48 = (char *)_DAT_100f3c1c[4];
	local_44 = (char *)_DAT_100f3c1c[5];
	local_40 = _DAT_100f3c1c[6];
	uVar2 = _DAT_100f3c1c[7];
	bVar12 = true;
	uVar3 = _DAT_100f3c1c[8];
	uVar4 = _DAT_100f3c1c[9];
	uVar5 = _DAT_100f3c1c[10];
	uVar6 = _DAT_100f3c1c[0xb];
	uVar7 = _DAT_100f3c1c[0xc];
	uVar8 = _DAT_100f3c1c[0xd];
	uVar9 = _DAT_100f3c1c[0xe];
	cVar1 = *pcVar18;
	lVar16 = (longlong)cVar1;
	if (cVar1 == '%') {
		local_58 = local_58 & 0xffffff00 | 0x25;
		*param_3 = local_58;
		param_3[1] = local_54;
		param_3[2] = local_50;
		param_3[3] = local_4c;
		*(char **)(param_3 + 4) = local_48;
		*(char **)(param_3 + 5) = local_44;
		param_3[6] = local_40;
		param_3[7] = uVar2;
		param_3[8] = uVar3;
		param_3[9] = uVar4;
		param_3[10] = uVar5;
		param_3[0xb] = uVar6;
		param_3[0xc] = uVar7;
		param_3[0xd] = uVar8;
		param_3[0xe] = uVar9;
		return (char *)(param_1 + 2);
	}
	if (cVar1 == '*') {
		local_58 = CONCAT13(1, local_58._1_3_);
		pcVar18 = (char *)(param_1 + 2);
		lVar16 = (longlong)*pcVar18;
	}
	do {
		if ((*(byte *)(iVar13 + ((uint)lVar16 & 0xff)) & 0x10) != 0) {
			local_54 = 0;
			do {
				pcVar19 = pcVar18;
				local_54 = ((int)lVar16 + local_54 * 10) - 0x30;
				pcVar18 = pcVar19 + 1;
				lVar16 = (longlong)*pcVar18;
			} while ((*(byte *)(iVar13 + ((int)*pcVar18 & 0xffU)) & 0x10) != 0);
			if (local_54 == 0) {
				local_58 = CONCAT31(local_58._0_3_, 0xff);
				*param_3 = local_58;
				param_3[1] = 0;
				param_3[2] = local_50;
				param_3[3] = local_4c;
				*(char **)(param_3 + 4) = local_48;
				*(char **)(param_3 + 5) = local_44;
				param_3[6] = local_40;
				param_3[7] = uVar2;
				param_3[8] = uVar3;
				param_3[9] = uVar4;
				param_3[10] = uVar5;
				param_3[0xb] = uVar6;
				param_3[0xc] = uVar7;
				param_3[0xd] = uVar8;
				param_3[0xe] = uVar9;
				return pcVar19 + 2;
			}
			local_58._1_3_ = CONCAT12(1, local_58._2_2_);
			local_58 = local_58 & 0xff000000 | (uint)local_58._1_3_;
		}
		uVar14 = local_58;
		pcVar19 = pcVar18;
		if ((int)lVar16 == 0x76) {
			local_50 = 1;
			pcVar19 = pcVar18 + 1;
			lVar16 = (longlong)*pcVar19;
		}
		iVar17 = (int)lVar16;
		bVar11 = true;
		if (iVar17 == 0x68) {
			local_58 = local_58 & 0xffff0000 | 0x200;
			if (pcVar19[1] == 'h') {
				local_58 = uVar14 & 0xffff0000 | 0x100;
				pcVar19 = pcVar19 + 1;
				lVar16 = (longlong)*pcVar19;
			} else {
				local_4c = 8;
			}
		} else {
			if (iVar17 < 0x68) {
				if (iVar17 == 0x4c) {
					local_58 = local_58 & 0xffff0000 | 0x600;
				} else {
				LAB_100d5c2c:
					local_4c = 0x10;
					bVar11 = false;
				}
			} else {
				if (iVar17 != 0x6c)
					goto LAB_100d5c2c;
				local_58 = local_58 & 0xffff0000 | 0x300;
				if (pcVar19[1] == 'l') {
					local_58 = uVar14 & 0xffff0000 | 0x400;
					pcVar19 = pcVar19 + 1;
					lVar16 = (longlong)*pcVar19;
				} else {
					local_4c = 4;
				}
			}
		}
		if (bVar11) {
			pcVar19 = pcVar19 + 1;
			lVar16 = (longlong)*pcVar19;
		}
		if (((local_50 == 0) && ((int)lVar16 == 0x76)) && (local_4c != 0)) {
			local_50 = 1;
			pcVar19 = pcVar19 + 1;
			lVar16 = (longlong)*pcVar19;
		}
		local_58 = local_58 & 0xffffff00;
		if ((lVar16 - 0x45U & 0xffffffff) < 0x34) {
			// WARNING: Could not recover jumptable at 0x100d5c98. Too many branches
			// WARNING: Treating indirect jump as call
			pcVar18 = (char *)(**(code **)(*(int *)((int)uVar15 + -0x53b8) + (int)(lVar16 - 0x45U) * 4))();
			return pcVar18;
		}
		if ((local_50 != 0) || (!bVar12)) {
			local_58._0_3_ = (undefined3)(local_58 >> 8);
			local_58 = CONCAT31(local_58._0_3_, 0xff);
			*param_3 = local_58;
			param_3[1] = local_54;
			param_3[2] = local_50;
			param_3[3] = local_4c;
			*(char **)(param_3 + 4) = local_48;
			*(char **)(param_3 + 5) = local_44;
			param_3[6] = local_40;
			param_3[7] = uVar2;
			param_3[8] = uVar3;
			param_3[9] = uVar4;
			param_3[10] = uVar5;
			param_3[0xb] = uVar6;
			param_3[0xc] = uVar7;
			param_3[0xd] = uVar8;
			param_3[0xe] = uVar9;
			return pcVar19 + 1;
		}
		bVar12 = false;
		if ((int)lVar16 == 0x40) {
			ppcVar10 = (char **)*param_2;
			*(char ***)param_2 = ppcVar10 + 1;
			local_48 = *ppcVar10;
			local_40 = strlen((uint)local_48);
			while ((0 < (int)local_40 && (*local_48 == ' '))) {
				local_48 = local_48 + 1;
				local_40 = local_40 - 1;
			}
			while ((0 < (int)local_40 && (local_48[local_40 - 1] == ' '))) {
				local_40 = local_40 - 1;
			}
		} else {
			local_40 = 1;
			local_48 = pcVar19;
		}
		local_44 = local_48;
		local_58._0_1_ = (char)(local_58 >> 0x18);
		pcVar18 = pcVar19 + 1;
		lVar16 = (longlong)*pcVar18;
		if ((local_58._0_1_ == '\0') && (*pcVar18 == '*')) {
			local_58 = CONCAT13(1, local_58._1_3_);
			pcVar18 = pcVar19 + 2;
			lVar16 = (longlong)*pcVar18;
		}
	} while (true);
}

// WARNING: Removing unreachable block (ram,0x100d6d40)
// WARNING: Removing unreachable block (ram,0x100d7ad4)
// WARNING: Removing unreachable block (ram,0x100d6850)

ulonglong FUN_100d60d8(ulonglong uParm1, longlong lParm2, longlong lParm3, longlong lParm4,
    longlong lParm5, ulonglong uParm6, longlong lParm7, undefined param_8)

{
	bool bVar1;
	byte bVar2;
	undefined4 *puVar3;
	int iVar4;
	char *pcVar8;
	int iVar9;
	undefined8 uVar5;
	ulonglong uVar6;
	short *psVar10;
	int iVar11;
	ulonglong uVar7;
	ulonglong uVar12;
	undefined8 in_r13;
	longlong unaff_r14;
	float fVar13;
	longlong unaff_r15;
	ulonglong unaff_r16;
	undefined8 unaff_r17;
	longlong lVar14;
	undefined8 unaff_r18;
	longlong unaff_r19;
	undefined8 unaff_r20;
	undefined8 unaff_r21;
	int iVar15;
	undefined8 unaff_r22;
	longlong lVar16;
	ulonglong unaff_r23;
	double *pdVar17;
	undefined8 unaff_r24;
	uint uVar18;
	longlong unaff_r25;
	longlong unaff_r26;
	undefined8 unaff_r27;
	int iVar19;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	undefined8 unaff_r31;
	longlong lVar20;
	double dVar21;
	uint *param_11;
	undefined4 in_stack_fffffef8;
	undefined4 local_d4;
	undefined4 local_d0;
	undefined4 local_cc;
	undefined4 local_c8;
	char local_c0;
	char local_bf;
	byte local_be;
	byte local_bd;
	uint local_bc;
	int local_b8;
	int local_b4;
	char *local_b0;
	char *local_ac;
	uint local_a8;
	byte local_84[8];
	int local_7c;
	uint local_78;
	float local_68;
	float local_64;
	int local_60;
	uint local_5c;
	char *local_58;
	undefined4 local_4c;
	undefined4 uStack72;
	undefined4 uStack68;
	undefined4 uStack64;
	undefined4 uStack60;
	undefined4 uStack56;
	undefined4 uStack52;
	undefined4 uStack48;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	iVar11 = _DAT_100f1a6c;
	uVar7 = ZEXT48(register0x0000000c);
	local_4c = (undefined4)((ulonglong)in_r13 >> 0x20);
	uStack72 = (undefined4)((ulonglong)unaff_r14 >> 0x20);
	uStack68 = (undefined4)((ulonglong)unaff_r15 >> 0x20);
	uStack64 = (undefined4)(unaff_r16 >> 0x20);
	uStack60 = (undefined4)((ulonglong)unaff_r17 >> 0x20);
	uStack56 = (undefined4)((ulonglong)unaff_r18 >> 0x20);
	uStack52 = (undefined4)((ulonglong)unaff_r19 >> 0x20);
	uStack48 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)(unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	local_58 = (char *)&local_c0;
	local_5c = 0;
	param_11 = (uint *)lParm4;
	lVar14 = uVar7 - 0xd4;
	lVar20 = 0;
	local_60 = 0;
LAB_100d7b1c:
	do {
		bVar2 = *(byte *)lParm3;
		if (bVar2 == 0) {
		LAB_100d7b28:
			iVar11 = FUN_100dbf44(lParm2, 0, 2);
			if ((iVar11 == 0) || (local_60 != 0)) {
				uVar7 = (ulonglong)local_5c;
			} else {
				uVar7 = 0xffffffffffffffff;
			}
			return uVar7;
		}
		if ((*(byte *)(iVar11 + (uint)bVar2) & 6) != 0) {
			do {
				lParm3 = lParm3 + 1;
			} while ((*(byte *)(iVar11 + (uint) * (byte *)lParm3) & 6) != 0);
			while (local_84[0] = FUN_100dbf44(lParm2, 0, 0),
			    (*(byte *)(iVar11 + ((int)(char)local_84[0] & 0xffU)) & 6) != 0) {
				lVar20 = lVar20 + 1;
			}
			FUN_100dbf44(lParm2, local_84[0], 1);
			goto LAB_100d7b1c;
		}
		if (bVar2 != 0x25) {
			local_84[0] = FUN_100dbf44(lParm2, 0, 0);
			if ((uint)bVar2 != (int)(char)local_84[0]) {
				FUN_100dbf44(lParm2, local_84[0], 1);
				goto LAB_100d7b28;
			}
			lVar20 = lVar20 + 1;
			lParm3 = lParm3 + 1;
			goto LAB_100d7b1c;
		}
		pcVar8 = FUN_100d594c((int)(byte *)lParm3, (char **)&stack0x00000024, &local_c0, (char)lParm4,
		    (char)lParm5, (char)uParm6, (char)lParm7, param_8, in_stack_fffffef8);
		lParm3 = (longlong)(int)pcVar8;
		if (local_b8 == 0) {
			if ((local_c0 == '\0') && (local_bd != 0x25)) {
				unaff_r23 = (ulonglong)*param_11;
				param_11 = param_11 + 1;
			} else {
				unaff_r23 = 0;
			}
		} else {
			local_d4 = 0;
			local_d0 = 0;
			local_cc = 0;
			local_c8 = 0;
			unaff_r25 = 0;
			while (local_84[0] = FUN_100dbf44(lParm2, 0, 0),
			    (*(byte *)(iVar11 + ((int)(char)local_84[0] & 0xffU)) & 6) != 0) {
				lVar20 = lVar20 + 1;
			}
			FUN_100dbf44(lParm2, local_84[0], 1);
		}
		if ((local_bd != 0x6e) && (iVar9 = FUN_100dbf44(lParm2, 0, 2), iVar9 != 0))
			goto LAB_100d7b28;
		pdVar17 = (double *)unaff_r23;
		iVar9 = (int)unaff_r25;
		iVar4 = (int)lVar14;
		if (local_bd != 100) {
			if (99 < local_bd) {
				if (local_bd == 0x73) {
					if (local_b8 != 0)
						goto LAB_100d7b28;
					local_84[0] = FUN_100dbf44(lParm2, 0, 0);
					while ((*(byte *)(iVar11 + (uint)local_84[0]) & 6) != 0) {
						lVar20 = lVar20 + 1;
						local_84[0] = FUN_100dbf44(lParm2, 0, 0);
					}
					FUN_100dbf44(lParm2, local_84[0], 1);
				LAB_100d78b0:
					if (local_b8 != 0)
						goto LAB_100d7b28;
					if ((unaff_r23 & 0xffffffff) == 0) {
						local_78 = 0;
						while (((bVar1 = local_bc != 0, local_bc = local_bc - 1, bVar1 && (local_84[0] = FUN_100dbf44(lParm2, 0, 0), local_84[0] != 0xff)) && (((ulonglong)(uint)(1 << (ulonglong)((uint)local_84[0] & 7)) & (ulonglong)(byte)local_58[((int)(uint)local_84[0] >> 3) + 0x1c]) != 0))) {
							local_78 = local_78 + 1;
						}
						if (local_78 == 0) {
							FUN_100dbf44(lParm2, local_84[0], 1);
							goto LAB_100d7b28;
						}
					} else {
						local_78 = 0;
						while (true) {
							bVar1 = local_bc == 0;
							local_bc = local_bc - 1;
							psVar10 = (short *)unaff_r23;
							if (((bVar1) || (local_84[0] = FUN_100dbf44(lParm2, 0, 0), local_84[0] == 0xff)) || (lParm4 = 1, ((ulonglong)(uint)(1 << (ulonglong)((uint)local_84[0] & 7)) & (ulonglong)(byte)local_58[((int)(uint)local_84[0] >> 3) + 0x1c]) == 0))
								break;
							if (local_be == 7) {
								FUN_100d34a8(psVar10, (char *)local_84, 1);
								unaff_r23 = unaff_r23 + 2;
							} else {
								*(byte *)psVar10 = local_84[0];
								unaff_r23 = unaff_r23 + 1;
							}
							local_78 = local_78 + 1;
						}
						if (local_78 == 0) {
							FUN_100dbf44(lParm2, local_84[0], 1);
							goto LAB_100d7b28;
						}
						if (local_be == 7) {
							*psVar10 = 0;
						} else {
							*(undefined *)psVar10 = 0;
						}
						local_5c = local_5c + 1;
					}
					lVar20 = lVar20 + (ulonglong)local_78;
					if (-1 < (int)local_bc) {
						FUN_100dbf44(lParm2, local_84[0], 1);
					}
					local_60 = local_60 + 1;
				} else {
					if (local_bd < 0x73) {
						if (local_bd != 0x6e) {
							if (local_bd < 0x6e) {
								if (local_bd == 0x69) {
									uVar6 = 0;
									goto LAB_100d63b0;
								}
								if ((local_bd < 0x69) && (local_bd < 0x68))
									goto LAB_100d6d98;
							} else {
								if (local_bd < 0x70) {
									uVar6 = 8;
									goto LAB_100d68cc;
								}
							}
							goto LAB_100d7b28;
						}
						if ((unaff_r23 & 0xffffffff) != 0) {
							if (local_be == 2) {
								*(short *)pdVar17 = (short)lVar20;
							} else {
								fVar13 = (float)lVar20;
								if (local_be < 2) {
									if (local_be == 0) {
										*(float *)pdVar17 = fVar13;
									} else {
										*(char *)pdVar17 = (char)lVar20;
									}
								} else {
									if (local_be == 4) {
										*(float *)((int)pdVar17 + 4) = fVar13;
										*(int *)pdVar17 = (int)fVar13 >> 0x1f;
									} else {
										if (local_be < 4) {
											*(float *)pdVar17 = fVar13;
										}
									}
								}
							}
						}
					} else {
						if (local_bd == 0x78)
							goto LAB_100d68c8;
						if ((0x77 < local_bd) || (local_bd != 0x75))
							goto LAB_100d7b28;
						uVar6 = 10;
					LAB_100d68cc:
						lVar16 = lVar14 + unaff_r25;
						iVar15 = iVar9 << 1;
						iVar9 = iVar9 << 2;
					LAB_100d68d8:
						while (true) {
							if (local_be == 4) {
								unaff_r16 = (ulonglong)local_bc;
								lParm5 = uVar7 - 0x78;
								uParm6 = uVar7 - 0x7c;
								lParm7 = uVar7 - 0x80;
								lParm4 = lParm2;
								unaff_r15 = FUN_100d88c4(uVar6, local_bc, uParm1, lParm2, lParm5, uParm6,
								    (undefined4 *)lParm7, param_8, in_stack_fffffef8);
							} else {
								lParm5 = uVar7 - 0x78;
								uParm6 = uVar7 - 0x7c;
								lParm7 = uVar7 - 0x80;
								lParm4 = lParm2;
								unaff_r19 = FUN_100d858c(uVar6, local_bc, uParm1, lParm2, (int *)lParm5,
								    (undefined4 *)uParm6, (undefined4 *)lParm7, param_8,
								    in_stack_fffffef8);
							}
							if (local_78 == 0)
								goto LAB_100d7b28;
							lVar20 = lVar20 + (ulonglong)local_78;
							if (local_7c != 0) {
								if (local_be == 4) {
									bVar1 = unaff_r16 != 0;
									unaff_r16 = -unaff_r16;
									unaff_r15 = -((ulonglong)bVar1 + unaff_r15);
								} else {
									unaff_r19 = -unaff_r19;
								}
							}
							fVar13 = (float)unaff_r19;
							if (local_b8 == 0) {
								if ((unaff_r23 & 0xffffffff) != 0) {
									if (local_be == 2) {
										*(short *)pdVar17 = (short)unaff_r19;
									} else {
										if (local_be < 2) {
											if (local_be == 0) {
												*(float *)pdVar17 = fVar13;
											} else {
												*(char *)pdVar17 = (char)unaff_r19;
											}
										} else {
											if (local_be == 4) {
												*(float *)((int)pdVar17 + 4) = (float)unaff_r16;
												*(float *)pdVar17 = (float)unaff_r15;
											} else {
												if (local_be < 4) {
													*(float *)pdVar17 = fVar13;
												}
											}
										}
									}
									local_5c = local_5c + 1;
								}
								goto LAB_100d6d88;
							}
							if (local_c0 == '\0')
								break;
							local_84[0] = FUN_100dbf44(lParm2, 0, 0);
							if (local_84[0] == 0xff) {
							LAB_100d6cfc:
								FUN_100dbf44(lParm2, local_84[0], 1);
								goto LAB_100d6d88;
							}
							unaff_r25 = unaff_r25 + 1;
							iVar9 = iVar9 + 4;
							iVar15 = iVar15 + 2;
							lVar16 = lVar16 + 1;
							if (local_b4 <= (int)unaff_r25)
								goto LAB_100d6cfc;
							uVar5 = countLeadingZeros(-local_a8);
							uVar18 = (uint)uVar5 >> 5;
							if (local_a8 != 0) {
								iVar19 = 0;
								while ((*(byte *)(iVar11 + (uint)local_84[0]) & 6) != 0) {
									local_84[0] = FUN_100dbf44(lParm2, 0, 1);
									lVar20 = lVar20 + 1;
								}
								do {
									if (local_84[0] == 0xff)
										break;
									uVar5 = countLeadingZeros((int)local_b0[iVar19] - (int)(char)local_84[0]);
									uVar18 = (uint)uVar5 >> 5;
									if (local_84[0] != local_b0[iVar19])
										break;
									local_84[0] = FUN_100dbf44(lParm2, 0, 0);
									iVar19 = iVar19 + 1;
									lVar20 = lVar20 + 1;
								} while (iVar19 < (int)local_a8);
							}
							if ((uVar18 == 0) || (local_84[0] == 0xff))
								goto LAB_100d6d88;
							while ((*(byte *)(iVar11 + (uint)local_84[0]) & 6) != 0) {
								local_84[0] = FUN_100dbf44(lParm2, 0, 0);
								lVar20 = lVar20 + 1;
							}
							FUN_100dbf44(lParm2, local_84[0], 1);
						}
						if (local_be == 2) {
							*(undefined2 *)(iVar4 + iVar15) = (short)unaff_r19;
						} else {
							if (local_be < 2) {
								if (local_be == 0) {
									*(undefined *)lVar16 = (char)unaff_r19;
								}
							} else {
								if (local_be < 4) {
									*(float *)(iVar4 + iVar9) = fVar13;
								}
							}
						}
						local_84[0] = FUN_100dbf44(lParm2, 0, 0);
						if (local_84[0] == 0xff) {
						LAB_100d6b30:
							FUN_100dbf44(lParm2, local_84[0], 1);
						} else {
							unaff_r25 = unaff_r25 + 1;
							iVar9 = iVar9 + 4;
							iVar15 = iVar15 + 2;
							lVar16 = lVar16 + 1;
							if (local_b4 <= (int)unaff_r25)
								goto LAB_100d6b30;
							uVar5 = countLeadingZeros(-local_a8);
							uVar18 = (uint)uVar5 >> 5;
							if (local_a8 != 0) {
								iVar19 = 0;
								while ((*(byte *)(iVar11 + (uint)local_84[0]) & 6) != 0) {
									local_84[0] = FUN_100dbf44(lParm2, 0, 1);
									lVar20 = lVar20 + 1;
								}
								do {
									if (local_84[0] == 0xff)
										break;
									uVar5 = countLeadingZeros((int)local_b0[iVar19] - (int)(char)local_84[0]);
									uVar18 = (uint)uVar5 >> 5;
									if (local_84[0] != local_b0[iVar19])
										break;
									local_84[0] = FUN_100dbf44(lParm2, 0, 0);
									iVar19 = iVar19 + 1;
									lVar20 = lVar20 + 1;
								} while (iVar19 < (int)local_a8);
							}
							if ((uVar18 != 0) && (local_84[0] != 0xff)) {
								while ((*(byte *)(iVar11 + (uint)local_84[0]) & 6) != 0) {
									local_84[0] = FUN_100dbf44(lParm2, 0, 0);
									lVar20 = lVar20 + 1;
								}
								FUN_100dbf44(lParm2, local_84[0], 1);
								goto LAB_100d68d8;
							}
						}
						puVar3 = (undefined4 *)*param_11;
						*puVar3 = local_d4;
						puVar3[1] = local_d0;
						puVar3[2] = local_cc;
						puVar3[3] = local_c8;
						local_5c = local_5c + 1;
						param_11 = param_11 + 1;
					LAB_100d6d88:
						local_60 = local_60 + 1;
					}
				}
				goto LAB_100d7b1c;
			}
			if (local_bd == 0x58) {
			LAB_100d68c8:
				uVar6 = 0x10;
				goto LAB_100d68cc;
			}
			if (local_bd < 0x58) {
				if (local_bd != 0x45) {
					if (local_bd < 0x45) {
						if ((local_bd != 0x25) || (local_b8 != 0))
							goto LAB_100d7b28;
						while (local_84[0] = FUN_100dbf44(lParm2, 0, 0),
						    (*(byte *)(iVar11 + ((int)(char)local_84[0] & 0xffU)) & 6) != 0) {
							lVar20 = lVar20 + 1;
						}
						if (local_84[0] != 0x25) {
							FUN_100dbf44(lParm2, local_84[0], 1);
							goto LAB_100d7b28;
						}
						lVar20 = lVar20 + 1;
						goto LAB_100d7b1c;
					}
					if (local_bd != 0x47)
						goto LAB_100d7b28;
				}
			} else {
				if (local_bd != 0x61) {
					if (local_bd < 0x61) {
						if (local_bd == 0x5b)
							goto LAB_100d78b0;
						goto LAB_100d7b28;
					}
					if (local_bd < 99)
						goto LAB_100d7b28;
					if (local_bf == '\0') {
						local_bc = 1;
					}
					if (local_b8 == 0) {
						if ((unaff_r23 & 0xffffffff) == 0) {
							local_78 = 0;
							while ((bVar1 = local_bc != 0, local_bc = local_bc - 1, bVar1 && (local_84[0] = FUN_100dbf44(lParm2, 0, 0), local_84[0] != 0xff))) {
								local_78 = local_78 + 1;
							}
							if (local_78 == 0)
								goto LAB_100d7b28;
						} else {
							local_78 = 0;
							while ((bVar1 = local_bc != 0, local_bc = local_bc - 1, bVar1 && (local_84[0] = FUN_100dbf44(lParm2, 0, 0), local_84[0] != 0xff))) {
								if (local_be == 7) {
									FUN_100d34a8((short *)unaff_r23, (char *)local_84, 1);
								} else {
									*(byte *)(short *)unaff_r23 = local_84[0];
								}
								unaff_r23 = unaff_r23 + 1;
								local_78 = local_78 + 1;
							}
							if (local_78 == 0)
								goto LAB_100d7b28;
							lVar20 = lVar20 + (ulonglong)local_78;
							local_5c = local_5c + 1;
						}
					} else {
						if (local_c0 == '\0') {
							if (iVar9 == 0) {
								local_b0 = local_ac;
								local_a8 = (uint)(*local_ac != '\0');
							}
							uVar6 = (ulonglong)(uint)(iVar9 << 2);
							uVar12 = (ulonglong)(uint)(iVar9 << 1);
							lVar16 = (uVar7 - 0xd4) + unaff_r25;
							while (true) {
								uVar12 = uVar12 + 2;
								uVar6 = uVar6 + 4;
								if (local_be == 2) {
									if (2 < (int)local_bc)
										goto LAB_100d7b28;
									unaff_r26 = (uVar7 - 0xd4) + (uVar12 - (ulonglong)local_bc);
								} else {
									if (local_be < 2) {
										if ((local_be == 0) && (unaff_r26 = lVar16, 1 < (int)local_bc))
											goto LAB_100d7b28;
									} else {
										if (local_be < 4) {
											if (4 < (int)local_bc)
												goto LAB_100d7b28;
											unaff_r26 = (uVar7 - 0xd4) + (uVar6 - (ulonglong)local_bc);
										}
									}
								}
								local_78 = 0;
								uVar18 = local_bc;
								while ((bVar1 = uVar18 != 0, uVar18 = uVar18 - 1, bVar1 && (local_84[0] = FUN_100dbf44(lParm2, 0, 0), local_84[0] != 0xff))) {
									*(byte *)unaff_r26 = local_84[0];
									unaff_r26 = unaff_r26 + 1;
									local_78 = local_78 + 1;
								}
								if (local_78 == 0)
									goto LAB_100d7b28;
								lVar20 = lVar20 + (ulonglong)local_78;
								local_84[0] = FUN_100dbf44(lParm2, 0, 0);
								if (local_84[0] == 0xff)
									break;
								unaff_r25 = unaff_r25 + 1;
								lVar16 = lVar16 + 1;
								if (local_b4 <= (int)unaff_r25)
									break;
								uVar5 = countLeadingZeros(-local_a8);
								uVar18 = (uint)uVar5 >> 5;
								if (local_a8 != 0) {
									iVar9 = 0;
									while ((*(byte *)(iVar11 + (uint)local_84[0]) & 6) != 0) {
										local_84[0] = FUN_100dbf44(lParm2, 0, 1);
										lVar20 = lVar20 + 1;
									}
									do {
										if (local_84[0] == 0xff)
											break;
										uVar5 = countLeadingZeros((int)local_b0[iVar9] - (int)(char)local_84[0]);
										uVar18 = (uint)uVar5 >> 5;
										if (local_84[0] != local_b0[iVar9])
											break;
										local_84[0] = FUN_100dbf44(lParm2, 0, 0);
										iVar9 = iVar9 + 1;
										lVar20 = lVar20 + 1;
									} while (iVar9 < (int)local_a8);
								}
								if ((uVar18 == 0) || (local_84[0] == 0xff))
									goto LAB_100d7480;
								while ((*(byte *)(iVar11 + (uint)local_84[0]) & 6) != 0) {
									local_84[0] = FUN_100dbf44(lParm2, 0, 0);
									lVar20 = lVar20 + 1;
								}
								FUN_100dbf44(lParm2, local_84[0], 1);
							}
							FUN_100dbf44(lParm2, local_84[0], 1);
						LAB_100d7480:
							puVar3 = (undefined4 *)*param_11;
							*puVar3 = local_d4;
							puVar3[1] = local_d0;
							puVar3[2] = local_cc;
							puVar3[3] = local_c8;
							local_5c = local_5c + 1;
							param_11 = param_11 + 1;
						} else {
							while (true) {
								local_78 = 0;
								while ((bVar1 = local_bc != 0, local_bc = local_bc - 1, bVar1 && (local_84[0] = FUN_100dbf44(lParm2, 0, 0), local_84[0] != 0xff))) {
									local_78 = local_78 + 1;
								}
								if (local_78 == 0)
									goto LAB_100d7b28;
								local_84[0] = FUN_100dbf44(lParm2, 0, 0);
								if ((local_84[0] == 0xff) || (unaff_r25 = unaff_r25 + 1, local_b4 <= (int)unaff_r25))
									break;
								uVar5 = countLeadingZeros(-local_a8);
								uVar18 = (uint)uVar5 >> 5;
								if (local_a8 != 0) {
									iVar9 = 0;
									while ((*(byte *)(iVar11 + (uint)local_84[0]) & 6) != 0) {
										local_84[0] = FUN_100dbf44(lParm2, 0, 1);
										lVar20 = lVar20 + 1;
									}
									do {
										if (local_84[0] == 0xff)
											break;
										uVar5 = countLeadingZeros((int)local_b0[iVar9] - (int)(char)local_84[0]);
										uVar18 = (uint)uVar5 >> 5;
										if (local_84[0] != local_b0[iVar9])
											break;
										local_84[0] = FUN_100dbf44(lParm2, 0, 0);
										iVar9 = iVar9 + 1;
										lVar20 = lVar20 + 1;
									} while (iVar9 < (int)local_a8);
								}
								if ((uVar18 == 0) || (local_84[0] == 0xff))
									goto LAB_100d77b0;
								while ((*(byte *)(iVar11 + (uint)local_84[0]) & 6) != 0) {
									local_84[0] = FUN_100dbf44(lParm2, 0, 0);
									lVar20 = lVar20 + 1;
								}
								FUN_100dbf44(lParm2, local_84[0], 1);
							}
							FUN_100dbf44(lParm2, local_84[0], 1);
						}
					}
				LAB_100d77b0:
					local_60 = local_60 + 1;
					goto LAB_100d7b1c;
				}
			}
		LAB_100d6d98:
			iVar9 = iVar9 << 2;
		LAB_100d6d9c:
			while (true) {
				lParm4 = uVar7 - 0x78;
				lParm5 = uVar7 - 0x80;
				dVar21 = FUN_100d7ecc(local_bc, uParm1, lParm2, (int *)lParm4, (int *)lParm5, (char)uParm6,
				    (char)lParm7, param_8, in_stack_fffffef8);
				if (local_78 == 0)
					goto LAB_100d7b28;
				lVar20 = lVar20 + (ulonglong)local_78;
				if (local_b8 == 0) {
					if ((unaff_r23 & 0xffffffff) != 0) {
						if (local_be == 5) {
							*pdVar17 = dVar21;
						} else {
							if (local_be < 5) {
								if (local_be == 0) {
									*(float *)pdVar17 = (float)dVar21;
								}
							} else {
								if (local_be < 7) {
									*pdVar17 = dVar21;
								}
							}
						}
						local_5c = local_5c + 1;
					}
					goto LAB_100d7198;
				}
				if (local_c0 == '\0')
					break;
				local_84[0] = FUN_100dbf44(lParm2, 0, 0);
				if (local_84[0] == 0xff) {
				LAB_100d7124:
					FUN_100dbf44(lParm2, local_84[0], 1);
					goto LAB_100d7198;
				}
				unaff_r25 = unaff_r25 + 1;
				iVar9 = iVar9 + 4;
				if (local_b4 <= (int)unaff_r25)
					goto LAB_100d7124;
				uVar5 = countLeadingZeros(-local_a8);
				uVar18 = (uint)uVar5 >> 5;
				if (local_a8 != 0) {
					iVar15 = 0;
					while ((*(byte *)(iVar11 + (uint)local_84[0]) & 6) != 0) {
						local_84[0] = FUN_100dbf44(lParm2, 0, 1);
						lVar20 = lVar20 + 1;
					}
					do {
						if (local_84[0] == 0xff)
							break;
						uVar5 = countLeadingZeros((int)local_b0[iVar15] - (int)(char)local_84[0]);
						uVar18 = (uint)uVar5 >> 5;
						if (local_84[0] != local_b0[iVar15])
							break;
						local_84[0] = FUN_100dbf44(lParm2, 0, 0);
						iVar15 = iVar15 + 1;
						lVar20 = lVar20 + 1;
					} while (iVar15 < (int)local_a8);
				}
				if ((uVar18 == 0) || (local_84[0] == 0xff))
					goto LAB_100d7198;
				while ((*(byte *)(iVar11 + (uint)local_84[0]) & 6) != 0) {
					local_84[0] = FUN_100dbf44(lParm2, 0, 0);
					lVar20 = lVar20 + 1;
				}
				FUN_100dbf44(lParm2, local_84[0], 1);
			}
			*(float *)(iVar4 + iVar9) = (float)dVar21;
			if (local_be == 0) {
				local_b4 = 4;
			}
			local_84[0] = FUN_100dbf44(lParm2, 0, 0);
			if (local_84[0] == 0xff) {
			LAB_100d6f60:
				FUN_100dbf44(lParm2, local_84[0], 1);
			} else {
				unaff_r25 = unaff_r25 + 1;
				iVar9 = iVar9 + 4;
				if (local_b4 <= (int)unaff_r25)
					goto LAB_100d6f60;
				uVar5 = countLeadingZeros(-local_a8);
				uVar18 = (uint)uVar5 >> 5;
				if (local_a8 != 0) {
					iVar15 = 0;
					while ((*(byte *)(iVar11 + (uint)local_84[0]) & 6) != 0) {
						local_84[0] = FUN_100dbf44(lParm2, 0, 1);
						lVar20 = lVar20 + 1;
					}
					do {
						if (local_84[0] == 0xff)
							break;
						uVar5 = countLeadingZeros((int)local_b0[iVar15] - (int)(char)local_84[0]);
						uVar18 = (uint)uVar5 >> 5;
						if (local_84[0] != local_b0[iVar15])
							break;
						local_84[0] = FUN_100dbf44(lParm2, 0, 0);
						iVar15 = iVar15 + 1;
						lVar20 = lVar20 + 1;
					} while (iVar15 < (int)local_a8);
				}
				if ((uVar18 != 0) && (local_84[0] != 0xff)) {
					while ((*(byte *)(iVar11 + (uint)local_84[0]) & 6) != 0) {
						local_84[0] = FUN_100dbf44(lParm2, 0, 0);
						lVar20 = lVar20 + 1;
					}
					FUN_100dbf44(lParm2, local_84[0], 1);
					goto LAB_100d6d9c;
				}
			}
			puVar3 = (undefined4 *)*param_11;
			*puVar3 = local_d4;
			puVar3[1] = local_d0;
			puVar3[2] = local_cc;
			puVar3[3] = local_c8;
			local_5c = local_5c + 1;
			param_11 = param_11 + 1;
		LAB_100d7198:
			local_60 = local_60 + 1;
			goto LAB_100d7b1c;
		}
		uVar6 = 10;
	LAB_100d63b0:
		lVar16 = lVar14 + unaff_r25;
		iVar15 = iVar9 << 1;
		iVar9 = iVar9 << 2;
	LAB_100d63bc:
		while (true) {
			if (local_be == 4) {
				unaff_r16 = (ulonglong)local_bc;
				lParm5 = uVar7 - 0x78;
				uParm6 = uVar7 - 0x7c;
				lParm7 = uVar7 - 0x80;
				lParm4 = lParm2;
				unaff_r15 = FUN_100d88c4(uVar6, local_bc, uParm1, lParm2, lParm5, uParm6, (undefined4 *)lParm7,
				    param_8, in_stack_fffffef8);
			} else {
				lParm5 = uVar7 - 0x78;
				uParm6 = uVar7 - 0x7c;
				lParm7 = uVar7 - 0x80;
				lParm4 = lParm2;
				unaff_r19 = FUN_100d858c(uVar6, local_bc, uParm1, lParm2, (int *)lParm5, (undefined4 *)uParm6,
				    (undefined4 *)lParm7, param_8, in_stack_fffffef8);
			}
			if (local_78 == 0)
				goto LAB_100d7b28;
			lVar20 = lVar20 + (ulonglong)local_78;
			if (local_be == 4) {
				local_64 = (float)unaff_r16;
				local_68 = (float)unaff_r15;
				if (local_7c != 0) {
					local_64 = (float)-(int)local_64;
					local_68 = (float)-((uint)(unaff_r16 != 0) + (int)(float)unaff_r15);
				}
			} else {
				unaff_r14 = unaff_r19;
				if (local_7c != 0) {
					unaff_r14 = -unaff_r19;
				}
			}
			fVar13 = (float)unaff_r14;
			if (local_b8 == 0) {
				if ((unaff_r23 & 0xffffffff) != 0) {
					if (local_be == 2) {
						*(short *)pdVar17 = (short)unaff_r14;
					} else {
						if (local_be < 2) {
							if (local_be == 0) {
								*(float *)pdVar17 = fVar13;
							} else {
								*(char *)pdVar17 = (char)unaff_r14;
							}
						} else {
							if (local_be == 4) {
								*(float *)((int)pdVar17 + 4) = local_64;
								*(float *)pdVar17 = local_68;
							} else {
								if (local_be < 4) {
									*(float *)pdVar17 = fVar13;
								}
							}
						}
					}
					local_5c = local_5c + 1;
				}
				goto LAB_100d68a8;
			}
			if (local_c0 == '\0')
				break;
			local_84[0] = FUN_100dbf44(lParm2, 0, 0);
			if (local_84[0] == 0xff) {
			LAB_100d6810:
				FUN_100dbf44(lParm2, local_84[0], 1);
				goto LAB_100d68a8;
			}
			unaff_r25 = unaff_r25 + 1;
			iVar9 = iVar9 + 4;
			iVar15 = iVar15 + 2;
			lVar16 = lVar16 + 1;
			if (local_b4 <= (int)unaff_r25)
				goto LAB_100d6810;
			uVar5 = countLeadingZeros(-local_a8);
			uVar18 = (uint)uVar5 >> 5;
			if (local_a8 != 0) {
				iVar19 = 0;
				while ((*(byte *)(iVar11 + (uint)local_84[0]) & 6) != 0) {
					local_84[0] = FUN_100dbf44(lParm2, 0, 1);
					lVar20 = lVar20 + 1;
				}
				do {
					if (local_84[0] == 0xff)
						break;
					uVar5 = countLeadingZeros((int)local_b0[iVar19] - (int)(char)local_84[0]);
					uVar18 = (uint)uVar5 >> 5;
					if (local_84[0] != local_b0[iVar19])
						break;
					local_84[0] = FUN_100dbf44(lParm2, 0, 0);
					iVar19 = iVar19 + 1;
					lVar20 = lVar20 + 1;
				} while (iVar19 < (int)local_a8);
			}
			if ((uVar18 == 0) || (local_84[0] == 0xff))
				goto LAB_100d68a8;
			while ((*(byte *)(iVar11 + (uint)local_84[0]) & 6) != 0) {
				local_84[0] = FUN_100dbf44(lParm2, 0, 0);
				lVar20 = lVar20 + 1;
			}
			FUN_100dbf44(lParm2, local_84[0], 1);
		}
		if (local_be == 2) {
			*(undefined2 *)(iVar4 + iVar15) = (short)unaff_r14;
		} else {
			if (local_be < 2) {
				if (local_be == 0) {
					*(undefined *)lVar16 = (char)unaff_r14;
				}
			} else {
				if (local_be < 4) {
					*(float *)(iVar4 + iVar9) = fVar13;
				}
			}
		}
		local_84[0] = FUN_100dbf44(lParm2, 0, 0);
		if (local_84[0] == 0xff) {
		LAB_100d6644:
			FUN_100dbf44(lParm2, local_84[0], 1);
		} else {
			unaff_r25 = unaff_r25 + 1;
			iVar9 = iVar9 + 4;
			iVar15 = iVar15 + 2;
			lVar16 = lVar16 + 1;
			if (local_b4 <= (int)unaff_r25)
				goto LAB_100d6644;
			uVar5 = countLeadingZeros(-local_a8);
			uVar18 = (uint)uVar5 >> 5;
			if (local_a8 != 0) {
				iVar19 = 0;
				while ((*(byte *)(iVar11 + (uint)local_84[0]) & 6) != 0) {
					local_84[0] = FUN_100dbf44(lParm2, 0, 1);
					lVar20 = lVar20 + 1;
				}
				do {
					if (local_84[0] == 0xff)
						break;
					uVar5 = countLeadingZeros((int)local_b0[iVar19] - (int)(char)local_84[0]);
					uVar18 = (uint)uVar5 >> 5;
					if (local_84[0] != local_b0[iVar19])
						break;
					local_84[0] = FUN_100dbf44(lParm2, 0, 0);
					iVar19 = iVar19 + 1;
					lVar20 = lVar20 + 1;
				} while (iVar19 < (int)local_a8);
			}
			if ((uVar18 != 0) && (local_84[0] != 0xff)) {
				while ((*(byte *)(iVar11 + (uint)local_84[0]) & 6) != 0) {
					local_84[0] = FUN_100dbf44(lParm2, 0, 0);
					lVar20 = lVar20 + 1;
				}
				FUN_100dbf44(lParm2, local_84[0], 1);
				goto LAB_100d63bc;
			}
		}
		puVar3 = (undefined4 *)*param_11;
		*puVar3 = local_d4;
		puVar3[1] = local_d0;
		puVar3[2] = local_cc;
		puVar3[3] = local_c8;
		local_5c = local_5c + 1;
		param_11 = param_11 + 1;
	LAB_100d68a8:
		local_60 = local_60 + 1;
	} while (true);
}

undefined8
FUN_100d7c04(char *param_1, undefined8 param_2, undefined8 param_3, undefined param_4, undefined param_5, undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined8 uVar1;
	char *local_8;
	undefined4 local_4;

	if ((param_1 == (char *)0x0) || (*param_1 == '\0')) {
		uVar1 = 0xffffffffffffffff;
	} else {
		local_4 = 0;
		local_8 = param_1;
		uVar1 = FUN_100d60d8((ulonglong)_DAT_100f21b4, &local_8, param_2, param_3, param_5, param_6, param_7,
		    param_8);
	}
	return uVar1;
}

void FUN_100d7c60(char *param_1, uint param_2, undefined4 param_3, undefined4 param_4,
    undefined4 param_5, undefined4 param_6, undefined4 param_7, undefined4 param_8,
    undefined4 param_9, undefined param_10, undefined4 param_11, undefined4 param_12,
    undefined4 param_13, undefined4 param_14, undefined4 param_15, undefined4 param_16,
    undefined4 param_17)

{
	undefined4 in_stack_ffffffc8;

	FUN_100d7c04(param_1, (ulonglong)param_2, ZEXT48(register0x0000000c) + 0x20, (undefined)param_4,
	    (undefined)param_5, (undefined)param_6, (undefined)param_7, (undefined)param_8,
	    in_stack_ffffffc8);
	return;
}

char *strchr(int param_1, char param_2)

{
	char *pcVar1;

	pcVar1 = (char *)(param_1 + -1);
	while (true) {
		pcVar1 = pcVar1 + 1;
		if (*pcVar1 == '\0')
			break;
		if (*pcVar1 == param_2) {
			return pcVar1;
		}
	}
	if (param_2 == '\0') {
		return pcVar1;
	}
	return (char *)0x0;
}

byte *FUN_100d7da8(int param_1, int param_2)

{
	byte bVar1;
	byte *pbVar2;
	byte local_20[32];

	pbVar2 = (byte *)(param_2 + -1);
	while (true) {
		pbVar2 = pbVar2 + 1;
		bVar1 = *pbVar2;
		if (bVar1 == 0)
			break;
		local_20[(int)(uint)bVar1 >> 3] = local_20[(int)(uint)bVar1 >> 3] | (byte)(1 << (ulonglong)((uint)bVar1 & 7));
	}
	pbVar2 = (byte *)(param_1 + -1);
	do {
		pbVar2 = pbVar2 + 1;
		bVar1 = *pbVar2;
		if (bVar1 == 0) {
			return (byte *)0x0;
		}
	} while (((ulonglong)(uint)(1 << (ulonglong)((uint)bVar1 & 7)) & (ulonglong)local_20[(int)(uint)bVar1 >> 3]) == 0);
	return pbVar2;
}

char *FUN_100d7e60(int param_1, char *param_2)

{
	char *pcVar1;
	char *pcVar2;
	char *pcVar3;

	if (param_2 == (char *)0x0) {
		return (char *)param_1;
	}
	pcVar1 = (char *)(param_1 + -1);
	if (*param_2 == '\0') {
		return (char *)param_1;
	}
	do {
		do {
			pcVar2 = pcVar1;
			pcVar1 = pcVar2 + 1;
			if (*pcVar1 == '\0') {
				return (char *)0x0;
			}
		} while (*pcVar1 != *param_2);
		pcVar3 = param_2 + -1;
		do {
			pcVar2 = pcVar2 + 1;
			pcVar3 = pcVar3 + 1;
			if (*pcVar2 != *pcVar3)
				break;
		} while (*pcVar2 != '\0');
		if (*pcVar3 == '\0') {
			return pcVar1;
		}
	} while (true);
}

double FUN_100d7ecc(int param_1, undefined8 param_2, undefined8 param_3, int *param_4, int *param_5,
    undefined param_6, undefined param_7, char param_8, undefined4 param_9)

{
	longlong lVar1;
	byte bVar2;
	byte bVar3;
	char cVar4;
	undefined4 uVar5;
	int iVar6;
	int iVar7;
	bool bVar8;
	bool bVar9;
	double *pdVar10;
	byte **ppbVar11;
	undefined4 *puVar12;
	longlong lVar13;
	uint uVar14;
	undefined uVar15;
	longlong lVar16;
	undefined uVar17;
	longlong lVar18;
	undefined uVar19;
	ulonglong uVar20;
	undefined uVar21;
	ulonglong uVar22;
	undefined uVar23;
	longlong lVar24;
	undefined uVar25;
	undefined8 unaff_r16;
	undefined8 unaff_r17;
	undefined8 unaff_r18;
	undefined8 unaff_r19;
	undefined8 unaff_r20;
	undefined8 unaff_r21;
	undefined8 unaff_r22;
	undefined8 unaff_r23;
	uint uVar26;
	undefined8 unaff_r24;
	undefined8 unaff_r25;
	longlong lVar27;
	undefined8 unaff_r26;
	longlong lVar28;
	int iVar29;
	undefined8 unaff_r27;
	undefined8 unaff_r28;
	undefined8 unaff_r29;
	undefined8 unaff_r30;
	int iVar30;
	undefined8 unaff_r31;
	ulonglong uVar31;
	uint uVar32;
	double dVar33;
	undefined auStack115[51];
	undefined4 local_40;
	undefined4 uStack60;
	undefined4 uStack56;
	undefined4 uStack52;
	undefined4 uStack48;
	undefined4 uStack44;
	undefined4 uStack40;
	undefined4 uStack36;
	undefined4 uStack32;
	undefined4 uStack28;
	undefined4 uStack24;
	undefined4 uStack20;
	undefined4 uStack16;
	undefined4 uStack12;
	undefined4 uStack8;
	undefined4 uStack4;

	puVar12 = _DAT_100f3c24;
	ppbVar11 = _DAT_100f21c4;
	lVar24 = (longlong)param_8;
	lVar18 = (longlong)(int)param_5;
	lVar16 = (longlong)(int)param_4;
	local_40 = (undefined4)((ulonglong)unaff_r16 >> 0x20);
	uStack60 = (undefined4)((ulonglong)unaff_r17 >> 0x20);
	uStack56 = (undefined4)((ulonglong)unaff_r18 >> 0x20);
	uStack52 = (undefined4)((ulonglong)unaff_r19 >> 0x20);
	uStack48 = (undefined4)((ulonglong)unaff_r20 >> 0x20);
	uStack44 = (undefined4)((ulonglong)unaff_r21 >> 0x20);
	uStack40 = (undefined4)((ulonglong)unaff_r22 >> 0x20);
	uStack36 = (undefined4)((ulonglong)unaff_r23 >> 0x20);
	uStack32 = (undefined4)((ulonglong)unaff_r24 >> 0x20);
	uStack28 = (undefined4)((ulonglong)unaff_r25 >> 0x20);
	uStack24 = (undefined4)((ulonglong)unaff_r26 >> 0x20);
	uStack20 = (undefined4)((ulonglong)unaff_r27 >> 0x20);
	uStack16 = (undefined4)((ulonglong)unaff_r28 >> 0x20);
	uStack12 = (undefined4)((ulonglong)unaff_r29 >> 0x20);
	uStack8 = (undefined4)((ulonglong)unaff_r30 >> 0x20);
	uStack4 = (undefined4)((ulonglong)unaff_r31 >> 0x20);
	uVar20 = ZEXT48(_DAT_100f3c24);
	lVar1 = ZEXT48(register0x0000000c) - 0xb0;
	iVar7 = (int)lVar1;
	*(BADSPACEBASE **)iVar7 = register0x0000000c;
	uVar22 = ZEXT48(*ppbVar11);
	bVar2 = **ppbVar11;
	uVar5 = puVar12[1];
	*(undefined4 *)(iVar7 + 0x38) = *puVar12;
	*(undefined4 *)(iVar7 + 0x3c) = uVar5;
	uVar5 = puVar12[3];
	*(undefined4 *)(iVar7 + 0x40) = puVar12[2];
	*(undefined4 *)(iVar7 + 0x44) = uVar5;
	pdVar10 = _DAT_100f21c0;
	uVar5 = puVar12[5];
	*(undefined4 *)(iVar7 + 0x48) = puVar12[4];
	*(undefined4 *)(iVar7 + 0x4c) = uVar5;
	iVar6 = _DAT_100f1a6c;
	uVar5 = puVar12[7];
	*(undefined4 *)(iVar7 + 0x50) = puVar12[6];
	*(undefined4 *)(iVar7 + 0x54) = uVar5;
	uVar5 = puVar12[9];
	*(undefined4 *)(iVar7 + 0x58) = puVar12[8];
	*(undefined4 *)(iVar7 + 0x5c) = uVar5;
	*(undefined2 *)(iVar7 + 0x60) = *(undefined2 *)(puVar12 + 10);
	*param_5 = 0;
	uVar31 = 1;
	iVar29 = 0;
	bVar9 = false;
	bVar8 = false;
	lVar28 = 0;
	lVar27 = 0;
	iVar30 = 1;
	lVar13 = FUN_100dbf44(param_3, 0, 0);
	while (true) {
		uVar25 = (undefined)lVar24;
		uVar23 = (undefined)uVar22;
		uVar21 = (undefined)uVar20;
		uVar19 = (undefined)lVar18;
		uVar17 = (undefined)lVar16;
		if (((param_1 < iVar30) || (uVar14 = (uint)lVar13, uVar14 == 0xffffffff)) || (uVar32 = (uint)uVar31, (uVar31 & 0x1800) != 0))
			break;
		if (uVar32 == 0x20) {
			if ((*(byte *)(iVar6 + (uVar14 & 0xff)) & 0x10) == 0) {
				uVar31 = 0x40;
			} else {
				if (*(byte *)(iVar7 + 0x3c) < 0x14) {
					if ((uVar14 != 0x30) || (*(byte *)(iVar7 + 0x3c) != 0)) {
						bVar3 = *(byte *)(iVar7 + 0x3c);
						*(char *)(iVar7 + 0x3c) = bVar3 + 1;
						(&stack0xffffff88)[(uint)bVar3 + 5] = (char)lVar13;
					}
					lVar27 = lVar27 + -1;
				}
				iVar30 = iVar30 + 1;
				lVar13 = FUN_100dbf44(param_3, 0, 0);
			}
		} else {
			if (uVar32 < 0x20) {
				if (uVar32 == 4) {
					if (uVar14 == 0x30) {
						iVar30 = iVar30 + 1;
						lVar13 = FUN_100dbf44(param_3, 0, 0);
					} else {
						uVar31 = 8;
					}
				} else {
					uVar26 = (uint)bVar2;
					if (uVar32 < 4) {
						if (uVar32 == 2) {
							if (uVar14 == uVar26) {
								uVar31 = 0x10;
								iVar30 = iVar30 + 1;
								lVar13 = FUN_100dbf44(param_3, 0, 0);
							} else {
								if ((*(byte *)(iVar6 + (uVar14 & 0xff)) & 0x10) == 0) {
									uVar31 = 0x1000;
								} else {
									if (uVar14 == 0x30) {
										uVar31 = 4;
										iVar30 = iVar30 + 1;
										lVar13 = FUN_100dbf44(param_3, 0, 0);
									} else {
										uVar31 = 8;
									}
								}
							}
						} else {
							if ((uVar32 < 2) && (uVar32 != 0)) {
								if ((*(byte *)(iVar6 + (uVar14 & 0xff)) & 6) == 0) {
									if (uVar14 == 0x2b) {
										iVar30 = iVar30 + 1;
										lVar13 = FUN_100dbf44(param_3, 0, 0);
									} else {
										if (uVar14 == 0x2d) {
											iVar30 = iVar30 + 1;
											lVar13 = FUN_100dbf44(param_3, 0, 0);
											bVar9 = true;
										}
									}
									uVar31 = 2;
								} else {
									lVar13 = FUN_100dbf44(param_3, 0, 0);
									iVar29 = iVar29 + 1;
								}
							}
						}
					} else {
						if (uVar32 == 0x10) {
							if ((*(byte *)(iVar6 + (uVar14 & 0xff)) & 0x10) == 0) {
								uVar31 = 0x1000;
							} else {
								uVar31 = 0x20;
							}
						} else {
							if ((uVar32 < 0x10) && (uVar32 == 8)) {
								if ((*(byte *)(iVar6 + (uVar14 & 0xff)) & 0x10) == 0) {
									if (uVar14 == uVar26) {
										uVar31 = 0x20;
										iVar30 = iVar30 + 1;
										lVar13 = FUN_100dbf44(param_3, 0, 0);
									} else {
										uVar31 = 0x40;
									}
								} else {
									bVar3 = *(byte *)(iVar7 + 0x3c);
									if (bVar3 < 0x14) {
										*(char *)(iVar7 + 0x3c) = bVar3 + 1;
										(&stack0xffffff88)[(uint)bVar3 + 5] = (char)(uVar14 & 0xff);
									} else {
										lVar27 = lVar27 + 1;
									}
									iVar30 = iVar30 + 1;
									lVar13 = FUN_100dbf44(param_3, 0, 0);
								}
							}
						}
					}
				}
			} else {
				if (uVar32 == 0x100) {
					if ((*(byte *)(iVar6 + (uVar14 & 0xff)) & 0x10) == 0) {
						uVar31 = 0x1000;
					} else {
						if (uVar14 == 0x30) {
							uVar31 = 0x200;
							iVar30 = iVar30 + 1;
							lVar13 = FUN_100dbf44(param_3, 0, 0);
						} else {
							uVar31 = 0x400;
						}
					}
				} else {
					if (uVar32 < 0x100) {
						if (uVar32 == 0x80) {
							if (uVar14 == 0x2b) {
								iVar30 = iVar30 + 1;
								lVar13 = FUN_100dbf44(param_3, 0, 0);
							} else {
								if (uVar14 == 0x2d) {
									iVar30 = iVar30 + 1;
									lVar13 = FUN_100dbf44(param_3, 0, 0);
									bVar8 = true;
								}
							}
							uVar31 = 0x100;
						} else {
							if ((uVar32 < 0x80) && (uVar32 == 0x40)) {
								if ((uVar14 == 0x45) || (uVar14 == 0x65)) {
									uVar31 = 0x80;
									iVar30 = iVar30 + 1;
									lVar13 = FUN_100dbf44(param_3, 0, 0);
								} else {
									uVar31 = 0x800;
								}
							}
						}
					} else {
						if (uVar32 == 0x400) {
							if ((*(byte *)(iVar6 + (uVar14 & 0xff)) & 0x10) == 0) {
								uVar31 = 0x800;
							} else {
								lVar28 = lVar13 + lVar28 * 10 + -0x30;
								if (0x7fff < (int)lVar28) {
									*param_5 = 1;
								}
								iVar30 = iVar30 + 1;
								lVar13 = FUN_100dbf44(param_3, 0, 0);
							}
						} else {
							if ((uVar32 < 0x400) && (uVar32 == 0x200)) {
								if (uVar14 == 0x30) {
									iVar30 = iVar30 + 1;
									lVar13 = FUN_100dbf44(param_3, 0, 0);
								} else {
									uVar31 = 0x400;
								}
							}
						}
					}
				}
			}
		}
	}
	if ((uVar31 & 0xe2c) == 0) {
		*param_4 = 0;
	} else {
		*param_4 = iVar30 + iVar29 + -1;
	}
	uVar15 = 1;
	FUN_100dbf44(param_3);
	iVar6 = *(int *)(iVar7 + 0x14);
	if (bVar8) {
		lVar28 = -lVar28;
	}
	lVar13 = lVar1 + (ulonglong) * (byte *)(iVar7 + 0x3c) + 0x3d;
	uVar20 = (ulonglong) * (byte *)(iVar7 + 0x3c);
	while (((int)uVar20 != 0 && (lVar13 = lVar13 + -1, *(char *)lVar13 == '0'))) {
		lVar27 = lVar27 + 1;
		uVar20 = uVar20 - 1;
	}
	*(undefined *)(iVar7 + 0x3c) = (char)uVar20;
	cVar4 = *(char *)(iVar7 + 0x3c);
	if (cVar4 == '\0') {
		*(undefined *)(iVar7 + 0x3c) = 1;
		*(undefined *)(iVar7 + 0x3d) = 0x30;
	}
	iVar29 = (int)(lVar28 + lVar27);
	if ((iVar29 < -0x8000) || (0x7fff < iVar29)) {
		*param_5 = 1;
	}
	if (*param_5 == 0) {
		*(undefined2 *)(iVar7 + 0x3a) = (short)(lVar28 + lVar27);
		dVar33 = (double)dec2num((char)lVar1 + '8', cVar4, uVar15, uVar17, uVar19, uVar21, uVar23, uVar25,
		    *(undefined *)(iVar7 + 0xb), *(undefined *)(iVar7 + 0xf),
		    *(undefined4 *)(iVar7 + 0x14));
		iVar7 = *(int *)(iVar7 + 0x14);
		if ((*(double *)(iVar7 + -0x48e0) == dVar33) || (**(double **)(iVar7 + -0x6e14) <= dVar33)) {
			if (**(double **)(iVar7 + -0x6e18) < dVar33) {
				*param_5 = 1;
				dVar33 = *pdVar10;
			}
		} else {
			*param_5 = 1;
			dVar33 = *(double *)(iVar7 + -0x48d8);
		}
		if (bVar9) {
			dVar33 = (double)((ulonglong)dVar33 & 0x7fffffffffffffff | ~(ulonglong)dVar33 & 0x8000000000000000);
		}
	} else {
		if (bVar8) {
			dVar33 = *(double *)(iVar6 + -0x48d8);
		} else {
			if (bVar9) {
				dVar33 = (double)((ulonglong)*pdVar10 & 0x7fffffffffffffff | ~(ulonglong)*pdVar10 & 0x8000000000000000);
			} else {
				dVar33 = *pdVar10;
			}
		}
	}
	return dVar33;
}

// WARNING: Removing unreachable block (ram,0x100d888c)

undefined8
FUN_100d858c(longlong param_1, int param_2, undefined8 param_3, undefined8 param_4, int *param_5,
    undefined4 *param_6, undefined4 *param_7, undefined param_8, undefined4 param_9)

{
	undefined8 uVar1;
	undefined8 unaff_r19;
	uint uVar2;
	int iVar3;
	undefined **local_5c;

	*param_7 = 0;
	*param_6 = 0;
	uVar2 = 1;
	iVar3 = 0;
	if ((((param_1 < 0) || ((int)param_1 == 1)) || (0x24 < (int)param_1)) || (param_2 < 1)) {
		uVar2 = 0x40;
		local_5c = &toc;
	} else {
		iVar3 = 1;
		unaff_r19 = FUN_100dbf44(param_4, 0, 0);
	}
	while (((iVar3 <= param_2 && ((int)unaff_r19 != -1)) && ((uVar2 & 0x60) == 0))) {
		if (uVar2 < 0x11) {
			// WARNING: Could not recover jumptable at 0x100d8648. Too many branches
			// WARNING: Treating indirect jump as call
			uVar1 = (**(code **)(local_5c[-0x14e9] + uVar2 * 4))();
			return uVar1;
		}
	}
	*param_5 = 0;
	FUN_100dbf44(param_4, unaff_r19, 1);
	return 0;
}

// WARNING: Removing unreachable block (ram,0x100d8c44)

undefined8
FUN_100d88c4(ulonglong param_1, int param_2, ulonglong param_3, undefined8 param_4, undefined8 param_5,
    ulonglong param_6, undefined4 *param_7, undefined param_8, undefined4 param_9)

{
	ulonglong uVar1;
	undefined8 uVar2;
	undefined8 unaff_r20;
	int iVar3;
	uint uVar4;
	int iVar5;
	uint local_6c;

	uVar1 = ZEXT48(&toc);
	*param_7 = 0;
	*(undefined4 *)param_6 = 0;
	uVar4 = 1;
	iVar3 = 0;
	iVar5 = (int)param_1;
	if (((((longlong)param_1 < 0) || (iVar5 == 1)) || (0x24 < iVar5)) || (param_2 < 1)) {
		uVar4 = 0x40;
		uVar2 = param_5;
	} else {
		iVar3 = 1;
		param_3 = 0;
		uVar2 = param_5;
		unaff_r20 = FUN_100dbf44(param_4, 0);
		uVar1 = (ulonglong)local_6c;
	}
	if (iVar5 != 0) {
		FUN_100001dc(0xffffffffffffffff, 0xffffffffffffffff,
		    param_3 & 0xffffffff00000000 | (ulonglong)(uint)(iVar5 >> 0x1f), param_1, uVar2,
		    param_6);
	}
	while (((iVar3 <= param_2 && ((int)unaff_r20 != -1)) && ((uVar4 & 0x60) == 0))) {
		if (uVar4 < 0x11) {
			// WARNING: Could not recover jumptable at 0x100d899c. Too many branches
			// WARNING: Treating indirect jump as call
			uVar2 = (**(code **)(*(int *)((int)uVar1 + -0x53a8) + uVar4 * 4))();
			return uVar2;
		}
	}
	*(undefined4 *)param_5 = 0;
	FUN_100dbf44(param_4, unaff_r20, 1);
	return 0;
}

longlong FUN_100d8c80(int param_1, int *param_2, longlong param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined **ppuVar1;
	longlong lVar2;
	undefined4 in_stack_ffffffa8;
	int local_20;
	int local_1c;
	int local_18[6];

	ppuVar1 = &toc;
	lVar2 = FUN_100d858c(param_3, 0x7fffffff, (ulonglong)_DAT_100f21b4, ZEXT48(register0x0000000c) - 0x28, local_18, &local_1c, &local_20, param_8, in_stack_ffffffa8);
	if (param_2 != (int *)0x0) {
		*param_2 = param_1 + local_18[0];
	}
	if (local_20 == 0) {
		if (local_1c != 0) {
			lVar2 = -lVar2;
		}
	} else {
		*(undefined4 *)ppuVar1[-0x1b82] = 0x22;
		lVar2 = -1;
	}
	return lVar2;
}

ulonglong FUN_100d8d28(int param_1, int *param_2, longlong param_3, undefined param_4, undefined param_5, undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	undefined **ppuVar1;
	ulonglong uVar2;
	undefined4 in_stack_ffffffa8;
	int local_20;
	int local_1c;
	int local_18[6];

	ppuVar1 = &toc;
	uVar2 = FUN_100d858c(param_3, 0x7fffffff, (ulonglong)_DAT_100f21b4, ZEXT48(register0x0000000c) - 0x28, local_18, &local_1c, &local_20, param_8, in_stack_ffffffa8);
	if (param_2 != (int *)0x0) {
		*param_2 = param_1 + local_18[0];
	}
	if (((local_20 == 0) && ((local_1c != 0 || ((uVar2 & 0xffffffff) < 0x80000000)))) && ((local_1c == 0 || ((uVar2 & 0xffffffff) < 0x80000001)))) {
		if (local_1c != 0) {
			uVar2 = -uVar2;
		}
	} else {
		if (local_1c == 0) {
			uVar2 = 0xffffffff7fffffff;
		} else {
			uVar2 = 0xffffffff80000000;
		}
		*(undefined4 *)ppuVar1[-0x1b82] = 0x22;
	}
	return uVar2;
}

undefined8
FUN_100d8e3c(int param_1, undefined param_2, undefined param_3, undefined param_4, undefined param_5,
    undefined param_6, undefined param_7, undefined param_8, undefined4 param_9)

{
	bool bVar1;
	longlong lVar2;
	undefined8 uVar3;

	uVar3 = 0;
	lVar2 = FUN_100d3428(param_1, 4);
	if ((int)lVar2 == 0) {
		bVar1 = true;
		lVar2 = FUN_100d3428(param_1, 100);
		if (((int)lVar2 == 0) && (lVar2 = FUN_100d3428(param_1, 400), (int)lVar2 != 100)) {
			bVar1 = false;
		}
		if (bVar1) {
			uVar3 = 1;
		}
	}
	return uVar3;
}

void FUN_100d8ec8(uint param_1, uint *param_2, undefined param_3, undefined param_4, undefined param_5,
    char param_6, char param_7, char param_8, undefined4 param_9)

{
	short sVar1;
	uint uVar2;
	ulonglong uVar3;
	ulonglong uVar4;
	undefined8 uVar5;
	longlong lVar6;
	longlong lVar7;
	longlong lVar8;
	longlong lVar9;
	undefined8 uVar10;
	ulonglong uVar11;
	longlong lVar12;
	ulonglong uVar13;
	ulonglong uVar14;
	uint uVar15;
	uint uVar16;
	undefined4 in_stack_ffffffb8;

	lVar12 = (longlong)param_8;
	lVar8 = (longlong)param_7;
	lVar6 = (longlong)param_6;
	uVar4 = ZEXT48(&toc);
	if (param_2 != (uint *)0x0) {
		uVar15 = (uint)(((longlong)(int)param_1 & 0xffffffffU) * 0xc22e4507 >> 0x30);
		uVar11 = (ulonglong)uVar15;
		lVar9 = uVar11 + 1;
		uVar4._4_4_ = (int)((ulonglong)(lVar9 * 0x24924925) >> 0x20);
		lVar7 = (longlong)(int)uVar15 * 0x15180;
		uVar10 = 0xffffffffffffffff;
		param_2[8] = 0xffffffff;
		param_2[6] = (int)lVar9 + (((uint)((int)lVar9 - uVar4._4_4_) >> 1) + uVar4._4_4_ >> 2) * -7;
		uVar13 = (longlong)(int)param_1 + (longlong)(int)uVar15 * -0x15180;
		uVar15 = 0;
		uVar14 = uVar11;
		while (true) {
			uVar5 = FUN_100d8e3c(uVar15, (char)lVar7, (char)lVar9, (char)uVar10, (char)uVar11, (char)lVar6,
			    (char)lVar8, (char)lVar12, in_stack_ffffffb8);
			uVar4._4_4_ = (int)uVar4;
			if ((int)uVar5 == 0) {
				uVar3 = 0x16d;
			} else {
				uVar3 = 0x16e;
			}
			if ((uVar14 & 0xffffffff) < uVar3)
				break;
			uVar14 = uVar14 - uVar3;
			uVar15 = uVar15 + 1;
		}
		param_2[5] = uVar15;
		param_2[7] = (uint)uVar14;
		uVar16 = 0;
		lVar6 = FUN_100d8e3c(uVar15, (char)lVar7, (char)lVar9, (char)uVar10, (char)uVar11, (char)lVar6,
		    (char)lVar8, (char)lVar12, in_stack_ffffffb8);
		lVar8 = (ulonglong) * (uint *)(uVar4._4_4_ + -0x6e04) + lVar6 * 0x1a;
		lVar6 = lVar8;
		while (((longlong) * (short *)((int)lVar6 + 2) & 0xffffffffU) <= (uVar14 & 0xffffffff)) {
			lVar6 = lVar6 + 2;
			uVar16 = uVar16 + 1;
		}
		sVar1 = *(short *)((int)lVar8 + uVar16 * 2);
		uVar15 = (uint)((uVar13 & 0xffffffff) * 0x91a2b3c5 >> 0x2b);
		uVar13 = uVar13 + (ulonglong)uVar15 * -0xe10;
		uVar2 = (uint)((uVar13 & 0xffffffff) * 0x88888889 >> 0x25);
		param_2[4] = uVar16;
		param_2[3] = ((uint)uVar14 - (int)sVar1) + 1;
		param_2[2] = uVar15;
		param_2[1] = uVar2;
		*param_2 = (int)uVar13 + uVar2 * -0x3c;
	}
	return;
}

void FUN_100d902c(undefined4 *param_1)

{
	*param_1 = 0;
	param_1[1] = 0;
	param_1[2] = 0;
	param_1[3] = 1;
	param_1[4] = 0;
	param_1[5] = 0;
	param_1[6] = 1;
	param_1[7] = 0;
	param_1[8] = 0xffffffff;
	return;
}

void FUN_100d9060(undefined4 *param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	longlong lVar1;
	undefined4 in_stack_ffffffc8;

	lVar1 = FUN_100d90e4((char)param_1, param_2, param_3, param_4, param_5, param_6, param_7, param_8,
	    in_stack_ffffffc8);
	if (param_1 != (undefined4 *)0x0) {
		*param_1 = (int)lVar1;
	}
	return;
}

ulonglong FUN_100d9098(uint *param_1, undefined param_2, undefined param_3, undefined param_4,
    undefined param_5, undefined param_6, undefined param_7, undefined param_8,
    undefined4 param_9)

{
	ulonglong uVar1;
	undefined4 in_stack_ffffffc8;

	uVar1 = ZEXT48(_DAT_100f3c30);
	if (param_1 == (uint *)0x0) {
		FUN_100d902c(_DAT_100f3c30);
	} else {
		FUN_100d8ec8(*param_1, _DAT_100f3c30, param_3, param_4, param_5, param_6, param_7, param_8,
		    in_stack_ffffffc8);
	}
	return uVar1;
}

undefined8 FUN_100d9118(undefined4 param_1)

{
	int iVar1;

	if (_DAT_100f4704 == 0x40) {
		return 0xffffffffffffffff;
	}
	iVar1 = _DAT_100f4704 * 4;
	_DAT_100f4704 = _DAT_100f4704 + 1;
	*(undefined4 *)(_DAT_100f3c38 + iVar1) = param_1;
	return 0;
}
